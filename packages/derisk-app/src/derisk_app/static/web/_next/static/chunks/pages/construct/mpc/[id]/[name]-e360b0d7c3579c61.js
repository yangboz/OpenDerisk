(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3524],{83859:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/construct/mpc/[id]/[name]",function(){return s(34895)}])},34895:function(e,l,s){"use strict";s.r(l);var a=s(52676),n=s(21011),i=s(59864),t=s(4093),d=s(57707),r=s(98628),c=s(65673),o=s(97344),u=s(92344),m=s(42625),x=s(99113),v=s(54226),h=s(42673),f=s(94634),p=s(72423),j=s(62601),g=s(21104),b=s(41148),N=s(82187),w=s.n(N),y=s(13250),Z=s(75271),_=s(78490);s(16013);let k=[{label:"Tools",value:"Tools"}];l.default=()=>{var e,l,s,N,T;let P=(0,y.useRouter)(),{mode:C}=(0,Z.useContext)(n.p),{t:S}=(0,_.$G)(),[E,O]=(0,Z.useState)("Tools"),[q,H]=(0,Z.useState)("HTTP"),[V,z]=(0,Z.useState)({}),[F,R]=(0,Z.useState)(""),[W,I]=(0,Z.useState)(""),[J,K]=(0,Z.useState)([]),X="dark"===C?u.R:m.K,B=P.query,[D]=v.Z.useForm(),{loading:G,run:L,data:M}=(0,x.Z)(async e=>await (0,i.Vx)((0,i.Od)(e)),{manual:!0,onSuccess:e=>{let[,,l]=e;if((null==l?void 0:l.success)&&(h.ZP.success(S("success")),(null==l?void 0:l.data)!==null&&"object"==typeof(null==l?void 0:l.data)))try{I(JSON.stringify(l)||"")}catch(e){console.log(e),I("")}},debounceWait:300}),{loading:$}=(0,x.Z)(async()=>await (0,i.Vx)((0,i.Lz)({name:B.name})),{manual:!1,onSuccess:e=>{let[,l]=e;z(l||{})},debounceWait:300}),{loading:A,run:Q}=(0,x.Z)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:B.name};return await (0,i.Vx)((0,i.Jv)(e))},{manual:!1,onSuccess:e=>{let[,,l]=e;(null==l?void 0:l.data)&&K((null==l?void 0:l.data)||[])},debounceWait:300}),U=async()=>{let e={};return await D.validateFields().then(l=>{e=l}).catch(()=>{e=!1}),e},Y=async e=>{e!==F&&(R(e),await U())},ee=async()=>{await Q({name:null==B?void 0:B.name})},el=async()=>{if(!F)return h.ZP.warning(S("please_select_mcp"));let e=await U();if(!e){h.ZP.error(S("form_required"));return}await L({name:null==B?void 0:B.name,params:{name:F,arguments:{...e}}})},es=(0,Z.useMemo)(()=>{var e;return(null===(e=null==J?void 0:J.find(e=>(null==e?void 0:e.name)===F))||void 0===e?void 0:e.param_schema)||{}},[F]);return(0,a.jsx)(f.Z,{spinning:A||G||$,children:(0,a.jsxs)("div",{className:"page-body p-4 md:p-6 h-[90vh] overflow-auto",children:[(0,a.jsxs)("header",{className:"mb-8 pb-6 border-b",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("div",{className:"relative h-8 w-8 overflow-hidden rounded-full",children:(null==V?void 0:V.icon)?(0,a.jsx)("img",{decoding:"async","data-nimg":"fill",className:"object-contain",src:null==V?void 0:V.icon,style:{position:"absolute",height:"100%",width:"100%",inset:"0px",color:"transparent"}}):(0,a.jsx)("span",{style:{borderRadius:"50%",lineHeight:"27px"},className:"inline-block w-[32px] h-[32px] text-white text-center rounded-full",children:(0,a.jsx)("span",{className:"ant-avatar-string text-[10px]",children:"derisk22"})})}),(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight break-words",children:null==V?void 0:V.name})]}),(0,a.jsx)("p",{className:"text-base md:text-lg text-muted-foreground max-w-prose",children:null==V?void 0:V.description})]}),(0,a.jsx)("div",{className:"mb-3 flex flex-nowrap",children:(0,a.jsx)(p.default,{size:"large",addonBefore:(0,a.jsx)(j.default,{placeholder:q,style:{width:150},value:q,options:[{label:"HTTP",value:"HTTP"}],onChange:e=>H(e)}),value:null==V?void 0:V.sse_url,disabled:!0})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 md:gap-8",children:[(0,a.jsx)("div",{className:"md:col-span-3",children:(0,a.jsxs)(g.Z,{dir:"ltr","data-orientation":"horizontal",className:"w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1 flex-wrap",children:[(0,a.jsx)(c.Z,{value:E,exclusive:!0,onChange:(e,l)=>{if(console.log(e),l===E||!l)return!1;O(l)},"aria-label":"text alignment",className:"p-1 h-12  ",children:null==k?void 0:k.map(e=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.Z,{className:"border-0 rounded-[6px] ".concat("light"===C?"text-black":"text-white"),value:null==e?void 0:e.value,children:null==e?void 0:e.label})}))}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(b.ZP,{type:"text",icon:(0,a.jsx)(t.Z,{className:"text-2xl",onClick:ee})})})]}),(0,a.jsx)("div",{className:"ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 mt-6",children:(0,a.jsx)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm overflow-hidden",children:"Tools"===E&&(0,a.jsx)("div",{className:"p-5 pt-6 space-y-8",children:null==J?void 0:J.map((e,l)=>(0,a.jsxs)("div",{onClick:()=>Y(null==e?void 0:e.name),className:"cursor-pointer hover:text-[#0069fe] transition-all",children:[(0,a.jsx)("h2",{className:"text-xl md:text-2xl font-semibold mb-4 ",children:e.name}),(0,a.jsx)("ul",{children:(0,a.jsxs)("li",{className:"flex items-start gap-3 py-1 list-disc",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full  mt-2 shrink-0",style:{backgroundColor:F===(null==e?void 0:e.name)?"#0069fe":"#000000"}}),(0,a.jsx)("span",{className:"text-sm md:text-base",children:null==e?void 0:e.description})]})})]},l))})})})]})}),(0,a.jsxs)("div",{className:"space-y-6 md:col-span-2",children:[(0,a.jsx)(g.Z,{title:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-1",children:S("parameter_name")}),(0,a.jsx)("div",{className:"flex-1",children:S("parameter_value")})]}),children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsxs)(v.Z,{className:"font-[400]",style:{width:"100%"},form:D,children:[null===(e=Object.keys(es||{}))||void 0===e?void 0:e.map((e,l)=>{var s,n,i,t;return(0,a.jsx)(v.Z.Item,{label:null==es?void 0:null===(s=es[e])||void 0===s?void 0:s.title,name:e,className:"w-full",rules:[{required:null==es?void 0:null===(n=es[e])||void 0===n?void 0:n.required,message:"".concat(S("please_enter")).concat(e)}],children:(0,a.jsx)("div",{className:"flex w-full",children:(0,a.jsx)(p.default,{className:"flex-1",placeholder:null==es?void 0:null===(i=es[e])||void 0===i?void 0:i.description,defaultValue:null==es?void 0:null===(t=es[e])||void 0===t?void 0:t.default})})},e+l)}),(0,a.jsx)(v.Z.Item,{children:(0,a.jsx)(b.ZP,{type:"primary",htmlType:"submit",className:"w-full",onClick:el,children:S("trial_run")})})]})})})}),(0,a.jsx)(g.Z,{title:(0,a.jsxs)("div",{className:"flex justify-between",children:[S("run_results")," ",(0,a.jsx)(b.ZP,{type:"text",icon:(0,a.jsx)(d.Z,{className:"text-[18px]"}),onClick:()=>{navigator.clipboard.writeText(W).then(()=>{h.ZP.success(S("success"))}).catch(e=>h.ZP.error(e))}})]}),children:(null==M?void 0:null===(l=M[3])||void 0===l?void 0:null===(s=l.data)||void 0===s?void 0:s.success)?(0,a.jsx)(o.ZP,{style:{...X,width:"100%",padding:10,overflow:"auto"},className:w()({"bg-[#fafafa]":"light"===C}),value:W,enableClipboard:!1,displayDataTypes:!1,objectSortKeys:!1}):(0,a.jsx)("div",{className:"text-red-500",children:null==M?void 0:null===(N=M[3])||void 0===N?void 0:null===(T=N.data)||void 0===T?void 0:T.err_msg})})]})]})]})})}},16013:function(){}},function(e){e.O(0,[1042,5867,2423,4634,6214,2601,4226,5711,2466,1104,4221,9774,2888,179],function(){return e(e.s=83859)}),_N_E=e.O()}]);