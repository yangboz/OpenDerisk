(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6515],{60609:function(e,l,n){"use strict";n.d(l,{F:function(){return s},Z:function(){return u}});var t=n(82187),a=n.n(t);function u(e,l,n){return a()({[`${e}-status-success`]:"success"===l,[`${e}-status-warning`]:"warning"===l,[`${e}-status-error`]:"error"===l,[`${e}-status-validating`]:"validating"===l,[`${e}-has-feedback`]:n})}let s=(e,l)=>l||e},12292:function(e,l,n){"use strict";var t=n(75271),a=n(13657),u=n(4692);l.Z=(e,l,n)=>{var s,i;let r;let{variant:c,[e]:o}=t.useContext(u.E_),d=t.useContext(a.pg),v=null==o?void 0:o.variant;r=void 0!==l?l:!1===n?"borderless":null!==(i=null!==(s=null!=d?d:v)&&void 0!==s?s:c)&&void 0!==i?i:"outlined";let f=u.tr.includes(r);return[r,f]}},45009:function(e,l,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/construct/app/extra/components/auto-plan/ResourceContent",function(){return n(41020)}])},41020:function(e,l,n){"use strict";n.r(l);var t=n(52676),a=n(59864),u=n(99113),s=n(54226),i=n(62601),r=n(13405),c=n(82187),o=n.n(c),d=n(75271),v=n(78490);l.default=e=>{let{uid:l,initValue:n,updateData:c,classNames:f,resourceTypeOptions:_,setCurIcon:m}=e,[p]=s.Z.useForm(),h=s.Z.useWatch("type",p),x=s.Z.useWatch("is_dynamic",p),w=s.Z.useWatch("value",p),{t:y}=(0,v.$G)(),Z=(0,d.useMemo)(()=>(null==_?void 0:_.filter(e=>"all"!==e.value))||[],[_]),{run:b,data:g,loading:j}=(0,u.Z)(async e=>{var l;let[,t]=await (0,a.Vx)((0,a.RX)({type:e}));return p.setFieldsValue({value:(null==n?void 0:n.value)||(null==t?void 0:null===(l=t[0])||void 0===l?void 0:l.key)}),t||[]},{manual:!0});(0,d.useEffect)(()=>{h&&b(h)},[b,h]);let k=(0,d.useMemo)(()=>(null==g?void 0:g.map(e=>({...e,label:e.label,value:e.key+""})))||[],[g]);return(0,d.useEffect)(()=>{let e=p.getFieldsValue(),n=(null==e?void 0:e.is_dynamic)?"":null==e?void 0:e.value;c({uid:l,...e,value:n})},[l,x,p,c,w,h]),(0,t.jsx)("div",{className:o()("flex flex-1",f),children:(0,t.jsxs)(s.Z,{style:{width:"100%"},form:p,labelCol:{span:4},initialValues:{...n},children:[(0,t.jsx)(s.Z.Item,{label:y("resource_type"),name:"type",children:(0,t.jsx)(i.default,{className:"w-2/5",options:Z,onChange:e=>{m({uid:l,icon:e})}})}),(0,t.jsx)(s.Z.Item,{label:y("resource_dynamic"),name:"is_dynamic",children:(0,t.jsx)(r.Z,{style:{background:x?"#1677ff":"#ccc"}})}),!x&&(0,t.jsxs)(t.Fragment,{children:[" ","image_file"===h||"internet"===h||["text_file","excel_file"].includes(h)?null:(0,t.jsx)(s.Z.Item,{label:y("resource_value"),name:"value",required:!0,children:(0,t.jsx)(i.default,{placeholder:y("please_select_param"),options:k,loading:j,className:"w-3/5",allowClear:!0})})]})]})})}}},function(e){e.O(0,[5867,2601,4226,8682,9774,2888,179],function(){return e(e.s=45009)}),_N_E=e.O()}]);