(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2763],{80216:function(t,e){"use strict";var r=function(){function t(){this._events={}}return t.prototype.on=function(t,e,r){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!r}),this},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.emit=function(t){for(var e=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=this._events[t]||[],i=this._events["*"]||[],s=function(n){for(var o=n.length,i=0;i<o;i++)if(n[i]){var s=n[i],u=s.callback;s.once&&(n.splice(i,1),0===n.length&&delete e._events[t],o--,i--),u.apply(e,r)}};s(o),s(i)},t.prototype.off=function(t,e){if(t){if(e){for(var r=this._events[t]||[],n=r.length,o=0;o<n;o++)r[o].callback===e&&(r.splice(o,1),n--,o--);0===r.length&&delete this._events[t]}else delete this._events[t]}else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();e.Z=r},16754:function(t,e,r){"use strict";r.d(e,{k:function(){return a}});var n=r(80216);function o(t,e,r,n){for(;t.length;){let o=t.shift(),i=r(o);if(i)return!0;e.add(o.id),n(o.id).forEach(r=>{e.has(r.id)||(e.add(r.id),t.push(r))})}return!1}function i(t,e,r,n){let o=r(t);if(o)return!0;for(let o of(e.add(t.id),n(t.id)))if(!e.has(o.id)&&i(o,e,r,n))return!0;return!1}let s=()=>!0;class u{graph;nodeFilter;edgeFilter;cacheEnabled;inEdgesMap=new Map;outEdgesMap=new Map;bothEdgesMap=new Map;allNodesMap=new Map;allEdgesMap=new Map;constructor(t){this.graph=t.graph;let e=t.nodeFilter||s,r=t.edgeFilter||s;this.nodeFilter=e,this.edgeFilter=t=>{let{source:n,target:o}=this.graph.getEdgeDetail(t.id);return!!(e(n)&&e(o))&&r(t,n,o)},"auto"===t.cache?(this.cacheEnabled=!0,this.startAutoCache()):"manual"===t.cache?this.cacheEnabled=!0:this.cacheEnabled=!1}clearCache=()=>{this.inEdgesMap.clear(),this.outEdgesMap.clear(),this.bothEdgesMap.clear(),this.allNodesMap.clear(),this.allEdgesMap.clear()};refreshCache=()=>{this.clearCache(),this.updateCache(this.graph.getAllNodes().map(t=>t.id))};updateCache=t=>{let e=new Set;t.forEach(t=>{let r=this.bothEdgesMap.get(t);if(r&&r.forEach(t=>e.add(t.id)),this.hasNode(t)){let r=this.graph.getRelatedEdges(t,"in").filter(this.edgeFilter),n=this.graph.getRelatedEdges(t,"out").filter(this.edgeFilter),o=Array.from(new Set([...r,...n]));o.forEach(t=>e.add(t.id)),this.inEdgesMap.set(t,r),this.outEdgesMap.set(t,n),this.bothEdgesMap.set(t,o),this.allNodesMap.set(t,this.graph.getNode(t))}else this.inEdgesMap.delete(t),this.outEdgesMap.delete(t),this.bothEdgesMap.delete(t),this.allNodesMap.delete(t)}),e.forEach(t=>{this.hasEdge(t)?this.allEdgesMap.set(t,this.graph.getEdge(t)):this.allEdgesMap.delete(t)})};startAutoCache(){this.refreshCache(),this.graph.on("changed",this.handleGraphChanged)}stopAutoCache(){this.graph.off("changed",this.handleGraphChanged)}handleGraphChanged=t=>{let e=new Set;t.changes.forEach(r=>{switch(r.type){case"NodeAdded":case"NodeRemoved":e.add(r.value.id);break;case"NodeDataUpdated":e.add(r.id);break;case"EdgeAdded":case"EdgeRemoved":e.add(r.value.source),e.add(r.value.target);break;case"EdgeUpdated":("source"===r.propertyName||"target"===r.propertyName)&&(e.add(r.oldValue),e.add(r.newValue));break;case"EdgeDataUpdated":if(t.graph.hasEdge(r.id)){let n=t.graph.getEdge(r.id);e.add(n.source),e.add(n.target)}}}),this.updateCache(e)};checkNodeExistence(t){this.getNode(t)}hasNode(t){if(!this.graph.hasNode(t))return!1;let e=this.graph.getNode(t);return this.nodeFilter(e)}areNeighbors(t,e){return this.checkNodeExistence(t),this.getNeighbors(e).some(e=>e.id===t)}getNode(t){let e=this.graph.getNode(t);if(!this.nodeFilter(e))throw Error("Node not found for id: "+t);return e}getRelatedEdges(t,e){if(this.checkNodeExistence(t),this.cacheEnabled)return"in"===e?this.inEdgesMap.get(t):"out"===e?this.outEdgesMap.get(t):this.bothEdgesMap.get(t);let r=this.graph.getRelatedEdges(t,e);return r.filter(this.edgeFilter)}getDegree(t,e){return this.getRelatedEdges(t,e).length}getSuccessors(t){let e=this.getRelatedEdges(t,"out"),r=e.map(t=>this.getNode(t.target));return Array.from(new Set(r))}getPredecessors(t){let e=this.getRelatedEdges(t,"in"),r=e.map(t=>this.getNode(t.source));return Array.from(new Set(r))}getNeighbors(t){let e=this.getPredecessors(t),r=this.getSuccessors(t);return Array.from(new Set([...e,...r]))}hasEdge(t){if(!this.graph.hasEdge(t))return!1;let e=this.graph.getEdge(t);return this.edgeFilter(e)}getEdge(t){let e=this.graph.getEdge(t);if(!this.edgeFilter(e))throw Error("Edge not found for id: "+t);return e}getEdgeDetail(t){let e=this.getEdge(t);return{edge:e,source:this.getNode(e.source),target:this.getNode(e.target)}}hasTreeStructure(t){return this.graph.hasTreeStructure(t)}getRoots(t){return this.graph.getRoots(t).filter(this.nodeFilter)}getChildren(t,e){return this.checkNodeExistence(t),this.graph.getChildren(t,e).filter(this.nodeFilter)}getParent(t,e){this.checkNodeExistence(t);let r=this.graph.getParent(t,e);return r&&this.nodeFilter(r)?r:null}getAllNodes(){return this.cacheEnabled?Array.from(this.allNodesMap.values()):this.graph.getAllNodes().filter(this.nodeFilter)}getAllEdges(){return this.cacheEnabled?Array.from(this.allEdgesMap.values()):this.graph.getAllEdges().filter(this.edgeFilter)}bfs(t,e,r="out"){let n={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[r];o([this.getNode(t)],new Set,e,n)}dfs(t,e,r="out"){let n={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[r];i(this.getNode(t),new Set,e,n)}}class a extends n.Z{nodeMap=new Map;edgeMap=new Map;inEdgesMap=new Map;outEdgesMap=new Map;bothEdgesMap=new Map;treeIndices=new Map;changes=[];batchCount=0;onChanged=()=>{};constructor(t){if(super(),!t)return;t.nodes&&this.addNodes(t.nodes),t.edges&&this.addEdges(t.edges),t.tree&&this.addTree(t.tree),t.onChanged&&(this.onChanged=t.onChanged)}batch=t=>{this.batchCount+=1,t(),this.batchCount-=1,this.batchCount||this.commit()};commit(){let t=this.changes;this.changes=[];let e={graph:this,changes:t};this.emit("changed",e),this.onChanged(e)}reduceChanges(t){let e=[];return t.forEach(t=>{switch(t.type){case"NodeRemoved":{let r=!1;e=e.filter(e=>{if("NodeAdded"===e.type){let n=e.value.id===t.value.id;return n&&(r=!0),!n}return"NodeDataUpdated"===e.type?e.id!==t.value.id:"TreeStructureChanged"!==e.type||e.nodeId!==t.value.id}),r||e.push(t);break}case"EdgeRemoved":{let r=!1;e=e.filter(e=>{if("EdgeAdded"===e.type){let n=e.value.id===t.value.id;return n&&(r=!0),!n}return"EdgeDataUpdated"!==e.type&&"EdgeUpdated"!==e.type||e.id!==t.value.id}),r||e.push(t);break}case"NodeDataUpdated":case"EdgeDataUpdated":case"EdgeUpdated":{let r=e.findIndex(e=>e.type===t.type&&e.id===t.id&&(void 0===t.propertyName||e.propertyName===t.propertyName)),n=e[r];n?void 0!==t.propertyName?n.newValue=t.newValue:(e.splice(r,1),e.push(t)):e.push(t);break}case"TreeStructureDetached":(e=e.filter(e=>"TreeStructureAttached"===e.type?e.treeKey!==t.treeKey:"TreeStructureChanged"!==e.type||e.treeKey!==t.treeKey)).push(t);break;case"TreeStructureChanged":{let r=e.find(e=>"TreeStructureChanged"===e.type&&e.treeKey===t.treeKey&&e.nodeId===t.nodeId);r?r.newParentId=t.newParentId:e.push(t);break}default:e.push(t)}}),e}checkNodeExistence(t){this.getNode(t)}hasNode(t){return this.nodeMap.has(t)}areNeighbors(t,e){return this.getNeighbors(e).some(e=>e.id===t)}getNode(t){let e=this.nodeMap.get(t);if(!e)throw Error("Node not found for id: "+t);return e}getRelatedEdges(t,e){if(this.checkNodeExistence(t),"in"===e){let e=this.inEdgesMap.get(t);return Array.from(e)}if("out"===e){let e=this.outEdgesMap.get(t);return Array.from(e)}{let e=this.bothEdgesMap.get(t);return Array.from(e)}}getDegree(t,e){return this.getRelatedEdges(t,e).length}getSuccessors(t){let e=this.getRelatedEdges(t,"out"),r=e.map(t=>this.getNode(t.target));return Array.from(new Set(r))}getPredecessors(t){let e=this.getRelatedEdges(t,"in"),r=e.map(t=>this.getNode(t.source));return Array.from(new Set(r))}getNeighbors(t){let e=this.getPredecessors(t),r=this.getSuccessors(t);return Array.from(new Set([...e,...r]))}doAddNode(t){if(this.hasNode(t.id))throw Error("Node already exists: "+t.id);this.nodeMap.set(t.id,t),this.inEdgesMap.set(t.id,new Set),this.outEdgesMap.set(t.id,new Set),this.bothEdgesMap.set(t.id,new Set),this.treeIndices.forEach(e=>{e.childrenMap.set(t.id,new Set)}),this.changes.push({type:"NodeAdded",value:t})}addNodes(t){this.batch(()=>{for(let e of t)this.doAddNode(e)})}addNode(t){this.addNodes([t])}doRemoveNode(t){let e=this.getNode(t),r=this.bothEdgesMap.get(t);r?.forEach(t=>this.doRemoveEdge(t.id)),this.nodeMap.delete(t),this.treeIndices.forEach(r=>{r.childrenMap.get(t)?.forEach(t=>{r.parentMap.delete(t.id)});let n=r.parentMap.get(t);n&&r.childrenMap.get(n.id)?.delete(e),r.parentMap.delete(t),r.childrenMap.delete(t)}),this.bothEdgesMap.delete(t),this.inEdgesMap.delete(t),this.outEdgesMap.delete(t),this.changes.push({type:"NodeRemoved",value:e})}removeNodes(t){this.batch(()=>{t.forEach(t=>this.doRemoveNode(t))})}removeNode(t){this.removeNodes([t])}updateNodeDataProperty(t,e,r){let n=this.getNode(t);this.batch(()=>{let o=n.data[e];n.data[e]=r,this.changes.push({type:"NodeDataUpdated",id:t,propertyName:e,oldValue:o,newValue:r})})}mergeNodeData(t,e){this.batch(()=>{Object.entries(e).forEach(([e,r])=>{this.updateNodeDataProperty(t,e,r)})})}updateNodeData(...t){let e;let r=t[0],n=this.getNode(r);if("string"==typeof t[1]){this.updateNodeDataProperty(r,t[1],t[2]);return}if("function"==typeof t[1]){let r=t[1];e=r(n.data)}else"object"==typeof t[1]&&(e=t[1]);this.batch(()=>{let t=n.data,o=e;n.data=e,this.changes.push({type:"NodeDataUpdated",id:r,oldValue:t,newValue:o})})}checkEdgeExistence(t){if(!this.hasEdge(t))throw Error("Edge not found for id: "+t)}hasEdge(t){return this.edgeMap.has(t)}getEdge(t){return this.checkEdgeExistence(t),this.edgeMap.get(t)}getEdgeDetail(t){let e=this.getEdge(t);return{edge:e,source:this.getNode(e.source),target:this.getNode(e.target)}}doAddEdge(t){if(this.hasEdge(t.id))throw Error("Edge already exists: "+t.id);this.checkNodeExistence(t.source),this.checkNodeExistence(t.target),this.edgeMap.set(t.id,t);let e=this.inEdgesMap.get(t.target),r=this.outEdgesMap.get(t.source),n=this.bothEdgesMap.get(t.source),o=this.bothEdgesMap.get(t.target);e.add(t),r.add(t),n.add(t),o.add(t),this.changes.push({type:"EdgeAdded",value:t})}addEdges(t){this.batch(()=>{for(let e of t)this.doAddEdge(e)})}addEdge(t){this.addEdges([t])}doRemoveEdge(t){let e=this.getEdge(t),r=this.outEdgesMap.get(e.source),n=this.inEdgesMap.get(e.target),o=this.bothEdgesMap.get(e.source),i=this.bothEdgesMap.get(e.target);r.delete(e),n.delete(e),o.delete(e),i.delete(e),this.edgeMap.delete(t),this.changes.push({type:"EdgeRemoved",value:e})}removeEdges(t){this.batch(()=>{t.forEach(t=>this.doRemoveEdge(t))})}removeEdge(t){this.removeEdges([t])}updateEdgeSource(t,e){let r=this.getEdge(t);this.checkNodeExistence(e);let n=r.source;this.outEdgesMap.get(n).delete(r),this.bothEdgesMap.get(n).delete(r),this.outEdgesMap.get(e).add(r),this.bothEdgesMap.get(e).add(r),r.source=e,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:t,propertyName:"source",oldValue:n,newValue:e})})}updateEdgeTarget(t,e){let r=this.getEdge(t);this.checkNodeExistence(e);let n=r.target;this.inEdgesMap.get(n).delete(r),this.bothEdgesMap.get(n).delete(r),this.inEdgesMap.get(e).add(r),this.bothEdgesMap.get(e).add(r),r.target=e,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:t,propertyName:"target",oldValue:n,newValue:e})})}updateEdgeDataProperty(t,e,r){let n=this.getEdge(t);this.batch(()=>{let o=n.data[e];n.data[e]=r,this.changes.push({type:"EdgeDataUpdated",id:t,propertyName:e,oldValue:o,newValue:r})})}updateEdgeData(...t){let e;let r=t[0],n=this.getEdge(r);if("string"==typeof t[1]){this.updateEdgeDataProperty(r,t[1],t[2]);return}if("function"==typeof t[1]){let r=t[1];e=r(n.data)}else"object"==typeof t[1]&&(e=t[1]);this.batch(()=>{let t=n.data,o=e;n.data=e,this.changes.push({type:"EdgeDataUpdated",id:r,oldValue:t,newValue:o})})}mergeEdgeData(t,e){this.batch(()=>{Object.entries(e).forEach(([e,r])=>{this.updateEdgeDataProperty(t,e,r)})})}checkTreeExistence(t){if(!this.hasTreeStructure(t))throw Error("Tree structure not found for treeKey: "+t)}hasTreeStructure(t){return this.treeIndices.has(t)}attachTreeStructure(t){this.treeIndices.has(t)||(this.treeIndices.set(t,{parentMap:new Map,childrenMap:new Map}),this.batch(()=>{this.changes.push({type:"TreeStructureAttached",treeKey:t})}))}detachTreeStructure(t){this.checkTreeExistence(t),this.treeIndices.delete(t),this.batch(()=>{this.changes.push({type:"TreeStructureDetached",treeKey:t})})}addTree(t,e){this.batch(()=>{this.attachTreeStructure(e);let r=[],n=Array.isArray(t)?t:[t];for(;n.length;){let t=n.shift();r.push(t),t.children&&n.push(...t.children)}this.addNodes(r),r.forEach(t=>{t.children?.forEach(r=>{this.setParent(r.id,t.id,e)})})})}getRoots(t){return this.checkTreeExistence(t),this.getAllNodes().filter(e=>!this.getParent(e.id,t))}getChildren(t,e){this.checkNodeExistence(t),this.checkTreeExistence(e);let r=this.treeIndices.get(e),n=r.childrenMap.get(t);return Array.from(n||[])}getParent(t,e){this.checkNodeExistence(t),this.checkTreeExistence(e);let r=this.treeIndices.get(e);return r.parentMap.get(t)||null}getAncestors(t,e){let r;let n=[],o=this.getNode(t);for(;r=this.getParent(o.id,e);)n.push(r),o=r;return n}setParent(t,e,r){this.checkTreeExistence(r);let n=this.treeIndices.get(r);if(!n)return;let o=this.getNode(t),i=n.parentMap.get(t);if(i?.id===e)return;if(null==e){i&&n.childrenMap.get(i.id)?.delete(o),n.parentMap.delete(t);return}let s=this.getNode(e);n.parentMap.set(t,s),i&&n.childrenMap.get(i.id)?.delete(o);let u=n.childrenMap.get(s.id);u||(u=new Set,n.childrenMap.set(s.id,u)),u.add(o),this.batch(()=>{this.changes.push({type:"TreeStructureChanged",treeKey:r,nodeId:t,oldParentId:i?.id,newParentId:s.id})})}dfsTree(t,e,r){return i(this.getNode(t),new Set,e,t=>this.getChildren(t,r))}bfsTree(t,e,r){return o([this.getNode(t)],new Set,e,t=>this.getChildren(t,r))}getAllNodes(){return Array.from(this.nodeMap.values())}getAllEdges(){return Array.from(this.edgeMap.values())}bfs(t,e,r="out"){let n={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[r];return o([this.getNode(t)],new Set,e,n)}dfs(t,e,r="out"){let n={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[r];return i(this.getNode(t),new Set,e,n)}clone(){let t=this.getAllNodes().map(t=>({...t,data:{...t.data}})),e=this.getAllEdges().map(t=>({...t,data:{...t.data}})),r=new a({nodes:t,edges:e});return this.treeIndices.forEach(({parentMap:t,childrenMap:e},n)=>{let o=new Map;t.forEach((t,e)=>{o.set(e,r.getNode(t.id))});let i=new Map;e.forEach((t,e)=>{i.set(e,new Set(Array.from(t).map(t=>r.getNode(t.id))))}),r.treeIndices.set(n,{parentMap:o,childrenMap:i})}),r}toJSON(){return JSON.stringify({nodes:this.getAllNodes(),edges:this.getAllEdges()})}createView(t){return new u({graph:this,...t})}}},12637:function(t,e,r){"use strict";var n=r(18814),o=function(t){if("object"!=typeof t||null===t)return t;if((0,n.Z)(t)){e=[];for(var e,r=0,i=t.length;r<i;r++)"object"==typeof t[r]&&null!=t[r]?e[r]=o(t[r]):e[r]=t[r]}else for(var s in e={},t)"object"==typeof t[s]&&null!=t[s]?e[s]=o(t[s]):e[s]=t[s];return e};e.Z=o},11051:function(t,e,r){"use strict";var n=r(18814),o=r(37090);e.Z=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var i=0;i<e.length;i+=1)!function t(e,r,i,s){for(var u in i=i||0,s=s||5,r)if(function(t,e){if(Object.hasOwn)return Object.hasOwn(t,e);if(null==t)throw TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)}(r,u)){var a=r[u];null!==a&&(0,o.Z)(a)?((0,o.Z)(e[u])||(e[u]={}),i<s?t(e[u],a,i+1,s):e[u]=r[u]):(0,n.Z)(a)?(e[u]=[],e[u]=e[u].concat(a)):void 0!==a&&(e[u]=a)}}(t,e[i]);return t}},80821:function(t,e,r){"use strict";var n=r(18814),o=r(48758);e.Z=function(t,e){if(t){if((0,n.Z)(t))for(var r=0,i=t.length;r<i&&!1!==e(t[r],r);r++);else if((0,o.Z)(t)){for(var s in t)if(t.hasOwnProperty(s)&&!1===e(t[s],s))break}}}},18814:function(t,e,r){"use strict";function n(t){return Array.isArray(t)}r.d(e,{Z:function(){return n}})},90079:function(t,e,r){"use strict";function n(t){return"function"==typeof t}r.d(e,{Z:function(){return n}})},54663:function(t,e,r){"use strict";function n(t){return null==t}r.d(e,{Z:function(){return n}})},22355:function(t,e,r){"use strict";function n(t){return"number"==typeof t}r.d(e,{Z:function(){return n}})},6358:function(t,e){"use strict";e.Z=function(t){return"object"==typeof t&&null!==t}},48758:function(t,e){"use strict";e.Z=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e}},37090:function(t,e,r){"use strict";var n=r(6358),o=r(16700);e.Z=function(t){if(!(0,n.Z)(t)||!(0,o.Z)(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},43706:function(t,e,r){"use strict";function n(t){return"string"==typeof t}r.d(e,{Z:function(){return n}})},16700:function(t,e){"use strict";var r={}.toString;e.Z=function(t,e){return r.call(t)==="[object "+e+"]"}},1819:function(t,e,r){"use strict";var n=r(80821),o=r(37090),i=Object.prototype.hasOwnProperty;e.Z=function(t,e){if(null===t||!(0,o.Z)(t))return{};var r={};return(0,n.Z)(e,function(e){i.call(t,e)&&(r[e]=t[e])}),r}},6724:function(t,e,r){t.exports={graphlib:r(68509),layout:r(13104),debug:r(36939),util:{time:r(92304).time,notime:r(92304).notime},version:r(90975)}},93143:function(t,e,r){"use strict";var n=r(8217),o=r(23742);t.exports={run:function(t){var e,r,i,s="greedy"===t.graph().acyclicer?o(t,function(e){return t.edge(e).weight}):(e=[],r={},i={},n.forEach(t.nodes(),function o(s){n.has(i,s)||(i[s]=!0,r[s]=!0,n.forEach(t.outEdges(s),function(t){n.has(r,t.w)?e.push(t):o(t.w)}),delete r[s])}),e);n.forEach(s,function(e){var r=t.edge(e);t.removeEdge(e),r.forwardName=e.name,r.reversed=!0,t.setEdge(e.w,e.v,r,n.uniqueId("rev"))})},undo:function(t){n.forEach(t.edges(),function(e){var r=t.edge(e);if(r.reversed){t.removeEdge(e);var n=r.forwardName;delete r.reversed,delete r.forwardName,t.setEdge(e.w,e.v,r,n)}})}}},24186:function(t,e,r){var n=r(8217),o=r(92304);function i(t,e,r,n,i,s){var u=i[e][s-1],a=o.addDummyNode(t,"border",{width:0,height:0,rank:s,borderType:e},r);i[e][s]=a,t.setParent(a,n),u&&t.setEdge(u,a,{weight:1})}t.exports=function(t){n.forEach(t.children(),function e(r){var o=t.children(r),s=t.node(r);if(o.length&&n.forEach(o,e),n.has(s,"minRank")){s.borderLeft=[],s.borderRight=[];for(var u=s.minRank,a=s.maxRank+1;u<a;++u)i(t,"borderLeft","_bl",r,s,u),i(t,"borderRight","_br",r,s,u)}})}},83032:function(t,e,r){"use strict";var n=r(8217);function o(t){n.forEach(t.nodes(),function(e){i(t.node(e))}),n.forEach(t.edges(),function(e){i(t.edge(e))})}function i(t){var e=t.width;t.width=t.height,t.height=e}function s(t){t.y=-t.y}function u(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();("lr"===e||"rl"===e)&&o(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();("bt"===e||"rl"===e)&&(n.forEach(t.nodes(),function(e){s(t.node(e))}),n.forEach(t.edges(),function(e){var r=t.edge(e);n.forEach(r.points,s),n.has(r,"y")&&s(r)})),("lr"===e||"rl"===e)&&(n.forEach(t.nodes(),function(e){u(t.node(e))}),n.forEach(t.edges(),function(e){var r=t.edge(e);n.forEach(r.points,u),n.has(r,"x")&&u(r)}),o(t))}}},40094:function(t){function e(){var t={};t._next=t._prev=t,this._sentinel=t}function r(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function n(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=e,e.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return r(e),e},e.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&r(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},e.prototype.toString=function(){for(var t=[],e=this._sentinel,r=e._prev;r!==e;)t.push(JSON.stringify(r,n)),r=r._prev;return"["+t.join(", ")+"]"}},36939:function(t,e,r){var n=r(8217),o=r(92304),i=r(68509).Graph;t.exports={debugOrdering:function(t){var e=o.buildLayerMatrix(t),r=new i({compound:!0,multigraph:!0}).setGraph({});return n.forEach(t.nodes(),function(e){r.setNode(e,{label:e}),r.setParent(e,"layer"+t.node(e).rank)}),n.forEach(t.edges(),function(t){r.setEdge(t.v,t.w,{},t.name)}),n.forEach(e,function(t,e){r.setNode("layer"+e,{rank:"same"}),n.reduce(t,function(t,e){return r.setEdge(t,e,{style:"invis"}),e})}),r}}},68509:function(t,e,r){var n;try{n=r(16239)}catch(t){}n||(n=window.graphlib),t.exports=n},23742:function(t,e,r){var n=r(8217),o=r(68509).Graph,i=r(40094);t.exports=function(t,e){if(1>=t.nodeCount())return[];var r,h,c,f,l,d,g=(r=e||s,h=new o,c=0,f=0,n.forEach(t.nodes(),function(t){h.setNode(t,{v:t,in:0,out:0})}),n.forEach(t.edges(),function(t){var e=h.edge(t.v,t.w)||0,n=r(t),o=e+n;h.setEdge(t.v,t.w,o),f=Math.max(f,h.node(t.v).out+=n),c=Math.max(c,h.node(t.w).in+=n)}),l=n.range(f+c+3).map(function(){return new i}),d=c+1,n.forEach(h.nodes(),function(t){a(l,d,h.node(t))}),{graph:h,buckets:l,zeroIdx:d}),p=function(t,e,r){for(var n,o=[],i=e[e.length-1],s=e[0];t.nodeCount();){for(;n=s.dequeue();)u(t,e,r,n);for(;n=i.dequeue();)u(t,e,r,n);if(t.nodeCount()){for(var a=e.length-2;a>0;--a)if(n=e[a].dequeue()){o=o.concat(u(t,e,r,n,!0));break}}}return o}(g.graph,g.buckets,g.zeroIdx);return n.flatten(n.map(p,function(e){return t.outEdges(e.v,e.w)}),!0)};var s=n.constant(1);function u(t,e,r,o,i){var s=i?[]:void 0;return n.forEach(t.inEdges(o.v),function(n){var o=t.edge(n),u=t.node(n.v);i&&s.push({v:n.v,w:n.w}),u.out-=o,a(e,r,u)}),n.forEach(t.outEdges(o.v),function(n){var o=t.edge(n),i=n.w,s=t.node(i);s.in-=o,a(e,r,s)}),t.removeNode(o.v),s}function a(t,e,r){r.out?r.in?t[r.out-r.in+e].enqueue(r):t[t.length-1].enqueue(r):t[0].enqueue(r)}},13104:function(t,e,r){"use strict";var n=r(8217),o=r(93143),i=r(67099),s=r(65511),u=r(92304).normalizeRanks,a=r(24685),h=r(92304).removeEmptyRanks,c=r(59832),f=r(24186),l=r(83032),d=r(89717),g=r(63363),p=r(92304),v=r(68509).Graph;t.exports=function(t,e){var r=e&&e.debugTiming?p.time:p.notime;r("layout",function(){var e=r("  buildLayoutGraph",function(){var e,r;return e=new v({multigraph:!0,compound:!0}),r=k(t.graph()),e.setGraph(n.merge({},y,N(r,m),n.pick(r,w))),n.forEach(t.nodes(),function(r){var o=k(t.node(r));e.setNode(r,n.defaults(N(o,x),b)),e.setParent(r,t.parent(r))}),n.forEach(t.edges(),function(r){var o=k(t.edge(r));e.setEdge(r,n.merge({},_,N(o,E),n.pick(o,M)))}),e});r("  runLayout",function(){r("    makeSpaceForEdgeLabels",function(){var t;t=e.graph(),t.ranksep/=2,n.forEach(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,"c"!==n.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?n.width+=n.labeloffset:n.height+=n.labeloffset)})}),r("    removeSelfEdges",function(){n.forEach(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}),r("    acyclic",function(){o.run(e)}),r("    nestingGraph.run",function(){c.run(e)}),r("    rank",function(){s(p.asNonCompoundGraph(e))}),r("    injectEdgeLabelProxies",function(){n.forEach(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),o={rank:(e.node(t.w).rank-n.rank)/2+n.rank,e:t};p.addDummyNode(e,"edge-proxy",o,"_ep")}})}),r("    removeEmptyRanks",function(){h(e)}),r("    nestingGraph.cleanup",function(){c.cleanup(e)}),r("    normalizeRanks",function(){u(e)}),r("    assignRankMinMax",function(){var t;t=0,n.forEach(e.nodes(),function(r){var o=e.node(r);o.borderTop&&(o.minRank=e.node(o.borderTop).rank,o.maxRank=e.node(o.borderBottom).rank,t=n.max(t,o.maxRank))}),e.graph().maxRank=t}),r("    removeEdgeLabelProxies",function(){n.forEach(e.nodes(),function(t){var r=e.node(t);"edge-proxy"===r.dummy&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}),r("    normalize.run",function(){i.run(e)}),r("    parentDummyChains",function(){a(e)}),r("    addBorderSegments",function(){f(e)}),r("    order",function(){d(e)}),r("    insertSelfEdges",function(){var t;t=p.buildLayerMatrix(e),n.forEach(t,function(t){var r=0;n.forEach(t,function(t,o){var i=e.node(t);i.order=o+r,n.forEach(i.selfEdges,function(t){p.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:o+ ++r,e:t.e,label:t.label},"_se")}),delete i.selfEdges})})}),r("    adjustCoordinateSystem",function(){l.adjust(e)}),r("    position",function(){g(e)}),r("    positionSelfEdges",function(){n.forEach(e.nodes(),function(t){var r=e.node(t);if("selfedge"===r.dummy){var n=e.node(r.e.v),o=n.x+n.width/2,i=n.y,s=r.x-o,u=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:o+2*s/3,y:i-u},{x:o+5*s/6,y:i-u},{x:o+s,y:i},{x:o+5*s/6,y:i+u},{x:o+2*s/3,y:i+u}],r.label.x=r.x,r.label.y=r.y}})}),r("    removeBorderNodes",function(){n.forEach(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),o=e.node(r.borderTop),i=e.node(r.borderBottom),s=e.node(n.last(r.borderLeft)),u=e.node(n.last(r.borderRight));r.width=Math.abs(u.x-s.x),r.height=Math.abs(i.y-o.y),r.x=s.x+r.width/2,r.y=o.y+r.height/2}}),n.forEach(e.nodes(),function(t){"border"===e.node(t).dummy&&e.removeNode(t)})}),r("    normalize.undo",function(){i.undo(e)}),r("    fixupEdgeLabelCoords",function(){n.forEach(e.edges(),function(t){var r=e.edge(t);if(n.has(r,"x"))switch(("l"===r.labelpos||"r"===r.labelpos)&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset}})}),r("    undoCoordinateSystem",function(){l.undo(e)}),r("    translateGraph",function(){(function(t){var e=Number.POSITIVE_INFINITY,r=0,o=Number.POSITIVE_INFINITY,i=0,s=t.graph(),u=s.marginx||0,a=s.marginy||0;function h(t){var n=t.x,s=t.y,u=t.width,a=t.height;e=Math.min(e,n-u/2),r=Math.max(r,n+u/2),o=Math.min(o,s-a/2),i=Math.max(i,s+a/2)}n.forEach(t.nodes(),function(e){h(t.node(e))}),n.forEach(t.edges(),function(e){var r=t.edge(e);n.has(r,"x")&&h(r)}),e-=u,o-=a,n.forEach(t.nodes(),function(r){var n=t.node(r);n.x-=e,n.y-=o}),n.forEach(t.edges(),function(r){var i=t.edge(r);n.forEach(i.points,function(t){t.x-=e,t.y-=o}),n.has(i,"x")&&(i.x-=e),n.has(i,"y")&&(i.y-=o)}),s.width=r-e+u,s.height=i-o+a})(e)}),r("    assignNodeIntersects",function(){n.forEach(e.edges(),function(t){var r,n,o=e.edge(t),i=e.node(t.v),s=e.node(t.w);o.points?(r=o.points[0],n=o.points[o.points.length-1]):(o.points=[],r=s,n=i),o.points.unshift(p.intersectRect(i,r)),o.points.push(p.intersectRect(s,n))})}),r("    reversePoints",function(){n.forEach(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}),r("    acyclic.undo",function(){o.undo(e)})}),r("  updateInputGraph",function(){n.forEach(t.nodes(),function(r){var n=t.node(r),o=e.node(r);n&&(n.x=o.x,n.y=o.y,e.children(r).length&&(n.width=o.width,n.height=o.height))}),n.forEach(t.edges(),function(r){var o=t.edge(r),i=e.edge(r);o.points=i.points,n.has(i,"x")&&(o.x=i.x,o.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height})})};var m=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},w=["acyclicer","ranker","rankdir","align"],x=["width","height"],b={width:0,height:0},E=["minlen","weight","width","height","labeloffset"],_={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},M=["labelpos"];function N(t,e){return n.mapValues(n.pick(t,e),Number)}function k(t){var e={};return n.forEach(t,function(t,r){e[r.toLowerCase()]=t}),e}},8217:function(t,e,r){var n;try{n={cloneDeep:r(32222),constant:r(64806),defaults:r(91099),each:r(15828),filter:r(3149),find:r(33170),flatten:r(22612),forEach:r(17489),forIn:r(37229),has:r(56611),isUndefined:r(89300),last:r(25674),map:r(65512),mapValues:r(65632),max:r(80212),merge:r(67929),min:r(71516),minBy:r(88371),now:r(76668),pick:r(19334),range:r(61178),reduce:r(6355),sortBy:r(84715),uniqueId:r(53274),values:r(61017),zipObject:r(64058)}}catch(t){}n||(n=window._),t.exports=n},59832:function(t,e,r){var n=r(8217),o=r(92304);t.exports={run:function(t){var e,r=o.addDummyNode(t,"root",{},"_root"),i=(e={},n.forEach(t.children(),function(r){!function r(o,i){var s=t.children(o);s&&s.length&&n.forEach(s,function(t){r(t,i+1)}),e[o]=i}(r,1)}),e),s=n.max(n.values(i))-1,u=2*s+1;t.graph().nestingRoot=r,n.forEach(t.edges(),function(e){t.edge(e).minlen*=u});var a=n.reduce(t.edges(),function(e,r){return e+t.edge(r).weight},0)+1;n.forEach(t.children(),function(e){(function t(e,r,i,s,u,a,h){var c=e.children(h);if(!c.length){h!==r&&e.setEdge(r,h,{weight:0,minlen:i});return}var f=o.addBorderNode(e,"_bt"),l=o.addBorderNode(e,"_bb"),d=e.node(h);e.setParent(f,h),d.borderTop=f,e.setParent(l,h),d.borderBottom=l,n.forEach(c,function(n){t(e,r,i,s,u,a,n);var o=e.node(n),c=o.borderTop?o.borderTop:n,d=o.borderBottom?o.borderBottom:n,g=o.borderTop?s:2*s,p=c!==d?1:u-a[h]+1;e.setEdge(f,c,{weight:g,minlen:p,nestingEdge:!0}),e.setEdge(d,l,{weight:g,minlen:p,nestingEdge:!0})}),e.parent(h)||e.setEdge(r,f,{weight:0,minlen:u+a[h]})})(t,r,u,a,s,i,e)}),t.graph().nodeRankFactor=u},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,n.forEach(t.edges(),function(e){t.edge(e).nestingEdge&&t.removeEdge(e)})}}},67099:function(t,e,r){"use strict";var n=r(8217),o=r(92304);t.exports={run:function(t){t.graph().dummyChains=[],n.forEach(t.edges(),function(e){(function(t,e){var r,n,i,s=e.v,u=t.node(s).rank,a=e.w,h=t.node(a).rank,c=e.name,f=t.edge(e),l=f.labelRank;if(h!==u+1){for(t.removeEdge(e),i=0,++u;u<h;++i,++u)f.points=[],n={width:0,height:0,edgeLabel:f,edgeObj:e,rank:u},r=o.addDummyNode(t,"edge",n,"_d"),u===l&&(n.width=f.width,n.height=f.height,n.dummy="edge-label",n.labelpos=f.labelpos),t.setEdge(s,r,{weight:f.weight},c),0===i&&t.graph().dummyChains.push(r),s=r;t.setEdge(s,a,{weight:f.weight},c)}})(t,e)})},undo:function(t){n.forEach(t.graph().dummyChains,function(e){var r,n=t.node(e),o=n.edgeLabel;for(t.setEdge(n.edgeObj,o);n.dummy;)r=t.successors(e)[0],t.removeNode(e),o.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(o.x=n.x,o.y=n.y,o.width=n.width,o.height=n.height),e=r,n=t.node(e)})}}},77080:function(t,e,r){var n=r(8217);t.exports=function(t,e,r){var o,i={};n.forEach(r,function(r){for(var n,s,u=t.parent(r);u;){if((n=t.parent(u))?(s=i[n],i[n]=u):(s=o,o=u),s&&s!==u){e.setEdge(s,u);return}u=n}})}},22207:function(t,e,r){var n=r(8217);t.exports=function(t,e){return n.map(e,function(e){var r=t.inEdges(e);if(!r.length)return{v:e};var o=n.reduce(r,function(e,r){var n=t.edge(r),o=t.node(r.v);return{sum:e.sum+n.weight*o.order,weight:e.weight+n.weight}},{sum:0,weight:0});return{v:e,barycenter:o.sum/o.weight,weight:o.weight}})}},9643:function(t,e,r){var n=r(8217),o=r(68509).Graph;t.exports=function(t,e,r){var i=function(t){for(var e;t.hasNode(e=n.uniqueId("_root")););return e}(t),s=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(e){return t.node(e)});return n.forEach(t.nodes(),function(o){var u=t.node(o),a=t.parent(o);(u.rank===e||u.minRank<=e&&e<=u.maxRank)&&(s.setNode(o),s.setParent(o,a||i),n.forEach(t[r](o),function(e){var r=e.v===o?e.w:e.v,i=s.edge(r,o),u=n.isUndefined(i)?0:i.weight;s.setEdge(r,o,{weight:t.edge(e).weight+u})}),n.has(u,"minRank")&&s.setNode(o,{borderLeft:u.borderLeft[e],borderRight:u.borderRight[e]}))}),s}},51094:function(t,e,r){"use strict";var n=r(8217);t.exports=function(t,e){for(var r=0,o=1;o<e.length;++o)r+=function(t,e,r){for(var o=n.zipObject(r,n.map(r,function(t,e){return e})),i=n.flatten(n.map(e,function(e){return n.sortBy(n.map(t.outEdges(e),function(e){return{pos:o[e.w],weight:t.edge(e).weight}}),"pos")}),!0),s=1;s<r.length;)s<<=1;var u=2*s-1;s-=1;var a=n.map(Array(u),function(){return 0}),h=0;return n.forEach(i.forEach(function(t){var e=t.pos+s;a[e]+=t.weight;for(var r=0;e>0;)e%2&&(r+=a[e+1]),e=e-1>>1,a[e]+=t.weight;h+=t.weight*r})),h}(t,e[o-1],e[o]);return r}},89717:function(t,e,r){"use strict";var n=r(8217),o=r(89853),i=r(51094),s=r(66675),u=r(9643),a=r(77080),h=r(68509).Graph,c=r(92304);function f(t,e,r){return n.map(e,function(e){return u(t,e,r)})}function l(t,e){n.forEach(e,function(e){n.forEach(e,function(e,r){t.node(e).order=r})})}t.exports=function(t){var e=c.maxRank(t),r=f(t,n.range(1,e+1),"inEdges"),u=f(t,n.range(e-1,-1,-1),"outEdges"),d=o(t);l(t,d);for(var g,p=Number.POSITIVE_INFINITY,v=0,m=0;m<4;++v,++m){(function(t,e){var r=new h;n.forEach(t,function(t){var o=t.graph().root,i=s(t,o,r,e);n.forEach(i.vs,function(e,r){t.node(e).order=r}),a(t,r,i.vs)})})(v%2?r:u,v%4>=2),d=c.buildLayerMatrix(t);var y=i(t,d);y<p&&(m=0,g=n.cloneDeep(d),p=y)}l(t,g)}},89853:function(t,e,r){"use strict";var n=r(8217);t.exports=function(t){var e={},r=n.filter(t.nodes(),function(e){return!t.children(e).length}),o=n.max(n.map(r,function(e){return t.node(e).rank})),i=n.map(n.range(o+1),function(){return[]}),s=n.sortBy(r,function(e){return t.node(e).rank});return n.forEach(s,function r(o){n.has(e,o)||(e[o]=!0,i[t.node(o).rank].push(o),n.forEach(t.successors(o),r))}),i}},5171:function(t,e,r){"use strict";var n=r(8217);t.exports=function(t,e){var r={};return n.forEach(t,function(t,e){var o=r[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};n.isUndefined(t.barycenter)||(o.barycenter=t.barycenter,o.weight=t.weight)}),n.forEach(e.edges(),function(t){var e=r[t.v],o=r[t.w];n.isUndefined(e)||n.isUndefined(o)||(o.indegree++,e.out.push(r[t.w]))}),function(t){for(var e=[];t.length;){var r=t.pop();e.push(r),n.forEach(r.in.reverse(),function(t){return function(e){!e.merged&&(n.isUndefined(e.barycenter)||n.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var r=0,n=0;t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=r/n,t.weight=n,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}(r)),n.forEach(r.out,function(e){return function(r){r.in.push(e),0==--r.indegree&&t.push(r)}}(r))}return n.map(n.filter(e,function(t){return!t.merged}),function(t){return n.pick(t,["vs","i","barycenter","weight"])})}(n.filter(r,function(t){return!t.indegree}))}},66675:function(t,e,r){var n=r(8217),o=r(22207),i=r(5171),s=r(45737);t.exports=function t(e,r,u,a){var h=e.children(r),c=e.node(r),f=c?c.borderLeft:void 0,l=c?c.borderRight:void 0,d={};f&&(h=n.filter(h,function(t){return t!==f&&t!==l}));var g=o(e,h);n.forEach(g,function(r){if(e.children(r.v).length){var o=t(e,r.v,u,a);d[r.v]=o,n.has(o,"barycenter")&&(n.isUndefined(r.barycenter)?(r.barycenter=o.barycenter,r.weight=o.weight):(r.barycenter=(r.barycenter*r.weight+o.barycenter*o.weight)/(r.weight+o.weight),r.weight+=o.weight))}});var p=i(g,u);n.forEach(p,function(t){t.vs=n.flatten(t.vs.map(function(t){return d[t]?d[t].vs:t}),!0)});var v=s(p,a);if(f&&(v.vs=n.flatten([f,v.vs,l],!0),e.predecessors(f).length)){var m=e.node(e.predecessors(f)[0]),y=e.node(e.predecessors(l)[0]);n.has(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+m.order+y.order)/(v.weight+2),v.weight+=2}return v}},45737:function(t,e,r){var n=r(8217),o=r(92304);function i(t,e,r){for(var o;e.length&&(o=n.last(e)).i<=r;)e.pop(),t.push(o.vs),r++;return r}t.exports=function(t,e){var r,s=o.partition(t,function(t){return n.has(t,"barycenter")}),u=s.lhs,a=n.sortBy(s.rhs,function(t){return-t.i}),h=[],c=0,f=0,l=0;u.sort((r=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:r?e.i-t.i:t.i-e.i})),l=i(h,a,l),n.forEach(u,function(t){l+=t.vs.length,h.push(t.vs),c+=t.barycenter*t.weight,f+=t.weight,l=i(h,a,l)});var d={vs:n.flatten(h,!0)};return f&&(d.barycenter=c/f,d.weight=f),d}},24685:function(t,e,r){var n=r(8217);t.exports=function(t){var e,r,o=(e={},r=0,n.forEach(t.children(),function o(i){var s=r;n.forEach(t.children(i),o),e[i]={low:s,lim:r++}}),e);n.forEach(t.graph().dummyChains,function(e){for(var r=t.node(e),n=r.edgeObj,i=function(t,e,r,n){var o,i,s=[],u=[],a=Math.min(e[r].low,e[n].low),h=Math.max(e[r].lim,e[n].lim);o=r;do s.push(o=t.parent(o));while(o&&(e[o].low>a||h>e[o].lim));for(i=o,o=n;(o=t.parent(o))!==i;)u.push(o);return{path:s.concat(u.reverse()),lca:i}}(t,o,n.v,n.w),s=i.path,u=i.lca,a=0,h=s[0],c=!0;e!==n.w;){if(r=t.node(e),c){for(;(h=s[a])!==u&&t.node(h).maxRank<r.rank;)a++;h===u&&(c=!1)}if(!c){for(;a<s.length-1&&t.node(h=s[a+1]).minRank<=r.rank;)a++;h=s[a]}t.setParent(e,h),e=t.successors(e)[0]}})}},21006:function(t,e,r){"use strict";var n=r(8217),o=r(68509).Graph,i=r(92304);function s(t,e){var r={};return n.reduce(e,function(e,o){var i=0,s=0,u=e.length,h=n.last(o);return n.forEach(o,function(e,c){var f=function(t,e){if(t.node(e).dummy)return n.find(t.predecessors(e),function(e){return t.node(e).dummy})}(t,e),l=f?t.node(f).order:u;(f||e===h)&&(n.forEach(o.slice(s,c+1),function(e){n.forEach(t.predecessors(e),function(n){var o=t.node(n),s=o.order;(s<i||l<s)&&!(o.dummy&&t.node(e).dummy)&&a(r,n,e)})}),s=c+1,i=l)}),o}),r}function u(t,e){var r={};function o(e,o,i,s,u){var h;n.forEach(n.range(o,i),function(o){h=e[o],t.node(h).dummy&&n.forEach(t.predecessors(h),function(e){var n=t.node(e);n.dummy&&(n.order<s||n.order>u)&&a(r,e,h)})})}return n.reduce(e,function(e,r){var i,s=-1,u=0;return n.forEach(r,function(n,a){if("border"===t.node(n).dummy){var h=t.predecessors(n);h.length&&(o(r,u,a,s,i=t.node(h[0]).order),u=a,s=i)}o(r,u,r.length,i,e.length)}),r}),r}function a(t,e,r){if(e>r){var n=e;e=r,r=n}var o=t[e];o||(t[e]=o={}),o[r]=!0}function h(t,e,r){if(e>r){var o=e;e=r,r=o}return n.has(t[e],r)}function c(t,e,r,o){var i={},s={},u={};return n.forEach(e,function(t){n.forEach(t,function(t,e){i[t]=t,s[t]=t,u[t]=e})}),n.forEach(e,function(t){var e=-1;n.forEach(t,function(t){var a=o(t);if(a.length)for(var c=((a=n.sortBy(a,function(t){return u[t]})).length-1)/2,f=Math.floor(c),l=Math.ceil(c);f<=l;++f){var d=a[f];s[t]===t&&e<u[d]&&!h(r,t,d)&&(s[d]=t,s[t]=i[t]=i[d],e=u[d])}})}),{root:i,align:s}}function f(t,e,r,i,s){var u,a,h,c,f,l={},d=(h=new o,u=(c=t.graph()).nodesep,a=c.edgesep,f=function(t,e,r){var o,i,h=t.node(e),c=t.node(r);if(o=0+h.width/2,n.has(h,"labelpos"))switch(h.labelpos.toLowerCase()){case"l":i=-h.width/2;break;case"r":i=h.width/2}if(i&&(o+=s?i:-i),i=0,o+=(h.dummy?a:u)/2+(c.dummy?a:u)/2+c.width/2,n.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":i=c.width/2;break;case"r":i=-c.width/2}return i&&(o+=s?i:-i),i=0,o},n.forEach(e,function(e){var o;n.forEach(e,function(e){var n=r[e];if(h.setNode(n),o){var i=r[o],s=h.edge(i,n);h.setEdge(i,n,Math.max(f(t,e,o),s||0))}o=e})}),h),g=s?"borderLeft":"borderRight";function p(t,e){for(var r=d.nodes(),n=r.pop(),o={};n;)o[n]?t(n):(o[n]=!0,r.push(n),r=r.concat(e(n))),n=r.pop()}return p(function(t){l[t]=d.inEdges(t).reduce(function(t,e){return Math.max(t,l[e.v]+d.edge(e))},0)},d.predecessors.bind(d)),p(function(e){var r=d.outEdges(e).reduce(function(t,e){return Math.min(t,l[e.w]-d.edge(e))},Number.POSITIVE_INFINITY),n=t.node(e);r!==Number.POSITIVE_INFINITY&&n.borderType!==g&&(l[e]=Math.max(l[e],r))},d.successors.bind(d)),n.forEach(i,function(t){l[t]=l[r[t]]}),l}function l(t,e){return n.minBy(n.values(e),function(e){var r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return n.forIn(e,function(e,n){var i=t.node(n).width/2;r=Math.max(e+i,r),o=Math.min(e-i,o)}),r-o})}function d(t,e){var r=n.values(e),o=n.min(r),i=n.max(r);n.forEach(["u","d"],function(r){n.forEach(["l","r"],function(s){var u,a=r+s,h=t[a];if(h!==e){var c=n.values(h);(u="l"===s?o-n.min(c):i-n.max(c))&&(t[a]=n.mapValues(h,function(t){return t+u}))}})})}function g(t,e){return n.mapValues(t.ul,function(r,o){if(e)return t[e.toLowerCase()][o];var i=n.sortBy(n.map(t,o));return(i[1]+i[2])/2})}t.exports={positionX:function(t){var e,r=i.buildLayerMatrix(t),o=n.merge(s(t,r),u(t,r)),a={};n.forEach(["u","d"],function(i){e="u"===i?r:n.values(r).reverse(),n.forEach(["l","r"],function(r){"r"===r&&(e=n.map(e,function(t){return n.values(t).reverse()}));var s=("u"===i?t.predecessors:t.successors).bind(t),u=c(t,e,o,s),h=f(t,e,u.root,u.align,"r"===r);"r"===r&&(h=n.mapValues(h,function(t){return-t})),a[i+r]=h})});var h=l(t,a);return d(a,h),g(a,t.graph().align)},findType1Conflicts:s,findType2Conflicts:u,addConflict:a,hasConflict:h,verticalAlignment:c,horizontalCompaction:f,alignCoordinates:d,findSmallestWidthAlignment:l,balance:g}},63363:function(t,e,r){"use strict";var n=r(8217),o=r(92304),i=r(21006).positionX;t.exports=function(t){var e,r,s,u;e=t=o.asNonCompoundGraph(t),r=o.buildLayerMatrix(e),s=e.graph().ranksep,u=0,n.forEach(r,function(t){var r=n.max(n.map(t,function(t){return e.node(t).height}));n.forEach(t,function(t){e.node(t).y=u+r/2}),u+=r+s}),n.forEach(i(t),function(e,r){t.node(r).x=e})}},31848:function(t,e,r){"use strict";var n=r(8217),o=r(68509).Graph,i=r(74211).slack;t.exports=function(t){var e,r,s=new o({directed:!1}),u=t.nodes()[0],a=t.nodeCount();for(s.setNode(u,{});n.forEach(s.nodes(),function e(r){n.forEach(t.nodeEdges(r),function(n){var o=n.v,u=r===o?n.w:o;s.hasNode(u)||i(t,n)||(s.setNode(u,{}),s.setEdge(r,u,{}),e(u))})}),s.nodeCount()<a;)e=function(t,e){return n.minBy(e.edges(),function(r){if(t.hasNode(r.v)!==t.hasNode(r.w))return i(e,r)})}(s,t),r=s.hasNode(e.v)?i(t,e):-i(t,e),function(t,e,r){n.forEach(t.nodes(),function(t){e.node(t).rank+=r})}(s,t,r);return s}},65511:function(t,e,r){"use strict";var n=r(74211).longestPath,o=r(31848),i=r(37736);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":default:i(t);break;case"tight-tree":n(t),o(t);break;case"longest-path":s(t)}};var s=n},37736:function(t,e,r){"use strict";var n=r(8217),o=r(31848),i=r(74211).slack,s=r(74211).longestPath,u=r(68509).alg.preorder,a=r(68509).alg.postorder,h=r(92304).simplify;function c(t){s(t=h(t));var e,r,n=o(t);for(d(n),f(n,t);e=g(n);)r=p(n,t,e),v(n,t,e,r)}function f(t,e){var r=a(t,t.nodes());r=r.slice(0,r.length-1),n.forEach(r,function(r){var n;n=t.node(r).parent,t.edge(r,n).cutvalue=l(t,e,r)})}function l(t,e,r){var o=t.node(r).parent,i=!0,s=e.edge(r,o),u=0;return s||(i=!1,s=e.edge(o,r)),u=s.weight,n.forEach(e.nodeEdges(r),function(n){var s=n.v===r,a=s?n.w:n.v;if(a!==o){var h=s===i,c=e.edge(n).weight;if(u+=h?c:-c,t.hasEdge(r,a)){var f=t.edge(r,a).cutvalue;u+=h?-f:f}}}),u}function d(t,e){arguments.length<2&&(e=t.nodes()[0]),function t(e,r,o,i,s){var u=o,a=e.node(i);return r[i]=!0,n.forEach(e.neighbors(i),function(s){n.has(r,s)||(o=t(e,r,o,s,i))}),a.low=u,a.lim=o++,s?a.parent=s:delete a.parent,o}(t,{},1,e)}function g(t){return n.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function p(t,e,r){var o=r.v,s=r.w;e.hasEdge(o,s)||(o=r.w,s=r.v);var u=t.node(o),a=t.node(s),h=u,c=!1;u.lim>a.lim&&(h=a,c=!0);var f=n.filter(e.edges(),function(e){return c===m(t,t.node(e.v),h)&&c!==m(t,t.node(e.w),h)});return n.minBy(f,function(t){return i(e,t)})}function v(t,e,r,o){var i,s,a=r.v,h=r.w;t.removeEdge(a,h),t.setEdge(o.v,o.w,{}),d(t),f(t,e),i=n.find(t.nodes(),function(t){return!e.node(t).parent}),s=(s=u(t,i)).slice(1),n.forEach(s,function(r){var n=t.node(r).parent,o=e.edge(r,n),i=!1;o||(o=e.edge(n,r),i=!0),e.node(r).rank=e.node(n).rank+(i?o.minlen:-o.minlen)})}function m(t,e,r){return r.low<=e.lim&&e.lim<=r.lim}t.exports=c,c.initLowLimValues=d,c.initCutValues=f,c.calcCutValue=l,c.leaveEdge=g,c.enterEdge=p,c.exchangeEdges=v},74211:function(t,e,r){"use strict";var n=r(8217);t.exports={longestPath:function(t){var e={};n.forEach(t.sources(),function r(o){var i=t.node(o);if(n.has(e,o))return i.rank;e[o]=!0;var s=n.min(n.map(t.outEdges(o),function(e){return r(e.w)-t.edge(e).minlen}));return(s===Number.POSITIVE_INFINITY||null==s)&&(s=0),i.rank=s})},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},92304:function(t,e,r){"use strict";var n=r(8217),o=r(68509).Graph;function i(t,e,r,o){var i;do i=n.uniqueId(o);while(t.hasNode(i));return r.dummy=e,t.setNode(i,r),i}function s(t){return n.max(n.map(t.nodes(),function(e){var r=t.node(e).rank;if(!n.isUndefined(r))return r}))}t.exports={addDummyNode:i,simplify:function(t){var e=new o().setGraph(t.graph());return n.forEach(t.nodes(),function(r){e.setNode(r,t.node(r))}),n.forEach(t.edges(),function(r){var n=e.edge(r.v,r.w)||{weight:0,minlen:1},o=t.edge(r);e.setEdge(r.v,r.w,{weight:n.weight+o.weight,minlen:Math.max(n.minlen,o.minlen)})}),e},asNonCompoundGraph:function(t){var e=new o({multigraph:t.isMultigraph()}).setGraph(t.graph());return n.forEach(t.nodes(),function(r){t.children(r).length||e.setNode(r,t.node(r))}),n.forEach(t.edges(),function(r){e.setEdge(r,t.edge(r))}),e},successorWeights:function(t){var e=n.map(t.nodes(),function(e){var r={};return n.forEach(t.outEdges(e),function(e){r[e.w]=(r[e.w]||0)+t.edge(e).weight}),r});return n.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=n.map(t.nodes(),function(e){var r={};return n.forEach(t.inEdges(e),function(e){r[e.v]=(r[e.v]||0)+t.edge(e).weight}),r});return n.zipObject(t.nodes(),e)},intersectRect:function(t,e){var r,n,o=t.x,i=t.y,s=e.x-o,u=e.y-i,a=t.width/2,h=t.height/2;if(!s&&!u)throw Error("Not possible to find intersection inside of the rectangle");return Math.abs(u)*a>Math.abs(s)*h?(u<0&&(h=-h),r=h*s/u,n=h):(s<0&&(a=-a),r=a,n=a*u/s),{x:o+r,y:i+n}},buildLayerMatrix:function(t){var e=n.map(n.range(s(t)+1),function(){return[]});return n.forEach(t.nodes(),function(r){var o=t.node(r),i=o.rank;n.isUndefined(i)||(e[i][o.order]=r)}),e},normalizeRanks:function(t){var e=n.min(n.map(t.nodes(),function(e){return t.node(e).rank}));n.forEach(t.nodes(),function(r){var o=t.node(r);n.has(o,"rank")&&(o.rank-=e)})},removeEmptyRanks:function(t){var e=n.min(n.map(t.nodes(),function(e){return t.node(e).rank})),r=[];n.forEach(t.nodes(),function(n){var o=t.node(n).rank-e;r[o]||(r[o]=[]),r[o].push(n)});var o=0,i=t.graph().nodeRankFactor;n.forEach(r,function(e,r){n.isUndefined(e)&&r%i!=0?--o:o&&n.forEach(e,function(e){t.node(e).rank+=o})})},addBorderNode:function(t,e,r,n){var o={width:0,height:0};return arguments.length>=4&&(o.rank=r,o.order=n),i(t,"border",o,e)},maxRank:s,partition:function(t,e){var r={lhs:[],rhs:[]};return n.forEach(t,function(t){e(t)?r.lhs.push(t):r.rhs.push(t)}),r},time:function(t,e){var r=n.now();try{return e()}finally{console.log(t+" time: "+(n.now()-r)+"ms")}},notime:function(t,e){return e()}}},90975:function(t){t.exports="0.8.5"},16239:function(t,e,r){var n=r(23617);t.exports={Graph:n.Graph,json:r(53988),alg:r(92010),version:n.version}},49004:function(t,e,r){var n=r(91124);t.exports=function(t){var e,r={},o=[];return n.each(t.nodes(),function(i){e=[],function o(i){n.has(r,i)||(r[i]=!0,e.push(i),n.each(t.successors(i),o),n.each(t.predecessors(i),o))}(i),e.length&&o.push(e)}),o}},88827:function(t,e,r){var n=r(91124);t.exports=function(t,e,r){n.isArray(e)||(e=[e]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],s={};return n.each(e,function(e){if(!t.hasNode(e))throw Error("Graph does not have node: "+e);(function t(e,r,o,i,s,u){!n.has(i,r)&&(i[r]=!0,o||u.push(r),n.each(s(r),function(r){t(e,r,o,i,s,u)}),o&&u.push(r))})(t,e,"post"===r,s,o,i)}),i}},53659:function(t,e,r){var n=r(95070),o=r(91124);t.exports=function(t,e,r){return o.transform(t.nodes(),function(o,i){o[i]=n(t,i,e,r)},{})}},95070:function(t,e,r){var n=r(91124),o=r(60392);t.exports=function(t,e,r,n){return function(t,e,r,n){var i,s,u={},a=new o,h=function(t){var e=t.v!==i?t.v:t.w,n=u[e],o=r(t),h=s.distance+o;if(o<0)throw Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+o);h<n.distance&&(n.distance=h,n.predecessor=i,a.decrease(e,h))};for(t.nodes().forEach(function(t){var r=t===e?0:Number.POSITIVE_INFINITY;u[t]={distance:r},a.add(t,r)});a.size()>0&&(s=u[i=a.removeMin()]).distance!==Number.POSITIVE_INFINITY;)n(i).forEach(h);return u}(t,String(e),r||i,n||function(e){return t.outEdges(e)})};var i=n.constant(1)},53548:function(t,e,r){var n=r(91124),o=r(87299);t.exports=function(t){return n.filter(o(t),function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])})}},1637:function(t,e,r){var n=r(91124);t.exports=function(t,e,r){var n,i,s,u;return n=e||o,i=r||function(e){return t.outEdges(e)},s={},(u=t.nodes()).forEach(function(t){s[t]={},s[t][t]={distance:0},u.forEach(function(e){t!==e&&(s[t][e]={distance:Number.POSITIVE_INFINITY})}),i(t).forEach(function(e){var r=e.v===t?e.w:e.v,o=n(e);s[t][r]={distance:o,predecessor:t}})}),u.forEach(function(t){var e=s[t];u.forEach(function(r){var n=s[r];u.forEach(function(r){var o=n[t],i=e[r],s=n[r],u=o.distance+i.distance;u<s.distance&&(s.distance=u,s.predecessor=i.predecessor)})})}),s};var o=n.constant(1)},92010:function(t,e,r){t.exports={components:r(49004),dijkstra:r(95070),dijkstraAll:r(53659),findCycles:r(53548),floydWarshall:r(1637),isAcyclic:r(52974),postorder:r(88021),preorder:r(35954),prim:r(61102),tarjan:r(87299),topsort:r(12177)}},52974:function(t,e,r){var n=r(12177);t.exports=function(t){try{n(t)}catch(t){if(t instanceof n.CycleException)return!1;throw t}return!0}},88021:function(t,e,r){var n=r(88827);t.exports=function(t,e){return n(t,e,"post")}},35954:function(t,e,r){var n=r(88827);t.exports=function(t,e){return n(t,e,"pre")}},61102:function(t,e,r){var n=r(91124),o=r(58415),i=r(60392);t.exports=function(t,e){var r,s=new o,u={},a=new i;function h(t){var n=t.v===r?t.w:t.v,o=a.priority(n);if(void 0!==o){var i=e(t);i<o&&(u[n]=r,a.decrease(n,i))}}if(0===t.nodeCount())return s;n.each(t.nodes(),function(t){a.add(t,Number.POSITIVE_INFINITY),s.setNode(t)}),a.decrease(t.nodes()[0],0);for(var c=!1;a.size()>0;){if(r=a.removeMin(),n.has(u,r))s.setEdge(r,u[r]);else if(c)throw Error("Input graph is not connected: "+t);else c=!0;t.nodeEdges(r).forEach(h)}return s}},87299:function(t,e,r){var n=r(91124);t.exports=function(t){var e=0,r=[],o={},i=[];return t.nodes().forEach(function(s){n.has(o,s)||function s(u){var a=o[u]={onStack:!0,lowlink:e,index:e++};if(r.push(u),t.successors(u).forEach(function(t){n.has(o,t)?o[t].onStack&&(a.lowlink=Math.min(a.lowlink,o[t].index)):(s(t),a.lowlink=Math.min(a.lowlink,o[t].lowlink))}),a.lowlink===a.index){var h,c=[];do o[h=r.pop()].onStack=!1,c.push(h);while(u!==h);i.push(c)}}(s)}),i}},12177:function(t,e,r){var n=r(91124);function o(t){var e={},r={},o=[];if(n.each(t.sinks(),function s(u){if(n.has(r,u))throw new i;n.has(e,u)||(r[u]=!0,e[u]=!0,n.each(t.predecessors(u),s),delete r[u],o.push(u))}),n.size(e)!==t.nodeCount())throw new i;return o}function i(){}t.exports=o,o.CycleException=i,i.prototype=Error()},60392:function(t,e,r){var n=r(91124);function o(){this._arr=[],this._keyIndices={}}t.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map(function(t){return t.key})},o.prototype.has=function(t){return n.has(this._keyIndices,t)},o.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},o.prototype.min=function(){if(0===this.size())throw Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(t,e){var r=this._keyIndices;if(t=String(t),!n.has(r,t)){var o=this._arr,i=o.length;return r[t]=i,o.push({key:t,priority:e}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},o.prototype.decrease=function(t,e){var r=this._keyIndices[t];if(e>this._arr[r].priority)throw Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[r].priority+" New: "+e);this._arr[r].priority=e,this._decrease(r)},o.prototype._heapify=function(t){var e=this._arr,r=2*t,n=r+1,o=t;r<e.length&&(o=e[r].priority<e[o].priority?r:o,n<e.length&&(o=e[n].priority<e[o].priority?n:o),o!==t&&(this._swap(t,o),this._heapify(o)))},o.prototype._decrease=function(t){for(var e,r=this._arr,n=r[t].priority;0!==t&&!(r[e=t>>1].priority<n);)this._swap(t,e),t=e},o.prototype._swap=function(t,e){var r=this._arr,n=this._keyIndices,o=r[t],i=r[e];r[t]=i,r[e]=o,n[i.key]=t,n[o.key]=e}},58415:function(t,e,r){"use strict";var n=r(91124);function o(t){this._isDirected=!n.has(t,"directed")||t.directed,this._isMultigraph=!!n.has(t,"multigraph")&&t.multigraph,this._isCompound=!!n.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=n.constant(void 0),this._defaultEdgeLabelFn=n.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\x00"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function i(t,e){t[e]?t[e]++:t[e]=1}function s(t,e){--t[e]||delete t[e]}function u(t,e,r,o){var i=""+e,s=""+r;if(!t&&i>s){var u=i;i=s,s=u}return i+"\x01"+s+"\x01"+(n.isUndefined(o)?"\x00":o)}function a(t,e){return u(t,e.v,e.w,e.name)}t.exports=o,o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(t){return this._label=t,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(t){return n.isFunction(t)||(t=n.constant(t)),this._defaultNodeLabelFn=t,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return n.keys(this._nodes)},o.prototype.sources=function(){var t=this;return n.filter(this.nodes(),function(e){return n.isEmpty(t._in[e])})},o.prototype.sinks=function(){var t=this;return n.filter(this.nodes(),function(e){return n.isEmpty(t._out[e])})},o.prototype.setNodes=function(t,e){var r=arguments,o=this;return n.each(t,function(t){r.length>1?o.setNode(t,e):o.setNode(t)}),this},o.prototype.setNode=function(t,e){return n.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\x00",this._children[t]={},this._children["\x00"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},o.prototype.node=function(t){return this._nodes[t]},o.prototype.hasNode=function(t){return n.has(this._nodes,t)},o.prototype.removeNode=function(t){var e=this;if(n.has(this._nodes,t)){var r=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],n.each(this.children(t),function(t){e.setParent(t)}),delete this._children[t]),n.each(n.keys(this._in[t]),r),delete this._in[t],delete this._preds[t],n.each(n.keys(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},o.prototype.setParent=function(t,e){if(!this._isCompound)throw Error("Cannot set parent in a non-compound graph");if(n.isUndefined(e))e="\x00";else{e+="";for(var r=e;!n.isUndefined(r);r=this.parent(r))if(r===t)throw Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},o.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},o.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if("\x00"!==e)return e}},o.prototype.children=function(t){if(n.isUndefined(t)&&(t="\x00"),this._isCompound){var e=this._children[t];if(e)return n.keys(e)}else if("\x00"===t)return this.nodes();else if(this.hasNode(t))return[]},o.prototype.predecessors=function(t){var e=this._preds[t];if(e)return n.keys(e)},o.prototype.successors=function(t){var e=this._sucs[t];if(e)return n.keys(e)},o.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return n.union(e,this.successors(t))},o.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},o.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var r=this;n.each(this._nodes,function(r,n){t(n)&&e.setNode(n,r)}),n.each(this._edgeObjs,function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,r.edge(t))});var o={};return this._isCompound&&n.each(e.nodes(),function(t){e.setParent(t,function t(n){var i=r.parent(n);return void 0===i||e.hasNode(i)?(o[n]=i,i):i in o?o[i]:t(i)}(t))}),e},o.prototype.setDefaultEdgeLabel=function(t){return n.isFunction(t)||(t=n.constant(t)),this._defaultEdgeLabelFn=t,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return n.values(this._edgeObjs)},o.prototype.setPath=function(t,e){var r=this,o=arguments;return n.reduce(t,function(t,n){return o.length>1?r.setEdge(t,n,e):r.setEdge(t,n),n}),this},o.prototype.setEdge=function(){var t,e,r,o,s=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(t=a.v,e=a.w,r=a.name,2==arguments.length&&(o=arguments[1],s=!0)):(t=a,e=arguments[1],r=arguments[3],arguments.length>2&&(o=arguments[2],s=!0)),t=""+t,e=""+e,n.isUndefined(r)||(r=""+r);var h=u(this._isDirected,t,e,r);if(n.has(this._edgeLabels,h))return s&&(this._edgeLabels[h]=o),this;if(!n.isUndefined(r)&&!this._isMultigraph)throw Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[h]=s?o:this._defaultEdgeLabelFn(t,e,r);var c=function(t,e,r,n){var o=""+e,i=""+r;if(!t&&o>i){var s=o;o=i,i=s}var u={v:o,w:i};return n&&(u.name=n),u}(this._isDirected,t,e,r);return t=c.v,e=c.w,Object.freeze(c),this._edgeObjs[h]=c,i(this._preds[e],t),i(this._sucs[t],e),this._in[e][h]=c,this._out[t][h]=c,this._edgeCount++,this},o.prototype.edge=function(t,e,r){var n=1==arguments.length?a(this._isDirected,arguments[0]):u(this._isDirected,t,e,r);return this._edgeLabels[n]},o.prototype.hasEdge=function(t,e,r){var o=1==arguments.length?a(this._isDirected,arguments[0]):u(this._isDirected,t,e,r);return n.has(this._edgeLabels,o)},o.prototype.removeEdge=function(t,e,r){var n=1==arguments.length?a(this._isDirected,arguments[0]):u(this._isDirected,t,e,r),o=this._edgeObjs[n];return o&&(t=o.v,e=o.w,delete this._edgeLabels[n],delete this._edgeObjs[n],s(this._preds[e],t),s(this._sucs[t],e),delete this._in[e][n],delete this._out[t][n],this._edgeCount--),this},o.prototype.inEdges=function(t,e){var r=this._in[t];if(r){var o=n.values(r);return e?n.filter(o,function(t){return t.v===e}):o}},o.prototype.outEdges=function(t,e){var r=this._out[t];if(r){var o=n.values(r);return e?n.filter(o,function(t){return t.w===e}):o}},o.prototype.nodeEdges=function(t,e){var r=this.inEdges(t,e);if(r)return r.concat(this.outEdges(t,e))}},23617:function(t,e,r){t.exports={Graph:r(58415),version:r(58183)}},53988:function(t,e,r){var n=r(91124),o=r(58415);t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:n.map(t.nodes(),function(e){var r=t.node(e),o=t.parent(e),i={v:e};return n.isUndefined(r)||(i.value=r),n.isUndefined(o)||(i.parent=o),i}),edges:n.map(t.edges(),function(e){var r=t.edge(e),o={v:e.v,w:e.w};return n.isUndefined(e.name)||(o.name=e.name),n.isUndefined(r)||(o.value=r),o})};return n.isUndefined(t.graph())||(e.value=n.clone(t.graph())),e},read:function(t){var e=new o(t.options).setGraph(t.value);return n.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),n.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}}},91124:function(t,e,r){var n;try{n={clone:r(55824),constant:r(64806),each:r(15828),filter:r(3149),has:r(56611),isArray:r(24669),isEmpty:r(82691),isFunction:r(92042),isUndefined:r(89300),keys:r(50579),map:r(65512),reduce:r(6355),size:r(81430),transform:r(68742),union:r(29974),values:r(61017)}}catch(t){}n||(n=window._),t.exports=n},58183:function(t){t.exports="2.1.8"},60804:function(t,e,r){"use strict";r.r(e),r.d(e,{isAnyArray:function(){return o}});let n=Object.prototype.toString;function o(t){let e=n.call(t);return e.endsWith("Array]")&&!e.includes("Big")}},87269:function(t,e,r){var n=r(47758)(r(29165),"DataView");t.exports=n},88987:function(t,e,r){var n=r(71519),o=r(82999),i=r(76111),s=r(50506),u=r(80845);function a(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}a.prototype.clear=n,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=s,a.prototype.set=u,t.exports=a},175:function(t,e,r){var n=r(2173),o=r(33752),i=r(10548),s=r(63410),u=r(3564);function a(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}a.prototype.clear=n,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=s,a.prototype.set=u,t.exports=a},35922:function(t,e,r){var n=r(47758)(r(29165),"Map");t.exports=n},9440:function(t,e,r){var n=r(7140),o=r(56504),i=r(88833),s=r(80953),u=r(70724);function a(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}a.prototype.clear=n,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=s,a.prototype.set=u,t.exports=a},6795:function(t,e,r){var n=r(47758)(r(29165),"Promise");t.exports=n},81956:function(t,e,r){var n=r(47758)(r(29165),"Set");t.exports=n},78188:function(t,e,r){var n=r(9440),o=r(96659),i=r(97230);function s(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}s.prototype.add=s.prototype.push=o,s.prototype.has=i,t.exports=s},5929:function(t,e,r){var n=r(175),o=r(40551),i=r(4090),s=r(47694),u=r(86220),a=r(68958);function h(t){var e=this.__data__=new n(t);this.size=e.size}h.prototype.clear=o,h.prototype.delete=i,h.prototype.get=s,h.prototype.has=u,h.prototype.set=a,t.exports=h},92210:function(t,e,r){var n=r(29165).Uint8Array;t.exports=n},69477:function(t,e,r){var n=r(47758)(r(29165),"WeakMap");t.exports=n},93501:function(t){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},21662:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},48969:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var s=t[r];e(s,r,t)&&(i[o++]=s)}return i}},45170:function(t,e,r){var n=r(69154);t.exports=function(t,e){return!!(null==t?0:t.length)&&n(t,e,0)>-1}},94936:function(t){t.exports=function(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}},79809:function(t,e,r){var n=r(39739),o=r(30353),i=r(24669),s=r(61563),u=r(91010),a=r(73806),h=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),c=!r&&o(t),f=!r&&!c&&s(t),l=!r&&!c&&!f&&a(t),d=r||c||f||l,g=d?n(t.length,String):[],p=g.length;for(var v in t)(e||h.call(t,v))&&!(d&&("length"==v||f&&("offset"==v||"parent"==v)||l&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||u(v,p)))&&g.push(v);return g}},75697:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},28486:function(t){t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},30695:function(t){t.exports=function(t,e,r,n){var o=-1,i=null==t?0:t.length;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}},84330:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},15989:function(t,e,r){var n=r(17498)("length");t.exports=n},72340:function(t,e,r){var n=r(30404),o=r(42448);t.exports=function(t,e,r){(void 0===r||o(t[e],r))&&(void 0!==r||e in t)||n(t,e,r)}},93719:function(t,e,r){var n=r(30404),o=r(42448),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var s=t[e];i.call(t,e)&&o(s,r)&&(void 0!==r||e in t)||n(t,e,r)}},62718:function(t,e,r){var n=r(42448);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return -1}},43472:function(t,e,r){var n=r(92434),o=r(50579);t.exports=function(t,e){return t&&n(e,o(e),t)}},7254:function(t,e,r){var n=r(92434),o=r(37390);t.exports=function(t,e){return t&&n(e,o(e),t)}},30404:function(t,e,r){var n=r(34082);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},67410:function(t,e,r){var n=r(5929),o=r(21662),i=r(93719),s=r(43472),u=r(7254),a=r(39767),h=r(47165),c=r(8782),f=r(2667),l=r(69698),d=r(21699),g=r(81887),p=r(12195),v=r(46740),m=r(36404),y=r(24669),w=r(61563),x=r(32924),b=r(36838),E=r(45380),_=r(50579),M=r(37390),N="[object Arguments]",k="[object Function]",S="[object Object]",A={};A[N]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[S]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[k]=A["[object WeakMap]"]=!1,t.exports=function t(e,r,j,I,R,C){var T,O=1&r,z=2&r,P=4&r;if(j&&(T=R?j(e,I,R,C):j(e)),void 0!==T)return T;if(!b(e))return e;var F=y(e);if(F){if(T=p(e),!O)return h(e,T)}else{var D=g(e),q=D==k||"[object GeneratorFunction]"==D;if(w(e))return a(e,O);if(D==S||D==N||q&&!R){if(T=z||q?{}:m(e),!O)return z?f(e,u(T,e)):c(e,s(T,e))}else{if(!A[D])return R?e:{};T=v(e,D,O)}}C||(C=new n);var V=C.get(e);if(V)return V;C.set(e,T),E(e)?e.forEach(function(n){T.add(t(n,r,j,n,e,C))}):x(e)&&e.forEach(function(n,o){T.set(o,t(n,r,j,o,e,C))});var L=P?z?d:l:z?M:_,U=F?void 0:L(e);return o(U||e,function(n,o){U&&(n=e[o=n]),i(T,o,t(n,r,j,o,e,C))}),T}},91348:function(t,e,r){var n=r(36838),o=Object.create,i=function(){function t(){}return function(e){if(!n(e))return{};if(o)return o(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=i},30438:function(t,e,r){var n=r(61343),o=r(8202)(n);t.exports=o},24210:function(t,e,r){var n=r(16764);t.exports=function(t,e,r){for(var o=-1,i=t.length;++o<i;){var s=t[o],u=e(s);if(null!=u&&(void 0===a?u==u&&!n(u):r(u,a)))var a=u,h=s}return h}},88286:function(t,e,r){var n=r(30438);t.exports=function(t,e){var r=[];return n(t,function(t,n,o){e(t,n,o)&&r.push(t)}),r}},92504:function(t){t.exports=function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return -1}},98768:function(t,e,r){var n=r(28486),o=r(89465);t.exports=function t(e,r,i,s,u){var a=-1,h=e.length;for(i||(i=o),u||(u=[]);++a<h;){var c=e[a];r>0&&i(c)?r>1?t(c,r-1,i,s,u):n(u,c):s||(u[u.length]=c)}return u}},91030:function(t,e,r){var n=r(29)();t.exports=n},61343:function(t,e,r){var n=r(91030),o=r(50579);t.exports=function(t,e){return t&&n(t,e,o)}},97499:function(t,e,r){var n=r(60399),o=r(77817);t.exports=function(t,e){e=n(e,t);for(var r=0,i=e.length;null!=t&&r<i;)t=t[o(e[r++])];return r&&r==i?t:void 0}},38084:function(t,e,r){var n=r(28486),o=r(24669);t.exports=function(t,e,r){var i=e(t);return o(t)?i:n(i,r(t))}},39491:function(t){t.exports=function(t,e){return t>e}},45435:function(t){var e=Object.prototype.hasOwnProperty;t.exports=function(t,r){return null!=t&&e.call(t,r)}},71664:function(t){t.exports=function(t,e){return null!=t&&e in Object(t)}},69154:function(t,e,r){var n=r(92504),o=r(99940),i=r(3729);t.exports=function(t,e,r){return e==e?i(t,e,r):n(t,o,r)}},84742:function(t,e,r){var n=r(80732),o=r(55073);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},6620:function(t,e,r){var n=r(83977),o=r(55073);t.exports=function t(e,r,i,s,u){return e===r||(null!=e&&null!=r&&(o(e)||o(r))?n(e,r,i,s,t,u):e!=e&&r!=r)}},83977:function(t,e,r){var n=r(5929),o=r(22684),i=r(7456),s=r(18120),u=r(81887),a=r(24669),h=r(61563),c=r(73806),f="[object Arguments]",l="[object Array]",d="[object Object]",g=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,p,v,m){var y=a(t),w=a(e),x=y?l:u(t),b=w?l:u(e);x=x==f?d:x,b=b==f?d:b;var E=x==d,_=b==d,M=x==b;if(M&&h(t)){if(!h(e))return!1;y=!0,E=!1}if(M&&!E)return m||(m=new n),y||c(t)?o(t,e,r,p,v,m):i(t,e,x,r,p,v,m);if(!(1&r)){var N=E&&g.call(t,"__wrapped__"),k=_&&g.call(e,"__wrapped__");if(N||k){var S=N?t.value():t,A=k?e.value():e;return m||(m=new n),v(S,A,r,p,m)}}return!!M&&(m||(m=new n),s(t,e,r,p,v,m))}},64033:function(t,e,r){var n=r(81887),o=r(55073);t.exports=function(t){return o(t)&&"[object Map]"==n(t)}},27122:function(t,e,r){var n=r(5929),o=r(6620);t.exports=function(t,e,r,i){var s=r.length,u=s,a=!i;if(null==t)return!u;for(t=Object(t);s--;){var h=r[s];if(a&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++s<u;){var c=(h=r[s])[0],f=t[c],l=h[1];if(a&&h[2]){if(void 0===f&&!(c in t))return!1}else{var d=new n;if(i)var g=i(f,l,c,t,e,d);if(!(void 0===g?o(l,f,3,i,d):g))return!1}}return!0}},99940:function(t){t.exports=function(t){return t!=t}},58939:function(t,e,r){var n=r(92042),o=r(90654),i=r(36838),s=r(51059),u=/^\[object .+?Constructor\]$/,a=Object.prototype,h=Function.prototype.toString,c=a.hasOwnProperty,f=RegExp("^"+h.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(n(t)?f:u).test(s(t))}},28264:function(t,e,r){var n=r(81887),o=r(55073);t.exports=function(t){return o(t)&&"[object Set]"==n(t)}},96845:function(t,e,r){var n=r(80732),o=r(17216),i=r(55073),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!s[n(t)]}},5673:function(t,e,r){var n=r(3772),o=r(30493),i=r(48148),s=r(24669),u=r(51798);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?s(t)?o(t[0],t[1]):n(t):u(t)}},87473:function(t,e,r){var n=r(92963),o=r(14457),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))i.call(t,r)&&"constructor"!=r&&e.push(r);return e}},52506:function(t,e,r){var n=r(36838),o=r(92963),i=r(10814),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=o(t),r=[];for(var u in t)"constructor"==u&&(e||!s.call(t,u))||r.push(u);return r}},42800:function(t){t.exports=function(t,e){return t<e}},66494:function(t,e,r){var n=r(30438),o=r(47428);t.exports=function(t,e){var r=-1,i=o(t)?Array(t.length):[];return n(t,function(t,n,o){i[++r]=e(t,n,o)}),i}},3772:function(t,e,r){var n=r(27122),o=r(67487),i=r(78857);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},30493:function(t,e,r){var n=r(6620),o=r(65439),i=r(28281),s=r(2610),u=r(92769),a=r(78857),h=r(77817);t.exports=function(t,e){return s(t)&&u(e)?a(h(t),e):function(r){var s=o(r,t);return void 0===s&&s===e?i(r,t):n(e,s,3)}}},97254:function(t,e,r){var n=r(5929),o=r(72340),i=r(91030),s=r(10715),u=r(36838),a=r(37390),h=r(72014);t.exports=function t(e,r,c,f,l){e!==r&&i(r,function(i,a){if(l||(l=new n),u(i))s(e,r,a,c,t,f,l);else{var d=f?f(h(e,a),i,a+"",e,r,l):void 0;void 0===d&&(d=i),o(e,a,d)}},a)}},10715:function(t,e,r){var n=r(72340),o=r(39767),i=r(27136),s=r(47165),u=r(36404),a=r(30353),h=r(24669),c=r(57348),f=r(61563),l=r(92042),d=r(36838),g=r(69143),p=r(73806),v=r(72014),m=r(85111);t.exports=function(t,e,r,y,w,x,b){var E=v(t,r),_=v(e,r),M=b.get(_);if(M){n(t,r,M);return}var N=x?x(E,_,r+"",t,e,b):void 0,k=void 0===N;if(k){var S=h(_),A=!S&&f(_),j=!S&&!A&&p(_);N=_,S||A||j?h(E)?N=E:c(E)?N=s(E):A?(k=!1,N=o(_,!0)):j?(k=!1,N=i(_,!0)):N=[]:g(_)||a(_)?(N=E,a(E)?N=m(E):(!d(E)||l(E))&&(N=u(_))):k=!1}k&&(b.set(_,N),w(N,_,y,x,b),b.delete(_)),n(t,r,N)}},84994:function(t,e,r){var n=r(75697),o=r(97499),i=r(5673),s=r(66494),u=r(16584),a=r(58792),h=r(35395),c=r(48148),f=r(24669);t.exports=function(t,e,r){e=e.length?n(e,function(t){return f(t)?function(e){return o(e,1===t.length?t[0]:t)}:t}):[c];var l=-1;return e=n(e,a(i)),u(s(t,function(t,r,o){return{criteria:n(e,function(e){return e(t)}),index:++l,value:t}}),function(t,e){return h(t,e,r)})}},54822:function(t,e,r){var n=r(32648),o=r(28281);t.exports=function(t,e){return n(t,e,function(e,r){return o(t,r)})}},32648:function(t,e,r){var n=r(97499),o=r(85713),i=r(60399);t.exports=function(t,e,r){for(var s=-1,u=e.length,a={};++s<u;){var h=e[s],c=n(t,h);r(c,h)&&o(a,i(h,t),c)}return a}},17498:function(t){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},71e3:function(t,e,r){var n=r(97499);t.exports=function(t){return function(e){return n(e,t)}}},5108:function(t){var e=Math.ceil,r=Math.max;t.exports=function(t,n,o,i){for(var s=-1,u=r(e((n-t)/(o||1)),0),a=Array(u);u--;)a[i?u:++s]=t,t+=o;return a}},75857:function(t){t.exports=function(t,e,r,n,o){return o(t,function(t,o,i){r=n?(n=!1,t):e(r,t,o,i)}),r}},5125:function(t,e,r){var n=r(48148),o=r(20323),i=r(71564);t.exports=function(t,e){return i(o(t,e,n),t+"")}},85713:function(t,e,r){var n=r(93719),o=r(60399),i=r(91010),s=r(36838),u=r(77817);t.exports=function(t,e,r,a){if(!s(t))return t;e=o(e,t);for(var h=-1,c=e.length,f=c-1,l=t;null!=l&&++h<c;){var d=u(e[h]),g=r;if("__proto__"===d||"constructor"===d||"prototype"===d)break;if(h!=f){var p=l[d];void 0===(g=a?a(p,d,l):void 0)&&(g=s(p)?p:i(e[h+1])?[]:{})}n(l,d,g),l=l[d]}return t}},56447:function(t,e,r){var n=r(64806),o=r(34082),i=r(48148),s=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:i;t.exports=s},16584:function(t){t.exports=function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}},39739:function(t){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},73150:function(t,e,r){var n=r(74396),o=r(75697),i=r(24669),s=r(16764),u=1/0,a=n?n.prototype:void 0,h=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(s(e))return h?h.call(e):"";var r=e+"";return"0"==r&&1/e==-u?"-0":r}},58792:function(t){t.exports=function(t){return function(e){return t(e)}}},95453:function(t,e,r){var n=r(78188),o=r(45170),i=r(94936),s=r(29880),u=r(17319),a=r(79967);t.exports=function(t,e,r){var h=-1,c=o,f=t.length,l=!0,d=[],g=d;if(r)l=!1,c=i;else if(f>=200){var p=e?null:u(t);if(p)return a(p);l=!1,c=s,g=new n}else g=e?[]:d;t:for(;++h<f;){var v=t[h],m=e?e(v):v;if(v=r||0!==v?v:0,l&&m==m){for(var y=g.length;y--;)if(g[y]===m)continue t;e&&g.push(m),d.push(v)}else c(g,m,r)||(g!==d&&g.push(m),d.push(v))}return d}},44290:function(t,e,r){var n=r(75697);t.exports=function(t,e){return n(e,function(e){return t[e]})}},59654:function(t){t.exports=function(t,e,r){for(var n=-1,o=t.length,i=e.length,s={};++n<o;){var u=n<i?e[n]:void 0;r(s,t[n],u)}return s}},29880:function(t){t.exports=function(t,e){return t.has(e)}},97008:function(t,e,r){var n=r(48148);t.exports=function(t){return"function"==typeof t?t:n}},60399:function(t,e,r){var n=r(24669),o=r(2610),i=r(77057),s=r(8389);t.exports=function(t,e){return n(t)?t:o(t,e)?[t]:i(s(t))}},78925:function(t,e,r){var n=r(92210);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},39767:function(t,e,r){t=r.nmd(t);var n=r(29165),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,s=i&&i.exports===o?n.Buffer:void 0,u=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=u?u(r):new t.constructor(r);return t.copy(n),n}},56157:function(t,e,r){var n=r(78925);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},80101:function(t){var e=/\w*$/;t.exports=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}},54920:function(t,e,r){var n=r(74396),o=n?n.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},27136:function(t,e,r){var n=r(78925);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},24687:function(t,e,r){var n=r(16764);t.exports=function(t,e){if(t!==e){var r=void 0!==t,o=null===t,i=t==t,s=n(t),u=void 0!==e,a=null===e,h=e==e,c=n(e);if(!a&&!c&&!s&&t>e||s&&u&&h&&!a&&!c||o&&u&&h||!r&&h||!i)return 1;if(!o&&!s&&!c&&t<e||c&&r&&i&&!o&&!s||a&&r&&i||!u&&i||!h)return -1}return 0}},35395:function(t,e,r){var n=r(24687);t.exports=function(t,e,r){for(var o=-1,i=t.criteria,s=e.criteria,u=i.length,a=r.length;++o<u;){var h=n(i[o],s[o]);if(h){if(o>=a)return h;return h*("desc"==r[o]?-1:1)}}return t.index-e.index}},47165:function(t){t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},92434:function(t,e,r){var n=r(93719),o=r(30404);t.exports=function(t,e,r,i){var s=!r;r||(r={});for(var u=-1,a=e.length;++u<a;){var h=e[u],c=i?i(r[h],t[h],h,r,t):void 0;void 0===c&&(c=t[h]),s?o(r,h,c):n(r,h,c)}return r}},8782:function(t,e,r){var n=r(92434),o=r(97482);t.exports=function(t,e){return n(t,o(t),e)}},2667:function(t,e,r){var n=r(92434),o=r(41288);t.exports=function(t,e){return n(t,o(t),e)}},36633:function(t,e,r){var n=r(29165)["__core-js_shared__"];t.exports=n},77991:function(t,e,r){var n=r(5125),o=r(97616);t.exports=function(t){return n(function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,u=i>2?r[2]:void 0;for(s=t.length>3&&"function"==typeof s?(i--,s):void 0,u&&o(r[0],r[1],u)&&(s=i<3?void 0:s,i=1),e=Object(e);++n<i;){var a=r[n];a&&t(e,a,n,s)}return e})}},8202:function(t,e,r){var n=r(47428);t.exports=function(t,e){return function(r,o){if(null==r)return r;if(!n(r))return t(r,o);for(var i=r.length,s=e?i:-1,u=Object(r);(e?s--:++s<i)&&!1!==o(u[s],s,u););return r}}},29:function(t){t.exports=function(t){return function(e,r,n){for(var o=-1,i=Object(e),s=n(e),u=s.length;u--;){var a=s[t?u:++o];if(!1===r(i[a],a,i))break}return e}}},34715:function(t,e,r){var n=r(5673),o=r(47428),i=r(50579);t.exports=function(t){return function(e,r,s){var u=Object(e);if(!o(e)){var a=n(r,3);e=i(e),r=function(t){return a(u[t],t,u)}}var h=t(e,r,s);return h>-1?u[a?e[h]:h]:void 0}}},1293:function(t,e,r){var n=r(5108),o=r(97616),i=r(70986);t.exports=function(t){return function(e,r,s){return s&&"number"!=typeof s&&o(e,r,s)&&(r=s=void 0),e=i(e),void 0===r?(r=e,e=0):r=i(r),s=void 0===s?e<r?1:-1:i(s),n(e,r,s,t)}}},17319:function(t,e,r){var n=r(81956),o=r(43226),i=r(79967),s=n&&1/i(new n([,-0]))[1]==1/0?function(t){return new n(t)}:o;t.exports=s},34082:function(t,e,r){var n=r(47758),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},22684:function(t,e,r){var n=r(78188),o=r(84330),i=r(29880);t.exports=function(t,e,r,s,u,a){var h=1&r,c=t.length,f=e.length;if(c!=f&&!(h&&f>c))return!1;var l=a.get(t),d=a.get(e);if(l&&d)return l==e&&d==t;var g=-1,p=!0,v=2&r?new n:void 0;for(a.set(t,e),a.set(e,t);++g<c;){var m=t[g],y=e[g];if(s)var w=h?s(y,m,g,e,t,a):s(m,y,g,t,e,a);if(void 0!==w){if(w)continue;p=!1;break}if(v){if(!o(e,function(t,e){if(!i(v,e)&&(m===t||u(m,t,r,s,a)))return v.push(e)})){p=!1;break}}else if(!(m===y||u(m,y,r,s,a))){p=!1;break}}return a.delete(t),a.delete(e),p}},7456:function(t,e,r){var n=r(74396),o=r(92210),i=r(42448),s=r(22684),u=r(7523),a=r(79967),h=n?n.prototype:void 0,c=h?h.valueOf:void 0;t.exports=function(t,e,r,n,h,f,l){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":if(t.byteLength!=e.byteLength||!f(new o(t),new o(e)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=u;case"[object Set]":var g=1&n;if(d||(d=a),t.size!=e.size&&!g)break;var p=l.get(t);if(p)return p==e;n|=2,l.set(t,e);var v=s(d(t),d(e),n,h,f,l);return l.delete(t),v;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},18120:function(t,e,r){var n=r(69698),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,i,s,u){var a=1&r,h=n(t),c=h.length;if(c!=n(e).length&&!a)return!1;for(var f=c;f--;){var l=h[f];if(!(a?l in e:o.call(e,l)))return!1}var d=u.get(t),g=u.get(e);if(d&&g)return d==e&&g==t;var p=!0;u.set(t,e),u.set(e,t);for(var v=a;++f<c;){var m=t[l=h[f]],y=e[l];if(i)var w=a?i(y,m,l,e,t,u):i(m,y,l,t,e,u);if(!(void 0===w?m===y||s(m,y,r,i,u):w)){p=!1;break}v||(v="constructor"==l)}if(p&&!v){var x=t.constructor,b=e.constructor;x!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof x&&x instanceof x&&"function"==typeof b&&b instanceof b)&&(p=!1)}return u.delete(t),u.delete(e),p}},54874:function(t,e,r){var n=r(22612),o=r(20323),i=r(71564);t.exports=function(t){return i(o(t,void 0,n),t+"")}},69698:function(t,e,r){var n=r(38084),o=r(97482),i=r(50579);t.exports=function(t){return n(t,i,o)}},21699:function(t,e,r){var n=r(38084),o=r(41288),i=r(37390);t.exports=function(t){return n(t,i,o)}},67707:function(t,e,r){var n=r(3880);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},67487:function(t,e,r){var n=r(92769),o=r(50579);t.exports=function(t){for(var e=o(t),r=e.length;r--;){var i=e[r],s=t[i];e[r]=[i,s,n(s)]}return e}},47758:function(t,e,r){var n=r(58939),o=r(9149);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},11389:function(t,e,r){var n=r(75542)(Object.getPrototypeOf,Object);t.exports=n},97482:function(t,e,r){var n=r(48969),o=r(68036),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(t){return null==t?[]:n(s(t=Object(t)),function(e){return i.call(t,e)})}:o;t.exports=u},41288:function(t,e,r){var n=r(28486),o=r(11389),i=r(97482),s=r(68036),u=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,i(t)),t=o(t);return e}:s;t.exports=u},81887:function(t,e,r){var n=r(87269),o=r(35922),i=r(6795),s=r(81956),u=r(69477),a=r(80732),h=r(51059),c="[object Map]",f="[object Promise]",l="[object Set]",d="[object WeakMap]",g="[object DataView]",p=h(n),v=h(o),m=h(i),y=h(s),w=h(u),x=a;(n&&x(new n(new ArrayBuffer(1)))!=g||o&&x(new o)!=c||i&&x(i.resolve())!=f||s&&x(new s)!=l||u&&x(new u)!=d)&&(x=function(t){var e=a(t),r="[object Object]"==e?t.constructor:void 0,n=r?h(r):"";if(n)switch(n){case p:return g;case v:return c;case m:return f;case y:return l;case w:return d}return e}),t.exports=x},9149:function(t){t.exports=function(t,e){return null==t?void 0:t[e]}},18554:function(t,e,r){var n=r(60399),o=r(30353),i=r(24669),s=r(91010),u=r(17216),a=r(77817);t.exports=function(t,e,r){e=n(e,t);for(var h=-1,c=e.length,f=!1;++h<c;){var l=a(e[h]);if(!(f=null!=t&&r(t,l)))break;t=t[l]}return f||++h!=c?f:!!(c=null==t?0:t.length)&&u(c)&&s(l,c)&&(i(t)||o(t))}},30080:function(t){var e=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return e.test(t)}},71519:function(t,e,r){var n=r(37722);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},82999:function(t){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},76111:function(t,e,r){var n=r(37722),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},50506:function(t,e,r){var n=r(37722),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},80845:function(t,e,r){var n=r(37722);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},12195:function(t){var e=Object.prototype.hasOwnProperty;t.exports=function(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},46740:function(t,e,r){var n=r(78925),o=r(56157),i=r(80101),s=r(54920),u=r(27136);t.exports=function(t,e,r){var a=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new a(+t);case"[object DataView]":return o(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(t,r);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(t);case"[object RegExp]":return i(t);case"[object Symbol]":return s(t)}}},36404:function(t,e,r){var n=r(91348),o=r(11389),i=r(92963);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:n(o(t))}},89465:function(t,e,r){var n=r(74396),o=r(30353),i=r(24669),s=n?n.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(s&&t&&t[s])}},91010:function(t){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},97616:function(t,e,r){var n=r(42448),o=r(47428),i=r(91010),s=r(36838);t.exports=function(t,e,r){if(!s(r))return!1;var u=typeof e;return("number"==u?!!(o(r)&&i(e,r.length)):"string"==u&&e in r)&&n(r[e],t)}},2610:function(t,e,r){var n=r(24669),o=r(16764),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!!("number"==r||"symbol"==r||"boolean"==r||null==t||o(t))||s.test(t)||!i.test(t)||null!=e&&t in Object(e)}},3880:function(t){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},90654:function(t,e,r){var n,o=r(36633),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!i&&i in t}},92963:function(t){var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor,n="function"==typeof r&&r.prototype||e;return t===n}},92769:function(t,e,r){var n=r(36838);t.exports=function(t){return t==t&&!n(t)}},2173:function(t){t.exports=function(){this.__data__=[],this.size=0}},33752:function(t,e,r){var n=r(62718),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():o.call(e,r,1),--this.size,!0)}},10548:function(t,e,r){var n=r(62718);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},63410:function(t,e,r){var n=r(62718);t.exports=function(t){return n(this.__data__,t)>-1}},3564:function(t,e,r){var n=r(62718);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},7140:function(t,e,r){var n=r(88987),o=r(175),i=r(35922);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},56504:function(t,e,r){var n=r(67707);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},88833:function(t,e,r){var n=r(67707);t.exports=function(t){return n(this,t).get(t)}},80953:function(t,e,r){var n=r(67707);t.exports=function(t){return n(this,t).has(t)}},70724:function(t,e,r){var n=r(67707);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},7523:function(t){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}},78857:function(t){t.exports=function(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}}},45171:function(t,e,r){var n=r(34736);t.exports=function(t){var e=n(t,function(t){return 500===r.size&&r.clear(),t}),r=e.cache;return e}},37722:function(t,e,r){var n=r(47758)(Object,"create");t.exports=n},14457:function(t,e,r){var n=r(75542)(Object.keys,Object);t.exports=n},10814:function(t){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},8478:function(t,e,r){t=r.nmd(t);var n=r(96476),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,s=i&&i.exports===o&&n.process,u=function(){try{var t=i&&i.require&&i.require("util").types;if(t)return t;return s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=u},75542:function(t){t.exports=function(t,e){return function(r){return t(e(r))}}},20323:function(t,e,r){var n=r(93501),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,s=-1,u=o(i.length-e,0),a=Array(u);++s<u;)a[s]=i[e+s];s=-1;for(var h=Array(e+1);++s<e;)h[s]=i[s];return h[e]=r(a),n(t,this,h)}}},72014:function(t){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},96659:function(t){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},97230:function(t){t.exports=function(t){return this.__data__.has(t)}},79967:function(t){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}},71564:function(t,e,r){var n=r(56447),o=r(15509)(n);t.exports=o},15509:function(t){var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var o=e(),i=16-(o-n);if(n=o,i>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},40551:function(t,e,r){var n=r(175);t.exports=function(){this.__data__=new n,this.size=0}},4090:function(t){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},47694:function(t){t.exports=function(t){return this.__data__.get(t)}},86220:function(t){t.exports=function(t){return this.__data__.has(t)}},68958:function(t,e,r){var n=r(175),o=r(35922),i=r(9440);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!o||s.length<199)return s.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(s)}return r.set(t,e),this.size=r.size,this}},3729:function(t){t.exports=function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return -1}},68905:function(t,e,r){var n=r(15989),o=r(30080),i=r(43352);t.exports=function(t){return o(t)?i(t):n(t)}},77057:function(t,e,r){var n=r(45171),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=n(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,function(t,r,n,o){e.push(n?o.replace(i,"$1"):r||t)}),e});t.exports=s},77817:function(t,e,r){var n=r(16764),o=1/0;t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}},51059:function(t){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},43352:function(t){var e="\ud800-\udfff",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\ud83c[\udffb-\udfff]",o="[^"+e+"]",i="(?:\ud83c[\udde6-\uddff]){2}",s="[\ud800-\udbff][\udc00-\udfff]",u="(?:"+r+"|"+n+")?",a="[\\ufe0e\\ufe0f]?",h="(?:\\u200d(?:"+[o,i,s].join("|")+")"+a+u+")*",c=RegExp(n+"(?="+n+")|(?:"+[o+r+"?",r,i,s,"["+e+"]"].join("|")+")"+(a+u+h),"g");t.exports=function(t){for(var e=c.lastIndex=0;c.test(t);)++e;return e}},55824:function(t,e,r){var n=r(67410);t.exports=function(t){return n(t,4)}},32222:function(t,e,r){var n=r(67410);t.exports=function(t){return n(t,5)}},64806:function(t){t.exports=function(t){return function(){return t}}},91099:function(t,e,r){var n=r(5125),o=r(42448),i=r(97616),s=r(37390),u=Object.prototype,a=u.hasOwnProperty,h=n(function(t,e){t=Object(t);var r=-1,n=e.length,h=n>2?e[2]:void 0;for(h&&i(e[0],e[1],h)&&(n=1);++r<n;)for(var c=e[r],f=s(c),l=-1,d=f.length;++l<d;){var g=f[l],p=t[g];(void 0===p||o(p,u[g])&&!a.call(t,g))&&(t[g]=c[g])}return t});t.exports=h},15828:function(t,e,r){t.exports=r(17489)},42448:function(t){t.exports=function(t,e){return t===e||t!=t&&e!=e}},3149:function(t,e,r){var n=r(48969),o=r(88286),i=r(5673),s=r(24669);t.exports=function(t,e){return(s(t)?n:o)(t,i(e,3))}},33170:function(t,e,r){var n=r(34715)(r(33886));t.exports=n},33886:function(t,e,r){var n=r(92504),o=r(5673),i=r(20426),s=Math.max;t.exports=function(t,e,r){var u=null==t?0:t.length;if(!u)return -1;var a=null==r?0:i(r);return a<0&&(a=s(u+a,0)),n(t,o(e,3),a)}},22612:function(t,e,r){var n=r(98768);t.exports=function(t){return(null==t?0:t.length)?n(t,1):[]}},17489:function(t,e,r){var n=r(21662),o=r(30438),i=r(97008),s=r(24669);t.exports=function(t,e){return(s(t)?n:o)(t,i(e))}},37229:function(t,e,r){var n=r(91030),o=r(97008),i=r(37390);t.exports=function(t,e){return null==t?t:n(t,o(e),i)}},65439:function(t,e,r){var n=r(97499);t.exports=function(t,e,r){var o=null==t?void 0:n(t,e);return void 0===o?r:o}},56611:function(t,e,r){var n=r(45435),o=r(18554);t.exports=function(t,e){return null!=t&&o(t,e,n)}},28281:function(t,e,r){var n=r(71664),o=r(18554);t.exports=function(t,e){return null!=t&&o(t,e,n)}},48148:function(t){t.exports=function(t){return t}},30353:function(t,e,r){var n=r(84742),o=r(55073),i=Object.prototype,s=i.hasOwnProperty,u=i.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(t){return o(t)&&s.call(t,"callee")&&!u.call(t,"callee")};t.exports=a},24669:function(t){var e=Array.isArray;t.exports=e},47428:function(t,e,r){var n=r(92042),o=r(17216);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},57348:function(t,e,r){var n=r(47428),o=r(55073);t.exports=function(t){return o(t)&&n(t)}},61563:function(t,e,r){t=r.nmd(t);var n=r(29165),o=r(84193),i=e&&!e.nodeType&&e,s=i&&t&&!t.nodeType&&t,u=s&&s.exports===i?n.Buffer:void 0,a=u?u.isBuffer:void 0;t.exports=a||o},82691:function(t,e,r){var n=r(87473),o=r(81887),i=r(30353),s=r(24669),u=r(47428),a=r(61563),h=r(92963),c=r(73806),f=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(u(t)&&(s(t)||"string"==typeof t||"function"==typeof t.splice||a(t)||c(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(h(t))return!n(t).length;for(var r in t)if(f.call(t,r))return!1;return!0}},92042:function(t,e,r){var n=r(80732),o=r(36838);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},17216:function(t){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},32924:function(t,e,r){var n=r(64033),o=r(58792),i=r(8478),s=i&&i.isMap,u=s?o(s):n;t.exports=u},69143:function(t,e,r){var n=r(80732),o=r(11389),i=r(55073),s=Object.prototype,u=Function.prototype.toString,a=s.hasOwnProperty,h=u.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=n(t))return!1;var e=o(t);if(null===e)return!0;var r=a.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)==h}},45380:function(t,e,r){var n=r(28264),o=r(58792),i=r(8478),s=i&&i.isSet,u=s?o(s):n;t.exports=u},56549:function(t,e,r){var n=r(80732),o=r(24669),i=r(55073);t.exports=function(t){return"string"==typeof t||!o(t)&&i(t)&&"[object String]"==n(t)}},73806:function(t,e,r){var n=r(96845),o=r(58792),i=r(8478),s=i&&i.isTypedArray,u=s?o(s):n;t.exports=u},89300:function(t){t.exports=function(t){return void 0===t}},50579:function(t,e,r){var n=r(79809),o=r(87473),i=r(47428);t.exports=function(t){return i(t)?n(t):o(t)}},37390:function(t,e,r){var n=r(79809),o=r(52506),i=r(47428);t.exports=function(t){return i(t)?n(t,!0):o(t)}},25674:function(t){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},65512:function(t,e,r){var n=r(75697),o=r(5673),i=r(66494),s=r(24669);t.exports=function(t,e){return(s(t)?n:i)(t,o(e,3))}},65632:function(t,e,r){var n=r(30404),o=r(61343),i=r(5673);t.exports=function(t,e){var r={};return e=i(e,3),o(t,function(t,o,i){n(r,o,e(t,o,i))}),r}},80212:function(t,e,r){var n=r(24210),o=r(39491),i=r(48148);t.exports=function(t){return t&&t.length?n(t,i,o):void 0}},34736:function(t,e,r){var n=r(9440);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var s=t.apply(this,n);return r.cache=i.set(o,s)||i,s};return r.cache=new(o.Cache||n),r}o.Cache=n,t.exports=o},67929:function(t,e,r){var n=r(97254),o=r(77991)(function(t,e,r){n(t,e,r)});t.exports=o},71516:function(t,e,r){var n=r(24210),o=r(42800),i=r(48148);t.exports=function(t){return t&&t.length?n(t,i,o):void 0}},88371:function(t,e,r){var n=r(24210),o=r(5673),i=r(42800);t.exports=function(t,e){return t&&t.length?n(t,o(e,2),i):void 0}},43226:function(t){t.exports=function(){}},19334:function(t,e,r){var n=r(54822),o=r(54874)(function(t,e){return null==t?{}:n(t,e)});t.exports=o},51798:function(t,e,r){var n=r(17498),o=r(71e3),i=r(2610),s=r(77817);t.exports=function(t){return i(t)?n(s(t)):o(t)}},61178:function(t,e,r){var n=r(1293)();t.exports=n},6355:function(t,e,r){var n=r(30695),o=r(30438),i=r(5673),s=r(75857),u=r(24669);t.exports=function(t,e,r){var a=u(t)?n:s,h=arguments.length<3;return a(t,i(e,4),r,h,o)}},81430:function(t,e,r){var n=r(87473),o=r(81887),i=r(47428),s=r(56549),u=r(68905);t.exports=function(t){if(null==t)return 0;if(i(t))return s(t)?u(t):t.length;var e=o(t);return"[object Map]"==e||"[object Set]"==e?t.size:n(t).length}},84715:function(t,e,r){var n=r(98768),o=r(84994),i=r(5125),s=r(97616),u=i(function(t,e){if(null==t)return[];var r=e.length;return r>1&&s(t,e[0],e[1])?e=[]:r>2&&s(e[0],e[1],e[2])&&(e=[e[0]]),o(t,n(e,1),[])});t.exports=u},68036:function(t){t.exports=function(){return[]}},84193:function(t){t.exports=function(){return!1}},70986:function(t,e,r){var n=r(12448),o=1/0;t.exports=function(t){return t?(t=n(t))===o||t===-o?(t<0?-1:1)*17976931348623157e292:t==t?t:0:0===t?t:0}},20426:function(t,e,r){var n=r(70986);t.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},85111:function(t,e,r){var n=r(92434),o=r(37390);t.exports=function(t){return n(t,o(t))}},8389:function(t,e,r){var n=r(73150);t.exports=function(t){return null==t?"":n(t)}},68742:function(t,e,r){var n=r(21662),o=r(91348),i=r(61343),s=r(5673),u=r(11389),a=r(24669),h=r(61563),c=r(92042),f=r(36838),l=r(73806);t.exports=function(t,e,r){var d=a(t),g=d||h(t)||l(t);if(e=s(e,4),null==r){var p=t&&t.constructor;r=g?d?new p:[]:f(t)&&c(p)?o(u(t)):{}}return(g?n:i)(t,function(t,n,o){return e(r,t,n,o)}),r}},29974:function(t,e,r){var n=r(98768),o=r(5125),i=r(95453),s=r(57348),u=o(function(t){return i(n(t,1,s,!0))});t.exports=u},53274:function(t,e,r){var n=r(8389),o=0;t.exports=function(t){var e=++o;return n(t)+e}},61017:function(t,e,r){var n=r(44290),o=r(50579);t.exports=function(t){return null==t?[]:n(t,o(t))}},64058:function(t,e,r){var n=r(93719),o=r(59654);t.exports=function(t,e){return o(t||[],e||[],n)}},85650:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return o}});var n=r(60804);function o(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,n.isAnyArray)(t)){if(0===t.length)throw TypeError("input must not be empty")}else throw TypeError("input must be an array");if(void 0!==r.output){if(!(0,n.isAnyArray)(r.output))throw TypeError("output option must be an array if specified");e=r.output}else e=Array(t.length);var o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,n.isAnyArray)(t))throw TypeError("input must be an array");if(0===t.length)throw TypeError("input must not be empty");var r=e.fromIndex,o=void 0===r?0:r,i=e.toIndex,s=void 0===i?t.length:i;if(o<0||o>=t.length||!Number.isInteger(o))throw Error("fromIndex must be a positive integer smaller than length");if(s<=o||s>t.length||!Number.isInteger(s))throw Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var u=t[o],a=o+1;a<s;a++)t[a]<u&&(u=t[a]);return u}(t),i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,n.isAnyArray)(t))throw TypeError("input must be an array");if(0===t.length)throw TypeError("input must not be empty");var r=e.fromIndex,o=void 0===r?0:r,i=e.toIndex,s=void 0===i?t.length:i;if(o<0||o>=t.length||!Number.isInteger(o))throw Error("fromIndex must be a positive integer smaller than length");if(s<=o||s>t.length||!Number.isInteger(s))throw Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var u=t[o],a=o+1;a<s;a++)t[a]>u&&(u=t[a]);return u}(t);if(o===i)throw RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var s=r.min,u=void 0===s?r.autoMinMax?o:0:s,a=r.max,h=void 0===a?r.autoMinMax?i:1:a;if(u>=h)throw RangeError("min option must be smaller than max option");for(var c=(h-u)/(i-o),f=0;f<t.length;f++)e[f]=(t[f]-o)*c+u;return e}},63980:function(t,e,r){"use strict";var n=r(60804),o=r(85650);let i=" ".repeat(2),s=" ".repeat(4);function u(t,e={}){let{maxRows:r=15,maxColumns:n=10,maxNumSize:o=8,padMinus:u="auto"}=e;return`${t.constructor.name} {
${i}[
${s}${function(t,e,r,n,o){let{rows:i,columns:u}=t,h=Math.min(i,e),c=Math.min(u,r),f=[];if("auto"===o){o=!1;e:for(let e=0;e<h;e++)for(let r=0;r<c;r++)if(0>t.get(e,r)){o=!0;break e}}for(let e=0;e<h;e++){let r=[];for(let i=0;i<c;i++){var l,d;r.push((l=t.get(e,i),d=o,(l>=0&&d?` ${a(l,n-1)}`:a(l,n)).padEnd(n)))}f.push(`${r.join(" ")}`)}return c!==u&&(f[f.length-1]+=` ... ${u-r} more columns`),h!==i&&f.push(`... ${i-e} more rows`),f.join(`
${s}`)}(t,r,n,o,u)}
${i}]
${i}rows: ${t.rows}
${i}columns: ${t.columns}
}`}function a(t,e){let r=t.toString();if(r.length<=e)return r;let n=t.toFixed(e);if(n.length>e&&(n=t.toFixed(Math.max(0,e-(n.length-e)))),n.length<=e&&!n.startsWith("0.000")&&!n.startsWith("-0.000"))return n;let o=t.toExponential(e);return o.length>e&&(o=t.toExponential(Math.max(0,e-(o.length-e)))),o.slice(0)}function h(t,e,r){let n=r?t.rows:t.rows-1;if(e<0||e>n)throw RangeError("Row index out of range")}function c(t,e,r){let n=r?t.columns:t.columns-1;if(e<0||e>n)throw RangeError("Column index out of range")}function f(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw RangeError("vector size must be the same as the number of columns");return e}function l(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw RangeError("vector size must be the same as the number of rows");return e}function d(t,e){if(!n.isAnyArray(e))throw TypeError("row indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.rows)throw RangeError("row indices are out of range")}function g(t,e){if(!n.isAnyArray(e))throw TypeError("column indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.columns)throw RangeError("column indices are out of range")}function p(t,e,r,n,o){if(5!=arguments.length)throw RangeError("expected 4 arguments");if(m("startRow",e),m("endRow",r),m("startColumn",n),m("endColumn",o),e>r||n>o||e<0||e>=t.rows||r<0||r>=t.rows||n<0||n>=t.columns||o<0||o>=t.columns)throw RangeError("Submatrix indices are out of range")}function v(t,e=0){let r=[];for(let n=0;n<t;n++)r.push(e);return r}function m(t,e){if("number"!=typeof e)throw TypeError(`${t} must be a number`)}function y(t){if(t.isEmpty())throw Error("Empty matrix has no elements to index")}class w{static from1DArray(t,e,r){if(t*e!==r.length)throw RangeError("data length does not match given dimensions");let n=new b(t,e);for(let o=0;o<t;o++)for(let t=0;t<e;t++)n.set(o,t,r[o*e+t]);return n}static rowVector(t){let e=new b(1,t.length);for(let r=0;r<t.length;r++)e.set(0,r,t[r]);return e}static columnVector(t){let e=new b(t.length,1);for(let r=0;r<t.length;r++)e.set(r,0,t[r]);return e}static zeros(t,e){return new b(t,e)}static ones(t,e){return new b(t,e).fill(1)}static rand(t,e,r={}){if("object"!=typeof r)throw TypeError("options must be an object");let{random:n=Math.random}=r,o=new b(t,e);for(let r=0;r<t;r++)for(let t=0;t<e;t++)o.set(r,t,n());return o}static randInt(t,e,r={}){if("object"!=typeof r)throw TypeError("options must be an object");let{min:n=0,max:o=1e3,random:i=Math.random}=r;if(!Number.isInteger(n))throw TypeError("min must be an integer");if(!Number.isInteger(o))throw TypeError("max must be an integer");if(n>=o)throw RangeError("min must be smaller than max");let s=o-n,u=new b(t,e);for(let r=0;r<t;r++)for(let t=0;t<e;t++){let e=n+Math.round(i()*s);u.set(r,t,e)}return u}static eye(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);let n=Math.min(t,e),o=this.zeros(t,e);for(let t=0;t<n;t++)o.set(t,t,r);return o}static diag(t,e,r){let n=t.length;void 0===e&&(e=n),void 0===r&&(r=e);let o=Math.min(n,e,r),i=this.zeros(e,r);for(let e=0;e<o;e++)i.set(e,e,t[e]);return i}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,n=t.columns,o=new b(r,n);for(let i=0;i<r;i++)for(let r=0;r<n;r++)o.set(i,r,Math.min(t.get(i,r),e.get(i,r)));return o}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,n=t.columns,o=new this(r,n);for(let i=0;i<r;i++)for(let r=0;r<n;r++)o.set(i,r,Math.max(t.get(i,r),e.get(i,r)));return o}static checkMatrix(t){return w.isMatrix(t)?t:new b(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!=typeof t)throw TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.call(this,e,r);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.push(this.get(e,r));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let t=0;t<this.rows;t++)if(0!==this.get(t,t))return!1;return!0}isEchelonForm(){let t=0,e=0,r=-1,n=!0,o=!1;for(;t<this.rows&&n;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(n=!1,o=!0);t++}return n}isReducedEchelonForm(){let t=0,e=0,r=-1,n=!0,o=!1;for(;t<this.rows&&n;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(n=!1,o=!0);for(let r=e+1;r<this.rows;r++)0!==this.get(t,r)&&(n=!1);t++}return n}echelonForm(){let t=this.clone(),e=0,r=0;for(;e<t.rows&&r<t.columns;){let n=e;for(let o=e;o<t.rows;o++)t.get(o,r)>t.get(n,r)&&(n=o);if(0===t.get(n,r))r++;else{t.swapRows(e,n);let o=t.get(e,r);for(let n=r;n<t.columns;n++)t.set(e,n,t.get(e,n)/o);for(let n=e+1;n<t.rows;n++){let o=t.get(n,r)/t.get(e,r);t.set(n,r,0);for(let i=r+1;i<t.columns;i++)t.set(n,i,t.get(n,i)-t.get(e,i)*o)}e++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,r=t.rows,n=r-1;for(;n>=0;)if(0===t.maxRow(n))n--;else{let o=0,i=!1;for(;o<r&&!1===i;)1===t.get(n,o)?i=!0:o++;for(let r=0;r<n;r++){let i=t.get(r,o);for(let s=o;s<e;s++){let e=t.get(r,s)-i*t.get(n,s);t.set(r,s,e)}}n--}return t}set(){throw Error("set method is unimplemented")}get(){throw Error("get method is unimplemented")}repeat(t={}){if("object"!=typeof t)throw TypeError("options must be an object");let{rows:e=1,columns:r=1}=t;if(!Number.isInteger(e)||e<=0)throw TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw TypeError("columns must be a positive integer");let n=new b(this.rows*e,this.columns*r);for(let t=0;t<e;t++)for(let e=0;e<r;e++)n.setSubMatrix(this,this.rows*t,this.columns*e);return n}fill(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,t);return this}neg(){return this.mulS(-1)}getRow(t){h(this,t);let e=[];for(let r=0;r<this.columns;r++)e.push(this.get(t,r));return e}getRowVector(t){return b.rowVector(this.getRow(t))}setRow(t,e){h(this,t),e=f(this,e);for(let r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}swapRows(t,e){h(this,t),h(this,e);for(let r=0;r<this.columns;r++){let n=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,n)}return this}getColumn(t){c(this,t);let e=[];for(let r=0;r<this.rows;r++)e.push(this.get(r,t));return e}getColumnVector(t){return b.columnVector(this.getColumn(t))}setColumn(t,e){c(this,t),e=l(this,e);for(let r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}swapColumns(t,e){c(this,t),c(this,e);for(let r=0;r<this.rows;r++){let n=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,n)}return this}addRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}subRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}mulRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}divRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}addColumnVector(t){t=l(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}subColumnVector(t){t=l(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}mulColumnVector(t){t=l(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}divColumnVector(t){t=l(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}mulRow(t,e){h(this,t);for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}mulColumn(t,e){c(this,t);for(let r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{let t=Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[e]&&(t[e]=this.get(e,r));return t}case"column":{let t=Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}default:throw Error(`invalid option: ${t}`)}}maxIndex(){y(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.get(r,n)>t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{let t=Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[e]&&(t[e]=this.get(e,r));return t}case"column":{let t=Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}default:throw Error(`invalid option: ${t}`)}}minIndex(){y(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.get(r,n)<t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}maxRow(t){if(h(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}maxRowIndex(t){h(this,t),y(this);let e=this.get(t,0),r=[t,0];for(let n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n),r[1]=n);return r}minRow(t){if(h(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}minRowIndex(t){h(this,t),y(this);let e=this.get(t,0),r=[t,0];for(let n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n),r[1]=n);return r}maxColumn(t){if(c(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}maxColumnIndex(t){c(this,t),y(this);let e=this.get(0,t),r=[0,t];for(let n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t),r[0]=n);return r}minColumn(t){if(c(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}minColumnIndex(t){c(this,t),y(this);let e=this.get(0,t),r=[0,t];for(let n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t),r[0]=n);return r}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let r=0;r<t;r++)e.push(this.get(r,r));return e}norm(t="frobenius"){switch(t){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw RangeError(`unknown norm type: ${t}`)}}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}dot(t){w.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw RangeError("vectors do not have the same size");let r=0;for(let n=0;n<e.length;n++)r+=e[n]*t[n];return r}mmul(t){t=b.checkMatrix(t);let e=this.rows,r=this.columns,n=t.columns,o=new b(e,n),i=new Float64Array(r);for(let s=0;s<n;s++){for(let e=0;e<r;e++)i[e]=t.get(e,s);for(let t=0;t<e;t++){let e=0;for(let n=0;n<r;n++)e+=this.get(t,n)*i[n];o.set(t,s,e)}}return o}mpow(t){if(!this.isSquare())throw RangeError("Matrix must be square");if(!Number.isInteger(t)||t<0)throw RangeError("Exponent must be a non-negative integer");let e=b.eye(this.rows),r=this;for(let n=t;n>=1;n/=2)(1&n)!=0&&(e=e.mmul(r)),r=r.mmul(r);return e}strassen2x2(t){t=b.checkMatrix(t);let e=new b(2,2),r=this.get(0,0),n=t.get(0,0),o=this.get(0,1),i=t.get(0,1),s=this.get(1,0),u=t.get(1,0),a=this.get(1,1),h=t.get(1,1),c=(r+a)*(n+h),f=(s+a)*n,l=r*(i-h),d=a*(u-n),g=(r+o)*h;return e.set(0,0,c+d-g+(o-a)*(u+h)),e.set(0,1,l+g),e.set(1,0,f+d),e.set(1,1,c-f+l+(s-r)*(n+i)),e}strassen3x3(t){t=b.checkMatrix(t);let e=new b(3,3),r=this.get(0,0),n=this.get(0,1),o=this.get(0,2),i=this.get(1,0),s=this.get(1,1),u=this.get(1,2),a=this.get(2,0),h=this.get(2,1),c=this.get(2,2),f=t.get(0,0),l=t.get(0,1),d=t.get(0,2),g=t.get(1,0),p=t.get(1,1),v=t.get(1,2),m=t.get(2,0),y=t.get(2,1),w=t.get(2,2),x=(r-i)*(-l+p),E=(-r+i+s)*(f-l+p),_=(i+s)*(-f+l),M=r*f,N=(-r+a+h)*(f-d+v),k=(-r+a)*(d-v),S=(a+h)*(-f+d),A=(-o+h+c)*(p+m-y),j=(o-c)*(p-y),I=o*m,R=(h+c)*(-m+y),C=(-o+s+u)*(v+m-w),T=(o-u)*(v-w),O=(s+u)*(-m+w);return e.set(0,0,M+I+n*g),e.set(0,1,(r+n+o-i-s-h-c)*p+E+_+M+A+I+R),e.set(0,2,M+N+S+(r+n+o-s-u-a-h)*v+I+C+O),e.set(1,0,x+s*(-f+l+g-p-v-m+w)+E+M+I+C+T),e.set(1,1,x+E+_+M+u*y),e.set(1,2,I+C+T+O+i*d),e.set(2,0,M+N+k+h*(-f+d+g-p-v-m+y)+A+j+I),e.set(2,1,A+j+I+R+a*l),e.set(2,2,M+N+k+S+c*w),e}mmulStrassen(t){t=b.checkMatrix(t);let e=this.clone(),r=e.rows,n=e.columns,o=t.rows,i=t.columns;function s(t,e,r){let n=t.rows,o=t.columns;return n===e&&o===r?t:w.zeros(e,r).setSubMatrix(t,0,0)}n!==o&&console.warn(`Multiplying ${r} x ${n} and ${o} x ${i} matrix: dimensions do not match.`);let u=Math.max(r,o),a=Math.max(n,i);return function t(e,r,n,o){if(n<=512||o<=512)return e.mmul(r);n%2==1&&o%2==1?(e=s(e,n+1,o+1),r=s(r,n+1,o+1)):n%2==1?(e=s(e,n+1,o),r=s(r,n+1,o)):o%2==1&&(e=s(e,n,o+1),r=s(r,n,o+1));let i=parseInt(e.rows/2,10),u=parseInt(e.columns/2,10),a=e.subMatrix(0,i-1,0,u-1),h=r.subMatrix(0,i-1,0,u-1),c=e.subMatrix(0,i-1,u,e.columns-1),f=r.subMatrix(0,i-1,u,r.columns-1),l=e.subMatrix(i,e.rows-1,0,u-1),d=r.subMatrix(i,r.rows-1,0,u-1),g=e.subMatrix(i,e.rows-1,u,e.columns-1),p=r.subMatrix(i,r.rows-1,u,r.columns-1),v=t(w.add(a,g),w.add(h,p),i,u),m=t(w.add(l,g),h,i,u),y=t(a,w.sub(f,p),i,u),x=t(g,w.sub(d,h),i,u),b=t(w.add(a,c),p,i,u),E=t(w.sub(l,a),w.add(h,f),i,u),_=t(w.sub(c,g),w.add(d,p),i,u),M=w.add(v,x);M.sub(b),M.add(_);let N=w.add(y,b),k=w.add(m,x),S=w.sub(v,m);S.add(y),S.add(E);let A=w.zeros(2*M.rows,2*M.columns);return(A=(A=(A=(A=A.setSubMatrix(M,0,0)).setSubMatrix(N,M.rows,0)).setSubMatrix(k,0,M.columns)).setSubMatrix(S,M.rows,M.columns)).subMatrix(0,n-1,0,o-1)}(e=s(e,u,a),t=s(t,u,a),u,a)}scaleRows(t={}){if("object"!=typeof t)throw TypeError("options must be an object");let{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw TypeError("min must be a number");if(!Number.isFinite(r))throw TypeError("max must be a number");if(e>=r)throw RangeError("min must be smaller than max");let n=new b(this.rows,this.columns);for(let t=0;t<this.rows;t++){let i=this.getRow(t);i.length>0&&o(i,{min:e,max:r,output:i}),n.setRow(t,i)}return n}scaleColumns(t={}){if("object"!=typeof t)throw TypeError("options must be an object");let{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw TypeError("min must be a number");if(!Number.isFinite(r))throw TypeError("max must be a number");if(e>=r)throw RangeError("min must be smaller than max");let n=new b(this.rows,this.columns);for(let t=0;t<this.columns;t++){let i=this.getColumn(t);i.length&&o(i,{min:e,max:r,output:i}),n.setColumn(t,i)}return n}flipRows(){let t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let r=0;r<t;r++){let t=this.get(e,r),n=this.get(e,this.columns-1-r);this.set(e,r,n),this.set(e,this.columns-1-r,t)}return this}flipColumns(){let t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let r=0;r<t;r++){let t=this.get(r,e),n=this.get(this.rows-1-r,e);this.set(r,e,n),this.set(this.rows-1-r,e,t)}return this}kroneckerProduct(t){t=b.checkMatrix(t);let e=this.rows,r=this.columns,n=t.rows,o=t.columns,i=new b(e*n,r*o);for(let s=0;s<e;s++)for(let e=0;e<r;e++)for(let r=0;r<n;r++)for(let u=0;u<o;u++)i.set(n*s+r,o*e+u,this.get(s,e)*t.get(r,u));return i}kroneckerSum(t){if(t=b.checkMatrix(t),!this.isSquare()||!t.isSquare())throw Error("Kronecker Sum needs two Square Matrices");let e=this.rows,r=t.rows,n=this.kroneckerProduct(b.eye(r,r)),o=b.eye(e,e).kroneckerProduct(t);return n.add(o)}transpose(){let t=new b(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}sortRows(t=x){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=x){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,r,n){p(this,t,e,r,n);let o=new b(e-t+1,n-r+1);for(let i=t;i<=e;i++)for(let e=r;e<=n;e++)o.set(i-t,e-r,this.get(i,e));return o}subMatrixRow(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw RangeError("Argument out of range");let n=new b(t.length,r-e+1);for(let o=0;o<t.length;o++)for(let i=e;i<=r;i++){if(t[o]<0||t[o]>=this.rows)throw RangeError(`Row index out of range: ${t[o]}`);n.set(o,i-e,this.get(t[o],i))}return n}subMatrixColumn(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw RangeError("Argument out of range");let n=new b(r-e+1,t.length);for(let o=0;o<t.length;o++)for(let i=e;i<=r;i++){if(t[o]<0||t[o]>=this.columns)throw RangeError(`Column index out of range: ${t[o]}`);n.set(i-e,o,this.get(i,t[o]))}return n}setSubMatrix(t,e,r){if((t=b.checkMatrix(t)).isEmpty())return this;let n=e+t.rows-1,o=r+t.columns-1;p(this,e,n,r,o);for(let n=0;n<t.rows;n++)for(let o=0;o<t.columns;o++)this.set(e+n,r+o,t.get(n,o));return this}selection(t,e){d(this,t),g(this,e);let r=new b(t.length,e.length);for(let n=0;n<t.length;n++){let o=t[n];for(let t=0;t<e.length;t++){let i=e[t];r.set(n,t,this.get(o,i))}}return r}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let r=0;r<t;r++)e+=this.get(r,r);return e}clone(){return this.constructor.copy(this,new b(this.rows,this.columns))}static copy(t,e){for(let[r,n,o]of t.entries())e.set(r,n,o);return e}sum(t){switch(t){case"row":return function(t){let e=v(t.rows);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]+=t.get(r,n);return e}(this);case"column":return function(t){let e=v(t.columns);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]+=t.get(r,n);return e}(this);case void 0:return function(t){let e=0;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e+=t.get(r,n);return e}(this);default:throw Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return function(t){let e=v(t.rows,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]*=t.get(r,n);return e}(this);case"column":return function(t){let e=v(t.columns,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]*=t.get(r,n);return e}(this);case void 0:return function(t){let e=1;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e*=t.get(r,n);return e}(this);default:throw Error(`invalid option: ${t}`)}}mean(t){let e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw Error(`invalid option: ${t}`)}}variance(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw TypeError("options must be an object");let{unbiased:r=!0,mean:o=this.mean(t)}=e;if("boolean"!=typeof r)throw TypeError("unbiased must be a boolean");switch(t){case"row":if(!n.isAnyArray(o))throw TypeError("mean must be an array");return function(t,e,r){let n=t.rows,o=t.columns,i=[];for(let s=0;s<n;s++){let n=0,u=0,a=0;for(let e=0;e<o;e++)n+=a=t.get(s,e)-r[s],u+=a*a;e?i.push((u-n*n/o)/(o-1)):i.push((u-n*n/o)/o)}return i}(this,r,o);case"column":if(!n.isAnyArray(o))throw TypeError("mean must be an array");return function(t,e,r){let n=t.rows,o=t.columns,i=[];for(let s=0;s<o;s++){let o=0,u=0,a=0;for(let e=0;e<n;e++)o+=a=t.get(e,s)-r[s],u+=a*a;e?i.push((u-o*o/n)/(n-1)):i.push((u-o*o/n)/n)}return i}(this,r,o);case void 0:if("number"!=typeof o)throw TypeError("mean must be a number");return function(t,e,r){let n=t.rows,o=t.columns,i=n*o,s=0,u=0,a=0;for(let e=0;e<n;e++)for(let n=0;n<o;n++)s+=a=t.get(e,n)-r,u+=a*a;return e?(u-s*s/i)/(i-1):(u-s*s/i)/i}(this,r,o);default:throw Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"==typeof t&&(e=t,t=void 0);let r=this.variance(t,e);if(void 0===t)return Math.sqrt(r);for(let t=0;t<r.length;t++)r[t]=Math.sqrt(r[t]);return r}center(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw TypeError("options must be an object");let{center:r=this.mean(t)}=e;switch(t){case"row":if(!n.isAnyArray(r))throw TypeError("center must be an array");return!function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[r])}(this,r),this;case"column":if(!n.isAnyArray(r))throw TypeError("center must be an array");return!function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[n])}(this,r),this;case void 0:if("number"!=typeof r)throw TypeError("center must be a number");return!function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e)}(this,r),this;default:throw Error(`invalid option: ${t}`)}}scale(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw TypeError("options must be an object");let r=e.scale;switch(t){case"row":if(void 0===r)r=function(t){let e=[];for(let r=0;r<t.rows;r++){let n=0;for(let e=0;e<t.columns;e++)n+=t.get(r,e)**2/(t.columns-1);e.push(Math.sqrt(n))}return e}(this);else if(!n.isAnyArray(r))throw TypeError("scale must be an array");return!function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[r])}(this,r),this;case"column":if(void 0===r)r=function(t){let e=[];for(let r=0;r<t.columns;r++){let n=0;for(let e=0;e<t.rows;e++)n+=t.get(e,r)**2/(t.rows-1);e.push(Math.sqrt(n))}return e}(this);else if(!n.isAnyArray(r))throw TypeError("scale must be an array");return!function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[n])}(this,r),this;case void 0:if(void 0===r)r=function(t){let e=t.size-1,r=0;for(let n=0;n<t.columns;n++)for(let o=0;o<t.rows;o++)r+=t.get(o,n)**2/e;return Math.sqrt(r)}(this);else if("number"!=typeof r)throw TypeError("scale must be a number");return!function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e)}(this,r),this;default:throw Error(`invalid option: ${t}`)}}toString(t){return u(this,t)}[Symbol.iterator](){return this.entries()}*entries(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield[t,e,this.get(t,e)]}*values(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield this.get(t,e)}}function x(t,e){return t-e}w.prototype.klass="Matrix","undefined"!=typeof Symbol&&(w.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return u(this)}),w.random=w.rand,w.randomInt=w.randInt,w.diagonal=w.diag,w.prototype.diagonal=w.prototype.diag,w.identity=w.eye,w.prototype.negate=w.prototype.neg,w.prototype.tensorProduct=w.prototype.kroneckerProduct;class b extends w{data;#t(t,e){if(this.data=[],Number.isInteger(e)&&e>=0)for(let r=0;r<t;r++)this.data.push(new Float64Array(e));else throw TypeError("nColumns must be a positive integer");this.rows=t,this.columns=e}constructor(t,e){if(super(),b.isMatrix(t))this.#t(t.rows,t.columns),b.copy(t,this);else if(Number.isInteger(t)&&t>=0)this.#t(t,e);else if(n.isAnyArray(t)){let r=t;if("number"!=typeof(e=(t=r.length)?r[0].length:0))throw TypeError("Data must be a 2D array with at least one element");this.data=[];for(let n=0;n<t;n++){if(r[n].length!==e)throw RangeError("Inconsistent array dimensions");if(!r[n].every(t=>"number"==typeof t))throw TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(r[n]))}this.rows=t,this.columns=e}else throw TypeError("First argument must be a positive number or an array")}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}removeRow(t){return h(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),h(this,t,!0),e=Float64Array.from(f(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){c(this,t);for(let e=0;e<this.rows;e++){let r=new Float64Array(this.columns-1);for(let n=0;n<t;n++)r[n]=this.data[e][n];for(let n=t+1;n<this.columns;n++)r[n-1]=this.data[e][n];this.data[e]=r}return this.columns-=1,this}addColumn(t,e){void 0===e&&(e=t,t=this.columns),c(this,t,!0),e=l(this,e);for(let r=0;r<this.rows;r++){let n=new Float64Array(this.columns+1),o=0;for(;o<t;o++)n[o]=this.data[r][o];for(n[o++]=e[r];o<this.columns+1;o++)n[o]=this.data[r][o-1];this.data[r]=n}return this.columns+=1,this}}w.prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},w.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t);return this},w.prototype.addM=function(t){if(t=b.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t.get(e,r));return this},w.add=function(t,e){let r=new b(t);return r.add(e)},w.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},w.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t);return this},w.prototype.subM=function(t){if(t=b.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t.get(e,r));return this},w.sub=function(t,e){let r=new b(t);return r.sub(e)},w.prototype.subtract=w.prototype.sub,w.prototype.subtractS=w.prototype.subS,w.prototype.subtractM=w.prototype.subM,w.subtract=w.sub,w.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},w.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this},w.prototype.mulM=function(t){if(t=b.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t.get(e,r));return this},w.mul=function(t,e){let r=new b(t);return r.mul(e)},w.prototype.multiply=w.prototype.mul,w.prototype.multiplyS=w.prototype.mulS,w.prototype.multiplyM=w.prototype.mulM,w.multiply=w.mul,w.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},w.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t);return this},w.prototype.divM=function(t){if(t=b.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t.get(e,r));return this},w.div=function(t,e){let r=new b(t);return r.div(e)},w.prototype.divide=w.prototype.div,w.prototype.divideS=w.prototype.divS,w.prototype.divideM=w.prototype.divM,w.divide=w.div,w.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},w.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t);return this},w.prototype.modM=function(t){if(t=b.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t.get(e,r));return this},w.mod=function(t,e){let r=new b(t);return r.mod(e)},w.prototype.modulus=w.prototype.mod,w.prototype.modulusS=w.prototype.modS,w.prototype.modulusM=w.prototype.modM,w.modulus=w.mod,w.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},w.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t);return this},w.prototype.andM=function(t){if(t=b.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t.get(e,r));return this},w.and=function(t,e){let r=new b(t);return r.and(e)},w.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},w.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t);return this},w.prototype.orM=function(t){if(t=b.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t.get(e,r));return this},w.or=function(t,e){let r=new b(t);return r.or(e)},w.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},w.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t);return this},w.prototype.xorM=function(t){if(t=b.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t.get(e,r));return this},w.xor=function(t,e){let r=new b(t);return r.xor(e)},w.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},w.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t);return this},w.prototype.leftShiftM=function(t){if(t=b.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t.get(e,r));return this},w.leftShift=function(t,e){let r=new b(t);return r.leftShift(e)},w.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},w.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t);return this},w.prototype.signPropagatingRightShiftM=function(t){if(t=b.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t.get(e,r));return this},w.signPropagatingRightShift=function(t,e){let r=new b(t);return r.signPropagatingRightShift(e)},w.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},w.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t);return this},w.prototype.rightShiftM=function(t){if(t=b.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t.get(e,r));return this},w.rightShift=function(t,e){let r=new b(t);return r.rightShift(e)},w.prototype.zeroFillRightShift=w.prototype.rightShift,w.prototype.zeroFillRightShiftS=w.prototype.rightShiftS,w.prototype.zeroFillRightShiftM=w.prototype.rightShiftM,w.zeroFillRightShift=w.rightShift,w.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},w.not=function(t){let e=new b(t);return e.not()},w.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},w.abs=function(t){let e=new b(t);return e.abs()},w.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},w.acos=function(t){let e=new b(t);return e.acos()},w.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},w.acosh=function(t){let e=new b(t);return e.acosh()},w.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},w.asin=function(t){let e=new b(t);return e.asin()},w.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},w.asinh=function(t){let e=new b(t);return e.asinh()},w.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},w.atan=function(t){let e=new b(t);return e.atan()},w.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},w.atanh=function(t){let e=new b(t);return e.atanh()},w.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},w.cbrt=function(t){let e=new b(t);return e.cbrt()},w.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},w.ceil=function(t){let e=new b(t);return e.ceil()},w.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},w.clz32=function(t){let e=new b(t);return e.clz32()},w.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},w.cos=function(t){let e=new b(t);return e.cos()},w.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},w.cosh=function(t){let e=new b(t);return e.cosh()},w.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},w.exp=function(t){let e=new b(t);return e.exp()},w.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},w.expm1=function(t){let e=new b(t);return e.expm1()},w.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},w.floor=function(t){let e=new b(t);return e.floor()},w.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},w.fround=function(t){let e=new b(t);return e.fround()},w.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},w.log=function(t){let e=new b(t);return e.log()},w.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},w.log1p=function(t){let e=new b(t);return e.log1p()},w.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},w.log10=function(t){let e=new b(t);return e.log10()},w.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},w.log2=function(t){let e=new b(t);return e.log2()},w.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},w.round=function(t){let e=new b(t);return e.round()},w.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},w.sign=function(t){let e=new b(t);return e.sign()},w.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},w.sin=function(t){let e=new b(t);return e.sin()},w.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},w.sinh=function(t){let e=new b(t);return e.sinh()},w.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},w.sqrt=function(t){let e=new b(t);return e.sqrt()},w.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},w.tan=function(t){let e=new b(t);return e.tan()},w.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},w.tanh=function(t){let e=new b(t);return e.tanh()},w.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},w.trunc=function(t){let e=new b(t);return e.trunc()},w.pow=function(t,e){let r=new b(t);return r.pow(e)},w.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},w.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)**t);return this},w.prototype.powM=function(t){if(t=b.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)**t.get(e,r));return this};class E extends w{#e;get size(){return this.#e.size}get rows(){return this.#e.rows}get columns(){return this.#e.columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(t){return b.isMatrix(t)&&"SymmetricMatrix"===t.klassType}static zeros(t){return new this(t)}static ones(t){return new this(t).fill(1)}constructor(t){if(super(),b.isMatrix(t)){if(!t.isSymmetric())throw TypeError("not symmetric data");this.#e=b.copy(t,new b(t.rows,t.rows))}else if(Number.isInteger(t)&&t>=0)this.#e=new b(t,t);else if(this.#e=new b(t),!this.isSymmetric())throw TypeError("not symmetric data")}clone(){let t=new E(this.diagonalSize);for(let[e,r,n]of this.upperRightEntries())t.set(e,r,n);return t}toMatrix(){return new b(this)}get(t,e){return this.#e.get(t,e)}set(t,e,r){return this.#e.set(t,e,r),this.#e.set(e,t,r),this}removeCross(t){return this.#e.removeRow(t),this.#e.removeColumn(t),this}addCross(t,e){void 0===e&&(e=t,t=this.diagonalSize);let r=e.slice();return r.splice(t,1),this.#e.addRow(t,r),this.#e.addColumn(t,e),this}applyMask(t){if(t.length!==this.diagonalSize)throw RangeError("Mask size do not match with matrix size");let e=[];for(let[r,n]of t.entries())n||e.push(r);for(let t of(e.reverse(),e))this.removeCross(t);return this}toCompact(){let{diagonalSize:t}=this,e=Array(t*(t+1)/2);for(let r=0,n=0,o=0;o<e.length;o++)e[o]=this.get(n,r),++r>=t&&(r=++n);return e}static fromCompact(t){let e=t.length,r=(Math.sqrt(8*e+1)-1)/2;if(!Number.isInteger(r))throw TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(t)}`);let n=new E(r);for(let o=0,i=0,s=0;s<e;s++)n.set(o,i,t[s]),++o>=r&&(o=++i);return n}*upperRightEntries(){for(let t=0,e=0;t<this.diagonalSize;){let r=this.get(t,e);yield[t,e,r],++e>=this.diagonalSize&&(e=++t)}}*upperRightValues(){for(let t=0,e=0;t<this.diagonalSize;){let r=this.get(t,e);yield r,++e>=this.diagonalSize&&(e=++t)}}}E.prototype.klassType="SymmetricMatrix";class _ extends E{static isDistanceMatrix(t){return E.isSymmetricMatrix(t)&&"DistanceMatrix"===t.klassSubType}constructor(t){if(super(t),!this.isDistance())throw TypeError("Provided arguments do no produce a distance matrix")}set(t,e,r){return t===e&&(r=0),super.set(t,e,r)}addCross(t,e){return void 0===e&&(e=t,t=this.diagonalSize),(e=e.slice())[t]=0,super.addCross(t,e)}toSymmetricMatrix(){return new E(this)}clone(){let t=new _(this.diagonalSize);for(let[e,r,n]of this.upperRightEntries())e!==r&&t.set(e,r,n);return t}toCompact(){let{diagonalSize:t}=this,e=Array((t-1)*t/2);for(let r=1,n=0,o=0;o<e.length;o++)e[o]=this.get(n,r),++r>=t&&(r=++n+1);return e}static fromCompact(t){let e=t.length;if(0===e)return new this(0);let r=(Math.sqrt(8*e+1)+1)/2;if(!Number.isInteger(r))throw TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(t)}`);let n=new this(r);for(let o=1,i=0,s=0;s<e;s++)n.set(o,i,t[s]),++o>=r&&(o=++i+1);return n}}_.prototype.klassSubType="DistanceMatrix";class M extends w{constructor(t,e,r){super(),this.matrix=t,this.rows=e,this.columns=r}}class N extends M{constructor(t,e,r){d(t,e),g(t,r),super(t,e.length,r.length),this.rowIndices=e,this.columnIndices=r}set(t,e,r){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],r),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class k extends w{constructor(t,e={}){let{rows:r=1}=e;if(t.length%r!=0)throw Error("the data length is not divisible by the number of rows");super(),this.rows=r,this.columns=t.length/r,this.data=t}set(t,e,r){let n=this._calculateIndex(t,e);return this.data[n]=r,this}get(t,e){let r=this._calculateIndex(t,e);return this.data[r]}_calculateIndex(t,e){return t*this.columns+e}}class S extends w{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}}class A{constructor(t){let e,r,n,o,i,s,u,a,h;let c=(t=S.checkMatrix(t)).clone(),f=c.rows,l=c.columns,d=new Float64Array(f),g=1;for(e=0;e<f;e++)d[e]=e;for(r=0,a=new Float64Array(f);r<l;r++){for(e=0;e<f;e++)a[e]=c.get(e,r);for(e=0;e<f;e++){for(n=0,h=Math.min(e,r),i=0;n<h;n++)i+=c.get(e,n)*a[n];a[e]-=i,c.set(e,r,a[e])}for(o=r,e=r+1;e<f;e++)Math.abs(a[e])>Math.abs(a[o])&&(o=e);if(o!==r){for(n=0;n<l;n++)s=c.get(o,n),c.set(o,n,c.get(r,n)),c.set(r,n,s);u=d[o],d[o]=d[r],d[r]=u,g=-g}if(r<f&&0!==c.get(r,r))for(e=r+1;e<f;e++)c.set(e,r,c.get(e,r)/c.get(r,r))}this.LU=c,this.pivotVector=d,this.pivotSign=g}isSingular(){let t=this.LU,e=t.columns;for(let r=0;r<e;r++)if(0===t.get(r,r))return!0;return!1}solve(t){let e,r,n;t=b.checkMatrix(t);let o=this.LU;if(o.rows!==t.rows)throw Error("Invalid matrix dimensions");if(this.isSingular())throw Error("LU matrix is singular");let i=t.columns,s=t.subMatrixRow(this.pivotVector,0,i-1),u=o.columns;for(n=0;n<u;n++)for(e=n+1;e<u;e++)for(r=0;r<i;r++)s.set(e,r,s.get(e,r)-s.get(n,r)*o.get(e,n));for(n=u-1;n>=0;n--){for(r=0;r<i;r++)s.set(n,r,s.get(n,r)/o.get(n,n));for(e=0;e<n;e++)for(r=0;r<i;r++)s.set(e,r,s.get(e,r)-s.get(n,r)*o.get(e,n))}return s}get determinant(){let t=this.LU;if(!t.isSquare())throw Error("Matrix must be square");let e=this.pivotSign,r=t.columns;for(let n=0;n<r;n++)e*=t.get(n,n);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,n=new b(e,r);for(let o=0;o<e;o++)for(let e=0;e<r;e++)o>e?n.set(o,e,t.get(o,e)):o===e?n.set(o,e,1):n.set(o,e,0);return n}get upperTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,n=new b(e,r);for(let o=0;o<e;o++)for(let e=0;e<r;e++)o<=e?n.set(o,e,t.get(o,e)):n.set(o,e,0);return n}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function j(t,e){let r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}class I{constructor(t){let e,r,n,o;let i=(t=S.checkMatrix(t)).clone(),s=t.rows,u=t.columns,a=new Float64Array(u);for(n=0;n<u;n++){let t=0;for(e=n;e<s;e++)t=j(t,i.get(e,n));if(0!==t){for(0>i.get(n,n)&&(t=-t),e=n;e<s;e++)i.set(e,n,i.get(e,n)/t);for(i.set(n,n,i.get(n,n)+1),r=n+1;r<u;r++){for(o=0,e=n;e<s;e++)o+=i.get(e,n)*i.get(e,r);for(o=-o/i.get(n,n),e=n;e<s;e++)i.set(e,r,i.get(e,r)+o*i.get(e,n))}}a[n]=-t}this.QR=i,this.Rdiag=a}solve(t){let e,r,n,o;t=b.checkMatrix(t);let i=this.QR,s=i.rows;if(t.rows!==s)throw Error("Matrix row dimensions must agree");if(!this.isFullRank())throw Error("Matrix is rank deficient");let u=t.columns,a=t.clone(),h=i.columns;for(n=0;n<h;n++)for(r=0;r<u;r++){for(o=0,e=n;e<s;e++)o+=i.get(e,n)*a.get(e,r);for(o=-o/i.get(n,n),e=n;e<s;e++)a.set(e,r,a.get(e,r)+o*i.get(e,n))}for(n=h-1;n>=0;n--){for(r=0;r<u;r++)a.set(n,r,a.get(n,r)/this.Rdiag[n]);for(e=0;e<n;e++)for(r=0;r<u;r++)a.set(e,r,a.get(e,r)-a.get(n,r)*i.get(e,n))}return a.subMatrix(0,h-1,0,u-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){let t,e,r=this.QR,n=r.columns,o=new b(n,n);for(t=0;t<n;t++)for(e=0;e<n;e++)t<e?o.set(t,e,r.get(t,e)):t===e?o.set(t,e,this.Rdiag[t]):o.set(t,e,0);return o}get orthogonalMatrix(){let t,e,r,n,o=this.QR,i=o.rows,s=o.columns,u=new b(i,s);for(r=s-1;r>=0;r--){for(t=0;t<i;t++)u.set(t,r,0);for(u.set(r,r,1),e=r;e<s;e++)if(0!==o.get(r,r)){for(n=0,t=r;t<i;t++)n+=o.get(t,r)*u.get(t,e);for(n=-n/o.get(r,r),t=r;t<i;t++)u.set(t,e,u.get(t,e)+n*o.get(t,r))}}return u}}class R{constructor(t,e={}){let r;if((t=S.checkMatrix(t)).isEmpty())throw Error("Matrix must be non-empty");let n=t.rows,o=t.columns,{computeLeftSingularVectors:i=!0,computeRightSingularVectors:s=!0,autoTranspose:u=!1}=e,a=!!i,h=!!s,c=!1;if(n<o){if(u){n=(r=t.transpose()).rows,o=r.columns,c=!0;let e=a;a=h,h=e}else r=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose")}else r=t.clone();let f=Math.min(n,o),l=Math.min(n+1,o),d=new Float64Array(l),g=new b(n,f),p=new b(o,o),v=new Float64Array(o),m=new Float64Array(n),y=new Float64Array(l);for(let t=0;t<l;t++)y[t]=t;let w=Math.min(n-1,o),x=Math.max(0,Math.min(o-2,n)),E=Math.max(w,x);for(let t=0;t<E;t++){if(t<w){d[t]=0;for(let e=t;e<n;e++)d[t]=j(d[t],r.get(e,t));if(0!==d[t]){0>r.get(t,t)&&(d[t]=-d[t]);for(let e=t;e<n;e++)r.set(e,t,r.get(e,t)/d[t]);r.set(t,t,r.get(t,t)+1)}d[t]=-d[t]}for(let e=t+1;e<o;e++){if(t<w&&0!==d[t]){let o=0;for(let i=t;i<n;i++)o+=r.get(i,t)*r.get(i,e);o=-o/r.get(t,t);for(let i=t;i<n;i++)r.set(i,e,r.get(i,e)+o*r.get(i,t))}v[e]=r.get(t,e)}if(a&&t<w)for(let e=t;e<n;e++)g.set(e,t,r.get(e,t));if(t<x){v[t]=0;for(let e=t+1;e<o;e++)v[t]=j(v[t],v[e]);if(0!==v[t]){v[t+1]<0&&(v[t]=0-v[t]);for(let e=t+1;e<o;e++)v[e]/=v[t];v[t+1]+=1}if(v[t]=-v[t],t+1<n&&0!==v[t]){for(let e=t+1;e<n;e++)m[e]=0;for(let e=t+1;e<n;e++)for(let n=t+1;n<o;n++)m[e]+=v[n]*r.get(e,n);for(let e=t+1;e<o;e++){let o=-v[e]/v[t+1];for(let i=t+1;i<n;i++)r.set(i,e,r.get(i,e)+o*m[i])}}if(h)for(let e=t+1;e<o;e++)p.set(e,t,v[e])}}let _=Math.min(o,n+1);if(w<o&&(d[w]=r.get(w,w)),n<_&&(d[_-1]=0),x+1<_&&(v[x]=r.get(x,_-1)),v[_-1]=0,a){for(let t=w;t<f;t++){for(let e=0;e<n;e++)g.set(e,t,0);g.set(t,t,1)}for(let t=w-1;t>=0;t--)if(0!==d[t]){for(let e=t+1;e<f;e++){let r=0;for(let o=t;o<n;o++)r+=g.get(o,t)*g.get(o,e);r=-r/g.get(t,t);for(let o=t;o<n;o++)g.set(o,e,g.get(o,e)+r*g.get(o,t))}for(let e=t;e<n;e++)g.set(e,t,-g.get(e,t));g.set(t,t,1+g.get(t,t));for(let e=0;e<t-1;e++)g.set(e,t,0)}else{for(let e=0;e<n;e++)g.set(e,t,0);g.set(t,t,1)}}if(h)for(let t=o-1;t>=0;t--){if(t<x&&0!==v[t])for(let e=t+1;e<o;e++){let r=0;for(let n=t+1;n<o;n++)r+=p.get(n,t)*p.get(n,e);r=-r/p.get(t+1,t);for(let n=t+1;n<o;n++)p.set(n,e,p.get(n,e)+r*p.get(n,t))}for(let e=0;e<o;e++)p.set(e,t,0);p.set(t,t,1)}let M=_-1,N=Number.EPSILON;for(;_>0;){let t,e;for(t=_-2;t>=-1&&-1!==t;t--){let e=Number.MIN_VALUE+N*Math.abs(d[t]+Math.abs(d[t+1]));if(Math.abs(v[t])<=e||Number.isNaN(v[t])){v[t]=0;break}}if(t===_-2)e=4;else{let r;for(r=_-1;r>=t&&r!==t;r--){let e=(r!==_?Math.abs(v[r]):0)+(r!==t+1?Math.abs(v[r-1]):0);if(Math.abs(d[r])<=N*e){d[r]=0;break}}r===t?e=3:r===_-1?e=1:(e=2,t=r)}switch(t++,e){case 1:{let e=v[_-2];v[_-2]=0;for(let r=_-2;r>=t;r--){let n=j(d[r],e),i=d[r]/n,s=e/n;if(d[r]=n,r!==t&&(e=-s*v[r-1],v[r-1]=i*v[r-1]),h)for(let t=0;t<o;t++)n=i*p.get(t,r)+s*p.get(t,_-1),p.set(t,_-1,-s*p.get(t,r)+i*p.get(t,_-1)),p.set(t,r,n)}break}case 2:{let e=v[t-1];v[t-1]=0;for(let r=t;r<_;r++){let o=j(d[r],e),i=d[r]/o,s=e/o;if(d[r]=o,e=-s*v[r],v[r]=i*v[r],a)for(let e=0;e<n;e++)o=i*g.get(e,r)+s*g.get(e,t-1),g.set(e,t-1,-s*g.get(e,r)+i*g.get(e,t-1)),g.set(e,r,o)}break}case 3:{let e=Math.max(Math.abs(d[_-1]),Math.abs(d[_-2]),Math.abs(v[_-2]),Math.abs(d[t]),Math.abs(v[t])),r=d[_-1]/e,i=d[_-2]/e,s=v[_-2]/e,u=d[t]/e,c=v[t]/e,f=((i+r)*(i-r)+s*s)/2,l=r*s*(r*s),m=0;(0!==f||0!==l)&&(m=f<0?0-Math.sqrt(f*f+l):Math.sqrt(f*f+l),m=l/(f+m));let y=(u+r)*(u-r)+m,w=u*c;for(let e=t;e<_-1;e++){let r=j(y,w);0===r&&(r=Number.MIN_VALUE);let i=y/r,s=w/r;if(e!==t&&(v[e-1]=r),y=i*d[e]+s*v[e],v[e]=i*v[e]-s*d[e],w=s*d[e+1],d[e+1]=i*d[e+1],h)for(let t=0;t<o;t++)r=i*p.get(t,e)+s*p.get(t,e+1),p.set(t,e+1,-s*p.get(t,e)+i*p.get(t,e+1)),p.set(t,e,r);if(0===(r=j(y,w))&&(r=Number.MIN_VALUE),i=y/r,s=w/r,d[e]=r,y=i*v[e]+s*d[e+1],d[e+1]=-s*v[e]+i*d[e+1],w=s*v[e+1],v[e+1]=i*v[e+1],a&&e<n-1)for(let t=0;t<n;t++)r=i*g.get(t,e)+s*g.get(t,e+1),g.set(t,e+1,-s*g.get(t,e)+i*g.get(t,e+1)),g.set(t,e,r)}v[_-2]=y;break}case 4:if(d[t]<=0&&(d[t]=d[t]<0?-d[t]:0,h))for(let e=0;e<=M;e++)p.set(e,t,-p.get(e,t));for(;t<M&&!(d[t]>=d[t+1]);){let e=d[t];if(d[t]=d[t+1],d[t+1]=e,h&&t<o-1)for(let r=0;r<o;r++)e=p.get(r,t+1),p.set(r,t+1,p.get(r,t)),p.set(r,t,e);if(a&&t<n-1)for(let r=0;r<n;r++)e=g.get(r,t+1),g.set(r,t+1,g.get(r,t)),g.set(r,t,e);t++}_--}}if(c){let t=p;p=g,g=t}this.m=n,this.n=o,this.s=d,this.U=g,this.V=p}solve(t){let e=this.threshold,r=this.s.length,n=b.zeros(r,r);for(let t=0;t<r;t++)Math.abs(this.s[t])<=e?n.set(t,t,0):n.set(t,t,1/this.s[t]);let o=this.U,i=this.rightSingularVectors,s=i.mmul(n),u=i.rows,a=o.rows,h=b.zeros(u,a);for(let t=0;t<u;t++)for(let e=0;e<a;e++){let n=0;for(let i=0;i<r;i++)n+=s.get(t,i)*o.get(e,i);h.set(t,e,n)}return h.mmul(t)}solveForDiagonal(t){return this.solve(b.diag(t))}inverse(){let t=this.V,e=this.threshold,r=t.rows,n=t.columns,o=new b(r,this.s.length);for(let i=0;i<r;i++)for(let r=0;r<n;r++)Math.abs(this.s[r])>e&&o.set(i,r,t.get(i,r)/this.s[r]);let i=this.U,s=i.rows,u=i.columns,a=new b(r,s);for(let t=0;t<r;t++)for(let e=0;e<s;e++){let r=0;for(let n=0;n<u;n++)r+=o.get(t,n)*i.get(e,n);a.set(t,e,r)}return a}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s;for(let n=0,o=r.length;n<o;n++)r[n]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return b.diag(this.s)}}function C(t,e,r=!1){return(t=S.checkMatrix(t),e=S.checkMatrix(e),r)?new R(t).solve(e):t.isSquare()?new A(t).solve(e):new I(t).solve(e)}class T{constructor(t,e={}){let r,n;let{assumeSymmetric:o=!1}=e;if(!(t=S.checkMatrix(t)).isSquare())throw Error("Matrix is not a square matrix");if(t.isEmpty())throw Error("Matrix must be non-empty");let i=t.columns,s=new b(i,i),u=new Float64Array(i),a=new Float64Array(i),h=t;if(o||t.isSymmetric()){for(r=0;r<i;r++)for(n=0;n<i;n++)s.set(r,n,h.get(r,n));(function(t,e,r,n){let o,i,s,u,a,h,c,f;for(a=0;a<t;a++)r[a]=n.get(t-1,a);for(u=t-1;u>0;u--){for(h=0,f=0,s=0;h<u;h++)f+=Math.abs(r[h]);if(0===f)for(a=0,e[u]=r[u-1];a<u;a++)r[a]=n.get(u-1,a),n.set(u,a,0),n.set(a,u,0);else{for(h=0;h<u;h++)r[h]/=f,s+=r[h]*r[h];for(o=r[u-1],i=Math.sqrt(s),o>0&&(i=-i),e[u]=f*i,s-=o*i,r[u-1]=o-i,a=0;a<u;a++)e[a]=0;for(a=0;a<u;a++){for(o=r[a],n.set(a,u,o),i=e[a]+n.get(a,a)*o,h=a+1;h<=u-1;h++)i+=n.get(h,a)*r[h],e[h]+=n.get(h,a)*o;e[a]=i}for(a=0,o=0;a<u;a++)e[a]/=s,o+=e[a]*r[a];for(a=0,c=o/(s+s);a<u;a++)e[a]-=c*r[a];for(a=0;a<u;a++){for(o=r[a],i=e[a],h=a;h<=u-1;h++)n.set(h,a,n.get(h,a)-(o*e[h]+i*r[h]));r[a]=n.get(u-1,a),n.set(u,a,0)}}r[u]=s}for(u=0;u<t-1;u++){if(n.set(t-1,u,n.get(u,u)),n.set(u,u,1),0!==(s=r[u+1])){for(h=0;h<=u;h++)r[h]=n.get(h,u+1)/s;for(a=0;a<=u;a++){for(h=0,i=0;h<=u;h++)i+=n.get(h,u+1)*n.get(h,a);for(h=0;h<=u;h++)n.set(h,a,n.get(h,a)-i*r[h])}}for(h=0;h<=u;h++)n.set(h,u+1,0)}for(a=0;a<t;a++)r[a]=n.get(t-1,a),n.set(t-1,a,0);n.set(t-1,t-1,1),e[0]=0})(i,a,u,s),function(t,e,r,n){let o,i,s,u,a,h,c,f,l,d,g,p,v,m,y,w;for(s=1;s<t;s++)e[s-1]=e[s];e[t-1]=0;let x=0,b=0,E=Number.EPSILON;for(h=0;h<t;h++){for(b=Math.max(b,Math.abs(r[h])+Math.abs(e[h])),c=h;c<t&&!(Math.abs(e[c])<=E*b);)c++;if(c>h)do{for(o=r[h],l=j(f=(r[h+1]-o)/(2*e[h]),1),f<0&&(l=-l),r[h]=e[h]/(f+l),r[h+1]=e[h]*(f+l),d=r[h+1],i=o-r[h],s=h+2;s<t;s++)r[s]-=i;for(x+=i,f=r[c],p=g=1,v=g,m=e[h+1],y=0,w=0,s=c-1;s>=h;s--)for(a=0,v=p,p=g,w=y,o=g*e[s],i=g*f,l=j(f,e[s]),e[s+1]=y*l,y=e[s]/l,f=(g=f/l)*r[s]-y*o,r[s+1]=i+y*(g*o+y*r[s]);a<t;a++)i=n.get(a,s+1),n.set(a,s+1,y*n.get(a,s)+g*i),n.set(a,s,g*n.get(a,s)-y*i);f=-y*w*v*m*e[h]/d,e[h]=y*f,r[h]=g*f}while(Math.abs(e[h])>E*b);r[h]=r[h]+x,e[h]=0}for(s=0;s<t-1;s++){for(a=s,f=r[s],u=s+1;u<t;u++)r[u]<f&&(a=u,f=r[u]);if(a!==s)for(u=0,r[a]=r[s],r[s]=f;u<t;u++)f=n.get(u,s),n.set(u,s,n.get(u,a)),n.set(u,a,f)}}(i,a,u,s)}else{let t=new b(i,i),e=new Float64Array(i);for(n=0;n<i;n++)for(r=0;r<i;r++)t.set(r,n,h.get(r,n));(function(t,e,r,n){let o,i,s,u,a,h,c;let f=t-1;for(h=1;h<=f-1;h++){for(c=0,u=h;u<=f;u++)c+=Math.abs(e.get(u,h-1));if(0!==c){for(s=0,u=f;u>=h;u--)r[u]=e.get(u,h-1)/c,s+=r[u]*r[u];for(i=Math.sqrt(s),r[h]>0&&(i=-i),s-=r[h]*i,r[h]=r[h]-i,a=h;a<t;a++){for(o=0,u=f;u>=h;u--)o+=r[u]*e.get(u,a);for(o/=s,u=h;u<=f;u++)e.set(u,a,e.get(u,a)-o*r[u])}for(u=0;u<=f;u++){for(o=0,a=f;a>=h;a--)o+=r[a]*e.get(u,a);for(o/=s,a=h;a<=f;a++)e.set(u,a,e.get(u,a)-o*r[a])}r[h]=c*r[h],e.set(h,h-1,c*i)}}for(u=0;u<t;u++)for(a=0;a<t;a++)n.set(u,a,u===a?1:0);for(h=f-1;h>=1;h--)if(0!==e.get(h,h-1)){for(u=h+1;u<=f;u++)r[u]=e.get(u,h-1);for(a=h;a<=f;a++){for(i=0,u=h;u<=f;u++)i+=r[u]*n.get(u,a);for(i=i/r[h]/e.get(h,h-1),u=h;u<=f;u++)n.set(u,a,n.get(u,a)+i*r[u])}}})(i,t,e,s),function(t,e,r,n,o){let i,s,u,a,h,c,f,l,d,g,p,v,m,y,w,x=t-1,b=t-1,E=Number.EPSILON,_=0,M=0,N=0,k=0,S=0,A=0,j=0,I=0;for(i=0;i<t;i++)for((i<0||i>b)&&(r[i]=o.get(i,i),e[i]=0),s=Math.max(i-1,0);s<t;s++)M+=Math.abs(o.get(i,s));for(;x>=0;){for(a=x;a>0&&(0===(A=Math.abs(o.get(a-1,a-1))+Math.abs(o.get(a,a)))&&(A=M),!(Math.abs(o.get(a,a-1))<E*A));)a--;if(a===x)o.set(x,x,o.get(x,x)+_),r[x]=o.get(x,x),e[x]=0,x--,I=0;else if(a===x-1){if(f=o.get(x,x-1)*o.get(x-1,x),j=Math.sqrt(Math.abs(k=(N=(o.get(x-1,x-1)-o.get(x,x))/2)*N+f)),o.set(x,x,o.get(x,x)+_),o.set(x-1,x-1,o.get(x-1,x-1)+_),l=o.get(x,x),k>=0){for(j=N>=0?N+j:N-j,r[x-1]=l+j,r[x]=r[x-1],0!==j&&(r[x]=l-f/j),e[x-1]=0,e[x]=0,A=Math.abs(l=o.get(x,x-1))+Math.abs(j),S=Math.sqrt((N=l/A)*N+(k=j/A)*k),N/=S,k/=S,s=x-1;s<t;s++)j=o.get(x-1,s),o.set(x-1,s,k*j+N*o.get(x,s)),o.set(x,s,k*o.get(x,s)-N*j);for(i=0;i<=x;i++)j=o.get(i,x-1),o.set(i,x-1,k*j+N*o.get(i,x)),o.set(i,x,k*o.get(i,x)-N*j);for(i=0;i<=b;i++)j=n.get(i,x-1),n.set(i,x-1,k*j+N*n.get(i,x)),n.set(i,x,k*n.get(i,x)-N*j)}else r[x-1]=l+N,r[x]=l+N,e[x-1]=j,e[x]=-j;x-=2,I=0}else{if(l=o.get(x,x),d=0,f=0,a<x&&(d=o.get(x-1,x-1),f=o.get(x,x-1)*o.get(x-1,x)),10===I){for(_+=l,i=0;i<=x;i++)o.set(i,i,o.get(i,i)-l);l=d=.75*(A=Math.abs(o.get(x,x-1))+Math.abs(o.get(x-1,x-2))),f=-.4375*A*A}if(30===I&&(A=(A=(d-l)/2)*A+f)>0){for(A=Math.sqrt(A),d<l&&(A=-A),A=l-f/((d-l)/2+A),i=0;i<=x;i++)o.set(i,i,o.get(i,i)-A);_+=A,l=d=f=.964}for(I+=1,h=x-2;h>=a&&(A=Math.abs(N=((S=l-(j=o.get(h,h)))*(A=d-j)-f)/o.get(h+1,h)+o.get(h,h+1))+Math.abs(k=o.get(h+1,h+1)-j-S-A)+Math.abs(S=o.get(h+2,h+1)),N/=A,k/=A,S/=A,!(h===a||Math.abs(o.get(h,h-1))*(Math.abs(k)+Math.abs(S))<E*(Math.abs(N)*(Math.abs(o.get(h-1,h-1))+Math.abs(j)+Math.abs(o.get(h+1,h+1))))));)h--;for(i=h+2;i<=x;i++)o.set(i,i-2,0),i>h+2&&o.set(i,i-3,0);for(u=h;u<=x-1&&(y=u!==x-1,u!==h&&0!==(l=Math.abs(N=o.get(u,u-1))+Math.abs(k=o.get(u+1,u-1))+Math.abs(S=y?o.get(u+2,u-1):0))&&(N/=l,k/=l,S/=l),0!==l);u++)if(A=Math.sqrt(N*N+k*k+S*S),N<0&&(A=-A),0!==A){for(u!==h?o.set(u,u-1,-A*l):a!==h&&o.set(u,u-1,-o.get(u,u-1)),N+=A,l=N/A,d=k/A,j=S/A,k/=N,S/=N,s=u;s<t;s++)N=o.get(u,s)+k*o.get(u+1,s),y&&(N+=S*o.get(u+2,s),o.set(u+2,s,o.get(u+2,s)-N*j)),o.set(u,s,o.get(u,s)-N*l),o.set(u+1,s,o.get(u+1,s)-N*d);for(i=0;i<=Math.min(x,u+3);i++)N=l*o.get(i,u)+d*o.get(i,u+1),y&&(N+=j*o.get(i,u+2),o.set(i,u+2,o.get(i,u+2)-N*S)),o.set(i,u,o.get(i,u)-N),o.set(i,u+1,o.get(i,u+1)-N*k);for(i=0;i<=b;i++)N=l*n.get(i,u)+d*n.get(i,u+1),y&&(N+=j*n.get(i,u+2),n.set(i,u+2,n.get(i,u+2)-N*S)),n.set(i,u,n.get(i,u)-N),n.set(i,u+1,n.get(i,u+1)-N*k)}}}if(0!==M){for(x=t-1;x>=0;x--)if(N=r[x],0===(k=e[x]))for(a=x,o.set(x,x,1),i=x-1;i>=0;i--){for(f=o.get(i,i)-N,S=0,s=a;s<=x;s++)S+=o.get(i,s)*o.get(s,x);if(e[i]<0)j=f,A=S;else if(a=i,0===e[i]?o.set(i,x,0!==f?-S/f:-S/(E*M)):(l=o.get(i,i+1),d=o.get(i+1,i),k=(r[i]-N)*(r[i]-N)+e[i]*e[i],c=(l*A-j*S)/k,o.set(i,x,c),o.set(i+1,x,Math.abs(l)>Math.abs(j)?(-S-f*c)/l:(-A-d*c)/j)),E*(c=Math.abs(o.get(i,x)))*c>1)for(s=i;s<=x;s++)o.set(s,x,o.get(s,x)/c)}else if(k<0)for(a=x-1,Math.abs(o.get(x,x-1))>Math.abs(o.get(x-1,x))?(o.set(x-1,x-1,k/o.get(x,x-1)),o.set(x-1,x,-(o.get(x,x)-N)/o.get(x,x-1))):(w=O(0,-o.get(x-1,x),o.get(x-1,x-1)-N,k),o.set(x-1,x-1,w[0]),o.set(x-1,x,w[1])),o.set(x,x-1,0),o.set(x,x,1),i=x-2;i>=0;i--){for(g=0,p=0,s=a;s<=x;s++)g+=o.get(i,s)*o.get(s,x-1),p+=o.get(i,s)*o.get(s,x);if(f=o.get(i,i)-N,e[i]<0)j=f,S=g,A=p;else if(a=i,0===e[i]?(w=O(-g,-p,f,k),o.set(i,x-1,w[0]),o.set(i,x,w[1])):(l=o.get(i,i+1),d=o.get(i+1,i),v=(r[i]-N)*(r[i]-N)+e[i]*e[i]-k*k,m=(r[i]-N)*2*k,0===v&&0===m&&(v=E*M*(Math.abs(f)+Math.abs(k)+Math.abs(l)+Math.abs(d)+Math.abs(j))),w=O(l*S-j*g+k*p,l*A-j*p-k*g,v,m),o.set(i,x-1,w[0]),o.set(i,x,w[1]),Math.abs(l)>Math.abs(j)+Math.abs(k)?(o.set(i+1,x-1,(-g-f*o.get(i,x-1)+k*o.get(i,x))/l),o.set(i+1,x,(-p-f*o.get(i,x)-k*o.get(i,x-1))/l)):(w=O(-S-d*o.get(i,x-1),-A-d*o.get(i,x),j,k),o.set(i+1,x-1,w[0]),o.set(i+1,x,w[1]))),E*(c=Math.max(Math.abs(o.get(i,x-1)),Math.abs(o.get(i,x))))*c>1)for(s=i;s<=x;s++)o.set(s,x-1,o.get(s,x-1)/c),o.set(s,x,o.get(s,x)/c)}for(i=0;i<t;i++)if(i<0||i>b)for(s=i;s<t;s++)n.set(i,s,o.get(i,s));for(s=t-1;s>=0;s--)for(i=0;i<=b;i++){for(u=0,j=0;u<=Math.min(s,b);u++)j+=n.get(i,u)*o.get(u,s);n.set(i,s,j)}}}(i,a,u,s,t)}this.n=i,this.e=a,this.d=u,this.V=s}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t,e,r=this.n,n=this.e,o=this.d,i=new b(r,r);for(t=0;t<r;t++){for(e=0;e<r;e++)i.set(t,e,0);i.set(t,t,o[t]),n[t]>0?i.set(t,t+1,n[t]):n[t]<0&&i.set(t,t-1,n[t])}return i}}function O(t,e,r,n){let o,i;return Math.abs(r)>Math.abs(n)?(o=n/r,i=r+o*n,[(t+o*e)/i,(e-o*t)/i]):(o=r/n,i=n+o*r,[(o*t+e)/i,(o*e-t)/i])}class z{constructor(t){let e,r,n;if(!(t=S.checkMatrix(t)).isSymmetric())throw Error("Matrix is not symmetric");let o=t,i=o.rows,s=new b(i,i),u=!0;for(r=0;r<i;r++){let t=0;for(n=0;n<r;n++){let i=0;for(e=0;e<n;e++)i+=s.get(n,e)*s.get(r,e);i=(o.get(r,n)-i)/s.get(n,n),s.set(r,n,i),t+=i*i}for(u&&=(t=o.get(r,r)-t)>0,s.set(r,r,Math.sqrt(Math.max(t,0))),n=r+1;n<i;n++)s.set(r,n,0)}this.L=s,this.positiveDefinite=u}isPositiveDefinite(){return this.positiveDefinite}solve(t){let e,r,n;t=S.checkMatrix(t);let o=this.L,i=o.rows;if(t.rows!==i)throw Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw Error("Matrix is not positive definite");let s=t.columns,u=t.clone();for(n=0;n<i;n++)for(r=0;r<s;r++){for(e=0;e<n;e++)u.set(n,r,u.get(n,r)-u.get(e,r)*o.get(n,e));u.set(n,r,u.get(n,r)/o.get(n,n))}for(n=i-1;n>=0;n--)for(r=0;r<s;r++){for(e=n+1;e<i;e++)u.set(n,r,u.get(n,r)-u.get(e,r)*o.get(e,n));u.set(n,r,u.get(n,r)/o.get(n,n))}return u}get lowerTriangularMatrix(){return this.L}}class P{constructor(t,e={}){let r,o,i,s,u;t=S.checkMatrix(t);let{Y:a}=e,{scaleScores:h=!1,maxIterations:c=1e3,terminationCriteria:f=1e-10}=e;if(a){if((a=n.isAnyArray(a)&&"number"==typeof a[0]?b.columnVector(a):S.checkMatrix(a)).rows!==t.rows)throw Error("Y should have the same number of rows as X");r=a.getColumnVector(0)}else r=t.getColumnVector(0);let l=1;for(let e=0;e<c&&l>f;e++)s=(s=t.transpose().mmul(r).div(r.transpose().mmul(r).get(0,0))).div(s.norm()),o=t.mmul(s).div(s.transpose().mmul(s).get(0,0)),e>0&&(l=o.clone().sub(u).pow(2).sum()),u=o.clone(),a?(i=(i=a.transpose().mmul(o).div(o.transpose().mmul(o).get(0,0))).div(i.norm()),r=a.mmul(i).div(i.transpose().mmul(i).get(0,0))):r=o;if(a){let e=t.transpose().mmul(o).div(o.transpose().mmul(o).get(0,0));e=e.div(e.norm());let n=t.clone().sub(o.clone().mmul(e.transpose())),u=r.transpose().mmul(o).div(o.transpose().mmul(o).get(0,0)),h=a.clone().sub(o.clone().mulS(u.get(0,0)).mmul(i.transpose()));this.t=o,this.p=e.transpose(),this.w=s.transpose(),this.q=i,this.u=r,this.s=o.transpose().mmul(o),this.xResidual=n,this.yResidual=h,this.betas=u}else this.w=s.transpose(),this.s=o.transpose().mmul(o).sqrt(),h?this.t=o.clone().div(this.s.get(0,0)):this.t=o,this.xResidual=t.sub(o.mmul(s.transpose()))}}e.XA=w,e.a_=z,e.yQ=z,e.Hs=_,e.Ec=T,e.dx=T,e.LU=A,e.Rm=A,e.y3=b,e.qK=class extends M{constructor(t,e){g(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,r){return this.matrix.set(t,this.columnIndices[e],r),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}},e.pb=class extends M{constructor(t,e){c(t,e),super(t,t.rows,1),this.column=e}set(t,e,r){return this.matrix.set(t,this.column,r),this}get(t){return this.matrix.get(t,this.column)}},e.j=class extends M{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(t,this.columns-e-1,r),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}},e.sO=class extends M{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(this.rows-t-1,e,r),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}},e.BZ=class extends M{constructor(t,e){d(t,e),super(t,e.length,t.columns),this.rowIndices=e}set(t,e,r){return this.matrix.set(this.rowIndices[t],e,r),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}},e.EK=class extends M{constructor(t,e){h(t,e),super(t,1,t.columns),this.row=e}set(t,e,r){return this.matrix.set(this.row,e,r),this}get(t,e){return this.matrix.get(this.row,e)}},e.Db=N,e.Fx=class extends M{constructor(t,e,r,n,o){p(t,e,r,n,o),super(t,r-e+1,o-n+1),this.startRow=e,this.startColumn=n}set(t,e,r){return this.matrix.set(this.startRow+t,this.startColumn+e,r),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}},e.tU=class extends M{constructor(t){super(t,t.columns,t.rows)}set(t,e,r){return this.matrix.set(e,t,r),this}get(t,e){return this.matrix.get(e,t)}},e.Ym=P,e.rs=P,e.QR=I,e.TB=I,e.oH=R,e.Sc=R,e.BN=E,e.it=k,e.$r=S,e.QM=function(t,e=t,r={}){t=new b(t);let o=!1;if("object"!=typeof e||b.isMatrix(e)||n.isAnyArray(e)?e=new b(e):(r=e,e=t,o=!0),t.rows!==e.rows)throw TypeError("Both matrices must have the same number of rows");let{center:i=!0,scale:s=!0}=r;i&&(t.center("column"),o||e.center("column")),s&&(t.scale("column"),o||e.scale("column"));let u=t.standardDeviation("column",{unbiased:!0}),a=o?u:e.standardDeviation("column",{unbiased:!0}),h=t.transpose().mmul(e);for(let e=0;e<h.rows;e++)for(let r=0;r<h.columns;r++)h.set(e,r,h.get(e,r)*(1/(u[e]*a[r]))*(1/(t.rows-1)));return h},e.AV=function(t,e=t,r={}){t=new b(t);let o=!1;if("object"!=typeof e||b.isMatrix(e)||n.isAnyArray(e)?e=new b(e):(r=e,e=t,o=!0),t.rows!==e.rows)throw TypeError("Both matrices must have the same number of rows");let{center:i=!0}=r;i&&(t=t.center("column"),o||(e=e.center("column")));let s=t.transpose().mmul(e);for(let e=0;e<s.rows;e++)for(let r=0;r<s.columns;r++)s.set(e,r,s.get(e,r)*(1/(t.rows-1)));return s},e.GH=function t(e){if((e=b.checkMatrix(e)).isSquare()){let r,n,o;if(0===e.columns)return 1;if(2===e.columns)return r=e.get(0,0),n=e.get(0,1),o=e.get(1,0),r*e.get(1,1)-n*o;if(3!==e.columns)return new A(e).determinant;{let i,s,u;return i=new N(e,[1,2],[1,2]),s=new N(e,[1,2],[0,2]),u=new N(e,[1,2],[0,1]),r=e.get(0,0),n=e.get(0,1),o=e.get(0,2),r*t(i)-n*t(s)+o*t(u)}}throw Error("determinant can only be calculated for a square matrix")},e.SO=function(t,e=!1){return(t=S.checkMatrix(t),e)?new R(t).inverse():C(t,b.eye(t.rows))},e.uZ=function(t,e={}){let{thresholdValue:r=1e-9,thresholdError:n=1e-9}=e,o=(t=b.checkMatrix(t)).rows,i=new b(o,o);for(let e=0;e<o;e++){let s=b.columnVector(t.getRow(e)),u=t.subMatrixRow(function(t,e){let r=[];for(let n=0;n<t;n++)n!==e&&r.push(n);return r}(o,e)).transpose(),a=new R(u).solve(s),h=b.sub(s,u.mmul(a)).abs().max();i.setRow(e,function(t,e,r,n=1e-9,o=1e-9){if(t>o)return Array(e.rows+1).fill(0);{let t=e.addRow(r,[0]);for(let e=0;e<t.rows;e++)Math.abs(t.get(e,0))<n&&t.set(e,0,0);return t.to1DArray()}}(h,a,e,r,n))}return i},e.yU=function(t,e=Number.EPSILON){if((t=b.checkMatrix(t)).isEmpty())return t.transpose();let r=new R(t,{autoTranspose:!0}),n=r.leftSingularVectors,o=r.rightSingularVectors,i=r.diagonal;for(let t=0;t<i.length;t++)Math.abs(i[t])>e?i[t]=1/i[t]:i[t]=0;return o.mmul(b.diag(i).mmul(n.transpose()))},e.F1=C,e.re=function(t,e){if(n.isAnyArray(t))return t[0]&&n.isAnyArray(t[0])?new S(t):new k(t,e);throw Error("the argument is not an array")}},19853:function(t,e){"use strict";var r={value:()=>{}};function n(){for(var t,e=0,r=arguments.length,n={};e<r;++e){if(!(t=arguments[e]+"")||t in n||/[\s.]/.test(t))throw Error("illegal type: "+t);n[t]=[]}return new o(n)}function o(t){this._=t}function i(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=r,t=t.slice(0,o).concat(t.slice(o+1));break}return null!=n&&t.push({name:e,value:n}),t}o.prototype=n.prototype={constructor:o,on:function(t,e){var r,n=this._,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw Error("unknown type: "+t);return{type:t,name:e}}),s=-1,u=o.length;if(arguments.length<2){for(;++s<u;)if((r=(t=o[s]).type)&&(r=function(t,e){for(var r,n=0,o=t.length;n<o;++n)if((r=t[n]).name===e)return r.value}(n[r],t.name)))return r;return}if(null!=e&&"function"!=typeof e)throw Error("invalid callback: "+e);for(;++s<u;)if(r=(t=o[s]).type)n[r]=i(n[r],t.name,e);else if(null==e)for(r in n)n[r]=i(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new o(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var r,n,o=Array(r),i=0;i<r;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(n=this._[t],i=0,r=n.length;i<r;++i)n[i].value.apply(e,o)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(var n=this._[t],o=0,i=n.length;o<i;++o)n[o].value.apply(e,r)}},e.Z=n},4507:function(t,e,r){"use strict";function n(t,e){var r,n=1;function o(){var o,i,s=r.length,u=0,a=0;for(o=0;o<s;++o)u+=(i=r[o]).x,a+=i.y;for(u=(u/s-t)*n,a=(a/s-e)*n,o=0;o<s;++o)i=r[o],i.x-=u,i.y-=a}return null==t&&(t=0),null==e&&(e=0),o.initialize=function(t){r=t},o.x=function(e){return arguments.length?(t=+e,o):t},o.y=function(t){return arguments.length?(e=+t,o):e},o.strength=function(t){return arguments.length?(n=+t,o):n},o}r.d(e,{Z:function(){return n}})},56617:function(t,e,r){"use strict";r.d(e,{Z:function(){return a}});var n=r(76265),o=r(61722),i=r(24211);function s(t){return t.x+t.vx}function u(t){return t.y+t.vy}function a(t){var e,r,a,h=1,c=1;function f(){for(var t,o,f,d,g,p,v,m=e.length,y=0;y<c;++y)for(t=0,o=(0,n.Z)(e,s,u).visitAfter(l);t<m;++t)v=(p=r[(f=e[t]).index])*p,d=f.x+f.vx,g=f.y+f.vy,o.visit(w);function w(t,e,r,n,o){var s=t.data,u=t.r,c=p+u;if(s){if(s.index>f.index){var l=d-s.x-s.vx,m=g-s.y-s.vy,y=l*l+m*m;y<c*c&&(0===l&&(y+=(l=(0,i.Z)(a))*l),0===m&&(y+=(m=(0,i.Z)(a))*m),y=(c-(y=Math.sqrt(y)))/y*h,f.vx+=(l*=y)*(c=(u*=u)/(v+u)),f.vy+=(m*=y)*c,s.vx-=l*(c=1-c),s.vy-=m*c)}return}return e>d+c||n<d-c||r>g+c||o<g-c}}function l(t){if(t.data)return t.r=r[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function d(){if(e){var n,o,i=e.length;for(n=0,r=Array(i);n<i;++n)r[(o=e[n]).index]=+t(o,n,e)}}return"function"!=typeof t&&(t=(0,o.Z)(null==t?1:+t)),f.initialize=function(t,r){e=t,a=r,d()},f.iterations=function(t){return arguments.length?(c=+t,f):c},f.strength=function(t){return arguments.length?(h=+t,f):h},f.radius=function(e){return arguments.length?(t="function"==typeof e?e:(0,o.Z)(+e),d(),f):t},f}},61722:function(t,e,r){"use strict";function n(t){return function(){return t}}r.d(e,{Z:function(){return n}})},24211:function(t,e,r){"use strict";function n(t){return(t()-.5)*1e-6}r.d(e,{Z:function(){return n}})},44575:function(t,e,r){"use strict";r.d(e,{Z:function(){return u}});var n=r(61722),o=r(24211);function i(t){return t.index}function s(t,e){var r=t.get(e);if(!r)throw Error("node not found: "+e);return r}function u(t){var e,r,u,a,h,c,f=i,l=function(t){return 1/Math.min(a[t.source.index],a[t.target.index])},d=(0,n.Z)(30),g=1;function p(n){for(var i=0,s=t.length;i<g;++i)for(var u,a,f,l,d,p,v,m=0;m<s;++m)a=(u=t[m]).source,p=((p=Math.sqrt((l=(f=u.target).x+f.vx-a.x-a.vx||(0,o.Z)(c))*l+(d=f.y+f.vy-a.y-a.vy||(0,o.Z)(c))*d))-r[m])/p*n*e[m],l*=p,d*=p,f.vx-=l*(v=h[m]),f.vy-=d*v,a.vx+=l*(v=1-v),a.vy+=d*v}function v(){if(u){var n,o,i=u.length,c=t.length,l=new Map(u.map((t,e)=>[f(t,e,u),t]));for(n=0,a=Array(i);n<c;++n)(o=t[n]).index=n,"object"!=typeof o.source&&(o.source=s(l,o.source)),"object"!=typeof o.target&&(o.target=s(l,o.target)),a[o.source.index]=(a[o.source.index]||0)+1,a[o.target.index]=(a[o.target.index]||0)+1;for(n=0,h=Array(c);n<c;++n)o=t[n],h[n]=a[o.source.index]/(a[o.source.index]+a[o.target.index]);e=Array(c),m(),r=Array(c),y()}}function m(){if(u)for(var r=0,n=t.length;r<n;++r)e[r]=+l(t[r],r,t)}function y(){if(u)for(var e=0,n=t.length;e<n;++e)r[e]=+d(t[e],e,t)}return null==t&&(t=[]),p.initialize=function(t,e){u=t,c=e,v()},p.links=function(e){return arguments.length?(t=e,v(),p):t},p.id=function(t){return arguments.length?(f=t,p):f},p.iterations=function(t){return arguments.length?(g=+t,p):g},p.strength=function(t){return arguments.length?(l="function"==typeof t?t:(0,n.Z)(+t),m(),p):l},p.distance=function(t){return arguments.length?(d="function"==typeof t?t:(0,n.Z)(+t),y(),p):d},p}},64681:function(t,e,r){"use strict";r.d(e,{Z:function(){return u}});var n=r(76265),o=r(61722),i=r(24211),s=r(42655);function u(){var t,e,r,u,a,h=(0,o.Z)(-30),c=1,f=1/0,l=.81;function d(r){var o,i=t.length,a=(0,n.Z)(t,s.x,s.y).visitAfter(p);for(u=r,o=0;o<i;++o)e=t[o],a.visit(v)}function g(){if(t){var e,r,n=t.length;for(e=0,a=Array(n);e<n;++e)a[(r=t[e]).index]=+h(r,e,t)}}function p(t){var e,r,n,o,i,s=0,u=0;if(t.length){for(n=o=i=0;i<4;++i)(e=t[i])&&(r=Math.abs(e.value))&&(s+=e.value,u+=r,n+=r*e.x,o+=r*e.y);t.x=n/u,t.y=o/u}else{(e=t).x=e.data.x,e.y=e.data.y;do s+=a[e.data.index];while(e=e.next)}t.value=s}function v(t,n,o,s){if(!t.value)return!0;var h=t.x-e.x,d=t.y-e.y,g=s-n,p=h*h+d*d;if(g*g/l<p)return p<f&&(0===h&&(p+=(h=(0,i.Z)(r))*h),0===d&&(p+=(d=(0,i.Z)(r))*d),p<c&&(p=Math.sqrt(c*p)),e.vx+=h*t.value*u/p,e.vy+=d*t.value*u/p),!0;if(!t.length&&!(p>=f)){(t.data!==e||t.next)&&(0===h&&(p+=(h=(0,i.Z)(r))*h),0===d&&(p+=(d=(0,i.Z)(r))*d),p<c&&(p=Math.sqrt(c*p)));do t.data!==e&&(g=a[t.data.index]*u/p,e.vx+=h*g,e.vy+=d*g);while(t=t.next)}}return d.initialize=function(e,n){t=e,r=n,g()},d.strength=function(t){return arguments.length?(h="function"==typeof t?t:(0,o.Z)(+t),g(),d):h},d.distanceMin=function(t){return arguments.length?(c=t*t,d):Math.sqrt(c)},d.distanceMax=function(t){return arguments.length?(f=t*t,d):Math.sqrt(f)},d.theta=function(t){return arguments.length?(l=t*t,d):Math.sqrt(l)},d}},2881:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});var n=r(61722);function o(t,e,r){var o,i,s,u=(0,n.Z)(.1);function a(t){for(var n=0,u=o.length;n<u;++n){var a=o[n],h=a.x-e||1e-6,c=a.y-r||1e-6,f=Math.sqrt(h*h+c*c),l=(s[n]-f)*i[n]*t/f;a.vx+=h*l,a.vy+=c*l}}function h(){if(o){var e,r=o.length;for(e=0,i=Array(r),s=Array(r);e<r;++e)s[e]=+t(o[e],e,o),i[e]=isNaN(s[e])?0:+u(o[e],e,o)}}return"function"!=typeof t&&(t=(0,n.Z)(+t)),null==e&&(e=0),null==r&&(r=0),a.initialize=function(t){o=t,h()},a.strength=function(t){return arguments.length?(u="function"==typeof t?t:(0,n.Z)(+t),h(),a):u},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:(0,n.Z)(+e),h(),a):t},a.x=function(t){return arguments.length?(e=+t,a):e},a.y=function(t){return arguments.length?(r=+t,a):r},a}},42655:function(t,e,r){"use strict";r.d(e,{Z:function(){return a},x:function(){return i},y:function(){return s}});var n=r(19853),o=r(83249);function i(t){return t.x}function s(t){return t.y}var u=Math.PI*(3-Math.sqrt(5));function a(t){let e;var r,i=1,s=.001,a=1-Math.pow(.001,1/300),h=0,c=.6,f=new Map,l=(0,o.HT)(p),d=(0,n.Z)("tick","end"),g=(e=1,()=>(e=(1664525*e+1013904223)%4294967296)/4294967296);function p(){v(),d.call("tick",r),i<s&&(l.stop(),d.call("end",r))}function v(e){var n,o,s=t.length;void 0===e&&(e=1);for(var u=0;u<e;++u)for(i+=(h-i)*a,f.forEach(function(t){t(i)}),n=0;n<s;++n)null==(o=t[n]).fx?o.x+=o.vx*=c:(o.x=o.fx,o.vx=0),null==o.fy?o.y+=o.vy*=c:(o.y=o.fy,o.vy=0);return r}function m(){for(var e,r=0,n=t.length;r<n;++r){if((e=t[r]).index=r,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var o=10*Math.sqrt(.5+r),i=r*u;e.x=o*Math.cos(i),e.y=o*Math.sin(i)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function y(e){return e.initialize&&e.initialize(t,g),e}return null==t&&(t=[]),m(),r={tick:v,restart:function(){return l.restart(p),r},stop:function(){return l.stop(),r},nodes:function(e){return arguments.length?(t=e,m(),f.forEach(y),r):t},alpha:function(t){return arguments.length?(i=+t,r):i},alphaMin:function(t){return arguments.length?(s=+t,r):s},alphaDecay:function(t){return arguments.length?(a=+t,r):+a},alphaTarget:function(t){return arguments.length?(h=+t,r):h},velocityDecay:function(t){return arguments.length?(c=1-t,r):1-c},randomSource:function(t){return arguments.length?(g=t,f.forEach(y),r):g},force:function(t,e){return arguments.length>1?(null==e?f.delete(t):f.set(t,y(e)),r):f.get(t)},find:function(e,r,n){var o,i,s,u,a,h=0,c=t.length;for(null==n?n=1/0:n*=n,h=0;h<c;++h)(s=(o=e-(u=t[h]).x)*o+(i=r-u.y)*i)<n&&(a=u,n=s);return a},on:function(t,e){return arguments.length>1?(d.on(t,e),r):d.on(t)}}}},57280:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});var n=r(61722);function o(t){var e,r,o,i=(0,n.Z)(.1);function s(t){for(var n,i=0,s=e.length;i<s;++i)n=e[i],n.vx+=(o[i]-n.x)*r[i]*t}function u(){if(e){var n,s=e.length;for(n=0,r=Array(s),o=Array(s);n<s;++n)r[n]=isNaN(o[n]=+t(e[n],n,e))?0:+i(e[n],n,e)}}return"function"!=typeof t&&(t=(0,n.Z)(null==t?0:+t)),s.initialize=function(t){e=t,u()},s.strength=function(t){return arguments.length?(i="function"==typeof t?t:(0,n.Z)(+t),u(),s):i},s.x=function(e){return arguments.length?(t="function"==typeof e?e:(0,n.Z)(+e),u(),s):t},s}},96207:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});var n=r(61722);function o(t){var e,r,o,i=(0,n.Z)(.1);function s(t){for(var n,i=0,s=e.length;i<s;++i)n=e[i],n.vy+=(o[i]-n.y)*r[i]*t}function u(){if(e){var n,s=e.length;for(n=0,r=Array(s),o=Array(s);n<s;++n)r[n]=isNaN(o[n]=+t(e[n],n,e))?0:+i(e[n],n,e)}}return"function"!=typeof t&&(t=(0,n.Z)(null==t?0:+t)),s.initialize=function(t){e=t,u()},s.strength=function(t){return arguments.length?(i="function"==typeof t?t:(0,n.Z)(+t),u(),s):i},s.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,n.Z)(+e),u(),s):t},s}},66745:function(t,e,r){"use strict";function n(t,e,r,n,o){if(isNaN(e)||isNaN(r)||isNaN(n))return t;var i,s,u,a,h,c,f,l,d,g,p,v,m=t._root,y={data:o},w=t._x0,x=t._y0,b=t._z0,E=t._x1,_=t._y1,M=t._z1;if(!m)return t._root=y,t;for(;m.length;)if((l=e>=(s=(w+E)/2))?w=s:E=s,(d=r>=(u=(x+_)/2))?x=u:_=u,(g=n>=(a=(b+M)/2))?b=a:M=a,i=m,!(m=m[p=g<<2|d<<1|l]))return i[p]=y,t;if(h=+t._x.call(null,m.data),c=+t._y.call(null,m.data),f=+t._z.call(null,m.data),e===h&&r===c&&n===f)return y.next=m,i?i[p]=y:t._root=y,t;do i=i?i[p]=Array(8):t._root=Array(8),(l=e>=(s=(w+E)/2))?w=s:E=s,(d=r>=(u=(x+_)/2))?x=u:_=u,(g=n>=(a=(b+M)/2))?b=a:M=a;while((p=g<<2|d<<1|l)==(v=(f>=a)<<2|(c>=u)<<1|h>=s));return i[v]=m,i[p]=y,t}function o(t,e,r,n,o,i,s){this.node=t,this.x0=e,this.y0=r,this.z0=n,this.x1=o,this.y1=i,this.z1=s}r.d(e,{Z:function(){return h}});let i=(t,e,r,n,o,i)=>Math.sqrt((t-n)**2+(e-o)**2+(r-i)**2);function s(t){return t[0]}function u(t){return t[1]}function a(t){return t[2]}function h(t,e,r,n){var o=new c(null==e?s:e,null==r?u:r,null==n?a:n,NaN,NaN,NaN,NaN,NaN,NaN);return null==t?o:o.addAll(t)}function c(t,e,r,n,o,i,s,u,a){this._x=t,this._y=e,this._z=r,this._x0=n,this._y0=o,this._z0=i,this._x1=s,this._y1=u,this._z1=a,this._root=void 0}function f(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}var l=h.prototype=c.prototype;l.copy=function(){var t,e,r=new c(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root;if(!n)return r;if(!n.length)return r._root=f(n),r;for(t=[{source:n,target:r._root=Array(8)}];n=t.pop();)for(var o=0;o<8;++o)(e=n.source[o])&&(e.length?t.push({source:e,target:n.target[o]=Array(8)}):n.target[o]=f(e));return r},l.add=function(t){let e=+this._x.call(null,t),r=+this._y.call(null,t),o=+this._z.call(null,t);return n(this.cover(e,r,o),e,r,o,t)},l.addAll=function(t){Array.isArray(t)||(t=Array.from(t));let e=t.length,r=new Float64Array(e),o=new Float64Array(e),i=new Float64Array(e),s=1/0,u=1/0,a=1/0,h=-1/0,c=-1/0,f=-1/0;for(let n=0,l,d,g,p;n<e;++n)!(isNaN(d=+this._x.call(null,l=t[n]))||isNaN(g=+this._y.call(null,l))||isNaN(p=+this._z.call(null,l)))&&(r[n]=d,o[n]=g,i[n]=p,d<s&&(s=d),d>h&&(h=d),g<u&&(u=g),g>c&&(c=g),p<a&&(a=p),p>f&&(f=p));if(s>h||u>c||a>f)return this;this.cover(s,u,a).cover(h,c,f);for(let s=0;s<e;++s)n(this,r[s],o[s],i[s],t[s]);return this},l.cover=function(t,e,r){if(isNaN(t=+t)||isNaN(e=+e)||isNaN(r=+r))return this;var n=this._x0,o=this._y0,i=this._z0,s=this._x1,u=this._y1,a=this._z1;if(isNaN(n))s=(n=Math.floor(t))+1,u=(o=Math.floor(e))+1,a=(i=Math.floor(r))+1;else{for(var h,c,f=s-n||1,l=this._root;n>t||t>=s||o>e||e>=u||i>r||r>=a;)switch(c=(r<i)<<2|(e<o)<<1|t<n,(h=Array(8))[c]=l,l=h,f*=2,c){case 0:s=n+f,u=o+f,a=i+f;break;case 1:n=s-f,u=o+f,a=i+f;break;case 2:s=n+f,o=u-f,a=i+f;break;case 3:n=s-f,o=u-f,a=i+f;break;case 4:s=n+f,u=o+f,i=a-f;break;case 5:n=s-f,u=o+f,i=a-f;break;case 6:s=n+f,o=u-f,i=a-f;break;case 7:n=s-f,o=u-f,i=a-f}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=o,this._z0=i,this._x1=s,this._y1=u,this._z1=a,this},l.data=function(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t},l.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1],+t[0][2]).cover(+t[1][0],+t[1][1],+t[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},l.find=function(t,e,r,n){var i,s,u,a,h,c,f,l,d,g=this._x0,p=this._y0,v=this._z0,m=this._x1,y=this._y1,w=this._z1,x=[],b=this._root;for(b&&x.push(new o(b,g,p,v,m,y,w)),null==n?n=1/0:(g=t-n,p=e-n,v=r-n,m=t+n,y=e+n,w=r+n,n*=n);l=x.pop();)if((b=l.node)&&!((s=l.x0)>m)&&!((u=l.y0)>y)&&!((a=l.z0)>w)&&!((h=l.x1)<g)&&!((c=l.y1)<p)&&!((f=l.z1)<v)){if(b.length){var E=(s+h)/2,_=(u+c)/2,M=(a+f)/2;x.push(new o(b[7],E,_,M,h,c,f),new o(b[6],s,_,M,E,c,f),new o(b[5],E,u,M,h,_,f),new o(b[4],s,u,M,E,_,f),new o(b[3],E,_,a,h,c,M),new o(b[2],s,_,a,E,c,M),new o(b[1],E,u,a,h,_,M),new o(b[0],s,u,a,E,_,M)),(d=(r>=M)<<2|(e>=_)<<1|t>=E)&&(l=x[x.length-1],x[x.length-1]=x[x.length-1-d],x[x.length-1-d]=l)}else{var N=t-+this._x.call(null,b.data),k=e-+this._y.call(null,b.data),S=r-+this._z.call(null,b.data),A=N*N+k*k+S*S;if(A<n){var j=Math.sqrt(n=A);g=t-j,p=e-j,v=r-j,m=t+j,y=e+j,w=r+j,i=b.data}}}return i},l.findAllWithinRadius=function(t,e,r,n){let o=[],s=t-n,u=e-n,a=r-n,h=t+n,c=e+n,f=r+n;return this.visit((l,d,g,p,v,m,y)=>{if(!l.length)do{let s=l.data;i(t,e,r,this._x(s),this._y(s),this._z(s))<=n&&o.push(s)}while(l=l.next);return d>h||g>c||p>f||v<s||m<u||y<a}),o},l.remove=function(t){if(isNaN(i=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t))||isNaN(u=+this._z.call(null,t)))return this;var e,r,n,o,i,s,u,a,h,c,f,l,d,g,p,v=this._root,m=this._x0,y=this._y0,w=this._z0,x=this._x1,b=this._y1,E=this._z1;if(!v)return this;if(v.length)for(;;){if((f=i>=(a=(m+x)/2))?m=a:x=a,(l=s>=(h=(y+b)/2))?y=h:b=h,(d=u>=(c=(w+E)/2))?w=c:E=c,e=v,!(v=v[g=d<<2|l<<1|f]))return this;if(!v.length)break;(e[g+1&7]||e[g+2&7]||e[g+3&7]||e[g+4&7]||e[g+5&7]||e[g+6&7]||e[g+7&7])&&(r=e,p=g)}for(;v.data!==t;)if(n=v,!(v=v.next))return this;return((o=v.next)&&delete v.next,n)?(o?n.next=o:delete n.next,this):e?(o?e[g]=o:delete e[g],(v=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&v===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!v.length&&(r?r[p]=v:this._root=v),this):(this._root=o,this)},l.removeAll=function(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this},l.root=function(){return this._root},l.size=function(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t},l.visit=function(t){var e,r,n,i,s,u,a,h,c=[],f=this._root;for(f&&c.push(new o(f,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));e=c.pop();)if(!t(f=e.node,n=e.x0,i=e.y0,s=e.z0,u=e.x1,a=e.y1,h=e.z1)&&f.length){var l=(n+u)/2,d=(i+a)/2,g=(s+h)/2;(r=f[7])&&c.push(new o(r,l,d,g,u,a,h)),(r=f[6])&&c.push(new o(r,n,d,g,l,a,h)),(r=f[5])&&c.push(new o(r,l,i,g,u,d,h)),(r=f[4])&&c.push(new o(r,n,i,g,l,d,h)),(r=f[3])&&c.push(new o(r,l,d,s,u,a,g)),(r=f[2])&&c.push(new o(r,n,d,s,l,a,g)),(r=f[1])&&c.push(new o(r,l,i,s,u,d,g)),(r=f[0])&&c.push(new o(r,n,i,s,l,d,g))}return this},l.visitAfter=function(t){var e,r=[],n=[];for(this._root&&r.push(new o(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));e=r.pop();){var i=e.node;if(i.length){var s,u=e.x0,a=e.y0,h=e.z0,c=e.x1,f=e.y1,l=e.z1,d=(u+c)/2,g=(a+f)/2,p=(h+l)/2;(s=i[0])&&r.push(new o(s,u,a,h,d,g,p)),(s=i[1])&&r.push(new o(s,d,a,h,c,g,p)),(s=i[2])&&r.push(new o(s,u,g,h,d,f,p)),(s=i[3])&&r.push(new o(s,d,g,h,c,f,p)),(s=i[4])&&r.push(new o(s,u,a,p,d,g,l)),(s=i[5])&&r.push(new o(s,d,a,p,c,g,l)),(s=i[6])&&r.push(new o(s,u,g,p,d,f,l)),(s=i[7])&&r.push(new o(s,d,g,p,c,f,l))}n.push(e)}for(;e=n.pop();)t(e.node,e.x0,e.y0,e.z0,e.x1,e.y1,e.z1);return this},l.x=function(t){return arguments.length?(this._x=t,this):this._x},l.y=function(t){return arguments.length?(this._y=t,this):this._y},l.z=function(t){return arguments.length?(this._z=t,this):this._z}},76265:function(t,e,r){"use strict";function n(t,e,r,n){if(isNaN(e)||isNaN(r))return t;var o,i,s,u,a,h,c,f,l,d=t._root,g={data:n},p=t._x0,v=t._y0,m=t._x1,y=t._y1;if(!d)return t._root=g,t;for(;d.length;)if((h=e>=(i=(p+m)/2))?p=i:m=i,(c=r>=(s=(v+y)/2))?v=s:y=s,o=d,!(d=d[f=c<<1|h]))return o[f]=g,t;if(u=+t._x.call(null,d.data),a=+t._y.call(null,d.data),e===u&&r===a)return g.next=d,o?o[f]=g:t._root=g,t;do o=o?o[f]=[,,,,]:t._root=[,,,,],(h=e>=(i=(p+m)/2))?p=i:m=i,(c=r>=(s=(v+y)/2))?v=s:y=s;while((f=c<<1|h)==(l=(a>=s)<<1|u>=i));return o[l]=d,o[f]=g,t}function o(t,e,r,n,o){this.node=t,this.x0=e,this.y0=r,this.x1=n,this.y1=o}function i(t){return t[0]}function s(t){return t[1]}function u(t,e,r){var n=new a(null==e?i:e,null==r?s:r,NaN,NaN,NaN,NaN);return null==t?n:n.addAll(t)}function a(t,e,r,n,o,i){this._x=t,this._y=e,this._x0=r,this._y0=n,this._x1=o,this._y1=i,this._root=void 0}function h(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}r.d(e,{Z:function(){return u}});var c=u.prototype=a.prototype;c.copy=function(){var t,e,r=new a(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return r;if(!n.length)return r._root=h(n),r;for(t=[{source:n,target:r._root=[,,,,]}];n=t.pop();)for(var o=0;o<4;++o)(e=n.source[o])&&(e.length?t.push({source:e,target:n.target[o]=[,,,,]}):n.target[o]=h(e));return r},c.add=function(t){let e=+this._x.call(null,t),r=+this._y.call(null,t);return n(this.cover(e,r),e,r,t)},c.addAll=function(t){var e,r,o,i,s=t.length,u=Array(s),a=Array(s),h=1/0,c=1/0,f=-1/0,l=-1/0;for(r=0;r<s;++r)!(isNaN(o=+this._x.call(null,e=t[r]))||isNaN(i=+this._y.call(null,e)))&&(u[r]=o,a[r]=i,o<h&&(h=o),o>f&&(f=o),i<c&&(c=i),i>l&&(l=i));if(h>f||c>l)return this;for(this.cover(h,c).cover(f,l),r=0;r<s;++r)n(this,u[r],a[r],t[r]);return this},c.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,n=this._y0,o=this._x1,i=this._y1;if(isNaN(r))o=(r=Math.floor(t))+1,i=(n=Math.floor(e))+1;else{for(var s,u,a=o-r||1,h=this._root;r>t||t>=o||n>e||e>=i;)switch(u=(e<n)<<1|t<r,(s=[,,,,])[u]=h,h=s,a*=2,u){case 0:o=r+a,i=n+a;break;case 1:r=o-a,i=n+a;break;case 2:o=r+a,n=i-a;break;case 3:r=o-a,n=i-a}this._root&&this._root.length&&(this._root=h)}return this._x0=r,this._y0=n,this._x1=o,this._y1=i,this},c.data=function(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t},c.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},c.find=function(t,e,r){var n,i,s,u,a,h,c,f=this._x0,l=this._y0,d=this._x1,g=this._y1,p=[],v=this._root;for(v&&p.push(new o(v,f,l,d,g)),null==r?r=1/0:(f=t-r,l=e-r,d=t+r,g=e+r,r*=r);h=p.pop();)if((v=h.node)&&!((i=h.x0)>d)&&!((s=h.y0)>g)&&!((u=h.x1)<f)&&!((a=h.y1)<l)){if(v.length){var m=(i+u)/2,y=(s+a)/2;p.push(new o(v[3],m,y,u,a),new o(v[2],i,y,m,a),new o(v[1],m,s,u,y),new o(v[0],i,s,m,y)),(c=(e>=y)<<1|t>=m)&&(h=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=h)}else{var w=t-+this._x.call(null,v.data),x=e-+this._y.call(null,v.data),b=w*w+x*x;if(b<r){var E=Math.sqrt(r=b);f=t-E,l=e-E,d=t+E,g=e+E,n=v.data}}}return n},c.remove=function(t){if(isNaN(i=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,r,n,o,i,s,u,a,h,c,f,l,d=this._root,g=this._x0,p=this._y0,v=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((h=i>=(u=(g+v)/2))?g=u:v=u,(c=s>=(a=(p+m)/2))?p=a:m=a,e=d,!(d=d[f=c<<1|h]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(r=e,l=f)}for(;d.data!==t;)if(n=d,!(d=d.next))return this;return((o=d.next)&&delete d.next,n)?(o?n.next=o:delete n.next,this):e?(o?e[f]=o:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(r?r[l]=d:this._root=d),this):(this._root=o,this)},c.removeAll=function(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this},c.root=function(){return this._root},c.size=function(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t},c.visit=function(t){var e,r,n,i,s,u,a=[],h=this._root;for(h&&a.push(new o(h,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(h=e.node,n=e.x0,i=e.y0,s=e.x1,u=e.y1)&&h.length){var c=(n+s)/2,f=(i+u)/2;(r=h[3])&&a.push(new o(r,c,f,s,u)),(r=h[2])&&a.push(new o(r,n,f,c,u)),(r=h[1])&&a.push(new o(r,c,i,s,f)),(r=h[0])&&a.push(new o(r,n,i,c,f))}return this},c.visitAfter=function(t){var e,r=[],n=[];for(this._root&&r.push(new o(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var i=e.node;if(i.length){var s,u=e.x0,a=e.y0,h=e.x1,c=e.y1,f=(u+h)/2,l=(a+c)/2;(s=i[0])&&r.push(new o(s,u,a,f,l)),(s=i[1])&&r.push(new o(s,f,a,h,l)),(s=i[2])&&r.push(new o(s,u,l,f,c)),(s=i[3])&&r.push(new o(s,f,l,h,c))}n.push(e)}for(;e=n.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},c.x=function(t){return arguments.length?(this._x=t,this):this._x},c.y=function(t){return arguments.length?(this._y=t,this):this._y}},83249:function(t,e,r){"use strict";r.d(e,{HT:function(){return v}});var n,o,i=0,s=0,u=0,a=0,h=0,c=0,f="object"==typeof performance&&performance.now?performance:Date,l="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function d(){return h||(l(g),h=f.now()+c)}function g(){h=0}function p(){this._call=this._time=this._next=null}function v(t,e,r){var n=new p;return n.restart(t,e,r),n}function m(){h=(a=f.now())+c,i=s=0;try{!function(){d(),++i;for(var t,e=n;e;)(t=h-e._time)>=0&&e._call.call(void 0,t),e=e._next;--i}()}finally{i=0,function(){for(var t,e,r=n,i=1/0;r;)r._call?(i>r._time&&(i=r._time),t=r,r=r._next):(e=r._next,r._next=null,r=t?t._next=e:n=e);o=t,w(i)}(),h=0}}function y(){var t=f.now(),e=t-a;e>1e3&&(c-=e,a=t)}function w(t){!i&&(s&&(s=clearTimeout(s)),t-h>24?(t<1/0&&(s=setTimeout(m,t-f.now()-c)),u&&(u=clearInterval(u))):(u||(a=f.now(),u=setInterval(y,1e3)),i=1,l(m)))}p.prototype=v.prototype={constructor:p,restart:function(t,e,r){if("function"!=typeof t)throw TypeError("callback is not a function");r=(null==r?d():+r)+(null==e?0:+e),this._next||o===this||(o?o._next=this:n=this,o=this),this._call=t,this._time=r,w()},stop:function(){this._call&&(this._call=null,this._time=1/0,w())}}},67488:function(t,e,r){"use strict";r.d(e,{Sc:function(){return i},y3:function(){return o}});var n=r(63980);n.XA,n.a_,n.yQ,n.Hs,n.Ec,n.dx,n.LU,n.Rm;let o=n.y3;n.qK,n.pb,n.j,n.sO,n.BZ,n.EK,n.Db,n.Fx,n.tU,n.Ym,n.rs,n.QR,n.TB,n.oH;let i=n.Sc;n.BN,n.it,n.$r,n.QM,n.AV,n.y3,n.y3,n.GH,n.SO,n.uZ,n.yU,n.F1,n.re}}]);