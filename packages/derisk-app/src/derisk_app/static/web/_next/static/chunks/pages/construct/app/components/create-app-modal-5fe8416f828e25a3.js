(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3362],{49558:function(e,t,n){"use strict";n.d(t,{i:function(){return l}});var r=n(75271),a=n(90523),i=n(56145),o=n(52745);function l(e){return t=>r.createElement(i.ZP,{theme:{token:{motion:!1,zIndexPopupBase:0}}},r.createElement(e,Object.assign({},t)))}t.Z=(e,t,n,i,s)=>l(l=>{let{prefixCls:d,style:c}=l,u=r.useRef(null),[p,m]=r.useState(0),[f,b]=r.useState(0),[g,h]=(0,a.Z)(!1,{value:l.open}),{getPrefixCls:v}=r.useContext(o.E_),x=v(i||"select",d);r.useEffect(()=>{if(h(!0),"undefined"!=typeof ResizeObserver){let e=new ResizeObserver(e=>{let t=e[0].target;m(t.offsetHeight+8),b(t.offsetWidth)}),t=setInterval(()=>{var n;let r=s?`.${s(x)}`:`.${x}-dropdown`,a=null===(n=u.current)||void 0===n?void 0:n.querySelector(r);a&&(clearInterval(t),e.observe(a))},10);return()=>{clearInterval(t),e.disconnect()}}},[]);let _=Object.assign(Object.assign({},l),{style:Object.assign(Object.assign({},c),{margin:0}),open:g,visible:g,getPopupContainer:()=>u.current});return n&&(_=n(_)),t&&Object.assign(_,{[t]:{overflow:{adjustX:!1,adjustY:!1}}}),r.createElement("div",{ref:u,style:{paddingBottom:p,position:"relative",minWidth:f}},r.createElement(e,Object.assign({},_)))})},44148:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(75271),a=n(82187),i=n.n(a),o=n(52745),l=n(98224),s=n(37341),d=n(49125),c=n(53968),u=n(84458);let p=e=>{let{componentCls:t}=e;return{[t]:{"&-horizontal":{[`&${t}`]:{"&-sm":{marginBlock:e.marginXS},"&-md":{marginBlock:e.margin}}}}}},m=e=>{let{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:a,textPaddingInline:i,orientationMargin:o,verticalMarginInline:l}=e;return{[t]:Object.assign(Object.assign({},(0,d.Wf)(e)),{borderBlockStart:`${(0,s.bf)(a)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:l,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,s.bf)(a)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,s.bf)(e.marginLG)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,s.bf)(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,s.bf)(a)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-start`]:{"&::before":{width:`calc(${o} * 100%)`},"&::after":{width:`calc(100% - ${o} * 100%)`}},[`&-horizontal${t}-with-text-end`]:{"&::before":{width:`calc(100% - ${o} * 100%)`},"&::after":{width:`calc(${o} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:i},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${(0,s.bf)(a)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:a,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:r,borderStyle:"dotted",borderWidth:`${(0,s.bf)(a)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:a,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-start${t}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${t}-with-text-end${t}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:n}}})}};var f=(0,c.I$)("Divider",e=>{let t=(0,u.IX)(e,{dividerHorizontalWithTextGutterMargin:e.margin,sizePaddingEdgeHorizontal:0});return[m(t),p(t)]},e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),{unitless:{orientationMargin:!0}}),b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};let g={small:"sm",middle:"md"};var h=e=>{let{getPrefixCls:t,direction:n,className:a,style:s}=(0,o.dj)("divider"),{prefixCls:d,type:c="horizontal",orientation:u="center",orientationMargin:p,className:m,rootClassName:h,children:v,dashed:x,variant:_="solid",plain:$,style:w,size:y}=e,j=b(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style","size"]),O=t("divider",d),[k,S,I]=f(O),E=(0,l.Z)(y),N=g[E],Z=!!v,C=r.useMemo(()=>"left"===u?"rtl"===n?"end":"start":"right"===u?"rtl"===n?"start":"end":u,[n,u]),z="start"===C&&null!=p,P="end"===C&&null!=p,B=i()(O,a,S,I,`${O}-${c}`,{[`${O}-with-text`]:Z,[`${O}-with-text-${C}`]:Z,[`${O}-dashed`]:!!x,[`${O}-${_}`]:"solid"!==_,[`${O}-plain`]:!!$,[`${O}-rtl`]:"rtl"===n,[`${O}-no-default-orientation-margin-start`]:z,[`${O}-no-default-orientation-margin-end`]:P,[`${O}-${N}`]:!!N},m,h),W=r.useMemo(()=>"number"==typeof p?p:/^\d+$/.test(p)?Number(p):p,[p]);return k(r.createElement("div",Object.assign({className:B,style:Object.assign(Object.assign({},s),w)},j,{role:"separator"}),v&&"vertical"!==c&&r.createElement("span",{className:`${O}-inner-text`,style:{marginInlineStart:z?W:void 0,marginInlineEnd:P?W:void 0}},v)))}},83958:function(e,t,n){"use strict";n.d(t,{default:function(){return $}});var r=n(21539),a=n(98631),i=n(25653),o=n(75271),l=n(82187),s=n.n(l),d=n(40995),c=n(49558),u=n(52745),p=n(90877),m=n(81483),f=n(74273),b=n(48539),g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n},h=(0,c.i)(e=>{let{prefixCls:t,className:n,closeIcon:r,closable:a,type:i,title:l,children:c,footer:h}=e,v=g(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:x}=o.useContext(u.E_),_=x(),$=t||x("modal"),w=(0,p.Z)(_),[y,j,O]=(0,b.ZP)($,w),k=`${$}-confirm`,S={};return S=i?{closable:null!=a&&a,title:"",footer:"",children:o.createElement(m.O,Object.assign({},e,{prefixCls:$,confirmPrefixCls:k,rootPrefixCls:_,content:c}))}:{closable:null==a||a,title:l,footer:null!==h&&o.createElement(f.$,Object.assign({},e)),children:c},y(o.createElement(d.s,Object.assign({prefixCls:$,className:s()(j,`${$}-pure-panel`,i&&k,i&&`${k}-${i}`,n,O,w)},v,{closeIcon:(0,f.b)($,r),closable:a},S)))}),v=n(15421);function x(e){return(0,r.ZP)((0,r.uW)(e))}let _=i.Z;_.useModal=v.Z,_.info=function(e){return(0,r.ZP)((0,r.cw)(e))},_.success=function(e){return(0,r.ZP)((0,r.vq)(e))},_.error=function(e){return(0,r.ZP)((0,r.AQ)(e))},_.warning=x,_.warn=x,_.confirm=function(e){return(0,r.ZP)((0,r.Au)(e))},_.destroyAll=function(){for(;a.Z.length;){let e=a.Z.pop();e&&e()}},_.config=r.ai,_._InternalPanelDoNotUseOrYouWillBeFired=h;var $=_},59250:function(e,t){"use strict";t.Z=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}})},80063:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/construct/app/components/create-app-modal",function(){return n(7312)}])},7312:function(e,t,n){"use strict";n.r(t);var r=n(52676),a=n(16019),i=n(10901),o=n(62621),l=n(5783),s=n(56145),d=n(83958),c=n(7806),u=n(63688),p=n(44148),m=n(84875),f=n.n(m),b=n(97858),g=n.n(b),h=n(87007),v=n(75271),x=n(24841),_=n(14931),$=n.n(_);let w=e=>{let{disable:t=!1,options:n=[],value:a,onChange:i}=e,[o,l]=(0,v.useState)(a||{}),{i18n:s}=(0,x.$G)(),d=e=>t?f()("flex items-center p-4 border rounded-lg border-[#d9d9d9]  cursor-not-allowed relative transition-all duration-500 ease-in-out",{"bg-[rgba(0,0,0,0.04)] dark:bg-[#606264]":e.value===(null==o?void 0:o.value)}):"flex items-center p-4  border dark:border-[rgba(217,217,217,0.85)] rounded-lg cursor-pointer hover:border-[#0c75fc] hover:bg-[#f5faff] dark:hover:border-[rgba(12,117,252,0.85)] dark:hover:bg-[#606264] relative transition-all duration-300 ease-in-out ".concat(e.value===(null==o?void 0:o.value)?"border-[#0c75fc] bg-[#f5faff] dark:bg-[#606264] dark:border-[#0c75fc]":"border-[#d9d9d9]"," "),c="en"===s.language;return(0,r.jsx)("div",{className:"grid grid-cols-2 gap-4",children:n.map(e=>(0,r.jsxs)("div",{className:d(e),onClick:()=>{t||(l(e),null==i||i({...a,...e}))},children:[(0,r.jsx)(g(),{src:"/icons/app/".concat(e.value,".png"),width:48,height:48,alt:e.value}),(0,r.jsxs)("div",{className:"flex flex-col ml-3",children:[(0,r.jsx)("span",{className:"text-xs font-medium text-[rgba(0,0,0,0.85)] dark:text-[rgba(255,255,255,0.85)] first-line:leading-6",children:c?e.name_en:e.name_cn}),(0,r.jsx)("span",{className:"text-xs text-[rgba(0,0,0,0.45)] dark:text-[rgba(255,255,255,0.85)]",children:c?e.description_en:e.description})]}),e.value===(null==o?void 0:o.value)&&(0,r.jsx)("div",{className:"w-3 h-3 rounded-tr-md absolute top-[1px] right-[1px] transition-all duration-300 ease-in-out",style:{background:"linear-gradient(to right top, transparent 50%, transparent 50%, ".concat(t?"#d0d0d0":"#0c75fc"," 0)")}})]},e.value))})};t.default=e=>{let{open:t,onCancel:n,type:m="add",refresh:f}=e,{t:b,i18n:g}=(0,x.$G)(),_=JSON.parse(localStorage.getItem("new_app_info")||"{}"),{message:y}=o.Z.useApp(),[j]=l.Z.useForm(),O=l.Z.useWatch("team_mode",j),k=(0,h.useRouter)(),S="en"===g.language,{data:I,loading:E}=(0,i.Z)(async()=>{let[e,t]=await (0,a.Vx)((0,a.lz)());return null!=t?t:[]}),{run:N,loading:Z}=(0,i.Z)(async e=>"edit"===m?await (0,a.Vx)((0,a.KT)({app_code:null==_?void 0:_.app_code,language:"zh",...e})):await (0,a.Vx)((0,a.L5)({language:"zh",...e})),{manual:!0,onSuccess:async e=>{let[t,r]=e;if(t)y.error("edit"===m?b("Update_failure"):b("Create_failure"));else if("edit"===m){var i;let[,e]=await (0,a.Vx)((0,a.yk)({})),t=null==e?void 0:null===(i=e.app_list)||void 0===i?void 0:i.find(e=>e.app_code===(null==_?void 0:_.app_code));localStorage.setItem("new_app_info",JSON.stringify({...t,isEdit:!0})),y.success(b("Update_successfully"))}else y.success(b("Create_successfully")),localStorage.setItem("new_app_info",JSON.stringify(r)),k.push("/construct/app/extra");await (null==f?void 0:f()),n()}}),C=(0,v.useMemo)(()=>{var e;return null===(e=null==I?void 0:I.filter(e=>e.value===(null==_?void 0:_.team_mode)))||void 0===e?void 0:e[0]},[_,I]);return E?null:(0,r.jsx)(s.ZP,{theme:{components:{Button:{defaultBorderColor:"#d9d9d9"}}},children:(0,r.jsx)(d.default,{className:$()["create-app-modal-container"],title:b("create_app"),width:900,open:t,onOk:async()=>{j.validateFields().then(async e=>{var t;await N({app_name:null==e?void 0:e.app_name,app_describe:null==e?void 0:e.app_describe,team_mode:null==e?void 0:null===(t=e.team_mode)||void 0===t?void 0:t.value})})},onCancel:n,centered:!0,children:(0,r.jsx)(c.Z,{spinning:Z,children:(0,r.jsxs)("div",{className:"flex flex-1",children:[(0,r.jsxs)(l.Z,{layout:"vertical",className:"w-3/5",form:j,initialValues:{team_mode:C||(null==I?void 0:I[0]),app_name:null==_?void 0:_.app_name,app_describe:null==_?void 0:_.app_describe},children:[(0,r.jsx)(l.Z.Item,{label:b("team_modal"),name:"team_mode",required:!0,rules:[{required:!0,message:b("Please_input_the_work_modal")}],children:(0,r.jsx)(w,{disable:"edit"===m,options:I||[]})}),(0,r.jsx)(l.Z.Item,{label:"".concat(b("app_name"),"："),name:"app_name",required:!0,rules:[{required:!0,message:b("input_app_name")}],children:(0,r.jsx)(u.default,{placeholder:b("input_app_name"),autoComplete:"off",className:"h-8"})}),(0,r.jsx)(l.Z.Item,{label:"".concat(b("Description"),"："),name:"app_describe",required:!0,rules:[{required:!0,message:b("Please_input_the_description")}],children:(0,r.jsx)(u.default.TextArea,{autoComplete:"off",placeholder:b("Please_input_the_description"),autoSize:{minRows:2.5}})})]}),(0,r.jsx)(p.Z,{type:"vertical",className:"h-auto mx-6 bg-[rgba(0,0,0,0.06)] dark:bg-[rgba(255,255,255,0.5)] "}),(0,r.jsxs)("div",{className:"flex flex-col w-2/5 pl-6 pt-8 ",children:[(0,r.jsx)("span",{className:"text-base text-[rgba(0,0,0,0.85)] font-medium mb-6 dark:text-[rgba(255,255,255,0.85)]",children:S?null==O?void 0:O.name_en:null==O?void 0:O.name_cn}),(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("span",{className:"flex flex-shrink-0 w-1 h-1 rounded-full bg-[rgba(0,0,0,0.45)] mt-2 mr-1 dark:bg-[rgba(255,255,255,0.65)]"}),(0,r.jsx)("span",{className:"text-xs leading-5 text-[rgba(0,0,0,0.45)] dark:text-[rgba(255,255,255,0.65)]",children:S?null==O?void 0:O.remark_en:null==O?void 0:O.remark})]})]})]})})})})}},14931:function(e){e.exports={"create-app-modal-container":"styles_create-app-modal-container___tIEs"}}},function(e){e.O(0,[9557,3688,7806,5783,9774,2888,179],function(){return e(e.s=80063)}),_N_E=e.O()}]);