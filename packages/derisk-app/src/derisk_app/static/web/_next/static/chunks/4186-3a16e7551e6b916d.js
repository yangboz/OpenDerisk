"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4186],{6674:function(t,e,a){a.d(e,{b:function(){return ez}});var i=a(15767),d=a(16754),r=a(22355),o=a(54663);let n=(t,e)=>{if("next"!==t&&"prev"!==t)return e},l=t=>{t.prev.next=t.next,t.next.prev=t.prev,delete t.next,delete t.prev};class s{constructor(){let t={};t.prev=t,t.next=t.prev,this.shortcut=t}dequeue(){let t=this.shortcut,e=t.prev;if(e&&e!==t)return l(e),e}enqueue(t){let e=this.shortcut;t.prev&&t.next&&l(t),t.next=e.next,e.next.prev=t,e.next=t,t.prev=e}toString(){let t=[],e=this.shortcut,a=e.prev;for(;a!==e;)t.push(JSON.stringify(a,n)),a=null==a?void 0:a.prev;return`[${t.join(", ")}]`}}class h extends s{}let g=()=>1,u=(t,e)=>{var a;if(t.getAllNodes().length<=1)return[];let i=y(t,e||g),d=c(i.graph,i.buckets,i.zeroIdx);return null===(a=d.map(e=>t.getRelatedEdges(e.v,"out").filter(({target:t})=>t===e.w)))||void 0===a?void 0:a.flat()},c=(t,e,a)=>{let i,d=[],r=e[e.length-1],o=e[0];for(;t.getAllNodes().length;){for(;i=o.dequeue();)f(t,e,a,i);for(;i=r.dequeue();)f(t,e,a,i);if(t.getAllNodes().length){for(let r=e.length-2;r>0;--r)if(i=e[r].dequeue()){d=d.concat(f(t,e,a,i,!0));break}}}return d},f=(t,e,a,i,d)=>{var r,o;let n=[];return t.hasNode(i.v)&&(null===(r=t.getRelatedEdges(i.v,"in"))||void 0===r||r.forEach(i=>{let r=i.data.weight,o=t.getNode(i.source);d&&n.push({v:i.source,w:i.target,in:0,out:0}),void 0===o.data.out&&(o.data.out=0),o.data.out-=r,v(e,a,Object.assign({v:o.id},o.data))}),null===(o=t.getRelatedEdges(i.v,"out"))||void 0===o||o.forEach(i=>{let d=i.data.weight,r=i.target,o=t.getNode(r);void 0===o.data.in&&(o.data.in=0),o.data.in-=d,v(e,a,Object.assign({v:o.id},o.data))}),t.removeNode(i.v)),d?n:void 0},y=(t,e)=>{let a=new d.k,i=0,r=0;t.getAllNodes().forEach(t=>{a.addNode({id:t.id,data:{v:t.id,in:0,out:0}})}),t.getAllEdges().forEach(t=>{let d=a.getRelatedEdges(t.source,"out").find(e=>e.target===t.target),o=(null==e?void 0:e(t))||1;d?a.updateEdgeData(null==d?void 0:d.id,Object.assign(Object.assign({},d.data),{weight:d.data.weight+o})):a.addEdge({id:t.id,source:t.source,target:t.target,data:{weight:o}}),r=Math.max(r,a.getNode(t.source).data.out+=o),i=Math.max(i,a.getNode(t.target).data.in+=o)});let o=[],n=r+i+3;for(let t=0;t<n;t++)o.push(new h);let l=i+1;return a.getAllNodes().forEach(t=>{v(o,l,Object.assign({v:t.id},a.getNode(t.id).data))}),{buckets:o,zeroIdx:l,graph:a}},v=(t,e,a)=>{a.out?a.in?t[a.out-a.in+e].enqueue(a):t[t.length-1].enqueue(a):t[0].enqueue(a)},m=(t,e)=>{let a="greedy"===e?u(t,t=>t.data.weight||1):p(t);null==a||a.forEach(e=>{let a=e.data;t.removeEdge(e.id),a.forwardName=e.data.name,a.reversed=!0,t.addEdge({id:e.id,source:e.target,target:e.source,data:Object.assign({},a)})})},p=t=>{let e=[],a={},i={},d=r=>{i[r]||(i[r]=!0,a[r]=!0,t.getRelatedEdges(r,"out").forEach(t=>{a[t.target]?e.push(t):d(t.target)}),delete a[r])};return t.getAllNodes().forEach(t=>d(t.id)),e},x=t=>{t.getAllEdges().forEach(e=>{let a=e.data;if(a.reversed){t.removeEdge(e.id);let i=a.forwardName;delete a.reversed,delete a.forwardName,t.addEdge({id:e.id,source:e.target,target:e.source,data:Object.assign(Object.assign({},a),{forwardName:i})})}})},E=(t,e)=>Number(t)-Number(e),N=(t,e,a,i)=>{let d;do d=`${i}${Math.random()}`;while(t.hasNode(d));return a.dummy=e,t.addNode({id:d,data:a}),d},w=t=>{let e=new d.k;return t.getAllNodes().forEach(t=>{e.addNode(Object.assign({},t))}),t.getAllEdges().forEach(t=>{let a=e.getRelatedEdges(t.source,"out").find(e=>e.target===t.target);a?e.updateEdgeData(null==a?void 0:a.id,Object.assign(Object.assign({},a.data),{weight:a.data.weight+t.data.weight||0,minlen:Math.max(a.data.minlen,t.data.minlen||1)})):e.addEdge({id:t.id,source:t.source,target:t.target,data:{weight:t.data.weight||0,minlen:t.data.minlen||1}})}),e},b=t=>{let e=new d.k;return t.getAllNodes().forEach(a=>{t.getChildren(a.id).length||e.addNode(Object.assign({},a))}),t.getAllEdges().forEach(t=>{e.addEdge(t)}),e},O=(t,e)=>null==t?void 0:t.reduce((t,a,i)=>(t[a]=e[i],t),{}),M=(t,e)=>{let a,i;let d=Number(t.x),r=Number(t.y),o=Number(e.x)-d,n=Number(e.y)-r,l=Number(t.width)/2,s=Number(t.height)/2;return o||n?(Math.abs(n)*l>Math.abs(o)*s?(n<0&&(s=-s),a=s*o/n,i=s):(o<0&&(l=-l),a=l,i=l*n/o),{x:d+a,y:r+i}):{x:0,y:0}},A=t=>{let e=[],a=S(t)+1;for(let t=0;t<a;t++)e.push([]);t.getAllNodes().forEach(t=>{let a=t.data.rank;void 0!==a&&e[a]&&e[a].push(t.id)});for(let i=0;i<a;i++)e[i]=e[i].sort((e,a)=>E(t.getNode(e).data.order,t.getNode(a).data.order));return e},k=t=>{let e=t.getAllNodes().filter(t=>void 0!==t.data.rank).map(t=>t.data.rank),a=Math.min(...e);t.getAllNodes().forEach(t=>{t.data.hasOwnProperty("rank")&&a!==1/0&&(t.data.rank-=a)})},j=(t,e=0)=>{let a=t.getAllNodes(),i=a.filter(t=>void 0!==t.data.rank).map(t=>t.data.rank),d=Math.min(...i),r=[];a.forEach(t=>{let e=(t.data.rank||0)-d;r[e]||(r[e]=[]),r[e].push(t.id)});let o=0;for(let a=0;a<r.length;a++){let i=r[a];void 0===i?a%e!=0&&(o-=1):o&&(null==i||i.forEach(e=>{let a=t.getNode(e);a&&(a.data.rank=a.data.rank||0,a.data.rank+=o)}))}},z=(t,e,a,i)=>{let d={width:0,height:0};return(0,r.Z)(a)&&(0,r.Z)(i)&&(d.rank=a,d.order=i),N(t,"border",d,e)},S=t=>{let e;return t.getAllNodes().forEach(t=>{let a=t.data.rank;void 0!==a&&(void 0===e||a>e)&&(e=a)}),e||(e=0),e},D=(t,e)=>{let a={lhs:[],rhs:[]};return null==t||t.forEach(t=>{e(t)?a.lhs.push(t):a.rhs.push(t)}),a},R=(t,e)=>t.reduce((t,a)=>{let i=e(t),d=e(a);return i>d?a:t}),P=(t,e,a,i,d,r)=>{!i.includes(e.id)&&(i.push(e.id),a||r.push(e.id),d(e.id).forEach(e=>P(t,e,a,i,d,r)),a&&r.push(e.id))},Z=(t,e,a,i)=>{let d=Array.isArray(e)?e:[e],r=e=>i?t.getSuccessors(e):t.getNeighbors(e),o=[],n=[];return d.forEach(e=>{if(t.hasNode(e.id))P(t,e,"post"===a,n,r,o);else throw Error(`Graph does not have node: ${e}`)}),o},L=t=>{let e=a=>{let i=t.getChildren(a),d=t.getNode(a);if((null==i?void 0:i.length)&&i.forEach(t=>e(t.id)),d.data.hasOwnProperty("minRank")){d.data.borderLeft=[],d.data.borderRight=[];for(let e=d.data.minRank,i=d.data.maxRank+1;e<i;e+=1)I(t,"borderLeft","_bl",a,d,e),I(t,"borderRight","_br",a,d,e)}};t.getRoots().forEach(t=>e(t.id))},I=(t,e,a,i,d,r)=>{let o=d.data[e][r-1],n=N(t,"border",{rank:r,borderType:e,width:0,height:0},a);d.data[e][r]=n,t.setParent(n,i),o&&t.addEdge({id:`e${Math.random()}`,source:o,target:n,data:{weight:1}})},G=(t,e)=>{let a=e.toLowerCase();("lr"===a||"rl"===a)&&q(t)},C=(t,e)=>{let a=e.toLowerCase();("bt"===a||"rl"===a)&&_(t),("lr"===a||"rl"===a)&&(W(t),q(t))},q=t=>{t.getAllNodes().forEach(t=>{T(t)}),t.getAllEdges().forEach(t=>{T(t)})},T=t=>{let e=t.data.width;t.data.width=t.data.height,t.data.height=e},_=t=>{t.getAllNodes().forEach(t=>{F(t.data)}),t.getAllEdges().forEach(t=>{var e;null===(e=t.data.points)||void 0===e||e.forEach(t=>F(t)),t.data.hasOwnProperty("y")&&F(t.data)})},F=t=>{(null==t?void 0:t.y)&&(t.y=-t.y)},W=t=>{t.getAllNodes().forEach(t=>{$(t.data)}),t.getAllEdges().forEach(t=>{var e;null===(e=t.data.points)||void 0===e||e.forEach(t=>$(t)),t.data.hasOwnProperty("x")&&$(t.data)})},$=t=>{let e=t.x;t.x=t.y,t.y=e},B=t=>{let e=N(t,"root",{},"_root"),a=H(t),i=Math.max(...Object.values(a));Math.abs(i)===1/0&&(i=1);let d=i-1,r=2*d+1;t.getAllEdges().forEach(t=>{t.data.minlen*=r});let o=J(t)+1;return t.getRoots().forEach(i=>{V(t,e,r,o,d,a,i.id)}),{nestingRoot:e,nodeRankFactor:r}},V=(t,e,a,i,d,r,o)=>{let n=t.getChildren(o);if(!(null==n?void 0:n.length)){o!==e&&t.addEdge({id:`e${Math.random()}`,source:e,target:o,data:{weight:0,minlen:a}});return}let l=z(t,"_bt"),s=z(t,"_bb"),h=t.getNode(o);t.setParent(l,o),h.data.borderTop=l,t.setParent(s,o),h.data.borderBottom=s,null==n||n.forEach(n=>{V(t,e,a,i,d,r,n.id);let h=n.data.borderTop?n.data.borderTop:n.id,g=n.data.borderBottom?n.data.borderBottom:n.id,u=n.data.borderTop?i:2*i,c=h!==g?1:d-r[o]+1;t.addEdge({id:`e${Math.random()}`,source:l,target:h,data:{minlen:c,weight:u,nestingEdge:!0}}),t.addEdge({id:`e${Math.random()}`,source:g,target:s,data:{minlen:c,weight:u,nestingEdge:!0}})}),t.getParent(o)||t.addEdge({id:`e${Math.random()}`,source:e,target:l,data:{weight:0,minlen:d+r[o]}})},H=t=>{let e={},a=(i,d)=>{let r=t.getChildren(i);null==r||r.forEach(t=>a(t.id,d+1)),e[i]=d};return t.getRoots().forEach(t=>a(t.id,1)),e},J=t=>{let e=0;return t.getAllEdges().forEach(t=>{e+=t.data.weight}),e},Y=(t,e)=>{e&&t.removeNode(e),t.getAllEdges().forEach(e=>{e.data.nestingEdge&&t.removeEdge(e.id)})},K="edge-label",Q=(t,e)=>{t.getAllEdges().forEach(a=>U(t,a,e))},U=(t,e,a)=>{let i,d,r,o=e.source,n=t.getNode(o).data.rank,l=e.target,s=t.getNode(l).data.rank,h=e.data.labelRank;if(s!==n+1){for(t.removeEdge(e.id),r=0,++n;n<s;++r,++n)e.data.points=[],d={originalEdge:e,width:0,height:0,rank:n},i=N(t,"edge",d,"_d"),n===h&&(d.width=e.data.width,d.height=e.data.height,d.dummy=K,d.labelpos=e.data.labelpos),t.addEdge({id:`e${Math.random()}`,source:o,target:i,data:{weight:e.data.weight}}),0===r&&a.push(i),o=i;t.addEdge({id:`e${Math.random()}`,source:o,target:l,data:{weight:e.data.weight}})}},X=(t,e)=>{e.forEach(e=>{let a,i=t.getNode(e),{data:d}=i,r=d.originalEdge;r&&t.addEdge(r);let o=e;for(;i.data.dummy;)a=t.getSuccessors(o)[0],t.removeNode(o),r.data.points.push({x:i.data.x,y:i.data.y}),i.data.dummy===K&&(r.data.x=i.data.x,r.data.y=i.data.y,r.data.width=i.data.width,r.data.height=i.data.height),o=a.id,i=t.getNode(o)})};var tt=a(12637);let te=(t,e,a)=>{let i;let d={};null==a||a.forEach(a=>{let r,o,n=t.getParent(a);for(;n;){if((r=t.getParent(n.id))?(o=d[r.id],d[r.id]=n.id):(o=i,i=n.id),o&&o!==n.id){e.hasNode(o)||e.addNode({id:o,data:{}}),e.hasNode(n.id)||e.addNode({id:n.id,data:{}}),e.hasEdge(`e${o}-${n.id}`)||e.addEdge({id:`e${o}-${n.id}`,source:o,target:n.id,data:{}});return}n=r}})},ta=(t,e,a)=>{let i=ti(t),r=new d.k({tree:[{id:i,children:[],data:{}}]});return t.getAllNodes().forEach(d=>{let o=t.getParent(d.id);(d.data.rank===e||d.data.minRank<=e&&e<=d.data.maxRank)&&(r.hasNode(d.id)||r.addNode(Object.assign({},d)),(null==o?void 0:o.id)&&!r.hasNode(null==o?void 0:o.id)&&r.addNode(Object.assign({},o)),r.setParent(d.id,(null==o?void 0:o.id)||i),t.getRelatedEdges(d.id,a).forEach(e=>{let a=e.source===d.id?e.target:e.source;r.hasNode(a)||r.addNode(Object.assign({},t.getNode(a)));let i=r.getRelatedEdges(a,"out").find(({target:t})=>t===d.id),o=void 0!==i?i.data.weight:0;i?r.updateEdgeData(i.id,Object.assign(Object.assign({},i.data),{weight:e.data.weight+o})):r.addEdge({id:e.id,source:a,target:d.id,data:{weight:e.data.weight+o}})}),d.data.hasOwnProperty("minRank")&&r.updateNodeData(d.id,Object.assign(Object.assign({},d.data),{borderLeft:d.data.borderLeft[e],borderRight:d.data.borderRight[e]})))}),r},ti=t=>{let e;for(;t.hasNode(e=`_root${Math.random()}`););return e},td=(t,e,a)=>{let i=O(a,a.map((t,e)=>e)),d=e.map(e=>{let a=t.getRelatedEdges(e,"out").map(t=>({pos:i[t.target]||0,weight:t.data.weight}));return null==a?void 0:a.sort((t,e)=>t.pos-e.pos)}),r=d.flat().filter(t=>void 0!==t),o=1;for(;o<a.length;)o<<=1;let n=2*o-1;o-=1;let l=Array(n).fill(0,0,n),s=0;return null==r||r.forEach(t=>{if(t){let e=t.pos+o;l[e]+=t.weight;let a=0;for(;e>0;)e%2&&(a+=l[e+1]),e=e-1>>1,l[e]+=t.weight;s+=t.weight*a}}),s},tr=(t,e)=>{let a=0;for(let i=1;i<(null==e?void 0:e.length);i+=1)a+=td(t,e[i-1],e[i]);return a},to=t=>{let e={},a=t.getAllNodes(),i=a.map(t=>{var e;return null!==(e=t.data.rank)&&void 0!==e?e:-1/0}),d=Math.max(...i),r=[];for(let t=0;t<d+1;t++)r.push([]);let o=a.sort((e,a)=>t.getNode(e.id).data.rank-t.getNode(a.id).data.rank),n=o.filter(e=>void 0!==t.getNode(e.id).data.fixorder),l=n.sort((e,a)=>t.getNode(e.id).data.fixorder-t.getNode(a.id).data.fixorder);return null==l||l.forEach(a=>{isNaN(t.getNode(a.id).data.rank)||r[t.getNode(a.id).data.rank].push(a.id),e[a.id]=!0}),null==o||o.forEach(a=>t.dfsTree(a.id,t=>{if(e.hasOwnProperty(t.id))return!0;e[t.id]=!0,isNaN(t.data.rank)||r[t.data.rank].push(t.id)})),r},tn=(t,e)=>e.map(e=>{let a=t.getRelatedEdges(e,"in");if(!(null==a?void 0:a.length))return{v:e};let i={sum:0,weight:0};return null==a||a.forEach(e=>{let a=t.getNode(e.source);i.sum+=e.data.weight*a.data.order,i.weight+=e.data.weight}),{v:e,barycenter:i.sum/i.weight,weight:i.weight}}),tl=t=>{var e,a;let i=[],d=t=>e=>{!e.merged&&(void 0===e.barycenter||void 0===t.barycenter||e.barycenter>=t.barycenter)&&ts(t,e)},r=e=>a=>{a.in.push(e),0==--a.indegree&&t.push(a)};for(;null==t?void 0:t.length;){let o=t.pop();i.push(o),null===(e=o.in.reverse())||void 0===e||e.forEach(t=>d(o)(t)),null===(a=o.out)||void 0===a||a.forEach(t=>r(o)(t))}let o=i.filter(t=>!t.merged),n=["vs","i","barycenter","weight"];return o.map(t=>{let e={};return null==n||n.forEach(a=>{void 0!==t[a]&&(e[a]=t[a])}),e})},ts=(t,e)=>{var a;let i=0,d=0;t.weight&&(i+=t.barycenter*t.weight,d+=t.weight),e.weight&&(i+=e.barycenter*e.weight,d+=e.weight),t.vs=null===(a=e.vs)||void 0===a?void 0:a.concat(t.vs),t.barycenter=i/d,t.weight=d,t.i=Math.min(e.i,t.i),e.merged=!0};var th=(t,e)=>{var a,i,d;let r={};null==t||t.forEach((t,e)=>{r[t.v]={i:e,indegree:0,in:[],out:[],vs:[t.v]};let a=r[t.v];void 0!==t.barycenter&&(a.barycenter=t.barycenter,a.weight=t.weight)}),null===(a=e.getAllEdges())||void 0===a||a.forEach(t=>{let e=r[t.source],a=r[t.target];void 0!==e&&void 0!==a&&(a.indegree++,e.out.push(r[t.target]))});let o=null===(d=(i=Object.values(r)).filter)||void 0===d?void 0:d.call(i,t=>!t.indegree);return tl(o)};let tg=(t,e,a,i)=>{let d=D(t,t=>{let e=t.hasOwnProperty("fixorder")&&!isNaN(t.fixorder);return i?!e&&t.hasOwnProperty("barycenter"):e||t.hasOwnProperty("barycenter")}),r=d.lhs,o=d.rhs.sort((t,e)=>-t.i- -e.i),n=[],l=0,s=0,h=0;null==r||r.sort(tc(!!e,!!a)),h=tu(n,o,h),null==r||r.forEach(t=>{var e;h+=null===(e=t.vs)||void 0===e?void 0:e.length,n.push(t.vs),l+=t.barycenter*t.weight,s+=t.weight,h=tu(n,o,h)});let g={vs:n.flat()};return s&&(g.barycenter=l/s,g.weight=s),g},tu=(t,e,a)=>{let i,d=a;for(;e.length&&(i=e[e.length-1]).i<=d;)e.pop(),null==t||t.push(i.vs),d++;return d},tc=(t,e)=>(a,i)=>{if(void 0!==a.fixorder&&void 0!==i.fixorder)return a.fixorder-i.fixorder;if(a.barycenter<i.barycenter)return -1;if(a.barycenter>i.barycenter)return 1;if(e&&void 0!==a.order&&void 0!==i.order){if(a.order<i.order)return -1;if(a.order>i.order)return 1}return t?i.i-a.i:a.i-i.i},tf=(t,e,a,i,d,r)=>{var o,n,l,s;let h=t.getChildren(e).map(t=>t.id),g=t.getNode(e),u=g?g.data.borderLeft:void 0,c=g?g.data.borderRight:void 0,f={};u&&(h=null==h?void 0:h.filter(t=>t!==u&&t!==c));let y=tn(t,h||[]);null==y||y.forEach(e=>{var d;if(null===(d=t.getChildren(e.v))||void 0===d?void 0:d.length){let d=tf(t,e.v,a,i,r);f[e.v]=d,d.hasOwnProperty("barycenter")&&tv(e,d)}});let v=th(y,a);ty(v,f),null===(o=v.filter(t=>t.vs.length>0))||void 0===o||o.forEach(e=>{let a=t.getNode(e.vs[0]);a&&(e.fixorder=a.data.fixorder,e.order=a.data.order)});let m=tg(v,i,d,r);if(u&&(m.vs=[u,m.vs,c].flat(),null===(n=t.getPredecessors(u))||void 0===n?void 0:n.length)){let e=t.getNode((null===(l=t.getPredecessors(u))||void 0===l?void 0:l[0].id)||""),a=t.getNode((null===(s=t.getPredecessors(c))||void 0===s?void 0:s[0].id)||"");m.hasOwnProperty("barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+e.data.order+a.data.order)/(m.weight+2),m.weight+=2}return m},ty=(t,e)=>{null==t||t.forEach(t=>{var a;let i=null===(a=t.vs)||void 0===a?void 0:a.map(t=>e[t]?e[t].vs:t);t.vs=i.flat()})},tv=(t,e)=>{void 0!==t.barycenter?(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight):(t.barycenter=e.barycenter,t.weight=e.weight)},tm=(t,e)=>{let a;let i=S(t),d=[],r=[];for(let t=1;t<i+1;t++)d.push(t);for(let t=i-1;t>-1;t--)r.push(t);let o=tp(t,d,"in"),n=tp(t,r,"out"),l=to(t);tE(t,l);let s=Number.POSITIVE_INFINITY;for(let i=0,d=0;d<4;++i,++d){tx(i%2?o:n,i%4>=2,!1,e),l=A(t);let r=tr(t,l);r<s&&(d=0,a=(0,tt.Z)(l),s=r)}l=to(t),tE(t,l);for(let i=0,d=0;d<4;++i,++d){tx(i%2?o:n,i%4>=2,!0,e),l=A(t);let r=tr(t,l);r<s&&(d=0,a=(0,tt.Z)(l),s=r)}tE(t,a)},tp=(t,e,a)=>e.map(e=>ta(t,e,a)),tx=(t,e,a,i)=>{let r=new d.k;null==t||t.forEach(t=>{var d;let o=t.getRoots()[0].id,n=tf(t,o,r,e,a,i);for(let e=0;e<(null===(d=n.vs)||void 0===d?void 0:d.length);e++){let a=t.getNode(n.vs[e]);a&&(a.data.order=e)}te(t,r,n.vs)})},tE=(t,e)=>{null==e||e.forEach(e=>{null==e||e.forEach((e,a)=>{t.getNode(e).data.order=a})})},tN=(t,e)=>{let a=t.getAllNodes().filter(e=>{var a;return!(null===(a=t.getChildren(e.id))||void 0===a?void 0:a.length)}),i=a.map(t=>t.data.rank),d=Math.max(...i),r=[];for(let t=0;t<d+1;t++)r[t]=[];null==e||e.forEach(e=>{let a=t.getNode(e);a&&!a.data.dummy&&(isNaN(a.data.rank)||(a.data.fixorder=r[a.data.rank].length,r[a.data.rank].push(e)))})},tw=t=>{let e={},a=0,i=d=>{let r=a;t.getChildren(d).forEach(t=>i(t.id)),e[d]={low:r,lim:a++}};return t.getRoots().forEach(t=>i(t.id)),e},tb=(t,e,a,i)=>{var d,r;let o,n;let l=[],s=[],h=Math.min(e[a].low,e[i].low),g=Math.max(e[a].lim,e[i].lim);o=a;do l.push(o=null===(d=t.getParent(o))||void 0===d?void 0:d.id);while(o&&(e[o].low>h||g>e[o].lim));for(n=o,o=i;o&&o!==n;)s.push(o),o=null===(r=t.getParent(o))||void 0===r?void 0:r.id;return{lca:n,path:l.concat(s.reverse())}},tO=(t,e)=>{let a=tw(t);e.forEach(e=>{var i,d;let r=e,o=t.getNode(r),n=o.data.originalEdge;if(!n)return;let l=tb(t,a,n.source,n.target),s=l.path,h=l.lca,g=0,u=s[0],c=!0;for(;r!==n.target;){if(o=t.getNode(r),c){for(;u!==h&&(null===(i=t.getNode(u))||void 0===i?void 0:i.data.maxRank)<o.data.rank;)u=s[++g];u===h&&(c=!1)}if(!c){for(;g<s.length-1&&(null===(d=t.getNode(s[g+1]))||void 0===d?void 0:d.data.minRank)<=o.data.rank;)g++;u=s[g]}t.hasNode(u)&&t.setParent(r,u),r=t.getSuccessors(r)[0].id}})},tM=(t,e)=>{let a={};return(null==e?void 0:e.length)&&e.reduce((e,i)=>{let d=0,r=0,o=e.length,n=null==i?void 0:i[(null==i?void 0:i.length)-1];return null==i||i.forEach((e,l)=>{var s;let h=tk(t,e),g=h?t.getNode(h.id).data.order:o;(h||e===n)&&(null===(s=i.slice(r,l+1))||void 0===s||s.forEach(e=>{var i;null===(i=t.getPredecessors(e))||void 0===i||i.forEach(i=>{var r;let o=t.getNode(i.id),n=o.data.order;(n<d||g<n)&&!(o.data.dummy&&(null===(r=t.getNode(e))||void 0===r?void 0:r.data.dummy))&&tj(a,i.id,e)})}),r=l+1,d=g)}),i}),a},tA=(t,e)=>{let a={};function i(e,i){let d=JSON.stringify(e.slice(1));i.get(d)||(!function(e,i,d,r,o){var n,l;let s;for(let h=i;h<d;h++)s=e[h],(null===(n=t.getNode(s))||void 0===n?void 0:n.data.dummy)&&(null===(l=t.getPredecessors(s))||void 0===l||l.forEach(e=>{let i=t.getNode(e.id);i.data.dummy&&(i.data.order<r||i.data.order>o)&&tj(a,e.id,s)}))}(...e),i.set(d,!0))}return(null==e?void 0:e.length)&&e.reduce((e,a)=>{let d,r=-1,o=0,n=new Map;return null==a||a.forEach((l,s)=>{var h;if((null===(h=t.getNode(l))||void 0===h?void 0:h.data.dummy)==="border"){let e=t.getPredecessors(l)||[];e.length&&(i([a,o,s,r,d=t.getNode(e[0].id).data.order],n),o=s,r=d)}i([a,o,a.length,d,e.length],n)}),a}),a},tk=(t,e)=>{var a,i;if(null===(a=t.getNode(e))||void 0===a?void 0:a.data.dummy)return null===(i=t.getPredecessors(e))||void 0===i?void 0:i.find(e=>t.getNode(e.id).data.dummy)},tj=(t,e,a)=>{let i=e,d=a;if(i>d){let t=i;i=d,d=t}let r=t[i];r||(t[i]=r={}),r[d]=!0},tz=(t,e,a)=>{let i=e,d=a;return i>d&&(i=d,d=e),!!t[i]},tS=(t,e,a,i)=>{let d={},r={},o={};return null==e||e.forEach(t=>{null==t||t.forEach((t,e)=>{d[t]=t,r[t]=t,o[t]=e})}),null==e||e.forEach(t=>{let e=-1;null==t||t.forEach(t=>{let n=i(t).map(t=>t.id);if(n.length){n=n.sort((t,e)=>o[t]-o[e]);let i=(n.length-1)/2;for(let l=Math.floor(i),s=Math.ceil(i);l<=s;++l){let i=n[l];r[t]===t&&e<o[i]&&!tz(a,t,i)&&(r[i]=t,r[t]=d[t]=d[i],e=o[i])}}})}),{root:d,align:r}},tD=(t,e,a,i,d,r,o)=>{var n;let l={},s=tR(t,e,a,d,r,o),h=o?"borderLeft":"borderRight",g=(t,e)=>{let a=s.getAllNodes(),i=a.pop(),d={};for(;i;)d[i.id]?t(i.id):(d[i.id]=!0,a.push(i),a=a.concat(e(i.id))),i=a.pop()};return g(t=>{l[t]=(s.getRelatedEdges(t,"in")||[]).reduce((t,e)=>Math.max(t,(l[e.source]||0)+e.data.weight),0)},s.getPredecessors.bind(s)),g(e=>{let a=(s.getRelatedEdges(e,"out")||[]).reduce((t,e)=>Math.min(t,(l[e.target]||0)-e.data.weight),Number.POSITIVE_INFINITY),i=t.getNode(e);a!==Number.POSITIVE_INFINITY&&i.data.borderType!==h&&(l[e]=Math.max(l[e],a))},s.getSuccessors.bind(s)),null===(n=Object.values(i))||void 0===n||n.forEach(t=>{l[t]=l[a[t]]}),l},tR=(t,e,a,i,r,o)=>{let n=new d.k,l=tL(i,r,o);return null==e||e.forEach(e=>{let i;null==e||e.forEach(e=>{let d=a[e];if(n.hasNode(d)||n.addNode({id:d,data:{}}),i){let r=a[i],o=n.getRelatedEdges(r,"out").find(t=>t.target===d);o?n.updateEdgeData(o.id,Object.assign(Object.assign({},o.data),{weight:Math.max(l(t,e,i),o.data.weight||0)})):n.addEdge({id:`e${Math.random()}`,source:r,target:d,data:{weight:Math.max(l(t,e,i),0)}})}i=e})}),n},tP=(t,e)=>R(Object.values(e),e=>{var a;let i=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY;return null===(a=Object.keys(e))||void 0===a||a.forEach(a=>{let r=e[a],o=tI(t,a)/2;i=Math.max(r+o,i),d=Math.min(r-o,d)}),i-d}),tZ=(t,e)=>{let a={};return Object.keys(t.ul).forEach(i=>{if(e)a[i]=t[e.toLowerCase()][i];else{let e=Object.values(t).map(t=>t[i]);a[i]=(e[0]+e[1])/2}}),a},tL=(t,e,a)=>(i,d,r)=>{let o;let n=i.getNode(d),l=i.getNode(r),s=0;if(o=0+n.data.width/2,n.data.hasOwnProperty("labelpos"))switch((n.data.labelpos||"").toLowerCase()){case"l":s=-n.data.width/2;break;case"r":s=n.data.width/2}if(s&&(o+=a?s:-s),s=0,o+=(n.data.dummy?e:t)/2+(l.data.dummy?e:t)/2+l.data.width/2,l.data.labelpos)switch((l.data.labelpos||"").toLowerCase()){case"l":s=l.data.width/2;break;case"r":s=-l.data.width/2}return s&&(o+=a?s:-s),s=0,o},tI=(t,e)=>t.getNode(e).data.width||0,tG=(t,e)=>{let{ranksep:a=0}=e||{},i=A(t),d=0;null==i||i.forEach(e=>{let i=e.map(e=>t.getNode(e).data.height),r=Math.max(...i,0);null==e||e.forEach(e=>{t.getNode(e).data.y=d+r/2}),d+=r+a})},tC=(t,e)=>{let{align:a,nodesep:i=0,edgesep:d=0}=e||{},r=A(t),o=Object.assign(tM(t,r),tA(t,r)),n={},l=[];["u","d"].forEach(e=>{l="u"===e?r:Object.values(r).reverse(),["l","r"].forEach(a=>{"r"===a&&(l=l.map(t=>Object.values(t).reverse()));let r=("u"===e?t.getPredecessors:t.getSuccessors).bind(t),s=tS(t,l,o,r),h=tD(t,l,s.root,s.align,i,d,"r"===a);"r"===a&&Object.keys(h).forEach(t=>h[t]=-h[t]),n[e+a]=h})});let s=tP(t,n);return s&&function(t,e){let a=Object.values(e),i=Math.min(...a),d=Math.max(...a);["u","d"].forEach(a=>{["l","r"].forEach(r=>{let o;let n=a+r,l=t[n];if(l===e)return;let s=Object.values(l);(o="l"===r?i-Math.min(...s):d-Math.max(...s))&&(t[n]={},Object.keys(l).forEach(e=>{t[n][e]=l[e]+o}))})})}(n,s),tZ(n,a)},tq=(t,e)=>{var a;let i=b(t);tG(i,e);let d=tC(i,e);null===(a=Object.keys(d))||void 0===a||a.forEach(t=>{i.getNode(t).data.x=d[t]})},tT=t=>{let e={},a=i=>{var d;let r;let o=t.getNode(i);return o?e[i]?o.data.rank:(e[i]=!0,null===(d=t.getRelatedEdges(i,"out"))||void 0===d||d.forEach(t=>{let e=a(t.target),i=t.data.minlen,d=e-i;d&&(void 0===r||d<r)&&(r=d)}),r||(r=0),o.data.rank=r,r):0};t.getAllNodes().filter(e=>0===t.getRelatedEdges(e.id,"in").length).forEach(t=>a(t.id))},t_=t=>{let e;let a={},i=d=>{var r;let o;let n=t.getNode(d);return n?a[d]?n.data.rank:(a[d]=!0,null===(r=t.getRelatedEdges(d,"out"))||void 0===r||r.forEach(t=>{let e=i(t.target),a=t.data.minlen,d=e-a;d&&(void 0===o||d<o)&&(o=d)}),o||(o=0),(void 0===e||o<e)&&(e=o),n.data.rank=o,o):0};t.getAllNodes().filter(e=>0===t.getRelatedEdges(e.id,"in").length).forEach(t=>{t&&i(t.id)}),void 0===e&&(e=0);let d={},r=(e,a)=>{var i;let o=t.getNode(e),n=isNaN(o.data.layer)?a:o.data.layer;(void 0===o.data.rank||o.data.rank<n)&&(o.data.rank=n),d[e]||(d[e]=!0,null===(i=t.getRelatedEdges(e,"out"))||void 0===i||i.forEach(t=>{r(t.target,n+t.data.minlen)}))};t.getAllNodes().forEach(t=>{let a=t.data;a&&(isNaN(a.layer)?a.rank-=e:r(t.id,a.layer))})},tF=(t,e)=>t.getNode(e.target).data.rank-t.getNode(e.source).data.rank-e.data.minlen,tW=t=>{let e,a;let i=new d.k({tree:[]}),r=t.getAllNodes()[0],o=t.getAllNodes().length;for(i.addNode(r);t$(i,t)<o;)e=tH(i,t),a=i.hasNode(e.source)?tF(t,e):-tF(t,e),tJ(i,t,a);return i},t$=(t,e)=>{let a=i=>{e.getRelatedEdges(i,"both").forEach(d=>{let r=d.source,o=i===r?d.target:r;t.hasNode(o)||tF(e,d)||(t.addNode({id:o,data:{}}),t.addEdge({id:d.id,source:i,target:o,data:{}}),a(o))})};return t.getAllNodes().forEach(t=>a(t.id)),t.getAllNodes().length},tB=t=>{let e,a;let i=new d.k({tree:[]}),r=t.getAllNodes()[0],o=t.getAllNodes().length;for(i.addNode(r);tV(i,t)<o;)e=tH(i,t),a=i.hasNode(e.source)?tF(t,e):-tF(t,e),tJ(i,t,a);return i},tV=(t,e)=>{let a=i=>{var d;null===(d=e.getRelatedEdges(i,"both"))||void 0===d||d.forEach(d=>{let r=d.source,o=i===r?d.target:r;t.hasNode(o)||void 0===e.getNode(o).data.layer&&tF(e,d)||(t.addNode({id:o,data:{}}),t.addEdge({id:d.id,source:i,target:o,data:{}}),a(o))})};return t.getAllNodes().forEach(t=>a(t.id)),t.getAllNodes().length},tH=(t,e)=>R(e.getAllEdges(),a=>t.hasNode(a.source)!==t.hasNode(a.target)?tF(e,a):1/0),tJ=(t,e,a)=>{t.getAllNodes().forEach(t=>{let i=e.getNode(t.id);i.data.rank||(i.data.rank=0),i.data.rank+=a})},tY=t=>{let e,a;let i=w(t);tT(i);let d=tW(i);for(tX(d),tK(d,i);e=t1(d);)a=t2(d,i,e),t5(d,i,e,a)},tK=(t,e)=>{let a=Z(t,t.getAllNodes(),"post",!1);(a=a.slice(0,(null==a?void 0:a.length)-1)).forEach(a=>{tQ(t,e,a)})},tQ=(t,e,a)=>{let i=t.getNode(a),d=i.data.parent,r=t.getRelatedEdges(a,"both").find(t=>t.target===d||t.source===d);r.data.cutvalue=tU(t,e,a)},tU=(t,e,a)=>{let i=t.getNode(a),d=i.data.parent,r=!0,o=e.getRelatedEdges(a,"out").find(t=>t.target===d),n=0;return o||(r=!1,o=e.getRelatedEdges(d,"out").find(t=>t.target===a)),n=o.data.weight,e.getRelatedEdges(a,"both").forEach(e=>{let i=e.source===a,o=i?e.target:e.source;if(o!==d){let d=i===r,l=e.data.weight;if(n+=d?l:-l,t6(t,a,o)){let e=t.getRelatedEdges(a,"both").find(t=>t.source===o||t.target===o).data.cutvalue;n+=d?-e:e}}}),n},tX=(t,e=t.getAllNodes()[0].id)=>{t0(t,{},1,e)},t0=(t,e,a,i,d)=>{var r;let o=a,n=t.getNode(i);return e[i]=!0,null===(r=t.getNeighbors(i))||void 0===r||r.forEach(a=>{e[a.id]||(o=t0(t,e,o,a.id,i))}),n.data.low=a,n.data.lim=o++,d?n.data.parent=d:delete n.data.parent,o},t1=t=>t.getAllEdges().find(t=>t.data.cutvalue<0),t2=(t,e,a)=>{let i=a.source,d=a.target;e.getRelatedEdges(i,"out").find(t=>t.target===d)||(i=a.target,d=a.source);let r=t.getNode(i),o=t.getNode(d),n=r,l=!1;r.data.lim>o.data.lim&&(n=o,l=!0);let s=e.getAllEdges().filter(e=>l===t4(t.getNode(e.source),n)&&l!==t4(t.getNode(e.target),n));return R(s,t=>tF(e,t))},t5=(t,e,a,i)=>{let d=t.getRelatedEdges(a.source,"both").find(t=>t.source===a.target||t.target===a.target);d&&t.removeEdge(d.id),t.addEdge({id:`e${Math.random()}`,source:i.source,target:i.target,data:{}}),tX(t),tK(t,e),t3(t,e)},t3=(t,e)=>{let a=t.getAllNodes().find(t=>!t.data.parent),i=Z(t,a,"pre",!1);(i=i.slice(1)).forEach(a=>{let i=t.getNode(a).data.parent,d=e.getRelatedEdges(a,"out").find(t=>t.target===i),r=!1;!d&&e.hasNode(i)&&(d=e.getRelatedEdges(i,"out").find(t=>t.target===a),r=!0),e.getNode(a).data.rank=(e.hasNode(i)&&e.getNode(i).data.rank||0)+(r?null==d?void 0:d.data.minlen:-(null==d?void 0:d.data.minlen))})},t6=(t,e,a)=>t.getRelatedEdges(e,"both").find(t=>t.source===a||t.target===a),t4=(t,e)=>e.data.low<=t.data.lim&&t.data.lim<=e.data.lim,t7=(t,e)=>{switch(e){case"network-simplex":et(t);break;case"tight-tree":default:t9(t);break;case"longest-path":t8(t)}},t8=tT,t9=t=>{t_(t),tB(t)},et=t=>{tY(t)},ee=(t,e)=>{let a;let{edgeLabelSpace:i,keepNodeOrder:d,prevGraph:r,rankdir:o,ranksep:n}=e;!d&&r&&ei(t,r);let l=eh(t);i&&(e.ranksep=eg(l,{rankdir:o,ranksep:n}));try{a=ea(l,e)}catch(t){if("Not possible to find intersection inside of the rectangle"===t.message){console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",t);return}throw t}return ed(t,l),a},ea=(t,e)=>{let{acyclicer:a,ranker:i,rankdir:d="tb",nodeOrder:r,keepNodeOrder:o,align:n,nodesep:l=50,edgesep:s=20,ranksep:h=50}=e;eE(t),m(t,a);let{nestingRoot:g,nodeRankFactor:u}=B(t);t7(b(t),i),eu(t),j(t,u),Y(t,g),k(t),ec(t),ef(t);let c=[];Q(t,c),tO(t,c),L(t),o&&tN(t,r),tm(t,o),eN(t),G(t,d),tq(t,{align:n,nodesep:l,edgesep:s,ranksep:h}),ew(t),ex(t),X(t,c),em(t),C(t,d);let{width:f,height:y}=ey(t);return ev(t),ep(t),x(t),{width:f,height:y}},ei=(t,e)=>{t.getAllNodes().forEach(a=>{let i=t.getNode(a.id);if(e.hasNode(a.id)){let t=e.getNode(a.id);i.data.fixorder=t.data._order,delete t.data._order}else delete i.data.fixorder})},ed=(t,e)=>{t.getAllNodes().forEach(a=>{var i;let d=t.getNode(a.id);if(d){let t=e.getNode(a.id);d.data.x=t.data.x,d.data.y=t.data.y,d.data._order=t.data.order,d.data._rank=t.data.rank,(null===(i=e.getChildren(a.id))||void 0===i?void 0:i.length)&&(d.data.width=t.data.width,d.data.height=t.data.height)}}),t.getAllEdges().forEach(a=>{let i=t.getEdge(a.id),d=e.getEdge(a.id);i.data.points=d?d.data.points:[],d&&d.data.hasOwnProperty("x")&&(i.data.x=d.data.x,i.data.y=d.data.y)})},er=["width","height","layer","fixorder"],eo={width:0,height:0},en=["minlen","weight","width","height","labeloffset"],el={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},es=["labelpos"],eh=t=>{let e=new d.k({tree:[]});return t.getAllNodes().forEach(a=>{let i=eO(t.getNode(a.id).data),d=Object.assign(Object.assign({},eo),i),r=eb(d,er);e.hasNode(a.id)||e.addNode({id:a.id,data:Object.assign({},r)});let n=t.hasTreeStructure("combo")?t.getParent(a.id,"combo"):t.getParent(a.id);(0,o.Z)(n)||(e.hasNode(n.id)||e.addNode(Object.assign({},n)),e.setParent(a.id,n.id))}),t.getAllEdges().forEach(a=>{let i=eO(t.getEdge(a.id).data),d={};null==es||es.forEach(t=>{void 0!==i[t]&&(d[t]=i[t])}),e.addEdge({id:a.id,source:a.source,target:a.target,data:Object.assign({},el,eb(i,en),d)})}),e},eg=(t,e)=>{let{ranksep:a=0,rankdir:i}=e;return t.getAllNodes().forEach(t=>{isNaN(t.data.layer)||t.data.layer||(t.data.layer=0)}),t.getAllEdges().forEach(t=>{var e;t.data.minlen*=2,(null===(e=t.data.labelpos)||void 0===e?void 0:e.toLowerCase())!=="c"&&("TB"===i||"BT"===i?t.data.width+=t.data.labeloffset:t.data.height+=t.data.labeloffset)}),a/2},eu=t=>{t.getAllEdges().forEach(e=>{if(e.data.width&&e.data.height){let a=t.getNode(e.source),i=t.getNode(e.target),d={e,rank:(i.data.rank-a.data.rank)/2+a.data.rank};N(t,"edge-proxy",d,"_ep")}})},ec=t=>{let e=0;return t.getAllNodes().forEach(a=>{var i,d;a.data.borderTop&&(a.data.minRank=null===(i=t.getNode(a.data.borderTop))||void 0===i?void 0:i.data.rank,a.data.maxRank=null===(d=t.getNode(a.data.borderBottom))||void 0===d?void 0:d.data.rank,e=Math.max(e,a.data.maxRank||-1/0))}),e},ef=t=>{t.getAllNodes().forEach(e=>{"edge-proxy"===e.data.dummy&&(t.getEdge(e.data.e.id).data.labelRank=e.data.rank,t.removeNode(e.id))})},ey=(t,e)=>{let a,i;let d=0,r=0,{marginx:o=0,marginy:n=0}=e||{},l=t=>{if(!t.data)return;let e=t.data.x,o=t.data.y,n=t.data.width,l=t.data.height;isNaN(e)||isNaN(n)||(void 0===a&&(a=e-n/2),a=Math.min(a,e-n/2),d=Math.max(d,e+n/2)),isNaN(o)||isNaN(l)||(void 0===i&&(i=o-l/2),i=Math.min(i,o-l/2),r=Math.max(r,o+l/2))};return t.getAllNodes().forEach(t=>{l(t)}),t.getAllEdges().forEach(t=>{(null==t?void 0:t.data.hasOwnProperty("x"))&&l(t)}),a-=o,i-=n,t.getAllNodes().forEach(t=>{t.data.x-=a,t.data.y-=i}),t.getAllEdges().forEach(t=>{var e;null===(e=t.data.points)||void 0===e||e.forEach(t=>{t.x-=a,t.y-=i}),t.data.hasOwnProperty("x")&&(t.data.x-=a),t.data.hasOwnProperty("y")&&(t.data.y-=i)}),{width:d-a+o,height:r-i+n}},ev=t=>{t.getAllEdges().forEach(e=>{let a,i;let d=t.getNode(e.source),r=t.getNode(e.target);e.data.points?(a=e.data.points[0],i=e.data.points[e.data.points.length-1]):(e.data.points=[],a={x:r.data.x,y:r.data.y},i={x:d.data.x,y:d.data.y}),e.data.points.unshift(M(d.data,a)),e.data.points.push(M(r.data,i))})},em=t=>{t.getAllEdges().forEach(t=>{if(t.data.hasOwnProperty("x"))switch(("l"===t.data.labelpos||"r"===t.data.labelpos)&&(t.data.width-=t.data.labeloffset),t.data.labelpos){case"l":t.data.x-=t.data.width/2+t.data.labeloffset;break;case"r":t.data.x+=t.data.width/2+t.data.labeloffset}})},ep=t=>{t.getAllEdges().forEach(t=>{var e;t.data.reversed&&(null===(e=t.data.points)||void 0===e||e.reverse())})},ex=t=>{t.getAllNodes().forEach(e=>{var a,i,d;if(null===(a=t.getChildren(e.id))||void 0===a?void 0:a.length){let a=t.getNode(e.id),r=t.getNode(a.data.borderTop),o=t.getNode(a.data.borderBottom),n=t.getNode(a.data.borderLeft[(null===(i=a.data.borderLeft)||void 0===i?void 0:i.length)-1]),l=t.getNode(a.data.borderRight[(null===(d=a.data.borderRight)||void 0===d?void 0:d.length)-1]);a.data.width=Math.abs((null==l?void 0:l.data.x)-(null==n?void 0:n.data.x))||10,a.data.height=Math.abs((null==o?void 0:o.data.y)-(null==r?void 0:r.data.y))||10,a.data.x=((null==n?void 0:n.data.x)||0)+a.data.width/2,a.data.y=((null==r?void 0:r.data.y)||0)+a.data.height/2}}),t.getAllNodes().forEach(e=>{"border"===e.data.dummy&&t.removeNode(e.id)})},eE=t=>{t.getAllEdges().forEach(e=>{if(e.source===e.target){let a=t.getNode(e.source);a.data.selfEdges||(a.data.selfEdges=[]),a.data.selfEdges.push(e),t.removeEdge(e.id)}})},eN=t=>{let e=A(t);null==e||e.forEach(e=>{let a=0;null==e||e.forEach((e,i)=>{var d;let r=t.getNode(e);r.data.order=i+a,null===(d=r.data.selfEdges)||void 0===d||d.forEach(e=>{N(t,"selfedge",{width:e.data.width,height:e.data.height,rank:r.data.rank,order:i+ ++a,e:e},"_se")}),delete r.data.selfEdges})})},ew=t=>{t.getAllNodes().forEach(e=>{let a=t.getNode(e.id);if("selfedge"===a.data.dummy){let i=t.getNode(a.data.e.source),d=i.data.x+i.data.width/2,r=i.data.y,o=a.data.x-d,n=i.data.height/2;t.hasEdge(a.data.e.id)?t.updateEdgeData(a.data.e.id,a.data.e.data):t.addEdge({id:a.data.e.id,source:a.data.e.source,target:a.data.e.target,data:a.data.e.data}),t.removeNode(e.id),a.data.e.data.points=[{x:d+2*o/3,y:r-n},{x:d+5*o/6,y:r-n},{y:r,x:d+o},{x:d+5*o/6,y:r+n},{x:d+2*o/3,y:r+n}],a.data.e.data.x=a.data.x,a.data.e.data.y=a.data.y}})},eb=(t,e)=>{let a={};return null==e||e.forEach(e=>{void 0!==t[e]&&(a[e]=+t[e])}),a},eO=(t={})=>{let e={};return Object.keys(t).forEach(a=>{e[a.toLowerCase()]=t[a]}),e};var eM=a(80296),eA=a(95513),ek=a(84293);let ej={rankdir:"TB",nodesep:50,ranksep:50,edgeLabelSpace:!0,ranker:"tight-tree",controlPoints:!1,radial:!1,focusNode:null};class ez{constructor(t={}){this.options=t,this.id="antv-dagre",this.options=Object.assign(Object.assign({},ej),t)}execute(t,e){return(0,i.mG)(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,t,e)})}assign(t,e){return(0,i.mG)(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,t,e)})}genericDagreLayout(t,e,a){return(0,i.mG)(this,void 0,void 0,function*(){let i;let o=Object.assign(Object.assign({},this.options),a),{nodeSize:n,align:l,rankdir:s="TB",ranksep:h,nodesep:g,ranksepFunc:u,nodesepFunc:c,edgeLabelSpace:f,ranker:y,nodeOrder:v,begin:m,controlPoints:p,radial:x,sortByCombo:E,preset:N}=o,w=new d.k({tree:[]}),b=(0,eM.jE)(h||50,u),O=(0,eM.jE)(g||50,c),M=O,A=b;("LR"===s||"RL"===s)&&(M=b,A=O);let k=(0,eM.tO)(10,n,!1),j=e.getAllNodes(),z=e.getAllEdges();j.forEach(t=>{let e=(0,ek._)(k(t)),a=A(t),i=M(t),d=e[0]+2*i,o=e[1]+2*a,n=t.data.layer;(0,r.Z)(n)?w.addNode({id:t.id,data:{width:d,height:o,layer:n}}):w.addNode({id:t.id,data:{width:d,height:o}})}),E&&(w.attachTreeStructure("combo"),j.forEach(t=>{let{parentId:e}=t.data;void 0!==e&&w.hasNode(e)&&w.setParent(t.id,e,"combo")})),z.forEach(t=>{w.addEdge({id:t.id,source:t.source,target:t.target,data:{weight:t.data.weight||1}})}),(null==N?void 0:N.length)&&(i=new d.k({nodes:N})),ee(w,{prevGraph:i,edgeLabelSpace:f,keepNodeOrder:!!v,nodeOrder:v||[],acyclicer:"greedy",ranker:y,rankdir:s,nodesep:g,align:l});let S=[0,0];if(m){let t=1/0,e=1/0;w.getAllNodes().forEach(a=>{t>a.data.x&&(t=a.data.x),e>a.data.y&&(e=a.data.y)}),w.getAllEdges().forEach(a=>{var i;null===(i=a.data.points)||void 0===i||i.forEach(a=>{t>a.x&&(t=a.x),e>a.y&&(e=a.y)})}),S[0]=m[0]-t,S[1]=m[1]-e}let D="LR"===s||"RL"===s;if(x);else{let t=new Set,e="BT"===s||"RL"===s;w.getAllNodes().forEach(e=>{e.data.x=e.data.x+S[0],e.data.y=e.data.y+S[1],t.add(D?e.data.x:e.data.y)});let a=Array.from(t).sort(e?(t,e)=>e-t:(t,e)=>t-e),i=D?(t,e)=>t.x!==e.x:(t,e)=>t.y!==e.y,d=D?(t,e,a)=>{let i=Math.max(e.y,a.y),d=Math.min(e.y,a.y);return t.filter(t=>t.y<=i&&t.y>=d)}:(t,e,a)=>{let i=Math.max(e.x,a.x),d=Math.min(e.x,a.x);return t.filter(t=>t.x<=i&&t.x>=d)};w.getAllEdges().forEach((t,e)=>{var r;f&&p&&"loop"!==t.data.type&&(t.data.controlPoints=eS(null===(r=t.data.points)||void 0===r?void 0:r.map(({x:t,y:e})=>({x:t+S[0],y:e+S[1]})),w.getNode(t.source),w.getNode(t.target),a,D,i,d))})}let R=[];R=w.getAllNodes().map(t=>(0,eA.u)(t));let P=w.getAllEdges();t&&(R.forEach(t=>{e.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})}),P.forEach(t=>{e.mergeEdgeData(t.id,{controlPoints:t.data.controlPoints})}));let Z={nodes:R,edges:P};return Z})}}let eS=(t,e,a,i,d,r,o)=>{let n=(null==t?void 0:t.slice(1,t.length-1))||[];if(e&&a){let{x:t,y:l}=e.data,{x:s,y:h}=a.data;if(d&&(t=e.data.y,l=e.data.x,s=a.data.y,h=a.data.x),h!==l&&t!==s){let g=i.indexOf(l),u=i[g+1];if(u){let t=n[0],e=d?{x:(l+u)/2,y:(null==t?void 0:t.y)||s}:{x:(null==t?void 0:t.x)||s,y:(l+u)/2};(!t||r(t,e))&&n.unshift(e)}let c=i.indexOf(h),f=Math.abs(c-g);if(1===f)(n=o(n,e.data,a.data)).length||n.push(d?{x:(l+h)/2,y:t}:{x:t,y:(l+h)/2});else if(f>1){let e=i[c-1];if(e){let a=n[n.length-1],i=d?{x:(h+e)/2,y:(null==a?void 0:a.y)||s}:{x:(null==a?void 0:a.x)||t,y:(h+e)/2};(!a||r(a,i))&&n.push(i)}}}}return n}},15486:function(t,e,a){a.d(e,{S:function(){return l}});var i=a(15767),d=a(80296),r=a(95513),o=a(85248);let n={radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1};class l{constructor(t={}){this.options=t,this.id="circular",this.options=Object.assign(Object.assign({},n),t)}execute(t,e){return(0,i.mG)(this,void 0,void 0,function*(){return this.genericCircularLayout(!1,t,e)})}assign(t,e){return(0,i.mG)(this,void 0,void 0,function*(){yield this.genericCircularLayout(!0,t,e)})}genericCircularLayout(t,e,a){return(0,i.mG)(this,void 0,void 0,function*(){let i=Object.assign(Object.assign({},this.options),a),{width:n,height:l,center:g,divisions:u,startAngle:c=0,endAngle:f=2*Math.PI,angleRatio:y,ordering:v,clockwise:m,nodeSpacing:p,nodeSize:x}=i,E=e.getAllNodes(),N=e.getAllEdges(),[w,b,O]=h(n,l,g),M=null==E?void 0:E.length;if(!M||1===M)return(0,o.P)(e,t,O);let{radius:A,startRadius:k,endRadius:j}=i;if(p){let t=(0,d.jE)(10,p),e=(0,d.tO)(10,x),a=-1/0;E.forEach(t=>{let i=e(t);a<i&&(a=i)});let i=0;E.forEach((e,d)=>{0===d?i+=a||10:i+=(t(e)||0)+(a||10)}),A=i/(2*Math.PI)}else A||k||j?!k&&j?k=j:k&&!j&&(j=k):A=Math.min(b,w)/2;let z=(f-c)/M*y,S=[];S="topology"===v?s(e,E):"topology-directed"===v?s(e,E,!0):"degree"===v?function(t,e){let a=[];return e.forEach((t,e)=>{a.push((0,r.u)(t))}),a.sort((e,a)=>t.getDegree(e.id,"both")-t.getDegree(a.id,"both")),a}(e,E):E.map(t=>(0,r.u)(t));let D=Math.ceil(M/u);for(let t=0;t<M;++t){let e=A;e||null===k||null===j||(e=k+t*(j-k)/(M-1)),e||(e=10+100*t/(M-1));let a=c+t%D*z+2*Math.PI/u*Math.floor(t/D);m||(a=f-t%D*z-2*Math.PI/u*Math.floor(t/D)),S[t].data.x=O[0]+Math.cos(a)*e,S[t].data.y=O[1]+Math.sin(a)*e}t&&S.forEach(t=>{e.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})});let R={nodes:S,edges:N};return R})}}let s=(t,e,a=!1)=>{let i=[(0,r.u)(e[0])],d={},o=e.length;d[e[0].id]=!0;let n=0;return e.forEach((l,s)=>{if(0!==s){if((s===o-1||t.getDegree(l.id,"both")!==t.getDegree(e[s+1].id,"both")||t.areNeighbors(i[n].id,l.id))&&!d[l.id])i.push((0,r.u)(l)),d[l.id]=!0,n++;else{let s=a?t.getSuccessors(i[n].id):t.getNeighbors(i[n].id),h=!1;for(let e=0;e<s.length;e++){let a=s[e];if(t.getDegree(a.id)===t.getDegree(l.id)&&!d[a.id]){i.push((0,r.u)(a)),d[a.id]=!0,h=!0;break}}let g=0;for(;!h&&(d[e[g].id]||(i.push((0,r.u)(e[g])),d[e[g].id]=!0,h=!0),++g!==o););}}}),i},h=(t,e,a)=>{let i=t,d=e,r=a;return i||"undefined"==typeof window||(i=window.innerWidth),d||"undefined"==typeof window||(d=window.innerHeight),r||(r=[i/2,d/2]),[i,d,r]}},27166:function(t,e,a){a.d(e,{u:function(){return m}});var i=a(15767),d=a(16754),r=a(22355),o=a(90079),n=a(48758),l=a(95204),s=a(87355),h=a(61711),g=a(9226),u=a(64963),c=a(86011),f=a(85248);let y={gForce:!0,force2:!0,d3force:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0},v={center:[0,0],comboPadding:10,treeKey:"combo"};class m{constructor(t={}){this.options=t,this.id="comboCombined",this.options=Object.assign(Object.assign({},v),t)}execute(t,e){return(0,i.mG)(this,void 0,void 0,function*(){return this.genericComboCombinedLayout(!1,t,e)})}assign(t,e){return(0,i.mG)(this,void 0,void 0,function*(){yield this.genericComboCombinedLayout(!0,t,e)})}genericComboCombinedLayout(t,e,a){return(0,i.mG)(this,void 0,void 0,function*(){let i;let r=this.initVals(Object.assign(Object.assign({},this.options),a)),{center:o,treeKey:n,outerLayout:g}=r,c=e.getAllNodes().filter(t=>!t.data._isCombo),v=e.getAllNodes().filter(t=>t.data._isCombo),m=e.getAllEdges(),x=null==c?void 0:c.length;if(!x||1===x)return(0,f.P)(e,t,o);let E=[],N=new Map;c.forEach(t=>{N.set(t.id,t)});let w=new Map;v.forEach(t=>{w.set(t.id,t)});let b=new Map,O=this.getInnerGraphs(e,n,N,w,m,r,b);yield Promise.all(O);let M=new Map,A=[],k=new Map,j=!0;e.getRoots(n).forEach(t=>{let a=b.get(t.id),i=w.get(t.id)||N.get(t.id),d={id:t.id,data:Object.assign(Object.assign({},t.data),{x:a.data.x||i.data.x,y:a.data.y||i.data.y,fx:a.data.fx||i.data.fx,fy:a.data.fy||i.data.fy,mass:a.data.mass||i.data.mass,size:a.data.size})};A.push(d),M.set(t.id,!0),isNaN(d.data.x)||0===d.data.x||isNaN(d.data.y)||0===d.data.y?(d.data.x=100*Math.random(),d.data.y=100*Math.random()):j=!1,(0,u._)(e,[t],e=>{e.id!==t.id&&k.set(e.id,t.id)},"TB",n)});let z=[];if(m.forEach(t=>{let e=k.get(t.source)||t.source,a=k.get(t.target)||t.target;e!==a&&M.has(e)&&M.has(a)&&z.push({id:t.id,source:e,target:a,data:{}})}),null==A?void 0:A.length){if(1===A.length)A[0].data.x=o[0],A[0].data.y=o[1];else{let t=new d.k({nodes:A,edges:z}),e=g||new s.y;if(j&&y[e.id]){let e=A.length<100?new h.A:new l.W;yield e.assign(t)}let a=Object.assign({center:o,kg:5,preventOverlap:!0,animate:!1},"force"===e.id?{gravity:1,factor:4,linkDistance:(t,e,a)=>{let i=Math.max(...e.data.size)||32,d=Math.max(...a.data.size)||32;return i/2+d/2+200}}:{});i=yield p(e,t,a)}b.forEach(t=>{var e;let a=i.nodes.find(e=>e.id===t.id);if(a){let{x:e,y:i}=a.data;t.data.visited=!0,t.data.x=e,t.data.y=i,E.push({id:t.id,data:{x:e,y:i}})}let{x:d,y:r}=t.data;null===(e=t.data.nodes)||void 0===e||e.forEach(t=>{E.push({id:t.id,data:{x:t.data.x+d,y:t.data.y+r}})})}),b.forEach(({data:t})=>{let{x:e,y:a,visited:i,nodes:d}=t;null==d||d.forEach(t=>{if(!i){let i=E.find(e=>e.id===t.id);i.data.x+=e||0,i.data.y+=a||0}})})}return t&&E.forEach(t=>{e.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})}),{nodes:E,edges:m}})}initVals(t){let e,a,i;let d=Object.assign({},t),{nodeSize:l,spacing:s,comboPadding:h}=t;if(a=(0,r.Z)(s)?()=>s:(0,o.Z)(s)?s:()=>0,d.spacing=a,l){if((0,o.Z)(l))e=t=>{let e=l(t),i=a(t);if((0,c.k)(t.size)){let e=t.size[0]>t.size[1]?t.size[0]:t.size[1];return(e+i)/2}return((e||32)+i)/2};else if((0,c.k)(l)){let t=l[0]>l[1]?l[0]:l[1],i=t/2;e=t=>i+a(t)/2}else{let t=l/2;e=e=>t+a(e)/2}}else e=t=>{let e=a(t);if(t.size){if((0,c.k)(t.size)){let a=t.size[0]>t.size[1]?t.size[0]:t.size[1];return(a+e)/2}if((0,n.Z)(t.size)){let a=t.size.width>t.size.height?t.size.width:t.size.height;return(a+e)/2}return(t.size+e)/2}return 32+e/2};return d.nodeSize=e,i=(0,r.Z)(h)?()=>h:(0,c.k)(h)?()=>Math.max.apply(null,h):(0,o.Z)(h)?h:()=>0,d.comboPadding=i,d}getInnerGraphs(t,e,a,o,n,s,h){let{nodeSize:g,comboPadding:f,spacing:y,innerLayout:v}=s,m=v||new l.W({}),x={center:[0,0],preventOverlap:!0,nodeSpacing:y},E=[],N=t=>{let e=(null==f?void 0:f(t))||10;return(0,c.k)(e)&&(e=Math.max(...e)),{size:e?[2*e,2*e]:[30,30],padding:e}};return t.getRoots(e).forEach(l=>{h.set(l.id,{id:l.id,data:{nodes:[],size:N(l).size}});let s=Promise.resolve();(0,u._)(t,[l],l=>{var c;if(!l.data._isCombo)return;let{size:f,padding:y}=N(l);if(null===(c=t.getChildren(l.id,e))||void 0===c?void 0:c.length){let c=h.get(l.id);h.set(l.id,{id:l.id,data:Object.assign({nodes:[]},null==c?void 0:c.data)});let f=new Map,v=t.getChildren(l.id,e).map(t=>{if(t.data._isCombo)return h.has(t.id)||h.set(t.id,{id:t.id,data:Object.assign({},t.data)}),f.set(t.id,!0),h.get(t.id);let e=a.get(t.id)||o.get(t.id);return f.set(t.id,!0),{id:t.id,data:Object.assign(Object.assign({},e.data),t.data)}}),E={nodes:v,edges:n.filter(t=>f.has(t.source)&&f.has(t.target))},N=1/0;v.forEach(t=>{var e;let{size:a}=t.data;a||(a=(null===(e=h.get(t.id))||void 0===e?void 0:e.data.size)||(null==g?void 0:g(t))||[30,30]),(0,r.Z)(a)&&(a=[a,a]);let[i,d]=a;N>i&&(N=i),N>d&&(N=d),t.data.size=a}),s=s.then(()=>(0,i.mG)(this,void 0,void 0,function*(){let t=new d.k(E);yield p(m,t,x,!0);let{minX:e,minY:a,maxX:i,maxY:r}=(0,u.H0)(v),o={x:(i+e)/2,y:(r+a)/2};E.nodes.forEach(t=>{t.data.x-=o.x,t.data.y-=o.y});let n=[Math.max(i-e,N)+2*y,Math.max(r-a,N)+2*y];h.get(l.id).data.size=n,h.get(l.id).data.nodes=v}))}else h.set(l.id,{id:l.id,data:Object.assign(Object.assign({},l.data),{size:f})});return!0},"BT",e),E.push(s)}),E}}function p(t,e,a,d){var r;return(0,i.mG)(this,void 0,void 0,function*(){return(0,g.h)(t)?(t.execute(e,a),t.stop(),t.tick(null!==(r=a.iterations)&&void 0!==r?r:300)):d?yield t.assign(e,a):yield t.execute(e,a)})}},95204:function(t,e,a){a.d(e,{W:function(){return c}});var i=a(15767),d=a(90079),r=a(22355),o=a(48758),n=a(43706),l=a(86011),s=a(95513),h=a(85248),g=a(84293);let u={nodeSize:30,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"};class c{constructor(t={}){this.options=t,this.id="concentric",this.options=Object.assign(Object.assign({},u),t)}execute(t,e){return(0,i.mG)(this,void 0,void 0,function*(){return this.genericConcentricLayout(!1,t,e)})}assign(t,e){return(0,i.mG)(this,void 0,void 0,function*(){yield this.genericConcentricLayout(!0,t,e)})}genericConcentricLayout(t,e,a){return(0,i.mG)(this,void 0,void 0,function*(){let i;let u=Object.assign(Object.assign({},this.options),a),{center:c,width:f,height:y,sortBy:v,maxLevelDiff:m,sweep:p,clockwise:x,equidistant:E,preventOverlap:N,startAngle:w=1.5*Math.PI,nodeSize:b,nodeSpacing:O}=u,M=e.getAllNodes(),A=e.getAllEdges(),k=f||"undefined"==typeof window?f:window.innerWidth,j=y||"undefined"==typeof window?y:window.innerHeight,z=c||[k/2,j/2];if(!(null==M?void 0:M.length)||1===M.length)return(0,h.P)(e,t,z);let S=[],D=0;(0,l.k)(b)?i=Math.max(b[0],b[1]):(0,d.Z)(b)?(i=-1/0,M.forEach(t=>{let e=Math.max(...(0,g._)(b(t)));e>i&&(i=e)})):i=b,(0,l.k)(O)?D=Math.max(O[0],O[1]):(0,r.Z)(O)&&(D=O),M.forEach(t=>{let e=(0,s.u)(t);S.push(e);let a=i,{data:n}=e;(0,l.k)(n.size)?a=Math.max(n.size[0],n.size[1]):(0,r.Z)(n.size)?a=n.size:(0,o.Z)(n.size)&&(a=Math.max(n.size.width,n.size.height)),i=Math.max(i,a),(0,d.Z)(O)&&(D=Math.max(O(t),D))});let R={};S.forEach((t,e)=>{R[t.id]=e});let P=v;(0,n.Z)(P)&&void 0!==S[0].data[P]||(P="degree"),"degree"===P?S.sort((t,a)=>e.getDegree(a.id,"both")-e.getDegree(t.id,"both")):S.sort((t,e)=>e.data[P]-t.data[P]);let Z=S[0],L=(m||("degree"===P?e.getDegree(Z.id,"both"):Z.data[P]))/4,I=[{nodes:[]}],G=I[0];S.forEach(t=>{if(G.nodes.length>0){let a="degree"===P?Math.abs(e.getDegree(G.nodes[0].id,"both")-e.getDegree(t.id,"both")):Math.abs(G.nodes[0].data[P]-t.data[P]);L&&a>=L&&(G={nodes:[]},I.push(G))}G.nodes.push(t)});let C=i+D;if(!N){let t=I.length>0&&I[0].nodes.length>1,e=Math.min(k,j)/2-C,a=e/(I.length+(t?1:0));C=Math.min(C,a)}let q=0;if(I.forEach(t=>{let e=void 0===p?2*Math.PI-2*Math.PI/t.nodes.length:p;if(t.dTheta=e/Math.max(1,t.nodes.length-1),t.nodes.length>1&&N){let e=Math.cos(t.dTheta)-1,a=Math.sin(t.dTheta)-0,i=Math.sqrt(C*C/(e*e+a*a));q=Math.max(i,q)}t.r=q,q+=C}),E){let t=0,e=0;for(let a=0;a<I.length;a++){let i=I[a],d=(i.r||0)-e;t=Math.max(t,d)}e=0,I.forEach((a,i)=>{0===i&&(e=a.r||0),a.r=e,e+=t})}return I.forEach(t=>{let e=t.dTheta||0,a=t.r||0;t.nodes.forEach((t,i)=>{let d=w+(x?1:-1)*e*i;t.data.x=z[0]+a*Math.cos(d),t.data.y=z[1]+a*Math.sin(d)})}),t&&S.forEach(t=>e.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})),{nodes:S,edges:A}})}}},80414:function(t,e,a){a.d(e,{j:function(){return f}});var i=a(15767),d=a(11051),r=a(1819),o=a(44575),n=a(64681),l=a(4507),s=a(56617),h=a(2881),g=a(57280),u=a(96207),c=a(42655);class f{constructor(t){this.id="d3-force",this.config={inputNodeAttrs:["x","y","vx","vy","fx","fy"],outputNodeAttrs:["x","y","vx","vy"],simulationAttrs:["alpha","alphaMin","alphaDecay","alphaTarget","velocityDecay","randomSource"]},this.forceMap={link:o.Z,manyBody:n.Z,center:l.Z,collide:s.Z,radial:h.Z,x:g.Z,y:u.Z},this.options={link:{id:t=>t.id},manyBody:{},center:{x:0,y:0}},this.context={options:{},assign:!1,nodes:[],edges:[]},(0,d.Z)(this.options,t),this.options.forceSimulation&&(this.simulation=this.options.forceSimulation)}execute(t,e){return(0,i.mG)(this,void 0,void 0,function*(){return this.genericLayout(!1,t,e)})}assign(t,e){return(0,i.mG)(this,void 0,void 0,function*(){yield this.genericLayout(!0,t,e)})}stop(){this.simulation.stop()}tick(t){return this.simulation.tick(t),this.getResult()}restart(){this.simulation.restart()}setFixedPosition(t,e){let a=this.context.nodes.find(e=>e.id===t);a&&e.forEach((t,e)=>{if("number"==typeof t||null===t){let i=["fx","fy","fz"][e];a[i]=t}})}getOptions(t){var e,a;let i=(0,d.Z)({},this.options,t);return i.collide&&(null===(e=i.collide)||void 0===e?void 0:e.radius)===void 0&&(i.collide=i.collide||{},i.collide.radius=null!==(a=i.nodeSize)&&void 0!==a?a:10),void 0===i.iterations&&(i.link&&void 0===i.link.iterations&&(i.iterations=i.link.iterations),i.collide&&void 0===i.collide.iterations&&(i.iterations=i.collide.iterations)),this.context.options=i,i}genericLayout(t,e,a){var d;return(0,i.mG)(this,void 0,void 0,function*(){let i=this.getOptions(a),o=e.getAllNodes().map(({id:t,data:e})=>Object.assign(Object.assign({id:t},e),(0,r.Z)(e.data,this.config.inputNodeAttrs))),n=e.getAllEdges().map(t=>Object.assign({},t));Object.assign(this.context,{assign:t,nodes:o,edges:n,graph:e});let l=new Promise(t=>{this.resolver=t}),s=this.setSimulation(i);return s.nodes(o),null===(d=s.force("link"))||void 0===d||d.links(n),l})}getResult(){let{assign:t,nodes:e,edges:a,graph:i}=this.context,d=e.map(t=>({id:t.id,data:Object.assign(Object.assign({},t.data),(0,r.Z)(t,this.config.outputNodeAttrs))})),o=a.map(({id:t,source:e,target:a,data:i})=>({id:t,source:"object"==typeof e?e.id:e,target:"object"==typeof a?a.id:a,data:i}));return t&&d.forEach(t=>i.mergeNodeData(t.id,t.data)),{nodes:d,edges:o}}initSimulation(){return(0,c.Z)()}setSimulation(t){let e=this.simulation||this.options.forceSimulation||this.initSimulation();return this.simulation||(this.simulation=e.on("tick",()=>{var e;return null===(e=t.onTick)||void 0===e?void 0:e.call(t,this.getResult())}).on("end",()=>{var t;return null===(t=this.resolver)||void 0===t?void 0:t.call(this,this.getResult())})),y(e,this.config.simulationAttrs.map(e=>[e,t[e]])),Object.entries(this.forceMap).forEach(([a,i])=>{if(t[a]){let d=e.force(a);d||(d=i(),e.force(a,d)),y(d,Object.entries(t[a]))}else e.force(a,null)}),e}}let y=(t,e)=>e.reduce((e,[a,i])=>e[a]&&void 0!==i?e[a].call(t,i):e,t)},40599:function(t,e,a){a.d(e,{V:function(){return s}});var i=a(15767),d=a(22355),r=a(90079),o=a(6724),n=a.n(o),l=a(84293);class s{constructor(t){this.id="dagre",this.options={},Object.assign(this.options,s.defaultOptions,t)}execute(t,e){return(0,i.mG)(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,t,Object.assign(Object.assign({},this.options),e))})}assign(t,e){return(0,i.mG)(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,t,Object.assign(Object.assign({},this.options),e))})}genericDagreLayout(t,e,a){return(0,i.mG)(this,void 0,void 0,function*(){let{nodeSize:s}=a,h=new o.graphlib.Graph;h.setGraph(a),h.setDefaultEdgeLabel(()=>({}));let g=e.getAllNodes(),u=e.getAllEdges();[...g,...u].some(({id:t})=>(0,d.Z)(t))&&console.error("Dagre layout only support string id, it will convert number to string."),e.getAllNodes().forEach(t=>{let{id:e}=t,a=Object.assign({},t.data);if(void 0!==s){let[e,i]=(0,l._)((0,r.Z)(s)?s(t):s);Object.assign(a,{width:e,height:i})}h.setNode(e.toString(),a)}),e.getAllEdges().forEach(({id:t,source:e,target:a})=>{h.setEdge(e.toString(),a.toString(),{id:t})}),n().layout(h);let c={nodes:[],edges:[]};return h.nodes().forEach(a=>{let i=h.node(a);c.nodes.push({id:a,data:i}),t&&e.mergeNodeData(a,i)}),h.edges().forEach(a=>{let d=h.edge(a),{id:r}=d,o=(0,i._T)(d,["id"]),{v:n,w:l}=a;c.edges.push({id:r,source:n,target:l,data:o}),t&&e.mergeEdgeData(r,o)}),c})}}s.defaultOptions={}},86378:function(t,e,a){a.d(e,{E:function(){return c}});var i=a(15767),d=a(16754),r=a(22355),o=a(95513),n=a(80296),l=a(85248);class s{constructor(t){this.id=t.id||0,this.rx=t.rx,this.ry=t.ry,this.fx=0,this.fy=0,this.mass=t.mass,this.degree=t.degree,this.g=t.g||0}distanceTo(t){let e=this.rx-t.rx,a=this.ry-t.ry;return Math.hypot(e,a)}setPos(t,e){this.rx=t,this.ry=e}resetForce(){this.fx=0,this.fy=0}addForce(t){let e=t.rx-this.rx,a=t.ry-this.ry,i=Math.hypot(e,a);i=i<1e-4?1e-4:i;let d=this.g*(this.degree+1)*(t.degree+1)/i;this.fx+=d*e/i,this.fy+=d*a/i}in(t){return t.contains(this.rx,this.ry)}add(t){let e=this.mass+t.mass,a=(this.rx*this.mass+t.rx*t.mass)/e,i=(this.ry*this.mass+t.ry*t.mass)/e,d=this.degree+t.degree;return new s({rx:a,ry:i,mass:e,degree:d})}}class h{constructor(t){this.xmid=t.xmid,this.ymid=t.ymid,this.length=t.length,this.massCenter=t.massCenter||[0,0],this.mass=t.mass||1}getLength(){return this.length}contains(t,e){let a=this.length/2;return t<=this.xmid+a&&t>=this.xmid-a&&e<=this.ymid+a&&e>=this.ymid-a}NW(){let t=this.xmid-this.length/4,e=this.ymid+this.length/4,a=this.length/2,i=new h({xmid:t,ymid:e,length:a});return i}NE(){let t=this.xmid+this.length/4,e=this.ymid+this.length/4,a=this.length/2,i=new h({xmid:t,ymid:e,length:a});return i}SW(){let t=this.xmid-this.length/4,e=this.ymid-this.length/4,a=this.length/2,i=new h({xmid:t,ymid:e,length:a});return i}SE(){let t=this.xmid+this.length/4,e=this.ymid-this.length/4,a=this.length/2,i=new h({xmid:t,ymid:e,length:a});return i}}class g{constructor(t){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=t&&(this.quad=t)}insert(t){if(null==this.body){this.body=t;return}this._isExternal()?(this.quad&&(this.NW=new g(this.quad.NW()),this.NE=new g(this.quad.NE()),this.SW=new g(this.quad.SW()),this.SE=new g(this.quad.SE())),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t))}_putBody(t){this.quad&&(t.in(this.quad.NW())&&this.NW?this.NW.insert(t):t.in(this.quad.NE())&&this.NE?this.NE.insert(t):t.in(this.quad.SW())&&this.SW?this.SW.insert(t):t.in(this.quad.SE())&&this.SE&&this.SE.insert(t))}_isExternal(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE}updateForce(t){if(null!=this.body&&t!==this.body){if(this._isExternal())t.addForce(this.body);else{let e=this.quad?this.quad.getLength():0,a=this.body.distanceTo(t);e/a<this.theta?t.addForce(this.body):(this.NW&&this.NW.updateForce(t),this.NE&&this.NE.updateForce(t),this.SW&&this.SW.updateForce(t),this.SE&&this.SE.updateForce(t))}}}}let u={center:[0,0],width:300,height:300,kr:5,kg:1,mode:"normal",preventOverlap:!1,dissuadeHubs:!1,maxIteration:0,ks:.1,ksmax:10,tao:.1};class c{constructor(t={}){this.options=t,this.id="forceAtlas2",this.options=Object.assign(Object.assign({},u),t)}execute(t,e){return(0,i.mG)(this,void 0,void 0,function*(){return this.genericForceAtlas2Layout(!1,t,e)})}assign(t,e){return(0,i.mG)(this,void 0,void 0,function*(){yield this.genericForceAtlas2Layout(!0,t,e)})}genericForceAtlas2Layout(t,e,a){return(0,i.mG)(this,void 0,void 0,function*(){let i=e.getAllEdges(),r=e.getAllNodes(),n=this.formatOptions(a,r.length),{width:s,height:h,prune:g,maxIteration:u,nodeSize:c,center:f}=n;if(!(null==r?void 0:r.length)||1===r.length)return(0,l.P)(e,t,f);let y=r.map(t=>(0,o.u)(t,[s,h])),v=i.filter(t=>{let{source:e,target:a}=t;return e!==a}),m=new d.k({nodes:y,edges:v}),p=this.getSizes(m,c);if(this.run(m,e,u,p,t,n),g){for(let t=0;t<v.length;t+=1){let{source:e,target:a}=v[t],i=m.getDegree(e),d=m.getDegree(e);if(i<=1){let t=m.getNode(a);m.mergeNodeData(e,{x:t.data.x,y:t.data.y})}else if(d<=1){let t=m.getNode(e);m.mergeNodeData(a,{x:t.data.x,y:t.data.y})}}let a=Object.assign(Object.assign({},n),{prune:!1,barnesHut:!1});this.run(m,e,100,p,t,a)}return{nodes:y,edges:i}})}getSizes(t,e){let a=t.getAllNodes(),i={};for(let t=0;t<a.length;t+=1){let d=a[t];i[d.id]=(0,n.uE)(e,void 0)(d)}return i}formatOptions(t={},e){let a=Object.assign(Object.assign({},this.options),t),{center:i,width:d,height:r,barnesHut:o,prune:n,maxIteration:l,kr:s,kg:h}=a;return a.width=d||"undefined"==typeof window?d:window.innerWidth,a.height=r||"undefined"==typeof window?r:window.innerHeight,a.center=i||[a.width/2,a.height/2],void 0===o&&e>250&&(a.barnesHut=!0),void 0===n&&e>100&&(a.prune=!0),0!==l||n?0===l&&n&&(a.maxIteration=100,e<=200&&e>100?a.maxIteration=500:e>200&&(a.maxIteration=950)):(a.maxIteration=250,e<=200&&e>100?a.maxIteration=1e3:e>200&&(a.maxIteration=1200)),!s&&(a.kr=50,e>100&&e<=500?a.kr=20:e>500&&(a.kr=1)),!h&&(a.kg=20,e>100&&e<=500?a.kg=10:e>500&&(a.kg=1)),a}run(t,e,a,i,d,r){let{kr:o,barnesHut:n,onTick:l}=r,h=t.getAllNodes(),g=0,u=a,c={},f={},y={};for(let e=0;e<h.length;e+=1){let{data:a,id:i}=h[e];if(c[i]=[0,0],n){let d={id:e,rx:a.x,ry:a.y,mass:1,g:o,degree:t.getDegree(i)};y[i]=new s(d)}}for(;u>0;)g=this.oneStep(t,{iter:u,preventOverlapIters:50,krPrime:100,sg:g,forces:c,preForces:f,bodies:y,sizes:i},r),u--,null==l||l({nodes:h,edges:e.getAllEdges()});return t}oneStep(t,e,a){let{iter:i,preventOverlapIters:d,krPrime:r,sg:o,preForces:n,bodies:l,sizes:s}=e,{forces:h}=e,{preventOverlap:g,barnesHut:u}=a,c=t.getAllNodes();for(let t=0;t<c.length;t+=1){let{id:e}=c[t];n[e]=[...h[e]],h[e]=[0,0]}return h=this.getAttrForces(t,i,d,s,h,a),h=u&&(g&&i>d||!g)?this.getOptRepGraForces(t,h,l,a):this.getRepGraForces(t,i,d,h,r,s,a),this.updatePos(t,h,n,o,a)}getAttrForces(t,e,a,i,d,r){let{preventOverlap:o,dissuadeHubs:n,mode:l,prune:s}=r,h=t.getAllEdges();for(let r=0;r<h.length;r+=1){let{source:g,target:u}=h[r],c=t.getNode(g),f=t.getNode(u),y=t.getDegree(g),v=t.getDegree(u);if(s&&(y<=1||v<=1))continue;let m=[f.data.x-c.data.x,f.data.y-c.data.y],p=Math.hypot(m[0],m[1]);p=p<1e-4?1e-4:p,m[0]=m[0]/p,m[1]=m[1]/p,o&&e<a&&(p=p-i[g]-i[u]);let x=p,E=x;"linlog"===l&&(E=x=Math.log(1+p)),n&&(x=p/y,E=p/v),o&&e<a&&p<=0?(x=0,E=0):o&&e<a&&p>0&&(x=p,E=p),d[g][0]+=x*m[0],d[u][0]-=E*m[0],d[g][1]+=x*m[1],d[u][1]-=E*m[1]}return d}getOptRepGraForces(t,e,a,i){let{kg:d,center:r,prune:o}=i,n=t.getAllNodes(),l=n.length,s=9e10,u=-9e10,c=9e10,f=-9e10;for(let e=0;e<l;e+=1){let{id:i,data:d}=n[e];!(o&&1>=t.getDegree(i))&&(a[i].setPos(d.x,d.y),d.x>=u&&(u=d.x),d.x<=s&&(s=d.x),d.y>=f&&(f=d.y),d.y<=c&&(c=d.y))}let y=Math.max(u-s,f-c),v={xmid:(u+s)/2,ymid:(f+c)/2,length:y,massCenter:r,mass:l},m=new h(v),p=new g(m);for(let e=0;e<l;e+=1){let{id:i}=n[e];!(o&&1>=t.getDegree(i))&&a[i].in(m)&&p.insert(a[i])}for(let i=0;i<l;i+=1){let{id:l,data:s}=n[i],h=t.getDegree(l);if(o&&h<=1)continue;a[l].resetForce(),p.updateForce(a[l]),e[l][0]-=a[l].fx,e[l][1]-=a[l].fy;let g=[s.x-r[0],s.y-r[1]],u=Math.hypot(g[0],g[1]);u=u<1e-4?1e-4:u,g[0]=g[0]/u,g[1]=g[1]/u;let c=d*(h+1);e[l][0]-=c*g[0],e[l][1]-=c*g[1]}return e}getRepGraForces(t,e,a,i,d,r,o){let{preventOverlap:n,kr:l,kg:s,center:h,prune:g}=o,u=t.getAllNodes(),c=u.length;for(let o=0;o<c;o+=1){let f=u[o],y=t.getDegree(f.id);for(let s=o+1;s<c;s+=1){let o=u[s],h=t.getDegree(o.id);if(g&&(y<=1||h<=1))continue;let c=[o.data.x-f.data.x,o.data.y-f.data.y],v=Math.hypot(c[0],c[1]);v=v<1e-4?1e-4:v,c[0]=c[0]/v,c[1]=c[1]/v,n&&e<a&&(v=v-r[f.id]-r[o.id]);let m=l*(y+1)*(h+1)/v;n&&e<a&&v<0?m=d*(y+1)*(h+1):n&&e<a&&0===v?m=0:n&&e<a&&v>0&&(m=l*(y+1)*(h+1)/v),i[f.id][0]-=m*c[0],i[o.id][0]+=m*c[0],i[f.id][1]-=m*c[1],i[o.id][1]+=m*c[1]}let v=[f.data.x-h[0],f.data.y-h[1]],m=Math.hypot(v[0],v[1]);v[0]=v[0]/m,v[1]=v[1]/m;let p=s*(y+1);i[f.id][0]-=p*v[0],i[f.id][1]-=p*v[1]}return i}updatePos(t,e,a,i,d){let{ks:o,tao:n,prune:l,ksmax:s}=d,h=t.getAllNodes(),g=h.length,u=[],c=[],f=0,y=0,v=i;for(let i=0;i<g;i+=1){let{id:d}=h[i],r=t.getDegree(d);if(l&&r<=1)continue;let o=[e[d][0]-a[d][0],e[d][1]-a[d][1]],n=Math.hypot(o[0],o[1]),s=[e[d][0]+a[d][0],e[d][1]+a[d][1]],g=Math.hypot(s[0],s[1]);u[i]=n,c[i]=g/2,f+=(r+1)*u[i],y+=(r+1)*c[i]}let m=v;v=n*y/f,0!==m&&(v=v>1.5*m?1.5*m:v);for(let a=0;a<g;a+=1){let{id:i,data:d}=h[a],n=t.getDegree(i);if(l&&n<=1||(0,r.Z)(d.fx)&&(0,r.Z)(d.fy))continue;let g=o*v/(1+v*Math.sqrt(u[a])),c=Math.hypot(e[i][0],e[i][1]);c=c<1e-4?1e-4:c;let f=s/c;g=g>f?f:g;let y=g*e[i][0],m=g*e[i][1];t.mergeNodeData(i,{x:d.x+y,y:d.y+m})}return v}}},87355:function(t,e,a){a.d(e,{y:function(){return u}});var i=a(15767),d=a(16754),r=a(22355),o=a(80296),n=a(76265),l=a(66745);function s(t){let e=0,a=0,i=0,d=0,r=0,o=t.length;if(o){for(let n=0;n<o;n++){let o=t[n];o&&o.weight&&(e+=o.weight,a+=o.x*o.weight,i+=o.y*o.weight,d+=o.z*o.weight,r+=o.size*o.weight)}t.x=a/e,t.y=i/e,t.z=d/e,t.size=r/e,t.weight=e}else t.x=t.data.x,t.y=t.data.y,t.z=t.data.z,t.size=t.data.size,t.weight=t.data.weight}let h=(t,e,a,i,d,r,o)=>{var n;if((null===(n=t.data)||void 0===n?void 0:n.id)===r.id)return;let l=[a,i,d][o-1],s=r.x-t.x||.1,h=r.y-t.y||.1,g=r.z-t.z||.1,u=[s,h,g],c=l-e,f=0;for(let t=0;t<o;t++)f+=u[t]*u[t];let y=Math.sqrt(f),v=y*f;if(c*c*.81<f){let e=t.weight/v;return r.vx+=s*e,r.vy+=h*e,r.vz+=g*e,!0}if(t.length)return!1;if(t.data!==r){let e=t.data.weight/v;r.vx+=s*e,r.vy+=h*e,r.vz+=g*e}},g={dimensions:2,maxIteration:500,gravity:10,factor:1,edgeStrength:50,nodeStrength:1e3,coulombDisScale:.005,damping:.9,maxSpeed:200,minMovement:.4,interval:.02,linkDistance:200,clusterNodeStrength:20,preventOverlap:!0,distanceThresholdMode:"mean"};class u{constructor(t={}){this.options=t,this.id="force",this.timeInterval=0,this.judgingDistance=0,this.running=!1,this.options=Object.assign(Object.assign({},g),t)}execute(t,e){return(0,i.mG)(this,void 0,void 0,function*(){return this.genericForceLayout(!1,t,e)})}assign(t,e){return(0,i.mG)(this,void 0,void 0,function*(){yield this.genericForceLayout(!0,t,e)})}stop(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval),this.running=!1}tick(t=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let e=0;(this.judgingDistance>this.lastOptions.minMovement||e<1)&&e<t;e++)this.runOneStep(this.lastCalcGraph,this.lastGraph,e,this.lastVelMap,this.lastOptions),this.updatePosition(this.lastGraph,this.lastCalcGraph,this.lastVelMap,this.lastOptions);let e={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&e.nodes.forEach(t=>this.lastGraph.mergeNodeData(t.id,{x:t.data.x,y:t.data.y,z:3===this.options.dimensions?t.data.z:void 0})),e}genericForceLayout(t,e,a){return(0,i.mG)(this,void 0,void 0,function*(){let i=Object.assign(Object.assign({},this.options),a),o=e.getAllNodes(),n=e.getAllEdges(),l=this.formatOptions(i,e),{dimensions:s,width:h,height:g,nodeSize:u,getMass:c,nodeStrength:f,edgeStrength:y,linkDistance:v}=l,p=o.map((t,e)=>Object.assign(Object.assign({},t),{data:Object.assign(Object.assign({},t.data),{x:(0,r.Z)(t.data.x)?t.data.x:Math.random()*h,y:(0,r.Z)(t.data.y)?t.data.y:Math.random()*g,z:(0,r.Z)(t.data.z)?t.data.z:Math.random()*Math.sqrt(h*g),size:u(t)||30,mass:c(t),nodeStrength:f(t)})})),x=n.map(t=>Object.assign(Object.assign({},t),{data:Object.assign(Object.assign({},t.data),{edgeStrength:y(t),linkDistance:v(t,e.getNode(t.source),e.getNode(t.target))})}));if(!(null==o?void 0:o.length))return this.lastResult={nodes:[],edges:n},{nodes:[],edges:n};let E={};o.forEach((t,e)=>{E[t.id]={x:0,y:0,z:0}});let N=new d.k({nodes:p,edges:x});this.formatCentripetal(l,N);let{maxIteration:w,minMovement:b,onTick:O}=l;if(this.lastLayoutNodes=p,this.lastLayoutEdges=x,this.lastAssign=t,this.lastGraph=e,this.lastCalcGraph=N,this.lastOptions=l,this.lastVelMap=E,"undefined"==typeof window)return;let M=0;return new Promise(a=>{this.timeInterval=window.setInterval(()=>{o&&this.running||a({nodes:m(e,p),edges:n}),this.runOneStep(N,e,M,E,l),this.updatePosition(e,N,E,l),t&&p.forEach(t=>e.mergeNodeData(t.id,{x:t.data.x,y:t.data.y,z:3===s?t.data.z:void 0})),null==O||O({nodes:m(e,p),edges:n}),(++M>=w||this.judgingDistance<b)&&(window.clearInterval(this.timeInterval),a({nodes:m(e,p),edges:n}))},0),this.running=!0})})}formatOptions(t,e){let a=Object.assign({},t),{width:i,height:d,getMass:n}=t;a.width=i||"undefined"==typeof window?i:window.innerWidth,a.height=d||"undefined"==typeof window?d:window.innerHeight,t.center||(a.center=[a.width/2,a.height/2]),n||(a.getMass=t=>{let a=1;(0,r.Z)(null==t?void 0:t.data.mass)&&(a=null==t?void 0:t.data.mass);let i=e.getDegree(t.id,"both");return!i||i<5?a:5*i*a}),a.nodeSize=(0,o.uE)(t.nodeSize,t.nodeSpacing);let l=t.linkDistance?(0,o.jE)(1,t.linkDistance):t=>1+a.nodeSize(e.getNode(t.source))+a.nodeSize(e.getNode(t.target));return a.linkDistance=l,a.nodeStrength=(0,o.jE)(1,t.nodeStrength),a.edgeStrength=(0,o.jE)(1,t.edgeStrength),a}formatCentripetal(t,e){let a,i;let{dimensions:d,centripetalOptions:r,center:o,clusterNodeStrength:n,leafCluster:l,clustering:s,nodeClusterBy:h}=t,g=e.getAllNodes(),u=r||{leaf:2,single:2,others:1,center:t=>({x:o[0],y:o[1],z:3===d?o[2]:void 0})};if("function"!=typeof n&&(t.clusterNodeStrength=t=>n),l&&h&&(a=c(e,h),i=Array.from(new Set(null==g?void 0:g.map(t=>t.data[h])))||[],t.centripetalOptions=Object.assign(u,{single:100,leaf:e=>{let{siblingLeaves:d,sameTypeLeaves:r}=a[e.id]||{};return(null==r?void 0:r.length)===(null==d?void 0:d.length)||(null==i?void 0:i.length)===1?1:t.clusterNodeStrength(e)},others:1,center:t=>{let i;let d=e.getDegree(t.id,"both");if(!d)return{x:100,y:100,z:0};if(1===d){let{sameTypeLeaves:e=[]}=a[t.id]||{};1===e.length?i=void 0:e.length>1&&(i=v(e))}else i=void 0;return{x:null==i?void 0:i.x,y:null==i?void 0:i.y,z:null==i?void 0:i.z}}})),s&&h){a||(a=c(e,h)),i||(i=Array.from(new Set(g.map(t=>t.data[h])))),i=i.filter(t=>void 0!==t);let d={};i.forEach(t=>{let a=g.filter(e=>e.data[h]===t).map(t=>e.getNode(t.id));d[t]=v(a)}),t.centripetalOptions=Object.assign(u,{single:e=>t.clusterNodeStrength(e),leaf:e=>t.clusterNodeStrength(e),others:e=>t.clusterNodeStrength(e),center:t=>{let e=d[t.data[h]];return{x:null==e?void 0:e.x,y:null==e?void 0:e.y,z:null==e?void 0:e.z}}})}let{leaf:f,single:y,others:m}=t.centripetalOptions||{};f&&"function"!=typeof f&&(t.centripetalOptions.leaf=()=>f),y&&"function"!=typeof y&&(t.centripetalOptions.single=()=>y),m&&"function"!=typeof m&&(t.centripetalOptions.others=()=>m)}runOneStep(t,e,a,i,d){let r={},o=t.getAllNodes(),n=t.getAllEdges();if(!(null==o?void 0:o.length))return;let{monitor:l}=d;if(this.calRepulsive(t,r,d),n&&this.calAttractive(t,r,d),this.calGravity(t,e,r,d),this.updateVelocity(t,r,i,d),l){let t=this.calTotalEnergy(r,o);l({energy:t,nodes:e.getAllNodes(),edges:e.getAllEdges(),iterations:a})}}calTotalEnergy(t,e){if(!(null==e?void 0:e.length))return 0;let a=0;return e.forEach((e,i)=>{let d=t[e.id].x,r=t[e.id].y,o=3===this.options.dimensions?t[e.id].z:0,{mass:n=1}=e.data;a+=n*(d*d+r*r+o*o)*.5}),a}calRepulsive(t,e,a){let{dimensions:i,factor:d,coulombDisScale:r}=a;!function(t,e,a,i,d=2){let r=e/a,o=t.getAllNodes(),g=o.map((t,e)=>{let{nodeStrength:a,x:i,y:d,z:o,size:n}=t.data;return{x:i,y:d,z:o,size:n,index:e,id:t.id,vx:0,vy:0,vz:0,weight:r*a}}),u=(2===d?(0,n.Z)(g,t=>t.x,t=>t.y):(0,l.Z)(g,t=>t.x,t=>t.y,t=>t.z)).visitAfter(s),c=new Map;g.forEach(t=>{c.set(t.id,t),function(t,e,a){e.visit((e,i,d,r,o)=>h(e,i,d,r,o,t,a))}(t,u,d)}),g.map((t,e)=>{let{id:a,data:d}=o[e],{mass:r=1}=d;i[a]={x:t.vx/r,y:t.vy/r,z:t.vz/r}})}(t,d,r*r,e,i)}calAttractive(t,e,a){let{dimensions:i,nodeSize:d}=a;t.getAllEdges().forEach((a,r)=>{let{source:o,target:n}=a,l=t.getNode(o),s=t.getNode(n);if(!l||!s)return;let h=s.data.x-l.data.x,g=s.data.y-l.data.y,u=3===i?s.data.z-l.data.z:0;h||g||(h=.01*Math.random(),g=.01*Math.random(),3!==i||u||(u=.01*Math.random()));let c=Math.sqrt(h*h+g*g+u*u);if(c<d(l)+d(s))return;let f=h/c,y=g/c,v=u/c,{linkDistance:m=200,edgeStrength:p=200}=a.data||{},x=(m-c)*p,E=l.data.mass||1,N=s.data.mass||1,w=1/E,b=1/N,O=f*x,M=y*x,A=v*x;e[o].x-=O*w,e[o].y-=M*w,e[o].z-=A*w,e[n].x+=O*b,e[n].y+=M*b,e[n].z+=A*b})}calGravity(t,e,a,i){let{getCenter:d}=i,o=t.getAllNodes(),n=e.getAllNodes(),l=e.getAllEdges(),{width:s,height:h,center:g,gravity:u,centripetalOptions:c}=i;o&&o.forEach(i=>{let{id:o,data:f}=i,{mass:y,x:v,y:m,z:p}=f,x=e.getNode(o),E=0,N=0,w=0,b=u,O=t.getDegree(o,"in"),M=t.getDegree(o,"out"),A=t.getDegree(o,"both"),k=null==d?void 0:d(x,A);if(k){let[t,e,a]=k;E=v-t,N=m-e,b=a}else E=v-g[0],N=m-g[1],w=p-g[2];if(b&&(a[o].x-=b*E/y,a[o].y-=b*N/y,a[o].z-=b*w/y),c){let{leaf:t,single:e,others:i,center:d}=c,{x:g,y:u,z:f,centerStrength:E}=(null==d?void 0:d(x,n,l,s,h))||{x:0,y:0,z:0,centerStrength:0};if(!(0,r.Z)(g)||!(0,r.Z)(u))return;let N=(v-g)/y,w=(m-u)/y,b=(p-f)/y;if(E&&(a[o].x-=E*N,a[o].y-=E*w,a[o].z-=E*b),0===A){let t=e(x);if(!t)return;a[o].x-=t*N,a[o].y-=t*w,a[o].z-=t*b;return}if(0===O||0===M){let e=t(x,n,l);if(!e)return;a[o].x-=e*N,a[o].y-=e*w,a[o].z-=e*b;return}let k=i(x);if(!k)return;a[o].x-=k*N,a[o].y-=k*w,a[o].z-=k*b}})}updateVelocity(t,e,a,i){let{damping:d,maxSpeed:r,interval:o,dimensions:n}=i,l=t.getAllNodes();(null==l?void 0:l.length)&&l.forEach(t=>{let{id:i}=t,l=(a[i].x+e[i].x*o)*d||.01,s=(a[i].y+e[i].y*o)*d||.01,h=3===n?(a[i].z+e[i].z*o)*d||.01:0,g=Math.sqrt(l*l+s*s+h*h);if(g>r){let t=r/g;l*=t,s*=t,h*=t}a[i]={x:l,y:s,z:h}})}updatePosition(t,e,a,i){let{distanceThresholdMode:d,interval:o,dimensions:n}=i,l=e.getAllNodes();if(!(null==l?void 0:l.length)){this.judgingDistance=0;return}let s=0;"max"===d?this.judgingDistance=-1/0:"min"===d&&(this.judgingDistance=1/0),l.forEach(i=>{let{id:l}=i,h=t.getNode(l);if((0,r.Z)(h.data.fx)&&(0,r.Z)(h.data.fy)){e.mergeNodeData(l,{x:h.data.fx,y:h.data.fy,z:3===n?h.data.fz:void 0});return}let g=a[l].x*o,u=a[l].y*o,c=3===n?a[l].z*o:0;e.mergeNodeData(l,{x:i.data.x+g,y:i.data.y+u,z:i.data.z+c});let f=Math.sqrt(g*g+u*u+c*c);switch(d){case"max":this.judgingDistance<f&&(this.judgingDistance=f);break;case"min":this.judgingDistance>f&&(this.judgingDistance=f);break;default:s+=f}}),d&&"mean"!==d||(this.judgingDistance=s/l.length)}}let c=(t,e)=>{let a=t.getAllNodes();if(!(null==a?void 0:a.length))return{};let i={};return a.forEach((a,d)=>{let r=t.getDegree(a.id,"both");1===r&&(i[a.id]=f(t,"leaf",a,e))}),i},f=(t,e,a,i)=>{let d=t.getDegree(a.id,"in"),r=t.getDegree(a.id,"out"),o=a,n=[];0===d?(o=t.getSuccessors(a.id)[0],n=t.getNeighbors(o.id)):0===r&&(o=t.getPredecessors(a.id)[0],n=t.getNeighbors(o.id)),n=n.filter(e=>0===t.getDegree(e.id,"in")||0===t.getDegree(e.id,"out"));let l=y(t,e,i,a,n);return{coreNode:o,siblingLeaves:n,sameTypeLeaves:l}},y=(t,e,a,i,d)=>{let r=i.data[a]||"",o=(null==d?void 0:d.filter(t=>t.data[a]===r))||[];return"leaf"===e&&(o=o.filter(e=>0===t.getDegree(e.id,"in")||0===t.getDegree(e.id,"out"))),o},v=t=>{let e={x:0,y:0};t.forEach(t=>{let{x:a,y:i}=t.data;e.x+=a||0,e.y+=i||0});let a=t.length||1;return{x:e.x/a,y:e.y/a}},m=(t,e)=>e.map(e=>{let{id:a,data:i}=e,d=t.getNode(a);return Object.assign(Object.assign({},d),{data:Object.assign(Object.assign({},d.data),{x:i.x,y:i.y,z:i.z})})})},79166:function(t,e,a){a.d(e,{O:function(){return l}});var i=a(15767),d=a(16754),r=a(22355),o=a(95513);let n={maxIteration:1e3,gravity:10,speed:5,clustering:!1,clusterGravity:10,width:300,height:300,nodeClusterBy:"cluster"};class l{constructor(t={}){this.options=t,this.id="fruchterman",this.timeInterval=0,this.running=!1,this.options=Object.assign(Object.assign({},n),t)}execute(t,e){return(0,i.mG)(this,void 0,void 0,function*(){return this.genericFruchtermanLayout(!1,t,e)})}assign(t,e){return(0,i.mG)(this,void 0,void 0,function*(){yield this.genericFruchtermanLayout(!0,t,e)})}stop(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval),this.running=!1}tick(t=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let e=0;e<t;e++)this.runOneStep(this.lastGraph,this.lastClusterMap,this.lastOptions);let e={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&e.nodes.forEach(t=>this.lastGraph.mergeNodeData(t.id,{x:t.data.x,y:t.data.y,z:3===this.options.dimensions?t.data.z:void 0})),e}genericFruchtermanLayout(t,e,a){return(0,i.mG)(this,void 0,void 0,function*(){if(this.running)return;let i=this.formatOptions(a),{dimensions:r,width:n,height:l,center:s,clustering:h,nodeClusterBy:g,maxIteration:u,onTick:c}=i,f=e.getAllNodes(),y=e.getAllEdges();if(!(null==f?void 0:f.length)){let t={nodes:[],edges:y};return this.lastResult=t,t}if(1===f.length){t&&e.mergeNodeData(f[0].id,{x:s[0],y:s[1],z:3===r?s[2]:void 0});let a={nodes:[Object.assign(Object.assign({},f[0]),{data:Object.assign(Object.assign({},f[0].data),{x:s[0],y:s[1],z:3===r?s[2]:void 0})})],edges:y};return this.lastResult=a,a}let v=f.map(t=>(0,o.u)(t,[n,l])),m=new d.k({nodes:v,edges:y}),p={};if(h&&v.forEach(t=>{let e=t.data[g];p[e]||(p[e]={name:e,cx:0,cy:0,count:0})}),this.lastLayoutNodes=v,this.lastLayoutEdges=y,this.lastAssign=t,this.lastGraph=m,this.lastOptions=i,this.lastClusterMap=p,"undefined"==typeof window)return;let x=0;return new Promise(a=>{this.timeInterval=window.setInterval(()=>{if(!this.running){a({nodes:v,edges:y});return}this.runOneStep(m,p,i),t&&v.forEach(({id:t,data:a})=>e.mergeNodeData(t,{x:a.x,y:a.y,z:3===r?a.z:void 0})),null==c||c({nodes:v,edges:y}),++x>=u&&(window.clearInterval(this.timeInterval),a({nodes:v,edges:y}))},0),this.running=!0})})}formatOptions(t={}){let e=Object.assign(Object.assign({},this.options),t),{clustering:a,nodeClusterBy:i}=e,{center:d,width:r,height:o}=e;return e.width=r||"undefined"==typeof window?r:window.innerWidth,e.height=o||"undefined"==typeof window?o:window.innerHeight,e.center=d||[e.width/2,e.height/2],e.clustering=a&&!!i,e}runOneStep(t,e,a){let{dimensions:i,height:d,width:o,gravity:n,center:l,speed:s,clustering:h,nodeClusterBy:g,clusterGravity:u}=a,c=d*o,f=Math.sqrt(c)/10,y=t.getAllNodes(),v=c/(y.length+1),m=Math.sqrt(v),p={};if(this.applyCalculate(t,p,m,v),h){for(let t in e)e[t].cx=0,e[t].cy=0,e[t].count=0;for(let t in y.forEach(t=>{let{data:a}=t,i=e[a[g]];(0,r.Z)(a.x)&&(i.cx+=a.x),(0,r.Z)(a.y)&&(i.cy+=a.y),i.count++}),e)e[t].cx/=e[t].count,e[t].cy/=e[t].count;let t=u||n;y.forEach((a,i)=>{let{id:d,data:o}=a;if(!(0,r.Z)(o.x)||!(0,r.Z)(o.y))return;let n=e[o[g]],l=Math.sqrt((o.x-n.cx)*(o.x-n.cx)+(o.y-n.cy)*(o.y-n.cy)),s=m*t;p[d].x-=s*(o.x-n.cx)/l,p[d].y-=s*(o.y-n.cy)/l})}y.forEach((t,e)=>{let{id:a,data:d}=t;if(!(0,r.Z)(d.x)||!(0,r.Z)(d.y))return;let o=.01*m*n;p[a].x-=o*(d.x-l[0]),p[a].y-=o*(d.y-l[1]),3===i&&(p[a].z-=o*(d.z-l[2]))}),y.forEach((e,a)=>{let{id:d,data:o}=e;if((0,r.Z)(o.fx)&&(0,r.Z)(o.fy)){o.x=o.fx,o.y=o.fy,3===i&&(o.z=o.fz);return}if(!(0,r.Z)(o.x)||!(0,r.Z)(o.y))return;let n=Math.sqrt(p[d].x*p[d].x+p[d].y*p[d].y+(3===i?p[d].z*p[d].z:0));if(n>0){let e=Math.min(f*(s/800),n);t.mergeNodeData(d,{x:o.x+p[d].x/n*e,y:o.y+p[d].y/n*e,z:3===i?o.z+p[d].z/n*e:void 0})}})}applyCalculate(t,e,a,i){this.calRepulsive(t,e,i),this.calAttractive(t,e,a)}calRepulsive(t,e,a){let i=t.getAllNodes();i.forEach(({data:t,id:d},o)=>{e[d]={x:0,y:0,z:0},i.forEach(({data:i,id:n},l)=>{if(o<=l||!(0,r.Z)(t.x)||!(0,r.Z)(i.x)||!(0,r.Z)(t.y)||!(0,r.Z)(i.y))return;let s=t.x-i.x,h=t.y-i.y,g=3===this.options.dimensions?t.z-i.z:0,u=s*s+h*h+g*g;0===u&&(u=1,s=.01,h=.01,g=.01);let c=a/u,f=s*c,y=h*c,v=g*c;e[d].x+=f,e[d].y+=y,e[n].x-=f,e[n].y-=y,3===this.options.dimensions&&(e[d].z+=v,e[n].z-=v)})})}calAttractive(t,e,a){let i=t.getAllEdges();i.forEach(i=>{let{source:d,target:o}=i;if(!d||!o||d===o)return;let{data:n}=t.getNode(d),{data:l}=t.getNode(o);if(!(0,r.Z)(l.x)||!(0,r.Z)(n.x)||!(0,r.Z)(l.y)||!(0,r.Z)(n.y))return;let s=l.x-n.x,h=l.y-n.y,g=3===this.options.dimensions?l.z-n.z:0,u=Math.sqrt(s*s+h*h+g*g)/a,c=s*u,f=h*u,y=g*u;e[d].x+=c,e[d].y+=f,e[o].x-=c,e[o].y-=f,3===this.options.dimensions&&(e[d].z+=y,e[o].z-=y)})}}},66856:function(t,e,a){a.d(e,{M:function(){return g}});var i=a(15767),d=a(43706),r=a(22355),o=a(95513),n=a(80296),l=a(85248),s=a(84293);let h={begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30,width:300,height:300};class g{constructor(t={}){this.options=t,this.id="grid",this.options=Object.assign(Object.assign({},h),t)}execute(t,e){return(0,i.mG)(this,void 0,void 0,function*(){return this.genericGridLayout(!1,t,e)})}assign(t,e){return(0,i.mG)(this,void 0,void 0,function*(){yield this.genericGridLayout(!0,t,e)})}genericGridLayout(t,e,a){return(0,i.mG)(this,void 0,void 0,function*(){let i=Object.assign(Object.assign({},this.options),a),{begin:h=[0,0],condense:g,preventOverlapPadding:v,preventOverlap:p,rows:x,cols:E,nodeSpacing:N,nodeSize:w,width:b,height:O,position:M}=i,{sortBy:A}=i,k=e.getAllNodes(),j=e.getAllEdges(),z=null==k?void 0:k.length;if(!z||1===z)return(0,l.P)(e,t,h);let S=k.map(t=>(0,o.u)(t));"id"===A||(0,d.Z)(A)&&void 0!==S[0].data[A]||(A="degree"),"degree"===A?S.sort((t,a)=>e.getDegree(a.id,"both")-e.getDegree(t.id,"both")):"id"===A?S.sort((t,e)=>(0,r.Z)(e.id)&&(0,r.Z)(t.id)?e.id-t.id:`${t.id}`.localeCompare(`${e.id}`)):S.sort((t,e)=>e.data[A]-t.data[A]);let D=b||"undefined"==typeof window?b:window.innerWidth,R=O||"undefined"==typeof window?O:window.innerHeight,P={rows:x,cols:E};if(null!=x&&null!=E)P.rows=x,P.cols=E;else if(null!=x&&null==E)P.rows=x,P.cols=Math.ceil(z/P.rows);else if(null==x&&null!=E)P.cols=E,P.rows=Math.ceil(z/P.cols);else{let t=Math.sqrt(z*R/D);P.rows=Math.round(t),P.cols=Math.round(D/R*t)}if(P.rows=Math.max(P.rows,1),P.cols=Math.max(P.cols,1),P.cols*P.rows>z){let t=u(P),e=c(P);(t-1)*e>=z?u(P,t-1):(e-1)*t>=z&&c(P,e-1)}else for(;P.cols*P.rows<z;){let t=u(P),e=c(P);(e+1)*t>=z?c(P,e+1):u(P,t+1)}let Z=g?0:D/P.cols,L=g?0:R/P.rows;if(p||N){let t=(0,n.jE)(10,N),a=(0,n.tO)(30,w,!1);S.forEach(i=>{i.data.x&&i.data.y||(i.data.x=0,i.data.y=0);let d=e.getNode(i.id),[r,o]=(0,s._)(a(d)||30),n=void 0!==t?t(i):v;Z=Math.max(Z,r+n),L=Math.max(L,o+n)})}let I={},G={row:0,col:0},C={};for(let t=0;t<S.length;t++){let a;let i=S[t];if(M&&(a=M(e.getNode(i.id))),a&&(void 0!==a.row||void 0!==a.col)){let t={row:a.row,col:a.col};if(void 0===t.col)for(t.col=0;f(I,t);)t.col++;else if(void 0===t.row)for(t.row=0;f(I,t);)t.row++;C[i.id]=t,y(I,t)}m(i,h,Z,L,C,P,G,I)}return t&&S.forEach(t=>{e.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})}),{nodes:S,edges:j}})}}let u=(t,e)=>{let a;let i=t.rows||5,d=t.cols||5;return null==e?a=Math.min(i,d):Math.min(i,d)===t.rows?t.rows=e:t.cols=e,a},c=(t,e)=>{let a;let i=t.rows||5,d=t.cols||5;return null==e?a=Math.max(i,d):Math.max(i,d)===t.rows?t.rows=e:t.cols=e,a},f=(t,e)=>t[`c-${e.row}-${e.col}`]||!1,y=(t,e)=>t[`c-${e.row}-${e.col}`]=!0,v=(t,e)=>{let a=t.cols||5;e.col++,e.col>=a&&(e.col=0,e.row++)},m=(t,e,a,i,d,r,o,n)=>{let l,s;let h=d[t.id];if(h)l=h.col*a+a/2+e[0],s=h.row*i+i/2+e[1];else{for(;f(n,o);)v(r,o);l=o.col*a+a/2+e[0],s=o.row*i+i/2+e[1],y(n,o),v(r,o)}t.data.x=l,t.data.y=s}},61711:function(t,e,a){a.d(e,{A:function(){return s}});var i=a(15767),d=a(67488),r=a(64963),o=a(95513),n=a(85248);let l={center:[0,0],linkDistance:50};class s{constructor(t={}){this.options=t,this.id="mds",this.options=Object.assign(Object.assign({},l),t)}execute(t,e){return(0,i.mG)(this,void 0,void 0,function*(){return this.genericMDSLayout(!1,t,e)})}assign(t,e){return(0,i.mG)(this,void 0,void 0,function*(){yield this.genericMDSLayout(!0,t,e)})}genericMDSLayout(t,e,a){return(0,i.mG)(this,void 0,void 0,function*(){let i=Object.assign(Object.assign({},this.options),a),{center:d=[0,0],linkDistance:l=50}=i,s=e.getAllNodes(),u=e.getAllEdges();if(!(null==s?void 0:s.length)||1===s.length)return(0,n.P)(e,t,d);let c=(0,r.zJ)({nodes:s,edges:u},!1),f=(0,r.qs)(c);h(f);let y=(0,r.nu)(f,l),v=g(y),m=[];return v.forEach((t,e)=>{let a=(0,o.u)(s[e]);a.data.x=t[0]+d[0],a.data.y=t[1]+d[1],m.push(a)}),t&&m.forEach(t=>e.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})),{nodes:m,edges:u}})}}let h=t=>{let e=-999999;t.forEach(t=>{t.forEach(t=>{t!==1/0&&e<t&&(e=t)})}),t.forEach((a,i)=>{a.forEach((a,d)=>{a===1/0&&(t[i][d]=e)})})},g=t=>{let e=d.y3.mul(d.y3.pow(t,2),-.5),a=e.mean("row"),i=e.mean("column"),r=e.mean();e.add(r).subRowVector(a).subColumnVector(i);let o=new d.Sc(e),n=d.y3.sqrt(o.diagonalMatrix).diagonal();return o.leftSingularVectors.toJSON().map(t=>d.y3.mul([t],[n]).toJSON()[0].splice(0,2))}},68065:function(t,e,a){a.d(e,{D:function(){return v}});var i=a(15767),d=a(43706),r=a(64963),o=a(80296),n=a(95513),l=a(85248),s=a(67488);let h=(t,e,a)=>{try{let a=s.y3.mul(s.y3.pow(e,2),-.5),i=a.mean("row"),d=a.mean("column"),r=a.mean();a.add(r).subRowVector(i).subColumnVector(d);let o=new s.Sc(a),n=s.y3.sqrt(o.diagonalMatrix).diagonal();return o.leftSingularVectors.toJSON().map(e=>s.y3.mul([e],[n]).toJSON()[0].splice(0,t))}catch(i){let t=[];for(let i=0;i<e.length;i++){let e=Math.random()*a,i=Math.random()*a;t.push([e,i])}return t}},g={iterations:10,height:10,width:10,speed:100,gravity:10,k:5},u=(t,e)=>{let a=Object.assign(Object.assign({},g),e),{positions:i,iterations:d,width:r,k:o,speed:n=100,strictRadial:l,focusIdx:s,radii:h=[],nodeSizeFunc:u}=a,y=t.getAllNodes(),v=[],m=r/10;for(let t=0;t<d;t++)i.forEach((t,e)=>{v[e]={x:0,y:0}}),c(y,i,v,o,h,u),f(i,v,n,l,s,m,r,h);return i},c=(t,e,a,i,d,r)=>{e.forEach((o,n)=>{a[n]={x:0,y:0},e.forEach((e,l)=>{if(n===l||d[n]!==d[l])return;let s=o.x-e.x,h=o.y-e.y,g=Math.sqrt(s*s+h*h);if(0===g){g=1;let t=n>l?1:-1;s=.01*t,h=.01*t}if(g<r(t[n])/2+r(t[l])/2){let t=i*i/g;a[n].x+=s/g*t,a[n].y+=h/g*t}})})},f=(t,e,a,i,d,r,o,n)=>{let l=r||o/10;return i&&e.forEach((e,a)=>{let i=t[a].x-t[d].x,r=t[a].y-t[d].y,o=Math.sqrt(i*i+r*r),n=r/o,l=-i/o,s=Math.sqrt(e.x*e.x+e.y*e.y),h=Math.acos((n*e.x+l*e.y)/s);h>Math.PI/2&&(h-=Math.PI/2,n*=-1,l*=-1);let g=Math.cos(h)*s;e.x=n*g,e.y=l*g}),t.forEach((r,o)=>{if(o===d)return;let s=Math.sqrt(e[o].x*e[o].x+e[o].y*e[o].y);if(s>0&&o!==d){let h=Math.min(l*(a/800),s);if(r.x+=e[o].x/s*h,r.y+=e[o].y/s*h,i){let e=r.x-t[d].x,a=r.y-t[d].y,i=Math.sqrt(e*e+a*a);e=e/i*n[o],a=a/i*n[o],r.x=t[d].x+e,r.y=t[d].y+a}}}),t},y={maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,strictRadial:!0,maxPreventOverlapIteration:200,sortStrength:10};class v{constructor(t={}){this.options=t,this.id="radial",this.options=Object.assign(Object.assign({},y),t)}execute(t,e){return(0,i.mG)(this,void 0,void 0,function*(){return this.genericRadialLayout(!1,t,e)})}assign(t,e){return(0,i.mG)(this,void 0,void 0,function*(){yield this.genericRadialLayout(!0,t,e)})}genericRadialLayout(t,e,a){return(0,i.mG)(this,void 0,void 0,function*(){let i;let s=Object.assign(Object.assign({},this.options),a),{width:g,height:c,center:f,focusNode:y,unitRadius:v,nodeSize:w,nodeSpacing:b,strictRadial:O,preventOverlap:M,maxPreventOverlapIteration:A,sortBy:k,linkDistance:j=50,sortStrength:z=10,maxIteration:S=1e3}=s,D=e.getAllNodes(),R=e.getAllEdges(),P=g||"undefined"==typeof window?g:window.innerWidth,Z=c||"undefined"==typeof window?c:window.innerHeight,L=f||[P/2,Z/2];if(!(null==D?void 0:D.length)||1===D.length)return(0,l.P)(e,t,L);let I=D[0];if((0,d.Z)(y)){for(let t=0;t<D.length;t++)if(D[t].id===y){I=D[t];break}}else I=y||D[0];let G=x(D,I.id),C=(0,r.zJ)({nodes:D,edges:R},!1),q=(0,r.qs)(C),T=N(q,G);E(q,G,T+1);let _=q[G],F=P-L[0]>L[0]?L[0]:P-L[0],W=Z-L[1]>L[1]?L[1]:Z-L[1];0===F&&(F=P/2),0===W&&(W=Z/2);let $=Math.min(F,W),B=[],V=v||$/Math.max(..._);_.forEach((t,e)=>{B[e]=t*V});let H=m(D,q,j,B,V,k,z),J=p(H),Y=h(j,H,j),K=Y.map(([t,e])=>({x:(isNaN(t)?Math.random()*j:t)-Y[G][0],y:(isNaN(e)?Math.random()*j:e)-Y[G][1]}));if(this.run(S,K,J,H,B,G),M){i=(0,o.uE)(w,b);let t={nodes:D,nodeSizeFunc:i,positions:K,radii:B,height:Z,width:P,strictRadial:!!O,focusIdx:G,iterations:A||200,k:K.length/4.5};K=u(e,t)}let Q=[];return K.forEach((t,e)=>{let a=(0,n.u)(D[e]);a.data.x=t.x+L[0],a.data.y=t.y+L[1],Q.push(a)}),t&&Q.forEach(t=>e.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})),{nodes:Q,edges:R}})}run(t,e,a,i,d,r){for(let o=0;o<=t;o++){let n=o/t;this.oneIteration(n,e,d,i,a,r)}}oneIteration(t,e,a,i,d,o){let n=1-t;e.forEach((l,s)=>{let h=(0,r.$y)(l,{x:0,y:0}),g=0===h?0:1/h;if(s===o)return;let u=0,c=0,f=0;e.forEach((t,e)=>{if(s===e)return;let a=(0,r.$y)(l,t),o=0===a?0:1/a,n=i[e][s];f+=d[s][e],u+=d[s][e]*(t.x+n*(l.x-t.x)*o),c+=d[s][e]*(t.y+n*(l.y-t.y)*o)});let y=0===a[s]?0:1/a[s];f*=n,f+=t*y*y,u*=n,u+=t*y*l.x*g,l.x=u/f,c*=n,c+=t*y*l.y*g,l.y=c/f})}}let m=(t,e,a,i,r,o,n)=>{if(!t)return[];let l=[];if(e){let s={};e.forEach((e,h)=>{let g=[];e.forEach((e,l)=>{var u,c;if(h===l)g.push(0);else if(i[h]===i[l]){if("data"===o)g.push(e*(Math.abs(h-l)*n)/(i[h]/r));else if(o){let a,f;if(s[t[h].id])a=s[t[h].id];else{let e=("id"===o?t[h].id:null===(u=t[h].data)||void 0===u?void 0:u[o])||0;a=(0,d.Z)(e)?e.charCodeAt(0):e,s[t[h].id]=a}if(s[t[l].id])f=s[t[l].id];else{let e=("id"===o?t[l].id:null===(c=t[l].data)||void 0===c?void 0:c[o])||0;f=(0,d.Z)(e)?e.charCodeAt(0):e,s[t[l].id]=f}g.push(e*(Math.abs(a-f)*n)/(i[h]/r))}else g.push(e*a/(i[h]/r))}else{let t=(a+r)/2;g.push(e*t)}}),l.push(g)})}return l},p=t=>{let e=t.length,a=t[0].length,i=[];for(let d=0;d<e;d++){let e=[];for(let i=0;i<a;i++)0!==t[d][i]?e.push(1/(t[d][i]*t[d][i])):e.push(0);i.push(e)}return i},x=(t,e)=>{let a=-1;return t.forEach((t,i)=>{t.id===e&&(a=i)}),Math.max(a,0)},E=(t,e,a)=>{let i=t.length;for(let d=0;d<i;d++)if(t[e][d]===1/0){t[e][d]=a,t[d][e]=a;for(let r=0;r<i;r++)t[d][r]!==1/0&&t[e][r]===1/0&&(t[e][r]=a+t[d][r],t[r][e]=a+t[d][r])}for(let a=0;a<i;a++)if(a!==e){for(let d=0;d<i;d++)if(t[a][d]===1/0){let i=Math.abs(t[e][a]-t[e][d]);i=0===i?1:i,t[a][d]=i}}},N=(t,e)=>{let a=0;for(let i=0;i<t[e].length;i++)t[e][i]!==1/0&&(a=t[e][i]>a?t[e][i]:a);return a}},27947:function(t,e,a){a.d(e,{_:function(){return r}});var i=a(15767);let d={center:[0,0],width:300,height:300};class r{constructor(t={}){this.options=t,this.id="random",this.options=Object.assign(Object.assign({},d),t)}execute(t,e){return(0,i.mG)(this,void 0,void 0,function*(){return this.genericRandomLayout(!1,t,e)})}assign(t,e){return(0,i.mG)(this,void 0,void 0,function*(){yield this.genericRandomLayout(!0,t,e)})}genericRandomLayout(t,e,a){return(0,i.mG)(this,void 0,void 0,function*(){let i=Object.assign(Object.assign({},this.options),a),{center:d,width:r,height:o}=i,n=e.getAllNodes(),l=r||"undefined"==typeof window?r:window.innerWidth,s=o||"undefined"==typeof window?o:window.innerHeight,h=d||[l/2,s/2],g=[];n&&n.forEach(t=>{g.push({id:t.id,data:{x:(Math.random()-.5)*.9*l+h[0],y:(Math.random()-.5)*.9*s+h[1]}})}),t&&g.forEach(t=>e.mergeNodeData(t.id,{x:t.data.x,y:t.data.y}));let u={nodes:g,edges:e.getAllEdges()};return u})}}},9226:function(t,e,a){a.d(e,{h:function(){return i}});function i(t){return!!t.tick&&!!t.stop}},86011:function(t,e,a){a.d(e,{k:function(){return i}});let i=Array.isArray},85248:function(t,e,a){a.d(e,{P:function(){return i}});let i=(t,e,a)=>{let i=t.getAllNodes(),d=t.getAllEdges();if(!(null==i?void 0:i.length))return{nodes:[],edges:d};if(1===i.length){e&&t.mergeNodeData(i[0].id,{x:a[0],y:a[1]});let r={nodes:[Object.assign(Object.assign({},i[0]),{data:Object.assign(Object.assign({},i[0].data),{x:a[0],y:a[1]})})],edges:d};return r}}},80296:function(t,e,a){a.d(e,{jE:function(){return n},tO:function(){return l},uE:function(){return s}});var i=a(90079),d=a(22355),r=a(48758),o=a(84293);function n(t,e){return(0,i.Z)(e)?e:(0,d.Z)(e)?()=>e:()=>t}function l(t,e,a=!0){return e||0===e?(0,i.Z)(e)?e:(0,d.Z)(e)?()=>e:Array.isArray(e)?()=>a?Math.max(...e)||t:e:(0,r.Z)(e)&&e.width&&e.height?()=>a?Math.max(e.width,e.height)||t:[e.width,e.height]:()=>t:e=>{let{size:i}=e.data||{};return i?Array.isArray(i)?a?Math.max(...i)||t:i:(0,r.Z)(i)&&i.width&&i.height?a?Math.max(i.width,i.height)||t:[i.width,i.height]:i:t}}let s=(t,e,a=10)=>{let d;let n="function"==typeof e?e:()=>e||0;return d=t?Array.isArray(t)?e=>t:(0,i.Z)(t)?t:e=>t:t=>{var e,i,d;if(null===(e=t.data)||void 0===e?void 0:e.bboxSize)return null===(i=t.data)||void 0===i?void 0:i.bboxSize;if(null===(d=t.data)||void 0===d?void 0:d.size){let e=t.data.size;return Array.isArray(e)?e:(0,r.Z)(e)?[e.width,e.height]:e}return a},t=>{let e=d(t),a=n(t);return Math.max(...(0,o._)(e))+a}}},64963:function(t,e,a){a.d(e,{$y:function(){return s},H0:function(){return l},_:function(){return h},nu:function(){return n},qs:function(){return r},zJ:function(){return o}});var i=a(22355),d=a(86011);let r=t=>{let e=[],a=t.length;for(let i=0;i<a;i+=1){e[i]=[];for(let d=0;d<a;d+=1)i===d?e[i][d]=0:0!==t[i][d]&&t[i][d]?e[i][d]=t[i][d]:e[i][d]=1/0}for(let t=0;t<a;t+=1)for(let i=0;i<a;i+=1)for(let d=0;d<a;d+=1)e[i][d]>e[i][t]+e[t][d]&&(e[i][d]=e[i][t]+e[t][d]);return e},o=(t,e)=>{let{nodes:a,edges:i}=t,d=[],r={};if(!a)throw Error("invalid nodes data!");return a&&a.forEach((t,e)=>{r[t.id]=e,d.push([])}),null==i||i.forEach(t=>{let{source:a,target:i}=t,o=r[a],n=r[i];void 0===o||void 0===n||(d[o][n]=1,e||(d[n][o]=1))}),d},n=(t,e)=>{let a=[];return t.forEach(t=>{let i=[];t.forEach(t=>{i.push(t*e)}),a.push(i)}),a},l=t=>{let e=1/0,a=1/0,r=-1/0,o=-1/0;return t.forEach(t=>{let n=t.data.size;(0,d.k)(n)?1===n.length&&(n=[n[0],n[0]]):(0,i.Z)(n)?n=[n,n]:(void 0===n||isNaN(n))&&(n=[30,30]);let l=[n[0]/2,n[1]/2],s=t.data.x-l[0],h=t.data.x+l[0],g=t.data.y-l[1],u=t.data.y+l[1];e>s&&(e=s),a>g&&(a=g),r<h&&(r=h),o<u&&(o=u)}),{minX:e,minY:a,maxX:r,maxY:o}},s=(t,e)=>Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),h=(t,e,a,i="TB",d,r={})=>{if(!(null==e?void 0:e.length))return;let{stopBranchFn:o,stopAllFn:n}=r;for(let l=0;l<e.length;l++){let s=e[l];if(t.hasNode(s.id)&&(null==o||!o(s))){if(null==n?void 0:n(s))return;"TB"===i&&a(s),h(t,t.getChildren(s.id,d),a,i,d,r),"TB"!==i&&a(s)}}}},95513:function(t,e,a){a.d(e,{u:function(){return r}});var i=a(22355);let d=t=>{if(null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array){let e=[];return t.forEach(t=>{e.push(t)}),e.map(t=>d(t))}if("object"==typeof t){let e={};return Object.keys(t).forEach(a=>{e[a]=d(t[a])}),e}return t},r=(t,e)=>{let a=d(t);return a.data=a.data||{},e&&((0,i.Z)(a.data.x)||(a.data.x=Math.random()*e[0]),(0,i.Z)(a.data.y)||(a.data.y=Math.random()*e[1])),a}},84293:function(t,e,a){a.d(e,{_:function(){return d}});var i=a(22355);function d(t){if(!t)return[0,0,0];if((0,i.Z)(t))return[t,t,t];if(0===t.length)return[0,0,0];let[e,a=e,d=e]=t;return[e,a,d]}}}]);