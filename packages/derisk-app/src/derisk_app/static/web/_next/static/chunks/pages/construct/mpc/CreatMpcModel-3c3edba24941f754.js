(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1476],{34045:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/construct/mpc/CreatMpcModel",function(){return t(24751)}])},24751:function(e,l,t){"use strict";t.r(l);var s=t(52676),n=t(59864),a=t(16621),i=t(99113),u=t(54226),c=t(42673),r=t(41148),o=t(99879),d=t(72423),m=t(62601),p=t(75271),_=t(78490),f=t(89048);l.default=e=>{let{onSuccess:l,setFormData:t,formData:h}=e,{t:x}=(0,_.$G)(),[j,g]=(0,p.useState)(!1),[b,v]=(0,p.useState)(x("create_MCP")),[w]=u.Z.useForm();(0,p.useEffect)(()=>{h.name&&(w.setFieldsValue(h),v(x("edit_MCP")),g(!0))},[h]);let{loading:P,run:C}=(0,i.Z)(async e=>b===x("edit_MCP")?(e.mcp_code=h.mcp_code,await (0,n.Vx)((0,n.G_)(e))):await (0,n.Vx)((0,n.yg)(e)),{manual:!0,onSuccess:e=>{let[,,t]=e;(null==t?void 0:t.success)&&(b===x("edit_MCP")?c.ZP.success(x("Edit_Success")):c.ZP.success(x("Add_Success")),null==w||w.resetFields(),g(!1),null==l||l())},throttleWait:300});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.ZP,{className:"border-none text-white bg-button-gradient",icon:(0,s.jsx)(a.Z,{}),onClick:()=>{v(x("create_MCP")),g(!0)},children:x("create_MCP")}),(0,s.jsx)(o.default,{title:b,closable:{"aria-label":"Custom Close Button"},open:j,onOk:()=>{null==w||w.validateFields().then(async e=>{let l=localStorage.getItem("__db_gpt_uinfo_key");e.author=JSON.parse(l).nick_name,C(e)})},onCancel:()=>{g(!1),t({}),null==w||w.resetFields()},confirmLoading:P,children:(0,s.jsxs)(u.Z,{initialValues:{remember:!0},autoComplete:"off",layout:"vertical",form:w,children:[(0,s.jsx)(u.Z.Item,{label:x("mcp_name"),name:"name",rules:[{required:!0,message:"Please input your name!"}],children:(0,s.jsx)(d.default,{})}),(0,s.jsx)(u.Z.Item,{label:x("mcp_description"),name:"description",rules:[{message:"Please input your description!"}],children:(0,s.jsx)(d.default.TextArea,{})}),(0,s.jsx)(u.Z.Item,{label:x("mcp_type"),name:"type",rules:[{required:!0,message:"Please input your type!"}],children:(0,s.jsx)(m.default,{children:(0,s.jsx)(m.default.Option,{value:"http",children:"http"})})}),(0,s.jsx)(u.Z.Item,{label:"Mcp Url",name:"sse_url",rules:[{required:!0,message:"Please input Mcp Url!"}],children:(0,s.jsx)(d.default,{})}),(0,s.jsx)(u.Z.Item,{label:"Token",name:"token",children:(0,s.jsx)(d.default,{})}),(0,s.jsx)(u.Z.Item,{label:x("mcp_email"),name:"email",children:(0,s.jsx)(d.default,{})}),(0,s.jsx)(u.Z.Item,{label:x("mcp_icon"),name:"icon",getValueFromEvent:e=>{w.setFieldsValue({icon:e})},children:(0,s.jsx)(f.default,{})}),(0,s.jsx)(u.Z.Item,{label:x("mcp_stdio_cmd"),name:"stdio_cmd",children:(0,s.jsx)(d.default.TextArea,{})})]})})]})}},89048:function(e,l,t){"use strict";t.r(l);var s=t(52676);t(1641);var n=t(54426),a=t(41148),i=t(78490);l.default=e=>{let{value:l,onChange:t}=e,{t:u}=(0,i.$G)();return(0,s.jsxs)(n.default,{beforeUpload:()=>!1,onChange:e=>{var l;if((null==e?void 0:e.file)&&(null==e?void 0:null===(l=e.fileList)||void 0===l?void 0:l.length)){let l=new FileReader;l.readAsDataURL(e.file),l.onload=()=>{null==t||t(null==l?void 0:l.result)}}else null==t||t(null)},showUploadList:{showPreviewIcon:!0,showRemoveIcon:!0},maxCount:1,accept:".png,.jpg,.jpeg,.gif",onRemove:()=>{null==t||t(null)},className:"customUploadBox",children:[(0,s.jsxs)(a.ZP,{type:"dashed",className:"mb-2 w-full",children:[" ",u("upload_image")]}),l&&(0,s.jsx)("img",{src:l,alt:"preview",style:{width:100}})]})}},1641:function(){}},function(e){e.O(0,[1042,5867,2423,2601,4426,4226,1852,9774,2888,179],function(){return e(e.s=34045)}),_N_E=e.O()}]);