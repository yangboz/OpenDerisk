(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6864,6031,9658,1201,1487],{41978:function(e){"use strict";e.exports=function(){function e(e){var t,a,s=[];return e.AMapUI&&s.push((t=e.AMapUI,new Promise(function(e,a){var s=[];if(t.plugins)for(var l=0;l<t.plugins.length;l+=1)-1==r.AMapUI.plugins.indexOf(t.plugins[l])&&s.push(t.plugins[l]);if(i.AMapUI===n.failed)a("前次请求 AMapUI 失败");else if(i.AMapUI===n.notload){i.AMapUI=n.loading,r.AMapUI.version=t.version||r.AMapUI.version,l=r.AMapUI.version;var c=document.body||document.head,u=document.createElement("script");u.type="text/javascript",u.src="https://webapi.amap.com/ui/"+l+"/main.js",u.onerror=function(e){i.AMapUI=n.failed,a("请求 AMapUI 失败")},u.onload=function(){if(i.AMapUI=n.loaded,s.length)window.AMapUI.loadUI(s,function(){for(var t=0,n=s.length;t<n;t++){var r=s[t].split("/").slice(-1)[0];window.AMapUI[r]=arguments[t]}for(e();o.AMapUI.length;)o.AMapUI.splice(0,1)[0]()});else for(e();o.AMapUI.length;)o.AMapUI.splice(0,1)[0]()},c.appendChild(u)}else i.AMapUI===n.loaded?t.version&&t.version!==r.AMapUI.version?a("不允许多个版本 AMapUI 混用"):s.length?window.AMapUI.loadUI(s,function(){for(var t=0,n=s.length;t<n;t++){var r=s[t].split("/").slice(-1)[0];window.AMapUI[r]=arguments[t]}e()}):e():t.version&&t.version!==r.AMapUI.version?a("不允许多个版本 AMapUI 混用"):o.AMapUI.push(function(t){t?a(t):s.length?window.AMapUI.loadUI(s,function(){for(var t=0,n=s.length;t<n;t++){var r=s[t].split("/").slice(-1)[0];window.AMapUI[r]=arguments[t]}e()}):e()})}))),e.Loca&&s.push((a=e.Loca,new Promise(function(e,t){if(i.Loca===n.failed)t("前次请求 Loca 失败");else if(i.Loca===n.notload){i.Loca=n.loading,r.Loca.version=a.version||r.Loca.version;var s=r.Loca.version,l=r.AMap.version.startsWith("2"),c=s.startsWith("2");if(l&&!c||!l&&c)t("JSAPI 与 Loca 版本不对应！！");else{l=r.key,c=document.body||document.head;var u=document.createElement("script");u.type="text/javascript",u.src="https://webapi.amap.com/loca?v="+s+"&key="+l,u.onerror=function(e){i.Loca=n.failed,t("请求 AMapUI 失败")},u.onload=function(){for(i.Loca=n.loaded,e();o.Loca.length;)o.Loca.splice(0,1)[0]()},c.appendChild(u)}}else i.Loca===n.loaded?a.version&&a.version!==r.Loca.version?t("不允许多个版本 Loca 混用"):e():a.version&&a.version!==r.Loca.version?t("不允许多个版本 Loca 混用"):o.Loca.push(function(e){e?t(e):t()})}))),Promise.all(s)}if(!window)throw Error("AMap JSAPI can only be used in Browser.");(t=n||(n={})).notload="notload",t.loading="loading",t.loaded="loaded",t.failed="failed";var t,n,r={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},o={AMap:[],AMapUI:[],Loca:[]},a=[],s=function(e){"function"==typeof e&&(i.AMap===n.loaded?e(window.AMap):a.push(e))};return{load:function(t){return new Promise(function(o,l){if(i.AMap==n.failed)l("");else if(i.AMap==n.notload){var c=t.key,u=t.version,d=t.plugins;c?(window.AMap&&"lbs.amap.com"!==location.host&&l("禁止多种API加载方式混用"),r.key=c,r.AMap.version=u||r.AMap.version,r.AMap.plugins=d||r.AMap.plugins,i.AMap=n.loading,u=document.body||document.head,window.___onAPILoaded=function(r){if(delete window.___onAPILoaded,r)i.AMap=n.failed,l(r);else for(i.AMap=n.loaded,e(t).then(function(){o(window.AMap)}).catch(l);a.length;)a.splice(0,1)[0]()},(d=document.createElement("script")).type="text/javascript",d.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+r.AMap.version+"&key="+c+"&plugin="+r.AMap.plugins.join(","),d.onerror=function(e){i.AMap=n.failed,l(e)},u.appendChild(d)):l("请填写key")}else if(i.AMap==n.loaded){if(t.key&&t.key!==r.key)l("多个不一致的 key");else if(t.version&&t.version!==r.AMap.version)l("不允许多个版本 JSAPI 混用");else{if(c=[],t.plugins)for(u=0;u<t.plugins.length;u+=1)-1==r.AMap.plugins.indexOf(t.plugins[u])&&c.push(t.plugins[u]);c.length?window.AMap.plugin(c,function(){e(t).then(function(){o(window.AMap)}).catch(l)}):e(t).then(function(){o(window.AMap)}).catch(l)}}else if(t.key&&t.key!==r.key)l("多个不一致的 key");else if(t.version&&t.version!==r.AMap.version)l("不允许多个版本 JSAPI 混用");else{var p=[];if(t.plugins)for(u=0;u<t.plugins.length;u+=1)-1==r.AMap.plugins.indexOf(t.plugins[u])&&p.push(t.plugins[u]);s(function(){p.length?window.AMap.plugin(p,function(){e(t).then(function(){o(window.AMap)}).catch(l)}):e(t).then(function(){o(window.AMap)}).catch(l)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,r={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},o={AMap:[],AMapUI:[],Loca:[]}}}}()},19984:function(e,t){"use strict";t.Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"}},15386:function(e,t){"use strict";t.Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"}},25521:function(e,t){"use strict";t.Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"}},10920:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(29911),i=n(75271),o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M689 165.1L308.2 493.5c-10.9 9.4-10.9 27.5 0 37L689 858.9c14.2 12.2 35 1.2 35-18.5V183.6c0-19.7-20.8-30.7-35-18.5z"}}]},name:"caret-left",theme:"outlined"},a=n(54234),s=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o}))})},7753:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(29911),i=n(75271),o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"},a=n(54234),s=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o}))})},13597:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(29911),i=n(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},a=n(54234),s=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o}))})},40350:function(e,t,n){"use strict";var r=n(29911),i=n(75271),o=n(69870),a=n(54234);t.Z=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o.Z}))})},30657:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(29911),i=n(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},a=n(54234),s=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o}))})},34234:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(29911),i=n(75271),o={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"},a=n(54234),s=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o}))})},2206:function(e,t,n){"use strict";var r=n(29911),i=n(75271),o=n(4062),a=n(54234);t.Z=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o.Z}))})},99770:function(e,t,n){"use strict";var r=n(29911),i=n(75271),o=n(23989),a=n(54234);t.Z=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o.Z}))})},98124:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(29911),i=n(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},a=n(54234),s=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o}))})},2227:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(29911),i=n(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"}}]},name:"fullscreen-exit",theme:"outlined"},a=n(54234),s=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o}))})},71489:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(29911),i=n(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"},a=n(54234),s=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o}))})},24548:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(29911),i=n(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M304 176h80v672h-80zm408 0h-64c-4.4 0-8 3.6-8 8v656c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V184c0-4.4-3.6-8-8-8z"}}]},name:"pause",theme:"outlined"},a=n(54234),s=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o}))})},18377:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(29911),i=n(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},a=n(54234),s=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o}))})},53322:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(29911),i=n(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},a=n(54234),s=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o}))})},79124:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(29911),i=n(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"},a=n(54234),s=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o}))})},63958:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(29911),i=n(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},a=n(54234),s=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o}))})},62261:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(29911),i=n(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}}]},name:"vertical-align-bottom",theme:"outlined"},a=n(54234),s=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o}))})},41278:function(e,t,n){"use strict";var r=n(29911),i=n(75271),o=n(7490),a=n(54234);t.Z=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o.Z}))})},37686:function(e,t,n){"use strict";var r=n(29911),i=n(75271),o=n(15386),a=n(54234);t.Z=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o.Z}))})},21038:function(e,t,n){"use strict";var r=n(29911),i=n(75271),o=n(25521),a=n(54234);t.Z=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:o.Z}))})},43159:function(){window._iconfont_svg_string_3580659='<svg><symbol id="l7-icon-area1" viewBox="0 0 1024 1024"><path d="M796.444444 56.888889a113.777778 113.777778 0 0 1 43.064889 219.136l38.798223 466.261333a113.777778 113.777778 0 1 1-133.518223 145.237334H279.210667a113.777778 113.777778 0 1 1-60.302223-137.272889L697.856 227.555556A113.777778 113.777778 0 0 1 796.444444 56.888889z m56.888889 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-682.666666 0a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m577.592889-534.072889L269.198222 796.444444c4.152889 7.168 7.509333 14.791111 10.012445 22.812445h465.578666a114.119111 114.119111 0 0 1 65.479111-71.224889l-38.798222-466.261333a112.924444 112.924444 0 0 1-23.210666-7.964445zM796.444444 125.155556a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-area" viewBox="0 0 1024 1024"><path d="M796.444444 56.888889a113.777778 113.777778 0 0 1 43.008 219.136l38.855112 466.261333a113.777778 113.777778 0 0 1-16.497778 224.540445L853.333333 967.111111a113.777778 113.777778 0 0 1-108.544-79.644444H279.210667a113.834667 113.834667 0 0 1-100.067556 79.36L170.666667 967.111111a113.777778 113.777778 0 0 1-17.066667-226.304l30.492444-351.175111a113.777778 113.777778 0 0 1 34.986667-218.680889L227.555556 170.666667a113.777778 113.777778 0 0 1 99.896888 59.221333l355.84-71.395556a113.777778 113.777778 0 0 1 104.675556-101.262222L796.444444 56.888889z m56.888889 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-682.666666 0a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m526.051555-582.314666L340.650667 296.903111a113.891556 113.891556 0 0 1-88.462223 98.645333l-30.947555 355.84c27.477333 13.653333 48.64 38.115556 58.026667 67.754667h465.521777a114.119111 114.119111 0 0 1 65.536-71.168l-38.855111-466.261333a113.948444 113.948444 0 0 1-74.752-56.206222zM227.555556 238.933333a45.511111 45.511111 0 1 0 0 91.022223 45.511111 45.511111 0 0 0 0-91.022223z m568.888888-113.777777a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-delete" viewBox="0 0 1024 1024"><path d="M705.422222 85.333333a34.133333 34.133333 0 0 1 34.133334 34.133334V227.555556h136.533333a34.133333 34.133333 0 0 1 0 68.266666h-25.543111l-24.348445 610.076445a34.133333 34.133333 0 0 1-34.133333 32.768H231.936a34.133333 34.133333 0 0 1-34.076444-32.768L173.340444 295.822222H147.911111a34.133333 34.133333 0 1 1 0-68.266666H284.444444V119.466667a34.133333 34.133333 0 0 1 34.133334-34.133334h386.844444zM241.720889 295.822222l22.983111 574.577778h494.535111l23.04-574.577778H241.720889zM671.288889 153.6H352.711111V227.555556h318.577778V153.6z"  ></path></symbol><symbol id="l7-icon-color" viewBox="0 0 1024 1024"><path d="M512 56.888889c9.841778 0 19.626667 0.341333 29.354667 0.910222 69.176889 4.437333 119.068444 62.577778 124.302222 131.072l0.455111 9.386667c0.739556 44.600889 15.303111 84.935111 44.999111 114.631111 27.022222 27.022222 62.805333 41.528889 102.570667 44.430222l12.060444 0.568889c72.476444 1.194667 135.793778 52.451556 140.458667 124.757333 1.137778 18.261333 1.251556 36.807111 0.170667 55.637334-13.198222 233.585778-211.399111 424.220444-445.326223 428.714666L512 967.111111a455.111111 455.111111 0 0 1-455.054222-464.156444c4.551111-233.927111 195.185778-432.128 428.771555-445.326223C494.535111 57.116444 503.296 56.888889 512 56.888889z m0 68.266667a385.706667 385.706667 0 0 0-22.414222 0.625777C291.726222 136.988444 129.080889 305.948444 125.155556 504.263111c-4.152889 212.366222 163.100444 387.185778 372.508444 394.353778l13.425778 0.227555 8.533333-0.113777c198.371556-3.811556 367.331556-166.456889 378.538667-364.373334a396.174222 396.174222 0 0 0-0.170667-47.331555c-1.991111-31.232-29.127111-56.604444-67.128889-60.472889l-8.248889-0.455111-14.051555-0.682667c-56.547556-4.209778-107.406222-25.884444-145.806222-64.284444-38.855111-38.798222-60.416-90.225778-64.284445-145.749334l-0.910222-21.333333c-2.901333-38.001778-28.785778-66.048-60.302222-68.096A433.891556 433.891556 0 0 0 512 125.155556zM438.044444 682.666667a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z m-170.666666-227.555556a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z m142.222222-227.555555a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z"  ></path></symbol><symbol id="l7-icon-base-map" viewBox="0 0 1024 1024"><path d="M923.761778 115.029333A34.133333 34.133333 0 0 1 967.111111 147.911111v624.128a34.133333 34.133333 0 0 1-22.186667 32.028445l-278.755555 103.992888a34.133333 34.133333 0 0 1-23.665778 0.056889L381.724444 812.714667a34.133333 34.133333 0 0 0-23.665777 0.113777L102.968889 908.060444a34.133333 34.133333 0 0 1-45.738667-26.965333L56.888889 876.088889V251.960889a34.133333 34.133333 0 0 1 22.186667-32.028445l278.755555-103.992888a34.133333 34.133333 0 0 1 20.992-0.967112l266.183111 72.988445a34.133333 34.133333 0 0 0 18.204445 0zM403.911111 192.625778v555.576889l216.177778 79.075555V251.960889l-216.177778-59.335111z m-68.266667 4.380444L125.155556 275.569778v551.310222l210.432-78.506667V197.006222zM898.844444 192.853333l-210.545777 58.936889v575.089778l210.545777-78.563556V192.853333z"  ></path></symbol><symbol id="l7-icon-dot" viewBox="0 0 1024 1024"><path d="M341.333333 739.555556a113.777778 113.777778 0 0 1 8.533334 227.271111L341.333333 967.111111a113.777778 113.777778 0 0 1-8.533333-227.271111L341.333333 739.555556z m0 68.266666a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM910.222222 341.333333a113.777778 113.777778 0 0 1 8.533334 227.271111L910.222222 568.888889a113.777778 113.777778 0 0 1-8.533333-227.271111L910.222222 341.333333z m0 68.266667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM227.555556 56.888889a113.777778 113.777778 0 0 1 8.533333 227.271111L227.555556 284.444444a113.777778 113.777778 0 0 1-8.533334-227.271111L227.555556 56.888889z m0 68.266667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-display" viewBox="0 0 1024 1024"><path d="M512 170.666667c284.444444 0 455.111111 227.555556 455.111111 341.333333s-170.666667 341.333333-455.111111 341.333333-455.111111-227.555556-455.111111-341.333333 170.666667-341.333333 455.111111-341.333333z m0 68.266666C303.729778 238.933333 125.155556 401.237333 125.155556 512c0 110.762667 178.574222 273.066667 386.844444 273.066667s386.844444-162.304 386.844444-273.066667c0-110.762667-178.574222-273.066667-386.844444-273.066667zM512 341.333333a170.666667 170.666667 0 1 1 0 341.333334 170.666667 170.666667 0 0 1 0-341.333334z m0 68.266667a102.4 102.4 0 1 0 0 204.8 102.4 102.4 0 0 0 0-204.8z"  ></path></symbol><symbol id="l7-icon-enlarge" viewBox="0 0 1024 1024"><path d="M546.133333 147.911111l-0.056889 329.955556H876.088889a34.133333 34.133333 0 0 1 0 68.266666H546.076444v329.955556a34.133333 34.133333 0 0 1-68.266666 0V546.133333H147.911111a34.133333 34.133333 0 1 1 0-68.266666h329.898667V147.911111a34.133333 34.133333 0 0 1 68.266666 0z"  ></path></symbol><symbol id="l7-icon-export-picture" viewBox="0 0 1024 1024"><path d="M883.873684 161.684211a32.336842 32.336842 0 0 1 32.336842 32.336842v582.063158a32.336842 32.336842 0 0 1-32.336842 32.336842H86.231579a32.336842 32.336842 0 0 1-32.336842-32.336842V194.021053a32.336842 32.336842 0 0 1 32.336842-32.336842h797.642105z m-32.336842 64.673684H118.568421v517.389473h170.792421a32.175158 32.175158 0 0 1 0.431158-0.646736l3.772632-4.473264 330.320842-330.374736a32.336842 32.336842 0 0 1 38.588631-5.389474l4.473263 3.018105 184.589474 147.725474V226.357895z m-202.428631 248.131368L379.850105 743.747368H851.536842v-107.304421l-202.428631-161.953684zM323.368421 323.368421a107.789474 107.789474 0 1 1 0 215.578947 107.789474 107.789474 0 0 1 0-215.578947z m0 64.673684a43.115789 43.115789 0 1 0 0 86.231579 43.115789 43.115789 0 0 0 0-86.231579z"  ></path></symbol><symbol id="l7-icon-exit-fullscreen" viewBox="0 0 1024 1024"><path d="M841.955556 591.644444a34.133333 34.133333 0 0 1 5.518222 67.811556l-5.518222 0.455111h-133.745778l192 192.056889a34.133333 34.133333 0 0 1-38.343111 55.182222l-5.176889-2.958222-4.721778-3.982222L659.911111 708.266667V841.955556a34.133333 34.133333 0 0 1-28.615111 33.678222L625.777778 876.088889a34.133333 34.133333 0 0 1-33.678222-28.615111L591.644444 841.955556V625.777778a34.133333 34.133333 0 0 1 28.615112-33.678222L625.777778 591.644444h216.177778z m-443.733334 0a34.133333 34.133333 0 0 1 33.678222 28.615112L432.355556 625.777778v216.177778a34.133333 34.133333 0 0 1-67.811556 5.518222L364.088889 841.955556v-133.745778l-192.056889 192a34.133333 34.133333 0 0 1-52.224-43.52l3.982222-4.721778L315.847111 659.911111H182.044444a34.133333 34.133333 0 0 1-33.678222-28.615111L147.911111 625.777778a34.133333 34.133333 0 0 1 28.615111-33.678222L182.044444 591.644444H398.222222zM167.310222 119.808l4.721778 3.982222L364.088889 315.847111V182.044444a34.133333 34.133333 0 0 1 28.615111-33.678222L398.222222 147.911111a34.133333 34.133333 0 0 1 33.678222 28.615111L432.355556 182.044444V398.222222a34.133333 34.133333 0 0 1-28.615112 33.678222L398.222222 432.355556H182.044444a34.133333 34.133333 0 0 1-5.518222-67.811556L182.044444 364.088889h133.802667L123.790222 172.032a34.133333 34.133333 0 0 1 43.52-52.224z m732.899556 3.982222a34.133333 34.133333 0 0 1 3.982222 43.52l-3.982222 4.721778L708.266667 364.088889H841.955556a34.133333 34.133333 0 0 1 33.678222 28.615111L876.088889 398.222222a34.133333 34.133333 0 0 1-28.615111 33.678222L841.955556 432.355556H625.777778a34.133333 34.133333 0 0 1-33.678222-28.615112L591.644444 398.222222V182.044444a34.133333 34.133333 0 0 1 67.811556-5.518222l0.455111 5.518222v133.802667l192.056889-192.056889a34.133333 34.133333 0 0 1 48.241778 0z"  ></path></symbol><symbol id="l7-icon-line" viewBox="0 0 1024 1024"><path d="M853.333333 56.888889a113.777778 113.777778 0 0 1 8.533334 227.271111L853.333333 284.444444c-19.000889 0-36.864-4.664889-52.622222-12.856888l-529.123555 529.066666a113.777778 113.777778 0 0 1-92.387556 166.115556L170.666667 967.111111a113.777778 113.777778 0 0 1-8.533334-227.271111L170.666667 739.555556c19.000889 0 36.864 4.664889 52.622222 12.856888l529.123555-529.066666a113.777778 113.777778 0 0 1 92.387556-166.115556L853.333333 56.888889zM170.666667 807.822222a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m682.666666-682.666666a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-layer" viewBox="0 0 1024 1024"><path d="M767.089778 625.777778l180.167111 82.773333a34.133333 34.133333 0 0 1 4.892444 59.278222l-4.892444 2.730667-420.977778 193.422222a34.133333 34.133333 0 0 1-22.983111 1.991111l-5.575111-1.991111-420.977778-193.422222a34.133333 34.133333 0 0 1-4.892444-59.278222l4.892444-2.730667L256.853333 625.777778l81.749334 37.546666L172.771556 739.555556 512 895.374222 851.171556 739.555556l-165.831112-76.231112 81.749334-37.546666z m0-227.555556l180.167111 82.773334a34.133333 34.133333 0 0 1 4.892444 59.278222l-4.892444 2.730666-420.977778 193.422223a34.133333 34.133333 0 0 1-22.983111 1.991111l-5.575111-1.991111-420.977778-193.422223a34.133333 34.133333 0 0 1-4.892444-59.278222l4.892444-2.730666L256.853333 398.222222l81.749334 37.546667-165.831111 76.174222L512 667.818667l339.171556-155.875556-165.831112-76.174222L767.089778 398.222222zM497.720889 60.017778a34.133333 34.133333 0 0 1 28.558222 0l420.977778 193.422222a34.133333 34.133333 0 0 1 0 62.008889l-420.977778 193.422222a34.133333 34.133333 0 0 1-28.558222 0l-420.977778-193.422222a34.133333 34.133333 0 0 1 0-62.008889zM512 128.568889L172.771556 284.387556 512 440.263111l339.171556-155.875555L512 128.568889z"  ></path></symbol><symbol id="l7-icon-narrow" viewBox="0 0 1024 1024"><path d="M910.222222 512a34.133333 34.133333 0 0 1-34.133333 34.133333H147.911111a34.133333 34.133333 0 1 1 0-68.266666h728.177778a34.133333 34.133333 0 0 1 34.133333 34.133333z"  ></path></symbol><symbol id="l7-icon-fullscreen" viewBox="0 0 1024 1024"><path d="M645.176889 597.674667l4.721778 3.982222L841.955556 793.6l0.056888-133.688889a34.133333 34.133333 0 0 1 28.615112-33.678222L876.088889 625.777778a34.133333 34.133333 0 0 1 33.678222 28.615111L910.222222 659.911111v216.177778a34.133333 34.133333 0 0 1-28.615111 33.678222L876.088889 910.222222h-216.177778a34.133333 34.133333 0 0 1-5.518222-67.811555l5.518222-0.455111h133.745778l-192-192.056889a34.133333 34.133333 0 0 1 43.52-52.224z m-222.833778 3.982222a34.133333 34.133333 0 0 1 3.982222 43.52l-3.982222 4.721778L230.286222 841.955556H364.088889a34.133333 34.133333 0 0 1 33.678222 28.615111L398.222222 876.088889a34.133333 34.133333 0 0 1-28.615111 33.678222L364.088889 910.222222H147.911111a34.133333 34.133333 0 0 1-33.678222-28.615111L113.777778 876.088889v-216.177778a34.133333 34.133333 0 0 1 67.811555-5.518222l0.455111 5.518222-0.056888 133.745778 192.113777-192a34.133333 34.133333 0 0 1 48.241778 0zM364.088889 113.777778a34.133333 34.133333 0 0 1 5.518222 67.811555L364.088889 182.044444H230.343111l192 192.056889a34.133333 34.133333 0 0 1-43.52 52.224l-4.721778-3.982222-192.113777-192.056889L182.044444 364.088889a34.133333 34.133333 0 0 1-28.615111 33.678222L147.911111 398.222222a34.133333 34.133333 0 0 1-33.678222-28.615111L113.777778 364.088889V147.911111a34.133333 34.133333 0 0 1 28.615111-33.678222L147.911111 113.777778h216.177778z m512 0a34.133333 34.133333 0 0 1 33.678222 28.615111L910.222222 147.911111v216.177778a34.133333 34.133333 0 0 1-67.811555 5.518222L841.955556 364.088889l-0.056889-133.745778-192 192a34.133333 34.133333 0 0 1-52.224-43.52l3.982222-4.721778L793.6 182.044444H659.911111a34.133333 34.133333 0 0 1-33.678222-28.615111L625.777778 147.911111a34.133333 34.133333 0 0 1 28.615111-33.678222L659.911111 113.777778h216.177778z"  ></path></symbol><symbol id="l7-icon-hide" viewBox="0 0 1024 1024"><path d="M875.52 87.836444a34.133333 34.133333 0 0 1 7.281778 43.121778l-3.527111 5.006222-682.666667 796.444445a34.133333 34.133333 0 0 1-55.409778-39.367111l3.527111-5.006222 97.166223-113.379556C123.164444 697.969778 56.888889 582.940444 56.888889 512c0-113.777778 170.666667-341.333333 455.111111-341.333333a496.64 496.64 0 0 1 208.952889 45.112889l106.439111-124.188445a34.133333 34.133333 0 0 1 48.128-3.754667z m-38.684444 202.524445C921.031111 362.951111 967.111111 452.835556 967.111111 512c0 113.777778-170.666667 341.333333-455.111111 341.333333-50.631111 0-97.678222-7.224889-140.8-19.740444l50.232889-58.595556A417.393778 417.393778 0 0 0 512 785.066667c208.270222 0 386.844444-162.304 386.844444-273.066667 0-52.849778-40.675556-117.418667-105.813333-170.496l43.804445-51.2zM512 238.933333C303.729778 238.933333 125.155556 401.237333 125.155556 512c0 66.787556 64.853333 152.291556 162.133333 209.692444L377.173333 616.675556a170.666667 170.666667 0 0 1 217.713778-253.895112l78.620445-91.704888A432.924444 432.924444 0 0 0 512 238.933333z m166.684444 236.088889a170.666667 170.666667 0 0 1-177.664 207.303111l177.607112-207.303111zM512 409.6a102.4 102.4 0 0 0-88.746667 153.486222L548.864 416.426667A102.172444 102.172444 0 0 0 512 409.6z"  ></path></symbol><symbol id="l7-icon-rectangle" viewBox="0 0 1024 1024"><path d="M170.666667 56.888889a113.777778 113.777778 0 0 1 108.544 79.644444H853.333333a34.133333 34.133333 0 0 1 33.678223 28.615111L887.466667 170.666667v574.122666a113.777778 113.777778 0 1 1-142.677334 142.734223L170.666667 887.466667a34.133333 34.133333 0 0 1-33.678223-28.615111L136.533333 853.333333V279.210667A113.777778 113.777778 0 0 1 170.666667 56.888889z m682.666666 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-34.133333-603.022222H279.210667a114.062222 114.062222 0 0 1-74.353778 74.410667L204.8 819.2h539.989333a114.062222 114.062222 0 0 1 74.410667-74.410667V204.8zM170.666667 125.155556a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-ranging" viewBox="0 0 1024 1024"><path d="M723.171556 50.403556l250.424888 250.424888a31.061333 31.061333 0 0 1 0 43.918223L344.746667 973.596444a31.061333 31.061333 0 0 1-43.918223 0L50.403556 723.171556a31.061333 31.061333 0 0 1 0-43.918223L679.253333 50.403556a31.061333 31.061333 0 0 1 43.918223 0z m-21.959112 74.524444l-39.765333 39.822222 98.986667 98.872889a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-63.886222 63.886222 62.179556 62.122667a34.133333 34.133333 0 0 1-44.088889 51.882667L563.2 387.242667 501.077333 325.063111 437.191111 388.949333l98.986667 98.929778a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-63.886222 63.886222L387.242667 563.2a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.584-62.122667-62.179556-63.886222 63.886222 98.986667 98.929778a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-39.765333 39.822222 197.802667 197.745778 576.284444-576.284444-197.802667-197.745778z"  ></path></symbol><symbol id="l7-icon-reposition" viewBox="0 0 1024 1024"><path d="M512 56.888889a34.133333 34.133333 0 0 1 34.133333 34.133333v24.177778A398.336 398.336 0 0 1 908.856889 477.866667h24.177778a34.133333 34.133333 0 0 1 0 68.266666h-24.177778A398.336 398.336 0 0 1 546.133333 908.856889L546.133333 932.977778a34.133333 34.133333 0 0 1-68.266666 0v-24.177778A398.336 398.336 0 0 1 115.2 546.133333L91.022222 546.133333a34.133333 34.133333 0 1 1 0-68.266666h24.177778A398.336 398.336 0 0 1 477.866667 115.2V91.022222A34.133333 34.133333 0 0 1 512 56.888889z m34.190222 126.862222L546.133333 193.422222a34.133333 34.133333 0 1 1-68.266666 0v-9.671111A330.069333 330.069333 0 0 0 183.751111 477.866667h9.671111a34.133333 34.133333 0 1 1 0 68.266666l-9.671111 0.056889A330.069333 330.069333 0 0 0 477.866667 840.248889V830.577778a34.133333 34.133333 0 0 1 68.266666 0l0.056889 9.671111A330.069333 330.069333 0 0 0 840.248889 546.133333L830.577778 546.133333a34.133333 34.133333 0 0 1 0-68.266666h9.671111A330.069333 330.069333 0 0 0 546.133333 183.751111zM512 341.333333a170.666667 170.666667 0 1 1 0 341.333334 170.666667 170.666667 0 0 1 0-341.333334z m0 68.266667a102.4 102.4 0 1 0 0 204.8 102.4 102.4 0 0 0 0-204.8z"  ></path></symbol><symbol id="l7-icon-round" viewBox="0 0 1024 1024"><path d="M512 56.888889a455.111111 455.111111 0 0 1 391.395556 687.502222 113.777778 113.777778 0 0 1-159.061334 158.890667A455.111111 455.111111 0 0 1 120.604444 279.608889 113.777778 113.777778 0 0 1 279.608889 120.604444 452.835556 452.835556 0 0 1 512 56.888889z m0 68.266667a384.910222 384.910222 0 0 0-191.715556 50.744888A113.777778 113.777778 0 0 1 175.957333 320.284444a386.844444 386.844444 0 0 0 527.815111 527.758223 113.777778 113.777778 0 0 1 144.270223-144.440889A386.844444 386.844444 0 0 0 512 125.155556z m299.406222 640.739555a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM212.593778 167.082667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-guanbi" viewBox="0 0 1024 1024"><path d="M576 512l277.333333 277.333333-64 64-277.333333-277.333333L234.666667 853.333333 170.666667 789.333333l277.333333-277.333333L170.666667 234.666667 234.666667 170.666667l277.333333 277.333333L789.333333 170.666667 853.333333 234.666667 576 512z"  ></path></symbol></svg>',function(e){try{var t=(t=document.getElementsByTagName("script"))[t.length-1],n=t.getAttribute("data-injectcss"),t=t.getAttribute("data-disable-injectsvg");if(!t){var r,i,o,a,s,l=function(e,t){t.parentNode.insertBefore(e,t)};if(n&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(e){console&&console.log(e)}}r=function(){var t,n=document.createElement("div");n.innerHTML=e._iconfont_svg_string_3580659,(n=n.getElementsByTagName("svg")[0])&&(n.setAttribute("aria-hidden","true"),n.style.position="absolute",n.style.width=0,n.style.height=0,n.style.overflow="hidden",(t=document.body).firstChild?l(n,t.firstChild):t.appendChild(n))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(r,0):(i=function(){document.removeEventListener("DOMContentLoaded",i,!1),r()},document.addEventListener("DOMContentLoaded",i,!1)):document.attachEvent&&(o=r,a=e.document,s=!1,function e(){try{a.documentElement.doScroll("left")}catch(t){return void setTimeout(e,50)}c()}(),a.onreadystatechange=function(){"complete"==a.readyState&&(a.onreadystatechange=null,c())})}function c(){s||(s=!0,o())}}catch(e){}}(window)},1602:function(){},89706:function(e,t,n){"use strict";let r;n.r(t),n.d(t,{AJAXError:function(){return eB},AttributeType:function(){return aR},BKDRHash:function(){return rg},BaiduMap:function(){return bL},BaseLayer:function(){return fd},BaseMapService:function(){return by},BaseMapWrapper:function(){return mW},BaseModel:function(){return fE},BasePostProcessingPass:function(){return au},BlendType:function(){return aA},ButtonControl:function(){return uC},CameraUniform:function(){return ay},CanvasLayer:function(){return fO},CanvasUpdateType:function(){return fA},CityBuildingLayer:function(){return gc},Control:function(){return uA},CoordinateSystem:function(){return a_},CoordinateUniform:function(){return aT},DOM:function(){return ei},Earth:function(){return v5},EarthLayer:function(){return mx},ExportImage:function(){return uN},FrequencyController:function(){return nY},Fullscreen:function(){return uU},GaodeMap:function(){return EI},GaodeMapV1:function(){return EL},GaodeMapV2:function(){return ER},GeoLocate:function(){return uz},GeometryLayer:function(){return gp},GoogleMap:function(){return yi},HeatmapLayer:function(){return gb},IDebugLog:function(){return ax},ILayerStage:function(){return aO},ImageLayer:function(){return gy},InteractionEvent:function(){return aS},LRUCache:function(){return rL},LayerPopup:function(){return m$},LayerSwitch:function(){return uj},LineLayer:function(){return gL},LinearDir:function(){return fT},LoadTileDataStatus:function(){return rj},Logo:function(){return uH},Map:function(){return ys},MapLibre:function(){return Eh},MapServiceEvent:function(){return ak},MapTheme:function(){return u$},Mapbox:function(){return yf},Marker:function(){return uT},MarkerLayer:function(){return uS},MaskLayer:function(){return mo},MaskOperation:function(){return aw},MouseLocation:function(){return uW},PassType:function(){return ao},PointLayer:function(){return gq},PolygonLayer:function(){return gQ},PopperControl:function(){return uI},Popup:function(){return mG},PositionType:function(){return aE},RasterLayer:function(){return g3},RasterTileType:function(){return lA},Satistics:function(){return eo},Scale:function(){return uY},ScaleTypes:function(){return aI},Scene:function(){return _7},SceneConifg:function(){return ew},SceneEventList:function(){return lS},SelectControl:function(){return uR},SizeUnitType:function(){return fS},Source:function(){return u_},SourceTile:function(){return r0},StencilType:function(){return aC},StyleScaleType:function(){return aL},Swipe:function(){return mj},TMap:function(){return Ev},TencentMap:function(){return EO},TextureBlend:function(){return fx},TextureUsage:function(){return se},TileDebugLayer:function(){return mb},TileLayer:function(){return mm},TilesetManager:function(){return io},UpdateTileStrategy:function(){return rZ},WindLayer:function(){return mZ},Zoom:function(){return mH},aProjectFlat:function(){return n7},amap2Project:function(){return n9},amap2UnProject:function(){return re},anchorTranslate:function(){return eJ},anchorType:function(){return eQ},applyAnchorClass:function(){return e0},bBoxToBounds:function(){return ro},bindAll:function(){return nW},boundsContains:function(){return ri},calAngle:function(){return rc},calDistance:function(){return rs},calculateCentroid:function(){return rp},calculatePointsCenterAndRadius:function(){return rh},createLayerContainer:function(){return lx},createSceneContainer:function(){return lT},decodePickingColor:function(){return t_},defaultValue:function(){return iu},djb2hash:function(){return rm},encodePickingColor:function(){return tT},expandUrl:function(){return is},extent:function(){return n0},flow:function(){return rd},formatImage:function(){return eK},fp64LowPart:function(){return nK},generateCatRamp:function(){return tA},generateColorRamp:function(){return tx},generateCustomRamp:function(){return tw},generateLinearRamp:function(){return tS},generateQuantizeRamp:function(){return tC},getAngle:function(){return ru},getArrayBuffer:function(){return eH},getBBoxFromPoints:function(){return rf},getData:function(){return eV},getDefaultDomain:function(){return tI},getImage:function(){return eX},getJSON:function(){return ej},getProtocolAction:function(){return eF},getReferrer:function(){return nj},getTileIndices:function(){return rK},getTileWarpXY:function(){return rQ},getURLFromTemplate:function(){return il},getWMTSURLFromTemplate:function(){return ic},gl:function(){return aa},globalConfigService:function(){return lE},guid:function(){return rb},isAndroid:function(){return nV},isColor:function(){return ty},isImageBitmap:function(){return nz},isNumber:function(){return nX},isPC:function(){return n$},isURLTemplate:function(){return ia},isWorker:function(){return nZ},isiOS:function(){return nG},latitude:function(){return n4},lineAtOffset:function(){return rO},lineAtOffsetAsyc:function(){return rI},lineStyleType:function(){return f_},lngLatInExtent:function(){return nJ},lngLatToMeters:function(){return n2},lnglatDistance:function(){return rt},lodashUtil:function(){return nu},longitude:function(){return n5},makeXMLHttpRequestPromise:function(){return ez},metersToLngLat:function(){return n3},normalize:function(){return ra},osmLonLat2TileXY:function(){return rY},osmTileXY2LonLat:function(){return rq},packCircleVertex:function(){return av},padBounds:function(){return rr},postData:function(){return eG},project:function(){return rn},removeDuplicateUniforms:function(){return af},rgb2arr:function(){return tE},sameOrigin:function(){return e$},tileToBounds:function(){return rX},tranfrormCoord:function(){return n1},unProjectFlat:function(){return n8},validateLngLat:function(){return n6},version:function(){return _8}});var i,o,a,s,l,c,u,d,p,h,f,g,m,b,v,y,E,_,x,S,A,C,w,O,I,L,R,k,N,M,D,P,F,B,U,z,Z,j,H,G,V,$,W,Y,q,X,K,Q,J,ee,et,en,er,ei={};n.r(ei),n.d(ei,{DPR:function(){return nI},addClass:function(){return nb},addStyle:function(){return nL},appendElementType:function(){return nB},clearChildren:function(){return nP},create:function(){return ng},css2Style:function(){return nN},empty:function(){return nx},findParentElement:function(){return nU},getClass:function(){return nT},getContainer:function(){return np},getDiffRect:function(){return nM},getStyleList:function(){return nR},getViewPortScale:function(){return nO},hasClass:function(){return ny},printCanvas:function(){return nw},remove:function(){return nm},removeClass:function(){return nv},removeStyle:function(){return nk},setChecked:function(){return nD},setClass:function(){return nE},setTransform:function(){return nA},setUnDraggable:function(){return nF},splitWords:function(){return nf},toggleClass:function(){return n_},triggerResize:function(){return nC},trim:function(){return nh}});var eo={};n.r(eo),n.d(eo,{getColumn:function(){return rF},getSatByColumn:function(){return rB},max:function(){return rR},mean:function(){return rM},min:function(){return rk},mode:function(){return rD},statMap:function(){return rP},sum:function(){return rN}});var ea={},es={},el=e=>es[e],ec=(e,t)=>{es[e]=t},eu=e=>ea[e],ed=(e,t)=>{ea[e]=t},ep={},eh={};function ef(e){return Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function eg(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}function em(e,t){var n=e+"",r=n.length;return r<t?Array(t-r+1).join(0)+n:n}var eb=function(e){var t=RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,s=0,l=o<=0,c=!1;function u(){if(l)return eh;if(c)return c=!1,ep;var t,r,i=a;if(34===e.charCodeAt(i)){for(;a++<o&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=o?l=!0:10===(r=e.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(a)&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=e.charCodeAt(t=a++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(a)&&++a;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=u())!==eh;){for(var d=[];r!==ep&&r!==eh;)d.push(r),r=u();t&&null==(d=t(d,s++))||i.push(d)}return i}function i(t,n){return t.map(function(t){return n.map(function(e){return a(t[e])}).join(e)})}function o(t){return t.map(a).join(e)}function a(e){var n,r,i,o,a,s;return null==e?"":e instanceof Date?(r=(n=e).getUTCHours(),i=n.getUTCMinutes(),o=n.getUTCSeconds(),a=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((s=n.getUTCFullYear())<0?"-"+em(-s,6):s>9999?"+"+em(s,6):em(s,4))+"-"+em(n.getUTCMonth()+1,2)+"-"+em(n.getUTCDate(),2)+(a?"T"+em(r,2)+":"+em(i,2)+":"+em(o,2)+"."+em(a,3)+"Z":o?"T"+em(r,2)+":"+em(i,2)+":"+em(o,2)+"Z":i||r?"T"+em(r,2)+":"+em(i,2)+"Z":"")):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=r(e,function(e,r){var o;if(n)return n(e,r-1);i=e,n=t?(o=ef(e),function(n,r){return t(o(n),r,e)}):ef(e)});return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=eg(t)),[n.map(a).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=eg(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:a}}(","),ev=eb.parse;eb.parseRows,eb.format,eb.formatBody,eb.formatRows,eb.formatRow,eb.formatValue;var ey={centimeters:637100880,centimetres:637100880,degrees:6371008.8/111325,feet:20902260.511392,inches:250826616.45599997,kilometers:6371.0088,kilometres:6371.0088,meters:6371008.8,metres:6371008.8,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:6371008.8/1852,radians:1,yards:6967335.223679999};function eE(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function e_(e,t,n){void 0===n&&(n={});for(var r=0;r<e.length;r++){var i=e[r];if(i.length<4)throw Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<i[i.length-1].length;o++)if(i[i.length-1][o]!==i[0][o])throw Error("First and last Position are not equivalent.")}return eE({type:"Polygon",coordinates:e},t,n)}function eT(e){return 180*(e%(2*Math.PI))/Math.PI}function ex(e){return e%360*Math.PI/180}function eS(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function eA(e){return"Feature"===e.type?e.geometry:e}function eC(e,t){!function(e,t){var n,r,i,o,a,s,l,c,u,d,p=0,h="FeatureCollection"===e.type,f="Feature"===e.type,g=h?e.features.length:1;for(n=0;n<g;n++){for(i=0,s=h?e.features[n].geometry:f?e.geometry:e,c=h?e.features[n].properties:f?e.properties:{},u=h?e.features[n].bbox:f?e.bbox:void 0,d=h?e.features[n].id:f?e.id:void 0,a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1;i<a;i++){if(null===(o=l?s.geometries[i]:s)){if(!1===t(null,p,c,u,d))return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,p,c,u,d))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===t(o.geometries[r],p,c,u,d))return!1;break;default:throw Error("Unknown Geometry Type")}}p++}}(e,function(e,n,r,i,o){var a,s=null===e?null:e.type;switch(s){case null:case"Point":case"LineString":case"Polygon":if(!1===t(eE(e,r,{bbox:i,id:o}),n,0))return!1;return}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var l=0;l<e.coordinates.length;l++)if(!1===t(eE({type:a,coordinates:e.coordinates[l]},r),n,l))return!1})}var ew={REGISTERED_PROTOCOLS:{}},eO=Object.defineProperty,eI=Object.defineProperties,eL=Object.getOwnPropertyDescriptors,eR=Object.getOwnPropertySymbols,ek=Object.prototype.hasOwnProperty,eN=Object.prototype.propertyIsEnumerable,eM=(e,t,n)=>t in e?eO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eD=(e,t)=>{for(var n in t||(t={}))ek.call(t,n)&&eM(e,n,t[n]);if(eR)for(var n of eR(t))eN.call(t,n)&&eM(e,n,t[n]);return e},eP=(e,t)=>eI(e,eL(t)),eF=e=>ew.REGISTERED_PROTOCOLS[e.substring(0,e.indexOf("://"))],eB=class extends Error{constructor(e,t,n,r){super(`AJAXError: ${t} (${e}): ${n}`),this.status=e,this.statusText=t,this.url=n,this.body=r}};function eU(e,t){let n=new XMLHttpRequest,r=Array.isArray(e.url)?e.url[0]:e.url;for(let t in n.open(e.method||"GET",r,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer"),e.headers)e.headers.hasOwnProperty(t)&&n.setRequestHeader(t,e.headers[t]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=()=>{t(Error(n.statusText))},n.onload=()=>{if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){let r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"),n)}else{let e=new Blob([n.response],{type:n.getResponseHeader("Content-Type")});t(new eB(n.status,n.statusText,r.toString(),e))}},n.cancel=n.abort,n.send(e.body),n}function ez(e){return new Promise((t,n)=>{eU(e,(e,r,i,o,a)=>{e?n({err:e,data:null,xhr:a}):t({err:null,data:r,cacheControl:i,expires:o,xhr:a})})})}function eZ(e,t){return eU(e,t)}var ej=(e,t)=>{let n=eF(e.url)||eZ;return n(eP(eD({},e),{type:"json"}),t)},eH=(e,t)=>{let n=eF(e.url)||eZ;return n(eP(eD({},e),{type:"arrayBuffer"}),t)},eG=(e,t)=>eU(eP(eD({},e),{method:"POST"}),t),eV=(e,t)=>eU(eP(eD({},e),{method:"GET"}),t);function e$(e){let t=window.document.createElement("a");return t.href=e,t.protocol===window.document.location.protocol&&t.host===window.document.location.host}var eW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function eY(e,t){let n=new window.Image,r=window.URL||window.webkitURL;n.crossOrigin="anonymous",n.onload=()=>{t(null,n),r.revokeObjectURL(n.src),n.onload=null,window.requestAnimationFrame(()=>{n.src=eW})},n.onerror=()=>t(Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));let i=new Blob([new Uint8Array(e)],{type:"image/png"});n.src=e.byteLength?r.createObjectURL(i):eW}function eq(e,t){let n=new Blob([new Uint8Array(e)],{type:"image/png"});createImageBitmap(n).then(e=>{t(null,e)}).catch(e=>{t(Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}var eX=(e,t,n)=>{let r=(e,r)=>{if(e)t(e);else if(r){let e="function"==typeof createImageBitmap,i=n?n(r):r;e?eq(i,t):eY(i,t)}};return"json"===e.type?ej(e,r):eH(e,r)},eK=(e,t)=>{let n="function"==typeof createImageBitmap;n?eq(e,t):eY(e,t)},eQ=((a=eQ||{}).CENTER="center",a.TOP="top",a["TOP-LEFT"]="top-left",a["TOP-RIGHT"]="top-right",a.BOTTOM="bottom",a["BOTTOM-LEFT"]="bottom-left",a["BOTTOM-RIGHT"]="bottom-right",a.LEFT="left",a.RIGHT="right",a),eJ={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function e0(e,t,n){let r=e.classList;for(let e in eJ)eJ.hasOwnProperty(e)&&r.remove(`l7-${n}-anchor-${e}`);r.add(`l7-${n}-anchor-${t}`)}function e1(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function e2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function e3(){}var e5="\\s*([+-]?\\d+)\\s*",e4="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",e6="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e7=/^#([0-9a-f]{3,8})$/,e8=RegExp("^rgb\\("+[e5,e5,e5]+"\\)$"),e9=RegExp("^rgb\\("+[e6,e6,e6]+"\\)$"),te=RegExp("^rgba\\("+[e5,e5,e5,e4]+"\\)$"),tt=RegExp("^rgba\\("+[e6,e6,e6,e4]+"\\)$"),tn=RegExp("^hsl\\("+[e4,e6,e6]+"\\)$"),tr=RegExp("^hsla\\("+[e4,e6,e6,e4]+"\\)$"),ti={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function to(){return this.rgb().formatHex()}function ta(){return this.rgb().formatRgb()}function ts(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=e7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?tl(t):3===n?new td(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?tc(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?tc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=e8.exec(e))?new td(t[1],t[2],t[3],1):(t=e9.exec(e))?new td(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=te.exec(e))?tc(t[1],t[2],t[3],t[4]):(t=tt.exec(e))?tc(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=tn.exec(e))?tg(t[1],t[2]/100,t[3]/100,1):(t=tr.exec(e))?tg(t[1],t[2]/100,t[3]/100,t[4]):ti.hasOwnProperty(e)?tl(ti[e]):"transparent"===e?new td(NaN,NaN,NaN,0):null}function tl(e){return new td(e>>16&255,e>>8&255,255&e,1)}function tc(e,t,n,r){return r<=0&&(e=t=n=NaN),new td(e,t,n,r)}function tu(e,t,n,r){var i;return 1==arguments.length?((i=e)instanceof e3||(i=ts(i)),i)?(i=i.rgb(),new td(i.r,i.g,i.b,i.opacity)):new td:new td(e,t,n,null==r?1:r)}function td(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function tp(){return"#"+tf(this.r)+tf(this.g)+tf(this.b)}function th(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function tf(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function tg(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tb(e,t,n,r)}function tm(e){if(e instanceof tb)return new tb(e.h,e.s,e.l,e.opacity);if(e instanceof e3||(e=ts(e)),!e)return new tb;if(e instanceof tb)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+(n<r)*6:n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new tb(a,s,l,e.opacity)}function tb(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function tv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function ty(e){return"string"==typeof e&&!!ts(e)}function tE(e){let t=ts(e),n=[0,0,0,0];return null!=t&&(n[0]=t.r/255,n[1]=t.g/255,n[2]=t.b/255,n[3]=t.opacity),n}function t_(e){let t=e&&e[0],n=e&&e[1],r=e&&e[2];return t+256*n+65536*r-1}function tT(e){return[e+1&255,e+1>>8&255,e+1>>8>>8&255]}function tx(e){let t=window.document.createElement("canvas"),n=t.getContext("2d");t.width=256,t.height=1;let r=null,i=n.createLinearGradient(0,0,256,1),o=e.positions[0],a=e.positions[e.positions.length-1];for(let t=0;t<e.colors.length;++t){let n=(e.positions[t]-o)/(a-o);i.addColorStop(n,e.colors[t])}return n.fillStyle=i,n.fillRect(0,0,256,1),r=new Uint8ClampedArray(n.getImageData(0,0,256,1).data),t=null,n=null,{data:r,width:256,height:1}}function tS(e,t){let n=window.document.createElement("canvas"),r=n.getContext("2d");n.width=256,n.height=1;let i=r.createLinearGradient(0,0,256,1),o=t[1]-t[0];for(let n=0;n<e.colors.length;++n){let r=Math.max((e.positions[n]-t[0])/o,0);i.addColorStop(r,e.colors[n])}r.fillStyle=i,r.fillRect(0,0,256,1);let a=r.getImageData(0,0,256,1).data,s=tO(r,a);return n=null,r=null,s}function tA(e){let t=window.document.createElement("canvas"),n=t.getContext("2d");t.width=256,t.height=1;let r=n.createImageData(256,1);return r.data.fill(0),e.positions.forEach((t,n)=>{let i=tE(e.colors[n]);r.data[4*t+0]=255*i[0],r.data[4*t+1]=255*i[1],r.data[4*t+2]=255*i[2],r.data[4*t+3]=255*i[3]}),t=null,n=null,r}function tC(e){let t=window.document.createElement("canvas"),n=t.getContext("2d");n.globalAlpha=1,t.width=256,t.height=1;let r=256/e.colors.length;for(let t=0;t<e.colors.length;t++)n.beginPath(),n.lineWidth=2,n.strokeStyle=e.colors[t],n.moveTo(t*r,0),n.lineTo((t+1)*r,0),n.stroke();let i=n.getImageData(0,0,256,1).data,o=tO(n,i);return t=null,n=null,o}function tw(e,t){let n=window.document.createElement("canvas"),r=n.getContext("2d");r.globalAlpha=1,n.width=256,n.height=1;let i=t[1]-t[0];e.positions.length-e.colors.length!=1&&console.warn("positions 的数字个数应当比 colors 的样式多一个,poisitions 的首尾值一般为数据的最大最新值");for(let n=0;n<e.colors.length;n++)r.beginPath(),r.lineWidth=2,r.strokeStyle=e.colors[n],r.moveTo((e.positions[n]-t[0])/i*255,0),r.lineTo((e.positions[n+1]-t[0])/i*255,0),r.stroke();let o=r.getImageData(0,0,256,1).data,a=tO(r,o);return n=null,r=null,a}function tO(e,t){let n=e.createImageData(256,1);for(let e=0;e<n.data.length;e+=4)n.data[e+0]=t[e+0],n.data[e+1]=t[e+1],n.data[e+2]=t[e+2],n.data[e+3]=t[e+3];return n}function tI(e){return(null==e?void 0:e.type)==="cat"?[0,255]:[0,1]}e1(e3,ts,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:to,formatHex:to,formatHsl:function(){return tm(this).formatHsl()},formatRgb:ta,toString:ta}),e1(td,tu,e2(e3,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new td(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new td(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tp,formatHex:tp,formatRgb:th,toString:th})),e1(tb,function(e,t,n,r){return 1==arguments.length?tm(e):new tb(e,t,n,null==r?1:r)},e2(e3,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new tb(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new tb(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new td(tv(e>=240?e-240:e+120,i,r),tv(e,i,r),tv(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var tL=n(35636),tR=n.n(tL),tk=n(32222),tN=n.n(tk),tM=n(66292),tD=n.n(tM),tP=n(65439),tF=n.n(tP),tB=n(98071),tU=n.n(tB),tz=n(31223),tZ=n.n(tz),tj=n(46207),tH=n.n(tj),tG=n(59933),tV=n.n(tG),t$=n(69143),tW=n.n(t$),tY=n(56549),tq=n.n(tY),tX=n(73806),tK=n.n(tX),tQ=n(67929),tJ=n.n(tQ),t0=n(53954),t1=n.n(t0),t2=n(25066),t3=n.n(t2),t5=n(38209),t4=n.n(t5),t6=n(4363),t7=n.n(t6),t8=n(42950),t9=n.n(t8),ne=n(92042),nt=n.n(ne),nn=n(36838),nr=n.n(nn),ni=n(89300),no=n.n(ni),na=n(47638),ns=n.n(na),nl=n(53274),nc=n.n(nl),nu={isNil:tH(),merge:tJ(),throttle:t4(),isString:tq(),debounce:tD(),pull:t3(),isTypedArray:tK(),isPlainObject:tW(),isNumber:tV(),isBoolean:tU(),isEqual:tZ(),cloneDeep:tN(),uniq:t7(),clamp:tR(),upperFirst:t9(),get:tF(),mergeWith:t1(),isFunction:nt(),isObject:nr(),isUndefined:no(),camelCase:ns(),uniqueId:nc()},{pull:nd}=nu;function np(e){let t=e;return"string"==typeof e&&(t=window.document.getElementById(e)),t}function nh(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function nf(e){return nh(e).split(/\s+/)}function ng(e,t,n){let r=window.document.createElement(e);return t&&(r.className=t||""),n&&n.appendChild(r),r}function nm(e){let t=e.parentNode;t&&t.removeChild(e)}function nb(e,t){if(void 0!==e.classList){let n=nf(t);for(let t=0,r=n.length;t<r;t++)e.classList.add(n[t])}else if(!ny(e,t)){let n=nT(e);nE(e,(n?n+" ":"")+t)}}function nv(e,t){if(void 0!==e.classList){let n=nf(t);n.forEach(t=>{e.classList.remove(t)})}else nE(e,nh((" "+nT(e)+" ").replace(" "+t+" "," ")))}function ny(e,t){if(void 0!==e.classList)return e.classList.contains(t);let n=nT(e);return n.length>0&&RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function nE(e,t){e instanceof HTMLElement?e.className=t:e.className.baseVal=t}function n_(e,t,n){void 0===n?ny(e,t)?nv(e,t):nb(e,t):n?nb(e,t):nv(e,t)}function nT(e){return e instanceof SVGElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function nx(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}var nS=function(e){var t;let n=null==(t=null==document?void 0:document.documentElement)?void 0:t.style;if(!n)return e[0];for(let t in e)if(e[t]&&e[t]in n)return e[t];return e[0]}(["transform","WebkitTransform"]);function nA(e,t){e.style[nS]=t}function nC(){if("function"==typeof Event)window.dispatchEvent(new Event("resize"));else{let e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}}function nw(e){let t=["padding: "+(e.height/2-8)+"px "+e.width/2+"px;","line-height: "+e.height+"px;","background-image: url("+e.toDataURL()+");"];console.log("%c\n",t.join(""))}function nO(){var e;let t=window.document.querySelector('meta[name="viewport"]');if(!t)return 1;let n=null==(e=t.content)?void 0:e.split(","),r=n.find(e=>{let[t]=e.split("=");return"initial-scale"===t});return r?1*r.split("=")[1]:1}var nI=1>nO()?1:window.devicePixelRatio;function nL(e,t){e.setAttribute("style",`${e.style.cssText}${t}`)}function nR(e){return e.split(";").map(e=>e.trim()).filter(e=>e)}function nk(e,t){var n;let r=nR(null!=(n=e.getAttribute("style"))?n:""),i=nR(t),o=nd(r,...i);e.setAttribute("style",o.join(";"))}function nN(e){return Object.entries(e).map(([e,t])=>`${e}: ${t}`).join(";")}function nM(e,t){return{left:e.left-t.left,top:e.top-t.top,right:t.left+t.width-e.left-e.width,bottom:t.top+t.height-e.top-e.height}}function nD(e,t){e.checked=t,t?e.setAttribute("checked","true"):e.removeAttribute("checked")}function nP(e){e.innerHTML=""}function nF(e){e.setAttribute("draggable","false")}function nB(e,t){if("string"==typeof t){let n=document.createElement("div");for(n.innerHTML=t;n.firstChild;)e.append(n.firstChild)}else Array.isArray(t)?e.append(...t):e.append(t)}function nU(e,t){var n;let r=Array.isArray(t)?t:[t],i=e;for(;i instanceof Element&&i!==window.document.body;){if(r.find(e=>null==i?void 0:i.matches(e)))return i;i=null!=(n=null==i?void 0:i.parentElement)?n:null}}function nz(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap}function nZ(){return"function"==typeof importScripts}var nj=nZ()?()=>self.worker&&self.worker.referrer:()=>("blob:"===window.location.protocol?window.parent:window).location.href,nH=null==navigator?void 0:navigator.userAgent,nG=!!nH.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),nV=nH.indexOf("Android")>-1||nH.indexOf("Adr")>-1;function n$(){let e=!0;for(let t of["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"])if(nH.indexOf(t)>0){e=!1;break}return e}function nW(e,t){e.forEach(e=>{t[e]&&(t[e]=t[e].bind(t))})}var nY=class{constructor(e=16){this.duration=16,this.timestamp=new Date().getTime(),this.duration=e}run(e){let t=new Date().getTime(),n=t-this.timestamp;this.timestamp=t,n>=this.duration&&e()}};function nq(e){var t=[1/0,1/0,-1/0,-1/0];return!function e(t,n,r){if(null!==t)for(var i,o,a,s,l,c,u,d,p=0,h=0,f=t.type,g="FeatureCollection"===f,m="Feature"===f,b=g?t.features.length:1,v=0;v<b;v++){l=(d=!!(u=g?t.features[v].geometry:m?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var y=0;y<l;y++){var E=0,_=0;if(null!==(s=d?u.geometries[y]:u)){c=s.coordinates;var x=s.type;switch(p=r&&("Polygon"===x||"MultiPolygon"===x)?1:0,x){case null:break;case"Point":if(!1===n(c,h,v,E,_))return!1;h++,E++;break;case"LineString":case"MultiPoint":for(i=0;i<c.length;i++){if(!1===n(c[i],h,v,E,_))return!1;h++,"MultiPoint"===x&&E++}"LineString"===x&&E++;break;case"Polygon":case"MultiLineString":for(i=0;i<c.length;i++){for(o=0;o<c[i].length-p;o++){if(!1===n(c[i][o],h,v,E,_))return!1;h++}"MultiLineString"===x&&E++,"Polygon"===x&&_++}"Polygon"===x&&E++;break;case"MultiPolygon":for(i=0;i<c.length;i++){for(o=0,_=0;o<c[i].length;o++){for(a=0;a<c[i][o].length-p;a++){if(!1===n(c[i][o][a],h,v,E,_))return!1;h++}_++}E++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(!1===e(s.geometries[i],n,r))return!1;break;default:throw Error("Unknown Geometry Type")}}}}}(e,function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])}),t}function nX(e){return"number"==typeof e}function nK(e){return e-Math.fround(e)}nq.default=nq;var nQ=2*Math.PI*6378137/2;function nJ(e,t){let[n,r,i,o]=t;return e.lng>n&&e.lng<=i&&e.lat>r&&e.lat<=o}function n0(e){let t=[1/0,1/0,-1/0,-1/0];return e.forEach(e=>{let{coordinates:n}=e;(function e(t,n){return Array.isArray(n[0])?n.forEach(n=>{e(t,n)}):(t[0]>n[0]&&(t[0]=n[0]),t[1]>n[1]&&(t[1]=n[1]),t[2]<n[0]&&(t[2]=n[0]),t[3]<n[1]&&(t[3]=n[1])),t})(t,n)}),t}function n1(e,t){return function e(t,n){return Array.isArray(t[0])?t.map(t=>e(t,n)):n(t)}(e,t)}function n2(e,t=!0,n={enable:!0,decimal:1}){e=n6(e,t);let r=e[0],i=e[1],o=r*nQ/180,a=Math.log(Math.tan((90+i)*Math.PI/360))/(Math.PI/180);return a=a*nQ/180,n.enable&&(o=Number(o.toFixed(n.decimal)),a=Number(a.toFixed(n.decimal))),3===e.length?[o,a,e[2]]:[o,a]}function n3(e,t=6){let n=e[0],r=e[1],i=n/nQ*180,o=r/nQ*180;return o=180/Math.PI*(2*Math.atan(Math.exp(o*Math.PI/180))-Math.PI/2),null!=t&&(i=Number(i.toFixed(t)),o=Number(o.toFixed(t))),3===e.length?[i,o,e[2]]:[i,o]}function n5(e){if(null==e)throw Error("lng is required");return(e>180||e<-180)&&((e%=360)>180&&(e=-360+e),e<-180&&(e=360+e),0===e&&(e=0)),e}function n4(e){if(null==e)throw Error("lat is required");return(e>90||e<-90)&&((e%=180)>90&&(e=-180+e),e<-90&&(e=180+e),0===e&&(e=0)),e}function n6(e,t){if(!1===t)return e;let n=n5(e[0]),r=n4(e[1]);return r>85&&(r=85),r<-85&&(r=-85),3===e.length?[n,r,e[2]]:[n,r]}function n7(e){let t=Math.max(Math.min(85.0511287798,e[1]),-85.0511287798),n=Math.PI/180,r=e[0]*n,i=t*n;i=Math.log(Math.tan(Math.PI/4+i/2));let o=.5/Math.PI,a=-.5/Math.PI;return n=.5,[Math.floor(r=268435456*(o*r+.5)),Math.floor(i=268435456*(a*i+n))]}function n8(e){let t=.5/Math.PI,n=-.5/Math.PI,r=.5,[i,o]=e;i=(i/268435456-.5)/t,o=(Math.atan(Math.pow(Math.E,o=(o/268435456-r)/n))-Math.PI/4)*2,r=Math.PI/180;let a=o/r,s=i/r;return[s,a]}function n9(e,t){let n=Math.PI/180;return t=Math.max(Math.min(85.0511287798,t),-85.0511287798),e*=n,t*=n,[6378137*e,6378137*(t=Math.log(Math.tan(Math.PI/4+t/2)))]}function re(e,t){let n=Math.PI/180,r=2*(Math.atan(Math.exp(t/6378137))-Math.PI/4)/n;return[e/6378137/n,r]}function rt(e,t,n){let r=ex(t[1]-e[1]),i=ex(t[0]-e[0]),o=ex(e[1]),a=ex(t[1]),s=Math.pow(Math.sin(r/2),2)+Math.pow(Math.sin(i/2),2)*Math.cos(o)*Math.cos(a);return function(e,t){void 0===t&&(t="kilometers");var n=ey[t];if(!n)throw Error(t+" units is invalid");return e*n}(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),"meters")}function rn(e){let t=Math.PI/180,n=Math.max(Math.min(85.0511287798,e[1]),-85.0511287798),r=Math.sin(n*t),i=6378137*e[0]*t,o=6378137*Math.log((1+r)/(1-r))/2;return[i,o]}function rr(e,t){let n=Math.abs(e[1][1]-e[0][1])*t,r=Math.abs(e[1][0]-e[0][0])*t;return[[e[0][0]-r,e[0][1]-n],[e[1][0]+r,e[1][1]+n]]}function ri(e,t){return e[0][0]<=t[0][0]&&e[0][1]<=t[0][1]&&e[1][0]>=t[1][0]&&e[1][1]>=t[1][1]}function ro(e){return[[e[0],e[1]],[e[2],e[3]]]}function ra(e){let t=rs(e,[0,0]);return[e[0]/t,e[1]/t]}function rs(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function rl(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function rc(e,t){return 180*Math.acos((e[0]*t[0]+e[1]*t[1])/(rl(e)*rl(t)))/Math.PI}function ru(e,t){return t[0]>0?t[1]>0?90-180*Math.atan(t[1]/t[0])/Math.PI:90+180*Math.atan(-t[1]/t[0])/Math.PI:t[1]<0?180+(90-180*Math.atan(t[1]/t[0])/Math.PI):270+180*Math.atan(-(t[1]/t[0]))/Math.PI}function rd(e,t=100){if(!e||e.length<2)return;let n=[0,1],r=0,i=[];for(let t=0;t<e.length-1;t++){let o=e[t],a=e[t+1],s=rs(o,a);r+=s;let l=[o[0]-a[0],o[1]-a[1]],c=ru(n,l);if(t>0){let e=i[t-1].rotation;e-c>360-e+c&&(c+=360)}i.push({start:o,end:a,dis:s,rotation:c,duration:0})}return i.map(e=>{e.duration=t*(e.dis/r)}),i}function rp(e){if(nX(e[0]))return e;if(nX(e[0][0]))throw Error("当前数据不支持标注");if(nX(e[0][0][0])){let t=0,n=0,r=0;return e.forEach(e=>{e.forEach(e=>{t+=e[0],n+=e[1],r++})}),[t/r,n/r,0]}throw Error("当前数据不支持标注")}function rh(e){let t=e[0],n=e[1],r=e[0],i=e[1],o=0,a=0,s=0;for(let l=0;l<e.length;l+=2){let c=e[l],u=e[l+1];c&&u&&(t=Math.max(c,t),n=Math.max(u,n),r=Math.min(c,r),i=Math.min(u,i),o+=c,a+=u,s++)}return{center:[o/s,a/s],radius:Math.sqrt(Math.pow(t-r,2)+Math.pow(n-i,2))/2}}function rf(e){var t,n,r;return nq((t=[function(e,t,n){if(void 0===n&&(n={}),e.length<2)throw Error("coordinates must be an array of two or more positions");return eE({type:"LineString",coordinates:e},void 0,n)}(e)],void 0===n&&(n={}),r={type:"FeatureCollection"},n.id&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.features=t,r))}function rg(e){let t=0;e+="x";let n=Math.floor(65745979961613.07);for(let r=0;r<e.length;r++)t>n&&(t=Math.floor(t/137)),t=131*t+e.charCodeAt(r);return t}function rm(e){e=e.toString();let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return t>>>0}function rb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function rv(e,t,n,r,i=30,o){let a=n;return(o&&(a=Math.round(n*(i-1))/(i-1)),r)?rE(e,t,a,r):rE(e,t,a,.314)}function ry(e,t){let n=1-t;return(e[0]*n+e[1]*t)*n+(e[1]*n+e[2]*t)*t}function rE(e,t,n,r){let i=function(e,t,n){var r;let i=[t[0]-e[0],t[1]-e[1]],o=Math.sqrt(Math.pow(i[0]-(r=[0,0])[0],2)+Math.pow(i[1]-r[1],2)),a=Math.atan2(i[1],i[0]),s=o/2/Math.cos(n),l=a+n,c=[s*Math.cos(l)+e[0],s*Math.sin(l)+e[1]];return c}(e,t,r),o=[e[0],i[0],t[0]],a=[e[1],i[1],t[1]];return[ry(o,n),ry(a,n),0]}function r_(e,t,n,r,i=30,o){let a=n;return o&&(a=Math.round(29*n)/29),function(e,t,n){let r=[ex(e[0]),ex(e[1])],i=[ex(t[0]),ex(t[1])],o=function(e,t){let n=[e[0]-t[0],e[1]-t[1]],r=[Math.sin(n[0]/2),Math.sin(n[1]/2)],i=r[1]*r[1]+Math.cos(e[1])*Math.cos(t[1])*r[0]*r[0];return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))}(r,i);if(.001>Math.abs(o-Math.PI))return[(1-n)*r[0]+n*i[0],(1-n)*r[1]+n*i[1]];let a=Math.sin((1-n)*o)/Math.sin(o),s=Math.sin(n*o)/Math.sin(o),l=[Math.sin(r[0]),Math.sin(r[1])],c=[Math.cos(r[0]),Math.cos(r[1])],u=[Math.sin(i[0]),Math.sin(i[1])],d=[Math.cos(i[0]),Math.cos(i[1])],p=a*c[1]*c[0]+s*d[1]*d[0],h=a*c[1]*l[0]+s*d[1]*u[0],f=a*l[1]+s*u[1];return[eT(Math.atan2(h,p)),eT(Math.atan2(f,Math.sqrt(p*p+h*h)))]}(e,t,a)}var rT=Object.defineProperty,rx=Object.getOwnPropertySymbols,rS=Object.prototype.hasOwnProperty,rA=Object.prototype.propertyIsEnumerable,rC=(e,t,n)=>t in e?rT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rw=(e,t)=>{for(var n in t||(t={}))rS.call(t,n)&&rC(e,n,t[n]);if(rx)for(var n of rx(t))rA.call(t,n)&&rC(e,n,t[n]);return e};function rO(e,t){let{featureId:n}=t,r=e.data.dataArray;return"number"==typeof n&&(r=r.filter(({id:e})=>e===n)),r.map(e=>{let n=function(e,t){let n;let{offset:r,shape:i,thetaOffset:o,segmentNumber:a=30,autoFit:s=!0}=t,{coordinates:l}=e;if("line"===i)return function(e,t){let n,r,i=0,o=[];for(let t=0;t<e.length-1;t++){let n=e[t],r=e[t+1],a=Math.sqrt(Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2)),s=i;i+=a,o.push({p1:n,p2:r,totalDistance:i,distance:a,lastTotalDistance:s})}let a=i*t;for(let e of o){let t=e.totalDistance;if(t>a){let t=e.p1,i=e.p2,o=(a-e.lastTotalDistance)/e.distance,s=[i[0]*o+t[0]*(1-o),i[1]*o+t[1]*(1-o)];n=s[0],r=s[1];break}}return{lng:n,lat:r,height:0}}(l,r);let c=l[0],u=l[1],d="string"==typeof o?e[o]||0:o;switch(i){case"arc":default:n=rv;break;case"greatcircle":n=r_}let[p,h,f]=n(c,u,r,d,a,s);return{lng:p,lat:h,height:f}}(e,t);return rw(rw({},e),n)})}function rI(e,t){return new Promise(n=>{e.inited?n(rO(e,t)):e.once("update",()=>{n(rO(e,t))})})}var rL=class{constructor(e=50,t){this.limit=e,this.destroy=t||this.defaultDestroy,this.order=[],this.clear()}clear(){this.order.forEach(e=>{this.delete(e)}),this.cache={},this.order=[]}get(e){let t=this.cache[e];return t&&(this.deleteOrder(e),this.appendOrder(e)),t}set(e,t){this.cache[e]?(this.delete(e),this.cache[e]=t,this.appendOrder(e)):(Object.keys(this.cache).length===this.limit&&this.delete(this.order[0]),this.cache[e]=t,this.appendOrder(e))}delete(e){let t=this.cache[e];t&&(this.deleteCache(e),this.deleteOrder(e),this.destroy(t,e))}deleteCache(e){delete this.cache[e]}deleteOrder(e){let t=this.order.findIndex(t=>t===e);t>=0&&this.order.splice(t,1)}appendOrder(e){this.order.push(e)}defaultDestroy(e,t){return null}};function rR(e){if(0===e.length)throw Error("max requires at least one data point");let t=e[0];for(let n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return 1*t}function rk(e){if(0===e.length)throw Error("min requires at least one data point");let t=e[0];for(let n=1;n<e.length;n++)e[n]<t&&(t=e[n]);return 1*t}function rN(e){if(0===e.length)return 0;let t=1*e[0];for(let n=1;n<e.length;n++)t+=1*e[n];return t}function rM(e){if(0===e.length)throw Error("mean requires at least one data point");return rN(e)/e.length}function rD(e){if(0===e.length)throw Error("mean requires at least one data point");if(e.length<3)return e[0];e.sort();let t=e[0],n=NaN,r=0,i=1;for(let o=1;o<e.length+1;o++)e[o]!==t?(i>r&&(r=i,n=t),i=1,t=e[o]):i++;return 1*n}var rP={min:rk,max:rR,mean:rM,sum:rN,mode:rD};function rF(e,t){return e.map(e=>e[t])}function rB(e,t){return rP[e](t)}var rU=n(11312),rz=n.n(rU),rZ=((s=rZ||{}).Realtime="realtime",s.Overlap="overlap",s.Replace="replace",s),rj=((l=rj||{}).Loading="Loading",l.Loaded="Loaded",l.Failure="Failure",l.Cancelled="Cancelled",l);function rH(e){for(;e;){if(e.isLoaded)return e.properties.state|=2,!0;e=e.parent}return!1}function rG(e){e.children.forEach(e=>{e.isLoaded?e.properties.state|=2:rG(e)})}var rV=[-1/0,-1/0,1/0,1/0],r$={[rZ.Realtime]:function(e){e.forEach(e=>{e.isCurrent&&(e.isVisible=e.isLoaded)})},[rZ.Overlap]:function(e){e.forEach(e=>{e.properties.state=0}),e.forEach(e=>{e.isCurrent&&!rH(e)&&rG(e)}),e.forEach(e=>{e.isVisible=!!(2&e.properties.state)})},[rZ.Replace]:function(e){e.forEach(e=>{e.properties.state=0}),e.forEach(e=>{e.isCurrent&&rH(e)});let t=e.slice().sort((e,t)=>e.z-t.z);t.forEach(e=>{e.isVisible=!!(2&e.properties.state),e.children.length&&(e.isVisible||1&e.properties.state)?e.children.forEach(e=>{e.properties.state=1}):e.isCurrent&&rG(e)})}},rW=()=>{};function rY(e,t,n){let r=Math.floor((e+180)/360*Math.pow(2,n)),i=Math.floor((1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*Math.pow(2,n));return[r,i]}function rq(e,t,n){let r=e/Math.pow(2,n)*360-180,i=Math.PI-2*Math.PI*t/Math.pow(2,n),o=180/Math.PI*Math.atan(.5*(Math.exp(i)-Math.exp(-i)));return[r,o]}var rX=(e,t,n)=>{let[r,i]=rq(e,t,n),[o,a]=rq(e+1,t+1,n);return[r,a,o,i]};function rK({zoom:e,latLonBounds:t,maxZoom:n=1/0,minZoom:r=0,zoomOffset:i=0,extent:o=rV}){let a=Math.ceil(e)+i;if(Number.isFinite(r)&&a<r)return[];Number.isFinite(n)&&a>n&&(a=n);let[s,l,c,u]=t,d=[Math.max(s,o[0]),Math.max(l,o[1]),Math.min(c,o[2]),Math.min(u,o[3])],p=[],[h,f]=rY(d[0],d[1],a),[g,m]=rY(d[2],d[3],a);for(let e=h;e<=g;e++)for(let t=m;t<=f;t++)p.push({x:e,y:t,z:a});let b=(g+h)/2,v=(f+m)/2,y=(e,t)=>Math.abs(e-b)+Math.abs(t-v);return p.sort((e,t)=>y(e.x,e.y)-y(t.x,t.y)),p}var rQ=(e,t,n,r=!0)=>{let i=Math.pow(2,n),o=e;return r&&(o<0?o+=i:o>i-1&&(o%=i)),{warpX:o,warpY:t}},rJ=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(e){i(e)}},a=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())}),r0=class extends rU.EventEmitter{constructor(e){super(),this.tileSize=256,this.isVisible=!1,this.isCurrent=!1,this.isVisibleChange=!1,this.loadedLayers=0,this.isLayerLoaded=!1,this.isLoad=!1,this.isChildLoad=!1,this.parent=null,this.children=[],this.data=null,this.properties={},this.loadDataId=0;let{x:t,y:n,z:r,tileSize:i,warp:o=!0}=e;this.x=t,this.y=n,this.z=r,this.warp=o||!0,this.tileSize=i}get isLoading(){return this.loadStatus===rj.Loading}get isLoaded(){return this.loadStatus===rj.Loaded}get isFailure(){return this.loadStatus===rj.Failure}setTileLayerLoaded(){this.isLayerLoaded=!0}get isCancelled(){return this.loadStatus===rj.Cancelled}get isDone(){return[rj.Loaded,rj.Cancelled,rj.Failure].includes(this.loadStatus)}get bounds(){return rX(this.x,this.y,this.z)}get bboxPolygon(){let[e,t,n,r]=this.bounds,i=function(e,t){void 0===t&&(t={});var n=Number(e[0]),r=Number(e[1]),i=Number(e[2]),o=Number(e[3]);if(6===e.length)throw Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[n,r],s=[n,o],l=[i,o];return e_([[a,[i,r],l,s,a]],t.properties,{bbox:e,id:t.id})}(this.bounds,{properties:{key:this.key,id:this.key,bbox:this.bounds,center:[(n-e)/2,(r-t)/2],meta:`
      ${this.key}
      `}});return i}get key(){let e=`${this.x}_${this.y}_${this.z}`;return e}layerLoad(){this.loadedLayers++,this.emit("layerLoaded")}loadData(e){return rJ(this,arguments,function*({getData:e,onLoad:t,onError:n}){let r;this.loadDataId++;let i=this.loadDataId;this.isLoading&&this.abortLoad(),this.abortController=new AbortController,this.loadStatus=rj.Loading;let o=null;try{let{x:t,y:n,z:r,bounds:i,tileSize:a,warp:s}=this,{warpX:l,warpY:c}=rQ(t,n,r,s),{signal:u}=this.abortController;o=yield e({x:l,y:c,z:r,bounds:i,tileSize:a,signal:u,warp:s},this)}catch(e){r=e}if(i===this.loadDataId&&(!this.isCancelled||o)){if(r||!o){this.loadStatus=rj.Failure,n(r,this);return}this.loadStatus=rj.Loaded,this.data=o,t(this)}})}reloadData(e){this.isLoading&&this.abortLoad(),this.loadData(e)}abortLoad(){this.isLoaded||this.isCancelled||(this.loadStatus=rj.Cancelled,this.abortController.abort(),this.xhrCancel&&this.xhrCancel())}},r1=(e,t)=>{let n=ro(e),r=rr(n,t),i=[Math.max(r[0][0],-900),Math.max(r[0][1],-85.0511287798065),Math.min(r[1][0],900),Math.min(r[1][1],85.0511287798065)];return i},r2=(e,t)=>{let n=ro(e),r=ro(t),i=ri(n,r);return i},r3=Object.defineProperty,r5=Object.defineProperties,r4=Object.getOwnPropertyDescriptors,r6=Object.getOwnPropertySymbols,r7=Object.prototype.hasOwnProperty,r8=Object.prototype.propertyIsEnumerable,r9=(e,t,n)=>t in e?r3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ie=(e,t)=>{for(var n in t||(t={}))r7.call(t,n)&&r9(e,n,t[n]);if(r6)for(var n of r6(t))r8.call(t,n)&&r9(e,n,t[n]);return e},it=(e,t)=>r5(e,r4(t)),{throttle:ir}=nu,ii=((c=ii||{}).TilesLoadStart="tiles-load-start",c.TileLoaded="tile-loaded",c.TileError="tile-error",c.TileUnload="tile-unload",c.TileUpdate="tile-update",c.TilesLoadFinished="tiles-load-finished",c),io=class extends rz(){constructor(e){super(),this.currentTiles=[],this.cacheTiles=new Map,this.throttleUpdate=ir((e,t)=>{this.update(e,t)},16),this.onTileLoad=e=>{this.emit("tile-loaded",e),this.updateTileVisible(),this.loadFinished()},this.onTileError=(e,t)=>{this.emit("tile-error",{error:e,tile:t}),this.updateTileVisible(),this.loadFinished()},this.onTileUnload=e=>{this.emit("tile-unload",e),this.loadFinished()},this.options={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,extent:rV,getTileData:rW,warp:!0,updateStrategy:rZ.Replace},this.updateOptions(e)}get isLoaded(){return this.currentTiles.every(e=>e.isDone)}get tiles(){let e=Array.from(this.cacheTiles.values()).sort((e,t)=>e.z-t.z);return e}updateOptions(e){let t=void 0===e.minZoom?this.options.minZoom:Math.ceil(e.minZoom),n=void 0===e.maxZoom?this.options.maxZoom:Math.floor(e.maxZoom);this.options=it(ie(ie({},this.options),e),{minZoom:t,maxZoom:n})}update(e,t){let n=Math.max(0,Math.ceil(e));if(this.lastViewStates&&this.lastViewStates.zoom===n&&r2(this.lastViewStates.latLonBoundsBuffer,t))return;let r=r1(t,.2);this.lastViewStates={zoom:n,latLonBounds:t,latLonBoundsBuffer:r},this.currentZoom=n;let i=!1,o=this.getTileIndices(n,r).filter(e=>this.options.warp||e.x>=0&&e.x<Math.pow(2,n));this.emit("tiles-load-start"),this.currentTiles=o.map(({x:e,y:t,z:n})=>{let r=this.getTile(e,t,n);if(r){let e=(null==r?void 0:r.isFailure)||(null==r?void 0:r.isCancelled);return e&&r.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}),r}return r=this.createTile(e,t,n),i=!0,r}),i&&this.resizeCacheTiles(),this.updateTileVisible(),this.pruneRequests()}reloadAll(){for(let[e,t]of this.cacheTiles){if(!this.currentTiles.includes(t)){this.cacheTiles.delete(e),this.onTileUnload(t);return}this.onTileUnload(t),t.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError})}}reloadTileById(e,t,n){let r=this.cacheTiles.get(`${t},${n},${e}`);r&&(this.onTileUnload(r),r.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}))}reloadTileByLnglat(e,t,n){let r=this.getTileByLngLat(e,t,n);r&&this.reloadTileById(r.z,r.x,r.y)}reloadTileByExtent(e,t){let n=this.getTileIndices(t,e);n.forEach(e=>{this.reloadTileById(e.z,e.x,e.y)})}pruneRequests(){let e=[];for(let t of this.cacheTiles.values())!t.isLoading||t.isCurrent||t.isVisible||e.push(t);for(;e.length>0;){let t=e.shift();t.abortLoad()}}getTileByLngLat(e,t,n){let{zoomOffset:r}=this.options,i=Math.ceil(n)+r,o=rY(e,t,i),a=this.tiles.filter(e=>e.key===`${o[0]}_${o[1]}_${i}`);return a[0]}getTileExtent(e,t){return this.getTileIndices(t,e)}getTileByZXY(e,t,n){let r=this.tiles.filter(r=>r.key===`${t}_${n}_${e}`);return r[0]}clear(){for(let e of this.cacheTiles.values())e.isLoading?e.abortLoad():this.onTileUnload(e);this.lastViewStates=void 0,this.cacheTiles.clear(),this.currentTiles=[]}destroy(){this.clear(),this.removeAllListeners()}updateTileVisible(){let e=this.options.updateStrategy,t=new Map;for(let e of this.cacheTiles.values())t.set(e.key,e.isVisible),e.isCurrent=!1,e.isVisible=!1;for(let e of this.currentTiles)e.isCurrent=!0,e.isVisible=!0;let n=Array.from(this.cacheTiles.values());"function"==typeof e?e(n):r$[e](n);let r=!1;Array.from(this.cacheTiles.values()).forEach(e=>{e.isVisible!==t.get(e.key)?(e.isVisibleChange=!0,r=!0):e.isVisibleChange=!1}),r&&this.emit("tile-update")}getTileIndices(e,t){let{tileSize:n,extent:r,zoomOffset:i}=this.options,o=Math.floor(this.options.maxZoom),a=Math.ceil(this.options.minZoom),s=rK({maxZoom:o,minZoom:a,zoomOffset:i,tileSize:n,zoom:e,latLonBounds:t,extent:r});return s}getTileId(e,t,n){let r=`${e},${t},${n}`;return r}loadFinished(){let e=!this.currentTiles.some(e=>!e.isDone);return e&&this.emit("tiles-load-finished"),e}getTile(e,t,n){let r=this.getTileId(e,t,n),i=this.cacheTiles.get(r);return i}createTile(e,t,n){let r=this.getTileId(e,t,n),i=new r0({x:e,y:t,z:n,tileSize:this.options.tileSize,warp:this.options.warp});return this.cacheTiles.set(r,i),i.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}),i}resizeCacheTiles(){let e=5*this.currentTiles.length,t=this.cacheTiles.size>e;if(t){for(let[t,n]of this.cacheTiles)if(n.isVisible||this.currentTiles.includes(n)||(this.cacheTiles.delete(t),this.onTileUnload(n)),this.cacheTiles.size<=e)break}this.rebuildTileTree()}rebuildTileTree(){for(let e of this.cacheTiles.values())e.parent=null,e.children.length=0;for(let e of this.cacheTiles.values()){let t=this.getNearestAncestor(e.x,e.y,e.z);e.parent=t,(null==t?void 0:t.children)&&t.children.push(e)}}getNearestAncestor(e,t,n){for(;n>this.options.minZoom;){e=Math.floor(e/2),t=Math.floor(t/2),n-=1;let r=this.getTile(e,t,n);if(r)return r}return null}};function ia(e){return/(?=.*{box})(?=.*{z})(?=.*{x})(?=.*({y}|{-y}))/.test(e)}function is(e){let t=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){let r;let i=n[1].charCodeAt(0),o=n[2].charCodeAt(0);for(r=i;r<=o;++r)t.push(e.replace(n[0],String.fromCharCode(r)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e)){let r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)t.push(e.replace(n[0],i.toString()));return t}return t.push(e),t}function il(e,t){if(!e||!e.length)throw Error("url is not allowed to be empty");let{x:n,y:r,z:i}=t,o=is(e),a=Math.abs(n+r)%o.length,s=eF(o[a])?`${o[a]}/{z}/{x}/{y}`:o[a];return s.replace(/\{x\}/g,n.toString()).replace(/\{y\}/g,r.toString()).replace(/\{z\}/g,i.toString()).replace(/\{bbox\}/g,rX(n,r,i).join(",")).replace(/\{-y\}/g,(Math.pow(2,i)-r-1).toString())}function ic(e,t){let{x:n,y:r,z:i,layer:o,version:a="1.0.0",style:s="default",format:l,service:c="WMTS",tileMatrixset:u}=t,d=is(e),p=Math.abs(n+r)%d.length,h=`${d[p]}&SERVICE=${c}&REQUEST=GetTile&VERSION=${a}&LAYER=${o}&STYLE=${s}&TILEMATRIXSET=${u}&FORMAT=${l}&TILECOL=${n}&TILEROW=${r}&TILEMATRIX=${i}`;return h}function iu(e,t){return null==e?t:e}var id=n(47903),ip=n.n(id);function ih(e){return!!Array.isArray(e)&&(0===e.length||"number"==typeof e[0])}function ig(e){let t=Object.isFrozen(e)?nu.cloneDeep(e):e;return ip()(t,!0),t}function im(e,t){return e||[[t[0],t[3]],[t[2],t[3]],[t[2],t[1]],[t[0],t[1]]]}var ib=Object.defineProperty,iv=Object.defineProperties,iy=Object.getOwnPropertyDescriptors,iE=Object.getOwnPropertySymbols,i_=Object.prototype.hasOwnProperty,iT=Object.prototype.propertyIsEnumerable,ix=(e,t,n)=>t in e?ib(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iS=(e,t)=>{for(var n in t||(t={}))i_.call(t,n)&&ix(e,n,t[n]);if(iE)for(var n of iE(t))iT.call(t,n)&&ix(e,n,t[n]);return e},iA=(e,t)=>iv(e,iy(t));function iC(e,t){let{x:n,y:r,x1:i,y1:o,coordinates:a,geometry:s}=t,l=[];if(!Array.isArray(e))return{dataArray:[]};if(s)return e.filter(e=>e[s]&&e[s].type&&e[s].coordinates&&e[s].coordinates.length>0).forEach((e,t)=>{let n=ig(e[s]);eC(n,n=>{let r=eS(n),i=iA(iS({},e),{_id:t,coordinates:r});l.push(i)})}),{dataArray:l};for(let t=0;t<e.length;t++){let s=e[t],c=[];if(a){let e="Polygon";Array.isArray(a[0])||(e="Point"),Array.isArray(a[0])&&!Array.isArray(a[0][0])&&(e="LineString");let t=ig({type:e,coordinates:s[a]});c=t.coordinates}else if(n&&r&&i&&o){let e=[parseFloat(s[n]),parseFloat(s[r])],t=[parseFloat(s[i]),parseFloat(s[o])];c=[e,t]}else n&&r&&(c=[parseFloat(s[n]),parseFloat(s[r])]);let u=iA(iS({},s),{_id:t,coordinates:c});l.push(u)}return{dataArray:l}}var iw=Object.defineProperty,iO=Object.defineProperties,iI=Object.getOwnPropertyDescriptors,iL=Object.getOwnPropertySymbols,iR=Object.prototype.hasOwnProperty,ik=Object.prototype.propertyIsEnumerable,iN=(e,t,n)=>t in e?iw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iM=(e,t)=>{for(var n in t||(t={}))iR.call(t,n)&&iN(e,n,t[n]);if(iL)for(var n of iL(t))ik.call(t,n)&&iN(e,n,t[n]);return e},iD=(e,t)=>iO(e,iI(t));function iP(e,t,n,r){var i={id:void 0===e?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)iF(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<t.length;r++)iF(e,t[r]);else if("MultiPolygon"===n)for(r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)iF(e,t[r][i])}(i),i}function iF(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function iB(e,t,n,r){if(t.geometry){var i=t.geometry.coordinates,o=t.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===o)iU(i,s);else if("MultiPoint"===o)for(var c=0;c<i.length;c++)iU(i[c],s);else if("LineString"===o)iz(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(c=0;c<i.length;c++)s=[],iz(i[c],s,a,!1),e.push(iP(l,"LineString",s,t.properties));return}iZ(i,s,a,!1)}else if("Polygon"===o)iZ(i,s,a,!0);else if("MultiPolygon"===o)for(c=0;c<i.length;c++){var u=[];iZ(i[c],u,a,!0),s.push(u)}else if("GeometryCollection"===o){for(c=0;c<t.geometry.geometries.length;c++)iB(e,{id:l,geometry:t.geometry.geometries[c],properties:t.properties},n,r);return}else throw Error("Input data is not a valid GeoJSON object.");e.push(iP(l,o,s,t.properties))}}function iU(e,t){var n;t.push(e[0]/360+.5),t.push(ij(e[1])),t.push(0)}function iz(e,t,n,r){for(var i,o,a=0,s=0;s<e.length;s++){var l,c=e[s][0]/360+.5,u=ij(e[s][1]);t.push(c),t.push(u),t.push(0),s>0&&(r?a+=(i*u-c*o)/2:a+=Math.sqrt(Math.pow(c-i,2)+Math.pow(u-o,2))),i=c,o=u}var d=t.length-3;t[2]=1,function e(t,n,r,i){for(var o,a=i,s=r-n>>1,l=r-n,c=t[n],u=t[n+1],d=t[r],p=t[r+1],h=n+3;h<r;h+=3){var f=function(e,t,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var l=((e-n)*a+(t-r)*s)/(a*a+s*s);l>1?(n=i,r=o):l>0&&(n+=a*l,r+=s*l)}return(a=e-n)*a+(s=t-r)*s}(t[h],t[h+1],c,u,d,p);if(f>a)o=h,a=f;else if(f===a){var g=Math.abs(h-s);g<l&&(o=h,l=g)}}a>i&&(o-n>3&&e(t,n,o,i),t[o+2]=a,r-o>3&&e(t,o,r,i))}(t,0,d,n),t[d+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function iZ(e,t,n,r){for(var i=0;i<e.length;i++){var o=[];iz(e[i],o,n,r),t.push(o)}}function ij(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function iH(e,t,n,r,i,o,a,s){if(n/=t,r/=t,o>=n&&a<r)return e;if(a<n||o>=r)return null;for(var l=[],c=0;c<e.length;c++){var u=e[c],d=u.geometry,p=u.type,h=0===i?u.minX:u.minY,f=0===i?u.maxX:u.maxY;if(h>=n&&f<r){l.push(u);continue}if(!(f<n)&&!(h>=r)){var g=[];if("Point"===p||"MultiPoint"===p)!function(e,t,n,r,i){for(var o=0;o<e.length;o+=3){var a=e[o+i];a>=n&&a<=r&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}(d,g,n,r,i);else if("LineString"===p)iG(d,g,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===p)i$(d,g,n,r,i,!1);else if("Polygon"===p)i$(d,g,n,r,i,!0);else if("MultiPolygon"===p)for(var m=0;m<d.length;m++){var b=[];i$(d[m],b,n,r,i,!0),b.length&&g.push(b)}if(g.length){if(s.lineMetrics&&"LineString"===p){for(m=0;m<g.length;m++)l.push(iP(u.id,p,g[m],u.tags));continue}("LineString"===p||"MultiLineString"===p)&&(1===g.length?(p="LineString",g=g[0]):p="MultiLineString"),("Point"===p||"MultiPoint"===p)&&(p=3===g.length?"Point":"MultiPoint"),l.push(iP(u.id,p,g,u.tags))}}}return l.length?l:null}function iG(e,t,n,r,i,o,a){for(var s,l,c=iV(e),u=0===i?iY:iq,d=e.start,p=0;p<e.length-3;p+=3){var h=e[p],f=e[p+1],g=e[p+2],m=e[p+3],b=e[p+4],v=0===i?h:f,y=0===i?m:b,E=!1;a&&(s=Math.sqrt(Math.pow(h-m,2)+Math.pow(f-b,2))),v<n?y>n&&(l=u(c,h,f,m,b,n),a&&(c.start=d+s*l)):v>r?y<r&&(l=u(c,h,f,m,b,r),a&&(c.start=d+s*l)):iW(c,h,f,g),y<n&&v>=n&&(l=u(c,h,f,m,b,n),E=!0),y>r&&v<=r&&(l=u(c,h,f,m,b,r),E=!0),!o&&E&&(a&&(c.end=d+s*l),t.push(c),c=iV(e)),a&&(d+=s)}var _=e.length-3;h=e[_],f=e[_+1],g=e[_+2],(v=0===i?h:f)>=n&&v<=r&&iW(c,h,f,g),_=c.length-3,o&&_>=3&&(c[_]!==c[0]||c[_+1]!==c[1])&&iW(c,c[0],c[1],c[2]),c.length&&t.push(c)}function iV(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function i$(e,t,n,r,i,o){for(var a=0;a<e.length;a++)iG(e[a],t,n,r,i,o,!1)}function iW(e,t,n,r){e.push(t),e.push(n),e.push(r)}function iY(e,t,n,r,i,o){var a=(o-t)/(r-t);return e.push(o),e.push(n+(i-n)*a),e.push(1),a}function iq(e,t,n,r,i,o){var a=(o-n)/(i-n);return e.push(t+(r-t)*a),e.push(o),e.push(1),a}function iX(e,t){for(var n=[],r=0;r<e.length;r++){var i,o=e[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=iK(o.geometry,t);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(iK(o.geometry[s],t))}else if("MultiPolygon"===a)for(s=0,i=[];s<o.geometry.length;s++){for(var l=[],c=0;c<o.geometry[s].length;c++)l.push(iK(o.geometry[s][c],t));i.push(l)}n.push(iP(o.id,a,i,o.tags))}return n}function iK(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function iQ(e,t){if(e.transformed)return e;var n,r,i,o=1<<e.z,a=e.x,s=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],c=l.geometry,u=l.type;if(l.geometry=[],1===u)for(r=0;r<c.length;r+=2)l.geometry.push(iJ(c[r],c[r+1],t,o,a,s));else for(r=0;r<c.length;r++){var d=[];for(i=0;i<c[r].length;i+=2)d.push(iJ(c[r][i],c[r][i+1],t,o,a,s));l.geometry.push(d)}}return e.transformed=!0,e}function iJ(e,t,n,r,i,o){return[Math.round(n*(e*r-i)),Math.round(n*(t*r-o))]}function i0(e,t,n,r,i,o){var a=r*r;if(r>0&&t.size<(i?a:r)){n.numPoints+=t.length/3;return}for(var s=[],l=0;l<t.length;l+=3)(0===r||t[l+2]>a)&&(n.numSimplified++,s.push(t[l]),s.push(t[l+1])),n.numPoints++;i&&function(e,t){for(var n=0,r=0,i=e.length,o=i-2;r<i;o=r,r+=2)n+=(e[r]-e[o])*(e[r+1]+e[o+1]);if(n>0===t)for(r=0,i=e.length;r<i/2;r+=2){var a=e[r],s=e[r+1];e[r]=e[i-2-r],e[r+1]=e[i-1-r],e[i-2-r]=a,e[i-1-r]=s}}(s,o),e.push(s)}function i1(e,t){var n,r,i,o,a,s,l=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(l&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw Error("promoteId and generateId cannot be used together.");var c=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)iB(n,e.features[r],t,r);else"Feature"===e.type?iB(n,e,t):iB(n,{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],l&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),n=c,i=(r=t).buffer/r.extent,o=n,a=iH(n,1,-1-i,i,0,-1,2,r),s=iH(n,1,1-i,2+i,0,-1,2,r),(a||s)&&(o=iH(n,1,-i,1+i,0,-1,2,r)||[],a&&(o=iX(a,1).concat(o)),s&&(o=o.concat(iX(s,-1)))),(c=o).length&&this.splitTile(c,0,0,0),l&&(c.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function i2(e,t,n){return((1<<e)*n+t)*32+e}i1.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},i1.prototype.splitTile=function(e,t,n,r,i,o,a){for(var s=[e,t,n,r],l=this.options,c=l.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var u=1<<t,d=i2(t,n,r),p=this.tiles[d];if(!p&&(c>1&&console.time("creation"),p=this.tiles[d]=function(e,t,n,r,i){for(var o=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,function(e,t,n,r){var i=t.geometry,o=t.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)i0(a,i,e,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)i0(a,i[s],e,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<i.length;l++){var c=i[l];for(s=0;s<c.length;s++)i0(a,c[s],e,n,!0,0===s)}if(a.length){var u=t.tags||null;if("LineString"===o&&r.lineMetrics){for(var d in u={},t.tags)u[d]=t.tags[d];u.mapbox_clip_start=i.start/i.size,u.mapbox_clip_end=i.end/i.size}var p={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:u};null!==t.id&&(p.id=t.id),e.features.push(p)}}(a,e[s],o,i);var l=e[s].minX,c=e[s].minY,u=e[s].maxX,d=e[s].maxY;l<a.minX&&(a.minX=l),c<a.minY&&(a.minY=c),u>a.maxX&&(a.maxX=u),d>a.maxY&&(a.maxY=d)}return a}(e,t,n,r,l),this.tileCoords.push({z:t,x:n,y:r}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var h="z"+t;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(p.source=e,i){if(t===l.maxZoom||t===i)continue;var f=1<<i-t;if(n!==Math.floor(o/f)||r!==Math.floor(a/f))continue}else if(t===l.indexMaxZoom||p.numPoints<=l.indexMaxPoints)continue;if(p.source=null,0!==e.length){c>1&&console.time("clipping");var g,m,b,v,y,E,_=.5*l.buffer/l.extent,x=.5-_,S=.5+_,A=1+_;g=m=b=v=null,y=iH(e,u,n-_,n+S,0,p.minX,p.maxX,l),E=iH(e,u,n+x,n+A,0,p.minX,p.maxX,l),e=null,y&&(g=iH(y,u,r-_,r+S,1,p.minY,p.maxY,l),m=iH(y,u,r+x,r+A,1,p.minY,p.maxY,l),y=null),E&&(b=iH(E,u,r-_,r+S,1,p.minY,p.maxY,l),v=iH(E,u,r+x,r+A,1,p.minY,p.maxY,l),E=null),c>1&&console.timeEnd("clipping"),s.push(g||[],t+1,2*n,2*r),s.push(m||[],t+1,2*n,2*r+1),s.push(b||[],t+1,2*n+1,2*r),s.push(v||[],t+1,2*n+1,2*r+1)}}},i1.prototype.getTile=function(e,t,n){var r=this.options,i=r.extent,o=r.debug;if(e<0||e>24)return null;var a=1<<e,s=i2(e,t=(t%a+a)%a,n);if(this.tiles[s])return iQ(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var l,c=e,u=t,d=n;!l&&c>0;)c--,u=Math.floor(u/2),d=Math.floor(d/2),l=this.tiles[i2(c,u,d)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",c,u,d),o>1&&console.time("drilling down"),this.splitTile(l.source,c,u,d,e,t,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?iQ(this.tiles[s],i):null):null};var i3=class{constructor(e,t,n,r){this.vectorLayerCache={},this.x=t,this.y=n,this.z=r,this.vectorTile=e}getTileData(e){if(!e||!this.vectorTile.layers[e])return[];if(this.vectorLayerCache[e])return this.vectorLayerCache[e];let t=this.vectorTile.layers[e];return t.features}getFeatureById(){throw Error("Method not implemented.")}},i5=Object.defineProperty,i4=Object.defineProperties,i6=Object.getOwnPropertyDescriptors,i7=Object.getOwnPropertySymbols,i8=Object.prototype.hasOwnProperty,i9=Object.prototype.propertyIsEnumerable,oe=(e,t,n)=>t in e?i5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ot=(e,t)=>{for(var n in t||(t={}))i8.call(t,n)&&oe(e,n,t[n]);if(i7)for(var n of i7(t))i9.call(t,n)&&oe(e,n,t[n]);return e},on=(e,t)=>i4(e,i6(t)),or=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(e){i(e)}},a=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())}),oi={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0},oo=["Unknown","Point","LineString","Polygon"],oa=(e,t,n,r)=>or(void 0,null,function*(){return new Promise(i=>{let o=t.getTile(e.z,e.x,e.y),a=o?o.features.map(e=>(function(e,t,n,r,i){let o,a,s=i.geometry,l=i.type,c=i.tags,u=i.id,d=e*Math.pow(2,r),p=e*t,h=e*n,f=oo[l];function g(e){for(let t=0;t<e.length;t++){let n=e[t];if(n[3])break;let r=180-(n[1]+h)*360/d,i=(n[0]+p)*360/d-180,o=360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90;e[t]=[i,o,0,1]}}switch(l){case 1:let m=[];for(o=0;o<s.length;o++)m[o]=s[o][0];g(s=m);break;case 2:for(o=0;o<s.length;o++)g(s[o]);break;case 3:for(o=0,s=function(e){let t,n;let r=e.length;if(r<=1)return[e];let i=[];for(let o=0;o<r;o++){let r=function(e){let t=0;for(let n=0,r=e.length,i=r-1,o,a;n<r;i=n++)o=e[n],t+=((a=e[i]).x-o.x)*(o.y+a.y);return t}(e[o]);0!==r&&(void 0===n&&(n=r<0),n===r<0?(t&&i.push(t),t=[e[o]]):t.push(e[o]))}return t&&i.push(t),i}(s);o<s.length;o++)for(a=0;a<s[o].length;a++)g(s[o][a])}1===s.length?s=s[0]:f="Multi"+f;let b={type:"Feature",geometry:{type:f,coordinates:s},properties:c,id:u,tileOrigin:[0,0],coord:""};return b})(r,n.x,n.y,n.z,e)):[],s=new i3({layers:{defaultLayer:{features:a}}},e.x,e.y,e.z);i(s)})}),os=Object.defineProperty,ol=Object.defineProperties,oc=Object.getOwnPropertyDescriptors,ou=Object.getOwnPropertySymbols,od=Object.prototype.hasOwnProperty,op=Object.prototype.propertyIsEnumerable,oh=(e,t,n)=>t in e?os(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,of=(e,t)=>{for(var n in t||(t={}))od.call(t,n)&&oh(e,n,t[n]);if(ou)for(var n of ou(t))op.call(t,n)&&oh(e,n,t[n]);return e},og=(e,t)=>ol(e,oc(t)),om=Object.defineProperty,ob=Object.defineProperties,ov=Object.getOwnPropertyDescriptors,oy=Object.getOwnPropertySymbols,oE=Object.prototype.hasOwnProperty,o_=Object.prototype.propertyIsEnumerable,oT=(e,t,n)=>t in e?om(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ox=(e,t)=>{for(var n in t||(t={}))oE.call(t,n)&&oT(e,n,t[n]);if(oy)for(var n of oy(t))o_.call(t,n)&&oT(e,n,t[n]);return e},oS=(e,t)=>ob(e,ov(t)),oA=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(e){i(e)}},a=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())}),oC=(e,t,n,r)=>oA(void 0,null,function*(){let i={x:t.x,y:t.y,z:t.z},o=il(e,i);return new Promise(e=>{r?r(i,(n,r)=>{if(n||!r){let n=new i3({layers:{defaultLayer:{features:[]}}},t.x,t.y,t.z);e(n)}else{let n={layers:{defaultLayer:{features:r.features}}},i=new i3(n,t.x,t.y,t.z);e(i)}}):eV(oS(ox({},n),{url:o}),(n,r)=>{if(n||!r){let n=new i3({layers:{defaultLayer:{features:[]}}},t.x,t.y,t.z);e(n)}else{let n=JSON.parse(r),i=new i3({layers:{defaultLayer:{features:n}}},t.x,t.y,t.z);e(i)}})})}),ow=n(99996),oO=n(51663),oI=n.n(oO),oL=Object.defineProperty,oR=Object.defineProperties,ok=Object.getOwnPropertyDescriptors,oN=Object.getOwnPropertySymbols,oM=Object.prototype.hasOwnProperty,oD=Object.prototype.propertyIsEnumerable,oP=(e,t,n)=>t in e?oL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oF=(e,t)=>{for(var n in t||(t={}))oM.call(t,n)&&oP(e,n,t[n]);if(oN)for(var n of oN(t))oD.call(t,n)&&oP(e,n,t[n]);return e},oB=(e,t)=>oR(e,ok(t)),oU=class{constructor(e,t,n,r){this.vectorLayerCache={},this.x=t,this.y=n,this.z=r,this.vectorTile=new ow.VectorTile(new(oI())(e))}getTileData(e){if(!e||!this.vectorTile.layers[e])return[];if(this.vectorLayerCache[e])return this.vectorLayerCache[e];let t=this.vectorTile.layers[e];if(Array.isArray(t.features))return this.vectorLayerCache[e]=t.features,t.features;let n=[];for(let e=0;e<t.length;e++){let r=t.feature(e),i=r.toGeoJSON(this.x,this.y,this.z);n.push(oB(oF({},i),{properties:oF({id:i.id},i.properties)}))}return this.vectorLayerCache[e]=n,n}getFeatureById(){throw Error("Method not implemented.")}},oz=Object.defineProperty,oZ=Object.defineProperties,oj=Object.getOwnPropertyDescriptors,oH=Object.getOwnPropertySymbols,oG=Object.prototype.hasOwnProperty,oV=Object.prototype.propertyIsEnumerable,o$=(e,t,n)=>t in e?oz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oW=(e,t)=>{for(var n in t||(t={}))oG.call(t,n)&&o$(e,n,t[n]);if(oH)for(var n of oH(t))oV.call(t,n)&&o$(e,n,t[n]);return e},oY=(e,t)=>oZ(e,oj(t)),oq=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(e){i(e)}},a=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())}),oX={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,warp:!0},oK=(e,t,n,r,i)=>oq(void 0,null,function*(){let o=il(e,t);return new Promise(e=>{if(i)i({x:n.x,y:n.y,z:n.z},(t,r)=>{if(t||!r)e(void 0);else{let t=new oU(r,n.x,n.y,n.z);e(t)}});else{let t=eH(oY(oW({},r),{url:o}),(t,r)=>{if(t||!r)e(void 0);else{let t=new oU(r,n.x,n.y,n.z);e(t)}});n.xhrCancel=()=>t.cancel()}})});function oQ(e,t){let{width:n,height:r}=t[0],i=t.map(e=>e.rasterData),o=n*r,a=[],s=JSON.stringify(e);for(let e=0;e<o;e++){let t=JSON.parse(s),n=function e(t,n,r){if(2===t.length&&"band"===t[0]&&"number"==typeof t[1])try{return n[t[1]][r]}catch(e){return console.warn("Raster Data err!"),0}t.map((i,o)=>{if(Array.isArray(i)&&i.length>0){if("band"===i[0])try{t[o]=n[i[1]][r]}catch(e){console.warn("Raster Data err!"),t[o]=0}else e(i,n,r)}})}(t,i,e);if("number"==typeof n)a.push(n);else{let e=function e(t){let n=function(e){let[t,n=-1,r=-1]=e;if(void 0===t)return console.warn("Express err!"),["+",0,0];let i=t.replace(/\s+/g,"");return[i,n,r]}(t),r=n[0],i=n[1],o=n[2];return Array.isArray(i)&&(i=e(t[1])),Array.isArray(o)&&(o=e(t[2])),function(e,t,n){switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n;case"%":return t%n;case"^":return Math.pow(t,n);case"abs":return Math.abs(t);case"floor":return Math.floor(t);case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"sin":return Math.sin(t);case"cos":return Math.cos(t);case"atan":return -1===n?Math.atan(t):Math.atan2(t,n);case"min":return Math.min(t,n);case"max":return Math.max(t,n);case"log10":return Math.log(t);case"log2":return Math.log2(t);default:return console.warn("Calculate symbol err! Return default 0"),0}}(r,i,o)}(t);a.push(e)}}return a}var oJ={nd:{type:"operation",expression:["/",["-",["band",1],["band",0]],["+",["band",1],["band",0]]]},rgb:{type:"function",method:function(e,t){let n=e[0].rasterData,r=e[1].rasterData,i=e[2].rasterData,o=[],[a,s]=(null==t?void 0:t.countCut)||[2,98],l=(null==t?void 0:t.RMinMax)||o0(n,a,s),c=(null==t?void 0:t.GMinMax)||o0(r,a,s),u=(null==t?void 0:t.BMinMax)||o0(i,a,s);for(let e=0;e<n.length;e++)o.push(Math.max(0,n[e]-l[0])),o.push(Math.max(0,r[e]-c[0])),o.push(Math.max(0,i[e]-u[0]));return{rasterData:o,rMinMax:l,gMinMax:c,bMinMax:u}}}};function o0(e,t,n){let r=e.slice().sort((e,t)=>e-t),i=r.length,o=r[Math.ceil(i*t/100)],a=r[Math.ceil(i*n/100)];return[o,a]}var o1=Object.defineProperty,o2=Object.defineProperties,o3=Object.getOwnPropertyDescriptors,o5=Object.getOwnPropertySymbols,o4=Object.prototype.hasOwnProperty,o6=Object.prototype.propertyIsEnumerable,o7=(e,t,n)=>t in e?o1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o8=(e,t)=>{for(var n in t||(t={}))o4.call(t,n)&&o7(e,n,t[n]);if(o5)for(var n of o5(t))o6.call(t,n)&&o7(e,n,t[n]);return e},o9=(e,t)=>o2(e,o3(t)),ae=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(e){i(e)}},a=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())});function at(e,t,n){return ae(this,null,function*(){let r;if(0===e.length)return{rasterData:[0],width:1,heigh:1};let i=yield Promise.all(e.map(({data:e,bands:n=[0]})=>t(e,n))),o=[];i.forEach(e=>{Array.isArray(e)?o.push(...e):o.push(e)});let{width:a,height:s}=o[0];switch(typeof n){case"function":r=n(o);break;case"object":r=Array.isArray(n)?{rasterData:oQ(n,o)}:function(e,t){let n=oJ[e.type];return"function"===n.type?n.method(t,null==e?void 0:e.options):"operation"===n.type?"rgb"===e.type?function(e,t){void 0===e.r&&console.warn("Channel R lost in Operation! Use band[0] to fill!"),void 0===e.g&&console.warn("Channel G lost in Operation! Use band[0] to fill!"),void 0===e.b&&console.warn("Channel B lost in Operation! Use band[0] to fill!");let n=oQ(e.r||["band",0],t),r=oQ(e.g||["band",0],t),i=oQ(e.b||["band",0],t);return[n,r,i]}(n.expression,t):{rasterData:oQ(n.expression,t)}:void 0}(n,o);break;default:r={rasterData:o[0].rasterData}}return o9(o8({},r),{width:a,height:s})})}function an(e,t,n,r){return ae(this,null,function*(){let i=yield at(e,t,n);r(null,{data:i})})}var ar=n(55443),ai=n(35576);let ao=((u={}).Normal="normal",u.PostProcessing="post-processing",u),aa=((d={})[d.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",d[d.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",d[d.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",d[d.POINTS=0]="POINTS",d[d.LINES=1]="LINES",d[d.LINE_LOOP=2]="LINE_LOOP",d[d.LINE_STRIP=3]="LINE_STRIP",d[d.TRIANGLES=4]="TRIANGLES",d[d.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",d[d.TRIANGLE_FAN=6]="TRIANGLE_FAN",d[d.ZERO=0]="ZERO",d[d.ONE=1]="ONE",d[d.SRC_COLOR=768]="SRC_COLOR",d[d.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",d[d.SRC_ALPHA=770]="SRC_ALPHA",d[d.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",d[d.DST_ALPHA=772]="DST_ALPHA",d[d.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",d[d.DST_COLOR=774]="DST_COLOR",d[d.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",d[d.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",d[d.FUNC_ADD=32774]="FUNC_ADD",d[d.BLEND_EQUATION=32777]="BLEND_EQUATION",d[d.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",d[d.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",d[d.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",d[d.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",d[d.MAX_EXT=32776]="MAX_EXT",d[d.MIN_EXT=32775]="MIN_EXT",d[d.BLEND_DST_RGB=32968]="BLEND_DST_RGB",d[d.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",d[d.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",d[d.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",d[d.CONSTANT_COLOR=32769]="CONSTANT_COLOR",d[d.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",d[d.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",d[d.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",d[d.BLEND_COLOR=32773]="BLEND_COLOR",d[d.ARRAY_BUFFER=34962]="ARRAY_BUFFER",d[d.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",d[d.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",d[d.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",d[d.STREAM_DRAW=35040]="STREAM_DRAW",d[d.STATIC_DRAW=35044]="STATIC_DRAW",d[d.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",d[d.BUFFER_SIZE=34660]="BUFFER_SIZE",d[d.BUFFER_USAGE=34661]="BUFFER_USAGE",d[d.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",d[d.FRONT=1028]="FRONT",d[d.BACK=1029]="BACK",d[d.FRONT_AND_BACK=1032]="FRONT_AND_BACK",d[d.CULL_FACE=2884]="CULL_FACE",d[d.BLEND=3042]="BLEND",d[d.DITHER=3024]="DITHER",d[d.STENCIL_TEST=2960]="STENCIL_TEST",d[d.DEPTH_TEST=2929]="DEPTH_TEST",d[d.SCISSOR_TEST=3089]="SCISSOR_TEST",d[d.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",d[d.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",d[d.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",d[d.NO_ERROR=0]="NO_ERROR",d[d.INVALID_ENUM=1280]="INVALID_ENUM",d[d.INVALID_VALUE=1281]="INVALID_VALUE",d[d.INVALID_OPERATION=1282]="INVALID_OPERATION",d[d.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",d[d.CW=2304]="CW",d[d.CCW=2305]="CCW",d[d.LINE_WIDTH=2849]="LINE_WIDTH",d[d.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",d[d.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",d[d.CULL_FACE_MODE=2885]="CULL_FACE_MODE",d[d.FRONT_FACE=2886]="FRONT_FACE",d[d.DEPTH_RANGE=2928]="DEPTH_RANGE",d[d.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",d[d.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",d[d.DEPTH_FUNC=2932]="DEPTH_FUNC",d[d.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",d[d.STENCIL_FUNC=2962]="STENCIL_FUNC",d[d.STENCIL_FAIL=2964]="STENCIL_FAIL",d[d.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",d[d.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",d[d.STENCIL_REF=2967]="STENCIL_REF",d[d.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",d[d.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",d[d.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",d[d.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",d[d.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",d[d.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",d[d.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",d[d.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",d[d.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",d[d.VIEWPORT=2978]="VIEWPORT",d[d.SCISSOR_BOX=3088]="SCISSOR_BOX",d[d.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",d[d.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",d[d.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",d[d.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",d[d.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",d[d.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",d[d.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",d[d.RED_BITS=3410]="RED_BITS",d[d.GREEN_BITS=3411]="GREEN_BITS",d[d.BLUE_BITS=3412]="BLUE_BITS",d[d.ALPHA_BITS=3413]="ALPHA_BITS",d[d.DEPTH_BITS=3414]="DEPTH_BITS",d[d.STENCIL_BITS=3415]="STENCIL_BITS",d[d.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",d[d.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",d[d.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",d[d.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",d[d.SAMPLES=32937]="SAMPLES",d[d.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",d[d.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",d[d.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",d[d.DONT_CARE=4352]="DONT_CARE",d[d.FASTEST=4353]="FASTEST",d[d.NICEST=4354]="NICEST",d[d.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",d[d.BYTE=5120]="BYTE",d[d.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",d[d.SHORT=5122]="SHORT",d[d.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",d[d.INT=5124]="INT",d[d.UNSIGNED_INT=5125]="UNSIGNED_INT",d[d.FLOAT=5126]="FLOAT",d[d.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",d[d.ALPHA=6406]="ALPHA",d[d.RGB=6407]="RGB",d[d.RGBA=6408]="RGBA",d[d.LUMINANCE=6409]="LUMINANCE",d[d.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",d[d.RED=6403]="RED",d[d.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",d[d.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",d[d.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",d[d.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",d[d.VERTEX_SHADER=35633]="VERTEX_SHADER",d[d.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",d[d.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",d[d.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",d[d.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",d[d.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",d[d.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",d[d.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",d[d.SHADER_TYPE=35663]="SHADER_TYPE",d[d.DELETE_STATUS=35712]="DELETE_STATUS",d[d.LINK_STATUS=35714]="LINK_STATUS",d[d.VALIDATE_STATUS=35715]="VALIDATE_STATUS",d[d.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",d[d.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",d[d.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",d[d.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",d[d.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",d[d.NEVER=512]="NEVER",d[d.LESS=513]="LESS",d[d.EQUAL=514]="EQUAL",d[d.LEQUAL=515]="LEQUAL",d[d.GREATER=516]="GREATER",d[d.NOTEQUAL=517]="NOTEQUAL",d[d.GEQUAL=518]="GEQUAL",d[d.ALWAYS=519]="ALWAYS",d[d.KEEP=7680]="KEEP",d[d.REPLACE=7681]="REPLACE",d[d.INCR=7682]="INCR",d[d.DECR=7683]="DECR",d[d.INVERT=5386]="INVERT",d[d.INCR_WRAP=34055]="INCR_WRAP",d[d.DECR_WRAP=34056]="DECR_WRAP",d[d.VENDOR=7936]="VENDOR",d[d.RENDERER=7937]="RENDERER",d[d.VERSION=7938]="VERSION",d[d.NEAREST=9728]="NEAREST",d[d.LINEAR=9729]="LINEAR",d[d.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",d[d.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",d[d.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",d[d.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",d[d.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",d[d.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",d[d.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",d[d.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",d[d.TEXTURE_2D=3553]="TEXTURE_2D",d[d.TEXTURE=5890]="TEXTURE",d[d.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",d[d.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",d[d.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",d[d.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",d[d.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",d[d.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",d[d.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",d[d.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",d[d.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",d[d.TEXTURE0=33984]="TEXTURE0",d[d.TEXTURE1=33985]="TEXTURE1",d[d.TEXTURE2=33986]="TEXTURE2",d[d.TEXTURE3=33987]="TEXTURE3",d[d.TEXTURE4=33988]="TEXTURE4",d[d.TEXTURE5=33989]="TEXTURE5",d[d.TEXTURE6=33990]="TEXTURE6",d[d.TEXTURE7=33991]="TEXTURE7",d[d.TEXTURE8=33992]="TEXTURE8",d[d.TEXTURE9=33993]="TEXTURE9",d[d.TEXTURE10=33994]="TEXTURE10",d[d.TEXTURE11=33995]="TEXTURE11",d[d.TEXTURE12=33996]="TEXTURE12",d[d.TEXTURE13=33997]="TEXTURE13",d[d.TEXTURE14=33998]="TEXTURE14",d[d.TEXTURE15=33999]="TEXTURE15",d[d.TEXTURE16=34e3]="TEXTURE16",d[d.TEXTURE17=34001]="TEXTURE17",d[d.TEXTURE18=34002]="TEXTURE18",d[d.TEXTURE19=34003]="TEXTURE19",d[d.TEXTURE20=34004]="TEXTURE20",d[d.TEXTURE21=34005]="TEXTURE21",d[d.TEXTURE22=34006]="TEXTURE22",d[d.TEXTURE23=34007]="TEXTURE23",d[d.TEXTURE24=34008]="TEXTURE24",d[d.TEXTURE25=34009]="TEXTURE25",d[d.TEXTURE26=34010]="TEXTURE26",d[d.TEXTURE27=34011]="TEXTURE27",d[d.TEXTURE28=34012]="TEXTURE28",d[d.TEXTURE29=34013]="TEXTURE29",d[d.TEXTURE30=34014]="TEXTURE30",d[d.TEXTURE31=34015]="TEXTURE31",d[d.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",d[d.REPEAT=10497]="REPEAT",d[d.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",d[d.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",d[d.FLOAT_VEC2=35664]="FLOAT_VEC2",d[d.FLOAT_VEC3=35665]="FLOAT_VEC3",d[d.FLOAT_VEC4=35666]="FLOAT_VEC4",d[d.INT_VEC2=35667]="INT_VEC2",d[d.INT_VEC3=35668]="INT_VEC3",d[d.INT_VEC4=35669]="INT_VEC4",d[d.BOOL=35670]="BOOL",d[d.BOOL_VEC2=35671]="BOOL_VEC2",d[d.BOOL_VEC3=35672]="BOOL_VEC3",d[d.BOOL_VEC4=35673]="BOOL_VEC4",d[d.FLOAT_MAT2=35674]="FLOAT_MAT2",d[d.FLOAT_MAT3=35675]="FLOAT_MAT3",d[d.FLOAT_MAT4=35676]="FLOAT_MAT4",d[d.SAMPLER_2D=35678]="SAMPLER_2D",d[d.SAMPLER_CUBE=35680]="SAMPLER_CUBE",d[d.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",d[d.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",d[d.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",d[d.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",d[d.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",d[d.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",d[d.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",d[d.COMPILE_STATUS=35713]="COMPILE_STATUS",d[d.LOW_FLOAT=36336]="LOW_FLOAT",d[d.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",d[d.HIGH_FLOAT=36338]="HIGH_FLOAT",d[d.LOW_INT=36339]="LOW_INT",d[d.MEDIUM_INT=36340]="MEDIUM_INT",d[d.HIGH_INT=36341]="HIGH_INT",d[d.FRAMEBUFFER=36160]="FRAMEBUFFER",d[d.RENDERBUFFER=36161]="RENDERBUFFER",d[d.RGBA4=32854]="RGBA4",d[d.RGB5_A1=32855]="RGB5_A1",d[d.RGB565=36194]="RGB565",d[d.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",d[d.STENCIL_INDEX=6401]="STENCIL_INDEX",d[d.STENCIL_INDEX8=36168]="STENCIL_INDEX8",d[d.DEPTH_STENCIL=34041]="DEPTH_STENCIL",d[d.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",d[d.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",d[d.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",d[d.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",d[d.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",d[d.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",d[d.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",d[d.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",d[d.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",d[d.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",d[d.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",d[d.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",d[d.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",d[d.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",d[d.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",d[d.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",d[d.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",d[d.NONE=0]="NONE",d[d.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",d[d.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",d[d.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",d[d.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",d[d.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",d[d.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",d[d.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",d[d.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",d[d.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",d[d.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",d[d.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",d[d.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",d[d.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",d[d.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",d),{camelCase:as,isNil:al,upperFirst:ac}=nu;class au{constructor(){(0,ai.Z)(this,"shaderModuleService",void 0),(0,ai.Z)(this,"rendererService",void 0),(0,ai.Z)(this,"config",void 0),(0,ai.Z)(this,"quad","attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}"),(0,ai.Z)(this,"enabled",!0),(0,ai.Z)(this,"renderToScreen",!1),(0,ai.Z)(this,"model",void 0),(0,ai.Z)(this,"name",void 0),(0,ai.Z)(this,"optionsToUpdate",{})}getName(){return this.name}setName(e){this.name=e}getType(){return ao.PostProcessing}init(e,t){this.config=t,this.rendererService=e.getContainer().rendererService,this.shaderModuleService=e.getContainer().shaderModuleService;let{createAttribute:n,createBuffer:r,createModel:i}=this.rendererService,{vs:o,fs:a,uniforms:s}=this.setupShaders();this.model=i({vs:o,fs:a,attributes:{a_Position:n({buffer:r({data:[-4,-4,4,-4,0,4],type:aa.FLOAT}),size:2})},uniforms:(0,ar.Z)((0,ar.Z)({u_Texture:null},s),this.config&&this.convertOptionsToUniforms(this.config)),depth:{enable:!1},count:3,blend:{enable:"copy"===this.getName()}})}render(e,t){let n=e.multiPassRenderer.getPostProcessor(),{useFramebuffer:r,getViewportSize:i,clear:o}=this.rendererService,{width:a,height:s}=i();r(this.renderToScreen?null:n.getWriteFBO(),()=>{o({framebuffer:n.getWriteFBO(),color:[0,0,0,0],depth:1,stencil:0});let e=(0,ar.Z)({u_BloomFinal:0,u_Texture:n.getReadFBO(),u_ViewportSize:[a,s]},this.convertOptionsToUniforms(this.optionsToUpdate));t&&(e.u_BloomFinal=1,e.u_Texture2=t),this.model.draw({uniforms:e})})}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}setRenderToScreen(e){this.renderToScreen=e}updateOptions(e){this.optionsToUpdate=(0,ar.Z)((0,ar.Z)({},this.optionsToUpdate),e)}setupShaders(){throw Error("Method not implemented.")}convertOptionsToUniforms(e){let t={};return Object.keys(e).forEach(n=>{al(e[n])||(t[`u_${ac(as(n))}`]=e[n])}),t}}let ad=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function ap(e,t=!1){let n={};return{content:e=e.replace(ad,(e,r,i)=>{let o=i.split(":"),a=o[0].trim(),s="";switch(o.length>1&&(s=o[1].trim()),r){case"bool":s="true"===s;break;case"float":case"int":s=Number(s);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":s=s?s.replace("[","").replace("]","").split(",").reduce((e,t)=>(e.push(Number(t.trim())),e),[]):Array(function(e){let t=0;switch(e){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16}return t}(r)).fill(0)}return n[a]=s,`${t?"uniform ":""}${r} ${a};
`}),uniforms:n}}function ah(e){let{content:t,uniforms:n}=ap(e,!0);return{content:t=t.replace(/(\s*uniform\s*.*\s*){((?:\s*.*\s*)*?)};/g,(e,t,r)=>{r=r.trim().replace(/^.*$/gm,e=>`uniform ${e}`);let{content:i,uniforms:o}=ap(r);return Object.assign(n,o),`${t}{
${i}
};`}),uniforms:n}}function af(e){let t={};return e.replace(ad,(e,n,r)=>{let i=r.trim();return t[i]?"":(t[i]=!0,`uniform ${n} ${i};
`)})}let ag=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],{clamp:am}=nu;function ab(e,t){return 256*(e=am(Math.floor(e),0,255))+(t=am(Math.floor(t),0,255))}function av(e){let{color:t,radius:n,tileX:r,tileY:i,shape:o,opacity:a,stroke:s,strokeWidth:l,strokeOpacity:c}=e,u=[],d=[],p=[],h=[ab(t[0],t[1]),ab(t[2],t[3])],f=[ab(s[0],s[1]),ab(s[2],s[3])];return[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(([e,t])=>{u.push([...h,(e+1)*8388608+(t+1)*2097152+131072*ag.indexOf(o)+n,(r+512)*524288+(i+512)*64]),d.push([...f,l,c]),p.push([a,0,0,0])}),{packedBuffer:u,packedBuffer2:d,packedBuffer3:p}}let ay={ProjectionMatrix:"u_ProjectionMatrix",ViewMatrix:"u_ViewMatrix",ViewProjectionMatrix:"u_ViewProjectionMatrix",Zoom:"u_Zoom",ZoomScale:"u_ZoomScale",FocalDistance:"u_FocalDistance",CameraPosition:"u_CameraPosition"},aE=((p={}).TOPRIGHT="topright",p.TOPLEFT="topleft",p.BOTTOMRIGHT="bottomright",p.BOTTOMLEFT="bottomleft",p.TOPCENTER="topcenter",p.BOTTOMCENTER="bottomcenter",p.LEFTCENTER="leftcenter",p.RIGHTCENTER="rightcenter",p.LEFTTOP="lefttop",p.RIGHTTOP="righttop",p.LEFTBOTTOM="leftbottom",p.RIGHTBOTTOM="rightbottom",p),a_=((h={})[h.LNGLAT=1]="LNGLAT",h[h.LNGLAT_OFFSET=2]="LNGLAT_OFFSET",h[h.VECTOR_TILE=3]="VECTOR_TILE",h[h.IDENTITY=4]="IDENTITY",h[h.METER_OFFSET=5]="METER_OFFSET",h),aT={CoordinateSystem:"u_CoordinateSystem",ViewportCenter:"u_ViewportCenter",ViewportCenterProjection:"u_ViewportCenterProjection",PixelsPerDegree:"u_PixelsPerDegree",PixelsPerDegree2:"u_PixelsPerDegree2",PixelsPerMeter:"u_PixelsPerMeter"};var ax={MapInitStart:"mapInitStart",LayerInitStart:"layerInitStart",LayerInitEnd:"layerInitEnd",SourceInitStart:"sourceInitStart",SourceInitEnd:"sourceInitEnd",ScaleInitStart:"scaleInitStart",ScaleInitEnd:"scaleInitEnd",MappingStart:"mappingStart",MappingEnd:"mappingEnd",BuildModelStart:"buildModelStart",BuildModelEnd:"buildModelEnd"};let aS=((f={}).Hover="hover",f.Click="click",f.Select="select",f.Active="active",f.Drag="drag",f),aA=((g={}).normal="normal",g.additive="additive",g.subtractive="subtractive",g.min="min",g.max="max",g.none="none",g),aC=((m={}).MULTIPLE="MULTIPLE",m.SINGLE="SINGLE",m),aw=((b={}).AND="and",b.OR="or",b),aO=((v={}).INIT="init",v.UPDATE="update",v),aI=((y={}).LINEAR="linear",y.SEQUENTIAL="sequential",y.POWER="power",y.LOG="log",y.IDENTITY="identity",y.TIME="time",y.QUANTILE="quantile",y.QUANTIZE="quantize",y.THRESHOLD="threshold",y.CAT="cat",y.DIVERGING="diverging",y.CUSTOM="threshold",y),aL=((E={}).CONSTANT="constant",E.VARIABLE="variable",E),aR=((_={})[_.Attribute=0]="Attribute",_[_.InstancedAttribute=1]="InstancedAttribute",_[_.Uniform=2]="Uniform",_),ak=["mapload","mapchange","mapAfterFrameChange"];var aN=n(25865),aM=n.n(aN);function aD(e,t,n){for(let r of t){let{icon:t,xOffset:i}=r;e[t.id]=(0,ar.Z)((0,ar.Z)({},t),{},{x:i,y:n,image:t.image,width:t.width,height:t.height})}}function aP(e){return Math.pow(2,Math.ceil(Math.log2(e)))}let aF=function(){let e=[];for(let t=32;t<128;t++)e.push(String.fromCharCode(t));return e}();function aB(e,t,n,r){e.font=`${r} ${n}px ${t}`,e.fillStyle="black",e.textBaseline="middle"}function aU(e,t){for(let n=0;n<e.length;n++)t.data[4*n+3]=e[n]}class az extends rU.EventEmitter{constructor(...e){super(...e),(0,ai.Z)(this,"fontAtlas",void 0),(0,ai.Z)(this,"iconFontMap",void 0),(0,ai.Z)(this,"iconFontGlyphs",{}),(0,ai.Z)(this,"fontOptions",void 0),(0,ai.Z)(this,"key",void 0),(0,ai.Z)(this,"cache",new rL(3))}get scale(){return 1}get canvas(){let e=this.cache.get(this.key);return e&&e.data}get mapping(){let e=this.cache.get(this.key);return e&&e.mapping||{}}getCanvasByKey(e){let t=this.cache.get(e);return t&&t.data}getMappingByKey(e){let t=this.cache.get(e);return t&&t.mapping||{}}init(){this.cache.clear(),this.fontOptions={fontFamily:"sans-serif",fontWeight:"normal",characterSet:aF,fontSize:24,buffer:3,sdf:!0,cutoff:.25,radius:8,iconfont:!1},this.key="",this.iconFontMap=new Map}addIconGlyphs(e){e.forEach(e=>{this.iconFontGlyphs[e.name]=e.unicode})}addIconFont(e,t){this.iconFontMap.set(e,t)}getIconFontKey(e){return this.iconFontMap.get(e)||e}getGlyph(e){return this.iconFontGlyphs[e]?String.fromCharCode(parseInt(this.iconFontGlyphs[e],16)):""}setFontOptions(e){this.fontOptions=(0,ar.Z)((0,ar.Z)({},this.fontOptions),e),this.key=this.getKey();let t=this.getNewChars(this.key,this.fontOptions.characterSet),n=this.cache.get(this.key);if(n&&0===t.length)return;let r=this.generateFontAtlas(this.key,t,n);this.fontAtlas=r,this.cache.set(this.key,r)}addFontFace(e,t){let n=document.createElement("style");n.type="text/css",n.innerText=`
        @font-face{
            font-family: '${e}';
            src: url('${t}') format('woff2'),
            url('${t}') format('woff'),
            url('${t}') format('truetype');
        }`,n.onload=()=>{if(document.fonts)try{document.fonts.load(`24px ${e}`,"L7text"),document.fonts.ready.then(()=>{this.emit("fontloaded",{fontFamily:e})})}catch(e){console.warn("当前环境不支持 document.fonts !"),console.warn("当前环境不支持 iconfont !"),console.warn(e)}},document.getElementsByTagName("head")[0].appendChild(n)}destroy(){this.cache.clear(),this.iconFontMap.clear()}generateFontAtlas(e,t,n){let{fontFamily:r,fontWeight:i,fontSize:o,buffer:a,sdf:s,radius:l,cutoff:c,iconfont:u}=this.fontOptions,d=n&&n.data;d||((d=window.document.createElement("canvas")).width=1024);let p=d.getContext("2d",{willReadFrequently:!0});aB(p,r,o,i);let{mapping:h,canvasHeight:f,xOffset:g,yOffset:m}=function({characterSet:e,getFontWidth:t,fontHeight:n,buffer:r,maxCanvasWidth:i,mapping:o={},xOffset:a=0,yOffset:s=0}){let l=0,c=a;Array.from(e).forEach((e,n)=>{if(!o[e]){let r=t(e,n);c+30>i&&(c=0,l++),o[e]={x:c,y:s+30*l,width:30,height:30,advance:r},c+=30}});let u=n+2*r;return{mapping:o,xOffset:c,yOffset:s+l*u,canvasHeight:aP(s+(l+1)*u)}}((0,ar.Z)({getFontWidth:e=>p.measureText(e).width,fontHeight:1*o,buffer:a,characterSet:t,maxCanvasWidth:1024},n&&{mapping:n.mapping,xOffset:n.xOffset,yOffset:n.yOffset})),b=p.getImageData(0,0,d.width,d.height);if(d.height=f,p.putImageData(b,0,0),aB(p,r,o,i),s){let e=new(aM())(o,a,l,c,r,i),n=p.getImageData(0,0,e.size,e.size);for(let r of t){if(u){let t=String.fromCharCode(parseInt(r.replace("&#x","").replace(";",""),16)),i=e.draw(t);aU(i,n)}else aU(e.draw(r),n);p.putImageData(n,h[r].x,h[r].y)}}else for(let e of t)p.fillText(e,h[e].x,h[e].y+1*o);return{xOffset:g,yOffset:m,mapping:h,data:d,width:d.width,height:d.height}}getKey(){let{fontFamily:e,fontWeight:t}=this.fontOptions;return`${e}_${t}`}getNewChars(e,t){let n=this.cache.get(e);if(!n)return t;let r=[],i=n.mapping,o=new Set(Object.keys(i)),a=new Set(t);return a.forEach(e=>{o.has(e)||r.push(e)}),r}}var aZ=n(84964);class aj extends rU.EventEmitter{constructor(...e){super(...e),(0,ai.Z)(this,"canvasHeight",128),(0,ai.Z)(this,"texture",void 0),(0,ai.Z)(this,"canvas",void 0),(0,ai.Z)(this,"iconData",void 0),(0,ai.Z)(this,"iconMap",void 0),(0,ai.Z)(this,"ctx",void 0),(0,ai.Z)(this,"loadingImageCount",0)}isLoading(){return 0===this.loadingImageCount}init(){this.iconData=[],this.iconMap={},this.canvas=window.document.createElement("canvas"),this.canvas.width=128,this.canvas.height=128,this.ctx=this.canvas.getContext("2d")}addImage(e,t){var n=this;return(0,aZ.Z)(function*(){let r=new Image;n.loadingImageCount++,n.hasImage(e)?console.warn("Image Id already exists"):n.iconData.push({id:e,size:64}),n.updateIconMap(),r=yield n.loadImage(t);let i=n.iconData.find(t=>t.id===e);i&&(i.image=r,i.width=r.width,i.height=r.height),n.update()})()}addImageMini(e,t,n){let r=n.getSceneConfig().canvas,i=r.createImage();if(this.loadingImageCount++,this.hasImage(e))throw Error("Image Id already exists");this.iconData.push({id:e,size:64}),this.updateIconMap(),this.loadImageMini(t,r).then(t=>{i=t;let n=this.iconData.find(t=>t.id===e);n&&(n.image=i,n.width=i.width,n.height=i.height),this.update()})}getTexture(){return this.texture}getIconMap(){return this.iconMap}getCanvas(){return this.canvas}hasImage(e){return this.iconMap.hasOwnProperty(e)}removeImage(e){this.hasImage(e)&&(this.iconData=this.iconData.filter(t=>t.id!==e),delete this.iconMap[e],this.update())}destroy(){this.removeAllListeners("imageUpdate"),this.iconData=[],this.iconMap={}}loadImage(e){return new Promise((t,n)=>{if(e instanceof HTMLImageElement){t(e);return}let r=new Image;r.crossOrigin="anonymous",r.onload=()=>{t(r)},r.onerror=()=>{n(Error("Could not load image at "+e))},r.src=e instanceof File?URL.createObjectURL(e):e})}update(){this.updateIconMap(),this.updateIconAtlas(),this.loadingImageCount--,0===this.loadingImageCount&&this.emit("imageUpdate")}updateIconAtlas(){this.canvas.width=1024,this.canvas.height=this.canvasHeight,Object.keys(this.iconMap).forEach(e=>{let{x:t,y:n,image:r,width:i=64,height:o=64}=this.iconMap[e],a=Math.max(i,o),s=a/64,l=o/s,c=i/s;r&&this.ctx.drawImage(r,t+(64-c)/2,n+(64-l)/2,c,l)})}updateIconMap(){let{mapping:e,canvasHeight:t}=function(e,t,n){let r=0,i=0,o=0,a=[],s={};for(let n of e)if(!s[n.id]){let{size:e}=n;r+e+t>1024&&(aD(s,a,i),r=0,i=o+i+t,o=0,a=[]),a.push({icon:n,xOffset:r}),r=r+e+t,o=Math.max(o,e)}a.length>0&&aD(s,a,i);let l=aP(o+i+t);return{mapping:s,canvasHeight:l}}(this.iconData,3,0);this.iconMap=e,this.canvasHeight=t}loadImageMini(e,t){return new Promise((n,r)=>{let i=t.createImage();i.crossOrigin="anonymous",i.onload=()=>{n(i)},i.onerror=()=>{r(Error("Could not load image at "+e))},i.src=e})}}var aH=n(39536);class aG{constructor(){(0,ai.Z)(this,"viewport",void 0),(0,ai.Z)(this,"overridedViewProjectionMatrix",void 0),(0,ai.Z)(this,"viewMatrixInverse",void 0),(0,ai.Z)(this,"cameraPosition",void 0)}init(){}update(e){this.viewport=e,this.viewMatrixInverse=aH.create(),aH.invert(this.viewMatrixInverse,e.getViewMatrix()),this.cameraPosition=[this.viewMatrixInverse[12],this.viewMatrixInverse[13],this.viewMatrixInverse[14]]}getProjectionMatrix(){return this.viewport.getProjectionMatrix()}getModelMatrix(){return this.viewport.getModelMatrix()}getViewMatrix(){return this.viewport.getViewMatrix()}getViewMatrixUncentered(){return this.viewport.getViewMatrixUncentered()}getViewProjectionMatrixUncentered(){return this.viewport.getViewProjectionMatrixUncentered()}getViewProjectionMatrix(){return this.overridedViewProjectionMatrix||this.viewport.getViewProjectionMatrix()}getZoom(){return this.viewport.getZoom()}getZoomScale(){return this.viewport.getZoomScale()}getCenter(){let[e,t]=this.viewport.getCenter();return[e,t]}getFocalDistance(){return this.viewport.getFocalDistance()}getCameraPosition(){return this.cameraPosition}projectFlat(e,t){return this.viewport.projectFlat(e,t)}setViewProjectionMatrix(e){this.overridedViewProjectionMatrix=e}}let aV={topleft:"column",topright:"column",bottomright:"column",bottomleft:"column",leftcenter:"column",rightcenter:"column",topcenter:"row",bottomcenter:"row",lefttop:"row",righttop:"row",leftbottom:"row",rightbottom:"row"};class a${constructor(){(0,ai.Z)(this,"container",void 0),(0,ai.Z)(this,"controlCorners",void 0),(0,ai.Z)(this,"controlContainer",void 0),(0,ai.Z)(this,"scene",void 0),(0,ai.Z)(this,"mapsService",void 0),(0,ai.Z)(this,"controls",[]),(0,ai.Z)(this,"unAddControls",[])}init(e,t){this.container=e.container,this.scene=t,this.mapsService=t.mapService,this.initControlPos()}addControl(e,t){let n=t.mapService;n.map?(e.addTo(this.scene),this.controls.push(e)):this.unAddControls.push(e)}getControlByName(e){return this.controls.find(t=>t.controlOption.name===e)}removeControl(e){let t=this.controls.indexOf(e);return t>-1&&this.controls.splice(t,1),e.remove(),this}addControls(){this.unAddControls.forEach(e=>{e.addTo(this.scene),this.controls.push(e)}),this.unAddControls=[]}destroy(){for(let e of this.controls)e.remove();this.controls=[],this.clearControlPos()}initControlPos(){let e=this.controlCorners={},t=this.controlContainer=ng("div","l7-control-container",this.container);Object.values(aE).forEach(n=>{!function(n=[]){let r=n.map(e=>"l7-"+e).join(" ");e[n.filter(e=>!["row","column"].includes(e)).join("")]=ng("div",r,t)}(function(e){let t=e.replace(/^(top|bottom|left|right|center)/,"$1-").split("-");return[...t,aV[e]]}(n))}),this.checkCornerOverlap()}clearControlPos(){for(let e in this.controlCorners)this.controlCorners[e]&&nm(this.controlCorners[e]);this.controlContainer&&nm(this.controlContainer)}checkCornerOverlap(){let e=window.MutationObserver;if(e)for(let t of Object.keys(this.controlCorners)){let n=t.match(/^(top|bottom)(left|right)$/);if(n){let[,t,r]=n,i=this.controlCorners[`${t}${r}`],o=new e(([{target:e}])=>{i&&(i.style[t]=e.clientHeight+"px")});o.observe(this.controlCorners[`${r}${t}`],{childList:!0,attributes:!0})}}}}class aW{constructor(){(0,ai.Z)(this,"container",void 0),(0,ai.Z)(this,"scene",void 0),(0,ai.Z)(this,"mapsService",void 0),(0,ai.Z)(this,"markers",[]),(0,ai.Z)(this,"markerLayers",[]),(0,ai.Z)(this,"unAddMarkers",[]),(0,ai.Z)(this,"unAddMarkerLayers",[])}addMarkerLayer(e){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markerLayers.push(e),e.addTo(this.scene)):this.unAddMarkerLayers.push(e)}removeMarkerLayer(e){e.destroy(),this.markerLayers.indexOf(e);let t=this.markerLayers.indexOf(e);t>-1&&this.markerLayers.splice(t,1)}addMarker(e){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markers.push(e),e.addTo(this.scene)):this.unAddMarkers.push(e)}addMarkers(){this.unAddMarkers.forEach(e=>{e.addTo(this.scene),this.markers.push(e)}),this.unAddMarkers=[]}addMarkerLayers(){this.unAddMarkerLayers.forEach(e=>{this.markerLayers.push(e),e.addTo(this.scene)}),this.unAddMarkers=[]}removeMarker(e){e.remove(),this.markers.indexOf(e);let t=this.markers.indexOf(e);t>-1&&this.markers.splice(t,1)}removeAllMarkers(){this.destroy()}init(e){this.scene=e,this.mapsService=e.mapService}destroy(){this.markers.forEach(e=>{e.remove()}),this.markers=[],this.markerLayers.forEach(e=>{e.destroy()}),this.markerLayers=[]}removeMakerLayerMarker(e){e.destroy()}}class aY{constructor(){(0,ai.Z)(this,"scene",void 0),(0,ai.Z)(this,"mapsService",void 0),(0,ai.Z)(this,"popups",[]),(0,ai.Z)(this,"unAddPopups",[])}get isMarkerReady(){return this.mapsService.map&&this.mapsService.getMarkerContainer()}removePopup(e){null!=e&&e.isOpen()&&e.remove();let t=this.popups.indexOf(e);t>-1&&this.popups.splice(t,1);let n=this.unAddPopups.indexOf(e);n>-1&&this.unAddPopups.splice(n,1)}destroy(){this.popups.forEach(e=>e.remove())}addPopup(e){e&&e.getOptions().autoClose&&[...this.popups,...this.unAddPopups].forEach(e=>{e.getOptions().autoClose&&this.removePopup(e)}),this.isMarkerReady?(e.addTo(this.scene),this.popups.push(e)):this.unAddPopups.push(e),e.on("close",()=>{this.removePopup(e)})}initPopup(){this.unAddPopups.length&&this.unAddPopups.forEach(e=>{this.addPopup(e),this.unAddPopups=[]})}init(e){this.scene=e,this.mapsService=e.mapService}}var aq={MapToken:"您正在使用 Demo 测试 Token, 生产环境务必自行注册 Token 确保服务稳定 高德地图申请地址 https://lbs.amap.com/api/javascript-api/guide/abc/prepare  Mapbox地图申请地址 https://docs.mapbox.com/help/glossary/access-token/",SDK:"请确认引入了mapbox-gl api且在L7之前引入"};let{merge:aX}=nu,aK={id:"map",logoPosition:"bottomleft",logoVisible:!0,antialias:!0,stencil:!0,preserveDrawingBuffer:!1,pickBufferScale:1,fitBoundsOptions:{animate:!1}},aQ={colors:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],size:10,shape:"circle",scales:{},shape2d:["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],shape3d:["cylinder","triangleColumn","hexagonColumn","squareColumn"],minZoom:-1,maxZoom:24,visible:!0,autoFit:!1,pickingBuffer:0,enablePropagation:!1,zIndex:0,blend:"normal",maskLayers:[],enableMask:!0,maskOperation:aw.AND,pickedFeatureID:-1,enableMultiPassRenderer:!1,enablePicking:!0,active:!1,activeColor:"#2f54eb",enableHighlight:!1,enableSelect:!1,highlightColor:"#2f54eb",activeMix:0,selectColor:"blue",selectMix:0,enableLighting:!1,animateOption:{enable:!1,interval:.2,duration:4,trailLength:.15},forward:!0};var aJ=n(49953);let a0=Math.PI/180;function a1({latitude:e=0,zoom:t=0,scale:n,highPrecision:r=!1,flipY:i=!1}){n=void 0!==n?n:Math.pow(2,t);let o={},a=512*n,s=Math.cos(e*a0),l=a/360,c=l/s,u=a/4003e4/s;if(o.pixelsPerMeter=[u,-u,u],o.metersPerPixel=[1/u,-1/u,1/u],o.pixelsPerDegree=[l,-c,u],o.degreesPerPixel=[1/l,-1/c,1/u],r){let t=a0*Math.tan(e*a0)/s,n=l*t/2,r=a/4003e4*t,d=r/c*u;o.pixelsPerDegree2=[0,-n,r],o.pixelsPerMeter2=[d,0,d],i&&(o.pixelsPerDegree2[1]=-o.pixelsPerDegree2[1],o.pixelsPerMeter2[1]=-o.pixelsPerMeter2[1])}return i&&(o.pixelsPerMeter[1]=-o.pixelsPerMeter[1],o.metersPerPixel[1]=-o.metersPerPixel[1],o.pixelsPerDegree[1]=-o.pixelsPerDegree[1],o.degreesPerPixel[1]=-o.degreesPerPixel[1]),o}let a2=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];class a3{constructor(e){(0,ai.Z)(this,"needRefresh",!0),(0,ai.Z)(this,"coordinateSystem",void 0),(0,ai.Z)(this,"viewportCenter",void 0),(0,ai.Z)(this,"viewportCenterProjection",void 0),(0,ai.Z)(this,"pixelsPerDegree",void 0),(0,ai.Z)(this,"pixelsPerDegree2",void 0),(0,ai.Z)(this,"pixelsPerMeter",void 0),this.cameraService=e}refresh(e){let t=this.cameraService.getZoom(),n=e||this.cameraService.getCenter(),{pixelsPerMeter:r,pixelsPerDegree:i}=a1({latitude:n[1],zoom:t});this.viewportCenter=n,this.viewportCenterProjection=[0,0,0,0],this.pixelsPerMeter=r,this.pixelsPerDegree=i,this.pixelsPerDegree2=[0,0,0],this.coordinateSystem===a_.LNGLAT?this.cameraService.setViewProjectionMatrix(void 0):this.coordinateSystem===a_.LNGLAT_OFFSET&&this.calculateLnglatOffset(n,t),this.needRefresh=!1}getCoordinateSystem(){return this.coordinateSystem}setCoordinateSystem(e){this.coordinateSystem=e}getViewportCenter(){return this.viewportCenter}getViewportCenterProjection(){return this.viewportCenterProjection}getPixelsPerDegree(){return this.pixelsPerDegree}getPixelsPerDegree2(){return this.pixelsPerDegree2}getPixelsPerMeter(){return this.pixelsPerMeter}calculateLnglatOffset(e,t,n,r){let{pixelsPerMeter:i,pixelsPerDegree:o,pixelsPerDegree2:a}=a1({latitude:e[1],zoom:t,scale:n,flipY:r,highPrecision:!0}),s=this.cameraService.getViewMatrix(),l=this.cameraService.getProjectionMatrix(),c=aH.multiply([],l,s),u=this.cameraService.projectFlat([Math.fround(e[0]),Math.fround(e[1])],Math.pow(2,t));this.viewportCenterProjection=aJ.fF([],[u[0],u[1],0,1],c),s=this.cameraService.getViewMatrixUncentered()||s,c=aH.multiply([],l,s),c=aH.multiply([],c,a2),this.cameraService.setViewProjectionMatrix(c),this.pixelsPerMeter=i,this.pixelsPerDegree=o,this.pixelsPerDegree2=a}}class a5 extends rU.EventEmitter{constructor(...e){super(...e),(0,ai.Z)(this,"renderMap",new Map),(0,ai.Z)(this,"enable",!1),(0,ai.Z)(this,"renderEnable",!1),(0,ai.Z)(this,"cacheLogs",{})}setEnable(e){this.enable=!!e}log(e,t){if(!this.enable)return;let n=e.split("."),r=null;n.forEach((e,i)=>{null!==r?(r[e]||(r[e]={}),i!==n.length-1&&(r=r[e])):(this.cacheLogs[e]||(this.cacheLogs[e]={}),i!==n.length-1&&(r=this.cacheLogs[e])),i===n.length-1&&(r[e]=(0,ar.Z)((0,ar.Z)({time:Date.now()},r[e]),t))})}getLog(e){switch(typeof e){case"string":return this.cacheLogs[e];case"object":return e.map(e=>this.cacheLogs[e]).filter(e=>void 0!==e);case"undefined":return this.cacheLogs}}removeLog(e){delete this.cacheLogs[e]}generateRenderUid(){return this.renderEnable?rb():""}renderDebug(e){this.renderEnable=e}renderStart(e){if(!this.renderEnable||!this.enable)return;let t=this.renderMap.get(e)||{};this.renderMap.set(e,(0,ar.Z)((0,ar.Z)({},t),{},{renderUid:e,renderStart:Date.now()}))}renderEnd(e){if(!this.renderEnable||!this.enable)return;let t=this.renderMap.get(e);if(t){let n=t.renderStart,r=Date.now();this.emit("renderEnd",(0,ar.Z)((0,ar.Z)({},t),{},{renderEnd:r,renderDuration:r-n})),this.renderMap.delete(e)}}destroy(){this.cacheLogs=null,this.renderMap.clear()}}var a4=n(11553),a6=n.n(a4);let a7={panstart:"dragstart",panmove:"dragging",panend:"dragend",pancancel:"dragcancel"};class a8 extends rz(){get mapService(){return this.container.mapService}constructor(e){super(),(0,ai.Z)(this,"indragging",!1),(0,ai.Z)(this,"hammertime",void 0),(0,ai.Z)(this,"lastClickTime",0),(0,ai.Z)(this,"lastClickXY",[-1,-1]),(0,ai.Z)(this,"clickTimer",void 0),(0,ai.Z)(this,"$containter",void 0),(0,ai.Z)(this,"onDrag",e=>{let t=this.interactionEvent(e);t.type=a7[t.type],"dragging"===t.type?this.indragging=!0:this.indragging=!1,this.emit(aS.Drag,t)}),(0,ai.Z)(this,"onHammer",e=>{e.srcEvent.stopPropagation();let t=this.interactionEvent(e);this.emit(aS.Hover,t)}),(0,ai.Z)(this,"onTouch",e=>{let t=e.touches[0];this.onHover({clientX:t.clientX,clientY:t.clientY,type:"touchstart"})}),(0,ai.Z)(this,"onTouchEnd",e=>{if(e.changedTouches.length>0){let t=e.changedTouches[0];this.onHover({clientX:t.clientX,clientY:t.clientY,type:"touchend"})}}),(0,ai.Z)(this,"onTouchMove",e=>{let t=e.changedTouches[0];this.onHover({clientX:t.clientX,clientY:t.clientY,type:"touchmove"})}),(0,ai.Z)(this,"onHover",e=>{let{clientX:t,clientY:n}=e,r=t,i=n,o=e.type,a=this.mapService.getMapContainer();if(a){let{top:e,left:t}=a.getBoundingClientRect();r=r-t-a.clientLeft,i=i-e-a.clientTop}let s=this.mapService.containerToLngLat([r,i]);if("click"===o||"touch"===o){this.isDoubleTap(r,i,s);return}"click"!==o&&"dblclick"!==o&&this.emit(aS.Hover,{x:r,y:i,lngLat:s,type:o,target:e})}),this.container=e}init(){this.addEventListenerOnMap(),this.$containter=this.mapService.getMapContainer()}destroy(){this.hammertime&&this.hammertime.destroy(),this.removeEventListenerOnMap(),this.off(aS.Hover)}triggerHover({x:e,y:t}){this.emit(aS.Hover,{x:e,y:t})}triggerSelect(e){this.emit(aS.Select,{featureId:e})}triggerActive(e){this.emit(aS.Active,{featureId:e})}addEventListenerOnMap(){let e=this.mapService.getMapContainer();if(e){let t=new(a6()).Manager(e);t.add(new(a6()).Tap({event:"dblclick",taps:2})),t.add(new(a6()).Tap({event:"click"})),t.add(new(a6()).Pan({threshold:0,pointers:0})),t.add(new(a6()).Press({})),t.on("dblclick click",this.onHammer),t.on("panstart panmove panend pancancel",this.onDrag),e.addEventListener("touchstart",this.onTouch),e.addEventListener("touchend",this.onTouchEnd),e.addEventListener("mousemove",this.onHover),e.addEventListener("touchmove",this.onTouchMove),e.addEventListener("mousedown",this.onHover,!0),e.addEventListener("mouseup",this.onHover),e.addEventListener("contextmenu",this.onHover),this.hammertime=t}}removeEventListenerOnMap(){let e=this.mapService.getMapContainer();e&&(e.removeEventListener("mousemove",this.onHover),this.hammertime.off("dblclick click",this.onHammer),this.hammertime.off("panstart panmove panend pancancel",this.onDrag),e.removeEventListener("touchstart",this.onTouch),e.removeEventListener("touchend",this.onTouchEnd),e.removeEventListener("mousedown",this.onHover),e.removeEventListener("mouseup",this.onHover),e.removeEventListener("contextmenu",this.onHover))}interactionEvent(e){let t,n;let{type:r,pointerType:i}=e;"touch"===i?(n=Math.floor(e.pointers[0].clientY),t=Math.floor(e.pointers[0].clientX)):(n=Math.floor(e.srcEvent.y),t=Math.floor(e.srcEvent.x));let o=this.mapService.getMapContainer();if(o){let{top:e,left:r}=o.getBoundingClientRect();t-=r,n-=e}let a=this.mapService.containerToLngLat([t,n]);return{x:t,y:n,lngLat:a,type:r,target:e.srcEvent}}isDoubleTap(e,t,n){let r=new Date().getTime(),i="click";r-this.lastClickTime<400&&10>Math.abs(this.lastClickXY[0]-e)&&10>Math.abs(this.lastClickXY[1]-t)?(this.lastClickTime=0,this.lastClickXY=[-1,-1],this.clickTimer&&clearTimeout(this.clickTimer),i="dblclick",this.emit(aS.Hover,{x:e,y:t,lngLat:n,type:i})):(this.lastClickTime=r,this.lastClickXY=[e,t],this.clickTimer=setTimeout(()=>{i="click",this.emit(aS.Hover,{x:e,y:t,lngLat:n,type:i})},400))}}let a9=0,se=((x={})[x.SAMPLED=0]="SAMPLED",x[x.RENDER_TARGET=1]="RENDER_TARGET",x);class st{constructor(e){var t,n=this;(0,ai.Z)(this,"pickedColors",void 0),(0,ai.Z)(this,"pickedTileLayers",[]),(0,ai.Z)(this,"pickingFBO",void 0),(0,ai.Z)(this,"width",0),(0,ai.Z)(this,"height",0),(0,ai.Z)(this,"alreadyInPicking",!1),(0,ai.Z)(this,"pickBufferScale",1),(0,ai.Z)(this,"pickFromPickingFBO",(t=(0,aZ.Z)(function*(e,{x:t,y:r,lngLat:i,type:o,target:a}){let s;let l=!1,{readPixels:c,readPixelsAsync:u,getViewportSize:d,queryVerdorInfo:p}=n.rendererService,{width:h,height:f}=d(),{enableHighlight:g,enableSelect:m}=e.getLayerConfig(),b=t*nI,v=r*nI;if(b>h-1*nI||b<0||v>f-1*nI||v<0)return!1;let y="WebGPU"===p();if(s=y?yield u({x:Math.floor(b/n.pickBufferScale),y:Math.floor((f-(r+1)*nI)/n.pickBufferScale),width:1,height:1,data:new Uint8Array(4),framebuffer:n.pickingFBO}):c({x:Math.floor(b/n.pickBufferScale),y:Math.floor((f-(r+1)*nI)/n.pickBufferScale),width:1,height:1,data:new Uint8Array(4),framebuffer:n.pickingFBO}),n.pickedColors=s,0!==s[0]||0!==s[1]||0!==s[2]){let c=t_(s),u=e.layerPickService.getFeatureById(c);c!==e.getCurrentPickId()&&"mousemove"===o&&(o="mouseenter");let d={x:t,y:r,type:o,lngLat:i,featureId:c,feature:u,target:a};u&&(l=!0,e.setCurrentPickId(c),n.triggerHoverOnLayer(e,d))}else{let s={x:t,y:r,lngLat:i,type:null!==e.getCurrentPickId()&&"mousemove"===o?"mouseout":"un"+o,featureId:null,target:a,feature:null};n.triggerHoverOnLayer(e,(0,ar.Z)((0,ar.Z)({},s),{},{type:"unpick"})),n.triggerHoverOnLayer(e,s),e.setCurrentPickId(null)}if(g&&e.layerPickService.highlightPickedFeature(s),m&&"click"===o&&(null==s?void 0:s.toString())!==[0,0,0,0].toString()){let t=t_(s);null===e.getCurrentSelectedId()||t!==e.getCurrentSelectedId()?(e.layerPickService.selectFeature(s),e.setCurrentSelectedId(t)):(e.layerPickService.selectFeature(new Uint8Array([0,0,0,0])),e.setCurrentSelectedId(null))}return l}),function(e,n){return t.apply(this,arguments)})),this.container=e}get mapService(){return this.container.mapService}get rendererService(){return this.container.rendererService}get configService(){return this.container.globalConfigService}get interactionService(){return this.container.interactionService}get layerService(){return this.container.layerService}init(e){let{createTexture2D:t,createFramebuffer:n,getViewportSize:r}=this.rendererService,{width:i,height:o}=r();this.pickBufferScale=this.configService.getSceneConfig(e).pickBufferScale||1,i=Math.round(i/this.pickBufferScale),o=Math.round(o/this.pickBufferScale);let a=t({width:i,height:o,usage:se.RENDER_TARGET,label:"Picking Texture"});this.pickingFBO=n({color:a,depth:!0,width:i,height:o}),this.interactionService.on(aS.Hover,this.pickingAllLayer.bind(this))}boxPickLayer(e,t,n){var r=this;return(0,aZ.Z)(function*(){let{useFramebufferAsync:i,clear:o}=r.rendererService;r.resizePickingFBO(),e.hooks.beforePickingEncode.call(),yield i(r.pickingFBO,(0,aZ.Z)(function*(){o({framebuffer:r.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),e.renderModels({ispick:!0})})),e.hooks.afterPickingEncode.call();let a=yield r.pickBox(e,t);n(a)})()}pickBox(e,t){var n=this;return(0,aZ.Z)(function*(){let[r,i,o,a]=t.map(e=>Math.floor((e<0?0:e)*nI/n.pickBufferScale)),{readPixelsAsync:s,getViewportSize:l}=n.rendererService,{width:c,height:u}=l();if(r>(c-1)*nI/n.pickBufferScale||o<0||i>(u-1)*nI/n.pickBufferScale||a<0)return[];let d=Math.min(c/n.pickBufferScale,o)-r,p=Math.min(u/n.pickBufferScale,a)-i,h=yield s({x:r,y:Math.floor(u/n.pickBufferScale-(a+1)),width:d,height:p,data:new Uint8Array(d*p*4),framebuffer:n.pickingFBO}),f=[],g={};for(let t=0;t<h.length/4;t+=1){let n=h.slice(4*t,4*t+4),r=t_(n);if(-1!==r&&!g[r]){let t=e.layerPickService.getFeatureById(r);f.push((0,ar.Z)((0,ar.Z)({},t),{},{pickedFeatureIdx:r})),g[r]=!0}}return f})()}handleCursor(e,t){let{cursor:n="",cursorEnabled:r}=e.getLayerConfig();if(r){let e=this.mapService.getType(),r="amap"===e?this.mapService.getMapContainer():this.mapService.getMarkerContainer(),i=null==r?void 0:r.style.getPropertyValue("cursor");"unmousemove"===t&&""!==i?null==r||r.style.setProperty("cursor",""):"mousemove"===t&&(null==r||r.style.setProperty("cursor",n))}}destroy(){this.pickingFBO.destroy(),this.pickingFBO=null}pickingAllLayer(e){var t=this;return(0,aZ.Z)(function*(){t.layerService.needPick(e.type)&&t.isPickingAllLayer()&&(t.alreadyInPicking=!0,yield t.pickingLayers(e),t.layerService.renderLayers(),t.alreadyInPicking=!1)})()}isPickingAllLayer(){return!this.alreadyInPicking&&!this.layerService.alreadyInRendering&&!this.interactionService.indragging&&!!this.layerService.getShaderPickStat()}resizePickingFBO(){let{getViewportSize:e}=this.rendererService,{width:t,height:n}=e();(this.width!==t||this.height!==n)&&(this.pickingFBO.resize({width:Math.round(t/this.pickBufferScale),height:Math.round(n/this.pickBufferScale)}),this.width=t,this.height=n)}pickingLayers(e){var t=this;return(0,aZ.Z)(function*(){let{clear:n,useFramebufferAsync:r}=t.rendererService;t.resizePickingFBO();let i=t.layerService.getRenderList();for(let o of i.filter(t=>t.needPick(e.type)).reverse()){yield r(t.pickingFBO,(0,aZ.Z)(function*(){n({framebuffer:t.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),o.layerPickService.pickRender(e)}));let i=yield t.pickFromPickingFBO(o,e);if(t.layerService.pickedLayerId=i?+o.id:-1,i&&!o.getLayerConfig().enablePropagation)break}})()}triggerHoverOnLayer(e,t){(function(e){var t,n,r;let i=!0;if((null==e||null===(t=e.target)||void 0===t?void 0:t.target)instanceof HTMLElement){let t=null==e||null===(n=e.target)||void 0===n?void 0:n.target;for(;t;){let e=Array.from(t.classList);if(e.includes("l7-marker")||e.includes("l7-popup")){i=!1;break}t=null===(r=t)||void 0===r?void 0:r.parentElement}}return i})(t)&&(this.handleCursor(e,t.type),e.emit(t.type,t))}}class sn{constructor(e=!0){(0,ai.Z)(this,"autoStart",void 0),(0,ai.Z)(this,"startTime",0),(0,ai.Z)(this,"oldTime",0),(0,ai.Z)(this,"running",!1),(0,ai.Z)(this,"elapsedTime",0),this.autoStart=e}start(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}let{throttle:sr}=nu;class si extends rU.EventEmitter{get renderService(){return this.container.rendererService}get mapService(){return this.container.mapService}get debugService(){return this.container.debugService}constructor(e){super(),(0,ai.Z)(this,"pickedLayerId",-1),(0,ai.Z)(this,"clock",new sn),(0,ai.Z)(this,"alreadyInRendering",!1),(0,ai.Z)(this,"layers",[]),(0,ai.Z)(this,"layerList",[]),(0,ai.Z)(this,"layerRenderID",void 0),(0,ai.Z)(this,"sceneInited",!1),(0,ai.Z)(this,"animateInstanceCount",0),(0,ai.Z)(this,"shaderPicking",!0),(0,ai.Z)(this,"enableRender",!0),(0,ai.Z)(this,"reRender",sr(()=>{this.renderLayers()},32)),(0,ai.Z)(this,"throttleRenderLayers",sr(()=>{this.renderLayers()},16)),this.container=e}needPick(e){return this.updateLayerRenderList(),this.layerList.some(t=>t.needPick(e))}add(e){this.layers.push(e),this.sceneInited&&e.init().then(()=>{this.renderLayers()})}addMask(e){this.sceneInited&&e.init().then(()=>{this.renderLayers()})}initLayers(){var e=this;return(0,aZ.Z)(function*(){var t;e.sceneInited=!0,e.layers.forEach((t=(0,aZ.Z)(function*(t){t.startInit||(yield t.init(),e.updateLayerRenderList())}),function(e){return t.apply(this,arguments)}))})()}getSceneInited(){return this.sceneInited}getRenderList(){return this.layerList}getLayers(){return this.layers}getLayer(e){return this.layers.find(t=>t.id===e)}getLayerByName(e){return this.layers.find(t=>t.name===e)}remove(e,t){var n=this;return(0,aZ.Z)(function*(){t?t.layerChildren=t.layerChildren.filter(t=>t!==e):n.layers=n.layers.filter(t=>t!==e),e.destroy(),n.reRender(),n.emit("layerChange",n.layers)})()}removeAllLayers(){var e=this;return(0,aZ.Z)(function*(){e.destroy(),e.reRender()})()}setEnableRender(e){this.enableRender=e}renderLayers(){var e=this;return(0,aZ.Z)(function*(){if(e.alreadyInRendering||!e.enableRender)return;e.updateLayerRenderList();let t=e.debugService.generateRenderUid();for(let n of(e.debugService.renderStart(t),e.alreadyInRendering=!0,e.clear(),e.layerList))n.prerender();for(let t of(e.renderService.beginFrame(),e.layerList)){let{enableMask:n}=t.getLayerConfig();t.masks.filter(e=>e.inited).length>0&&n&&e.renderMask(t.masks),t.getLayerConfig().enableMultiPassRenderer?yield t.renderMultiPass():t.render()}e.renderService.endFrame(),e.debugService.renderEnd(t),e.alreadyInRendering=!1})()}renderMask(e){let t=0;this.renderService.clear({stencil:0,depth:1,framebuffer:null});let n=e.length>1?aC.MULTIPLE:aC.SINGLE;for(let r of e)r.render({isStencil:!0,stencilType:n,stencilIndex:t++})}beforeRenderData(e){var t=this;return(0,aZ.Z)(function*(){let n=yield e.hooks.beforeRenderData.promise();n&&t.renderLayers()})()}renderTileLayerMask(e){let t=0,{enableMask:n=!0}=e.getLayerConfig(),r=e.tileMask?1:0,i=e.masks.filter(e=>e.inited);r+=n?i.length:1;let o=r>1?aC.MULTIPLE:aC.SINGLE;if((e.tileMask||i.length&&n)&&this.renderService.clear({stencil:0,depth:1,framebuffer:null}),i.length&&n)for(let e of i)e.render({isStencil:!0,stencilType:o,stencilIndex:t++});e.tileMask&&e.tileMask.render({isStencil:!0,stencilType:o,stencilIndex:t++,stencilOperation:aw.OR})}renderTileLayer(e){var t=this;return(0,aZ.Z)(function*(){t.renderTileLayerMask(e),e.getLayerConfig().enableMultiPassRenderer?yield e.renderMultiPass():yield e.render()})()}updateLayerRenderList(){this.layerList=[],this.layers.filter(e=>e.inited).filter(e=>e.isVisible()).sort((e,t)=>e.zIndex-t.zIndex).forEach(e=>{this.layerList.push(e)})}destroy(){this.layers.forEach(e=>{e.destroy()}),this.layers=[],this.layerList=[],this.emit("layerChange",this.layers)}startAnimate(){0==this.animateInstanceCount++&&(this.clock.start(),this.runRender())}stopAnimate(){0==--this.animateInstanceCount&&(this.stopRender(),this.clock.stop())}getOESTextureFloat(){return this.renderService.extensionObject.OES_texture_float}enableShaderPick(){this.shaderPicking=!0}disableShaderPick(){this.shaderPicking=!1}getShaderPickStat(){return this.shaderPicking}clear(){let e=tE(this.mapService.bgColor);this.renderService.clear({color:e,depth:1,stencil:0,framebuffer:null})}runRender(){this.renderLayers(),this.layerRenderID=window.requestAnimationFrame(this.runRender.bind(this))}stopRender(){window.cancelAnimationFrame(this.layerRenderID)}}var so=n(35245);let{isNil:sa}=nu;class ss{constructor(e){(0,ai.Z)(this,"name",void 0),(0,ai.Z)(this,"type",void 0),(0,ai.Z)(this,"scale",void 0),(0,ai.Z)(this,"descriptor",void 0),(0,ai.Z)(this,"featureBufferLayout",[]),(0,ai.Z)(this,"needRescale",!1),(0,ai.Z)(this,"needRemapping",!1),(0,ai.Z)(this,"needRegenerateVertices",!1),(0,ai.Z)(this,"featureRange",{startIndex:0,endIndex:1/0}),(0,ai.Z)(this,"vertexAttribute",void 0),(0,ai.Z)(this,"defaultCallback",e=>{if(0===e.length){var t;return(null===(t=this.scale)||void 0===t?void 0:t.defaultValues)||[]}return e.map((e,t)=>{var n;let r=null===(n=this.scale)||void 0===n?void 0:n.scalers[t].func,i=r(e);return i})}),this.setProps(e)}setProps(e){Object.assign(this,e)}mapping(e){var t,n;if(null!==(t=this.scale)&&void 0!==t&&t.callback){let t=null===(n=this.scale)||void 0===n?void 0:n.callback(...e);if(!sa(t))return[t]}return this.defaultCallback(e)}resetDescriptor(){this.descriptor&&(this.descriptor.buffer.data=[])}}let sl=["buffer","update","name"],sc=["buffer","update","name"],su={[aa.FLOAT]:4,[aa.UNSIGNED_BYTE]:1,[aa.UNSIGNED_SHORT]:2};class sd{constructor(e){(0,ai.Z)(this,"attributesAndIndices",void 0),(0,ai.Z)(this,"attributes",[]),(0,ai.Z)(this,"triangulation",void 0),(0,ai.Z)(this,"featureLayout",{sizePerElement:0,elements:[]}),this.rendererService=e}registerStyleAttribute(e){let t=this.getLayerStyleAttribute(e.name||"");return t?t.setProps(e):(t=new ss(e),this.attributes.push(t)),t}unRegisterStyleAttribute(e){let t=this.attributes.findIndex(t=>t.name===e);t>-1&&this.attributes.splice(t,1)}updateScaleAttribute(e){this.attributes.forEach(t=>{var n;let r=t.name,i=null===(n=t.scale)||void 0===n?void 0:n.field;(e[r]||i&&e[i])&&(t.needRescale=!0,t.needRemapping=!0,t.needRegenerateVertices=!0)})}updateStyleAttribute(e,t,n){let r=this.getLayerStyleAttribute(e);r||(r=this.registerStyleAttribute((0,ar.Z)((0,ar.Z)({},t),{},{name:e})));let{scale:i}=t;i&&r&&(r.scale=i,r.needRescale=!0,r.needRemapping=!0,r.needRegenerateVertices=!0,n&&n.featureRange&&(r.featureRange=n.featureRange))}getLayerStyleAttributes(){return this.attributes}getLayerStyleAttribute(e){return this.attributes.find(t=>t.name===e)}getLayerAttributeScale(e){var t;let n=this.getLayerStyleAttribute(e),r=null==n||null===(t=n.scale)||void 0===t?void 0:t.scalers;return r&&r[0]?r[0].func:null}updateAttributeByFeatureRange(e,t,n=0,r,i){let o=this.attributes.find(t=>t.name===e);if(o&&o.descriptor){let{descriptor:a}=o,{update:s,buffer:l,size:c=0}=a,u=su[l.type||aa.FLOAT];if(s){let{elements:a,sizePerElement:l}=this.featureLayout,d=a.slice(n,r);if(!d.length)return;let{offset:p}=d[0],h=d.map(({featureIdx:e,vertices:n,normals:r},i)=>{let o=n.length/l,a=[];for(let c=0;c<o;c++){let o=r?r.slice(3*c,3*c+3):[];a.push(...s(t[e],e,n.slice(c*l,c*l+l),i,o))}return a}).flat();o.vertexAttribute.updateBuffer({data:h,offset:p*c*u}),null==i||i.emit(`legend:${e}`,i.getLegend(e))}}}createAttributesAndIndices(e,t,n,r){this.featureLayout={sizePerElement:0,elements:[]},t&&(this.triangulation=t);let i=this.attributes.map(e=>(e.resetDescriptor(),e.descriptor)),o=0,a=0,s=[],l=3;e.forEach((e,t)=>{let{indices:r,vertices:c,normals:u,size:d,indexes:p,count:h}=this.triangulation(e,n);"number"==typeof h&&(a+=h),r.forEach(e=>{s.push(e+o)}),l=d;let f=c.length/d;this.featureLayout.sizePerElement=l,this.featureLayout.elements.push({featureIdx:t,vertices:c,normals:u,offset:o}),o+=f;for(let n=0;n<f;n++){let r=(null==u?void 0:u.slice(3*n,3*n+3))||[],o=c.slice(n*d,n*d+d),a=0;p&&void 0!==p[n]&&(a=p[n]),i.forEach((i,s)=>{i&&i.update&&i.buffer.data.push(...i.update(e,t,o,n,r,a))})}});let{createAttribute:c,createBuffer:u,createElements:d}=this.rendererService,p={};i.forEach((e,t)=>{if(e){let{buffer:n,update:r,name:i}=e,o=(0,so.Z)(e,sl),a=c((0,ar.Z)({buffer:u(n)},o));p[e.name||""]=a,this.attributes[t].vertexAttribute=a}});let h=d({data:s,type:aa.UNSIGNED_INT,count:s.length});return this.attributesAndIndices={attributes:p,elements:h,count:a},Object.values(this.attributes).filter(e=>e.scale).forEach(e=>{let t=e.name;null==r||r.emit(`legend:${t}`,r.getLegend(t))}),this.attributesAndIndices}createAttributes(e,t){this.featureLayout={sizePerElement:0,elements:[]},t&&(this.triangulation=t);let n=this.attributes.map(e=>(e.resetDescriptor(),e.descriptor)),r=0,i=[],o=3;e.forEach((e,t)=>{let{indices:a,vertices:s,normals:l,size:c,indexes:u}=this.triangulation(e);a.forEach(e=>{i.push(e+r)}),o=c;let d=s.length/c;this.featureLayout.sizePerElement=o,this.featureLayout.elements.push({featureIdx:t,vertices:s,normals:l,offset:r}),r+=d;for(let r=0;r<d;r++){let i=(null==l?void 0:l.slice(3*r,3*r+3))||[],o=s.slice(r*c,r*c+c),a=0;u&&void 0!==u[r]&&(a=u[r]),n.forEach((n,s)=>{n&&n.update&&n.buffer.data.push(...n.update(e,t,o,r,i,a))})}});let{createAttribute:a,createBuffer:s}=this.rendererService,l={};return n.forEach((e,t)=>{if(e){let{buffer:n,update:r,name:i}=e,o=(0,so.Z)(e,sc),c=a((0,ar.Z)({buffer:s(n)},o));l[e.name||""]=c,this.attributes[t].vertexAttribute=c}}),{attributes:l}}clearAllAttributes(){var e;this.attributes.forEach(e=>{e.vertexAttribute&&e.vertexAttribute.destroy()}),null===(e=this.attributesAndIndices)||void 0===e||e.elements.destroy(),this.attributes=[]}}var sp=n(2433);function sh(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})}function sf(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function sg(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function sm(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function sb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sv={exports:{}},sy={exports:{}},sE={exports:{}};Object.defineProperty(S=sE.exports,"__esModule",{value:!0}),S.default=function(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0},sE.exports=S.default;var s_={},sT={exports:{}},sx={exports:{}};Object.defineProperty(A=sx.exports,"__esModule",{value:!0}),A.default=function(e){return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=t.pop();return e.call(this,t,r)}},sx.exports=A.default;var sS={};Object.defineProperty(sS,"__esModule",{value:!0}),sS.fallback=sO,sS.wrap=sI;var sA=sS.hasQueueMicrotask="function"==typeof queueMicrotask&&queueMicrotask,sC=sS.hasSetImmediate="function"==typeof setImmediate&&setImmediate,sw=sS.hasNextTick="object"==typeof sp&&"function"==typeof sp.nextTick;function sO(e){setTimeout(e,0)}function sI(e){return function(t){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return e(function(){return t.apply(void 0,n)})}}q=sA?queueMicrotask:sC?setImmediate:sw?sp.nextTick:sO,sS.default=sI(q),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s_.isAsync)(e)?function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=t.pop();return o(e.apply(this,t),r)}:(0,n.default)(function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}if(r&&"function"==typeof r.then)return o(r,n);n(null,r)})};var n=i(sx.exports),r=i(sS);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.then(function(e){a(t,null,e)},function(e){a(t,e&&e.message?e:Error(e))})}function a(e,t,n){try{e(t,n)}catch(e){(0,r.default)(function(e){throw e},e)}}e.exports=t.default}(sT,sT.exports),Object.defineProperty(s_,"__esModule",{value:!0}),s_.isAsyncIterable=s_.isAsyncGenerator=s_.isAsync=void 0;var sL=(i=sT.exports)&&i.__esModule?i:{default:i};function sR(e){return"AsyncFunction"===e[Symbol.toStringTag]}s_.default=function(e){if("function"!=typeof e)throw Error("expected a function");return sR(e)?(0,sL.default)(e):e},s_.isAsync=sR,s_.isAsyncGenerator=function(e){return"AsyncGenerator"===e[Symbol.toStringTag]},s_.isAsyncIterable=function(e){return"function"==typeof e[Symbol.asyncIterator]};var sk={exports:{}};Object.defineProperty(C=sk.exports,"__esModule",{value:!0}),C.default=function(e,t){if(void 0===t&&(t=e.length),!t)throw Error("arity is undefined");return function(){for(var n=this,r=[],i=arguments.length;i--;)r[i]=arguments[i];return"function"==typeof r[t-1]?e.apply(this,r):new Promise(function(i,o){r[t-1]=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(e)return o(e);i(t.length>1?t:t[0])},e.apply(n,r)})}},sk.exports=C.default,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=o(sE.exports),r=o(s_),i=o(sk.exports);function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)(function(e,t,i){var o=(0,n.default)(t)?[]:{};e(t,function(e,t,n){(0,r.default)(e)(function(e){for(var r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];r.length<2&&(r=r[0]),o[t]=r,n(e)})},function(e){return i(e,o)})},3),e.exports=t.default}(sy,sy.exports);var sN={exports:{}},sM={exports:{}},sD={exports:{}},sP={exports:{}};Object.defineProperty(w=sP.exports,"__esModule",{value:!0}),w.default=function(e){function t(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t},sP.exports=w.default;var sF={exports:{}},sB={exports:{}};Object.defineProperty(O=sB.exports,"__esModule",{value:!0}),O.default=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()},sB.exports=O.default,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,n.default)(e))return t=-1,i=e.length,function(){return++t<i?{value:e[t],key:t}:null};var t,i,o,a,s,l,c=(0,r.default)(e);return c?(o=-1,function(){var e=c.next();return e.done?null:(o++,{value:e.value,key:o})}):(a=e?Object.keys(e):[],s=-1,l=a.length,function t(){var n=a[++s];return"__proto__"===n?t():s<l?{value:e[n],key:n}:null})};var n=i(sE.exports),r=i(sB.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(sF,sF.exports);var sU={exports:{}};Object.defineProperty(I=sU.exports,"__esModule",{value:!0}),I.default=function(e){return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(null===e)throw Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}},sU.exports=I.default;var sz={exports:{}},sZ={exports:{}};Object.defineProperty(L=sZ.exports,"__esModule",{value:!0}),L.default={},sZ.exports=L.default,Object.defineProperty(R=sz.exports,"__esModule",{value:!0}),R.default=function(e,t,n,r){var i=!1,o=!1,a=!1,s=0,l=0;function c(){s>=t||a||i||(a=!0,e.next().then(function(e){var t=e.value,d=e.done;if(!o&&!i){if(a=!1,d){i=!0,s<=0&&r(null);return}s++,n(t,l,u),l++,c()}}).catch(d))}function u(e,t){if(s-=1,!o){if(e)return d(e);if(!1===e){i=!0,o=!0;return}if(t===k.default||i&&s<=0)return i=!0,r(null);c()}}function d(e){o||(a=!1,i=!0,r(e))}c()},k=(o=sZ.exports)&&o.__esModule?o:{default:o},sz.exports=R.default,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=s(sP.exports),r=s(sF.exports),i=s(sU.exports),o=s(sz.exports),a=s(sZ.exports);function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t,s,l){if(l=(0,n.default)(l),e<=0)throw RangeError("concurrency limit cannot be less than 1");if(!t)return l(null);if((0,s_.isAsyncGenerator)(t))return(0,o.default)(t,e,s,l);if((0,s_.isAsyncIterable)(t))return(0,o.default)(t[Symbol.asyncIterator](),e,s,l);var c=(0,r.default)(t),u=!1,d=!1,p=0,h=!1;function f(e,t){if(!d){if(p-=1,e)u=!0,l(e);else if(!1===e)u=!0,d=!0;else{if(t===a.default||u&&p<=0)return u=!0,l(null);h||g()}}}function g(){for(h=!0;p<e&&!u;){var t=c();if(null===t){u=!0,p<=0&&l(null);return}p+=1,s(t.value,t.key,(0,i.default)(f))}h=!1}g()}},e.exports=t.default}(sD,sD.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=o(sD.exports),r=o(s_),i=o(sk.exports);function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)(function(e,t,i,o){return(0,n.default)(t)(e,(0,r.default)(i),o)},4),e.exports=t.default}(sM,sM.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=i(sM.exports),r=i(sk.exports);function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(function(e,t,r){return(0,n.default)(e,1,t,r)},3),e.exports=t.default}(sN,sN.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(r.default,e,t)};var n=i(sy.exports),r=i(sN.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(sv,sv.exports);var sj=sb(sv.exports),sH=function(){function e(){this.args=[],this.tasks=[]}return e.prototype.call=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return this.args=t,sj(this.tasks)},e.prototype.tap=function(e,t){var n=this;this.tasks.push(function(r){t.apply(void 0,sm([],sg(n.args),!1)),r(null,e)})},e}(),sG={exports:{}},sV={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=c(sE.exports),r=c(sZ.exports),i=c(sM.exports),o=c(sP.exports),a=c(sU.exports),s=c(s_),l=c(sk.exports);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){n=(0,o.default)(n);var i=0,s=0,l=e.length,c=!1;function u(e,t){!1===e&&(c=!0),!0!==c&&(e?n(e):(++s===l||t===r.default)&&n(null))}for(0===l&&n(null);i<l;i++)t(e[i],i,(0,a.default)(u))}function d(e,t,n){return(0,i.default)(e,1/0,t,n)}t.default=(0,l.default)(function(e,t,r){return((0,n.default)(e)?u:d)(e,(0,s.default)(t),r)},3),e.exports=t.default}(sV,sV.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(n.default,e,t)};var n=i(sV.exports),r=i(sy.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(sG,sG.exports);var s$=sb(sG.exports);!function(){function e(){this.tasks=[]}e.prototype.promise=function(){return s$(this.tasks)},e.prototype.tapPromise=function(e,t){var n=this;this.tasks.push(function(r){return sh(n,void 0,void 0,function(){return sf(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return n.sent(),r(null,e),[2]}})})})}}();var sW={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=a(sP.exports),r=a(sU.exports),i=a(s_),o=a(sk.exports);function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)(function(e,t){if(t=(0,n.default)(t),!Array.isArray(e))return t(Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var o=0;function a(t){(0,i.default)(e[o++]).apply(void 0,t.concat([(0,r.default)(s)]))}function s(n){for(var r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];if(!1!==n){if(n||o===e.length)return t.apply(void 0,[n].concat(r));a(r)}}a([])}),e.exports=t.default}(sW,sW.exports);var sY=sb(sW.exports);!function(){function e(){this.tasks=[]}e.prototype.call=function(){return sY(this.tasks)},e.prototype.tap=function(e,t){0===this.tasks.length?this.tasks.push(function(e){var n=t();e(!!n&&null,n)}):this.tasks.push(function(n,r){r(!!t.apply(void 0,sm([],sg(n),!1))&&null,e)})}}();var sq=function(){function e(){this.tasks=[]}return e.prototype.call=function(){return sj(this.tasks)},e.prototype.tap=function(e,t){this.tasks.push(function(n){n(t(),e)})},e}(),sX=function(){function e(){this.args=[],this.tasks=[]}return e.prototype.promise=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return this.args=t,sj(this.tasks)},e.prototype.tapPromise=function(e,t){var n=this;this.tasks.push(function(r){return sh(n,void 0,void 0,function(){return sf(this,function(n){switch(n.label){case 0:return[4,t.apply(void 0,sm([],sg(this.args),!1))];case 1:return n.sent(),r(null,e),[2]}})})})},e}(),sK=function(){function e(){this.args=[],this.tasks=[]}return e.prototype.promise=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return this.args=t,sj(this.tasks)},e.prototype.tapPromise=function(e,t){var n=this;this.tasks.push(function(r){return sh(n,void 0,void 0,function(){return sf(this,function(n){switch(n.label){case 0:return[4,t.apply(void 0,sm([],sg(this.args),!1))];case 1:return r(n.sent(),e),[2]}})})})},e}(),sQ=function(){function e(){this.tasks=[]}return e.prototype.promise=function(){return sY(this.tasks)},e.prototype.tapPromise=function(e,t){0===this.tasks.length?this.tasks.push(function(e){t().then(function(t){e(null,t)})}):this.tasks.push(function(e,n){t(e).then(function(e){n(null,e)})})},e}(),sJ=n(28766),s0=n.n(sJ);class s1 extends rU.EventEmitter{get iconService(){return this.container.iconService}get fontService(){return this.container.fontService}get controlService(){return this.container.controlService}get configService(){return this.container.globalConfigService}get map(){return this.container.mapService}get coordinateSystemService(){return this.container.coordinateSystemService}get rendererService(){return this.container.rendererService}get layerService(){return this.container.layerService}get debugService(){return this.container.debugService}get cameraService(){return this.container.cameraService}get interactionService(){return this.container.interactionService}get pickingService(){return this.container.pickingService}get shaderModuleService(){return this.container.shaderModuleService}get markerService(){return this.container.markerService}get popupService(){return this.container.popupService}constructor(e){super(),(0,ai.Z)(this,"destroyed",!1),(0,ai.Z)(this,"loaded",!1),(0,ai.Z)(this,"id",void 0),(0,ai.Z)(this,"inited",!1),(0,ai.Z)(this,"rendering",!1),(0,ai.Z)(this,"$container",void 0),(0,ai.Z)(this,"canvas",void 0),(0,ai.Z)(this,"markerContainer",void 0),(0,ai.Z)(this,"resizeDetector",void 0),(0,ai.Z)(this,"hooks",void 0),(0,ai.Z)(this,"handleWindowResized",()=>{this.emit("resize"),this.$container&&(this.initContainer(),this.coordinateSystemService.needRefresh=!0,this.render())}),(0,ai.Z)(this,"handleMapCameraChanged",e=>{this.cameraService.update(e),this.render()}),this.container=e,this.hooks={init:new sX},this.id=e.id}init(e){var t=this;this.configService.setSceneConfig(this.id,e),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.iconService.on("imageUpdate",()=>this.render()),this.fontService.init(),this.hooks.init.tapPromise("initMap",(0,aZ.Z)(function*(){t.debugService.log("map.mapInitStart",{type:t.map.version}),yield new Promise(e=>{t.map.onCameraChanged(n=>{t.cameraService.init(),t.cameraService.update(n),e()}),t.map.init()}),t.map.onCameraChanged(t.handleMapCameraChanged),t.map.addMarkerContainer(),t.markerService.addMarkers(),t.markerService.addMarkerLayers(),t.popupService.initPopup(),t.interactionService.init(),t.interactionService.on(aS.Drag,t.addSceneEvent.bind(t))})),this.hooks.init.tapPromise("initRenderer",(0,aZ.Z)(function*(){var n,r;let i=(null===(n=t.map)||void 0===n?void 0:n.getOverlayContainer())||void 0;if(i?t.$container=i:t.$container=function(e){let t=e;if("string"==typeof e&&(t=document.getElementById(e)),t){let e=document.createElement("div");return e.style.cssText+=`
      position: absolute;
      z-index:2;
      height: 100%;
      width: 100%;
      pointer-events: none;
    `,e.id=`l7-scene-${a9++}`,e.classList.add("l7-scene"),t.appendChild(e),e}return null}(t.configService.getSceneConfig(t.id).id||""),t.$container){let{canvas:n}=e;t.canvas=n||ng("canvas","",t.$container),t.setCanvas(),yield t.rendererService.init(t.canvas,t.configService.getSceneConfig(t.id),e.gl),t.registerContextLost(),t.initContainer(),t.resizeDetector=s0()({strategy:"scroll"}),t.resizeDetector.listenTo(t.$container,t.handleWindowResized),window.matchMedia&&(null===(r=window.matchMedia("screen and (-webkit-min-device-pixel-ratio: 1.5)"))||void 0===r||r.addListener(t.handleWindowResized.bind("screen")))}else console.error("容器 id 不存在");t.pickingService.init(t.id)})),this.render()}registerContextLost(){let e=this.rendererService.getCanvas();e&&e.addEventListener("webglcontextlost",()=>this.emit("webglcontextlost"))}addLayer(e){this.layerService.sceneService=this,this.layerService.add(e)}addMask(e){this.layerService.sceneService=this,this.layerService.addMask(e)}render(){var e=this;return(0,aZ.Z)(function*(){e.rendering||e.destroyed||(e.rendering=!0,e.inited?(yield e.layerService.initLayers(),yield e.layerService.renderLayers()):(yield e.hooks.init.promise(),e.destroyed&&e.destroy(),yield e.layerService.initLayers(),e.layerService.renderLayers(),e.controlService.addControls(),e.loaded=!0,e.emit("loaded"),e.inited=!0),e.rendering=!1)})()}addFontFace(e,t){this.fontService.addFontFace(e,t)}getSceneContainer(){return this.$container}exportPng(e){var t=this;return(0,aZ.Z)(function*(){var n;let r=null===(n=t.$container)||void 0===n?void 0:n.getElementsByTagName("canvas")[0];yield t.render();let i="jpg"===e?null==r?void 0:r.toDataURL("image/jpeg"):null==r?void 0:r.toDataURL("image/png");return i})()}getSceneConfig(){return this.configService.getSceneConfig(this.id)}getPointSizeRange(){return this.rendererService.getPointSizeRange()}addMarkerContainer(){let e=this.$container.parentElement;null!==e&&(this.markerContainer=ng("div","l7-marker-container",e))}getMarkerContainer(){return this.markerContainer}destroy(){var e;if(!this.inited){this.destroyed=!0;return}this.resizeDetector.removeListener(this.$container,this.handleWindowResized),this.pickingService.destroy(),this.layerService.destroy(),this.interactionService.destroy(),this.controlService.destroy(),this.markerService.destroy(),this.fontService.destroy(),this.iconService.destroy(),this.removeAllListeners(),this.inited=!1,this.map.destroy(),setTimeout(()=>{var e;null===(e=this.$container)||void 0===e||e.removeChild(this.canvas),this.canvas=null,this.rendererService.destroy()}),null===(e=this.$container)||void 0===e||null===(e=e.parentNode)||void 0===e||e.removeChild(this.$container),this.emit("destroy")}initContainer(){var e,t;let n=(null===(e=this.$container)||void 0===e?void 0:e.clientWidth)||400,r=(null===(t=this.$container)||void 0===t?void 0:t.clientHeight)||300,i=this.canvas;i&&(i.width=n*nI,i.height=r*nI),this.rendererService.viewport({x:0,y:0,width:nI*n,height:nI*r})}setCanvas(){var e,t;let n=(null===(e=this.$container)||void 0===e?void 0:e.clientWidth)||400,r=(null===(t=this.$container)||void 0===t?void 0:t.clientHeight)||300,i=this.canvas;i.width=n*nI,i.height=r*nI,i.style.width="100%",i.style.height="100%"}addSceneEvent(e){this.emit(e.type,e)}}let{uniq:s2}=nu,s3="#define PI 3.14159265359",s5="layout(std140) uniform PickingUniforms {\n  vec4 u_HighlightColor;\n  vec4 u_SelectColor;\n  vec3 u_PickingColor;\n  float u_PickingStage;\n  vec3 u_CurrentSelectedId;\n  float u_PickingThreshold;\n  float u_PickingBuffer;\n  float u_shaderPick;\n  float u_activeMix;\n};",s4='#define TILE_SIZE (512.0)\n#define PI (3.1415926536)\n#define WORLD_SCALE (TILE_SIZE / (PI * 2.0))\n#define EARTH_CIRCUMFERENCE (40.03e6)\n\n#define COORDINATE_SYSTEM_LNGLAT (1.0) // mapbox\n#define COORDINATE_SYSTEM_LNGLAT_OFFSET (2.0) // mapbox offset\n#define COORDINATE_SYSTEM_VECTOR_TILE (3.0)\n#define COORDINATE_SYSTEM_IDENTITY (4.0)\n#define COORDINATE_SYSTEM_METER_OFFSET (5.0)\n\n#pragma include "scene_uniforms"\n\nconst vec2 ZERO_64_XY_LOW = vec2(0.0, 0.0);\n\n// web mercator coords -> world coords\nvec2 project_mercator(vec2 lnglat) {\n  float x = lnglat.x;\n  return vec2(radians(x) + PI, PI - log(tan(PI * 0.25 + radians(lnglat.y) * 0.5)));\n}\n\nfloat project_scale(float meters) {\n  return meters * u_PixelsPerMeter.z;\n}\n\n// offset coords -> world coords\nvec4 project_offset(vec4 offset) {\n  float dy = offset.y;\n  dy = clamp(dy, -1.0, 1.0);\n  vec3 pixels_per_unit = u_PixelsPerDegree + u_PixelsPerDegree2 * dy;\n  return vec4(offset.xyz * pixels_per_unit, offset.w);\n}\n\nvec3 project_normal(vec3 normal) {\n  vec4 normal_modelspace = u_ModelMatrix * vec4(normal, 0.0);\n  return normalize(normal_modelspace.xyz * u_PixelsPerMeter);\n}\n\nvec3 project_offset_normal(vec3 vector) {\n  if (\n    u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 &&\n      u_CoordinateSystem > COORDINATE_SYSTEM_LNGLAT - 0.01 ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    // normals generated by the polygon tesselator are in lnglat offsets instead of meters\n    return normalize(vector * u_PixelsPerDegree);\n  }\n  return project_normal(vector);\n}\n\nvec4 project_position(vec4 position, vec2 position64xyLow) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    float X = position.x - u_ViewportCenter.x;\n    float Y = position.y - u_ViewportCenter.y;\n    return project_offset(\n      vec4(X + position64xyLow.x, Y + position64xyLow.y, position.z, position.w)\n    );\n  }\n  if (\n    u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 &&\n    u_CoordinateSystem > COORDINATE_SYSTEM_LNGLAT - 0.01\n  ) {\n    return vec4(\n      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,\n      project_scale(position.z),\n      position.w\n    );\n  }\n\n  return position;\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_XY_LOW);\n}\n\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / u_ViewportSize * u_DevicePixelRatio * 2.0;\n  return offset * u_FocalDistance;\n}\n\n// 适配纹理贴图的等像素大小\nfloat project_pixel_texture(float pixel) {\n  // mapbox zoom > 12\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    return pixel * pow(0.5, u_Zoom) * u_FocalDistance;\n  }\n\n  return pixel * 2.0 * u_FocalDistance;\n}\n\n// 在不论什么底图下需要统一处理的时候使用\nfloat project_float_pixel(float pixel) {\n  if (\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    // mapbox 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减1\n    return pixel * pow(2.0, 19.0 - u_Zoom) * u_FocalDistance;\n  }\n\n  return pixel * u_FocalDistance;\n}\n\n// Project meter into the unit of pixel which used in the camera world space\nfloat project_float_meter(float meter) {\n  if (\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    // Since the zoom level uniform is updated by mapservice and it\'s alread been subtracted by 1\n    // Not sure if we are supposed to do that again\n    return meter;\n  } else {\n    return project_float_pixel(meter);\n  }\n\n  // TODO: change the following code to make adaptations for amap\n  // return u_FocalDistance * TILE_SIZE * pow(2.0, u_Zoom) * meter / EARTH_CIRCUMFERENCE;\n\n}\n\nfloat project_pixel(float pixel) {\n  return pixel * u_FocalDistance;\n}\n\nvec2 project_pixel(vec2 pixel) {\n  return pixel * -1.0 * u_FocalDistance;\n}\n\nvec3 project_pixel(vec3 pixel) {\n  return pixel * -1.0 * u_FocalDistance;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  if (\n    u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n    position.w *= u_PixelsPerMeter.z;\n  }\n\n  return viewProjectionMatrix * position + center;\n}\n\n// Projects from common space coordinates to clip space\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(\n    position,\n    u_ViewProjectionMatrix,\n    u_ViewportCenterProjection\n  );\n}\n\nvec4 unproject_clipspace_to_position(vec4 clipspacePos, mat4 u_InverseViewProjectionMatrix) {\n  vec4 pos = u_InverseViewProjectionMatrix * (clipspacePos - u_ViewportCenterProjection);\n\n  if (\n    u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n    pos.w = pos.w / u_PixelsPerMeter.z;\n  }\n  return pos;\n}\n\nbool isEqual(float a, float b) {\n  return a < b + 0.001 && a > b - 0.001;\n}\n\n',s6="layout(std140) uniform SceneUniforms {\n  mat4 u_ViewMatrix;\n  mat4 u_ProjectionMatrix;\n  mat4 u_ViewProjectionMatrix;\n  mat4 u_ModelMatrix;\n  vec4 u_ViewportCenterProjection;\n  vec3 u_PixelsPerDegree;\n  float u_Zoom;\n  vec3 u_PixelsPerDegree2;\n  float u_ZoomScale;\n  vec3 u_PixelsPerMeter;\n  float u_CoordinateSystem;\n  vec3 u_CameraPosition;\n  float u_DevicePixelRatio;\n  vec2 u_ViewportCenter;\n  vec2 u_ViewportSize;\n  float u_FocalDistance;\n};\n",s7=/precision\s+(high|low|medium)p\s+float/,s8="#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n",s9=/#pragma include (["^+"]?["[a-zA-Z_0-9](.*)"]*?)/g,le=/void\s+main\s*\([^)]*\)\s*\{\n?/;class lt{constructor(){(0,ai.Z)(this,"moduleCache",{}),(0,ai.Z)(this,"rawContentCache",{})}registerBuiltinModules(){this.destroy(),this.registerModule("common",{vs:s3,fs:s3}),this.registerModule("decode",{vs:"#define SHIFT_RIGHT17 1.0 / 131072.0\n#define SHIFT_RIGHT18 1.0 / 262144.0\n#define SHIFT_RIGHT19 1.0 / 524288.0\n#define SHIFT_RIGHT20 1.0 / 1048576.0\n#define SHIFT_RIGHT21 1.0 / 2097152.0\n#define SHIFT_RIGHT22 1.0 / 4194304.0\n#define SHIFT_RIGHT23 1.0 / 8388608.0\n#define SHIFT_RIGHT24 1.0 / 16777216.0\n\n#define SHIFT_LEFT17 131072.0\n#define SHIFT_LEFT18 262144.0\n#define SHIFT_LEFT19 524288.0\n#define SHIFT_LEFT20 1048576.0\n#define SHIFT_LEFT21 2097152.0\n#define SHIFT_LEFT22 4194304.0\n#define SHIFT_LEFT23 8388608.0\n#define SHIFT_LEFT24 16777216.0\n\nvec2 unpack_float(float packedValue) {\n  int packedIntValue = int(packedValue);\n  int v0 = packedIntValue / 256;\n  return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec4 decode_color(vec2 encodedColor) {\n  return vec4(\n    unpack_float(encodedColor[0]) / 255.0,\n    unpack_float(encodedColor[1]) / 255.0\n  );\n}\n",fs:""}),this.registerModule("scene_uniforms",{vs:s6,fs:s6}),this.registerModule("picking_uniforms",{vs:s5,fs:s5}),this.registerModule("projection",{vs:s4,fs:s4}),this.registerModule("project",{vs:"\n#define E 2.718281828459045\nvec2 ProjectFlat(vec2 lnglat){\n  float maxs=85.0511287798;\n  float lat=max(min(maxs,lnglat.y),-maxs);\n  float scale= 268435456.;\n  float d=PI/180.;\n  float x=lnglat.x*d;\n  float y=lat*d;\n  y=log(tan((PI/4.)+(y/2.)));\n\n  float a=.5/PI,\n  b=.5,\n  c=-.5/PI;\n  d=.5;\n  x=scale*(a*x+b);\n  y=scale*(c*y+d);\n  return vec2(x,y);\n}\n\nvec2 unProjectFlat(vec2 px){\n  float a=.5/PI;\n  float b=.5;\n  float c=-.5/PI;\n  float d=.5;\n  float scale = 268435456.;\n  float x=(px.x/scale-b)/a;\n  float y=(px.y/scale-d)/c;\n  y=(atan(pow(E,y))-(PI/4.))*2.;\n  d=PI/180.;\n  float lat=y/d;\n  float lng=x/d;\n  return vec2(lng,lat);\n}\n\nfloat pixelDistance(vec2 from, vec2 to) {\n vec2 a1 = ProjectFlat(from);\n vec2 b1 = ProjectFlat(to);\n return distance(a1, b1);\n}\n\n// gaode2.0\nvec2 customProject(vec2 lnglat) { // 经纬度 => 平面坐标\n  float t = lnglat.x;\n  float e = lnglat.y;\n  float Sm = 180.0 / PI;\n  float Tm = 6378137.0;\n  float Rm = PI / 180.0;\n  float r = 85.0511287798;\n  e = max(min(r, e), -r);\n  t *= Rm;\n  e *= Rm;\n  e = log(tan(PI / 4.0 + e / 2.0));\n  return vec2(t * Tm, e * Tm);\n}\n\nvec2 unProjCustomCoord(vec2 point) { // 平面坐标 => 经纬度\n  float Sm = 57.29577951308232; //180 / Math.PI\n  float Tm = 6378137.0;\n  float t = point.x;\n  float e = point.y;\n  return vec2(t / Tm * Sm, (2.0 * atan(exp(e / Tm)) - PI / 2.0) * Sm);\n}\n\n\nfloat customPixelDistance(vec2 from, vec2 to) {\n vec2 a1 = ProjectFlat(from);\n vec2 b1 = ProjectFlat(to);\n return distance(a1, b1);\n}",fs:""}),this.registerModule("sdf_2d",{vs:"",fs:"/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0/k;\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n  p.x -= clamp( p.x, -2.0, 0.0 );\n  return -length(p)*sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p)-b;\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\n  p = abs(p);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r*r-d*d); // can delay this sqrt\n  return ((p.y-b)*d>p.x*b)\n          ? length(p-vec2(0.0,b))\n          : length(p-vec2(-d,0.0))-r;\n}\n"}),this.registerModule("lighting",{vs:"// Blinn-Phong model\n// apply lighting in vertex shader instead of fragment shader\n// @see https://learnopengl.com/Advanced-Lighting/Advanced-Lighting\nuniform float u_Ambient : 1.0;\nuniform float u_Diffuse : 1.0;\nuniform float u_Specular : 1.0;\nuniform int u_NumOfDirectionalLights : 1;\nuniform int u_NumOfSpotLights : 0;\n\n#define SHININESS 32.0\n#define MAX_NUM_OF_DIRECTIONAL_LIGHTS 3\n#define MAX_NUM_OF_SPOT_LIGHTS 3\n\nstruct DirectionalLight {\n  vec3 direction;\n  vec3 ambient;\n  vec3 diffuse;\n  vec3 specular;\n};\n\nstruct SpotLight {\n  vec3 position;\n  vec3 direction;\n  vec3 ambient;\n  vec3 diffuse;\n  vec3 specular;\n  float constant;\n  float linear;\n  float quadratic;\n  float angle;\n  float blur;\n  float exponent;\n};\n\nuniform DirectionalLight u_DirectionalLights[MAX_NUM_OF_DIRECTIONAL_LIGHTS];\nuniform SpotLight u_SpotLights[MAX_NUM_OF_SPOT_LIGHTS];\n\nvec3 calc_directional_light(DirectionalLight light, vec3 normal, vec3 viewDir) {\n  vec3 lightDir = normalize(light.direction);\n  // diffuse shading\n  float diff = max(dot(normal, lightDir), 0.0);\n  // Blinn-Phong specular shading\n  vec3 halfwayDir = normalize(lightDir + viewDir);\n  float spec = pow(max(dot(normal, halfwayDir), 0.0), SHININESS);\n\n  vec3 ambient = light.ambient * u_Ambient;\n  vec3 diffuse = light.diffuse * diff * u_Diffuse;\n  vec3 specular = light.specular * spec * u_Specular;\n\n  return ambient + diffuse + specular;\n}\n\n\nvec3 calc_lighting(vec3 position, vec3 normal, vec3 viewDir) {\n  vec3 weight = vec3(0.0);\n  for (int i = 0; i < MAX_NUM_OF_DIRECTIONAL_LIGHTS; i++) {\n    if (i >= u_NumOfDirectionalLights) {\n      break;\n    }\n    weight += calc_directional_light(u_DirectionalLights[i], normal, viewDir);\n  }\n  return weight;\n}\n",fs:""}),this.registerModule("light",{vs:"#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\n\nfloat calc_lighting(vec4 pos) {\n\n    vec3 worldPos = vec3(pos * u_ModelMatrix);\n\n    vec3 worldNormal = a_Normal;\n      // //cal light weight\n    vec3 viewDir = normalize(u_CameraPosition - worldPos);\n\n    vec3 lightDir = normalize(vec3(1, -10.5, 12));\n\n    vec3 halfDir = normalize(viewDir+lightDir);\n      // //lambert\n    float lambert = dot(worldNormal, lightDir);\n        //specular\n    float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);\n        //sum to light weight\n    float lightWeight = ambientRatio + diffuseRatio * lambert + specularRatio * specular;\n\n    return lightWeight;\n}\n",fs:""}),this.registerModule("picking",{vs:'layout(location = ATTRIBUTE_LOCATION_PICKING_COLOR) in vec3 a_PickingColor;\nout vec4 v_PickingResult;\n\n#pragma include "picking_uniforms"\n\n#define PICKING_NONE 0.0\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n#define NORMAL 0.0\n#define HIGHLIGHT 1.0\n#define SELECT 2.0\n\nbool isVertexPicked(vec3 vertexColor) {\n  return distance(vertexColor,u_PickingColor.rgb) < 0.01;\n}\n\n// 判断当前点是否已经被 select 选中\nbool isVertexSelected(vec3 vertexColor) {\n  return distance(vertexColor,u_CurrentSelectedId.rgb) < 0.01;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  if(u_shaderPick < 0.5) {\n    return;\n  }\n  // compares only in highlight stage\n\n  if(u_PickingStage == PICKING_HIGHLIGHT) {\n    if(isVertexPicked(pickingColor)) {\n       v_PickingResult = vec4(pickingColor.rgb * COLOR_SCALE,HIGHLIGHT);\n       return;\n    }\n    if(isVertexSelected(pickingColor)) {\n     v_PickingResult = vec4(u_CurrentSelectedId.rgb * COLOR_SCALE,SELECT);\n      return;\n    }\n\n  } else {\n      v_PickingResult= vec4(pickingColor.rgb * COLOR_SCALE,NORMAL);\n      return;\n  }\n\n  // // v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && (isVertexPicked(pickingColor) || isVertexPicked(u_CurrentSelectedId)));\n\n  // // Stores the picking color so that the fragment shader can render it during picking\n  // v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}\n\nfloat setPickingOrder(float z) {\n   bool selected = bool(v_PickingResult.a);\n   return selected ? z + 1. : 0.;\n}\n',fs:'\nin vec4 v_PickingResult;\n\n#pragma include "picking_uniforms"\n\n#define PICKING_NONE 0.0\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n#define HIGHLIGHT 1.0\n#define SELECT 2.0\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color, float weight) {\n  float activeType = v_PickingResult.a;\n  if(activeType > 0.0) {\n    vec4 highLightColor =  activeType > 1.5 ? u_SelectColor : u_HighlightColor;\n    highLightColor = highLightColor * COLOR_SCALE;\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(mix(resultRGB * weight, color.rgb, u_activeMix), color.a);\n  }\n  else {\n    return color;\n  }\n\n  \n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  // 过滤多余的 shader 计算\n  // return color;\n  if(u_shaderPick < 0.5) {\n    return color; // 暂时去除 直接取消计算在选中时拖拽地图会有问题\n  } else {\n    return filterPickingColor(filterHighlightColor(color, 1.0));\n  }\n  \n}\n\nvec4 filterColorAlpha(vec4 color, float alpha) {\n  // 过滤多余的 shader 计算\n  // return color;\n  if(u_shaderPick < 0.5) {\n    return color; // 暂时去除 直接取消计算在选中时拖拽地图会有问题\n  } else {\n    return filterPickingColor(filterHighlightColor(color, alpha));\n  }\n}\n\n'}),this.registerModule("rotation_2d",{vs:"vec2 rotate_matrix(vec2 v, float a) {\n    float b = a / 180.0 * 3.1415926535897932384626433832795;\n    float s = sin(b);\n    float c = cos(b);\n    mat2 m = mat2(c, s, -s, c);\n    return m * v;\n}",fs:""})}registerModule(e,t){t.vs=t.vs.replace(/\r\n/g,"\n"),t.fs=t.fs.replace(/\r\n/g,"\n");let{vs:n,fs:r,uniforms:i,defines:o,inject:a}=t,{content:s,uniforms:l}=ah(n),{content:c,uniforms:u}=ah(r);this.rawContentCache[e]={fs:c,defines:o,inject:a,uniforms:(0,ar.Z)((0,ar.Z)((0,ar.Z)({},l),u),i),vs:s}}getModule(e){let t=this.rawContentCache[e].vs,n=this.rawContentCache[e].fs,{defines:r={},inject:i={}}=this.rawContentCache[e],o={};i["vs:#decl"]&&(t=i["vs:#decl"]+t,o=ah(i["vs:#decl"]).uniforms),i["vs:#main-start"]&&(t=t.replace(le,e=>e+i["vs:#main-start"])),i["fs:#decl"]&&(n=i["fs:#decl"]+n);let a=function(e){let t=Object.keys(e).reduce((t,n)=>t+`#define ${n.toUpperCase()} ${e[n]}
`,"\n");return t}(r);t=a+t;let{content:s,includeList:l}=this.processModule(t,[],"vs"),{content:c,includeList:u}=this.processModule(n,[],"fs"),d=s2(l.concat(u).concat(e)).reduce((e,t)=>(0,ar.Z)((0,ar.Z)({},e),this.rawContentCache[t].uniforms),(0,ar.Z)({},o)),p=(s7.test(c)?"":s8)+s,h=(s7.test(c)?"":s8)+c;return this.moduleCache[e]={vs:p.trim(),fs:h.trim(),uniforms:d},this.moduleCache[e]}destroy(){this.moduleCache={},this.rawContentCache={}}processModule(e,t,n){let r=e.replace(s9,(e,r)=>{let i=r.split(" "),o=i[0].replace(/"/g,"");if(t.indexOf(o)>-1)return"";let a=this.rawContentCache[o][n];t.push(o);let{content:s}=this.processModule(a,t,n);return s});return{content:r,includeList:t}}}class ln{constructor(){(0,ai.Z)(this,"shaderModuleService",void 0),(0,ai.Z)(this,"rendererService",void 0),(0,ai.Z)(this,"cameraService",void 0),(0,ai.Z)(this,"mapService",void 0),(0,ai.Z)(this,"interactionService",void 0),(0,ai.Z)(this,"layerService",void 0),(0,ai.Z)(this,"config",void 0)}getName(){return""}getType(){return ao.Normal}init(e,t){this.config=t,this.rendererService=e.getContainer().rendererService,this.cameraService=e.getContainer().cameraService,this.mapService=e.getContainer().mapService,this.interactionService=e.getContainer().interactionService,this.layerService=e.getContainer().layerService,this.shaderModuleService=e.getContainer().shaderModuleService}render(e){}}class lr extends ln{getName(){return"clear"}init(e,t){super.init(e,t)}render(){this.rendererService.clear({color:[0,0,0,0],depth:1,framebuffer:null})}}class li{constructor(e){(0,ai.Z)(this,"passes",[]),(0,ai.Z)(this,"layer",void 0),(0,ai.Z)(this,"renderFlag",void 0),(0,ai.Z)(this,"width",0),(0,ai.Z)(this,"height",0),this.postProcessor=e}setLayer(e){this.layer=e}setRenderFlag(e){this.renderFlag=e}getRenderFlag(){return this.renderFlag}getPostProcessor(){return this.postProcessor}render(){var e=this;return(0,aZ.Z)(function*(){for(let t of e.passes)yield t.render(e.layer);yield e.postProcessor.render(e.layer)})()}resize(e,t){(this.width!==e||this.height!==t)&&(this.postProcessor.resize(e,t),this.width=e,this.height=t)}add(e,t){e.getType()===ao.PostProcessing?this.postProcessor.add(e,this.layer,t):(e.init(this.layer,t),this.passes.push(e))}insert(e,t,n){e.init(this.layer,t),this.passes.splice(n,0,e)}destroy(){this.passes.length=0}}class lo extends ln{constructor(...e){var t;super(...e),t=this,(0,ai.Z)(this,"pickingFBO",void 0),(0,ai.Z)(this,"layer",void 0),(0,ai.Z)(this,"width",0),(0,ai.Z)(this,"height",0),(0,ai.Z)(this,"alreadyInRendering",!1),(0,ai.Z)(this,"pickFromPickingFBO",({x:e,y:n,lngLat:r,type:i})=>{let o;if(!this.layer.isVisible()||!this.layer.needPick(i))return;let{getViewportSize:a,readPixelsAsync:s,useFramebuffer:l}=this.rendererService,{width:c,height:u}=a(),{enableHighlight:d,enableSelect:p}=this.layer.getLayerConfig(),h=e*nI,f=n*nI;h>c||h<0||f>u||f<0||l(this.pickingFBO,(0,aZ.Z)(function*(){if(0!==(o=yield s({x:Math.round(h),y:Math.round(u-(n+1)*nI),width:1,height:1,data:new Uint8Array(4),framebuffer:t.pickingFBO}))[0]||0!==o[1]||0!==o[2]){let a=t_(o),s=t.layer.getSource().getFeatureById(a);s&&(t.layer.setCurrentPickId(a),t.triggerHoverOnLayer({x:e,y:n,type:i,lngLat:r,featureId:a,feature:s}))}else{let o={x:e,y:n,lngLat:r,type:null===t.layer.getCurrentPickId()?"un"+i:"mouseout",featureId:null,feature:null};t.triggerHoverOnLayer((0,ar.Z)((0,ar.Z)({},o),{},{type:"unpick"})),t.triggerHoverOnLayer(o),t.layer.setCurrentPickId(null)}d&&t.highlightPickedFeature(o),p&&"click"===i&&(null==o?void 0:o.toString())!==[0,0,0,0].toString()&&t.selectFeature(o)}))})}getType(){return ao.Normal}getName(){return"pixelPicking"}init(e,t){super.init(e,t),this.layer=e;let{createTexture2D:n,createFramebuffer:r,getViewportSize:i}=this.rendererService,{width:o,height:a}=i(),s=n({width:o,height:a,wrapS:aa.CLAMP_TO_EDGE,wrapT:aa.CLAMP_TO_EDGE,label:"Picking Texture"});this.pickingFBO=r({color:s}),this.interactionService.on(aS.Hover,this.pickFromPickingFBO),this.interactionService.on(aS.Select,this.selectFeatureHandle.bind(this)),this.interactionService.on(aS.Active,this.highlightFeatureHandle.bind(this))}render(e){if(this.alreadyInRendering)return;let{getViewportSize:t,useFramebuffer:n,clear:r}=this.rendererService,{width:i,height:o}=t();this.alreadyInRendering=!0,(this.width!==i||this.height!==o)&&(this.pickingFBO.resize({width:i,height:o}),this.width=i,this.height=o),n(this.pickingFBO,()=>{r({framebuffer:this.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});let t=this.layer.multiPassRenderer.getRenderFlag();this.layer.multiPassRenderer.setRenderFlag(!1),e.hooks.beforePickingEncode.call(),e.render(),e.hooks.afterPickingEncode.call(),this.layer.multiPassRenderer.setRenderFlag(t),this.alreadyInRendering=!1})}triggerHoverOnLayer(e){this.layer.emit(e.type,e)}highlightPickedFeature(e){let[t,n,r]=e;this.layer.hooks.beforeHighlight.call([t,n,r]),this.layerService.renderLayers()}selectFeature(e){let[t,n,r]=e;this.layer.hooks.beforeSelect.call([t,n,r]),this.layerService.renderLayers()}selectFeatureHandle({featureId:e}){let t=tT(e);this.selectFeature(new Uint8Array(t))}highlightFeatureHandle({featureId:e}){let t=tT(e);this.highlightPickedFeature(new Uint8Array(t))}}class la{constructor(e){(0,ai.Z)(this,"passes",[]),(0,ai.Z)(this,"readFBO",void 0),(0,ai.Z)(this,"writeFBO",void 0),this.rendererService=e,this.init()}getReadFBO(){return this.readFBO}getWriteFBO(){return this.writeFBO}getCurrentFBOTex(){let{getViewportSize:e,createTexture2D:t}=this.rendererService,{width:n,height:r}=e();return t({x:0,y:0,width:n,height:r,copy:!0})}getReadFBOTex(){var e=this;let{useFramebuffer:t}=this.rendererService;return new Promise(n=>{t(this.readFBO,(0,aZ.Z)(function*(){n(e.getCurrentFBOTex())}))})}renderBloomPass(e,t){var n=this;return(0,aZ.Z)(function*(){let r=yield n.getReadFBOTex(),i=0;for(;i<4;)yield t.render(e,r),n.swap(),i++})()}render(e){var t=this;return(0,aZ.Z)(function*(){for(let n=0;n<t.passes.length;n++){let r=t.passes[n];r.setRenderToScreen(t.isLastEnabledPass(n)),"bloom"===r.getName()?yield t.renderBloomPass(e,r):(yield r.render(e),n!==t.passes.length-1&&t.swap())}})()}resize(e,t){this.readFBO.resize({width:e,height:t}),this.writeFBO.resize({width:e,height:t})}add(e,t,n){e.init(t,n),this.passes.push(e)}insert(e,t,n,r){e.init(n,r),this.passes.splice(t,0,e)}getPostProcessingPassByName(e){return this.passes.find(t=>t.getName()===e)}init(){let{createFramebuffer:e,createTexture2D:t}=this.rendererService;this.readFBO=e({color:t({width:1,height:1,wrapS:aa.CLAMP_TO_EDGE,wrapT:aa.CLAMP_TO_EDGE,usage:se.RENDER_TARGET})}),this.writeFBO=e({color:t({width:1,height:1,wrapS:aa.CLAMP_TO_EDGE,wrapT:aa.CLAMP_TO_EDGE,usage:se.RENDER_TARGET})})}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].isEnabled())return!1;return!0}swap(){let e=this.readFBO;this.readFBO=this.writeFBO,this.writeFBO=e}}class ls extends ln{getType(){return ao.Normal}getName(){return"render"}init(e,t){super.init(e,t)}render(e){let{useFramebuffer:t,clear:n}=this.rendererService,r=e.multiPassRenderer.getPostProcessor().getReadFBO();t(r,()=>{n({color:[0,0,0,0],depth:1,stencil:0,framebuffer:r}),e.multiPassRenderer.setRenderFlag(!1),e.models.forEach(t=>{t.draw({uniforms:e.layerModel.getUninforms()})}),e.multiPassRenderer.setRenderFlag(!0)})}}let{isNil:ll}=nu;class lc extends au{setupShaders(){this.shaderModuleService.registerModule("blur-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform float u_BloomFinal: 0.0;\nuniform sampler2D u_Texture;\nuniform sampler2D u_Texture2;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform float u_radius: 5.0;\nuniform float u_intensity: 0.3;\nuniform float u_baseRadio: 0.5;\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nfloat luminance(vec4 color) {\n  return  0.2125 * color.r + 0.7154 * color.g + 0.0721 * color.b;\n}\n\nvoid main() {\n  // vec4 baseColor = texture2D(u_Texture, v_UV);\n\n  float r = sqrt(u_radius);\n\n  vec4 c1 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(u_radius, 0.0));\n  // c1 *= luminance(c1);\n  vec4 c2 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(0.0, u_radius));\n  // c2 *= luminance(c2);\n  vec4 c3 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, r));\n  // c3 *= luminance(c3);\n  vec4 c4 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, -r));\n  // c4 *= luminance(c4);\n  vec4 inbloomColor = (c1 + c2 + c3 + c4) * 0.25;\n\n  // float lum = luminance(inbloomColor);\n  // inbloomColor.rgb *= lum;\n\n  if(u_BloomFinal > 0.0) {\n    vec4 baseColor = texture2D(u_Texture2, v_UV);\n    float baselum = luminance(baseColor);\n    gl_FragColor = mix(inbloomColor, baseColor, u_baseRadio);\n    if(baselum <= 0.2) {\n      gl_FragColor = inbloomColor * u_intensity;\n    }\n  } else {\n    gl_FragColor = inbloomColor;\n  }\n}"});let{vs:e,fs:t,uniforms:n}=this.shaderModuleService.getModule("blur-pass"),{width:r,height:i}=this.rendererService.getViewportSize();return{vs:e,fs:t,uniforms:(0,ar.Z)((0,ar.Z)({},n),{},{u_ViewportSize:[r,i]})}}convertOptionsToUniforms(e){let t={};return ll(e.bloomRadius)||(t.u_radius=e.bloomRadius),ll(e.bloomIntensity)||(t.u_intensity=e.bloomIntensity),ll(e.bloomBaseRadio)||(t.u_baseRadio=e.bloomBaseRadio),t}}let{isNil:lu}=nu;class ld extends au{setupShaders(){this.shaderModuleService.registerModule("blur-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_BlurDir: [1.0, 0.0];\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);\n}"});let{vs:e,fs:t,uniforms:n}=this.shaderModuleService.getModule("blur-pass"),{width:r,height:i}=this.rendererService.getViewportSize();return{vs:e,fs:t,uniforms:(0,ar.Z)((0,ar.Z)({},n),{},{u_ViewportSize:[r,i]})}}convertOptionsToUniforms(e){let t={};return lu(e.blurRadius)||(t.u_BlurDir=[e.blurRadius,0]),t}}let{isNil:lp}=nu;class lh extends au{setupShaders(){this.shaderModuleService.registerModule("blur-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_BlurDir: [1.0, 0.0];\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);\n}"});let{vs:e,fs:t,uniforms:n}=this.shaderModuleService.getModule("blur-pass"),{width:r,height:i}=this.rendererService.getViewportSize();return{vs:e,fs:t,uniforms:(0,ar.Z)((0,ar.Z)({},n),{},{u_ViewportSize:[r,i]})}}convertOptionsToUniforms(e){let t={};return lp(e.blurRadius)||(t.u_BlurDir=[0,e.blurRadius]),t}}class lf extends au{setupShaders(){this.shaderModuleService.registerModule("colorhalftone-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:'varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_Center : [0.5, 0.5];\nuniform float u_Angle : 0;\nuniform float u_Size : 8;\n\n#pragma include "common"\n\nfloat scale = PI / u_Size;\n\nfloat pattern(float u_Angle, vec2 texSize, vec2 texCoord) {\n  float s = sin(u_Angle), c = cos(u_Angle);\n  vec2 tex = texCoord * texSize - u_Center * texSize;\n  vec2 point = vec2(\n    c * tex.x - s * tex.y,\n    s * tex.x + c * tex.y\n  ) * scale;\n  return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/colorhalftone.js\nvec4 colorHalftone_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {\n  vec3 cmy = 1.0 - color.rgb;\n  float k = min(cmy.x, min(cmy.y, cmy.z));\n  cmy = (cmy - k) / (1.0 - k);\n  cmy = clamp(\n    cmy * 10.0 - 3.0 + vec3(\n      pattern(u_Angle + 0.26179, texSize, texCoord),\n      pattern(u_Angle + 1.30899, texSize, texCoord),\n      pattern(u_Angle, texSize, texCoord)\n    ),\n    0.0,\n    1.0\n  );\n  k = clamp(k * 10.0 - 5.0 + pattern(u_Angle + 0.78539, texSize, texCoord), 0.0, 1.0);\n  return vec4(1.0 - cmy - k, color.a);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = colorHalftone_filterColor(gl_FragColor, u_ViewportSize, v_UV);\n}'});let{vs:e,fs:t,uniforms:n}=this.shaderModuleService.getModule("colorhalftone-pass"),{width:r,height:i}=this.rendererService.getViewportSize();return{vs:e,fs:t,uniforms:(0,ar.Z)((0,ar.Z)({},n),{},{u_ViewportSize:[r,i]})}}}class lg extends au{setupShaders(){return this.shaderModuleService.registerModule("copy-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}"}),this.shaderModuleService.getModule("copy-pass")}}class lm extends au{setupShaders(){this.shaderModuleService.registerModule("hexagonalpixelate-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_Center : [0.5, 0.5];\nuniform float u_Scale : 10;\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/hexagonalpixelate.js\nvec4 hexagonalPixelate_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 tex = (texCoord * texSize - u_Center * texSize) / u_Scale;\n  tex.y /= 0.866025404;\n  tex.x -= tex.y * 0.5;\n  vec2 a;\n  if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {\n    a = vec2(floor(tex.x), floor(tex.y));\n  }\n  else a = vec2(ceil(tex.x), ceil(tex.y));\n  vec2 b = vec2(ceil(tex.x), floor(tex.y));\n  vec2 c = vec2(floor(tex.x), ceil(tex.y));\n  vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);\n  vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);\n  vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);\n  vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);\n  float alen = length(TEX - A);\n  float blen = length(TEX - B);\n  float clen = length(TEX - C);\n  vec2 choice;\n  if (alen < blen) {\n    if (alen < clen) choice = a;\n    else choice = c;\n  } else {\n    if (blen < clen) choice = b;\n    else choice = c;\n  }\n  choice.x += choice.y * 0.5;\n  choice.y *= 0.866025404;\n  choice *= u_Scale / texSize;\n  return texture2D(texture, choice + u_Center);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = hexagonalPixelate_sampleColor(u_Texture, u_ViewportSize, v_UV);\n}"});let{vs:e,fs:t,uniforms:n}=this.shaderModuleService.getModule("hexagonalpixelate-pass"),{width:r,height:i}=this.rendererService.getViewportSize();return{vs:e,fs:t,uniforms:(0,ar.Z)((0,ar.Z)({},n),{},{u_ViewportSize:[r,i]})}}}class lb extends au{setupShaders(){this.shaderModuleService.registerModule("ink-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform float u_Strength : 0.6;\n\nvec4 ink_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 dx = vec2(1.0 / texSize.x, 0.0);\n  vec2 dy = vec2(0.0, 1.0 / texSize.y);\n  vec4 color = texture2D(texture, texCoord);\n  float bigTotal = 0.0;\n  float smallTotal = 0.0;\n  vec3 bigAverage = vec3(0.0);\n  vec3 smallAverage = vec3(0.0);\n  for (float x = -2.0; x <= 2.0; x += 1.0) {\n    for (float y = -2.0; y <= 2.0; y += 1.0) {\n      vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;\n      bigAverage += sample;\n      bigTotal += 1.0;\n      if (abs(x) + abs(y) < 2.0) {\n        smallAverage += sample;\n        smallTotal += 1.0;\n      }\n    }\n  }\n  vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);\n  float power = u_Strength * u_Strength * u_Strength * u_Strength * u_Strength;\n  return vec4(color.rgb - dot(edge, edge) * power * 100000.0, color.a);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = ink_sampleColor(u_Texture, u_ViewportSize, v_UV);\n}"});let{vs:e,fs:t,uniforms:n}=this.shaderModuleService.getModule("ink-pass"),{width:r,height:i}=this.rendererService.getViewportSize();return{vs:e,fs:t,uniforms:(0,ar.Z)((0,ar.Z)({},n),{},{u_ViewportSize:[r,i]})}}}class lv extends au{setupShaders(){return this.shaderModuleService.registerModule("noise-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform float u_Amount : 0.5;\n\nfloat rand(vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js\nvec4 noise_filterColor(vec4 color, vec2 texCoord) {\n  float diff = (rand(texCoord) - 0.5) * u_Amount;\n  color.r += diff;\n  color.g += diff;\n  color.b += diff;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = noise_filterColor(gl_FragColor, v_UV);\n}"}),this.shaderModuleService.getModule("noise-pass")}}class ly extends au{setupShaders(){return this.shaderModuleService.registerModule("sepia-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform float u_Amount : 0.5;\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/sepia.js\nvec4 sepia_filterColor(vec4 color) {\n  float r = color.r;\n  float g = color.g;\n  float b = color.b;\n  color.r =\n    min(1.0, (r * (1.0 - (0.607 * u_Amount))) + (g * (0.769 * u_Amount)) + (b * (0.189 * u_Amount)));\n  color.g = min(1.0, (r * 0.349 * u_Amount) + (g * (1.0 - (0.314 * u_Amount))) + (b * 0.168 * u_Amount));\n  color.b = min(1.0, (r * 0.272 * u_Amount) + (g * 0.534 * u_Amount) + (b * (1.0 - (0.869 * u_Amount))));\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = sepia_filterColor(gl_FragColor);\n}"}),this.shaderModuleService.getModule("sepia-pass")}}let lE=new class{constructor(){(0,ai.Z)(this,"sceneConfigCache",{}),(0,ai.Z)(this,"layerConfigCache",{}),(0,ai.Z)(this,"layerAttributeConfigCache",{})}getSceneConfig(e){return this.sceneConfigCache[e]}getSceneWarninfo(e){return aq[e]}setSceneConfig(e,t){this.sceneConfigCache[e]=(0,ar.Z)((0,ar.Z)({},aK),t)}getLayerConfig(e){return this.layerConfigCache[e]}setLayerConfig(e,t,n){this.layerConfigCache[t]=(0,ar.Z)({},aX({},this.sceneConfigCache[e],aQ,n))}getAttributeConfig(e){return this.layerAttributeConfigCache[e]}setAttributeConfig(e,t){this.layerAttributeConfigCache[e]=(0,ar.Z)((0,ar.Z)({},this.layerAttributeConfigCache[e]),t)}clean(){this.sceneConfigCache={},this.layerConfigCache={}}},l_=0;function lT(){let e=new lt,t=new a5,n=new aG,r=new a3(n),i=new az,o=new aj,a=new aW,s=new aY,l=new a$,c={id:`${l_++}`,globalConfigService:lE,shaderModuleService:e,debugService:t,cameraService:n,coordinateSystemService:r,fontService:i,iconService:o,markerService:a,popupService:s,controlService:l,customRenderService:{}},u=new si(c);c.layerService=u;let d=new s1(c);c.sceneService=d;let p=new a8(c);c.interactionService=p;let h=new st(c);c.pickingService=h;let f={clear:new lr,pixelPicking:new lo,render:new ls};c.normalPassFactory=e=>f[e];let g={copy:new lg,bloom:new lc,blurH:new ld,blurV:new lh,noise:new lv,sepia:new ly,colorHalftone:new lf,hexagonalPixelate:new lm,ink:new lb};return c.postProcessingPass=g,c.postProcessingPassFactory=e=>g[e],c}function lx(e){let t=(0,ar.Z)({},e);return t.postProcessor=new la(t.rendererService),t.multiPassRenderer=new li(t.postProcessor),t.styleAttributeService=new sd(t.rendererService),t}let lS=["loaded","fontloaded","maploaded","resize","destroy","dragstart","dragging","dragend","dragcancel"],lA=((N={}).IMAGE="image",N.CUSTOMIMAGE="customImage",N.ARRAYBUFFER="arraybuffer",N.RGB="rgb",N.TERRAINRGB="terrainRGB",N.CUSTOMRGB="customRGB",N.CUSTOMARRAYBUFFER="customArrayBuffer",N.CUSTOMTERRAINRGB="customTerrainRGB",N);var lC=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(e){i(e)}},a=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())}),lw=(e,t,n,r)=>lC(void 0,null,function*(){return new Promise((i,o)=>{t({x:e.x,y:e.y,z:e.z},(e,t)=>{if(e||0===t.length){o(e);return}t&&an([{data:t,bands:[0]}],n,r,(e,t)=>{e?o(e):t&&i(t)})})})}),lO=(e,t)=>lC(void 0,null,function*(){return new Promise((n,r)=>{t({x:e.x,y:e.y,z:e.z},(e,t)=>{if(e||!t){r(e);return}t instanceof ArrayBuffer?eK(t,(e,t)=>{e&&r(e),n(t)}):t instanceof HTMLImageElement?n(t):r(e)})})});function lI(e,t){e.xhrCancel=()=>{t.map(e=>{e.abort()})}}var lL=Object.defineProperty,lR=Object.defineProperties,lk=Object.getOwnPropertyDescriptors,lN=Object.getOwnPropertySymbols,lM=Object.prototype.hasOwnProperty,lD=Object.prototype.propertyIsEnumerable,lP=(e,t,n)=>t in e?lL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lF=(e,t)=>{for(var n in t||(t={}))lM.call(t,n)&&lP(e,n,t[n]);if(lN)for(var n of lN(t))lD.call(t,n)&&lP(e,n,t[n]);return e},lB=(e,t)=>lR(e,lk(t)),lU=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(e){i(e)}},a=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())}),lz=(e,t,n,r,i)=>lU(void 0,null,function*(){var o;let a="string"==typeof(o=t.url)?[{url:o,bands:[0]}]:"string"==typeof o[0]?o.map(e=>({url:e,bands:[0]})):o;if(a.length>1){let{rasterFiles:o,xhrList:s,errList:l}=yield function(e,t){return lU(this,null,function*(){let n=[],r=[],i=[];for(let o=0;o<e.length;o++){let a=e[o],s=lB(lF({},t),{url:a.url}),l=a.bands,{err:c,data:u,xhr:d}=yield ez(lB(lF({},s),{type:"arrayBuffer"}));c&&i.push(c),r.push(d),n.push({data:u,bands:l})}return{rasterFiles:n,xhrList:r,errList:i}})}(a,t);if(lI(e,s),l.length>0){n(l,null);return}an(o,r,i,n)}else{let o=eH(t,(e,t)=>{if(e)n(e);else if(t){let e=[{data:t,bands:a[0].bands}];an(e,r,i,n)}});lI(e,[o])}}),lZ=Object.defineProperty,lj=Object.defineProperties,lH=Object.getOwnPropertyDescriptors,lG=Object.getOwnPropertySymbols,lV=Object.prototype.hasOwnProperty,l$=Object.prototype.propertyIsEnumerable,lW=(e,t,n)=>t in e?lZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lY=(e,t)=>{for(var n in t||(t={}))lV.call(t,n)&&lW(e,n,t[n]);if(lG)for(var n of lG(t))l$.call(t,n)&&lW(e,n,t[n]);return e},lq=(e,t)=>lj(e,lH(t)),lX=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(e){i(e)}},a=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())}),lK=(e,t,n,r)=>lX(void 0,null,function*(){let{format:i=lJ,operation:o,requestParameters:a={}}=r,s=lq(lY({},a),{url:Array.isArray(e)?"string"==typeof e[0]?e.map(e=>il(e,t)):e.map(e=>({url:il(e.url,t),bands:e.bands||[0]})):il(e,t)});return new Promise((e,t)=>{lz(n,s,(n,r)=>{n?t(n):r&&e(r)},i,o)})}),lQ=(e,t,n,r)=>lX(void 0,null,function*(){let i;let o=Array.isArray(e)?e[0]:e;if(r.wmtsOptions){let e=(null==r?void 0:r.getURLFromTemplate)||ic;i=e(o,lY(lY({},t),r.wmtsOptions))}else{let e=(null==r?void 0:r.getURLFromTemplate)||il;i=e(o,t)}return new Promise((e,t)=>{var o;let a=eX(lq(lY({},null==r?void 0:r.requestParameters),{url:i,type:(null==(o=null==r?void 0:r.requestParameters)?void 0:o.type)||"arrayBuffer"}),(n,r)=>{n?t(n):r&&e(r)},r.transformResponse);n.xhrCancel=()=>a.cancel()})}),lJ=()=>({rasterData:new Uint8Array([0]),width:1,height:1}),l0=Object.defineProperty,l1=Object.defineProperties,l2=Object.getOwnPropertyDescriptors,l3=Object.getOwnPropertySymbols,l5=Object.prototype.hasOwnProperty,l4=Object.prototype.propertyIsEnumerable,l6=(e,t,n)=>t in e?l0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l7=(e,t)=>{for(var n in t||(t={}))l5.call(t,n)&&l6(e,n,t[n]);if(l3)for(var n of l3(t))l4.call(t,n)&&l6(e,n,t[n]);return e},l8=(e,t)=>l1(e,l2(t)),l9={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,warp:!0};lA.ARRAYBUFFER,lA.RGB;var ce=Object.defineProperty,ct=Object.defineProperties,cn=Object.getOwnPropertyDescriptors,cr=Object.getOwnPropertySymbols,ci=Object.prototype.hasOwnProperty,co=Object.prototype.propertyIsEnumerable,ca=(e,t,n)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cs=(e,t)=>{for(var n in t||(t={}))ci.call(t,n)&&ca(e,n,t[n]);if(cr)for(var n of cr(t))co.call(t,n)&&ca(e,n,t[n]);return e},cl=(e,t)=>ct(e,cn(t)),cc=(e,t)=>{var n={};for(var r in e)ci.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&cr)for(var r of cr(e))0>t.indexOf(r)&&co.call(e,r)&&(n[r]=e[r]);return n},cu=Object.defineProperty,cd=Object.defineProperties,cp=Object.getOwnPropertyDescriptors,ch=Object.getOwnPropertySymbols,cf=Object.prototype.hasOwnProperty,cg=Object.prototype.propertyIsEnumerable,cm=(e,t,n)=>t in e?cu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cb=(e,t)=>{for(var n in t||(t={}))cf.call(t,n)&&cm(e,n,t[n]);if(ch)for(var n of ch(t))cg.call(t,n)&&cm(e,n,t[n]);return e},cv=(e,t)=>cd(e,cp(t)),cy=(e,t)=>{var n={};for(var r in e)cf.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&ch)for(var r of ch(e))0>t.indexOf(r)&&cg.call(e,r)&&(n[r]=e[r]);return n},cE=Object.defineProperty,c_=Object.defineProperties,cT=Object.getOwnPropertyDescriptors,cx=Object.getOwnPropertySymbols,cS=Object.prototype.hasOwnProperty,cA=Object.prototype.propertyIsEnumerable,cC=(e,t,n)=>t in e?cE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cw=(e,t)=>{for(var n in t||(t={}))cS.call(t,n)&&cC(e,n,t[n]);if(cx)for(var n of cx(t))cA.call(t,n)&&cC(e,n,t[n]);return e},cO=(e,t)=>c_(e,cT(t)),cI=(e,t)=>{var n={};for(var r in e)cS.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&cx)for(var r of cx(e))0>t.indexOf(r)&&cA.call(e,r)&&(n[r]=e[r]);return n},cL=Object.defineProperty,cR=Object.defineProperties,ck=Object.getOwnPropertyDescriptors,cN=Object.getOwnPropertySymbols,cM=Object.prototype.hasOwnProperty,cD=Object.prototype.propertyIsEnumerable,cP=(e,t,n)=>t in e?cL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cF=(e,t)=>{for(var n in t||(t={}))cM.call(t,n)&&cP(e,n,t[n]);if(cN)for(var n of cN(t))cD.call(t,n)&&cP(e,n,t[n]);return e},cB=(e,t)=>cR(e,ck(t)),cU=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(e){i(e)}},a=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())}),cz={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0},cZ=e=>cU(void 0,null,function*(){return new Promise(t=>{let[n,r,i,o]=e.bounds,a={layers:{testTile:{features:[{type:"Feature",properties:{key:e.x+"/"+e.y+"/"+e.z,x:(n+i)/2,y:(r+o)/2},geometry:{type:"LineString",coordinates:[[i,o],[i,r],[n,r],[n,r]]}}]}}};t(a)})}),cj=n(48096),cH=n.n(cj),cG=Object.defineProperty,cV=Object.getOwnPropertySymbols,c$=Object.prototype.hasOwnProperty,cW=Object.prototype.propertyIsEnumerable,cY=(e,t,n)=>t in e?cG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cq=(e,t)=>{for(var n in t||(t={}))c$.call(t,n)&&cY(e,n,t[n]);if(cV)for(var n of cV(t))cW.call(t,n)&&cY(e,n,t[n]);return e};function cX(e,t){let{radius:n=40,maxZoom:r=18,minZoom:i=0,zoom:o=2}=t;if(e.pointIndex){let t=e.pointIndex.getClusters(e.extent,Math.floor(o));return e.dataArray=t.map((e,t)=>cq({coordinates:e.geometry.coordinates,_id:t+1},e.properties)),e}let a=new(cH())({radius:n,minZoom:i,maxZoom:r}),s={type:"FeatureCollection",features:[]};return s.features=e.dataArray.map(e=>({type:"Feature",geometry:{type:"Point",coordinates:e.coordinates},properties:cq({},e)})),a.load(s.features),a}function cK(e){let t;if(0===e.length)return 0;let n=e[0],r=0;for(let i=1;i<e.length;i++)t=n+1*e[i],Math.abs(n)>=Math.abs(e[i])?r+=n-t+e[i]:r+=e[i]-t+n,n=t;return n+1*r}var cQ={min:function(e){if(0===e.length)throw Error("min requires at least one data point");let t=e[0];for(let n=1;n<e.length;n++)e[n]<t&&(t=e[n]);return t},max:function(e){if(0===e.length)throw Error("max requires at least one data point");let t=e[0];for(let n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return t},mean:function(e){if(0===e.length)throw Error("mean requires at least one data point");return cK(e)/e.length},sum:cK},cJ=Object.defineProperty,c0=Object.getOwnPropertySymbols,c1=Object.prototype.hasOwnProperty,c2=Object.prototype.propertyIsEnumerable,c3=(e,t,n)=>t in e?cJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c5=(e,t)=>{for(var n in t||(t={}))c1.call(t,n)&&c3(e,n,t[n]);if(c0)for(var n of c0(t))c2.call(t,n)&&c3(e,n,t[n]);return e},c4=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(e){i(e)}},a=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())}),{cloneDeep:c6,isFunction:c7,isString:c8,mergeWith:c9}=nu;function ue(e,t){if(Array.isArray(t))return t}var ut=class extends rU.EventEmitter{constructor(e,t){super(),this.type="source",this.isTile=!1,this.inited=!1,this.hooks={init:new sH},this.parser={type:"geojson"},this.transforms=[],this.cluster=!1,this.clusterOptions={enable:!1,radius:40,maxZoom:20,zoom:-99,method:"count"},this.invalidExtent=!1,this.dataArrayChanged=!1,this.cfg={autoRender:!0},this.originData=e,this.initCfg(t),this.init().then(()=>{this.inited=!0,this.emit("update",{type:"inited"})})}getSourceCfg(){return this.cfg}getClusters(e){return this.clusterIndex.getClusters(this.caculClusterExtent(2),e)}getClustersLeaves(e){return this.clusterIndex.getLeaves(e,1/0)}getParserType(){return this.parser.type}updateClusterData(e){let{method:t="sum",field:n}=this.clusterOptions,r=this.clusterIndex.getClusters(this.caculClusterExtent(2),Math.floor(e));this.clusterOptions.zoom=e,r.forEach(e=>{e.id||(e.properties.point_count=1)}),(n||c7(t))&&(r=r.map(e=>{let r=e.id;if(r){let i;let o=this.clusterIndex.getLeaves(r,1/0),a=o.map(e=>e.properties);if(c8(t)&&n){let e=a.map(e=>1*e[n]);i=cQ[t](e)}c7(t)&&(i=t(a)),e.properties.stat=i}else e.properties.point_count=1;return e})),this.data=el("geojson")({type:"FeatureCollection",features:r}),this.executeTrans()}getFeatureById(e){let{type:t="geojson",geometry:n}=this.parser;if("geojson"!==t||this.cluster)return"json"===t&&n?this.data.dataArray.find(t=>t._id===e):e<this.data.dataArray.length?this.data.dataArray[e]:"null";{let t=e<this.originData.features.length?this.originData.features[e]:"null",n=c6(t);if((null==n?void 0:n.properties)&&(0!==this.transforms.length||this.dataArrayChanged)){let t=this.data.dataArray.find(t=>t._id===e);n.properties=t}return n}}updateFeaturePropertiesById(e,t){this.data.dataArray=this.data.dataArray.map(n=>n._id===e?c5(c5({},n),t):n),this.dataArrayChanged=!0,this.emit("update",{type:"update"})}getFeatureId(e,t){let n=this.data.dataArray.find(n=>n[e]===t);return null==n?void 0:n._id}setData(e,t){this.originData=e,this.dataArrayChanged=!1,this.initCfg(t),this.init().then(()=>{this.emit("update",{type:"update"})})}reloadAllTile(){var e;null==(e=this.tileset)||e.reloadAll()}reloadTilebyId(e,t,n){var r;null==(r=this.tileset)||r.reloadTileById(e,t,n)}reloadTileByLnglat(e,t,n){var r;null==(r=this.tileset)||r.reloadTileByLnglat(e,t,n)}getTileExtent(e,t){var n;return null==(n=this.tileset)?void 0:n.getTileExtent(e,t)}getTileByZXY(e,t,n){var r;return null==(r=this.tileset)?void 0:r.getTileByZXY(e,t,n)}reloadTileByExtent(e,t){var n;null==(n=this.tileset)||n.reloadTileByExtent(e,t)}destroy(){var e;this.removeAllListeners(),this.originData=null,this.clusterIndex=null,this.data=null,null==(e=this.tileset)||e.destroy()}processData(){return c4(this,null,function*(){return new Promise((e,t)=>{try{this.excuteParser(),this.initCluster(),this.executeTrans(),e({})}catch(e){t(e)}})})}initCfg(e){this.cfg=c9(this.cfg,e,ue);let t=this.cfg;t&&(t.parser&&(this.parser=t.parser),t.transforms&&(this.transforms=t.transforms),this.cluster=t.cluster||!1,t.clusterOptions&&(this.cluster=!0,this.clusterOptions=c5(c5({},this.clusterOptions),t.clusterOptions)))}init(){return c4(this,null,function*(){this.inited=!1,yield this.processData(),this.inited=!0})}excuteParser(){let e=this.parser,t=e.type||"geojson",n=el(t);this.data=n(this.originData,e),this.tileset=this.initTileset(),e.cancelExtent||(this.extent=n0(this.data.dataArray),this.setCenter(this.extent),this.invalidExtent=this.extent[0]===this.extent[2]||this.extent[1]===this.extent[3])}setCenter(e){this.center=[(e[0]+e[2])/2,(e[1]+e[3])/2],(isNaN(this.center[0])||isNaN(this.center[1]))&&(this.center=[108.92361111111111,34.54083333333333])}initTileset(){let{tilesetOptions:e}=this.data;if(!e)return;if(this.isTile=!0,this.tileset)return this.tileset.updateOptions(e),this.tileset;let t=new io(c5({},e));return t}executeTrans(){let e=this.transforms;e.forEach(e=>{let{type:t}=e,n=eu(t)(this.data,e);Object.assign(this.data,n)})}initCluster(){if(!this.cluster)return;let e=this.clusterOptions||{};this.clusterIndex=cX(this.data,e)}caculClusterExtent(e){let t=[[-1/0,-1/0],[1/0,1/0]];return this.invalidExtent||(t=rr(ro(this.extent),e)),t[0].concat(t[1])}},un=Math.PI/3,ur=[0,un,2*un,3*un,4*un,5*un];function ui(e){return e[0]}function uo(e){return e[1]}var ua=Object.defineProperty,us=Object.defineProperties,ul=Object.getOwnPropertyDescriptors,uc=Object.getOwnPropertySymbols,uu=Object.prototype.hasOwnProperty,ud=Object.prototype.propertyIsEnumerable,up=(e,t,n)=>t in e?ua(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uh=(e,t)=>{for(var n in t||(t={}))uu.call(t,n)&&up(e,n,t[n]);if(uc)for(var n of uc(t))ud.call(t,n)&&up(e,n,t[n]);return e},uf=(e,t)=>us(e,ul(t)),ug=Object.defineProperty,um=Object.getOwnPropertySymbols,ub=Object.prototype.hasOwnProperty,uv=Object.prototype.propertyIsEnumerable,uy=(e,t,n)=>t in e?ug(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uE=(e,t)=>{for(var n in t||(t={}))ub.call(t,n)&&uy(e,n,t[n]);if(um)for(var n of um(t))uv.call(t,n)&&uy(e,n,t[n]);return e};n(1602),ec("rasterTile",function(e,t={}){if(Array.isArray(e)&&0===e.length||!Array.isArray(e)&&"string"!=typeof e)throw Error("tile server url is error");let{extent:n=[1/0,1/0,-1/0,-1/0],coordinates:r}=t,i=(null==t?void 0:t.dataType)||lA.IMAGE;i===lA.RGB&&(i=lA.ARRAYBUFFER);let o=l8(l7(l7({},l9),t),{getTileData:(n,r)=>{switch(i){case lA.IMAGE:return lQ(e,n,r,t);case lA.CUSTOMIMAGE:case lA.CUSTOMTERRAINRGB:return lO(r,null==t?void 0:t.getCustomData);case lA.ARRAYBUFFER:return lK(e,n,r,t);case lA.CUSTOMARRAYBUFFER:case lA.CUSTOMRGB:return lw(r,null==t?void 0:t.getCustomData,(null==t?void 0:t.format)||lJ,null==t?void 0:t.operation);default:return lQ(e,n,r,t)}}}),a=im(r,n);return{data:e,dataArray:[{_id:1,coordinates:a}],tilesetOptions:o,isTile:!0}}),ec("mvt",function(e,t){let n=Array.isArray(e)?e[0]:e,r=oY(oW(oW({},oX),t),{getTileData:(e,r)=>oK(n,e,r,null==t?void 0:t.requestParameters,null==t?void 0:t.getCustomData)});return{data:n,dataArray:[],tilesetOptions:r,isTile:!0}}),ec("geojsonvt",function(e,t){let n=function(e){let t={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!0,debug:0};return void 0===e||void 0===e.geojsonvtOptions?t:ot(ot({},t),e.geojsonvtOptions)}(t),r=n.extent||4096,i=new i1(e,n),o=on(ot(ot({},oi),t),{getTileData:(e,t)=>oa(t,i,e,r)});return{data:e,dataArray:[],tilesetOptions:o,isTile:!0}}),ec("testTile",function(e,t){let n=cB(cF(cF({},cz),t),{getTileData:e=>cZ(e)});return{data:e,dataArray:[],tilesetOptions:n,isTile:!0}}),ec("geojson",function(e,t){let n=[],r={};return e.features?(e.features=e.features.filter(e=>{let t=e.geometry;return null!=e&&t&&t.type&&t.coordinates&&t.coordinates.length>0}),0===(e=ig(e)).features.length)?{dataArray:[],featureKeys:r}:(eC(e,(e,r)=>{var i;let o=void 0===(i=null==t?void 0:t.featureId)?null:isNaN(1*e.properties[i])?e.properties&&e.properties[i]?function(e){let t=e.toString(),n=5381,r=t.length;for(;r;)n=33*n^t.charCodeAt(--r);return n>>>0}(e.properties[i]+"")%1000019:null:1*e.properties[i];null===o&&(o=r);let a=o,s=eS(e),l=iD(iM({},e.properties),{coordinates:s,_id:a});n.push(l)}),{dataArray:n,featureKeys:r}):(e.features=[],{dataArray:[]})}),ec("jsonTile",function(e,t){let n=oS(ox({},t),{getTileData:(n,r)=>oC(e,r,null==t?void 0:t.requestParameters,t.getCustomData)});return{dataArray:[],tilesetOptions:n,isTile:!0}}),ec("image",function e(t,n){let{extent:r=[121.168,30.2828,121.384,30.4219],coordinates:i,requestParameters:o={}}=n,a=new Promise(n=>{t instanceof HTMLImageElement||nz(t)?n([t]):function(t,n,r){let i=[];if("string"==typeof t)eX(og(of({},n),{url:t}),(e,t)=>{t&&(i.push(t),r(i))});else{let e=t.length,o=0;t.forEach(t=>{eX(og(of({},n),{url:t}),(t,n)=>{o++,n&&i.push(n),o===e&&r(i)})})}return e}(t,o,e=>{n(e)})}),s=im(i,r);return{originData:t,images:a,_id:1,dataArray:[{_id:0,coordinates:s}]}}),ec("csv",function(e,t){let n=ev(e);return iC(n,t)}),ec("json",iC),ec("raster",function(e,t){let n,r,i;let{extent:o=[121.168,30.2828,121.384,30.4219],coordinates:a,width:s,height:l,min:c,max:u,format:d,operation:p}=t;if(void 0===d||ih(e))n=Array.from(e),r=s,i=l;else{let t=Array.isArray(e)?e:[e];n=at(t,d,p)}let h=im(a,o),f={_id:1,dataArray:[{_id:1,data:n,width:r,height:i,min:c,max:u,coordinates:h}]};return f}),ec("rasterRgb",function(e,t){let n;let{extent:r,coordinates:i,min:o,max:a,width:s,height:l,format:c,operation:u}=t,d=cI(t,["extent","coordinates","min","max","width","height","format","operation"]);if(void 0===c||ih(e))n=Array.from(e);else{let t=Array.isArray(e)?e:[e];n=at(t,c,u)}let p=im(i,r),h={_id:1,dataArray:[cO(cw({_id:1,data:n,width:s,height:l},d),{min:o,max:a,coordinates:p})]};return h}),ec("rgb",function(e,t){let{extent:n,coordinates:r,width:i,height:o}=t,a=cy(t,["extent","coordinates","width","height"]);e.length<3&&console.warn("RGB解析需要三个波段的数据");let[s,l,c]=a.bands||[0,1,2],u=[e[s],e[l],e[c]],d=[],[p,h]=(null==a?void 0:a.countCut)||[2,98],f=(null==a?void 0:a.RMinMax)||o0(u[0],p,h),g=(null==a?void 0:a.GMinMax)||o0(u[1],p,h),m=(null==a?void 0:a.BMinMax)||o0(u[2],p,h);for(let e=0;e<u[0].length;e++)d.push(Math.max(0,u[0][e]-f[0])),d.push(Math.max(0,u[1][e]-g[0])),d.push(Math.max(0,u[2][e]-m[0]));let b=im(r,n),v={_id:1,dataArray:[cv(cb({_id:1,data:d,width:i,height:o,rMinMax:f,gMinMax:g,bMinMax:m},a),{coordinates:b})]};return v}),ec("ndi",function(e,t){let{extent:n=[121.168,30.2828,121.384,30.4219],coordinates:r,width:i,height:o}=t,a=cc(t,["extent","coordinates","width","height"]);e.length<2&&console.warn("RGB解析需要2个波段的数据");let[s,l]=a.bands||[0,1],c=[e[s],e[l]],u=[];for(let e=0;e<c[0].length;e++)u.push((c[1][e]-c[0][e])/(c[1][e]+c[0][e]));let d=im(r,n),p={_id:1,dataArray:[cl(cs({_id:1,data:u,width:i,height:o},a),{coordinates:d})]};return p}),ed("cluster",cX),ed("filter",function(e,t){let{callback:n}=t;return n&&(e.dataArray=e.dataArray.filter(n)),e}),ed("join",function(e,t){let{sourceField:n,targetField:r,data:i}=t,o={};return i.forEach(e=>{o[e[n]]=e}),e.dataArray=e.dataArray.map(e=>{let t=e[r];return uE(uE({},e),o[t])}),e}),ed("map",function(e,t){let{callback:n}=t;return n&&(e.dataArray=e.dataArray.map(n)),e}),ed("grid",function(e,t){let n=e.dataArray,{size:r=10}=t,i=r/(2*Math.PI*6378e3)*268435456/2,{gridHash:o,gridOffset:a}=function(e,t){let n,r=1/0,i=-1/0;for(let t of e)Number.isFinite(n=t.coordinates[1])&&(r=n<r?n:r,i=n>i?n:i);let o=(r+i)/2,a=function(e,t){let n=e/6378e3*(180/Math.PI),r=e/6378e3*(180/Math.PI)/Math.cos(t*Math.PI/180);return{yOffset:n,xOffset:r}}(t,o);if(a.xOffset<=0||a.yOffset<=0)return{gridHash:{},gridOffset:a};let s={};for(let t of e){let e=t.coordinates[1],n=t.coordinates[0];if(Number.isFinite(e)&&Number.isFinite(n)){let r=Math.floor((e+90)/a.yOffset),i=Math.floor((n+180)/a.xOffset),o=`${r}-${i}`;s[o]=s[o]||{count:0,points:[]},s[o].count+=1,s[o].points.push(t)}}return{gridHash:s,gridOffset:a}}(n,r),s=Object.keys(o).reduce((e,n,r)=>{let i=n.split("-"),s=parseInt(i[0],10),l=parseInt(i[1],10),c={};if(t.field&&t.method){let e=rF(o[n].points,t.field);c[t.method]=rP[t.method](e)}return Object.assign(c,{_id:r,coordinates:n7([-180+a.xOffset*(l+.5),-90+a.yOffset*(s+.5)]),rawData:o[n].points,count:o[n].count}),e.push(c),e},[]);return{yOffset:i,xOffset:i,radius:i,type:"grid",dataArray:s}}),ed("hexagon",function(e,t){let n=e.dataArray,{size:r=10,method:i="sum"}=t,o=r/(2*Math.PI*6378e3)*268435456/2,a=n.map(e=>{let[t,n]=n7(e.coordinates);return uf(uh({},e),{coordinates:[t,n]})}),s=(function(){var e,t,n,r=0,i=0,o=1,a=1,s=ui,l=uo;function c(e){var r,i={},o=[],a=e.length;for(r=0;r<a;++r)if(!(isNaN(u=+s.call(null,c=e[r],r,e))||isNaN(d=+l.call(null,c,r,e)))){var c,u,d,p=Math.round(d/=n),h=Math.round(u=u/t-(1&p)/2),f=d-p;if(3*Math.abs(f)>1){var g=u-h,m=h+(u<h?-1:1)/2,b=p+(d<p?-1:1),v=u-m,y=d-b;g*g+f*f>v*v+y*y&&(h=m+(1&p?1:-1)/2,p=b)}var E=h+"-"+p,_=i[E];_?_.push(c):(o.push(_=i[E]=[c]),_.x=(h+(1&p)/2)*t,_.y=p*n)}return o}function u(e){var t=0,n=0;return ur.map(function(r){var i=Math.sin(r)*e,o=-Math.cos(r)*e,a=i-t,s=o-n;return t=i,n=o,[a,s]})}return c.hexagon=function(t){return"m"+u(null==t?e:+t).join("l")+"z"},c.centers=function(){for(var s=[],l=Math.round(i/n),c=Math.round(r/t),u=l*n;u<a+e;u+=n,++l)for(var d=c*t+(1&l)*t/2;d<o+t/2;d+=t)s.push([d,u]);return s},c.mesh=function(){var t=u(e).slice(0,4).join("l");return c.centers().map(function(e){return"M"+e+"m"+t}).join("")},c.x=function(e){return arguments.length?(s=e,c):s},c.y=function(e){return arguments.length?(l=e,c):l},c.radius=function(r){return arguments.length?(t=2*(e=+r)*Math.sin(un),n=1.5*e,c):e},c.size=function(e){return arguments.length?(r=i=0,o=+e[0],a=+e[1],c):[o-r,a-i]},c.extent=function(e){return arguments.length?(r=+e[0][0],i=+e[0][1],o=+e[1][0],a=+e[1][1],c):[[r,i],[o,a]]},c.radius(1)})().radius(o).x(e=>e.coordinates[0]).y(e=>e.coordinates[1]),l=s(a),c={dataArray:l.map((e,n)=>{if(t.field&&i){let n=rF(e,t.field);e[i]=rP[i](n)}return{[t.method]:e[i],count:e.length,rawData:e,coordinates:[e.x,e.y],_id:n}}),radius:o,xOffset:o,yOffset:o,type:"hexagon"};return c});var u_=ut;class uT extends rU.EventEmitter{getMarkerLayerContainerSize(){}constructor(e){super(),(0,ai.Z)(this,"markerOption",void 0),(0,ai.Z)(this,"popup",void 0),(0,ai.Z)(this,"mapsService",void 0),(0,ai.Z)(this,"lngLat",void 0),(0,ai.Z)(this,"scene",void 0),(0,ai.Z)(this,"added",!1),(0,ai.Z)(this,"preLngLat",{lng:0,lat:0}),(0,ai.Z)(this,"onMarkerDragStart",e=>{let t=this.mapsService.getContainer();if(!t)return;this.mapsService.setMapStatus({dragEnable:!1,zoomEnable:!1});let{left:n,top:r}=t.getClientRects()[0],{x:i,y:o}=e;this.preLngLat=this.mapsService.containerToLngLat([i-n,o-r]),this.mapsService.on("mousemove",this.onMarkerDragMove),document.addEventListener("mouseup",this.onMarkerDragEnd),this.emit("dragstart",this.lngLat)}),(0,ai.Z)(this,"onMarkerDragMove",e=>{let t=e.lngLat||e.lnglat,{lng:n,lat:r}=this.preLngLat,{lng:i,lat:o}=t,a={lng:this.lngLat.lng+i-n,lat:this.lngLat.lat+o-r};this.setLnglat(a),this.preLngLat=t,this.emit("dragging",a)}),(0,ai.Z)(this,"onMarkerDragEnd",()=>{this.mapsService.setMapStatus({dragEnable:!0,zoomEnable:!0}),this.mapsService.off("mousemove",this.onMarkerDragMove),document.removeEventListener("mouseup",this.onMarkerDragEnd),this.emit("dragend",this.lngLat)}),(0,ai.Z)(this,"eventHandle",e=>{this.polyfillEvent(e),this.emit(e.type,{target:e,data:this.markerOption.extData,lngLat:this.lngLat})}),(0,ai.Z)(this,"touchStartTime",void 0),this.markerOption=(0,ar.Z)((0,ar.Z)({},this.getDefault()),e),nW(["update","onMove","onMapClick","updatePositionWhenZoom"],this),this.init()}getDefault(){return{element:void 0,anchor:eQ.BOTTOM,offsets:[0,0],color:"#5B8FF9",draggable:!1,overflowHide:!0}}addTo(e){this.scene=e,this.mapsService=e.mapService;let{element:t}=this.markerOption;return this.mapsService.getMarkerContainer().appendChild(t),this.registerMarkerEvent(t),this.mapsService.on("camerachange",this.update),this.update(),this.updateDraggable(),this.added=!0,this.emit("added"),this}remove(){this.mapsService&&(this.mapsService.off("click",this.onMapClick),this.mapsService.off("move",this.update),this.mapsService.off("moveend",this.update),this.mapsService.off("camerachange",this.update)),this.unRegisterMarkerEvent(),this.removeAllListeners();let{element:e}=this.markerOption;return e&&nm(e),this.popup&&this.popup.remove(),this}setLnglat(e){return this.lngLat=e,Array.isArray(e)&&(this.lngLat={lng:e[0],lat:e[1]}),this.popup&&this.popup.setLnglat(this.lngLat),this.update(),this}getLnglat(){return this.lngLat}getElement(){return this.markerOption.element}setElement(e){if(!this.added)return this.once("added",()=>{this.setElement(e)}),this;let{element:t}=this.markerOption;return t&&nm(t),this.markerOption.element=e,this.init(),this.mapsService.getMarkerContainer().appendChild(e),this.registerMarkerEvent(e),this.updateDraggable(),this.update(),this}openPopup(){if(!this.added)return this.once("added",()=>{this.openPopup()}),this;let e=this.popup;return e&&(e.isOpen()||e.addTo(this.scene)),this}closePopup(){this.added||this.once("added",()=>{this.closePopup()});let e=this.popup;return e&&e.remove(),this}setPopup(e){return this.popup=e,this.lngLat&&this.popup.setLnglat(this.lngLat),this}togglePopup(){let e=this.popup;return e&&(e.isOpen()?e.remove():e.addTo(this.scene)),this}getPopup(){return this.popup}getOffset(){return this.markerOption.offsets}setDraggable(e){this.markerOption.draggable=e,this.updateDraggable()}getDraggable(){return this.markerOption.draggable}getExtData(){return this.markerOption.extData}setExtData(e){this.markerOption.extData=e}update(){if(!this.mapsService)return;let{element:e,anchor:t}=this.markerOption;this.updatePosition(),nA(e,`${eJ[t]}`)}updatePositionWhenZoom(e){if(!this.mapsService)return;let{element:t,offsets:n}=this.markerOption,{lng:r,lat:i}=this.lngLat;if(t){t.style.display="block",t.style.whiteSpace="nowrap";let{containerHeight:o,containerWidth:a,bounds:s}=this.getMarkerLayerContainerSize()||this.getCurrentContainerSize();if(!s)return;let l=e.map,c=e.center,u=e.zoom,d=l.DE(this.lngLat,u,c);if(d.x=Math.round(d.x+n[0]),d.y=Math.round(d.y-n[1]),Math.abs(s[0][0])>180||Math.abs(s[1][0])>180){if(d.x>a){let e=this.mapsService.lngLatToContainer([r-360,i]);d.x=e.x}if(d.x<0){let e=this.mapsService.lngLatToContainer([r+360,i]);d.x=e.x}}(d.x>a||d.x<0||d.y>o||d.y<0)&&(t.style.display="none"),t.style.left=d.x+"px",t.style.top=d.y+"px",t.style.transition="left 0.25s cubic-bezier(0,0,0.25,1), top 0.25s cubic-bezier(0,0,0.25,1)"}}onMapClick(e){let{element:t}=this.markerOption;this.popup&&t&&this.togglePopup()}getCurrentContainerSize(){let e=this.mapsService.getContainer();return{containerHeight:(null==e?void 0:e.scrollHeight)||0,containerWidth:(null==e?void 0:e.scrollWidth)||0,bounds:this.mapsService.getBounds()}}updateDraggable(){let{element:e}=this.markerOption;null==e||e.removeEventListener("mousedown",this.onMarkerDragStart),this.mapsService.off("mousemove",this.onMarkerDragMove),document.removeEventListener("mouseup",this.onMarkerDragEnd),this.markerOption.draggable&&(null==e||e.addEventListener("mousedown",this.onMarkerDragStart))}updatePosition(){if(!this.mapsService)return;let{element:e,offsets:t}=this.markerOption,{lng:n,lat:r}=this.lngLat,i=this.mapsService.lngLatToContainer([n,r]);if(e){e.style.display="block",e.style.whiteSpace="nowrap";let{containerHeight:o,containerWidth:a,bounds:s}=this.getMarkerLayerContainerSize()||this.getCurrentContainerSize();if(!s)return;if(Math.abs(s[0][0])>180||Math.abs(s[1][0])>180){if(i.x>a){let e=this.mapsService.lngLatToContainer([n-360,r]);i.x=e.x}if(i.x<0){let e=this.mapsService.lngLatToContainer([n+360,r]);i.x=e.x}}this.markerOption.overflowHide&&(i.x>a||i.x<0||i.y>o||i.y<0)&&(e.style.display="none"),e.style.left=i.x+t[0]+"px",e.style.top=i.y-t[1]+"px"}}init(){let{element:e}=this.markerOption,{color:t,anchor:n}=this.markerOption;if(!e){e=ng("div"),this.markerOption.element=e;let n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttributeNS(null,"display","block"),n.setAttributeNS(null,"height","48px"),n.setAttributeNS(null,"width","48px"),n.setAttributeNS(null,"viewBox","0 0 1024 1024");let r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttributeNS(null,"d","M512 490.666667C453.12 490.666667 405.333333 442.88 405.333333 384 405.333333 325.12 453.12 277.333333 512 277.333333 570.88 277.333333 618.666667 325.12 618.666667 384 618.666667 442.88 570.88 490.666667 512 490.666667M512 85.333333C346.88 85.333333 213.333333 218.88 213.333333 384 213.333333 608 512 938.666667 512 938.666667 512 938.666667 810.666667 608 810.666667 384 810.666667 218.88 677.12 85.333333 512 85.333333Z"),r.setAttributeNS(null,"fill",t),n.appendChild(r),e.appendChild(n)}nb(e,"l7-marker"),Object.keys(this.markerOption.style||{}).forEach(t=>{var n,r;let i=(null===(n=this.markerOption)||void 0===n?void 0:n.style)&&(null===(r=this.markerOption)||void 0===r?void 0:r.style[t]);e&&(e.style[t]=i)}),e0(e,n,"marker")}registerMarkerEvent(e){e.addEventListener("click",this.onMapClick),e.addEventListener("mousemove",this.eventHandle),e.addEventListener("click",this.eventHandle),e.addEventListener("mousedown",this.eventHandle),e.addEventListener("mouseup",this.eventHandle),e.addEventListener("dblclick",this.eventHandle),e.addEventListener("contextmenu",this.eventHandle),e.addEventListener("mouseover",this.eventHandle),e.addEventListener("mouseout",this.eventHandle),e.addEventListener("touchstart",this.eventHandle),e.addEventListener("touchend",this.eventHandle)}unRegisterMarkerEvent(){let e=this.getElement();e.removeEventListener("click",this.onMapClick),e.removeEventListener("mousemove",this.eventHandle),e.removeEventListener("click",this.eventHandle),e.removeEventListener("mousedown",this.eventHandle),e.removeEventListener("mouseup",this.eventHandle),e.removeEventListener("dblclick",this.eventHandle),e.removeEventListener("contextmenu",this.eventHandle),e.removeEventListener("mouseover",this.eventHandle),e.removeEventListener("mouseout",this.eventHandle),e.removeEventListener("touchstart",this.eventHandle),e.removeEventListener("touchend",this.eventHandle)}polyfillEvent(e){this.mapsService&&"amap"===this.mapsService.getType()&&!n$()&&("touchstart"===e.type&&(this.touchStartTime=Date.now()),"touchend"===e.type&&Date.now()-this.touchStartTime<300&&this.emit("click",{target:e,data:this.markerOption.extData,lngLat:this.lngLat}))}addDragHandler(e){return null}onUp(e){throw Error("Method not implemented.")}}let{merge:ux}=nu;class uS extends rU.EventEmitter{constructor(e){var t;super(),(0,ai.Z)(this,"markers",[]),(0,ai.Z)(this,"markerLayerOption",void 0),(0,ai.Z)(this,"clusterIndex",void 0),(0,ai.Z)(this,"points",[]),(0,ai.Z)(this,"clusterMarkers",[]),(0,ai.Z)(this,"mapsService",void 0),(0,ai.Z)(this,"scene",void 0),(0,ai.Z)(this,"zoom",void 0),(0,ai.Z)(this,"bbox",void 0),(0,ai.Z)(this,"inited",void 0),(0,ai.Z)(this,"containerSize",void 0),this.markerLayerOption=ux(this.getDefault(),e),nW(["update"],this),this.zoom=(null===(t=this.markerLayerOption.clusterOption)||void 0===t?void 0:t.zoom)||-99}getDefault(){return{cluster:!1,clusterOption:{radius:80,maxZoom:20,minZoom:0,zoom:-99,style:{},className:""}}}addTo(e){return this.scene=e,this.mapsService=e.mapService,this.markerLayerOption.cluster&&(this.initCluster(),this.update(),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.mapsService.on("camerachange",this.setContainerSize.bind(this)),this.mapsService.on("viewchange",this.setContainerSize.bind(this)),this.addMarkers(),this.inited=!0,this}setContainerSize(){if(!this.mapsService)return;let e=this.mapsService.getContainer();this.containerSize={containerWidth:(null==e?void 0:e.scrollWidth)||0,containerHeight:(null==e?void 0:e.scrollHeight)||0,bounds:this.mapsService.getBounds()}}getContainerSize(){return this.containerSize}addMarker(e){let t=this.markerLayerOption.cluster;if(e.getMarkerLayerContainerSize=this.getContainerSize.bind(this),t&&(this.addPoint(e,this.markers.length),this.mapsService)){let e=this.mapsService.getZoom(),t=this.mapsService.getBounds();this.bbox=rr(t,.5),this.zoom=Math.floor(e),this.getClusterMarker(this.bbox,this.zoom)}this.markers.push(e)}removeMarker(e){this.markers.indexOf(e);let t=this.markers.indexOf(e);t>-1&&(this.markers.splice(t,1),this.markerLayerOption.cluster&&(this.removePoint(t),this.mapsService&&this.getClusterMarker(this.bbox,this.zoom)))}hide(){this.markers.map(e=>{e.getElement().style.opacity="0"}),this.clusterMarkers.map(e=>{e.getElement().style.opacity="0"})}show(){this.markers.map(e=>{e.getElement().style.opacity="1"}),this.clusterMarkers.map(e=>{e.getElement().style.opacity="1"})}getMarkers(){let e=this.markerLayerOption.cluster;return e?this.clusterMarkers:this.markers}getOriginMarkers(){return this.markers}addMarkers(){this.getMarkers().forEach(e=>{e.addTo(this.scene)})}clear(){this.markers.forEach(e=>{e.remove()}),this.clusterMarkers.forEach(e=>{e.remove()}),this.markers=[],this.points=[],this.clusterMarkers=[]}destroy(){this.clear(),this.removeAllListeners(),this.mapsService.off("camerachange",this.update),this.mapsService.off("viewchange",this.update),this.mapsService.off("camerachange",this.setContainerSize.bind(this)),this.mapsService.off("viewchange",this.setContainerSize.bind(this))}addPoint(e,t){let{lng:n,lat:r}=e.getLnglat(),i={geometry:{type:"Point",coordinates:[n,r]},properties:(0,ar.Z)((0,ar.Z)({},e.getExtData()),{},{marker_id:t})};this.points.push(i),this.clusterIndex&&this.clusterIndex.load(this.points)}removePoint(e){let t=this.points.findIndex(t=>t.properties.marker_id===e);t>-1&&this.points.splice(t,1),this.clusterIndex&&this.clusterIndex.load(this.points)}initCluster(){if(!this.markerLayerOption.cluster)return;let{radius:e,minZoom:t=0,maxZoom:n}=this.markerLayerOption.clusterOption;this.clusterIndex=new(cH())({radius:e,minZoom:t,maxZoom:n}),this.clusterIndex.load(this.points)}getClusterMarker(e,t){let n=e[0].concat(e[1]),r=this.clusterIndex.getClusters(n,t);this.clusterMarkers.forEach(e=>{e.remove()}),this.clusterMarkers=[],r.forEach(e=>{var t,n;let{field:r,method:i}=this.markerLayerOption.clusterOption;if(null!==(t=e.properties)&&void 0!==t&&t.cluster_id){let t=this.getLeaves(null===(n=e.properties)||void 0===n?void 0:n.cluster_id);if(e.properties.clusterData=t,r&&i){let n=null==t?void 0:t.map(e=>{let t={[r]:e.properties[r]};return t}),o=rF(n,r),a=rB(i,o),s="point_"+i;e.properties[s]=a.toFixed(2)}}let o=this.clusterMarker(e);this.clusterMarkers.push(o),o.addTo(this.scene)})}getLeaves(e,t=1/0,n=0){return e?this.clusterIndex.getLeaves(e,t,n):null}clusterMarker(e){let t=this.markerLayerOption.clusterOption,{element:n=this.generateElement.bind(this)}=t,r=new uT({element:n(e)}).setLnglat({lng:e.geometry.coordinates[0],lat:e.geometry.coordinates[1]});return r}normalMarker(e){let t=e.properties.marker_id;return this.markers[t]}update(){if(!this.mapsService||0===this.markers.length)return;let e=this.mapsService.getZoom(),t=this.mapsService.getBounds();(!this.bbox||Math.abs(e-this.zoom)>=1||!ri(this.bbox,t))&&(this.bbox=rr(t,.5),this.zoom=Math.floor(e),this.getClusterMarker(this.bbox,this.zoom))}generateElement(e){let t=ng("div","l7-marker-cluster"),n=ng("div","",t),r=ng("span","",n),{field:i,method:o}=this.markerLayerOption.clusterOption;e.properties.point_count=e.properties.point_count||1;let a=i&&o?e.properties["point_"+o]||e.properties[i]:e.properties.point_count;return r.textContent=a,t}}n(43159);class uA extends rz(){constructor(e){super(),(0,ai.Z)(this,"controlOption",void 0),(0,ai.Z)(this,"container",void 0),(0,ai.Z)(this,"isShow",void 0),(0,ai.Z)(this,"sceneContainer",void 0),(0,ai.Z)(this,"scene",void 0),(0,ai.Z)(this,"mapsService",void 0),(0,ai.Z)(this,"renderService",void 0),(0,ai.Z)(this,"layerService",void 0),(0,ai.Z)(this,"controlService",void 0),(0,ai.Z)(this,"configService",void 0),uA.controlCount++,this.controlOption=(0,ar.Z)((0,ar.Z)({},this.getDefault(e)),e||{})}getOptions(){return this.controlOption}setOptions(e){let t=this.getDefault(e);Object.entries(e).forEach(([n,r])=>{void 0===r&&(e[n]=t[n])}),"position"in e&&this.setPosition(e.position),"className"in e&&this.setClassName(e.className),"style"in e&&this.setStyle(e.style),this.controlOption=(0,ar.Z)((0,ar.Z)({},this.controlOption),e)}addTo(e){this.mapsService=e.mapService,this.renderService=e.rendererService,this.layerService=e.layerService,this.controlService=e.controlService,this.configService=e.globalConfigService,this.scene=e.sceneService,this.sceneContainer=e,this.isShow=!0,this.container=this.onAdd(),nb(this.container,"l7-control");let{className:t,style:n}=this.controlOption;return t&&this.setClassName(t),n&&this.setStyle(n),this.insertContainer(),this.emit("add",this),this}remove(){if(!this.mapsService)return this;nm(this.container),this.onRemove(),this.emit("remove",this)}onAdd(){return ng("div")}onRemove(){}show(){let e=this.container;nv(e,"l7-control--hide"),this.isShow=!0,this.emit("show",this)}hide(){let e=this.container;nb(e,"l7-control--hide"),this.isShow=!1,this.emit("hide",this)}getDefault(e){return{position:aE.TOPRIGHT,name:`${uA.controlCount}`}}getContainer(){return this.container}getIsShow(){return this.isShow}_refocusOnMap(e){if(this.mapsService&&e&&e.screenX>0&&e.screenY>0){let e=this.mapsService.getContainer();null!==e&&e.focus()}}setPosition(e=aE.TOPLEFT){let t=this.controlService;return t&&t.removeControl(this),this.controlOption.position=e,t&&t.addControl(this,this.sceneContainer),this}setClassName(e){let t=this.container,{className:n}=this.controlOption;n&&nv(t,n),e&&nb(t,e)}setStyle(e){let t=this.container;e?t.setAttribute("style",e):t.removeAttribute("style")}insertContainer(){let e=this.controlOption.position,t=this.container;if(e instanceof Element)e.appendChild(t);else{let n=this.controlService.controlCorners[e];["bottomleft","bottomright","righttop","rightbottom"].includes(e)?n.insertBefore(t,n.firstChild):n.appendChild(t)}}checkUpdateOption(e,t){return t.some(t=>t in e)}}(0,ai.Z)(uA,"controlCount",0);class uC extends uA{constructor(...e){super(...e),(0,ai.Z)(this,"isDisable",!1),(0,ai.Z)(this,"button",void 0),(0,ai.Z)(this,"buttonText",void 0),(0,ai.Z)(this,"buttonIcon",void 0)}setIsDisable(e){var t,n;this.isDisable=e,e?null===(t=this.button)||void 0===t||t.setAttribute("disabled","true"):null===(n=this.button)||void 0===n||n.removeAttribute("disabled")}createButton(e=""){return ng("button",`l7-button-control ${e}`)}onAdd(){this.button=this.createButton(),this.isDisable=!1;let{title:e,btnText:t,btnIcon:n}=this.controlOption;return this.setBtnTitle(e),this.setBtnText(t),this.setBtnIcon(n),this.button}onRemove(){this.button=this.buttonIcon=this.buttonText=void 0,this.isDisable=!1}setOptions(e){let{title:t,btnText:n,btnIcon:r}=e;this.checkUpdateOption(e,["title"])&&this.setBtnTitle(t),this.checkUpdateOption(e,["btnIcon"])&&this.setBtnIcon(r),this.checkUpdateOption(e,["btnText"])&&this.setBtnText(n),super.setOptions(e)}setBtnTitle(e){var t;null===(t=this.button)||void 0===t||t.setAttribute("title",null!=e?e:"")}setBtnIcon(e){if(this.buttonIcon&&nm(this.buttonIcon),e){var t,n,r;let i=null===(t=this.button)||void 0===t?void 0:t.firstChild;i?null===(n=this.button)||void 0===n||n.insertBefore(e,i):null===(r=this.button)||void 0===r||r.appendChild(e),this.buttonIcon=e}}setBtnText(e){if(this.button){if(nv(this.button,"l7-button-control--row"),nv(this.button,"l7-button-control--column"),e){let n=this.buttonText;if(!n){var t;n=ng("div","l7-button-control__text"),null===(t=this.button)||void 0===t||t.appendChild(n),this.buttonText=n}n.innerText=e,nb(this.button,this.controlOption.vertical?"l7-button-control--column":"l7-button-control--row")}else!e&&this.buttonText&&(nm(this.buttonText),this.buttonText=void 0)}}}class uw extends rU.EventEmitter{get buttonRect(){return this.button.getBoundingClientRect()}constructor(e,t){super(),(0,ai.Z)(this,"popperDOM",void 0),(0,ai.Z)(this,"contentDOM",void 0),(0,ai.Z)(this,"button",void 0),(0,ai.Z)(this,"option",void 0),(0,ai.Z)(this,"isShow",!1),(0,ai.Z)(this,"content",void 0),(0,ai.Z)(this,"timeout",null),(0,ai.Z)(this,"show",()=>(this.isShow||!this.contentDOM.innerHTML||(this.resetPopperPosition(),nv(this.popperDOM,"l7-popper-hide"),this.isShow=!0,this.option.unique&&uw.conflictPopperList.forEach(e=>{e!==this&&e.isShow&&e.hide()}),this.emit("show"),window.addEventListener("pointerdown",this.onPopperUnClick)),this)),(0,ai.Z)(this,"hide",()=>(this.isShow&&(nb(this.popperDOM,"l7-popper-hide"),this.isShow=!1,this.emit("hide"),window.removeEventListener("pointerdown",this.onPopperUnClick)),this)),(0,ai.Z)(this,"setHideTimeout",()=>{this.timeout||(this.timeout=window.setTimeout(()=>{this.isShow&&(this.hide(),this.timeout=null)},300))}),(0,ai.Z)(this,"clearHideTimeout",()=>{this.timeout&&(window.clearTimeout(this.timeout),this.timeout=null)}),(0,ai.Z)(this,"onBtnClick",()=>{this.isShow?this.hide():this.show()}),(0,ai.Z)(this,"onPopperUnClick",e=>{nU(e.target,[".l7-button-control",".l7-popper-content"])||this.hide()}),(0,ai.Z)(this,"onBtnMouseLeave",()=>{this.setHideTimeout()}),(0,ai.Z)(this,"onBtnMouseMove",()=>{this.clearHideTimeout(),this.isShow||this.show()}),this.button=e,this.option=t,this.init(),t.unique&&uw.conflictPopperList.push(this)}getPopperDOM(){return this.popperDOM}getIsShow(){return this.isShow}getContent(){return this.content}setContent(e){"string"==typeof e?this.contentDOM.innerHTML=e:e instanceof HTMLElement&&(nP(this.contentDOM),this.contentDOM.appendChild(e)),this.content=e}init(){let{trigger:e}=this.option;this.popperDOM=this.createPopper(),"click"===e?this.button.addEventListener("click",this.onBtnClick):(this.button.addEventListener("mousemove",this.onBtnMouseMove),this.button.addEventListener("mouseleave",this.onBtnMouseLeave),this.popperDOM.addEventListener("mousemove",this.onBtnMouseMove),this.popperDOM.addEventListener("mouseleave",this.onBtnMouseLeave))}destroy(){this.button.removeEventListener("click",this.onBtnClick),this.button.removeEventListener("mousemove",this.onBtnMouseMove),this.button.removeEventListener("mousemove",this.onBtnMouseLeave),this.popperDOM.removeEventListener("mousemove",this.onBtnMouseMove),this.popperDOM.removeEventListener("mouseleave",this.onBtnMouseLeave),nm(this.popperDOM)}resetPopperPosition(){let e={},{container:t,offset:n=[0,0],placement:r}=this.option,[i,o]=n,a=this.button.getBoundingClientRect(),s=t.getBoundingClientRect(),{left:l,right:c,top:u,bottom:d}=nM(a,s),p=!1,h=!1;/^(left|right)/.test(r)?(r.includes("left")?e.right=`${a.width+c}px`:r.includes("right")&&(e.left=`${a.width+l}px`),r.includes("start")?e.top=`${u}px`:r.includes("end")?e.bottom=`${d}px`:(e.top=`${u+a.height/2}px`,h=!0,e.transform=`translate(${i}px, calc(${o}px - 50%))`)):/^(top|bottom)/.test(r)&&(r.includes("top")?e.bottom=`${a.height+d}px`:r.includes("bottom")&&(e.top=`${a.height+u}px`),r.includes("start")?e.left=`${l}px`:r.includes("end")?e.right=`${c}px`:(e.left=`${l+a.width/2}px`,p=!0,e.transform=`translate(calc(${i}px - 50%), ${o}px)`)),e.transform=`translate(calc(${i}px - ${p?"50%":"0%"}), calc(${o}px - ${h?"50%":"0%"})`;let f=r.split("-");f.length&&nb(this.popperDOM,f.map(e=>`l7-popper-${e}`).join(" ")),nL(this.popperDOM,nN(e))}createPopper(){let{container:e,className:t="",content:n}=this.option,r=ng("div",`l7-popper l7-popper-hide ${t}`),i=ng("div","l7-popper-content"),o=ng("div","l7-popper-arrow");return r.appendChild(i),r.appendChild(o),e.appendChild(r),this.popperDOM=r,this.contentDOM=i,n&&this.setContent(n),r}}(0,ai.Z)(uw,"conflictPopperList",[]);let uO={topleft:"right-start",topcenter:"bottom",topright:"left-start",bottomleft:"right-end",bottomcenter:"top",bottomright:"left-end",lefttop:"bottom-start",leftcenter:"right",leftbottom:"top-start",righttop:"bottom-end",rightcenter:"left",rightbottom:"top-end"};class uI extends uC{constructor(...e){super(...e),(0,ai.Z)(this,"popper",void 0)}getPopper(){return this.popper}hide(){this.popper.hide(),super.hide()}getDefault(e){var t;let n=super.getDefault(e),r=null!==(t=null==e?void 0:e.position)&&void 0!==t?t:n.position;return(0,ar.Z)((0,ar.Z)({},super.getDefault(e)),{},{popperPlacement:r instanceof Element?"bottom":uO[r],popperTrigger:"click"})}onAdd(){let e=super.onAdd();return this.initPopper(),e}onRemove(){this.popper.destroy()}initPopper(){let{popperClassName:e,popperPlacement:t,popperTrigger:n}=this.controlOption,r=this.mapsService.getMapContainer();return this.popper=new uw(this.button,{className:e,placement:t,trigger:n,container:r,unique:!0}),this.popper.on("show",()=>{this.emit("popperShow",this)}).on("hide",()=>{this.emit("popperHide",this)}),this.popper}setOptions(e){if(super.setOptions(e),this.checkUpdateOption(e,["popperPlacement","popperTrigger","popperClassName"])){let e=this.popper.getContent();this.popper.destroy(),this.initPopper(),this.popper.setContent(e)}}}var uL=((M=uL||{}).ActiveOptionClassName="l7-select-control-item-active",M.OptionValueAttrKey="data-option-value",M.OptionIndexAttrKey="data-option-index",M);class uR extends uI{constructor(...e){super(...e),(0,ai.Z)(this,"selectValue",[]),(0,ai.Z)(this,"optionDOMList",void 0),(0,ai.Z)(this,"createNormalOption",e=>{let t=this.selectValue.includes(e.value),n=ng("div",`l7-select-control-item ${t?uL.ActiveOptionClassName:""}`);this.getIsMultiple()?n.appendChild(this.createCheckbox(t)):n.appendChild(this.createRadio(t)),e.icon&&n.appendChild(e.icon);let r=ng("span");return r.innerText=e.text,n.appendChild(r),n}),(0,ai.Z)(this,"onItemClick",e=>{if(this.getIsMultiple()){let t=this.selectValue.findIndex(t=>t===e.value);t>-1?this.selectValue.splice(t,1):this.selectValue=[...this.selectValue,e.value]}else this.selectValue=[e.value];this.setSelectValue(this.selectValue)})}setOptions(e){super.setOptions(e);let{options:t}=e;t&&this.popper.setContent(this.getPopperContent(t))}onAdd(){let e=super.onAdd(),{defaultValue:t}=this.controlOption;return t&&(this.selectValue=this.transSelectValue(t)),this.popper.setContent(this.getPopperContent(this.controlOption.options)),e}getSelectValue(){return this.getIsMultiple()?this.selectValue:this.selectValue[0]}setSelectValue(e,t=!0){let n=this.transSelectValue(e);this.optionDOMList.forEach(e=>{let t=e.getAttribute(uL.OptionValueAttrKey),r=e.querySelector("input[type=checkbox]"),i=e.querySelector("input[type=radio]"),o=n.includes(t),a=(t,n)=>{n_(e,uL.ActiveOptionClassName,n),t&&nD(t,n)};a(r,o),a(i,o)}),this.selectValue=n,t&&this.emit("selectChange",this.getIsMultiple()?n:n[0])}getIsMultiple(){return!1}getPopperContent(e){let t=this.isImageOptions(),n=ng("div",t?"l7-select-control--image":"l7-select-control--normal");this.getIsMultiple()&&nb(n,"l7-select-control--multiple");let r=e.map((e,n)=>{let r=t?this.createImageOption(e):this.createNormalOption(e);return r.setAttribute(uL.OptionValueAttrKey,e.value),r.setAttribute(uL.OptionIndexAttrKey,window.String(n)),r.addEventListener("click",this.onItemClick.bind(this,e)),r});return n.append(...r),this.optionDOMList=r,n}createImageOption(e){let t=this.selectValue.includes(e.value),n=ng("div",`l7-select-control-item ${t?uL.ActiveOptionClassName:""}`),r=ng("img");r.setAttribute("src",e.img),nF(r),n.appendChild(r);let i=ng("div","l7-select-control-item-row");this.getIsMultiple()&&n.appendChild(this.createCheckbox(t));let o=ng("span");return o.innerText=e.text,i.appendChild(o),n.appendChild(i),n}createCheckbox(e){let t=ng("input");return t.setAttribute("type","checkbox"),e&&nD(t,!0),t}createRadio(e){let t=ng("input");return t.setAttribute("type","radio"),e&&nD(t,!0),t}isImageOptions(){return!!this.controlOption.options.find(e=>e.img)}transSelectValue(e){return Array.isArray(e)?e:[e]}}let uk=e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.classList.add("l7-iconfont"),t.setAttribute("aria-hidden","true");let n=document.createElementNS("http://www.w3.org/2000/svg","use");return n.setAttributeNS("http://www.w3.org/1999/xlink","href",`#${e}`),t.appendChild(n),t};class uN extends uC{constructor(...e){var t;super(...e),t=this,(0,ai.Z)(this,"onClick",(0,aZ.Z)(function*(){let{onExport:e}=t.controlOption;null==e||e((yield t.getImage()))})),(0,ai.Z)(this,"mergeImage",(0,aZ.Z)(function*(...e){var n,r;let{imageType:i}=t.controlOption,{width:o=0,height:a=0}=null!==(n=null===(r=t.mapsService.getContainer())||void 0===r?void 0:r.getBoundingClientRect())&&void 0!==n?n:{},s=document.createElement("canvas");s.width=o,s.height=a;let l=s.getContext("2d"),c=yield Promise.all(e.map(e=>new Promise(t=>{let n=new Image;n.onload=()=>{t(n)},n.src=e})));return c.forEach(e=>{null==l||l.drawImage(e,0,0,o,a)}),s.toDataURL(`image/${i}`)}))}onAdd(){let e=super.onAdd();return e.addEventListener("click",this.onClick),e}getDefault(e){return(0,ar.Z)((0,ar.Z)({},super.getDefault(e)),{},{title:"导出图片",btnIcon:uk("l7-icon-export-picture"),imageType:"png"})}getImage(){var e=this;return(0,aZ.Z)(function*(){let t=yield e.mapsService.exportMap("png"),n=yield e.scene.exportPng("png");return e.mergeImage(...[t,n].filter(e=>e))})()}}let uM=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],uD=(()=>{if("undefined"==typeof document)return!1;let e=uM[0],t={};for(let n of uM){let r=null==n?void 0:n[1];if(r in document){for(let[r,i]of n.entries())t[e[r]]=i;return t}}return!1})(),uP={change:uD.fullscreenchange,error:uD.fullscreenerror},uF={request:(e=document.documentElement,t)=>new Promise((n,r)=>{let i=()=>{uF.off("change",i),n()};uF.on("change",i);let o=e[uD.requestFullscreen](t);o instanceof Promise&&o.then(i).catch(r)}),exit:()=>new Promise((e,t)=>{if(!uF.isFullscreen){e();return}let n=()=>{uF.off("change",n),e()};uF.on("change",n);let r=document[uD.exitFullscreen]();r instanceof Promise&&r.then(n).catch(t)}),toggle:(e,t)=>uF.isFullscreen?uF.exit():uF.request(e,t),onchange(e){uF.on("change",e)},onerror(e){uF.on("error",e)},on(e,t){let n=uP[e];n&&document.addEventListener(n,t,!1)},off(e,t){let n=uP[e];n&&document.removeEventListener(n,t,!1)},raw:uD};Object.defineProperties(uF,{isFullscreen:{get:()=>!!document[uD.fullscreenElement]},element:{enumerable:!0,get:()=>{var e;return null!==(e=document[uD.fullscreenElement])&&void 0!==e?e:void 0}},isEnabled:{enumerable:!0,get:()=>!!document[uD.fullscreenEnabled]}}),uD||(uF={isEnabled:!1});var uB=uF;class uU extends uC{constructor(e){var t;super(e),t=this,(0,ai.Z)(this,"isFullscreen",!1),(0,ai.Z)(this,"mapContainer",void 0),(0,ai.Z)(this,"toggleFullscreen",(0,aZ.Z)(function*(){uB.isEnabled&&(yield uB.toggle(t.mapContainer))})),(0,ai.Z)(this,"onClick",()=>{this.toggleFullscreen()}),(0,ai.Z)(this,"onFullscreenChange",()=>{this.isFullscreen=!!document.fullscreenElement;let{btnText:e,btnIcon:t,title:n,exitBtnText:r,exitBtnIcon:i,exitTitle:o}=this.controlOption;this.isFullscreen?(this.setBtnTitle(o),this.setBtnText(r),this.setBtnIcon(i)):(this.setBtnTitle(n),this.setBtnText(e),this.setBtnIcon(t)),this.emit("fullscreenChange",this.isFullscreen)}),uB.isEnabled||console.warn("当前浏览器环境不支持对地图全屏化")}setOptions(e){let{exitBtnText:t,exitBtnIcon:n,exitTitle:r}=e;this.isFullscreen&&(this.checkUpdateOption(e,["exitBtnIcon"])&&this.setBtnIcon(n),this.checkUpdateOption(e,["exitBtnText"])&&this.setBtnText(t),this.checkUpdateOption(e,["exitTitle"])&&this.setBtnTitle(r)),super.setOptions(e)}onAdd(){let e=super.onAdd();return e.addEventListener("click",this.onClick),this.mapContainer=np(this.scene.getSceneConfig().id),this.mapContainer.addEventListener("fullscreenchange",this.onFullscreenChange),e}onRemove(){super.onRemove(),this.mapContainer.removeEventListener("fullscreenchange",this.onFullscreenChange)}getDefault(e){return(0,ar.Z)((0,ar.Z)({},super.getDefault(e)),{},{title:"全屏",btnIcon:uk("l7-icon-fullscreen"),exitTitle:"退出全屏",exitBtnIcon:uk("l7-icon-exit-fullscreen")})}}class uz extends uC{constructor(e){var t;super(e),t=this,(0,ai.Z)(this,"getGeoLocation",()=>new Promise((e,t)=>{window.navigator.geolocation.getCurrentPosition(({coords:n})=>{let{longitude:r,latitude:i}=null!=n?n:{};isNaN(r)||isNaN(i)?t():e([r,i])},e=>{t(e)})})),(0,ai.Z)(this,"onClick",(0,aZ.Z)(function*(){if(!window.navigator.geolocation)return;let{transform:e}=t.controlOption,n=yield t.getGeoLocation(),r=t.mapsService.getZoom();t.mapsService.setZoomAndCenter(r>15?r:15,e?yield e(n):n)})),window.navigator.geolocation||console.warn("当前浏览器环境不支持获取地理定位")}getDefault(e){return(0,ar.Z)((0,ar.Z)({},super.getDefault(e)),{},{title:"定位",btnIcon:uk("l7-icon-reposition")})}onAdd(){let e=super.onAdd();return e.addEventListener("click",this.onClick),e}}function uZ(e){return Object.keys(null!=e?e:{}).every(e=>["layer","name","img"].includes(e))}class uj extends uR{constructor(...e){super(...e),(0,ai.Z)(this,"onLayerChange",()=>{var e;null!==(e=this.controlOption.layers)&&void 0!==e&&e.length||(this.selectValue=this.getLayerVisible(),this.setOptions({options:this.getLayerOptions()}))}),(0,ai.Z)(this,"onLayerVisibleChane",()=>{this.setSelectValue(this.getLayerVisible())}),(0,ai.Z)(this,"onSelectChange",()=>{this.layers.forEach(e=>{let t=this.selectValue.includes(e.name),n=e.isVisible();t&&!n&&e.show(),!t&&n&&e.hide()})})}get layers(){let e=this.layerService,{layers:t}=this.controlOption;if(Array.isArray(t)&&t.length){let n=[];return t.forEach(t=>{if(t instanceof Object&&(uZ(t)?n.push(t.layer):n.push(t)),"string"==typeof t){let r=e.getLayer(t)||e.getLayerByName(t);r&&n.push(r)}}),n}return e.getLayers()||[]}getDefault(e){var t;return(0,ar.Z)((0,ar.Z)({},super.getDefault(e)),{},{title:"图层控制",btnIcon:uk("l7-icon-layer"),options:[],multiple:null===(t=null==e?void 0:e.multiple)||void 0===t||t})}getLayerVisible(){return this.layers.filter(e=>e.isVisible()).map(e=>e.name)}getLayerOptions(){let{layers:e}=this.controlOption,t=null==e?void 0:e.every(e=>e.img);return e?null==e?void 0:e.map(e=>{if(uZ(e))return{text:e.name||e.layer.name,value:e.layer.name,img:t?e.img:void 0};if("string"==typeof e){let t=this.layerService.getLayer(e)||this.layerService.getLayerByName(e);return{text:null==t?void 0:t.name,value:null==t?void 0:t.name}}return{text:e.name,value:e.name}}):this.layers.map(e=>({text:e.name,value:e.name}))}setOptions(e){let t=this.checkUpdateOption(e,["layers","multiple"]);super.setOptions(e),t&&(!1===this.controlOption.multiple&&this.handleSingleSelection(),this.selectValue=this.getLayerVisible(),this.controlOption.options=this.getLayerOptions(),this.popper.setContent(this.getPopperContent(this.controlOption.options)))}handleSingleSelection(){this.layers.forEach((e,t)=>{0===t?e.show():e.hide()})}onAdd(){var e;return!1===this.controlOption.multiple&&this.handleSingleSelection(),null!==(e=this.controlOption.options)&&void 0!==e&&e.length||(this.controlOption.options=this.getLayerOptions()),this.controlOption.defaultValue||(this.controlOption.defaultValue=this.getLayerVisible()),this.on("selectChange",this.onSelectChange),this.layerService.on("layerChange",this.onLayerChange),super.onAdd()}onRemove(){this.off("selectChange",this.onSelectChange),this.layerService.off("layerChange",this.onLayerChange)}getIsMultiple(){return this.controlOption.multiple}}class uH extends uA{getDefault(){return{position:aE.BOTTOMLEFT,name:"logo",href:"https://l7.antv.antgroup.com/",img:"https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*GRb1TKp4HcMAAAAAAAAAAAAAARQnAQ"}}onAdd(){let e=ng("div","l7-control-logo");return this.setLogoContent(e),e}onRemove(){return null}setOptions(e){super.setOptions(e),this.checkUpdateOption(e,["img","href"])&&(nP(this.container),this.setLogoContent(this.container))}setLogoContent(e){let{href:t,img:n}=this.controlOption,r=ng("img");if(r.setAttribute("src",n),r.setAttribute("aria-label","AntV logo"),nF(r),t){let n=ng("a","l7-control-logo-link");n.target="_blank",n.href=t,n.rel="noopener nofollow",n.setAttribute("rel","noopener nofollow"),n.appendChild(r),e.appendChild(n)}else e.appendChild(r)}}let uG={normal:{text:"标准",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*qdFDSbvIalgAAAAAAAAAAAAADmJ7AQ/original"},light:{text:"月光银",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*d-vcRLzu8WIAAAAAAAAAAAAADmJ7AQ/original"},dark:{text:"幻影黑",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*HMbRTI3XnpIAAAAAAAAAAAAADmJ7AQ/original"},fresh:{text:"草色青",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*kqaGQ5kjSiAAAAAAAAAAAAAADmJ7AQ/original"},grey:{text:"雅士灰",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*XegrTpZIbqAAAAAAAAAAAAAADmJ7AQ/original"},graffiti:{text:"涂鸦",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*G5g9SZ_Jg4cAAAAAAAAAAAAADmJ7AQ/original"},macaron:{text:"马卡龙",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*irVvQbDpQMwAAAAAAAAAAAAADmJ7AQ/original"},darkblue:{text:"极夜蓝",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*lKRzQYB4iR0AAAAAAAAAAAAADmJ7AQ/original"},wine:{text:"酱籽",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*orY0T7QL-lwAAAAAAAAAAAAADmJ7AQ/original"}},uV={normal:{text:"标准",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*kIyZTok4Uk0AAAAAAAAAAAAADmJ7AQ/original"},light:{text:"亮",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Z3JRQKDI-cIAAAAAAAAAAAAADmJ7AQ/original"},dark:{text:"暗",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*d7HCQbfmyaoAAAAAAAAAAAAADmJ7AQ/original"},satellite:{text:"卫星",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*TytUT6pS9okAAAAAAAAAAAAADmJ7AQ/original"},outdoors:{text:"户外",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*hWwFSYJEFWsAAAAAAAAAAAAADmJ7AQ/original"}};class u$ extends uR{constructor(...e){super(...e),(0,ai.Z)(this,"onMapThemeChange",()=>{this.mapsService.setMapStyle(this.selectValue[0])})}getDefault(e){return(0,ar.Z)((0,ar.Z)({},super.getDefault(e)),{},{title:"地图样式",btnIcon:uk("l7-icon-color"),options:[]})}getStyleOptions(){let e="mapbox"===this.mapsService.getType()?uV:uG;return Object.entries(this.mapsService.getMapStyleConfig()).filter(([e,t])=>"string"==typeof t&&"blank"!==e).map(([t,n])=>{var r;let{text:i,img:o}=null!==(r=e[t])&&void 0!==r?r:{};return{text:null!=i?i:t,value:n,img:o,key:t}})}getMapStyle(){return this.mapsService.getMapStyle()}onAdd(){var e,t,n;if(null!==(e=this.controlOption.options)&&void 0!==e&&e.length||(this.controlOption.options=this.getStyleOptions()),this.controlOption.defaultValue){let e=this.controlOption.defaultValue;this.controlOption.defaultValue=null!==(t=null===(n=this.controlOption.options.find(t=>t.key===e))||void 0===n?void 0:n.value)&&void 0!==t?t:e}else{let e=this.getMapStyle();e?this.controlOption.defaultValue=e:this.mapsService.map.once("styledata",()=>{let e=this.mapsService.getMapStyle();this.controlOption.defaultValue=e,this.setSelectValue(e,!1)})}return this.on("selectChange",this.onMapThemeChange),super.onAdd()}getIsMultiple(){return!1}}class uW extends uA{constructor(...e){super(...e),(0,ai.Z)(this,"location",[0,0]),(0,ai.Z)(this,"onMouseMove",e=>{let t=this.location,n=e.lngLat||e.lnglat,{transform:r}=this.controlOption;n&&(t=[n.lng,n.lat]),this.location=t,r&&(t=r(t)),this.insertLocation2HTML(t),this.emit("locationChange",t)})}getLocation(){return this.location}getDefault(e){return(0,ar.Z)((0,ar.Z)({},super.getDefault(e)),{},{position:aE.BOTTOMLEFT,transform:([e,t])=>[+(+e).toFixed(6),+(+t).toFixed(6)]})}onAdd(){let e=ng("div","l7-control-mouse-location");return e.innerHTML="&nbsp;",this.mapsService.on("mousemove",this.onMouseMove),e}onRemove(){this.mapsService.off("mousemove",this.onMouseMove)}insertLocation2HTML(e){this.container.innerText=e.join(", ")}}class uY extends uA{constructor(...e){super(...e),(0,ai.Z)(this,"mScale",void 0),(0,ai.Z)(this,"iScale",void 0),(0,ai.Z)(this,"update",()=>{let e=this.mapsService,{maxWidth:t}=this.controlOption,n=e.getSize()[1]/2,r=e.containerToLngLat([0,n]),i=e.containerToLngLat([t,n]),o=rt([r.lng,r.lat],[i.lng,i.lat]);this.updateScales(o)})}getDefault(e){return(0,ar.Z)((0,ar.Z)({},super.getDefault(e)),{},{name:"scale",position:aE.BOTTOMLEFT,maxWidth:100,metric:!0,updateWhenIdle:!1,imperial:!1,lockWidth:!0})}onAdd(){let e=ng("div","l7-control-scale");this.resetScaleLines(e);let{updateWhenIdle:t}=this.controlOption;return this.mapsService.on(t?"moveend":"mapmove",this.update),this.mapsService.on(t?"zoomend":"zoomchange",this.update),e}onRemove(){let{updateWhenIdle:e}=this.controlOption;this.mapsService.off(e?"zoomend":"zoomchange",this.update),this.mapsService.off(e?"moveend":"mapmove",this.update)}setOptions(e){super.setOptions(e),this.checkUpdateOption(e,["lockWidth","maxWidth","metric","updateWhenIdle","imperial"])&&this.resetScaleLines(this.container)}updateScales(e){let{metric:t,imperial:n}=this.controlOption;t&&e&&this.updateMetric(e),n&&e&&this.updateImperial(e)}resetScaleLines(e){nP(e);let{metric:t,imperial:n,maxWidth:r,lockWidth:i}=this.controlOption;i&&nL(e,`width: ${r}px`),t&&(this.mScale=ng("div","l7-control-scale-line",e)),n&&(this.iScale=ng("div","l7-control-scale-line",e)),this.update()}updateScale(e,t,n){let{maxWidth:r}=this.controlOption;e.style.width=Math.round(r*n)+"px",e.innerHTML=t}getRoundNum(e){let t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}updateMetric(e){let t=this.getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this.updateScale(this.mScale,n,t/e)}updateImperial(e){let t,n,r;let i=3.2808399*e;i>5280?(t=i/5280,n=this.getRoundNum(t),this.updateScale(this.iScale,n+" mi",n/t)):(r=this.getRoundNum(i),this.updateScale(this.iScale,r+" ft",r/i))}}class uq{constructor(){(0,ai.Z)(this,"mapService",void 0),(0,ai.Z)(this,"fontService",void 0)}apply(e,{styleAttributeService:t,mapService:n,fontService:r}){var i,o=this;this.mapService=n,this.fontService=r,e.hooks.init.tapPromise("DataMappingPlugin",(0,aZ.Z)(function*(){e.log(ax.MappingStart,aO.INIT),o.generateMaping(e,{styleAttributeService:t}),e.log(ax.MappingEnd,aO.INIT)})),e.hooks.beforeRenderData.tapPromise("DataMappingPlugin",(i=(0,aZ.Z)(function*(n){if(!n)return n;e.dataState.dataMappingNeedUpdate=!1,e.log(ax.MappingStart,aO.UPDATE);let r=o.generateMaping(e,{styleAttributeService:t});return e.log(ax.MappingEnd,aO.UPDATE),r}),function(e){return i.apply(this,arguments)})),e.hooks.beforeRender.tap("DataMappingPlugin",()=>{let n=e.getSource();if(e.layerModelNeedUpdate||!n||!n.inited)return;let r=t.getLayerStyleAttributes()||[],i=t.getLayerStyleAttribute("filter"),{dataArray:o}=n.data;if(Array.isArray(o)&&0===o.length)return;let a=r.filter(e=>e.needRemapping),s=o;if(null!=i&&i.needRemapping&&null!=i&&i.scale&&(s=o.filter(e=>this.applyAttributeMapping(i,e)[0])),a.length){let t=this.mapping(e,a,s,e.getEncodedData());e.setEncodedData(t)}})}generateMaping(e,{styleAttributeService:t}){let n=t.getLayerStyleAttributes()||[],r=t.getLayerStyleAttribute("filter"),{dataArray:i}=e.getSource().data,o=i;null!=r&&r.scale&&(o=i.filter(e=>this.applyAttributeMapping(r,e)[0])),o=e.processData(o);let a=this.mapping(e,n,o,void 0);return e.setEncodedData(a),e.emit("dataUpdate",null),!0}mapping(e,t,n,r){let i=t.filter(e=>void 0!==e.scale).filter(e=>"filter"!==e.name),o=n.map((e,t)=>{let n=r?r[t]:{},o=(0,ar.Z)({id:e._id,coordinates:e.coordinates},n);return i.forEach(t=>{let n=this.applyAttributeMapping(t,e);("color"===t.name||"stroke"===t.name)&&(n=n.map(e=>tE(e))),o[t.name]=Array.isArray(n)&&1===n.length?n[0]:n,"shape"===t.name&&(o.shape=this.fontService.getIconFontKey(o[t.name]))}),o});return t.forEach(e=>{e.needRemapping=!1}),this.adjustData2SimpleCoordinates(o),o}adjustData2SimpleCoordinates(e){e.length>0&&"SIMPLE"===this.mapService.version&&e.map(e=>{e.simpleCoordinate||(e.coordinates=this.unProjectCoordinates(e.coordinates),e.simpleCoordinate=!0)})}unProjectCoordinates(e){if("number"==typeof e[0])return this.mapService.simpleMapCoord.unproject(e);if(e[0]&&e[0][0]instanceof Array){let t=[];return e.map(e=>{let n=[];e.map(e=>{n.push(this.mapService.simpleMapCoord.unproject(e))}),t.push(n)}),t}{let t=[];return e.map(e=>{t.push(this.mapService.simpleMapCoord.unproject(e))}),t}}applyAttributeMapping(e,t){var n;if(!e.scale)return[];let r=(null==e||null===(n=e.scale)||void 0===n?void 0:n.scalers)||[],i=[];r.forEach(({field:n})=>{var r;(t.hasOwnProperty(n)||(null===(r=e.scale)||void 0===r?void 0:r.type)==="variable")&&i.push(t[n])});let o=e.mapping?e.mapping(i):[];return o}getArrowPoints(e,t){let n=[t[0]-e[0],t[1]-e[1]],r=ra(n),i=[e[0]+1e-4*r[0],e[1]+1e-4*r[1]];return i}}class uX{constructor(){(0,ai.Z)(this,"mapService",void 0)}apply(e){var t=this;this.mapService=e.getContainer().mapService,e.hooks.init.tapPromise("DataSourcePlugin",(0,aZ.Z)(function*(){e.log(ax.SourceInitStart,aO.INIT);let n=e.getSource();if(!n){let{data:t,options:r}=e.sourceOption||e.defaultSourceConfig;n=new u_(t,r),e.setSource(n)}n.inited?(t.updateClusterData(e),e.log(ax.SourceInitEnd,aO.INIT)):yield new Promise(r=>{n.on("update",n=>{"inited"===n.type&&(t.updateClusterData(e),e.log(ax.SourceInitEnd,aO.INIT)),r(null)})})})),e.hooks.beforeRenderData.tapPromise("DataSourcePlugin",(0,aZ.Z)(function*(){let n=t.updateClusterData(e),r=e.dataState.dataSourceNeedUpdate;return e.dataState.dataSourceNeedUpdate=!1,n||r}))}updateClusterData(e){if(e.isTileLayer||e.tileLayer||!e.getSource())return!1;let t=e.getSource(),n=t.cluster,{zoom:r=0}=t.clusterOptions,i=this.mapService.getZoom()-1,o=e.dataState.dataSourceNeedUpdate;return n&&o&&t.updateClusterData(Math.floor(i)),!!(n&&Math.abs(e.clusterZoom-i)>=1)&&(r!==Math.floor(i)&&t.updateClusterData(Math.floor(i)),e.clusterZoom=i,!0)}}function uK(e,t){let n,r;if(void 0===t)for(let t of e)null!=t&&(void 0===n?t>=t&&(n=r=t):(n>t&&(n=t),r<t&&(r=t)));else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}function uQ(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function uJ(e){return function(){return e}}function u0(e,t){var n=t-e;return n?function(t){return e+t*n}:uJ(isNaN(e)?t:e)}var u1=function e(t){var n,r=1==(n=+(n=t))?u0:function(e,t){var r,i,o;return t-e?(r=e,i=t,r=Math.pow(r,o=n),i=Math.pow(i,o)-r,o=1/o,function(e){return Math.pow(r+e*i,o)}):uJ(isNaN(e)?t:e)};function i(e,t){var n=r((e=tu(e)).r,(t=tu(t)).r),i=r(e.g,t.g),o=r(e.b,t.b),a=u0(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return i.gamma=e,i}(1);function u2(e){return function(t){var n,r,i=t.length,o=Array(i),a=Array(i),s=Array(i);for(n=0;n<i;++n)r=tu(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}var u3=u2(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return uQ((n-r/t)*t,a,i,o,s)}});function u5(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function u4(e){var t;return 1===e.length&&(t=e,e=function(e,n){return u5(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;0>e(t[o],n)?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}u2(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return uQ((n-r/t)*t,i,o,a,s)}});var u6=u4(u5),u7=u6.right;u6.left;var u8=Array.prototype;u8.slice,u8.map;var u9=Math.sqrt(50),de=Math.sqrt(10),dt=Math.sqrt(2);function dn(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=dr(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),o=Array(i=Math.ceil((t=Math.floor(t/a))-e+1));++s<i;)o[s]=(e+s)*a;else for(o=Array(i=Math.ceil((e=Math.floor(e*a))-(t=Math.ceil(t*a))+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o}function dr(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=u9?10:o>=de?5:o>=dt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=u9?10:o>=de?5:o>=dt?2:1)}function di(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=u9?i*=10:o>=de?i*=5:o>=dt&&(i*=2),t<e?-i:i}function da(e){return null===e?NaN:+e}function ds(){}function dl(e,t){var n=new ds;if(e instanceof ds)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var r,i=-1,o=e.length;if(null==t)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t(r=e[i],i,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}function dc(){}ds.prototype=dl.prototype={constructor:ds,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var du=dl.prototype;dc.prototype=(function(e,t){var n=new dc;if(e instanceof dc)e.each(function(e){n.add(e)});else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}).prototype={constructor:dc,has:du.has,add:function(e){return this["$"+(e+="")]=e,this},remove:du.remove,clear:du.clear,values:du.keys,size:du.size,empty:du.empty,each:du.each};var dd=Array.prototype,dp=dd.map,dh=dd.slice;function df(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function dg(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e)}return this}var dm={name:"implicit"};function db(){var e=dl(),t=[],n=[],r=dm;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==dm)return r;e.set(o,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=dl();for(var r,o,a=-1,s=n.length;++a<s;)e.has(o=(r=n[a])+"")||e.set(o,t.push(r));return i},i.range=function(e){return arguments.length?(n=dh.call(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return db(t,n).unknown(r)},df.apply(i,arguments),i}function dv(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=Array(i),a=Array(r);for(n=0;n<i;++n)o[n]=dC(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function dy(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function dE(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function d_(e,t){var n,r={},i={};for(n in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)n in e?r[n]=dC(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var dT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dx=RegExp(dT.source,"g");function dS(e,t){var n,r,i,o,a,s=dT.lastIndex=dx.lastIndex=0,l=-1,c=[],u=[];for(e+="",t+="";(i=dT.exec(e))&&(o=dx.exec(t));)(a=o.index)>s&&(a=t.slice(s,a),c[l]?c[l]+=a:c[++l]=a),(i=i[0])===(o=o[0])?c[l]?c[l]+=o:c[++l]=o:(c[++l]=null,u.push({i:l,x:dE(i,o)})),s=dx.lastIndex;return s<t.length&&(a=t.slice(s),c[l]?c[l]+=a:c[++l]=a),c.length<2?u[0]?(n=u[0].x,function(e){return n(e)+""}):(r=t,function(){return r}):(t=u.length,function(e){for(var n,r=0;r<t;++r)c[(n=u[r]).i]=n.x(e);return c.join("")})}function dA(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function dC(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?uJ(t):("number"===i?dE:"string"===i?(r=ts(t))?(t=r,u1):dS:t instanceof ts?u1:t instanceof Date?dy:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView)?Array.isArray(t)?dv:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?d_:dE:dA)(e,t)}function dw(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function dO(e){return+e}var dI=[0,1];function dL(e){return e}function dR(e,t){var n;return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n})}function dk(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function dN(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=dR(i,r),o=n(a,o)):(r=dR(r,i),o=n(o,a)),function(e){return o(r(e))}}function dM(e,t,n){var r=Math.min(e.length,t.length)-1,i=Array(r),o=Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=dR(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=u7(e,t,1,r)-1;return o[n](i[n](t))}}function dD(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dP(){var e,t,n,r,i,o,a=dI,s=dI,l=dC,c=dL;function u(){return r=Math.min(a.length,s.length)>2?dM:dN,i=o=null,d}function d(t){return isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=r(s,a.map(e),dE)))(n)))},d.domain=function(e){return arguments.length?(a=dp.call(e,dO),c===dL||(c=dk(a)),u()):a.slice()},d.range=function(e){return arguments.length?(s=dh.call(e),u()):s.slice()},d.rangeRound=function(e){return s=dh.call(e),l=dw,u()},d.clamp=function(e){return arguments.length?(c=e?dk(a):dL,d):c!==dL},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}var dF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dB(e){var t;if(!(t=dF.exec(e)))throw Error("invalid format: "+e);return new dU({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function dU(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function dz(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function dZ(e){return(e=dz(Math.abs(e)))?e[1]:NaN}function dj(e,t){var n=dz(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+Array(i-r.length+2).join("0")}dB.prototype=dU.prototype,dU.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var dH={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return dj(100*e,t)},r:dj,s:function(e,t){var n=dz(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(X=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+Array(1-o).join("0")+dz(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function dG(e){return e}var dV=Array.prototype.map,d$=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function dW(e){var t=e.domain;return e.ticks=function(e){var n=t();return dn(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return function(e,t,n,r){var i,o,a=di(e,t,n);switch((r=dB(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(o=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(dZ(s)/3)))-dZ(Math.abs(a))))||(r.precision=o),J(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN((i=a,o=Math.max(0,dZ(Math.abs(Math.max(Math.abs(e),Math.abs(t)))-(i=Math.abs(i)))-dZ(i))+1))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=Math.max(0,-dZ(Math.abs(a))))||(r.precision=o-("%"===r.type)*2)}return Q(r)}(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),o=0,a=i.length-1,s=i[o],l=i[a];return l<s&&(r=s,s=l,l=r,r=o,o=a,a=r),(r=dr(s,l,n))>0?r=dr(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=dr(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(l/r)*r,t(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(l*r)/r,t(i)),e},e}function dY(e,t){e=e.slice();var n,r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function dq(e){return Math.log(e)}function dX(e){return Math.exp(e)}function dK(e){return-Math.log(-e)}function dQ(e){return-Math.exp(-e)}function dJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function d0(e){return function(t){return-e(-t)}}function d1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function d2(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function d3(e){return e<0?-e*e:e*e}Q=(K=function(e){var t,n,r,i=void 0===e.grouping||void 0===e.thousands?dG:(t=dV.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?dG:(r=dV.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,function(e){return r[+e]})}),c=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"-":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function p(e){var t=(e=dB(e)).fill,n=e.align,r=e.sign,p=e.symbol,h=e.zero,f=e.width,g=e.comma,m=e.precision,b=e.trim,v=e.type;"n"===v?(g=!0,v="g"):dH[v]||(void 0===m&&(m=12),b=!0,v="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var y="$"===p?o:"#"===p&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",E="$"===p?a:/[%p]/.test(v)?c:"",_=dH[v],x=/[defgprs%]/.test(v);function S(e){var o,a,c,p=y,S=E;if("c"===v)S=_(e)+S,e="";else{var A=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:_(Math.abs(e),m),b&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),A&&0==+e&&"+"!==r&&(A=!1),p=(A?"("===r?r:u:"-"===r||"("===r?"":r)+p,S=("s"===v?d$[8+X/3]:"")+S+(A&&"("===r?")":""),x){for(o=-1,a=e.length;++o<a;)if(48>(c=e.charCodeAt(o))||c>57){S=(46===c?s+e.slice(o+1):e.slice(o))+S,e=e.slice(0,o);break}}}g&&!h&&(e=i(e,1/0));var C=p.length+e.length+S.length,w=C<f?Array(f-C+1).join(t):"";switch(g&&h&&(e=i(w+e,w.length?f-S.length:1/0),w=""),n){case"<":e=p+e+S+w;break;case"=":e=p+w+e+S;break;case"^":e=w.slice(0,C=w.length>>1)+p+e+S+w.slice(C);break;default:e=w+p+e+S}return l(e)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),S.toString=function(){return e+""},S}return{format:p,formatPrefix:function(e,t){var n=p(((e=dB(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(dZ(t)/3))),i=Math.pow(10,-r),o=d$[8+r/3];return function(e){return n(i*e)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})).format,J=K.formatPrefix;var d5=new Date,d4=new Date;function d6(e,t,n,r){function i(t){return e(t=0==arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do s.push(a=new Date(+n)),t(n,o),e(n);while(a<n&&n<r);return s},i.filter=function(n){return d6(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e){if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}})},n&&(i.count=function(t,r){return d5.setTime(+t),d4.setTime(+r),e(d5),e(d4),Math.floor(n(d5,d4))},i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?e>1?i.filter(r?function(t){return r(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}var d7=d6(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});d7.every=function(e){return isFinite(e=Math.floor(e))&&e>0?d6(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null},d7.range;var d8=d6(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});function d9(e){return d6(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5})}d8.range;var pe=d9(0),pt=d9(1),pn=d9(2),pr=d9(3),pi=d9(4),po=d9(5),pa=d9(6);pe.range,pt.range,pn.range,pr.range,pi.range,po.range,pa.range;var ps=d6(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5},function(e){return e.getDate()-1});ps.range;var pl=d6(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()});pl.range;var pc=d6(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4},function(e){return e.getMinutes()});pc.range;var pu=d6(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()});pu.range;var pd=d6(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});function pp(e){return d6(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}pd.every=function(e){return isFinite(e=Math.floor(e))&&e>0?e>1?d6(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):pd:null},pd.range;var ph=pp(0),pf=pp(1),pg=pp(2),pm=pp(3),pb=pp(4),pv=pp(5),py=pp(6);ph.range,pf.range,pg.range,pm.range,pb.range,pv.range,py.range;var pE=d6(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1});pE.range;var p_=d6(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});function pT(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function px(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pS(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}p_.every=function(e){return isFinite(e=Math.floor(e))&&e>0?d6(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null},p_.range;var pA={"-":"",_:" ",0:"0"},pC=/^\s*\d+/,pw=/^%/,pO=/[\\^$*+?|[\]().{}]/g;function pI(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?Array(n-o+1).join(t)+i:i)}function pL(e){return e.replace(pO,"\\$&")}function pR(e){return RegExp("^(?:"+e.map(pL).join("|")+")","i")}function pk(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function pN(e,t,n){var r=pC.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function pM(e,t,n){var r=pC.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function pD(e,t,n){var r=pC.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function pP(e,t,n){var r=pC.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function pF(e,t,n){var r=pC.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function pB(e,t,n){var r=pC.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function pU(e,t,n){var r=pC.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function pz(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pZ(e,t,n){var r=pC.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function pj(e,t,n){var r=pC.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function pH(e,t,n){var r=pC.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function pG(e,t,n){var r=pC.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function pV(e,t,n){var r=pC.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function p$(e,t,n){var r=pC.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function pW(e,t,n){var r=pC.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function pY(e,t,n){var r=pC.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function pq(e,t,n){var r=pC.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pX(e,t,n){var r=pw.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function pK(e,t,n){var r=pC.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function pQ(e,t,n){var r=pC.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function pJ(e,t){return pI(e.getDate(),t,2)}function p0(e,t){return pI(e.getHours(),t,2)}function p1(e,t){return pI(e.getHours()%12||12,t,2)}function p2(e,t){return pI(1+ps.count(d7(e),e),t,3)}function p3(e,t){return pI(e.getMilliseconds(),t,3)}function p5(e,t){return p3(e,t)+"000"}function p4(e,t){return pI(e.getMonth()+1,t,2)}function p6(e,t){return pI(e.getMinutes(),t,2)}function p7(e,t){return pI(e.getSeconds(),t,2)}function p8(e){var t=e.getDay();return 0===t?7:t}function p9(e,t){return pI(pe.count(d7(e)-1,e),t,2)}function he(e){var t=e.getDay();return t>=4||0===t?pi(e):pi.ceil(e)}function ht(e,t){return e=he(e),pI(pi.count(d7(e),e)+(4===d7(e).getDay()),t,2)}function hn(e){return e.getDay()}function hr(e,t){return pI(pt.count(d7(e)-1,e),t,2)}function hi(e,t){return pI(e.getFullYear()%100,t,2)}function ho(e,t){return pI((e=he(e)).getFullYear()%100,t,2)}function ha(e,t){return pI(e.getFullYear()%1e4,t,4)}function hs(e,t){var n=e.getDay();return pI((e=n>=4||0===n?pi(e):pi.ceil(e)).getFullYear()%1e4,t,4)}function hl(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pI(t/60|0,"0",2)+pI(t%60,"0",2)}function hc(e,t){return pI(e.getUTCDate(),t,2)}function hu(e,t){return pI(e.getUTCHours(),t,2)}function hd(e,t){return pI(e.getUTCHours()%12||12,t,2)}function hp(e,t){return pI(1+pE.count(p_(e),e),t,3)}function hh(e,t){return pI(e.getUTCMilliseconds(),t,3)}function hf(e,t){return hh(e,t)+"000"}function hg(e,t){return pI(e.getUTCMonth()+1,t,2)}function hm(e,t){return pI(e.getUTCMinutes(),t,2)}function hb(e,t){return pI(e.getUTCSeconds(),t,2)}function hv(e){var t=e.getUTCDay();return 0===t?7:t}function hy(e,t){return pI(ph.count(p_(e)-1,e),t,2)}function hE(e){var t=e.getUTCDay();return t>=4||0===t?pb(e):pb.ceil(e)}function h_(e,t){return e=hE(e),pI(pb.count(p_(e),e)+(4===p_(e).getUTCDay()),t,2)}function hT(e){return e.getUTCDay()}function hx(e,t){return pI(pf.count(p_(e)-1,e),t,2)}function hS(e,t){return pI(e.getUTCFullYear()%100,t,2)}function hA(e,t){return pI((e=hE(e)).getUTCFullYear()%100,t,2)}function hC(e,t){return pI(e.getUTCFullYear()%1e4,t,4)}function hw(e,t){var n=e.getUTCDay();return pI((e=n>=4||0===n?pb(e):pb.ceil(e)).getUTCFullYear()%1e4,t,4)}function hO(){return"+0000"}function hI(){return"%"}function hL(e){return+e}function hR(e){return Math.floor(+e/1e3)}function hk(e){return new Date(e)}function hN(e){return e instanceof Date?+e:+new Date(+e)}function hM(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}et=(ee=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=pR(i),u=pk(i),d=pR(o),p=pk(o),h=pR(a),f=pk(a),g=pR(s),m=pk(s),b=pR(l),v=pk(l),y={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:pJ,e:pJ,f:p5,g:ho,G:hs,H:p0,I:p1,j:p2,L:p3,m:p4,M:p6,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:hL,s:hR,S:p7,u:p8,U:p9,V:ht,w:hn,W:hr,x:null,X:null,y:hi,Y:ha,Z:hl,"%":hI},E={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:hc,e:hc,f:hf,g:hA,G:hw,H:hu,I:hd,j:hp,L:hh,m:hg,M:hm,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:hL,s:hR,S:hb,u:hv,U:hy,V:h_,w:hT,W:hx,x:null,X:null,y:hS,Y:hC,Z:hO,"%":hI},_={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=f[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=b.exec(t.slice(n));return r?(e.m=v[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return A(e,t,n,r)},d:pH,e:pH,f:pq,g:pU,G:pB,H:pV,I:pV,j:pG,L:pY,m:pj,M:p$,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:pZ,Q:pK,s:pQ,S:pW,u:pM,U:pD,V:pP,w:pN,W:pF,x:function(e,t,r){return A(e,n,t,r)},X:function(e,t,n){return A(e,r,t,n)},y:pU,Y:pB,Z:pz,"%":pX};function x(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=pA[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function S(e,t){return function(n){var r,i,o=pS(1900,void 0,1);if(A(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(!t||"Z"in o||(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=(r=px(pS(o.y,0,1))).getUTCDay())>4||0===i?pf.ceil(r):pf(r),r=pE.offset(r,(o.V-1)*7),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=(i=(r=pT(pS(o.y,0,1))).getDay())>4||0===i?pt.ceil(r):pt(r),r=ps.offset(r,(o.V-1)*7),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?px(pS(o.y,0,1)).getUTCDay():pT(pS(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,px(o)):pT(o)}}function A(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return -1;if(37===(i=t.charCodeAt(a++))){if(!(o=_[(i=t.charAt(a++))in pA?t.charAt(a++):i])||(r=o(e,n,r))<0)return -1}else if(i!=n.charCodeAt(r++))return -1}return r}return y.x=x(n,y),y.X=x(r,y),y.c=x(t,y),E.x=x(n,E),E.X=x(r,E),E.c=x(t,E),{format:function(e){var t=x(e+="",y);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",E);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,ee.parse,ee.utcFormat,ee.utcParse;let{isNil:hD,isString:hP,uniq:hF}=nu,hB=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,hU={[aI.LINEAR]:function e(){var t=dP()(dL,dL);return t.copy=function(){return dD(t,e())},df.apply(t,arguments),dW(t)},[aI.POWER]:function e(){var t,n,r,i=(n=(t=dP())(dL,dL),r=1,n.exponent=function(e){return arguments.length?1==(r=+e)?t(dL,dL):.5===r?t(d2,d3):t(d1(r),d1(1/r)):r},dW(n));return i.copy=function(){return dD(i,e()).exponent(i.exponent())},df.apply(i,arguments),i},[aI.LOG]:function e(){var t=(function(e){var t,n,r=e(dq,dX),i=r.domain,o=10;function a(){var a,s;return t=(a=o)===Math.E?Math.log:10===a&&Math.log10||2===a&&Math.log2||(a=Math.log(a),function(e){return Math.log(e)/a}),n=10===(s=o)?dJ:s===Math.E?Math.exp:function(e){return Math.pow(s,e)},i()[0]<0?(t=d0(t),n=d0(n),e(dK,dQ)):e(dq,dX),r}return r.base=function(e){return arguments.length?(o=+e,a()):o},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),s=a[0],l=a[a.length-1];(r=l<s)&&(p=s,s=l,l=p);var c,u,d,p=t(s),h=t(l),f=null==e?10:+e,g=[];if(!(o%1)&&h-p<f){if(p=Math.round(p)-1,h=Math.round(h)+1,s>0){for(;p<h;++p)for(u=1,c=n(p);u<o;++u)if(!((d=c*u)<s)){if(d>l)break;g.push(d)}}else for(;p<h;++p)for(u=o-1,c=n(p);u>=1;--u)if(!((d=c*u)<s)){if(d>l)break;g.push(d)}}else g=dn(p,h,Math.min(h-p,f)).map(n);return r?g.reverse():g},r.tickFormat=function(e,i){if(null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=Q(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,o*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*o<o-.5&&(r*=o),r<=a?i(e):""}},r.nice=function(){return i(dY(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r})(dP()).domain([1,10]);return t.copy=function(){return dD(t,e()).base(t.base())},df.apply(t,arguments),t},[aI.IDENTITY]:function e(t){let n;let r=[];function i(e){return null==e?n:e}return i.invert=i,i.domain=i.range=e=>e?(r=e,e):r,i.unknown=e=>e?(n=e,e):n,i.copy=()=>e(t).unknown(n),i},[aI.SEQUENTIAL]:function e(){var t=dW((function(){var e,t,n,r,i,o=0,a=1,s=dL,l=!1;function c(t){return isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}return c.domain=function(i){return arguments.length?(n=(e=r(o=+i[0]))===(t=r(a=+i[1]))?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,n=(e=i(o))===(t=i(a))?0:1/(t-e),c}})()(dL));return t.copy=function(){return hM(t,e())},dg.apply(t,arguments)},[aI.TIME]:function(){return df.apply((function e(t,n,r,i,o,a,s,l,c){var u=dP()(dL,dL),d=u.invert,p=u.domain,h=c(".%L"),f=c(":%S"),g=c("%I:%M"),m=c("%I %p"),b=c("%a %d"),v=c("%b %d"),y=c("%B"),E=c("%Y"),_=[[s,1,1e3],[s,5,5e3],[s,15,15e3],[s,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[o,1,36e5],[o,3,108e5],[o,6,216e5],[o,12,432e5],[i,1,864e5],[i,2,1728e5],[r,1,6048e5],[n,1,2592e6],[n,3,7776e6],[t,1,31536e6]];function x(e){return(s(e)<e?h:a(e)<e?f:o(e)<e?g:i(e)<e?m:n(e)<e?r(e)<e?b:v:t(e)<e?y:E)(e)}function S(e,n,r,i){if(null==e&&(e=10),"number"==typeof e){var o=Math.abs(r-n)/e,a=u4(function(e){return e[2]}).right(_,o);a===_.length?(i=di(n/31536e6,r/31536e6,e),e=t):a?(i=(a=_[o/_[a-1][2]<_[a][2]/o?a-1:a])[1],e=a[0]):(i=Math.max(di(n,r,e),1),e=l)}return null==i?e:e.every(i)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?p(dp.call(e,hN)):p().map(hk)},u.ticks=function(e,t){var n,r=p(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=S(e,i,o,t))?n.range(i,o+1):[],a?n.reverse():n},u.tickFormat=function(e,t){return null==t?x:c(t)},u.nice=function(e,t){var n=p();return(e=S(e,n[0],n[n.length-1],t))?p(dY(n,e)):u},u.copy=function(){return dD(u,e(t,n,r,i,o,a,s,l,c))},u})(d7,d8,pe,ps,pl,pc,pu,pd,et).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},[aI.QUANTILE]:function e(){var t,n=[],r=[],i=[];function o(){var e=0,t=Math.max(1,r.length);for(i=Array(t-1);++e<t;)i[e-1]=function(e,t,n){if(null==n&&(n=da),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}(n,e/t);return a}function a(e){return isNaN(e=+e)?t:r[u7(i,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];for(var t,r=0,i=e.length;r<i;++r)null==(t=e[r])||isNaN(t=+t)||n.push(t);return n.sort(u5),o()},a.range=function(e){return arguments.length?(r=dh.call(e),o()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},df.apply(a,arguments)},[aI.QUANTIZE]:function e(){var t,n=0,r=1,i=1,o=[.5],a=[0,1];function s(e){return e<=e?a[u7(o,e,0,i)]:t}function l(){var e=-1;for(o=Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return s}return s.domain=function(e){return arguments.length?(n=+e[0],r=+e[1],l()):[n,r]},s.range=function(e){return arguments.length?(i=(a=dh.call(e)).length-1,l()):a.slice()},s.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=i?[o[i-1],r]:[o[t-1],o[t]]},s.unknown=function(e){return arguments.length&&(t=e),s},s.thresholds=function(){return o.slice()},s.copy=function(){return e().domain([n,r]).range(a).unknown(t)},df.apply(dW(s),arguments)},[aI.THRESHOLD]:function e(){var t,n=[.5],r=[0,1],i=1;function o(e){return e<=e?r[u7(n,e,0,i)]:t}return o.domain=function(e){return arguments.length?(i=Math.min((n=dh.call(e)).length,r.length-1),o):n.slice()},o.range=function(e){return arguments.length?(r=dh.call(e),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(r).unknown(t)},df.apply(o,arguments)},[aI.CAT]:db,[aI.DIVERGING]:function e(){var t=dW((function(){var e,t,n,r,i,o,a,s=0,l=.5,c=1,u=dL,d=!1;function p(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(e<t?r:i),u(d?Math.max(0,Math.min(1,e)):e))}return p.domain=function(a){return arguments.length?(e=o(s=+a[0]),t=o(l=+a[1]),n=o(c=+a[2]),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),p):[s,l,c]},p.clamp=function(e){return arguments.length?(d=!!e,p):d},p.interpolator=function(e){return arguments.length?(u=e,p):u},p.unknown=function(e){return arguments.length?(a=e,p):a},function(a){return o=a,e=a(s),t=a(l),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),p}})()(dL));return t.copy=function(){return hM(t,e())},dg.apply(t,arguments)}};class hz{constructor(){(0,ai.Z)(this,"scaleOptions",{})}apply(e,{styleAttributeService:t}){var n,r=this;e.hooks.init.tapPromise("FeatureScalePlugin",(0,aZ.Z)(function*(){var n;e.log(ax.ScaleInitStart,aO.INIT),r.scaleOptions=e.getScaleOptions();let i=t.getLayerStyleAttributes(),o=null===(n=e.getSource())||void 0===n?void 0:n.data.dataArray;Array.isArray(o)&&0===o.length||(r.caculateScalesForAttributes(i||[],o),e.log(ax.ScaleInitEnd,aO.INIT))})),e.hooks.beforeRenderData.tapPromise("FeatureScalePlugin",(n=(0,aZ.Z)(function*(n){if(!n)return n;e.log(ax.ScaleInitStart,aO.UPDATE),r.scaleOptions=e.getScaleOptions();let i=t.getLayerStyleAttributes(),o=e.getSource().data.dataArray;return!!Array.isArray(o)&&0===o.length||(r.caculateScalesForAttributes(i||[],o),e.log(ax.ScaleInitEnd,aO.UPDATE),e.layerModelNeedUpdate=!0,!0)}),function(e){return n.apply(this,arguments)})),e.hooks.beforeRender.tap("FeatureScalePlugin",()=>{if(e.layerModelNeedUpdate)return;this.scaleOptions=e.getScaleOptions();let n=t.getLayerStyleAttributes(),r=e.getSource().data.dataArray;if((!Array.isArray(r)||0!==r.length)&&n){let e=n.filter(e=>e.needRescale);e.length&&this.caculateScalesForAttributes(e,r)}})}isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}caculateScalesForAttributes(e,t){e.forEach(e=>{if(e.scale){let n=e.scale,r=e.scale.field;n.names=this.parseFields(hD(r)?[]:r);let i=[];n.names.forEach(n=>{var r;i.push(this.createScale(n,e.name,null===(r=e.scale)||void 0===r?void 0:r.values,t))}),i.some(e=>e.type===aL.VARIABLE)?(n.type=aL.VARIABLE,i.forEach(e=>{var t,r;if(!n.callback&&"text"!==n.values)switch(null===(t=e.option)||void 0===t?void 0:t.type){case aI.LOG:case aI.LINEAR:case aI.POWER:if(n.values&&n.values.length>2){let t=e.scale.ticks(n.values.length);e.scale.domain(t)}n.values?e.scale.range(n.values):e.scale.range(e.option.domain);break;case aI.QUANTILE:case aI.QUANTIZE:case aI.THRESHOLD:e.scale.range(n.values);break;case aI.IDENTITY:break;case aI.CAT:n.values?e.scale.range(n.values):e.scale.range(e.option.domain);break;case aI.DIVERGING:case aI.SEQUENTIAL:e.scale.interpolator(u3(n.values))}"text"===n.values&&e.scale.range(null===(r=e.option)||void 0===r?void 0:r.domain)})):(n.type=aL.CONSTANT,n.defaultValues=i.map((e,t)=>e.scale(n.names[t]))),n.scalers=i.map(e=>({field:e.field,func:e.scale,option:e.option})),e.needRescale=!1}})}parseFields(e){return Array.isArray(e)?e:hP(e)?e.split("*"):[e]}createScale(e,t,n,r){var i,o;let a=this.scaleOptions[t]&&(null===(i=this.scaleOptions[t])||void 0===i?void 0:i.field)===e?this.scaleOptions[t]:this.scaleOptions[e],s={field:e,scale:void 0,type:aL.VARIABLE,option:a};if(!r||!r.length)return a&&a.type?s.scale=this.createDefaultScale(a):(s.scale=db([e]),s.type=aL.CONSTANT),s;let l=null===(o=r.find(t=>!hD(t[e])))||void 0===o?void 0:o[e];if(this.isNumber(e)||hD(l)&&!a)s.scale=db([e]),s.type=aL.CONSTANT;else{let t=a&&a.type||this.getDefaultType(l);"text"===n&&(t=aI.CAT),void 0===n&&(t=aI.IDENTITY);let i=this.createScaleConfig(t,e,a,r);s.scale=this.createDefaultScale(i),s.option=i}return s}getDefaultType(e){let t=aI.LINEAR;return"string"==typeof e&&(t=hB.test(e)?aI.TIME:aI.CAT),t}createScaleConfig(e,t,n,r){let i=(0,ar.Z)((0,ar.Z)({},n),{},{type:e});if(null!=i&&i.domain)return i;let o=[];if(e===aI.QUANTILE){let e=new Map;null==r||r.forEach(n=>{e.set(n._id,n[t])}),o=Array.from(e.values())}else o=(null==r?void 0:r.map(e=>e[t]))||[];if(e===aI.CAT||e===aI.IDENTITY)i.domain=hF(o);else if(e===aI.QUANTILE)i.domain=o;else if(e===aI.DIVERGING){let e=uK(o),t=(null==n?void 0:n.neutral)!==void 0?null==n?void 0:n.neutral:(e[0]+e[1])/2;i.domain=[e[0],t,e[1]]}else i.domain=uK(o);return i}createDefaultScale({type:e,domain:t,unknown:n,clamp:r,nice:i}){let o=hU[e]();return t&&o.domain&&o.domain(t),n&&o.unknown(n),void 0!==r&&o.clamp&&o.clamp(r),void 0!==i&&o.nice&&o.nice(i),o}}class hZ{apply(e){e.hooks.beforeRender.tap("LayerAnimateStylePlugin",()=>{let t=e.animateStatus;t&&e.models.forEach(t=>{t.addUniforms((0,ar.Z)({},e.layerModel.getAnimateUniforms()))})})}}class hj{apply(e){e.hooks.afterInit.tap("LayerMaskPlugin",()=>{let{maskLayers:t,enableMask:n}=e.getLayerConfig();!e.tileLayer&&t&&t.length>0&&e.updateLayerConfig({mask:n})})}}class hH{build(e){return(0,aZ.Z)(function*(){e.prepareBuildModel(),yield e.buildModels()})()}initLayerModel(e){var t=this;return(0,aZ.Z)(function*(){yield t.build(e),e.styleNeedUpdate=!1})()}prepareLayerModel(e){var t=this;return(0,aZ.Z)(function*(){yield t.build(e),e.styleNeedUpdate=!1})()}apply(e){var t,n=this;e.hooks.init.tapPromise("LayerModelPlugin",(0,aZ.Z)(function*(){if(e.getSource().isTile){e.prepareBuildModel();return}e.log(ax.BuildModelStart,aO.INIT),yield n.initLayerModel(e),e.log(ax.BuildModelEnd,aO.INIT)})),e.hooks.beforeRenderData.tapPromise("LayerModelPlugin",(t=(0,aZ.Z)(function*(t){return!!t&&!e.getSource().isTile&&(e.log(ax.BuildModelStart,aO.UPDATE),yield n.prepareLayerModel(e),e.log(ax.BuildModelEnd,aO.UPDATE),!0)}),function(e){return t.apply(this,arguments)}))}}class hG{apply(e){e.hooks.afterInit.tap("LayerStylePlugin",()=>{let{autoFit:t,fitBoundsOptions:n}=e.getLayerConfig();t&&e.fitBounds(n),e.styleNeedUpdate=!1})}}let hV=["type"],h$={directional:{lights:"u_DirectionalLights",num:"u_NumOfDirectionalLights"},spot:{lights:"u_SpotLights",num:"u_NumOfSpotLights"}},hW={type:"directional",direction:[1,10.5,12],ambient:[.2,.2,.2],diffuse:[.6,.6,.6],specular:[.1,.1,.1]},hY={direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0]},hq={position:[0,0,0],direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0],constant:1,linear:0,quadratic:0,angle:14,exponent:40,blur:5};class hX{apply(e){e.hooks.beforeRender.tap("LightingPlugin",()=>{let{enableLighting:t}=e.getLayerConfig();t&&e.models.forEach(e=>e.addUniforms((0,ar.Z)({},function(e){let t={u_DirectionalLights:[,,,].fill((0,ar.Z)({},hY)),u_NumOfDirectionalLights:0,u_SpotLights:[,,,].fill((0,ar.Z)({},hq)),u_NumOfSpotLights:0};return e&&e.length||(e=[hW]),e.forEach(e=>{let{type:n="directional"}=e,r=(0,so.Z)(e,hV),i=h$[n].lights,o=h$[n].num,a=t[o];t[i][a]=(0,ar.Z)((0,ar.Z)({},t[i][a]),r),t[o]++}),t}())))})}}function hK(e){return e.map(e=>("string"==typeof e&&(e=[e,{}]),e))}function hQ(e,t,n,r){let i=e.multiPassRenderer;return i.add(r("render")),hK(t).forEach(e=>{let[t,r]=e;i.add(n(t),r)}),i.add(n("copy")),i}class hJ{constructor(){(0,ai.Z)(this,"enabled",void 0)}apply(e,{rendererService:t,postProcessingPassFactory:n,normalPassFactory:r}){e.hooks.init.tapPromise("MultiPassRendererPlugin",()=>{let{enableMultiPassRenderer:t,passes:i=[]}=e.getLayerConfig();this.enabled=!!t&&!1!==e.getLayerConfig().enableMultiPassRenderer,this.enabled&&(e.multiPassRenderer=hQ(e,i,n,r),e.multiPassRenderer.setRenderFlag(!0))}),e.hooks.beforeRender.tap("MultiPassRendererPlugin",()=>{if(this.enabled){let{width:n,height:r}=t.getViewportSize();e.multiPassRenderer.resize(n,r)}})}}let h0={POSITION:0,POSITION_64LOW:1,COLOR:2,PICKING_COLOR:3,STROKE:4,OPACITY:5,OFFSETS:6,ROTATION:7,MAX:8},{isNumber:h1}=nu,h2={NONE:0,ENCODE:1,HIGHLIGHT:2};class h3{constructor(){(0,ai.Z)(this,"pickingUniformMap",void 0)}pickOption2Array(){let e=[];return this.pickingUniformMap.forEach(t=>{h1(t)?e.push(t):e.push(...t)}),e}updatePickOption(e,t){Object.keys(e).forEach(t=>{this.pickingUniformMap.set(t,e[t])});let n=t.getLayerConfig().pickingBuffer||0,r=Number(t.getShaderPickStat());this.pickingUniformMap.set("u_PickingBuffer",n),this.pickingUniformMap.set("u_shaderPick",r);let i=t.getPickingUniformBuffer();i.subData({offset:0,data:this.pickOption2Array()})}apply(e,{styleAttributeService:t}){this.pickingUniformMap=new Map([["u_HighlightColor",[1,0,0,1]],["u_SelectColor",[1,0,0,1]],["u_PickingColor",[0,0,0]],["u_PickingStage",0],["u_CurrentSelectedId",[0,0,0]],["u_PickingThreshold",10],["u_PickingBuffer",0],["u_shaderPick",0],["u_activeMix",0]]),e.hooks.init.tapPromise("PixelPickingPlugin",()=>{let{enablePicking:n}=e.getLayerConfig();t.registerStyleAttribute({name:"pickingColor",type:aR.Attribute,descriptor:{name:"a_PickingColor",shaderLocation:h0.PICKING_COLOR,buffer:{data:[],type:aa.FLOAT},size:3,update:e=>{let{id:t}=e;return n?tT(t):[0,0,0]}}})}),e.hooks.beforePickingEncode.tap("PixelPickingPlugin",()=>{let{enablePicking:t}=e.getLayerConfig();t&&e.isVisible()&&(this.updatePickOption({u_PickingStage:h2.ENCODE},e),e.models.forEach(e=>e.addUniforms({u_PickingStage:h2.ENCODE})))}),e.hooks.afterPickingEncode.tap("PixelPickingPlugin",()=>{let{enablePicking:t}=e.getLayerConfig();t&&e.isVisible()&&(this.updatePickOption({u_PickingStage:h2.HIGHLIGHT},e),e.models.forEach(e=>e.addUniforms({u_PickingStage:h2.HIGHLIGHT})))}),e.hooks.beforeHighlight.tap("PixelPickingPlugin",t=>{let{highlightColor:n,activeMix:r=0}=e.getLayerConfig(),i="string"==typeof n?tE(n):n||[1,0,0,1];e.updateLayerConfig({pickedFeatureID:t_(new Uint8Array(t))});let o={u_PickingStage:h2.HIGHLIGHT,u_PickingColor:t,u_HighlightColor:i.map(e=>255*e),u_activeMix:r};this.updatePickOption(o,e),e.models.forEach(e=>e.addUniforms(o))}),e.hooks.beforeSelect.tap("PixelPickingPlugin",t=>{let{selectColor:n,selectMix:r=0}=e.getLayerConfig(),i="string"==typeof n?tE(n):n||[1,0,0,1];e.updateLayerConfig({pickedFeatureID:t_(new Uint8Array(t))});let o={u_PickingStage:h2.HIGHLIGHT,u_PickingColor:t,u_HighlightColor:i.map(e=>255*e),u_activeMix:r,u_CurrentSelectedId:t,u_SelectColor:i.map(e=>255*e)};this.updatePickOption(o,e),e.models.forEach(e=>e.addUniforms(o))})}}let h5=["mvt","geojsonvt","testTile"];class h4{apply(e,{styleAttributeService:t}){e.hooks.init.tapPromise("RegisterStyleAttributePlugin",()=>{!function(e){let t=e.getSource();return h5.includes(t.parser.type)}(e)&&this.registerBuiltinAttributes(t,e)})}registerBuiltinAttributes(e,t){if("MaskLayer"===t.type){this.registerPositionAttribute(e);return}this.registerPositionAttribute(e),this.registerColorAttribute(e)}registerPositionAttribute(e){e.registerStyleAttribute({name:"position",type:aR.Attribute,descriptor:{name:"a_Position",shaderLocation:h0.POSITION,buffer:{data:[],type:aa.FLOAT},size:3,update:(e,t,n)=>2===n.length?[n[0],n[1],0]:[n[0],n[1],n[2]]}})}registerColorAttribute(e){e.registerStyleAttribute({name:"color",type:aR.Attribute,descriptor:{name:"a_Color",shaderLocation:h0.COLOR,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:4,update:e=>{let{color:t}=e;return t&&t.length?t:[1,1,1,1]}}})}}class h6{constructor(){(0,ai.Z)(this,"cameraService",void 0),(0,ai.Z)(this,"coordinateSystemService",void 0),(0,ai.Z)(this,"rendererService",void 0),(0,ai.Z)(this,"mapService",void 0),(0,ai.Z)(this,"layerService",void 0)}apply(e,{rendererService:t,mapService:n,layerService:r,coordinateSystemService:i,cameraService:o}){let a;this.rendererService=t,this.mapService=n,this.layerService=r,this.coordinateSystemService=i,this.cameraService=o,this.rendererService.uniformBuffers[0]||(a=this.rendererService.createBuffer({data:new Float32Array(92),isUBO:!0,label:"renderUniformBuffer"}),this.rendererService.uniformBuffers[0]=a),e.hooks.beforeRender.tap("ShaderUniformPlugin",()=>{let t=e.getLayerConfig().tileOrigin;this.coordinateSystemService.refresh(t);let{width:n,height:r}=this.rendererService.getViewportSize(),{data:i,uniforms:o}=this.generateUBO(n,r);if(this.layerService.alreadyInRendering&&this.rendererService.uniformBuffers[0]){let e=this.rendererService.uniformBuffers[0];e.subData({offset:0,data:i})}let a=this.rendererService.queryVerdorInfo();"WebGL1"===a&&e.models.forEach(t=>{t.addUniforms((0,ar.Z)((0,ar.Z)({},o),{},{u_PickingBuffer:e.getLayerConfig().pickingBuffer||0,u_shaderPick:Number(e.getShaderPickStat())}))})})}generateUBO(e,t){let n=this.cameraService.getProjectionMatrix(),r=this.cameraService.getViewMatrix(),i=this.cameraService.getViewProjectionMatrix(),o=this.cameraService.getModelMatrix(),a=this.coordinateSystemService.getViewportCenterProjection(),s=this.coordinateSystemService.getPixelsPerDegree(),l=this.cameraService.getZoom(),c=this.coordinateSystemService.getPixelsPerDegree2(),u=this.cameraService.getZoomScale(),d=this.coordinateSystemService.getPixelsPerMeter(),p=this.coordinateSystemService.getCoordinateSystem(),h=this.cameraService.getCameraPosition(),f=window.devicePixelRatio,g=this.coordinateSystemService.getViewportCenter(),m=[e,t],b=this.cameraService.getFocalDistance(),v=[...r,...n,...i,...o,...a,...s,l,...c,u,...d,p,...h,f,...g,...m,b,0,0,0];return{data:v,uniforms:{[ay.ProjectionMatrix]:n,[ay.ViewMatrix]:r,[ay.ViewProjectionMatrix]:i,[ay.Zoom]:l,[ay.ZoomScale]:u,[ay.FocalDistance]:b,[ay.CameraPosition]:h,[aT.CoordinateSystem]:p,[aT.ViewportCenter]:g,[aT.ViewportCenterProjection]:a,[aT.PixelsPerDegree]:s,[aT.PixelsPerDegree2]:c,[aT.PixelsPerMeter]:d,u_ViewportSize:m,u_ModelMatrix:o,u_DevicePixelRatio:f}}}}class h7{apply(e){e.hooks.beforeRender.tap("UpdateModelPlugin",()=>{e.layerModel&&e.layerModel.needUpdate().then(t=>{t&&e.renderLayers()})}),e.hooks.afterRender.tap("UpdateModelPlugin",()=>{e.layerModelNeedUpdate=!1})}}class h8{apply(e,{styleAttributeService:t}){e.hooks.init.tapPromise("UpdateStyleAttributePlugin",()=>{this.initStyleAttribute(e,{styleAttributeService:t})}),e.hooks.beforeRender.tap("UpdateStyleAttributePlugin",()=>{!e.layerModelNeedUpdate&&e.inited&&this.updateStyleAttribute(e,{styleAttributeService:t})})}updateStyleAttribute(e,{styleAttributeService:t}){let n=t.getLayerStyleAttributes()||[],r=t.getLayerStyleAttribute("filter");if(r&&r.needRegenerateVertices){e.layerModelNeedUpdate=!0,n.forEach(e=>e.needRegenerateVertices=!1);return}n.filter(e=>e.needRegenerateVertices).forEach(n=>{t.updateAttributeByFeatureRange(n.name,e.getEncodedData(),n.featureRange.startIndex,n.featureRange.endIndex,e),n.needRegenerateVertices=!1})}initStyleAttribute(e,{styleAttributeService:t}){let n=t.getLayerStyleAttributes()||[];n.filter(e=>e.needRegenerateVertices).forEach(n=>{t.updateAttributeByFeatureRange(n.name,e.getEncodedData(),n.featureRange.startIndex,n.featureRange.endIndex),n.needRegenerateVertices=!1})}}let h9={[aA.additive]:{enable:!0,func:{srcRGB:aa.ONE,dstRGB:aa.ONE,srcAlpha:1,dstAlpha:1}},[aA.none]:{enable:!1},[aA.normal]:{enable:!0,func:{srcRGB:aa.SRC_ALPHA,dstRGB:aa.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}},[aA.subtractive]:{enable:!0,func:{srcRGB:aa.ONE,dstRGB:aa.ONE,srcAlpha:aa.ZERO,dstAlpha:aa.ONE_MINUS_SRC_COLOR},equation:{rgb:aa.FUNC_SUBTRACT,alpha:aa.FUNC_SUBTRACT}},[aA.max]:{enable:!0,func:{srcRGB:aa.ONE,dstRGB:aa.ONE},equation:{rgb:aa.MAX_EXT}},[aA.min]:{enable:!0,func:{srcRGB:aa.ONE,dstRGB:aa.ONE},equation:{rgb:aa.MIN_EXT}}};class fe{constructor(e){(0,ai.Z)(this,"layer",void 0),this.layer=e}pickRender(e){let t=this.layer.getContainer(),n=t.layerService,r=this.layer;if(r.tileLayer)return r.tileLayer.pickRender(e);r.hooks.beforePickingEncode.call(),n.renderTileLayerMask(r),r.renderModels({ispick:!0}),r.hooks.afterPickingEncode.call()}pick(e,t){var n=this;return(0,aZ.Z)(function*(){let r=n.layer.getContainer(),i=r.pickingService;return"RasterLayer"===e.type?n.pickRasterLayer(e,t):(n.pickRender(t),i.pickFromPickingFBO(e,t))})()}pickRasterLayer(e,t,n){let r=this.layer.getContainer(),i=r.pickingService,o=r.mapService,a=this.layer.getSource().extent,s=nJ(t.lngLat,a),l={x:t.x,y:t.y,type:t.type,lngLat:t.lngLat,target:t,rasterValue:null},c=n||e;if(!s)return l.type="mousemove"===t.type?"mouseout":"un"+t.type,i.triggerHoverOnLayer(c,(0,ar.Z)((0,ar.Z)({},l),{},{type:"unpick"})),i.triggerHoverOnLayer(c,l),!1;{let n=this.readRasterValue(e,a,o,t.x,t.y);return l.rasterValue=n,i.triggerHoverOnLayer(c,l),!0}}readRasterValue(e,t,n,r,i){let o=e.getSource().data.dataArray[0],[a=0,s=0,l=10,c=-10]=t,u=n.lngLatToContainer([a,s]),d=n.lngLatToContainer([l,c]),p=d.x-u.x,h=u.y-d.y,f=[(r-u.x)/p,(i-d.y)/h],g=o.width||1,m=o.height||1,b=Math.floor(f[0]*g),v=Math.floor(f[1]*m),y=Math.max(0,v-1)*g+b,E=o.data[y];return E}selectFeature(e){let t=this.layer,[n,r,i]=e;t.hooks.beforeSelect.call([n,r,i])}highlightPickedFeature(e){let[t,n,r]=e;this.layer.hooks.beforeHighlight.call([t,n,r])}getFeatureById(e){return this.layer.getSource().getFeatureById(e)}}class ft{constructor(e){(0,ai.Z)(this,"layer",void 0),(0,ai.Z)(this,"rendererService",void 0),(0,ai.Z)(this,"colorTexture",void 0),(0,ai.Z)(this,"key",void 0),this.layer=e;let t=this.layer.getContainer();this.rendererService=t.rendererService}getColorTexture(e,t){let n=this.getTextureKey(e,t);return this.key===n||(this.createColorTexture(e,t),this.key=n),this.colorTexture}createColorTexture(e,t){let{createTexture2D:n}=this.rendererService,r=this.getColorRampBar(e,t),i=n({data:new Uint8Array(r.data),width:r.width,height:r.height,flipY:!1,unorm:!0});return this.colorTexture=i,i}setColorTexture(e,t,n){this.key=this.getTextureKey(t,n),this.colorTexture=e}destroy(){var e;null===(e=this.colorTexture)||void 0===e||e.destroy()}getColorRampBar(e,t){switch(e.type){case"cat":return tA(e);case"quantize":return tC(e);case"custom":return tw(e,t);case"linear":return tS(e,t);default:return tx(e)}}getTextureKey(e,t){var n;return`${e.colors.join("_")}_${null==e||null===(n=e.positions)||void 0===n?void 0:n.join("_")}_${e.type}_${null==t?void 0:t.join("_")}`}}let fn=["passes"],fr=["moduleName","vertexShader","fragmentShader","defines","inject","triangulation","styleOption","pickingEnabled"],{isEqual:fi,isFunction:fo,isNumber:fa,isObject:fs,isPlainObject:fl,isUndefined:fc}=nu,fu=0;class fd extends rU.EventEmitter{get shaderModuleService(){return this.container.shaderModuleService}get cameraService(){return this.container.cameraService}get coordinateService(){return this.container.coordinateSystemService}get iconService(){return this.container.iconService}get fontService(){return this.container.fontService}get pickingService(){return this.container.pickingService}get rendererService(){return this.container.rendererService}get layerService(){return this.container.layerService}get debugService(){return this.container.debugService}get interactionService(){return this.container.interactionService}get mapService(){var e;return null===(e=this.container)||void 0===e?void 0:e.mapService}get normalPassFactory(){return this.container.normalPassFactory}constructor(e={}){super(),(0,ai.Z)(this,"id",`${fu++}`),(0,ai.Z)(this,"name",`${fu}`),(0,ai.Z)(this,"parent",void 0),(0,ai.Z)(this,"coordCenter",void 0),(0,ai.Z)(this,"type",void 0),(0,ai.Z)(this,"visible",!0),(0,ai.Z)(this,"zIndex",0),(0,ai.Z)(this,"minZoom",void 0),(0,ai.Z)(this,"maxZoom",void 0),(0,ai.Z)(this,"inited",!1),(0,ai.Z)(this,"layerModelNeedUpdate",!1),(0,ai.Z)(this,"pickedFeatureID",null),(0,ai.Z)(this,"selectedFeatureID",null),(0,ai.Z)(this,"styleNeedUpdate",!1),(0,ai.Z)(this,"rendering",void 0),(0,ai.Z)(this,"forceRender",!1),(0,ai.Z)(this,"clusterZoom",0),(0,ai.Z)(this,"layerType",void 0),(0,ai.Z)(this,"triangulation",void 0),(0,ai.Z)(this,"layerPickService",void 0),(0,ai.Z)(this,"textureService",void 0),(0,ai.Z)(this,"defaultSourceConfig",{data:[],options:{parser:{type:"json"}}}),(0,ai.Z)(this,"dataState",{dataSourceNeedUpdate:!1,dataMappingNeedUpdate:!1,filterNeedUpdate:!1,featureScaleNeedUpdate:!1,StyleAttrNeedUpdate:!1}),(0,ai.Z)(this,"hooks",{init:new sK,afterInit:new sq,beforeRender:new sq,beforeRenderData:new sQ,afterRender:new sH,beforePickingEncode:new sH,afterPickingEncode:new sH,beforeHighlight:new sH(["pickedColor"]),afterHighlight:new sH,beforeSelect:new sH(["pickedColor"]),afterSelect:new sH,beforeDestroy:new sH,afterDestroy:new sH}),(0,ai.Z)(this,"models",[]),(0,ai.Z)(this,"multiPassRenderer",void 0),(0,ai.Z)(this,"plugins",void 0),(0,ai.Z)(this,"startInit",!1),(0,ai.Z)(this,"sourceOption",void 0),(0,ai.Z)(this,"layerModel",void 0),(0,ai.Z)(this,"shapeOption",void 0),(0,ai.Z)(this,"tileLayer",void 0),(0,ai.Z)(this,"layerChildren",[]),(0,ai.Z)(this,"masks",[]),(0,ai.Z)(this,"configService",lE),(0,ai.Z)(this,"styleAttributeService",void 0),(0,ai.Z)(this,"layerSource",void 0),(0,ai.Z)(this,"postProcessingPassFactory",void 0),(0,ai.Z)(this,"animateOptions",{enable:!1}),(0,ai.Z)(this,"container",void 0),(0,ai.Z)(this,"encodedData",void 0),(0,ai.Z)(this,"currentPickId",null),(0,ai.Z)(this,"rawConfig",void 0),(0,ai.Z)(this,"needUpdateConfig",void 0),(0,ai.Z)(this,"encodeStyleAttribute",{}),(0,ai.Z)(this,"enableShaderEncodeStyles",[]),(0,ai.Z)(this,"enableDataEncodeStyles",[]),(0,ai.Z)(this,"pendingStyleAttributes",[]),(0,ai.Z)(this,"scaleOptions",{}),(0,ai.Z)(this,"animateStartTime",void 0),(0,ai.Z)(this,"animateStatus",!1),(0,ai.Z)(this,"isDestroyed",!1),(0,ai.Z)(this,"uniformBuffers",[]),(0,ai.Z)(this,"encodeDataLength",0),(0,ai.Z)(this,"sourceEvent",()=>{this.dataState.dataSourceNeedUpdate=!0;let e=this.getLayerConfig();e&&e.autoFit&&this.fitBounds(e.fitBoundsOptions);let t=this.layerSource.getSourceCfg().autoRender;t&&setTimeout(()=>{this.reRender()},10)}),this.name=e.name||this.id,this.zIndex=e.zIndex||0,this.rawConfig=e,this.masks=e.maskLayers||[]}addMask(e){this.masks.push(e),this.updateLayerConfig({maskLayers:this.masks}),this.enableMask()}removeMask(e){let t=this.masks.indexOf(e);t>-1&&this.masks.splice(t,1),this.updateLayerConfig({maskLayers:this.masks})}disableMask(){this.updateLayerConfig({enableMask:!1})}enableMask(){this.updateLayerConfig({enableMask:!0})}addMaskLayer(e){this.masks.push(e)}removeMaskLayer(e){let t=this.masks.indexOf(e);t>-1&&this.masks.splice(t,1),e.destroy()}getAttribute(e){return this.styleAttributeService.getLayerStyleAttribute(e)}getLayerConfig(){return this.configService.getLayerConfig(this.id)}updateLayerConfig(e){if(Object.keys(e).map(t=>{t in this.rawConfig&&(this.rawConfig[t]=e[t])}),this.startInit){let t=this.container.id;this.configService.setLayerConfig(t,this.id,(0,ar.Z)((0,ar.Z)((0,ar.Z)({},this.configService.getLayerConfig(this.id)),this.needUpdateConfig),e)),this.needUpdateConfig={}}else this.needUpdateConfig=(0,ar.Z)((0,ar.Z)({},this.needUpdateConfig),e)}setContainer(e){this.container=e}getContainer(){return this.container}addPlugin(e){return this.plugins.push(e),this}init(){var e=this;return(0,aZ.Z)(function*(){let t=e.container.id;e.startInit=!0,e.configService.setLayerConfig(t,e.id,e.rawConfig),e.layerType=e.rawConfig.layerType;let{enableMultiPassRenderer:n,passes:r}=e.getLayerConfig();for(let t of(n&&null!=r&&r.length&&r.length>0&&e.mapService.on("mapAfterFrameChange",()=>{e.renderLayers()}),e.postProcessingPassFactory=e.container.postProcessingPassFactory,e.styleAttributeService=e.container.styleAttributeService,n&&(e.multiPassRenderer=e.container.multiPassRenderer,e.multiPassRenderer.setLayer(e)),e.pendingStyleAttributes.forEach(({attributeName:t,attributeField:n,attributeValues:r,updateOptions:i})=>{e.styleAttributeService.updateStyleAttribute(t,{scale:(0,ar.Z)({field:n},e.splitValuesAndCallbackInAttribute(r,n?void 0:e.getLayerConfig()[t]))},i)}),e.pendingStyleAttributes=[],e.plugins=[new uX,new h4,new hz,new uq,new hG,new hj,new h8,new h7,new hJ,new h6,new hZ,new hX,new h3,new hH],e.plugins))t.apply(e,e.container);e.layerPickService=new fe(e),e.textureService=new ft(e),e.log(ax.LayerInitStart),yield e.hooks.init.promise(),e.log(ax.LayerInitEnd),e.inited=!0,e.emit("inited",{target:e,type:"inited"}),e.emit("add",{target:e,type:"add"}),e.hooks.afterInit.call()})()}log(e,t="init"){var n;if(this.tileLayer||this.isTileLayer)return;let r=`${this.id}.${t}.${e}`,i={id:this.id,type:this.type};null===(n=this.debugService)||void 0===n||n.log(r,i)}updateModelData(e){e.attributes&&e.elements?this.models.map(t=>{t.updateAttributesAndElements(e.attributes,e.elements)}):console.warn("data error")}setLayerPickService(e){this.layerPickService=e}prepareBuildModel(){0!==Object.keys(this.needUpdateConfig||{}).length&&this.updateLayerConfig({});let{animateOption:e}=this.getLayerConfig();null!=e&&e.enable&&(this.layerService.startAnimate(),this.animateStatus=!0)}color(e,t,n){return this.updateStyleAttribute("color",e,t,n),this}texture(e,t,n){return this.updateStyleAttribute("texture",e,t,n),this}rotate(e,t,n){return this.updateStyleAttribute("rotate",e,t,n),this}size(e,t,n){return this.updateStyleAttribute("size",e,t,n),this}filter(e,t,n){let r=this.updateStyleAttribute("filter",e,t,n);return this.dataState.dataSourceNeedUpdate=r&&this.inited,this}shape(e,t,n){this.shapeOption={field:e,values:t};let r=this.updateStyleAttribute("shape",e,t,n);return this.dataState.dataSourceNeedUpdate=r&&this.inited,this}label(e,t,n){return this.pendingStyleAttributes.push({attributeName:"label",attributeField:e,attributeValues:t,updateOptions:n}),this}animate(e){let t={};return fs(e)?(t.enable=!0,t=(0,ar.Z)((0,ar.Z)({},t),e)):t.enable=e,this.updateLayerConfig({animateOption:t}),this}source(e,t){return(null==e?void 0:e.type)==="source"?(this.setSource(e),this):(this.sourceOption={data:e,options:t},this.clusterZoom=0,this)}setData(e,t){return this.inited?(this.dataUpdatelog(),this.layerSource.setData(e,t)):this.on("inited",()=>{this.dataUpdatelog(),this.layerSource.setData(e,t)}),this}dataUpdatelog(){this.log(ax.SourceInitStart,aO.UPDATE),this.layerSource.once("update",()=>{this.log(ax.SourceInitEnd,aO.UPDATE)})}style(e){let{passes:t}=e,n=(0,so.Z)(e,fn);return t&&hK(t).forEach(e=>{let t=this.multiPassRenderer.getPostProcessor().getPostProcessingPassByName(e[0]);t&&t.updateOptions(e[1])}),n.borderColor&&(n.stroke=n.borderColor),n.borderWidth&&(n.strokeWidth=n.borderWidth),Object.keys(n).forEach(e=>{let t=n[e];!Array.isArray(t)||2!==t.length||fa(t[0])||fa(t[1])||(n[e]={field:t[0],value:t[1]})}),this.encodeStyle(n),this.updateLayerConfig(n),this}encodeStyle(e){Object.keys(e).forEach(t=>{[...this.enableShaderEncodeStyles,...this.enableDataEncodeStyles].includes(t)&&fl(e[t])&&(e[t].field||e[t].value)&&!fi(this.encodeStyleAttribute[t],e[t])?(this.encodeStyleAttribute[t]=e[t],this.updateStyleAttribute(t,e[t].field,e[t].value),this.inited&&(this.dataState.dataMappingNeedUpdate=!0)):this.encodeStyleAttribute[t]&&(delete this.encodeStyleAttribute[t],this.dataState.dataSourceNeedUpdate=!0)})}scale(e,t){let n=(0,ar.Z)({},this.scaleOptions);if(fs(e)?this.scaleOptions=(0,ar.Z)((0,ar.Z)({},this.scaleOptions),e):this.scaleOptions[e]=t,this.styleAttributeService&&!fi(n,this.scaleOptions)){let n=fs(e)?e:{[e]:t};this.styleAttributeService.updateScaleAttribute(n)}return this}renderLayers(){this.rendering=!0,this.layerService.reRender(),this.rendering=!1}prerender(){}render(e={}){return this.tileLayer?(this.tileLayer.render(),this):(this.layerService.beforeRenderData(this),this.encodeDataLength<=0&&!this.forceRender||this.renderModels(e),this)}renderMultiPass(){var e=this;return(0,aZ.Z)(function*(){(!(e.encodeDataLength<=0)||e.forceRender)&&(e.multiPassRenderer&&e.multiPassRenderer.getRenderFlag()?yield e.multiPassRenderer.render():e.renderModels())})()}active(e){let t={};return t.enableHighlight=!!fs(e)||e,fs(e)?(t.enableHighlight=!0,e.color&&(t.highlightColor=e.color),e.mix&&(t.activeMix=e.mix)):t.enableHighlight=!!e,this.updateLayerConfig(t),this}setActive(e,t){if(fs(e)){let{x:n=0,y:r=0}=e;this.updateLayerConfig({highlightColor:fs(t)?t.color:this.getLayerConfig().highlightColor,activeMix:fs(t)?t.mix:this.getLayerConfig().activeMix}),this.pick({x:n,y:r})}else this.updateLayerConfig({pickedFeatureID:e,highlightColor:fs(t)?t.color:this.getLayerConfig().highlightColor,activeMix:fs(t)?t.mix:this.getLayerConfig().activeMix}),this.hooks.beforeHighlight.call(tT(e)).then(()=>{setTimeout(()=>{this.reRender()},1)})}select(e){let t={};return t.enableSelect=!!fs(e)||e,fs(e)?(t.enableSelect=!0,e.color&&(t.selectColor=e.color),e.mix&&(t.selectMix=e.mix)):t.enableSelect=!!e,this.updateLayerConfig(t),this}setSelect(e,t){if(fs(e)){let{x:n=0,y:r=0}=e;this.updateLayerConfig({selectColor:fs(t)?t.color:this.getLayerConfig().selectColor,selectMix:fs(t)?t.mix:this.getLayerConfig().selectMix}),this.pick({x:n,y:r})}else this.updateLayerConfig({pickedFeatureID:e,selectColor:fs(t)?t.color:this.getLayerConfig().selectColor,selectMix:fs(t)?t.mix:this.getLayerConfig().selectMix}),this.hooks.beforeSelect.call(tT(e)).then(()=>{setTimeout(()=>{this.reRender()},1)})}setBlend(e){return this.updateLayerConfig({blend:e}),this.reRender(),this}show(){return this.updateLayerConfig({visible:!0}),this.reRender(),this.emit("show"),this}hide(){return this.updateLayerConfig({visible:!1}),this.reRender(),this.emit("hide"),this}setIndex(e){return this.zIndex=e,this.layerService.updateLayerRenderList(),this.layerService.renderLayers(),this}setCurrentPickId(e){this.currentPickId=e}getCurrentPickId(){return this.currentPickId}setCurrentSelectedId(e){this.selectedFeatureID=e}getCurrentSelectedId(){return this.selectedFeatureID}isVisible(){let e=this.mapService.getZoom(),{visible:t,minZoom:n=-1/0,maxZoom:r=1/0}=this.getLayerConfig();return!!t&&e>=n&&e<r}setMultiPass(e,t){if(this.updateLayerConfig({enableMultiPassRenderer:e}),t&&this.updateLayerConfig({passes:t}),e){let{passes:e=[]}=this.getLayerConfig();this.multiPassRenderer=hQ(this,e,this.postProcessingPassFactory,this.normalPassFactory),this.multiPassRenderer.setRenderFlag(!0);let{width:t,height:n}=this.rendererService.getViewportSize();this.multiPassRenderer.resize(t,n)}return this}setMinZoom(e){return this.updateLayerConfig({minZoom:e}),this}getMinZoom(){let{minZoom:e}=this.getLayerConfig();return e}getMaxZoom(){let{maxZoom:e}=this.getLayerConfig();return e}get(e){let t=this.getLayerConfig();return t[e]}setMaxZoom(e){return this.updateLayerConfig({maxZoom:e}),this}setAutoFit(e){return this.updateLayerConfig({autoFit:e}),this}fitBounds(e){if(!this.inited)return this.updateLayerConfig({autoFit:!0}),this;let t=this.getSource(),n=t.extent,r=n.some(e=>Math.abs(e)===1/0);return r||this.mapService.fitBounds([[n[0],n[1]],[n[2],n[3]]],e),this}destroy(e=!0){var t,n,r,i,o;if(this.isDestroyed)return;null===(t=this.layerModel)||void 0===t||t.uniformBuffers.forEach(e=>{e.destroy()}),this.layerChildren.map(e=>e.destroy(!1)),this.layerChildren=[];let{maskfence:a}=this.getLayerConfig();a&&(this.masks.map(e=>e.destroy(!1)),this.masks=[]),this.hooks.beforeDestroy.call(),this.layerSource.off("update",this.sourceEvent),null===(n=this.multiPassRenderer)||void 0===n||n.destroy(),this.textureService.destroy(),this.styleAttributeService.clearAllAttributes(),this.hooks.afterDestroy.call(),null===(r=this.layerModel)||void 0===r||r.clearModels(e),null===(i=this.tileLayer)||void 0===i||i.destroy(),this.models=[],null===(o=this.debugService)||void 0===o||o.removeLog(this.id),this.emit("remove",{target:this,type:"remove"}),this.emit("destroy",{target:this,type:"destroy"}),this.removeAllListeners(),this.isDestroyed=!0}clear(){this.styleAttributeService.clearAllAttributes()}clearModels(){var e;this.models.forEach(e=>e.destroy()),null===(e=this.layerModel)||void 0===e||e.clearModels(),this.models=[]}isDirty(){return!!(this.styleAttributeService.getLayerStyleAttributes()||[]).filter(e=>e.needRescale||e.needRemapping||e.needRegenerateVertices).length}setSource(e){if(this.layerSource&&this.layerSource.off("update",this.sourceEvent),this.layerSource=e,this.clusterZoom=0,this.inited&&this.layerSource.cluster){let e=this.mapService.getZoom();this.layerSource.updateClusterData(e)}this.layerSource.inited&&this.sourceEvent(),this.layerSource.on("update",({type:e})=>{if(void 0===this.coordCenter){let e=this.layerSource.center;this.coordCenter=e}if("update"===e){if(this.tileLayer){this.tileLayer.reload();return}this.sourceEvent()}})}getSource(){return this.layerSource}getScaleOptions(){return this.scaleOptions}setEncodedData(e){this.encodedData=e,this.encodeDataLength=e.length}getEncodedData(){return this.encodedData}getScale(e){return this.styleAttributeService.getLayerAttributeScale(e)}getLegend(e){var t,n,r;let i=this.styleAttributeService.getLayerStyleAttribute(e),o=(null==i||null===(t=i.scale)||void 0===t?void 0:t.scalers)||[];return{type:null===(n=o[0])||void 0===n||null===(n=n.option)||void 0===n?void 0:n.type,field:null==i||null===(r=i.scale)||void 0===r?void 0:r.field,items:this.getLegendItems(e)}}getLegendItems(e){let t=this.styleAttributeService.getLayerAttributeScale(e);if(!t)return[];if(t.invertExtent){let n=t.range().map(n=>({value:t.invertExtent(n),[e]:n}));return n}if(t.ticks){let n=t.ticks().map(n=>({value:n,[e]:t(n)}));return n}if(null!=t&&t.domain){let n=t.domain().filter(e=>!fc(e)).map(n=>({value:n,[e]:t(n)}));return n}return[]}pick({x:e,y:t}){this.interactionService.triggerHover({x:e,y:t})}boxSelect(e,t){this.pickingService.boxPickLayer(this,e,t)}buildLayerModel(e){var t=this;return(0,aZ.Z)(function*(){let{moduleName:n,vertexShader:r,fragmentShader:i,defines:o,inject:a,triangulation:s,styleOption:l,pickingEnabled:c=!0}=e,u=(0,so.Z)(e,fr);t.shaderModuleService.registerModule(n,{vs:r,fs:i,defines:o,inject:a});let{vs:d,fs:p,uniforms:h}=t.shaderModuleService.getModule(n),{createModel:f}=t.rendererService;return new Promise(e=>{let{attributes:n,elements:r,count:i}=t.styleAttributeService.createAttributesAndIndices(t.encodedData,s,l,t),o=[...t.layerModel.uniformBuffers,...t.rendererService.uniformBuffers];c&&o.push(t.getPickingUniformBuffer());let a=(0,ar.Z)({attributes:n,uniforms:h,fs:p,vs:d,elements:r,blend:h9[aA.normal],uniformBuffers:o,textures:t.layerModel.textures},u);i&&(a.count=i);let g=f(a);e(g)})})()}createAttributes(e){let{triangulation:t}=e,{attributes:n}=this.styleAttributeService.createAttributes(this.encodedData,t);return n}getTime(){return this.layerService.clock.getDelta()}setAnimateStartTime(){this.animateStartTime=this.layerService.clock.getElapsedTime()}stopAnimate(){this.animateStatus&&(this.layerService.stopAnimate(),this.animateStatus=!1,this.updateLayerConfig({animateOption:{enable:!1}}))}getLayerAnimateTime(){return this.layerService.clock.getElapsedTime()-this.animateStartTime}needPick(e){let{enableHighlight:t=!0,enableSelect:n=!0}=this.getLayerConfig(),r=-1!==this.eventNames().indexOf(e)||-1!==this.eventNames().indexOf("un"+e);return("click"===e||"dblclick"===e)&&n&&(r=!0),"mousemove"===e&&(t||-1!==this.eventNames().indexOf("mouseenter")||-1!==this.eventNames().indexOf("unmousemove")||-1!==this.eventNames().indexOf("mouseout"))&&(r=!0),this.isVisible()&&r}buildModels(){return(0,aZ.Z)(function*(){throw Error("Method not implemented.")})()}rebuildModels(){var e=this;return(0,aZ.Z)(function*(){yield e.buildModels()})()}renderMulPass(e){return(0,aZ.Z)(function*(){yield e.render()})()}renderModels(e={}){return this.encodeDataLength<=0&&!this.forceRender?(this.clearModels(),this):(this.hooks.beforeRender.call(),this.models.forEach(t=>{t.draw({uniforms:this.layerModel.getUninforms(),blend:this.layerModel.getBlend(),stencil:this.layerModel.getStencil(e),textures:this.layerModel.textures},(null==e?void 0:e.ispick)||!1)}),this.hooks.afterRender.call(),this)}updateStyleAttribute(e,t,n,r){let i=this.configService.getAttributeConfig(this.id)||{};return!fi(i[e],{field:t,values:n})&&(-1!==["color","size","texture","rotate","filter","label","shape"].indexOf(e)&&this.configService.setAttributeConfig(this.id,{[e]:{field:t,values:n}}),this.startInit?this.styleAttributeService.updateStyleAttribute(e,{scale:(0,ar.Z)({field:t},this.splitValuesAndCallbackInAttribute(n,this.getLayerConfig()[t]))},r):this.pendingStyleAttributes.push({attributeName:e,attributeField:t,attributeValues:n,updateOptions:r}),!0)}getLayerAttributeConfig(){return this.configService.getAttributeConfig(this.id)}getShaderPickStat(){return this.layerService.getShaderPickStat()}setEarthTime(e){console.warn("empty fn")}processData(e){return e}getModelType(){throw Error("Method not implemented.")}getDefaultConfig(){return{}}initLayerModels(){var e=this;return(0,aZ.Z)(function*(){e.models.forEach(e=>e.destroy()),e.models=[],e.uniformBuffers.forEach(e=>{e.destroy()}),e.uniformBuffers=[];let t=e.rendererService.createBuffer({data:new Float32Array(20).fill(0),isUBO:!0,label:"pickingUniforms"});e.uniformBuffers.push(t),e.models=yield e.layerModel.initModels()})()}getPickingUniformBuffer(){return this.uniformBuffers[0]}reRender(){this.inited&&this.layerService.reRender()}splitValuesAndCallbackInAttribute(e){return{values:fo(e)?void 0:e,callback:fo(e)?e:void 0}}}function fp(e){return e.maskOperation===aw.OR?{enable:!0,mask:255,func:{cmp:aa.ALWAYS,ref:1,mask:255},opFront:{fail:aa.KEEP,zfail:aa.REPLACE,zpass:aa.REPLACE}}:{enable:!0,mask:255,func:{cmp:e.stencilType===aC.SINGLE?aa.ALWAYS:0===e.stencilIndex?aa.ALWAYS:aa.LESS,ref:e.stencilType===aC.SINGLE?1:0===e.stencilIndex?2:1,mask:255},opFront:{fail:aa.KEEP,zfail:aa.REPLACE,zpass:aa.REPLACE}}}let fh={opacity:1,stroke:[1,0,0,1],offsets:[0,0],rotation:0,extrusionBase:0,strokeOpacity:1,thetaOffset:.314},ff={opacity:"float",stroke:"vec4",offsets:"vec2",textOffset:"vec2",rotation:"float",extrusionBase:"float",strokeOpacity:"float",thetaOffset:"float"};var fg=n(75734),fm=n.n(fg);function fb(e){return Math.max(4*Math.ceil(e/4),4)}function fv(e,t,n,r=!0){let i=3===n;if(r){e=e.slice();let t=[];for(let r=0;r<e.length;r+=n){t[0]=e[r],t[1]=e[r+1],i&&(t[2]=e[r+2]);let n=n2(t,!0,{enable:!1,decimal:1});e[r]=n[0],e[r+1]=n[1],i&&(e[r+2]=n[2])}}let o=fm()(e,t,n);return o}let fy="ATTRIBUTE_LOCATION_";class fE{get attributeLocation(){return(0,ar.Z)({},h0)}constructor(e){(0,ai.Z)(this,"triangulation",void 0),(0,ai.Z)(this,"uniformBuffers",[]),(0,ai.Z)(this,"textures",[]),(0,ai.Z)(this,"createTexture2D",void 0),(0,ai.Z)(this,"preStyleAttribute",{}),(0,ai.Z)(this,"encodeStyleAttribute",{}),(0,ai.Z)(this,"layer",void 0),(0,ai.Z)(this,"dataTexture",void 0),(0,ai.Z)(this,"DATA_TEXTURE_WIDTH",void 0),(0,ai.Z)(this,"dataTextureTest",void 0),(0,ai.Z)(this,"configService",void 0),(0,ai.Z)(this,"shaderModuleService",void 0),(0,ai.Z)(this,"rendererService",void 0),(0,ai.Z)(this,"iconService",void 0),(0,ai.Z)(this,"fontService",void 0),(0,ai.Z)(this,"styleAttributeService",void 0),(0,ai.Z)(this,"mapService",void 0),(0,ai.Z)(this,"cameraService",void 0),(0,ai.Z)(this,"layerService",void 0),(0,ai.Z)(this,"pickingService",void 0),(0,ai.Z)(this,"attributeUnifoms",void 0),(0,ai.Z)(this,"commonUnifoms",void 0),this.layer=e,this.configService=e.getContainer().globalConfigService,this.rendererService=e.getContainer().rendererService,this.pickingService=e.getContainer().pickingService,this.shaderModuleService=e.getContainer().shaderModuleService,this.styleAttributeService=e.getContainer().styleAttributeService,this.mapService=e.getContainer().mapService,this.iconService=e.getContainer().iconService,this.fontService=e.getContainer().fontService,this.cameraService=e.getContainer().cameraService,this.layerService=e.getContainer().layerService,this.registerStyleAttribute(),this.registerBuiltinAttributes(),this.startModelAnimate();let{createTexture2D:t}=this.rendererService;this.createTexture2D=t}getBlend(){let{blend:e="normal"}=this.layer.getLayerConfig();return h9[aA[e]]}getStencil(e){let{mask:t=!1,maskInside:n=!0,enableMask:r,maskOperation:i=aw.AND}=this.layer.getLayerConfig();if("MaskLayer"===this.layer.type)return fp({isStencil:!0,stencilType:aC.SINGLE});if(e.isStencil)return fp((0,ar.Z)((0,ar.Z)({},e),{},{maskOperation:i}));let o=t||r&&0!==this.layer.masks.length||void 0!==this.layer.tileMask;return{enable:o,mask:255,func:{cmp:aa.EQUAL,ref:n?1:0,mask:1}}}getDefaultStyle(){return{}}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());this.updateStyleUnifoms();let n=(0,ar.Z)((0,ar.Z)({},t.uniformsOption),e.uniformsOption);return Object.keys(n).forEach(e=>{"boolean"==typeof n[e]&&(n[e]=n[e]?1:0)}),!this.rendererService.hasOwnProperty("device")&&this.textures&&1===this.textures.length&&(n.u_texture=this.textures[0]),n}getAnimateUniforms(){return{}}needUpdate(){return(0,aZ.Z)(function*(){return!1})()}buildModels(){return(0,aZ.Z)(function*(){throw Error("Method not implemented.")})()}initModels(){return(0,aZ.Z)(function*(){throw Error("Method not implemented.")})()}clearModels(e=!0){}getAttribute(){throw Error("Method not implemented.")}prerender(){}render(e){throw Error("Method not implemented.")}registerBuiltinAttributes(){throw Error("Method not implemented.")}animateOption2Array(e){return[e.enable?0:1,e.duration||4,e.interval||.2,e.trailLength||.1]}startModelAnimate(){let{animateOption:e}=this.layer.getLayerConfig();e.enable&&this.layer.setAnimateStartTime()}getInject(){let e=function(e,t){let n=[],r="";e.forEach(e=>{let i=e.replace(/([a-z])([A-Z])/g,"$1_$2").toUpperCase();t[e]?r+=`#define USE_ATTRIBUTE_${i} 0.0 
`:n.push(`  ${ff[e]} u_${e};`),r+=`
#ifdef USE_ATTRIBUTE_${i}
layout(location = ${fy+i}) in ${ff[e]} a_${e.charAt(0).toUpperCase()+e.slice(1)};
#endif 
`});let i=n.length?`
layout(std140) uniform AttributeUniforms {
  ${n.join("\n")}
};
`:"";r+=i;let o="";return e.forEach(e=>{let t=e.replace(/([a-z])([A-Z])/g,"$1_$2").toUpperCase();o+=`
  #ifdef USE_ATTRIBUTE_${t}
    ${ff[e]} ${e} = a_${e.charAt(0).toUpperCase()+e.slice(1)};
  #else
    ${ff[e]} ${e} = u_${e};
  #endif
  `}),{"vs:#decl":r,"fs:#decl":i,"vs:#main-start":o}}(this.layer.enableShaderEncodeStyles,this.layer.encodeStyleAttribute);return e}getDefines(){let e=Object.keys(this.attributeLocation).reduce((e,t)=>(e[fy+t]=this.attributeLocation[t],e),{});return(0,ar.Z)({},e)}getStyleAttribute(){let e={};return this.layer.enableShaderEncodeStyles.forEach(t=>{if(!this.layer.encodeStyleAttribute[t]){let n=this.layer.getLayerConfig()[t],r=void 0===n?fh[t]:n;"stroke"===t&&(r=tE(r)),e["u_"+t]=r}}),e}registerStyleAttribute(){Object.keys(this.layer.encodeStyleAttribute).forEach(e=>{let t=function(e){switch(e){case"rotation":return{name:"Rotation",type:aR.Attribute,descriptor:{name:"a_Rotation",shaderLocation:h0.ROTATION,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{rotation:t=0}=e;return Array.isArray(t)?[t[0]]:[t]}}};case"stroke":return{name:"stroke",type:aR.Attribute,descriptor:{name:"a_Stroke",shaderLocation:h0.STROKE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:4,update:e=>{let{stroke:t=[1,1,1,1]}=e;return t}}};case"opacity":return{name:"opacity",type:aR.Attribute,descriptor:{name:"a_Opacity",shaderLocation:h0.OPACITY,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{opacity:t=1}=e;return[t]}}};case"offsets":return{name:"offsets",type:aR.Attribute,descriptor:{name:"a_Offsets",shaderLocation:h0.OFFSETS,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:2,update:e=>{let{offsets:t}=e;return t}}};default:return}}(e);t&&this.styleAttributeService.registerStyleAttribute(t)})}registerPosition64LowAttribute(e=!0){this.styleAttributeService.registerStyleAttribute({name:"position64Low",type:aR.Attribute,descriptor:{name:"a_Position64Low",shaderLocation:this.attributeLocation.POSITION_64LOW,buffer:{data:[],type:aa.FLOAT},size:2,update:(t,n,r)=>e?[nK(r[0]),nK(r[1])]:[0,0]}})}updateEncodeAttribute(e,t){this.encodeStyleAttribute[e]=t}initUniformsBuffer(){let e=this.getUniformsBufferInfo(this.getStyleAttribute()),t=this.getCommonUniformsInfo();0!==e.uniformsLength&&(this.attributeUnifoms=this.rendererService.createBuffer({data:new Float32Array(fb(e.uniformsLength)).fill(0),isUBO:!0,label:"layerModelAttributeUnifoms"}),this.uniformBuffers.push(this.attributeUnifoms)),0!==t.uniformsLength&&(this.commonUnifoms=this.rendererService.createBuffer({data:new Float32Array(fb(t.uniformsLength)).fill(0),isUBO:!0,label:"layerModelCommonUnifoms"}),this.uniformBuffers.push(this.commonUnifoms))}getUniformsBufferInfo(e){let t=0,n=[];return Object.values(e).forEach(e=>{Array.isArray(e)?(n.push(...e),t+=e.length):"number"==typeof e?(n.push(e),t+=1):"boolean"==typeof e&&(n.push(Number(e)),t+=1)}),{uniformsOption:e,uniformsLength:t,uniformsArray:n}}getCommonUniformsInfo(){return{uniformsLength:0,uniformsArray:[],uniformsOption:{}}}updateStyleUnifoms(){var e,t;let{uniformsArray:n}=this.getUniformsBufferInfo(this.getStyleAttribute()),{uniformsArray:r}=this.getCommonUniformsInfo();null===(e=this.attributeUnifoms)||void 0===e||e.subData({offset:0,data:new Uint8Array(new Float32Array(n).buffer)}),null===(t=this.commonUnifoms)||void 0===t||t.subData({offset:0,data:new Uint8Array(new Float32Array(r).buffer)})}}let f_=((D={})[D.solid=0]="solid",D[D.dash=1]="dash",D),fT=((P={}).VERTICAL="vertical",P.HORIZONTAL="horizontal",P),fx=((F={}).NORMAL="normal",F.REPLACE="replace",F),fS=((B={})[B.pixel=0]="pixel",B[B.meter=1]="meter",B),fA=((U={}).ALWAYS="always",U.DRAGEND="dragend",U),fC={canvas2d:"2d",webgl:"webgl",webgl2:"webgl2",webgpu:"webgpu"};class fw extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"canvas",null),(0,ai.Z)(this,"ctx",void 0),(0,ai.Z)(this,"ctxType",void 0),(0,ai.Z)(this,"viewportSize",void 0),(0,ai.Z)(this,"initCanvas",()=>{var e,t,n,r,i;let{zIndex:o,getContext:a}=this.layerConfig,s=document.createElement("canvas"),l=this.layer.getModelType();this.canvas=s,s.classList.add("l7-canvas-layer"),s.style.position="absolute",s.style.top="0",s.style.left="0",s.style.zIndex=String(o),this.resetCanvasSize();let c=null!==(e=null===(t=(n=this.mapService).getCanvasOverlays)||void 0===t?void 0:t.call(n))&&void 0!==e?e:null===(r=(i=this.mapService).getMapCanvasContainer)||void 0===r?void 0:r.call(i);null==c||c.appendChild(s),this.ctx=a?a(s):s.getContext(fC[l]),this.ctx||console.error("Failed to get rendering context for canvas"),this.bindListeners()}),(0,ai.Z)(this,"resetViewportSize",()=>{let{width:e,height:t}=this.rendererService.getViewportSize();this.viewportSize=[e,t]}),(0,ai.Z)(this,"resetCanvasSize",()=>{let e=this.canvas;if(!e)return;this.resetViewportSize();let[t,n]=this.mapService.getSize(),[r,i]=this.viewportSize;e.width=r,e.height=i,e.style.width=t+"px",e.style.height=n+"px"}),(0,ai.Z)(this,"renderCanvas",()=>{var e;this.canvas||this.initCanvas();let{draw:t,drawingOnCanvas:n}=this.layerConfig,[r,i]=this.viewportSize,o=this.mapService.getBounds();null===(e=null!=t?t:n)||void 0===e||e({canvas:this.canvas,ctx:this.ctx,container:{width:r,height:i,bounds:o},size:[r,i],utils:{lngLatToContainer:this.lngLatToContainer},mapService:this.mapService})}),(0,ai.Z)(this,"removeCanvas",()=>{if(this.canvas){var e;null===(e=this.canvas.parentElement)||void 0===e||e.removeChild(this.canvas),this.canvas=null}this.unbindListeners()}),(0,ai.Z)(this,"onMapResize",()=>{requestAnimationFrame(()=>{this.resetCanvasSize(),this.renderCanvas()})}),(0,ai.Z)(this,"lngLatToContainer",e=>{let{x:t,y:n}=this.mapService.lngLatToContainer(e);return{x:t*window.devicePixelRatio,y:n*window.devicePixelRatio}})}get layerConfig(){return this.layer.getLayerConfig()}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.renderCanvas(),[]})()}bindListeners(){this.mapService.on("resize",this.onMapResize);let{trigger:e,update:t}=this.layerConfig;t===fA.ALWAYS||"change"===e?this.mapService.on("mapchange",this.renderCanvas):(this.mapService.on("zoomstart",this.removeCanvas),this.mapService.on("zoomend",this.renderCanvas),this.mapService.on("movestart",this.removeCanvas),this.mapService.on("moveend",this.renderCanvas))}unbindListeners(){this.mapService.off("resize",this.onMapResize),this.mapService.off("mapchange",this.renderCanvas),this.mapService.off("zoomstart",this.removeCanvas),this.mapService.off("zoomend",this.renderCanvas),this.mapService.off("movestart",this.removeCanvas),this.mapService.off("moveend",this.renderCanvas)}registerBuiltinAttributes(){}}class fO extends fd{constructor(...e){super(...e),(0,ai.Z)(this,"type","CanvasLayer")}getDefaultConfig(){return{zIndex:3,contextType:"canvas2d",trigger:"change"}}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.layerModel=new fw(e),yield e.initLayerModels()})()}getModelType(){return this.getLayerConfig().contextType||"canvas2d"}draw(e){return this.updateLayerConfig({draw:e}),this.render(),this}getLayerConfig(){let e=(0,ar.Z)((0,ar.Z)({},this.getDefaultConfig()),super.getLayerConfig());return e.zIndex<3&&(e.zIndex=3),e}render(){var e;return null===(e=this.layerModel)||void 0===e||e.renderCanvas(),this}getCanvas(){var e;return null===(e=this.layerModel)||void 0===e?void 0:e.canvas}show(){let e=this.getCanvas();return e&&(e.style.display="unset"),this}hide(){let e=this.getCanvas();return e&&(e.style.display="none"),this}destroy(){this.layerModel.removeCanvas(),super.destroy()}}var fI=n(54442);function fL(e){return e/180*Math.acos(-1)}function fR(e){let t=fL(e[0])+Math.PI/2,n=fL(e[1]),r=100+.4*Math.random(),i=r*Math.cos(n)*Math.cos(t),o=r*Math.cos(n)*Math.sin(t),a=r*Math.sin(n);return[o,a,i]}function fk(e,t){let n=aH.create(),r=aH.create(),i=fI.al(0,1,0),o=fI.al(0,0,0);t=t||{},e=void 0!==e?e:1;let a=void 0!==t.segments?t.segments:32,s=2+a,l=2*s,c=[],u=[],d=[],p=[],h=[],f=[];for(let t=0;t<=s;t++){let a=t/s,g=a*Math.PI;for(let t=0;t<=l;t++){let s=t/l,c=s*Math.PI*2;aH.identity(r),aH.rotateZ(r,r,-g),aH.identity(n),aH.rotateY(n,n,c),fI.fF(o,i,r),fI.fF(o,o,n),fI.bA(o,o,-e),d.push(o.slice()),p.push(...o.slice()),fI.Fv(o,o),h.push(...o.slice()),f.push([s,1-a]),p.push(s,1-a)}if(t>0){let e=d.length,t=e-2*(l+1);for(;t+l+2<e;t++)c.push([t,t+1,t+l+1]),u.push(t,t+1,t+l+1),c.push([t+l+1,t+1,t+l+2]),u.push(t+l+1,t+1,t+l+2)}}return{cells:c,positions:d,uvs:f,positionsArr:p,indicesArr:u,normalArr:h}}var fN=n(38015);let fM=fN.Ue();fN.Ue();let fD=fN.Ue(),fP=fN.Ue(),fF=fN.Ue();function fB(e,t,n,r,i){fN.IH(e,n,r),fN.Fv(e,e),t=fN.al(-e[1],e[0]);let o=fN.al(-n[1],n[0]);return[i/fN.AK(t,o),t]}function fU(e,t){return fN.t8(e,-t[1],t[0])}function fz(e,t,n){return fN.lu(e,t,n),fN.Fv(e,e),e}function fZ(e,t){return e[0]===t[0]&&e[1]===t[1]}class fj{constructor(e={}){(0,ai.Z)(this,"complex",void 0),(0,ai.Z)(this,"join",void 0),(0,ai.Z)(this,"cap",void 0),(0,ai.Z)(this,"miterLimit",void 0),(0,ai.Z)(this,"thickness",void 0),(0,ai.Z)(this,"normal",void 0),(0,ai.Z)(this,"lastFlip",-1),(0,ai.Z)(this,"miter",fN.al(0,0)),(0,ai.Z)(this,"started",!1),(0,ai.Z)(this,"dash",!1),(0,ai.Z)(this,"totalDistance",0),(0,ai.Z)(this,"currentIndex",0),this.join=e.join||"miter",this.cap=e.cap||"butt",this.miterLimit=e.miterLimit||10,this.thickness=e.thickness||1,this.dash=e.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0,indexes:[]}}simpleExtrude(e){let t=this.complex;if(e.length<=1)return t;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;let n=e.length,r=t.startIndex;for(let i=1;i<n;i++){let n=e[i-1],o=e[i],a=i<e.length-1?e[i+1]:null,s=this.simpleSegment(t,r,n,o,a);r+=s}if(this.dash)for(let e=0;e<t.positions.length/6;e++)t.positions[6*e+5]=this.totalDistance;return t.startIndex=t.positions.length/6,t}extrude(e){let t=this.complex;if(e.length<=1)return t;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;let n=e.length,r=t.startIndex;for(let i=1;i<n;i++){let n=e[i-1],o=e[i],a=i<e.length-1?e[i+1]:null,s=this.segment(t,r,n,o,a);r+=s}if(this.dash)for(let e=0;e<t.positions.length/6;e++)t.positions[6*e+5]=this.totalDistance;return t.startIndex=t.positions.length/6,t}simpleSegment(e,t,n,r,i){let o=0,a=e.indices,s=e.positions,l=e.normals,c=n7([r[0],r[1]]),u=n7([n[0],n[1]]);fz(fD,c,u);let d=0;if(this.dash&&(d=this.lineSegmentDistance(c,u),this.totalDistance+=d),this.normal||(this.normal=fN.Ue(),fU(this.normal,fD)),this.started||(this.started=!0,this.extrusions(s,l,n,this.normal,this.thickness,this.totalDistance-d)),a.push(t+0,t+1,t+2),i){let e=n7([i[0],i[1]]);fZ(c,e)&&fN.IH(e,c,fN.Fv(e,fN.$X(e,c,u))),fz(fP,e,c);let[n,d]=fB(fF,fN.Ue(),fD,fP,this.thickness),p=0>fN.AK(fF,this.normal)?-1:1;this.extrusions(s,l,r,d,n,this.totalDistance),a.push(...1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3]),p=-1,fN.JG(this.normal,d),o+=2,this.lastFlip=p}else fU(this.normal,fD),this.extrusions(s,l,r,this.normal,this.thickness,this.totalDistance),a.push(...1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3]),o+=2;return o}segment(e,t,n,r,i){let o=0,a=e.indices,s=e.positions,l=e.normals,c="square"===this.cap,u="bevel"===this.join,d=n7([r[0],r[1]]),p=n7([n[0],n[1]]);fz(fD,d,p);let h=0;if(this.dash&&(h=this.lineSegmentDistance(d,p),this.totalDistance+=h),this.normal||(this.normal=fN.Ue(),fU(this.normal,fD)),!this.started){if(this.started=!0,c){let e=fN.Ue(),t=fN.Ue();fN.IH(e,this.normal,fD),fN.IH(t,this.normal,fD),l.push(t[0],t[1],0),l.push(e[0],e[1],0),s.push(n[0],n[1],0|n[2],this.totalDistance-h,-this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),s.push(n[0],n[1],0|n[2],this.totalDistance-h,this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(s,l,n,this.normal,this.thickness,this.totalDistance-h)}if(a.push(t+0,t+1,t+2),i){let e=n7([i[0],i[1]]);fZ(d,e)&&fN.IH(e,d,fN.Fv(e,fN.$X(e,d,p))),fz(fP,e,d);let[n,c]=fB(fF,fN.Ue(),fD,fP,this.thickness),h=0>fN.AK(fF,this.normal)?-1:1,f=u;!f&&"miter"===this.join&&n>this.miterLimit&&(f=!0),f?(l.push(this.normal[0],this.normal[1],0),l.push(c[0],c[1],0),s.push(r[0],r[1],0|r[2],this.totalDistance,-this.thickness*h,0|r[2]),this.complex.indexes.push(this.currentIndex),s.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness*h,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,a.push(...this.lastFlip!==-h?[t,t+2,t+3]:[t+2,t+1,t+3]),a.push(t+2,t+3,t+4),fU(fM,fP),fN.JG(this.normal,fM),l.push(this.normal[0],this.normal[1],0),s.push(r[0],r[1],0|r[2],this.totalDistance,-this.thickness*h,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,o+=3):(this.extrusions(s,l,r,c,n,this.totalDistance),a.push(...1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3]),h=-1,fN.JG(this.normal,c),o+=2),this.lastFlip=h}else{if(fU(this.normal,fD),c){let e=fN.Ue(),t=fN.Ue();fN.lu(t,fD,this.normal),fN.IH(e,fD,this.normal),l.push(t[0],t[1],0),l.push(e[0],e[1],0),s.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),s.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(s,l,r,this.normal,this.thickness,this.totalDistance);a.push(...1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3]),o+=2}return o}extrusions(e,t,n,r,i,o){t.push(r[0],r[1],0),t.push(r[0],r[1],0),e.push(n[0],n[1],0|n[2],o,-i,0|n[2]),this.complex.indexes.push(this.currentIndex),e.push(n[0],n[1],0|n[2],o,i,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}lineSegmentDistance(e,t){let n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}}let fH=((z={}).CYLINDER="cylinder",z.SQUARECOLUMN="squareColumn",z.TRIANGLECOLUMN="triangleColumn",z.HEXAGONCOLUMN="hexagonColumn",z.PENTAGONCOLUMN="pentagonColumn",z),fG=((Z={}).CIRCLE="circle",Z.SQUARE="square",Z.TRIANGLE="triangle",Z.HEXAGON="hexagon",Z.PENTAGON="pentagon",Z);function fV(e,t=0){let n=2*Math.PI/e,r=[];for(let i=0;i<e;i++)r.push(n*i+t*Math.PI/12);let i=r.map(e=>{let t=Math.sin(e+Math.PI/4),n=Math.cos(e+Math.PI/4);return[t,n,0]});return i}function f$(){return fV(30)}function fW(){return fV(4)}function fY(){return fV(3)}function fq(){return fV(6,1)}function fX(){return fV(5)}let fK={[fG.CIRCLE]:f$,[fG.HEXAGON]:fq,[fG.TRIANGLE]:fY,[fG.SQUARE]:fW,[fG.PENTAGON]:fX,[fH.CYLINDER]:f$,[fH.HEXAGONCOLUMN]:fq,[fH.TRIANGLECOLUMN]:fY,[fH.SQUARECOLUMN]:fW,[fH.PENTAGONCOLUMN]:fX};function fQ(e,t=!1){let n=e[0][0],r=e[0][e[0].length-1];n[0]===r[0]&&n[1]===r[1]&&(e[0]=e[0].slice(0,e[0].length-1));let i=e[0].length,o=fm().flatten(e),{vertices:a,dimensions:s,holes:l}=o,c=[],u=[],d=[];for(let e=0;e<a.length/s;e++)c.push(a[e*s],a[e*s+1],1,-1,-1),d.push(0,0,1);let p=fv(a,l,s,t);u.push(...p);for(let e=0;e<i;e++){let n=o.vertices.slice(e*s,(e+1)*s),r=o.vertices.slice((e+1)*s,(e+2)*s);0===r.length&&(r=o.vertices.slice(0,s));let i=c.length/5;c.push(n[0],n[1],1,0,0,r[0],r[1],1,.1,0,n[0],n[1],0,0,.8,r[0],r[1],0,.1,.8);let a=function(e,t,n,r=!1){let i=fI.Ue(),o=fI.Ue(),a=fI.Ue();r&&(e=n2(e),t=n2(t),n=n2(n));let s=fI.al(...e),l=fI.al(...t),c=fI.al(...n);fI.lu(i,c,l),fI.lu(o,s,l),fI.kC(a,i,o);let u=fI.Ue();return fI.Fv(u,a),u}([r[0],r[1],1],[n[0],n[1],0],[n[0],n[1],1],t);d.push(...a,...a,...a,...a),u.push(...[1,2,0,3,2,1].map(e=>e+i))}return{positions:c,index:u,normals:d}}let fJ={};function f0(e){let t=rp(e.coordinates);return{vertices:[...t,...t,...t,...t],indices:[0,1,2,2,3,0],size:t.length}}function f1(e){let t=rp(e.coordinates),n=fR(t);return{vertices:[...n,...n,...n,...n],indices:[0,1,2,2,3,0],size:n.length}}function f2(e){let{shape:t}=e,{positions:n,index:r,normals:i}=function(e,t=!1){if(fJ&&fJ[e])return fJ[e];let n=fK[e]?fK[e]():fK.cylinder(),r=fQ([n],t);return fJ[e]=r,r}(t,!1);return{vertices:n,indices:r,normals:i,size:5}}function f3(e){let t=rp(e.coordinates);return{vertices:[...t],indices:[0],size:t.length}}function f5(e){let{coordinates:t}=e,n=new fj({dash:!0,join:"bevel"}),r=t;r[0]&&!Array.isArray(r[0][0])&&(r=[t]),r.forEach(e=>{n.extrude(e)});let i=n.complex;return{vertices:i.positions,indices:i.indices,normals:i.normals,indexes:i.indexes,size:6}}function f4(e){let{coordinates:t}=e,n=[];if(!Array.isArray(t[0]))return{vertices:[],indices:[],normals:[],size:6,count:0};let{results:r,totalDistance:i}=function(e){let t=e;Array.isArray(t)&&Array.isArray(t[0])&&Array.isArray(t[0][0])&&(t=e.flat());let n=0;if(t.length<2)return{results:t,totalDistance:0};{let e=[],r=f7(t[0],n);e.push(r);for(let r=1;r<t.length-1;r++){let i=f6(n7(t[r-1]),n7(t[r]));n+=i;let o=f7(t[r],n);e.push(o),e.push(o)}let i=f6(n7(t[t.length-2]),n7(t[t.length-1]));return n+=i,e.push(f7(t[t.length-1],n)),{results:e,totalDistance:n}}}(t);return r.map(e=>{n.push(e[0],e[1],e[2],e[3],0,i)}),{vertices:n,indices:[],normals:[],size:6,count:r.length}}function f6(e,t){let n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function f7(e,t){return e.length<3&&e.push(0),void 0!==t&&e.push(t),e}function f8(e){let{coordinates:t}=e,n=fm().flatten(t),{vertices:r,dimensions:i,holes:o}=n,a=fv(r,o,i);return{indices:a,vertices:r,size:i}}function f9(e){let{indices:t,vertices:n,size:r}=f8(e);return{indices:t,vertices:function(e){let t=[],{center:n,radius:r}=rh(e);for(let i=0;i<e.length;i+=2){let o=e[i],a=e[i+1];t.push(o,a,0,...n,r)}return t}(n),size:r+4}}function ge(e){let t=e.coordinates,{positions:n,index:r,normals:i}=fQ(t,!0);return{vertices:n,indices:r,normals:i,size:5}}function gt(e){let{shape:t}=e,{positions:n,index:r}=function(e){let t=fK[e]?fK[e]():fK.circle(),n=-1===["cylinder","triangleColumn","hexagonColumn","squareColumn"].indexOf(e)?function(e){let t=fm().flatten(e),n=fm()(t.vertices,t.holes,t.dimensions);return{positions:t.vertices,index:n}}([t]):function(e){let t=e[0][0],n=e[0][e[0].length-1];t[0]===n[0]&&t[1]===n[1]&&(e[0]=e[0].slice(0,e[0].length-1));let r=e[0].length,i=fm().flatten(e),{vertices:o,dimensions:a}=i,s=[],l=[];for(let e=0;e<o.length/a;e++)2===a?s.push(o[2*e],o[2*e+1],1):s.push(o[3*e],o[3*e+1],1);let c=fm()(i.vertices,i.holes,i.dimensions);l.push(...c);for(let e=0;e<r;e++){let t=i.vertices.slice(e*a,(e+1)*a),n=i.vertices.slice((e+1)*a,(e+2)*a);0===n.length&&(n=i.vertices.slice(0,a));let r=s.length/3;s.push(t[0],t[1],1,n[0],n[1],1,t[0],t[1],0,n[0],n[1],0),l.push(...[0,2,1,2,3,1].map(e=>e+r))}return{positions:s,index:l}}([t]);return n}(t);return{vertices:n,indices:r,size:3}}function gn(e){let t=e.coordinates,n=[...t[0],0,0,0,...t[1],0,1,0,...t[2],0,1,1,...t[3],0,0,1];return{vertices:n,indices:[0,1,2,0,2,3],size:5}}function gr(e,t){let{segmentNumber:n=30}=t,r=e.coordinates,i=[],o=[];for(let e=0;e<n;e++)i.push(e,1,e,r[0][0],r[0][1],r[1][0],r[1][1],e,-1,e,r[0][0],r[0][1],r[1][0],r[1][1]),e!==n-1&&o.push(...[0,1,2,1,3,2].map(t=>2*e+t));return{vertices:i,indices:o,size:7}}function gi(e){let t=e.coordinates;2===t.length&&t.push(0);let n=go(-1,1),r=go(1,1),i=go(-1,-1),o=go(1,-1),a=[...t,...n,...t,...i,...t,...o,...t,...r];return{vertices:a,indices:[0,1,2,3,0,2],size:5}}function go(e,t){return[(e+1)/2,(t+1)/2]}function ga(){let e=fk(100,{segments:36}),{positionsArr:t,indicesArr:n,normalArr:r}=e;return{vertices:t,indices:n,size:5,normals:r}}function gs(){let e=fk(140,{segments:36}),{positionsArr:t,indicesArr:n,normalArr:r}=e;return{vertices:t,indices:n,size:5,normals:r}}class gl extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"cityCenter",void 0),(0,ai.Z)(this,"cityMinSize",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:10,UV:11})}getCommonUniformsInfo(){let{opacity:e=1,baseColor:t="rgb(16,16,16)",brightColor:n="rgb(255,176,38)",windowColor:r="rgb(30,60,89)",time:i=0,sweep:o={enable:!1,sweepRadius:1,sweepColor:"rgb(255, 255, 255)",sweepSpeed:.4,sweepCenter:this.cityCenter}}=this.layer.getLayerConfig(),a={u_baseColor:tE(t),u_brightColor:tE(n),u_windowColor:tE(r),u_circleSweepColor:[...tE(o.sweepColor).slice(0,3),1],u_cityCenter:o.sweepCenter||this.cityCenter,u_circleSweep:o.enable?1:0,u_cityMinSize:this.cityMinSize*o.sweepRadius,u_circleSweepSpeed:o.sweepSpeed,u_opacity:e,u_near:0,u_far:1,u_time:this.layer.getLayerAnimateTime()||i},s=this.getUniformsBufferInfo(a);return s}calCityGeo(){let[e,t,n,r]=this.layer.getSource().extent;this.cityCenter=[(n+e)/2,(r+t)/2],this.cityMinSize=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))/4}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.calCityGeo(),e.initUniformsBuffer(),e.startModelAnimate(),e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){let t=yield e.layer.buildLayerModel({moduleName:"cityBuilding",vertexShader:'precision highp float;\n\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nout vec2 v_texCoord;\nout vec4 v_Color;\nout float v_worldDis;\n\nlayout(std140) uniform commonUniforms {\n  vec4 u_baseColor : [ 1.0, 0, 0, 1.0 ];\n  vec4 u_brightColor : [ 1.0, 0, 0, 1.0 ];\n  vec4 u_windowColor : [ 1.0, 0, 0, 1.0 ];\n  vec4 u_circleSweepColor;\n  vec2 u_cityCenter;\n  float u_circleSweep;\n  float u_cityMinSize;\n  float u_circleSweepSpeed;\n  float u_opacity: 1.0;\n  float u_near : 0;\n  float u_far : 1;\n  float u_time;\n};\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\n\nvoid main() {\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\n  vec4 project_pos = project_position(pos);\n\n   v_texCoord = a_Uv;\n\n  if(u_circleSweep > 0.0) {\n     vec2 lnglatscale = vec2(0.0);\n    lnglatscale = (a_Position.xy - u_cityCenter) * vec2(0.0, 0.135);\n    v_worldDis = length(a_Position.xy + lnglatscale - u_cityCenter);\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  float lightWeight = calc_lighting(pos);\n  // v_Color = a_Color;\n  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'precision highp float;\nlayout(std140) uniform commonUniforms {\n  vec4 u_baseColor: [ 1.0, 0, 0, 1.0 ];\n  vec4 u_brightColor: [ 1.0, 0, 0, 1.0 ];\n  vec4 u_windowColor: [ 1.0, 0, 0, 1.0 ];\n  vec4 u_circleSweepColor;\n  vec2 u_cityCenter;\n  float u_circleSweep;\n  float u_cityMinSize;\n  float u_circleSweepSpeed;\n  float u_opacity: 1.0;\n  float u_near: 0;\n  float u_far: 1;\n  float u_time;\n};\nin vec4 v_Color;\nin vec2 v_texCoord;\nin float v_worldDis;\nout vec4 outputColor;\n\n#pragma include "picking"\n#pragma include "scene_uniforms"\n\nvec3 getWindowColor(float n, float hot, vec3 brightColor, vec3 darkColor) {\n    float s = step(hot, n);\n    vec3 color = mix(brightColor,vec3(0.9,0.9,1.0),n);\n\n    return mix(darkColor, color, s);\n}\nfloat random (vec2 st) {\n    return fract(sin(dot(st.xy, vec2(12.9898,78.233)))* 43758.5453123);\n}\n\nfloat LinearizeDepth()\n{\n    float z = gl_FragCoord.z * 2.0 - 1.0;\n    return (2.0 * u_near * u_far) / (u_far + u_near - z * (u_far - u_near));\n}\n\nvec3 fog(vec3 color, vec3 fogColor, float depth){\n    float fogFactor=clamp(depth,0.0,1.0);\n    vec3 output_color=mix(fogColor,color,fogFactor);\n    return output_color;\n}\n\nfloat sdRect(vec2 p, vec2 sz) {\n  vec2 d = abs(p) - sz;\n  float outside = length(max(d, 0.));\n  float inside = min(max(d.x, d.y), 0.);\n  return outside + inside;\n}\n\nvoid main() {\n  outputColor = v_Color;\n  vec3 baseColor = u_baseColor.xyz;\n  vec3 brightColor = u_brightColor.xyz;\n  vec3 windowColor = u_windowColor.xyz;\n  float targetColId = 5.;\n  float depth = 1.0 - LinearizeDepth() / u_far * u_Zoom;\n  vec3 fogColor = vec3(23.0/255.0,31.0/255.0,51.0/255.0);\n  if(v_texCoord.x < 0.) { //顶部颜色\n       vec3 foggedColor = fog(baseColor.xyz + vec3(0.12*0.9,0.2*0.9,0.3*0.9),fogColor,depth);\n       outputColor = vec4( foggedColor, v_Color.w);\n  }else { // 侧面颜色\n        vec2 st = v_texCoord;\n        vec2  UvScale = v_texCoord;\n        float tStep = min(0.08,max(0.05* (18.0-u_Zoom),0.02));\n        float tStart = 0.25 * tStep;\n        float tEnd = 0.75 * tStep;\n        float u = mod(UvScale.x, tStep);\n        float v = mod(UvScale.y, tStep);\n        float ux = floor(UvScale.x/tStep);\n        float uy = floor(UvScale.y/tStep);\n        float n = random(vec2(ux,uy));\n        float lightP = u_time;\n        float head = 1.0- step(0.005,st.y);\n        /*step3*/\n        // 将窗户颜色和墙面颜色区别开来\n        float sU = step(tStart, u) - step(tEnd, u);\n        float sV = step(tStart, v) - step(tEnd, v);\n        vec2 windowSize = vec2(abs(tEnd-tStart),abs(tEnd-tStart));\n        float dist = sdRect(vec2(u,v), windowSize);\n        float s = sU * sV;\n\n        float curColId = floor(UvScale.x / tStep);\n        float sCol = step(targetColId - 0.2, curColId) - step(targetColId + 0.2, curColId);\n\n        float mLightP = mod(lightP, 2.);\n        float sRow = step(mLightP - 0.2, st.y) - step(mLightP, st.y);\n        if(ux == targetColId){\n            n =0.;\n        }\n        float timeP = min(0.75, abs ( sin(u_time/3.0) ) );\n        float hot = smoothstep(1.0,0.0,timeP);\n        vec3 color = mix(baseColor, getWindowColor(n,hot,brightColor,windowColor), s);\n        //vec3 color = mix(baseColor, getWindowColor(n,hot,brightColor,windowColor), 1.0);\n        float sFinal = s * sCol * sRow;\n        color += mix(baseColor, brightColor, sFinal*n);\n        if (st.y<0.01){\n        color = baseColor;\n         }\n        if(head ==1.0) { // 顶部亮线\n            color = brightColor;\n        }\n        color = color * v_Color.rgb;\n\n        vec3 foggedColor = fog(color,fogColor,depth);\n\n        outputColor = vec4(foggedColor,1.0);\n  }\n\n\n  if(u_circleSweep > 0.0 && v_worldDis < u_cityMinSize) {\n    float r = fract(((v_worldDis/u_cityMinSize) - u_time * u_circleSweepSpeed) * 2.0);\n    outputColor.rgb += r * r * u_circleSweepColor.rgb;\n  }\n\n  outputColor.a *= u_opacity;\n  outputColor = filterColor(outputColor);\n}\n',triangulation:ge,depth:{enable:!0},defines:e.getDefines(),inject:e.getInject(),cull:{enable:!0,face:aa.BACK}});return[t]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:aR.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(e,t,n,r,i)=>i}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{size:t=10}=e;return Array.isArray(t)?[t[0]]:[t]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:aR.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:(e,t,n)=>[n[3],n[4]]}})}}class gc extends fd{constructor(...e){super(...e),(0,ai.Z)(this,"type","CityBuildingLayer")}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.layerModel=new gl(e),yield e.initLayerModels()})()}setLight(e){this.updateLayerConfig({time:e})}getModelType(){return"citybuilding"}}var gu=((j=gu||{}).UP="up",j.DOWN="down",j),gd={plane:class extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"texture",void 0),(0,ai.Z)(this,"terrainImage",void 0),(0,ai.Z)(this,"terrainImageLoaded",!1),(0,ai.Z)(this,"mapTexture",void 0),(0,ai.Z)(this,"planeGeometryTriangulation",()=>{let{width:e=1,height:t=1,widthSegments:n=1,heightSegments:r=1,center:i=[120,30],terrainTexture:o,rgb2height:a=(e,t,n)=>e+t+n}=this.layer.getLayerConfig(),{indices:s,positions:l}=this.initPlane(e,t,n,r,...i);return o?this.translateVertex(l,s,this.terrainImage,n,r,a):{vertices:l,indices:s,size:5}})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:10})}initPlane(e=1,t=1,n=1,r=1,i=120,o=30){let a=e/2,s=t/2,l=Math.floor(n),c=Math.floor(r),u=l+1,d=c+1,p=e/l,h=t/c,f=[],g=[];for(let e=0;e<d;e++){let t=e*h-s;for(let n=0;n<u;n++){let r=n*p-a;g.push(r+i,-t+o,0),g.push(n/l),g.push(1-e/c)}}for(let e=0;e<c;e++)for(let t=0;t<l;t++){let n=t+u*e,r=t+u*(e+1),i=t+1+u*(e+1),o=t+1+u*e;f.push(n,r,o),f.push(r,i,o)}return{indices:f,positions:g}}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,ar.Z)((0,ar.Z)({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{opacity:e,mapTexture:t,terrainClipHeight:n=0,terrainTexture:r}=this.layer.getLayerConfig();if(this.mapTexture!==t){var i;this.mapTexture=t,null===(i=this.texture)||void 0===i||i.destroy(),this.updateTexture(t)}let o={u_opacity:e||1,u_mapFlag:t?1:0,u_terrainClipHeight:r?n:-1,u_texture:this.texture};this.textures=[this.texture];let a=this.getUniformsBufferInfo(o);return a}clearModels(){var e;this.terrainImage=null,null===(e=this.texture)||void 0===e||e.destroy(),this.textures=[]}initModels(){var e=this;return(0,aZ.Z)(function*(){let{mapTexture:t,terrainTexture:n}=e.layer.getLayerConfig();e.mapTexture=t;let{createTexture2D:r}=e.rendererService;e.texture=r({height:0,width:0}),e.updateTexture(t),e.initUniformsBuffer(),n&&(e.terrainImage=yield e.loadTerrainImage(n));let i=yield e.layer.buildLayerModel({moduleName:"geometryPlane",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec3 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n  float u_opacity;\n  float u_mapFlag;\n  float u_terrainClipHeight;\n};\n\nout vec3 v_Color;\nout vec2 v_uv;\nout float v_clip;\n\n#pragma include "projection"\n#pragma include "picking"\nvoid main() {\n  v_Color = a_Color;\n  v_uv = a_Uv;\n\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n\n  v_clip = 1.0;\n  if (a_Position.z < u_terrainClipHeight) {\n    v_clip = 0.0;\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, a_Position.z, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'uniform sampler2D u_texture;\nlayout(std140) uniform commonUniforms {\n  float u_opacity;\n  float u_mapFlag;\n  float u_terrainClipHeight;\n};\n\nin vec3 v_Color;\nin vec2 v_uv;\nin float v_clip;\nout vec4 outputColor;\n\n#pragma include "picking"\nvoid main() {\n  if (u_mapFlag > 0.0) {\n    outputColor = texture(SAMPLER_2D(u_texture), vec2(v_uv.x, 1.0 - v_uv.y));\n    outputColor.a *= u_opacity;\n  } else {\n    outputColor = vec4(v_Color, u_opacity);\n  }\n  outputColor.a *= v_clip;\n  outputColor = filterColor(outputColor);\n}\n',triangulation:e.planeGeometryTriangulation,defines:e.getDefines(),inject:e.getInject(),primitive:aa.TRIANGLES,depth:{enable:!0},cull:{enable:!0,face:aa.BACK}});return[i]})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){return e.initModels()})()}createModelData(e){if(e){let{widthSegments:t,heightSegments:n,width:r,height:i}=this.layer.getLayerConfig(),{widthSegments:o,heightSegments:a,width:s,height:l}=e;this.layer.style({widthSegments:void 0!==o?o:t,heightSegments:void 0!==a?a:n,width:void 0!==s?s:r,height:void 0!==l?l:i})}let t=this.layer.getEncodedData(),n=this.styleAttributeService.createAttributesAndIndices(t,this.planeGeometryTriangulation);return n}updateTexture(e){let{createTexture2D:t}=this.rendererService;if(e){let n=new Image;n.crossOrigin="anonymous",n.onload=()=>{this.texture=t({data:n,width:n.width,height:n.height,wrapS:aa.CLAMP_TO_EDGE,wrapT:aa.CLAMP_TO_EDGE}),this.layerService.reRender()},n.src=e}else this.texture=t({width:0,height:0})}getImageData(e){let t=document.createElement("canvas"),n=t.getContext("2d"),{width:r,height:i}=e;t.width=r,t.height=i,n.drawImage(e,0,0,r,i);let o=n.getImageData(0,0,r,i);return o}translateVertex(e,t,n,r,i,o){let a=n.width,s=n.height,l=this.getImageData(n).data,c=Math.floor(r),u=Math.floor(i),d=c+1,p=u+1,h=a/c,f=s/u;for(let t=0;t<p;t++){let n=Math.floor(t*f),r=n*a;for(let n=0;n<d;n++){let i=Math.floor(n*h),a=(r+i)*4,s=l[a],c=l[a+1],u=l[a+2],p=(t*d+n)*5+2;e[p]=o(s,c,u)}}return{vertices:e,indices:t,size:5}}loadTerrainImage(e){var t=this;return(0,aZ.Z)(function*(){if(t.terrainImage)return t.terrainImageLoaded?t.terrainImage:new Promise(e=>{t.terrainImage.onload=()=>{e(t.terrainImage)}});{let n=new Image;return n.crossOrigin="anonymous",new Promise(r=>{n.onload=()=>{t.terrainImageLoaded=!0,r(n),setTimeout(()=>t.layer.emit("terrainImageLoaded",null))},n.src=e})}})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:aR.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:(e,t,n)=>[n[3],n[4]]}})}},sprite:class extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"texture",void 0),(0,ai.Z)(this,"mapTexture",void 0),(0,ai.Z)(this,"positions",void 0),(0,ai.Z)(this,"indices",void 0),(0,ai.Z)(this,"timer",void 0),(0,ai.Z)(this,"spriteTop",void 0),(0,ai.Z)(this,"spriteUpdate",void 0),(0,ai.Z)(this,"spriteAnimate",void 0),(0,ai.Z)(this,"planeGeometryUpdateTriangulation",()=>{let{spriteBottom:e=-10}=this.layer.getLayerConfig(),t=this.spriteUpdate,n=this.spriteTop;for(let r=0;r<this.positions.length;r+=5)this.spriteAnimate===gu.UP?(this.positions[r+2]+=t,this.positions[r+2]>n&&(this.positions[r+2]=e)):(this.positions[r+2]-=t,this.positions[r+2]<e&&(this.positions[r+2]=n));return{vertices:this.positions,indices:this.indices,size:5}}),(0,ai.Z)(this,"updatePosition",()=>{var e;this.planeGeometryUpdateTriangulation();let t=null===(e=this.styleAttributeService.getLayerStyleAttribute("position"))||void 0===e?void 0:e.vertexAttribute;if(t){let e=[];for(let t=0;t<this.positions.length;t+=5)e.push(this.positions[t],this.positions[t+1],this.positions[t+2]);t.updateBuffer({data:e,offset:0})}this.layerService.throttleRenderLayers(),this.timer=requestAnimationFrame(this.updatePosition)}),(0,ai.Z)(this,"planeGeometryTriangulation",()=>{let{center:e=[120,30],spriteCount:t=100,spriteRadius:n=10}=this.layer.getLayerConfig(),{indices:r,positions:i}=this.initSprite(n,t,...e);return this.positions=i,this.indices=r,{vertices:i,indices:r,size:5}})}initSprite(e=10,t=100,n=120,r=30){let i=[],o=[],a=this.spriteAnimate===gu.UP?-this.spriteTop:this.spriteTop;for(let i=0;i<t;i++){let t=Math.random()*a;o.push(...function(t){let i=e*Math.random(),o=e*Math.random();return[-e/2+i+n,-(-e/2+o)+r,t,0,0]}(t))}for(let e=0;e<t;e++)i.push(e);return{indices:i,positions:o}}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,ar.Z)((0,ar.Z)({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{opacity:e,mapTexture:t,spriteScale:n=1}=this.layer.getLayerConfig();if(this.mapTexture!==t){var r;this.mapTexture=t,null===(r=this.texture)||void 0===r||r.destroy(),this.textures=[],this.updateTexture(t)}let i={u_opacity:e||1,u_mapFlag:t?1:0,u_Scale:n,u_texture:this.texture};this.textures=[this.texture];let o=this.getUniformsBufferInfo(i);return o}clearModels(){var e;cancelAnimationFrame(this.timer),null===(e=this.texture)||void 0===e||e.destroy(),this.textures=[]}initModels(){var e=this;return(0,aZ.Z)(function*(){let{mapTexture:t,spriteTop:n=300,spriteUpdate:r=10,spriteAnimate:i=gu.DOWN}=e.layer.getLayerConfig();e.initUniformsBuffer(),e.mapTexture=t,e.spriteTop=n,e.spriteUpdate=r,"up"===i?e.spriteAnimate=gu.UP:e.spriteAnimate=gu.DOWN;let{createTexture2D:o}=e.rendererService;e.texture=o({height:0,width:0}),e.updateTexture(t),setTimeout(()=>{e.updatePosition()},100);let a=yield e.layer.buildLayerModel({moduleName:"geometrySprite",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec3 a_Color;\n\nlayout(std140) uniform commonUniforms {\n  float u_opacity;\n  float u_mapFlag;\n  float u_Scale;\n};\n\nout vec3 v_Color;\nout float v_d;\n\n#pragma include "projection"\nvoid main() {\n  v_Color = a_Color.xyz;\n  v_d = a_Position.z;\n\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, a_Position.z, 1.0));\n  gl_PointSize = pow(u_Zoom - 1.0, 2.0) * u_Scale;\n}\n',fragmentShader:"\nlayout(std140) uniform commonUniforms {\n  float u_opacity;\n  float u_mapFlag;\n  float u_Scale;\n};\nuniform sampler2D u_texture;\n\nin vec3 v_Color;\nin float v_d;\nout vec4 outputColor;\n\nvoid main() {\n\n  if(v_d < 0.0) {\n    discard;\n  }\n\n  if(u_mapFlag > 0.0) {\n    outputColor = texture(SAMPLER_2D(u_texture), gl_PointCoord);\n    outputColor.a *= u_opacity;\n  } else {\n    outputColor = vec4(v_Color, u_opacity);\n  }\n}\n",triangulation:e.planeGeometryTriangulation,defines:e.getDefines(),inject:e.getInject(),primitive:aa.POINTS,depth:{enable:!1},blend:e.getBlend()});return[a]})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){return e.initModels()})()}updateTexture(e){let{createTexture2D:t}=this.rendererService;if(e){let n=new Image;n.crossOrigin="anonymous",n.onload=()=>{this.texture=t({data:n,width:n.width,height:n.height,wrapS:aa.CLAMP_TO_EDGE,wrapT:aa.CLAMP_TO_EDGE}),this.layerService.reRender()},n.src=e}else this.texture=t({width:1,height:1})}registerBuiltinAttributes(){return""}},billboard:class extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"texture",void 0),(0,ai.Z)(this,"radian",0),(0,ai.Z)(this,"planeGeometryTriangulation",()=>{let{center:e=[120,30]}=this.layer.getLayerConfig();return{size:4,indices:[0,1,2,2,3,0],vertices:[...e,1,1,...e,0,1,...e,0,0,...e,1,0]}})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,EXTRUDE:9,UV:10})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,ar.Z)((0,ar.Z)({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{opacity:e,width:t=1,height:n=1,raisingHeight:r=0}=this.layer.getLayerConfig(),i=1;"amap"===this.mapService.getType()&&(i=-1),this.radian=i*Math.PI*(this.mapService.getRotation()%360)/180;let o={u_size:[t,n],u_raisingHeight:Number(r),u_rotation:this.radian,u_opacity:e||1,u_texture:this.texture};this.textures=[this.texture];let a=this.getUniformsBufferInfo(o);return a}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy()}initModels(){var e=this;return(0,aZ.Z)(function*(){let{drawCanvas:t}=e.layer.getLayerConfig(),{createTexture2D:n}=e.rendererService;e.texture=n({height:0,width:0}),t&&e.updateTexture(t),e.initUniformsBuffer();let r=yield e.layer.buildLayerModel({moduleName:"geometryBillboard",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n  vec2 u_size;\n  float u_raisingHeight;\n  float u_rotation;\n  float u_opacity;\n};\n\nout vec2 v_uv;\n\n#pragma include "projection"\n#pragma include "picking"\n#pragma include "rotation_2d"\nvoid main() {\n  vec3 extrude = a_Extrude;\n  v_uv = a_Uv;\n  float raiseHeight = u_raisingHeight;\n  if (\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\n    raiseHeight = u_raisingHeight * mapboxZoomScale;\n  }\n\n  // 计算经纬度点位坐标\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));\n\n  // 计算绕 z 轴旋转后的偏移\n  vec2 offsetXY = project_pixel(rotate_matrix(vec2(extrude.x * u_size.x, 0.0), u_rotation));\n  // 绕 z 轴旋转\n  float x = project_pos.x + offsetXY.x;\n  float y = project_pos.y + offsetXY.y;\n  // z 轴不参与旋转\n  float z = project_pixel(extrude.y * u_size.y + raiseHeight);\n\n  gl_Position = project_common_position_to_clipspace(vec4(x, y, z, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'layout(std140) uniform commonUniforms {\n vec2 u_size;\n float u_raisingHeight;\n float u_rotation;\n float u_opacity;\n};\n\nuniform sampler2D u_texture;\n\nin vec2 v_uv;\nout vec4 outputColor;\n\n#pragma include "picking"\nvoid main() {\n  outputColor = texture(SAMPLER_2D(u_texture), vec2(v_uv.x, 1.0 - v_uv.y));\n  outputColor.a *= u_opacity;\n  outputColor = filterColor(outputColor);\n}\n',triangulation:e.planeGeometryTriangulation,defines:e.getDefines(),inject:e.getInject(),primitive:aa.TRIANGLES,depth:{enable:!0}});return[r]})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){return e.initModels()})()}updateTexture(e){let{createTexture2D:t}=this.rendererService,{canvasWidth:n=1,canvasHeight:r=1}=this.layer.getLayerConfig(),i=document.createElement("canvas");i.width=n,i.height=r;let o=i.getContext("2d");o&&(e(i),this.texture=t({data:i,width:i.width,height:i.height,wrapS:aa.CLAMP_TO_EDGE,wrapT:aa.CLAMP_TO_EDGE}),this.layerService.reRender())}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"extrude",type:aR.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(e,t,n,r)=>{let i=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],o=r%4*3;return[i[o],i[o+1],i[o+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:aR.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:(e,t,n)=>[n[2],n[3]]}})}}};class gp extends fd{constructor(...e){super(...e),(0,ai.Z)(this,"type","GeometryLayer"),(0,ai.Z)(this,"defaultSourceConfig",{data:[{x:0,y:0}],options:{parser:{type:"json",x:"x",y:"y"}}})}buildModels(){var e=this;return(0,aZ.Z)(function*(){let t=e.getModelType();e.layerModel=new gd[t](e),yield e.initLayerModels()})()}getDefaultConfig(){let e=this.getModelType();return({plane:{},sprite:{},billboard:{}})[e]}getModelType(){var e;let t=this.styleAttributeService.getLayerStyleAttribute("shape"),n=null==t||null===(e=t.scale)||void 0===e?void 0:e.field;return"plane"===n?"plane":"sprite"===n?"sprite":"billboard"===n?"billboard":"plane"}}function gh(e,t){return{type:e.type,field:"value",items:e.positions.map((n,r)=>({[t]:r>=e.colors.length?null:e.colors[r],value:n}))}}let{isEqual:gf}=nu;class gg extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"texture",void 0),(0,ai.Z)(this,"colorTexture",void 0),(0,ai.Z)(this,"heatmapFramerBuffer",void 0),(0,ai.Z)(this,"heatmapTexture",void 0),(0,ai.Z)(this,"intensityModel",void 0),(0,ai.Z)(this,"colorModel",void 0),(0,ai.Z)(this,"shapeType",void 0),(0,ai.Z)(this,"preRampColors",void 0),(0,ai.Z)(this,"colorModelUniformBuffer",[]),(0,ai.Z)(this,"heat3DModelUniformBuffer",[])}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,UV:10,DIR:11})}prerender(){let{clear:e,useFramebuffer:t}=this.rendererService;t(this.heatmapFramerBuffer,()=>{e({color:[0,0,0,0],depth:1,stencil:0,framebuffer:this.heatmapFramerBuffer}),this.drawIntensityMode()})}render(e){let{rampColors:t}=this.layer.getLayerConfig();gf(this.preRampColors,t)||this.updateColorTexture(),"heatmap"===this.shapeType?this.drawHeatMap(e):this.draw3DHeatMap(e)}getUninforms(){throw Error("Method not implemented.")}initModels(){var e=this;return(0,aZ.Z)(function*(){var t;let{createFramebuffer:n,getViewportSize:r,createTexture2D:i}=e.rendererService,o=e.styleAttributeService.getLayerStyleAttribute("shape"),a=(null==o||null===(t=o.scale)||void 0===t?void 0:t.field)||"heatmap";e.shapeType=a,e.intensityModel=yield e.buildHeatMapIntensity(),e.colorModel="heatmap"===a?e.buildHeatmap():e.build3dHeatMap();let{width:s,height:l}=r();return e.heatmapTexture=i({width:Math.floor(s/4),height:Math.floor(l/4),wrapS:aa.CLAMP_TO_EDGE,wrapT:aa.CLAMP_TO_EDGE,min:aa.LINEAR,mag:aa.LINEAR,usage:se.RENDER_TARGET}),e.heatmapFramerBuffer=n({color:e.heatmapTexture,depth:!0,width:Math.floor(s/4),height:Math.floor(l/4)}),e.updateColorTexture(),[e.intensityModel,e.colorModel]})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){return e.initModels()})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"dir",type:aR.Attribute,descriptor:{name:"a_Dir",shaderLocation:this.attributeLocation.DIR,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:(e,t,n)=>[n[3],n[4]]}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{size:t=1}=e;return[t]}}})}buildHeatMapIntensity(){var e=this;return(0,aZ.Z)(function*(){e.uniformBuffers=[e.rendererService.createBuffer({data:new Float32Array(4).fill(0),isUBO:!0})],e.layer.triangulation=gi;let t=yield e.layer.buildLayerModel({moduleName:"heatmapIntensity",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_DIR) in vec2 a_Dir;\n\nlayout(std140) uniform commonUniforms {\n  float u_radius;\n  float u_intensity;\n  float u_common_uniforms_padding1;\n  float u_common_uniforms_padding2;\n};\n\nout vec2 v_extrude;\nout float v_weight;\n\n#define GAUSS_COEF (0.3989422804014327)\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  vec3 picking_color_placeholder = u_PickingColor;\n\n  v_weight = a_Size;\n  float ZERO = 1.0 / 255.0 / 16.0;\n  float extrude_x = a_Dir.x * 2.0 - 1.0;\n  float extrude_y = a_Dir.y * 2.0 - 1.0;\n  vec2 extrude_dir = normalize(vec2(extrude_x, extrude_y));\n  float S = sqrt(-2.0 * log(ZERO / a_Size / u_intensity / GAUSS_COEF)) / 2.5;\n  v_extrude = extrude_dir * S;\n\n  vec2 offset = project_pixel(v_extrude * u_radius);\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n\n}\n',fragmentShader:"layout(std140) uniform commonUniforms {\n  float u_radius;\n  float u_intensity;\n  float u_common_uniforms_padding1;\n  float u_common_uniforms_padding2;\n};\n\nin vec2 v_extrude;\nin float v_weight;\nout vec4 outputColor;\n#define GAUSS_COEF  0.3989422804014327\n\nvoid main(){\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = v_weight * u_intensity * GAUSS_COEF * exp(d);\n    outputColor = vec4(val, 1., 1., 1.);\n}\n",triangulation:gi,defines:e.getDefines(),depth:{enable:!1},cull:{enable:!0,face:aa.FRONT}});return t})()}buildHeatmap(){this.shaderModuleService.registerModule("heatmapColor",{vs:'layout(location = 0) in vec3 a_Position;\nlayout(location = 10) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n  float u_opacity;\n  float u_common_uniforms_padding1;\n  float u_common_uniforms_padding2;\n  float u_common_uniforms_padding3;\n};\n\n#pragma include "scene_uniforms"\n\nout vec2 v_texCoord;\nvoid main() {\n  v_texCoord = a_Uv;\n  #ifdef VIEWPORT_ORIGIN_TL\n  v_texCoord.y = 1.0 - v_texCoord.y;\n  #endif\n\n  gl_Position = vec4(a_Position.xy, 0, 1.0);\n}\n',fs:'uniform sampler2D u_texture;        // 热力强度图\nuniform sampler2D u_colorTexture;   // 根据强度分布的色带\n\nlayout(std140) uniform commonUniforms {\n  float u_opacity;\n  float u_common_uniforms_padding1;\n  float u_common_uniforms_padding2;\n  float u_common_uniforms_padding3;\n};\nin vec2 v_texCoord;\nout vec4 outputColor;\n\n#pragma include "scene_uniforms"\n\nfloat getBlurIndusty() {\n    float vW = 2.0/ u_ViewportSize.x;\n    float vH = 2.0/ u_ViewportSize.y;\n    vec2 vUv = v_texCoord;\n    float i11 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 1.0 * vW, vUv.y + 1.0 * vH) ).r;\n    float i12 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 0.0 * vW, vUv.y + 1.0 * vH) ).r;\n    float i13 = texture(SAMPLER_2D(u_texture), vec2( vUv.x + 1.0 * vW, vUv.y + 1.0 * vH) ).r;\n\n    float i21 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 1.0 * vW, vUv.y) ).r;\n    float i22 = texture(SAMPLER_2D(u_texture), vec2( vUv.x , vUv.y) ).r;\n    float i23 = texture(SAMPLER_2D(u_texture), vec2( vUv.x + 1.0 * vW, vUv.y) ).r;\n\n    float i31 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 1.0 * vW, vUv.y-1.0*vH) ).r;\n    float i32 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 0.0 * vW, vUv.y-1.0*vH) ).r;\n    float i33 = texture(SAMPLER_2D(u_texture), vec2( vUv.x + 1.0 * vW, vUv.y-1.0*vH) ).r;\n\n    return(\n        i11 + \n        i12 + \n        i13 + \n        i21 + \n        i21 + \n        i22 + \n        i23 + \n        i31 + \n        i32 + \n        i33\n        )/9.0;\n}\n\n\nvoid main(){\n    // float intensity = texture(u_texture, v_texCoord).r;\n    float intensity = getBlurIndusty();\n    vec4 color = texture(SAMPLER_2D(u_colorTexture), vec2(intensity, 0.0));\n    outputColor = color;\n    outputColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;\n}\n'}),this.colorModelUniformBuffer=[this.rendererService.createBuffer({data:new Float32Array(4).fill(0),isUBO:!0})];let{vs:e,fs:t,uniforms:n}=this.shaderModuleService.getModule("heatmapColor"),{createAttribute:r,createElements:i,createBuffer:o,createModel:a}=this.rendererService;return a({vs:e,fs:t,uniformBuffers:[...this.colorModelUniformBuffer,...this.rendererService.uniformBuffers],attributes:{a_Position:r({shaderLocation:this.attributeLocation.POSITION,buffer:o({data:[-1,1,0,1,1,0,-1,-1,0,1,-1,0],type:aa.FLOAT}),size:3}),a_Uv:r({shaderLocation:this.attributeLocation.UV,buffer:o({data:[0,1,1,1,0,0,1,0],type:aa.FLOAT}),size:2})},uniforms:(0,ar.Z)({},n),depth:{enable:!1},elements:i({data:[0,2,1,2,3,1],type:aa.UNSIGNED_INT,count:6})})}build3dHeatMap(){let{getViewportSize:e}=this.rendererService,{width:t,height:n}=e(),r=function(e,t){let n=[],r=[],i=[],o=e+1,a=t+1,s=e/2,l=t/2;for(let n=0;n<a;n++){let a=n-l;for(let c=0;c<o;c++){let o=c-s;r.push(o/s,-a/l,0),i.push(c/e),i.push(1-n/t)}}for(let r=0;r<t;r++)for(let t=0;t<e;t++){let e=t+o*r,i=t+o*(r+1),a=t+1+o*(r+1),s=t+1+o*r;n.push(e,i,s),n.push(i,a,s)}return{vertices:r,indices:n,uvs:i}}(t/4,n/4);this.shaderModuleService.registerModule("heatmap3dColor",{vs:'layout(location = 0) in vec3 a_Position;\nlayout(location = 10) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n  mat4 u_ViewProjectionMatrixUncentered;\n  mat4 u_InverseViewProjectionMatrix;\n  float u_opacity;\n  float u_common_uniforms_padding1;\n  float u_common_uniforms_padding2;\n  float u_common_uniforms_padding3;\n};\n\nuniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\n\nout vec2 v_texCoord;\nout float v_intensity;\n\nvec2 toBezier(float t, vec2 P0, vec2 P1, vec2 P2, vec2 P3) {\n  float t2 = t * t;\n  float one_minus_t = 1.0 - t;\n  float one_minus_t2 = one_minus_t * one_minus_t;\n  return P0 * one_minus_t2 * one_minus_t +\n  P1 * 3.0 * t * one_minus_t2 +\n  P2 * 3.0 * t2 * one_minus_t +\n  P3 * t2 * t;\n}\nvec2 toBezier(float t, vec4 p) {\n  return toBezier(t, vec2(0.0, 0.0), vec2(p.x, p.y), vec2(p.z, p.w), vec2(1.0, 1.0));\n}\n\n#pragma include "projection"\n#pragma include "project"\n\nvoid main() {\n  v_texCoord = a_Uv;\n\n  vec2 pos = a_Uv * vec2(2.0) - vec2(1.0); // 将原本 0 -> 1 的 uv 转换为 -1 -> 1 的标准坐标空间（NDC）\n\n  vec4 p1 = vec4(pos, 0.0, 1.0); // x/y 平面上的点（z == 0）可以认为是三维上的点被投影到平面后的点\n  vec4 p2 = vec4(pos, 1.0, 1.0); // 平行于x/y平面、z==1 的平面上的点\n\n  vec4 inverseP1 = u_InverseViewProjectionMatrix * p1; // 根据视图投影矩阵的逆矩阵平面上的反算出三维空间中的点（p1平面上的点）\n  vec4 inverseP2 = u_InverseViewProjectionMatrix * p2;\n\n  inverseP1 = inverseP1 / inverseP1.w; // 归一化操作（归一化后为世界坐标）\n  inverseP2 = inverseP2 / inverseP2.w;\n\n  float zPos = (0.0 - inverseP1.z) / (inverseP2.z - inverseP1.z); // ??\n  vec4 position = inverseP1 + zPos * (inverseP2 - inverseP1);\n\n  vec4 b = vec4(0.5, 0.0, 1.0, 0.5);\n  float fh;\n\n  v_intensity = texture(SAMPLER_2D(u_texture), v_texCoord).r;\n  fh = toBezier(v_intensity, b).y;\n  gl_Position = u_ViewProjectionMatrixUncentered * vec4(position.xy, fh * project_pixel(50.0), 1.0);\n\n}\n',fs:"layout(std140) uniform commonUniforms {\n  mat4 u_ViewProjectionMatrixUncentered;\n  mat4 u_InverseViewProjectionMatrix;\n  float u_opacity;\n  float u_common_uniforms_padding1;\n  float u_common_uniforms_padding2;\n  float u_common_uniforms_padding3;\n};\n\nuniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\n\nin vec2 v_texCoord;\nin float v_intensity;\nout vec4 outputColor;\n\nvoid main(){\n   \n    float intensity = texture(SAMPLER_2D(u_texture), v_texCoord).r;\n    vec4 color = texture(SAMPLER_2D(u_colorTexture),vec2(intensity, 0));\n    outputColor = color;\n    // gl_FragColor.a = color.a * smoothstep(0.1,0.2,intensity)* u_opacity;\n   outputColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;\n}\n"}),this.heat3DModelUniformBuffer=[this.rendererService.createBuffer({data:new Float32Array(36).fill(0),isUBO:!0})];let{vs:i,fs:o,uniforms:a}=this.shaderModuleService.getModule("heatmap3dColor"),{createAttribute:s,createElements:l,createBuffer:c,createModel:u}=this.rendererService;return u({vs:i,fs:o,attributes:{a_Position:s({shaderLocation:this.attributeLocation.POSITION,buffer:c({data:r.vertices,type:aa.FLOAT}),size:3}),a_Uv:s({shaderLocation:this.attributeLocation.UV,buffer:c({data:r.uvs,type:aa.FLOAT}),size:2})},primitive:aa.TRIANGLES,uniformBuffers:[...this.heat3DModelUniformBuffer,...this.rendererService.uniformBuffers],uniforms:(0,ar.Z)({},a),depth:{enable:!0},blend:{enable:!0,func:{srcRGB:aa.SRC_ALPHA,srcAlpha:1,dstRGB:aa.ONE_MINUS_SRC_ALPHA,dstAlpha:1}},elements:l({data:r.indices,type:aa.UNSIGNED_INT,count:r.indices.length})})}drawIntensityMode(){var e;let{intensity:t=10,radius:n=5}=this.layer.getLayerConfig();this.uniformBuffers[0].subData({offset:0,data:[n,t]}),this.layerService.beforeRenderData(this.layer),this.layer.hooks.beforeRender.call(),null===(e=this.intensityModel)||void 0===e||e.draw({uniforms:{u_radius:n,u_intensity:t},blend:{enable:!0,func:{srcRGB:aa.ONE,srcAlpha:1,dstRGB:aa.ONE,dstAlpha:1}},stencil:{enable:!1,mask:255,func:{cmp:514,ref:1,mask:255}}}),this.layer.hooks.afterRender.call()}drawHeatMap(e){var t;let{opacity:n=1}=this.layer.getLayerConfig(),r={u_opacity:n,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer},i=[this.heatmapTexture,this.colorTexture];this.colorModelUniformBuffer[0].subData({offset:0,data:[n]}),null===(t=this.colorModel)||void 0===t||t.draw({uniforms:r,textures:i,blend:this.getBlend(),stencil:this.getStencil(e)})}draw3DHeatMap(e){var t;let{opacity:n=1}=this.layer.getLayerConfig(),r=aH.create();aH.invert(r,this.cameraService.getViewProjectionMatrixUncentered());let i={u_opacity:n,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer,u_ViewProjectionMatrixUncentered:this.cameraService.getViewProjectionMatrixUncentered(),u_InverseViewProjectionMatrix:[...r]};this.heat3DModelUniformBuffer[0].subData({offset:0,data:[...i.u_ViewProjectionMatrixUncentered,...i.u_InverseViewProjectionMatrix,n]});let o=[this.heatmapTexture,this.colorTexture];null===(t=this.colorModel)||void 0===t||t.draw({uniforms:i,textures:o,blend:{enable:!0,func:{srcRGB:aa.SRC_ALPHA,srcAlpha:1,dstRGB:aa.ONE_MINUS_SRC_ALPHA,dstAlpha:1}},stencil:this.getStencil(e)})}updateColorTexture(){let{createTexture2D:e}=this.rendererService;this.texture&&this.texture.destroy();let{rampColors:t}=this.layer.getLayerConfig(),n=tx(t);this.colorTexture=e({data:n.data,usage:se.SAMPLED,width:n.width,height:n.height,wrapS:aa.CLAMP_TO_EDGE,wrapT:aa.CLAMP_TO_EDGE,min:aa.NEAREST,mag:aa.NEAREST,flipY:!1,unorm:!0}),this.preRampColors=t}}var gm={heatmap:gg,heatmap3d:gg,grid:class extends fE{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,POS:9})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,ar.Z)((0,ar.Z)({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{opacity:e,coverage:t,angle:n}=this.layer.getLayerConfig(),r={u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset],u_opacity:e||1,u_coverage:t||.9,u_angle:n||0},i=this.getUniformsBufferInfo(r);return i}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.initUniformsBuffer();let t=yield e.layer.buildLayerModel({moduleName:"heatmapGrid",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location =  ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;\n\nlayout(std140) uniform commonUniforms {\n    vec2 u_radius;\n    float u_opacity;\n    float u_coverage;\n    float u_angle;\n};\n\nout vec4 v_color;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nvoid main() {\n  v_color = a_Color;\n  v_color.a *= u_opacity;\n\n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\n  vec2 offset = a_Position.xy * u_radius * rotationMatrix * u_coverage;\n\n  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\n  vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\n  gl_Position = project_common_position_to_clipspace(project_pos);\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'in vec4 v_color;\n\n#pragma include "scene_uniforms"\n#pragma include "picking"\nout vec4 outputColor;\nvoid main() {\n  outputColor = v_color;\n  outputColor = filterColor(outputColor);\n}\n',defines:e.getDefines(),triangulation:gt,primitive:aa.TRIANGLES,depth:{enable:!1}});return[t]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:aR.Attribute,descriptor:{shaderLocation:this.attributeLocation.POS,name:"a_Pos",buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:3,update:e=>{let t=e.coordinates;return[t[0],t[1],0]}}})}},grid3d:class extends fE{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,POS:10,NORMAL:11})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,ar.Z)((0,ar.Z)({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{opacity:e,coverage:t,angle:n}=this.layer.getLayerConfig(),r={u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset],u_opacity:e||1,u_coverage:t||.9,u_angle:n||0},i=this.getUniformsBufferInfo(r);return i}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.initUniformsBuffer();let t=yield e.layer.buildLayerModel({moduleName:"heatmapGrid3d",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\n\nlayout(std140) uniform commonUniforms {\n  vec2 u_radius;\n  float u_opacity;\n  float u_coverage;\n  float u_angle;\n};\n\nout vec4 v_color;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\n  vec2 offset = vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage);\n\n  vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // 实际的经纬度\n  vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));\n\n  float lightWeight = calc_lighting(project_pos);\n  v_color = vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  gl_Position = project_common_position_to_clipspace(project_pos);\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'in vec4 v_color;\n\nlayout(std140) uniform commonUniforms {\n  vec2 u_radius;\n  float u_opacity;\n  float u_coverage;\n  float u_angle;\n};\n\n#pragma include "scene_uniforms"\n#pragma include "picking"\n\nout vec4 outputColor;\nvoid main() {\n  outputColor = v_color;\n  outputColor = filterColor(outputColor);\n}\n',defines:e.getDefines(),triangulation:f2,primitive:aa.TRIANGLES,depth:{enable:!0}});return[t]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{shaderLocation:this.attributeLocation.SIZE,name:"a_Size",buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{size:t}=e;return Array.isArray(t)?[t[0]]:[t]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:aR.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(e,t,n,r,i)=>i}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:aR.Attribute,descriptor:{name:"a_Pos",shaderLocation:this.attributeLocation.POS,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:3,update:e=>{let t=e.coordinates;return[t[0],t[1],0]}}})}},hexagon:class extends fE{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,POS:9})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,ar.Z)((0,ar.Z)({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{opacity:e,coverage:t,angle:n}=this.layer.getLayerConfig(),r={u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset],u_opacity:e||1,u_coverage:t||.9,u_angle:n||0},i=this.getUniformsBufferInfo(r);return i}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.initUniformsBuffer();let t=yield e.layer.buildLayerModel({moduleName:"heatmapHexagon",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;\n\nlayout(std140) uniform commonUniforms {\n  vec2 u_radius;\n  float u_opacity;\n  float u_coverage;\n  float u_angle;\n};\n\nout vec4 v_color;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nvoid main() {\n  v_color = a_Color;\n  v_color.a *= u_opacity;\n\n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\n  vec2 offset = vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage);\n  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\n\n  vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'in vec4 v_color;\n\n#pragma include "picking"\nout vec4 outputColor;\nvoid main() {\n  outputColor = v_color;\n  outputColor = filterColor(outputColor);\n}\n',defines:e.getDefines(),triangulation:gt,depth:{enable:!1},primitive:aa.TRIANGLES});return[t]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:aR.Attribute,descriptor:{name:"a_Pos",shaderLocation:this.attributeLocation.POS,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:3,update:e=>{let t=e.coordinates;return[t[0],t[1],0]}}})}}};class gb extends fd{constructor(...e){super(...e),(0,ai.Z)(this,"type","HeatMapLayer")}buildModels(){var e=this;return(0,aZ.Z)(function*(){let t=e.getModelType();e.layerModel=new gm[t](e),yield e.initLayerModels()})()}prerender(){let e=this.getModelType();"heatmap"===e&&this.layerModel&&this.layerModel.prerender()}renderModels(e={}){let t=this.getModelType();return"heatmap"===t?(this.layerModel&&this.layerModel.render(e),this):(this.encodeDataLength<=0&&!this.forceRender||(this.hooks.beforeRender.call(),this.models.forEach(t=>t.draw({uniforms:this.layerModel.getUninforms(),blend:this.layerModel.getBlend(),stencil:this.layerModel.getStencil(e)})),this.hooks.afterRender.call()),this)}updateModelData(e){e.attributes&&e.elements?this.models[0].updateAttributesAndElements(e.attributes,e.elements):console.warn("data error")}getModelType(){var e;let t=this.styleAttributeService.getLayerStyleAttribute("shape"),{shape3d:n}=this.getLayerConfig(),r=this.getSource(),i=r.data.type,o=(null==t||null===(e=t.scale)||void 0===e?void 0:e.field)||"heatmap";return"heatmap"===o||"heatmap3d"===o?"heatmap":"hexagon"===i?(null==n?void 0:n.indexOf(o))===-1?"hexagon":"grid3d":"grid"===i?(null==n?void 0:n.indexOf(o))===-1?"grid":"grid3d":"heatmap"}getLegend(e){if("heatmap"!==this.getModelType())return super.getLegend(e);{if("color"!==e)return{type:void 0,field:void 0,items:[]};let t=this.getLayerConfig().rampColors;return gh(t,e)}}}var gv={image:class extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getCommonUniformsInfo(){let{opacity:e,brightness:t,contrast:n,saturation:r,gamma:i}=this.layer.getLayerConfig(),o={u_opacity:iu(e,1),u_brightness:iu(t,1),u_contrast:iu(n,1),u_saturation:iu(r,1),u_gamma:iu(i,1)};this.textures=[this.texture];let a=this.getUniformsBufferInfo(o);return a}initModels(){var e=this;return(0,aZ.Z)(function*(){return yield e.loadTexture(),e.buildModels()})()}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy()}loadTexture(){var e=this;return(0,aZ.Z)(function*(){let{createTexture2D:t}=e.rendererService,n=e.layer.getSource(),r=yield n.data.images;e.texture=t({data:r[0],width:r[0].width,height:r[0].height,mag:aa.LINEAR,min:aa.LINEAR})})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.initUniformsBuffer();let t=yield e.layer.buildLayerModel({moduleName:"rasterImage",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n    float u_opacity:1.0;\n    float u_brightness:1.0;\n    float u_contrast:1.0;\n    float u_saturation:1.0;\n    float u_gamma:1.0;\n};\n\nout vec2 v_texCoord;\n#pragma include "projection"\n\nvoid main() {\n  v_texCoord = a_Uv;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));\n}\n',fragmentShader:"uniform sampler2D u_texture;\nlayout(std140) uniform commonUniforms {\n    float u_opacity:1.0;\n    float u_brightness:1.0;\n    float u_contrast:1.0;\n    float u_saturation:1.0;\n    float u_gamma:1.0;\n};\n\nin vec2 v_texCoord;\nout vec4 outputColor;\nvec3 setContrast(vec3 rgb, float contrast) {\n  vec3 color = mix(vec3(0.5), rgb, contrast);\n  color = clamp(color, 0.0, 1.0);\n  return color;\n}\nvec3 setSaturation(vec3 rgb, float adjustment) {\n  const vec3 grayVector = vec3(0.2125, 0.7154, 0.0721);\n  vec3 intensity = vec3(dot(rgb, grayVector));\n  vec3 color = mix(intensity, rgb, adjustment);\n  color = clamp(color, 0.0, 1.0);\n  return color;\n}\nvoid main() {\n  vec4 color = texture(SAMPLER_2D(u_texture),vec2(v_texCoord.x,v_texCoord.y));\n  //brightness\n  color.rgb = mix(vec3(0.0, 0.0, 0.0), color.rgb, u_brightness);\n  //contrast\n  color.rgb = setContrast(color.rgb, u_contrast);\n  // saturation\n  color.rgb = setSaturation(color.rgb, u_saturation);\n  // gamma\n  color.rgb = pow(color.rgb, vec3(u_gamma));\n  outputColor = color;\n  outputColor.a *= u_opacity;\n  if(outputColor.a < 0.01)\n    discard;\n}\n",defines:e.getDefines(),triangulation:gn,primitive:aa.TRIANGLES,blend:{enable:!0},depth:{enable:!1},pickingEnabled:!1});return[t]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:aR.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:(e,t,n)=>[n[3],n[4]]}})}}};class gy extends fd{constructor(...e){super(...e),(0,ai.Z)(this,"type","ImageLayer")}buildModels(){var e=this;return(0,aZ.Z)(function*(){let t=e.getModelType();e.layerModel=new gv[t](e),yield e.initLayerModels()})()}getDefaultConfig(){let e=this.getModelType();return({image:{}})[e]}getModelType(){return"image"}}let gE={solid:0,dash:1},g_={solid:0,dash:1};class gT extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"texture",void 0),(0,ai.Z)(this,"updateTexture",()=>{let{createTexture2D:e}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=e({data:this.iconService.getCanvas(),mag:aa.NEAREST,min:aa.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,UV:12,THETA_OFFSET:13})}getCommonUniformsInfo(){let{sourceColor:e,targetColor:t,textureBlend:n="normal",lineType:r="solid",dashArray:i=[10,5],lineTexture:o=!1,iconStep:a=100,segmentNumber:s=30,globalArcHeight:l=10}=this.layer.getLayerConfig(),{animateOption:c}=this.layer.getLayerConfig();2===i.length&&i.push(0,0);let u=0,d=[0,0,0,0],p=[0,0,0,0];if(e&&t&&(d=tE(e),p=tE(t),u=1),this.rendererService.getDirty()){var h;null===(h=this.texture)||void 0===h||h.bind()}let f={u_animate:this.animateOption2Array(c),u_dash_array:i,u_sourceColor:d,u_targetColor:p,u_textSize:[1024,this.iconService.canvasHeight||128],u_globel:"GLOBEL"===this.mapService.version?1:0,u_globel_radius:100,u_global_height:l,segmentNumber:s,u_line_type:g_[r]||0,u_icon_step:a,u_line_texture:o?1:0,u_textureBlend:"normal"===n?0:1,u_time:this.layer.getLayerAnimateTime()||0,u_linearColor:u},g=this.getUniformsBufferInfo(f);return g}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.initUniformsBuffer(),e.updateTexture(),e.iconService.on("imageUpdate",e.updateTexture),e.buildModels()})()}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}getShaders(){return{frag:'#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nuniform sampler2D u_texture;\n\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_dash_array: [10.0, 5., 0, 0];\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float u_globel;\n  float u_globel_radius;\n  float u_global_height: 10;\n  float segmentNumber;\n  float u_line_type: 0.0;\n  float u_icon_step: 100;\n  float u_line_texture: 0.0;\n  float u_textureBlend;\n  float u_time;\n  float u_linearColor: 0.0;\n};\n\nin vec4 v_color;\nin vec4 v_dash_array;\nin float v_segmentIndex;\nin vec2 v_iconMapUV;\nin vec4 v_line_data;\n\nout vec4 outputColor;\n\n#pragma include "picking"\n\nvoid main() {\n  float animateSpeed = 0.0; // 运动速度\n  float d_distance_ratio = v_line_data.g; // 当前点位距离占线总长的比例\n  outputColor = v_color;\n\n  if(u_line_type == LineTypeDash) {\n    float flag = 0.;\n    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    outputColor.a *=flag;\n  }\n\n  if(u_animate.x == Animate && u_line_texture != LineTexture) {\n      animateSpeed = u_time / u_animate.y;\n      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);\n\n      alpha = (alpha + u_animate.w -1.0) / u_animate.w;\n      // alpha = smoothstep(0., 1., alpha);\n      alpha = clamp(alpha, 0.0, 1.0);\n      outputColor.a *= alpha;\n\n      // u_animate\n      // x enable\n      // y duration\n      // z interval\n      // w trailLength\n  }\n\n  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture\n    // float arcRadio = smoothstep( 0.0, 1.0, (v_segmentIndex / segmentNumber));\n    float arcRadio = v_segmentIndex / (segmentNumber - 1.0);\n    float count = v_line_data.b; // // 贴图在弧线上重复的数量\n\n    float time = 0.0;\n    if(u_animate.x == Animate) {\n      time = u_time / u_animate.y;\n    }\n    float redioCount = arcRadio * count;\n\n    float u = fract(redioCount - time);\n\n    float v = v_line_data.a;  // 线图层贴图部分的 v 坐标值\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);\n\n    if(u_animate.x == Animate) {\n      float currentPlane = floor(redioCount - time);\n      float textureStep = floor(count * u_animate.z);\n      float a = mod(currentPlane, textureStep);\n      if(a < textureStep - 1.0) {\n        pattern = vec4(0.0);\n      }\n    }\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      outputColor = filterColor(outputColor + pattern);\n    } else { // replace\n        pattern.a *= v_color.a;\n        if(outputColor.a <= 0.0) {\n          pattern.a = 0.0;\n          discard;\n        } else {\n          outputColor = filterColor(pattern);\n        }\n    }\n\n  } else {\n    outputColor = filterColor(outputColor);\n  }\n}\n',vert:'#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;\n\n\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_dash_array: [10.0, 5., 0, 0];\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float u_globel;\n  float u_globel_radius;\n  float u_global_height: 10;\n  float segmentNumber;\n  float u_line_type: 0.0;\n  float u_icon_step: 100;\n  float u_line_texture: 0.0;\n  float u_textureBlend;\n  float u_time;\n  float u_linearColor: 0.0;\n};\nout vec4 v_color;\nout vec4 v_dash_array;\nout float v_segmentIndex;\nout vec2 v_iconMapUV;\nout vec4 v_line_data;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat maps (float value, float start1, float stop1, float start2, float stop2) {\n  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));\n}\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n  vec2 x = mix(source, target, ratio);\n  vec2 center = mix(source, target, 0.5);\n  float dSourceCenter = distance(source, center);\n  float dXCenter = distance(x, center);\n  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n  float vertex_height = paraboloid(source, target, segmentRatio);\n\n  return vec3(\n    mix(source, target, segmentRatio),\n    sqrt(max(0.0, vertex_height))\n  );\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  return dir_screenspace.xy * sign(offset_direction);\n}\n\nfloat torad(float deg) {\n  return (deg / 180.0) * acos(-1.0);\n}\n\nvec3 lglt2xyz(vec2 lnglat) {\n  float pi = 3.1415926;\n  // + Math.PI/2 是为了对齐坐标\n  float lng = torad(lnglat.x) + pi / 2.0;\n  float lat = torad(lnglat.y);\n\n  // 手动增加一些偏移，减轻面的冲突\n  float radius = u_globel_radius;\n\n  float z = radius * cos(lat) * cos(lng);\n  float x = radius * cos(lat) * sin(lng);\n  float y = radius * sin(lat);\n  return vec3(x, y, z);\n}\n\nvoid main() {\n  //vs中计算渐变色\n  if(u_linearColor==1.0){\n    float d_segmentIndex = a_Position.x + 1.0; // 当前顶点在弧线中所处的分段位置\n    v_color = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);\n  }\n  else{\n    v_color = a_Color;\n  }\n  v_color.a = v_color.a * opacity;\n  vec2 source = project_position(vec4(a_Instance.rg, 0, 0), a_Instance64Low.xy).xy;\n  vec2 target = project_position(vec4(a_Instance.ba, 0, 0), a_Instance64Low.zw).xy;\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n\n  float d_distance_ratio;\n   if(u_line_type == LineTypeDash) {\n    d_distance_ratio = segmentIndex / segmentNumber;\n    float total_Distance = pixelDistance(source, target) / 2.0 * PI;\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);\n  }\n    if(u_animate.x == Animate) {\n      d_distance_ratio = segmentIndex / segmentNumber;\n  }\n  v_line_data.g = d_distance_ratio; // 当前点位距离占线总长的比例\n\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  vec3 curr = getPos(source, target, segmentRatio);\n  vec3 next = getPos(source, target, nextSegmentRatio);\n  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);\n  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n\n\n  v_segmentIndex = a_Position.x;\n  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // 开启贴图模式\n\n    float arcDistrance = length(source - target);\n    float pixelLen =  project_pixel_texture(u_icon_step);\n    v_line_data.b = floor(arcDistrance/pixelLen); // 贴图在弧线上重复的数量\n\n    vec2 projectOffset = project_pixel(offset);\n    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // 线横向偏移的距离\n    float linePixelSize = project_pixel(a_Size);  // 定点位置偏移，按地图等级缩放后的距离\n    v_line_data.a = lineOffsetWidth/linePixelSize;  // 线图层贴图部分的 v 坐标值\n\n    v_iconMapUV = a_iconMapUV;\n  }\n\n\n  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z * thetaOffset, 1.0));\n\n  // 地球模式\n  if(u_globel > 0.0) {\n    vec3 startLngLat = lglt2xyz(a_Instance.rg);\n    vec3 endLngLat = lglt2xyz(a_Instance.ba);\n    float globalRadius = length(startLngLat);\n\n    vec3 lineDir = normalize(endLngLat - startLngLat);\n    vec3 midPointDir = normalize((startLngLat + endLngLat)/2.0);\n\n    // 线的偏移\n    vec3 lnglatOffset = cross(lineDir, midPointDir) * a_Position.y;\n    // 计算起始点和终止点的距离\n    float lnglatLength = length(a_Instance.rg - a_Instance.ba)/50.0;\n    // 计算飞线各个节点相应的高度\n    float lineHeight = u_global_height * (-4.0*segmentRatio*segmentRatio + 4.0 * segmentRatio) * lnglatLength;\n    // 地球点位\n    vec3 globalPoint = normalize(mix(startLngLat, endLngLat, segmentRatio)) * (globalRadius + lineHeight) + lnglatOffset * a_Size;\n\n    gl_Position = u_ViewProjectionMatrix * vec4(globalPoint, 1.0);\n  }\n\n\n  setPickingColor(a_PickingColor);\n}\n',type:""}}buildModels(){var e=this;return(0,aZ.Z)(function*(){let{segmentNumber:t=30}=e.layer.getLayerConfig(),{frag:n,vert:r,type:i}=e.getShaders(),o=yield e.layer.buildLayerModel({moduleName:"lineArc3d"+i,vertexShader:r,fragmentShader:n,defines:e.getDefines(),inject:e.getInject(),triangulation:gr,styleOption:{segmentNumber:t}});return[o]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0]]:[t]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:aR.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:4,update:(e,t,n)=>[n[3],n[4],n[5],n[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:aR.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:4,update:(e,t,n)=>[nK(n[3]),nK(n[4]),nK(n[5]),nK(n[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:aR.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{texture:n}=e,{x:r,y:i}=t[n]||{x:0,y:0};return[r,i]}}}),this.styleAttributeService.registerStyleAttribute({name:"thetaOffset",type:aR.Attribute,descriptor:{name:"a_ThetaOffset",shaderLocation:this.attributeLocation.THETA_OFFSET,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{thetaOffset:t=1}=e;return[t]}}})}}let gx={circle:2,triangle:2,diamond:4,rect:2,classic:3,halfTriangle:2,none:0};function gS(e,t){let n="object"==typeof e?e.type:e,r="source"===t?1:-1,i="object"==typeof e?e:{};switch(n){case"circle":return function(e,t){let{width:n=2,height:r=2}=t,i=f$(),o=fm().flatten([i]),a=fm()(o.vertices,o.holes,o.dimensions),s=i.map(t=>[t[0]*n*e,t[1]*r]).flat();return{vertices:[...s,...s],dimensions:2,indices:a.map(e=>e+i.length),outLineIndices:a,normals:[...i.map(t=>[t[1]*r,t[0]*n*e,1]).flat(),...Array(3*i.length).fill(0)]}}(r,i);case"triangle":return function(e,t){let{width:n=2,height:r=3}=t;return{vertices:[0,0,1*e*n,1*r,1*e*n,-1*r,0,0,1*e*n,1*r,1*e*n,-1*r],outLineIndices:[0,1,2],indices:[3,4,5],normals:[0,-1.5*e,1,2,1*e,1,-2,1*e,1,0,0,0,0,0,0,0,0,0],dimensions:2}}(r,i);case"diamond":return function(e,t){let{width:n=2,height:r=3}=t;return{vertices:[0,0,1*n*e,.5*r,2*n*e,0,1*n*e,-.5*r,0,0,1*n*e,.5*r,2*n*e,0,1*n*e,-.5*r],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-e,1,1,0,1,0,-e,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]}}(r,i);case"rect":return function(e,t){let{width:n=2,height:r=2}=t;return{vertices:[0,r/2,e*n*1,r/2,e*n*1,-r/2,0,-r/2,0,r/2,e*n*1,r/2,e*n*1,-r/2,0,-r/2],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-e,1,1,0,1,0,-e,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]}}(r,i);case"classic":return function(e,t){let{width:n=2,height:r=3}=t;return{vertices:[0,0,2*e*n,1*r,1.5*e*n,0,2*e*n,-1*r,0,0,2*e*n,1*r,1.5*e*n,0,2*e*n,-1*r],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-e,1,1,0,1,0,-e,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]}}(r,i);case"halfTriangle":return function(e,t){let{width:n=2,height:r=1}=t;return{vertices:[0,.5*e,1*e*n,-(r+.5)*e,1*e*n,(r-.5)*e,0,.5*e,1*e*n,-(r+.5)*e,1*e*n,(r-.5)*e],indices:[3,4,5],outLineIndices:[0,1,2],normals:[1*e,-2*e,1,-2*e,1.5*e,1,1*e,1.5*e,1,0,0,0,0,0,0,0,0,0],dimensions:2}}(r,i);default:return{vertices:[],indices:[],normals:[],dimensions:2,outLineIndices:[],outLineNormals:[]}}}function gA(e,t){return t?function(e,t){let n=e.coordinates.flat(),{target:r="classic",source:i="circle"}=t,o=gC(gS(i,"source"),n,0,0),a=function(e,t=0,n){let r="object"==typeof n.source?n.source.type:n.source,i="object"==typeof n.target?n.target.type:n.target,{width:o=r?gx[r]:0}="object"==typeof n.source?n.source:{},{width:a=i?gx[i]:0}="object"==typeof n.target?n.target:{};return{vertices:[0,.5,1*o,...e,1,.5,-1*a,...e,1,-.5,-1*a,...e,0,-.5,1*o,...e,0,.5,1*o,...e,1,.5,-1*a,...e,1,-.5,-1*a,...e,0,-.5,1*o,...e],outLineIndices:[0,1,2,0,2,3].map(e=>e+t),indices:[4,5,6,4,6,7].map(e=>e+t),normals:[1,-1,1,1,1,1,-1,0,1,-1,0,1,0,0,0,0,0,0,0,0,0,0,0,0],dimensions:2}}(n,o.vertices.length/7,t),s=gC(gS(r,"target"),n,1,o.vertices.length/7+a.vertices.length/7),l={vertices:[...o.vertices,...a.vertices,...s.vertices],indices:[...o.outLineIndices,...a.outLineIndices,...s.outLineIndices,...o.indices,...a.indices,...s.indices],normals:[...o.normals,...a.normals,...s.normals],size:7};return l}(e,t):function(e){let t=e.coordinates.flat();return{vertices:[1,0,0,...t,1,2,-3,...t,1,1,-3,...t,0,1,0,...t,0,0,0,...t,1,0,0,...t,1,2,-3,...t,1,1,-3,...t,0,1,0,...t,0,0,0,...t],normals:[-1,2,1,2,-1,1,1,-1,1,1,-1,1,-1,-1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],indices:[0,1,2,0,2,3,0,3,4,5,6,7,5,7,8,5,8,9],size:7}}(e)}function gC(e,t,n=1,r=0){let i=[],{vertices:o,indices:a,dimensions:s,outLineIndices:l}=e;for(let e=0;e<o.length;e+=s)i.push(n,o[e+1],o[e],...t);return(0,ar.Z)((0,ar.Z)({},e),{},{vertices:i,indices:a.map(e=>e+r),outLineIndices:l.map(e=>e+r)})}let gw={solid:0,dash:1};class gO extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"textureEventFlag",!1),(0,ai.Z)(this,"texture",this.createTexture2D({data:new Uint8Array([0,0,0,0]),width:1,height:1})),(0,ai.Z)(this,"updateTexture",()=>{let{createTexture2D:e}=this.rendererService;if(0===this.textures.length&&(this.textures=[this.texture]),this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=e({data:this.iconService.getCanvas(),mag:aa.NEAREST,min:aa.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128})})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,DISTANCE_INDEX:10,NORMAL:11,UV:12})}getCommonUniformsInfo(){let{sourceColor:e,targetColor:t,textureBlend:n="normal",lineType:r="solid",dashArray:i=[10,5,0,0],lineTexture:o=!1,iconStep:a=100,vertexHeightScale:s=20,strokeWidth:l=0,raisingHeight:c=0,heightfixed:u=!1,linearDir:d=fT.VERTICAL,blur:p=[1,1,1,0]}=this.layer.getLayerConfig(),h=i;if("dash"!==r&&(h=[0,0,0,0]),2===h.length&&h.push(0,0),this.rendererService.getDirty()&&this.texture){var f;null===(f=this.texture)||void 0===f||f.bind()}let{animateOption:g}=this.layer.getLayerConfig(),m=0,b=[0,0,0,0],v=[0,0,0,0];e&&t&&(b=tE(e),v=tE(t),m=1);let y={u_animate:this.animateOption2Array(g),u_dash_array:h,u_blur:p,u_sourceColor:b,u_targetColor:v,u_textSize:[1024,this.iconService.canvasHeight||128],u_icon_step:a,u_heightfixed:Number(u),u_vertexScale:s,u_raisingHeight:Number(c),u_strokeWidth:l,u_textureBlend:n===fx.NORMAL?0:1,u_line_texture:o?1:0,u_linearDir:d===fT.VERTICAL?1:0,u_linearColor:m,u_time:this.layer.getLayerAnimateTime()||0},E=this.getUniformsBufferInfo(y);return E}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.initUniformsBuffer(),e.textureEventFlag||(e.textureEventFlag=!0,e.updateTexture(),e.iconService.on("imageUpdate",e.updateTexture)),e.buildModels()})()}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var e=this;return(0,aZ.Z)(function*(){let{depth:t=!1}=e.layer.getLayerConfig(),{frag:n,vert:r,type:i}=e.getShaders();e.layer.triangulation=f5;let o=yield e.layer.buildLayerModel({moduleName:"line"+i,vertexShader:r,fragmentShader:n,triangulation:f5,defines:e.getDefines(),inject:e.getInject(),depth:{enable:t}});return[o]})()}getShaders(){return{frag:'// #extension GL_OES_standard_derivatives : enable\n#define Animate 0.0\n#define LineTexture 1.0\n\nuniform sampler2D u_texture;\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_dash_array;\n  vec4 u_blur;\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float u_icon_step: 100;\n  float u_heightfixed: 0.0;\n  float u_vertexScale: 1.0;\n  float u_raisingHeight: 0.0;\n  float u_strokeWidth: 0.0;\n  float u_textureBlend;\n  float u_line_texture;\n  float u_linearDir: 1.0;\n  float u_linearColor: 0;\n  float u_time;\n};\n\nin vec4 v_color;\nin vec4 v_stroke;\n// dash\nin vec4 v_dash_array;\nin float v_d_distance_ratio;\nin vec2 v_iconMapUV;\nin vec4 v_texture_data;\n\nout vec4 outputColor;\n#pragma include "picking"\n\n// [animate, duration, interval, trailLength],\nvoid main() {\n  if(u_dash_array!=vec4(0.0)){\n    float dashLength = mod(v_d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {\n      // 虚线部分\n      discard;\n    };\n  }\n  float animateSpeed = 0.0; // 运动速度\n  float d_distance_ratio = v_texture_data.r; // 当前点位距离占线总长的比例\n  if(u_linearDir < 1.0) {\n    d_distance_ratio = v_texture_data.a;\n  }\n  if(u_linearColor == 1.0) { // 使用渐变颜色\n    outputColor = mix(u_sourceColor, u_targetColor, d_distance_ratio);\n    outputColor.a *= v_color.a;\n  } else { // 使用 color 方法传入的颜色\n     outputColor = v_color;\n  }\n  // anti-alias\n  // float blur = 1.0 - smoothstep(u_blur, 1., length(v_normal.xy));\n  if(u_animate.x == Animate) {\n      animateSpeed = u_time / u_animate.y;\n       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + animateSpeed);\n      alpha = (alpha + u_animate.w -1.0) / u_animate.w;\n      alpha = smoothstep(0., 1., alpha);\n      outputColor.a *= alpha;\n  }\n\n  if(u_line_texture == LineTexture) { // while load texture\n    float aDistance = v_texture_data.g;      // 当前顶点的距离\n    float d_texPixelLen = v_texture_data.b;  // 贴图的像素长度，根据地图层级缩放\n    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);\n    float v = v_texture_data.a;  // 线图层贴图部分的 v 坐标值\n\n    // v = max(smoothstep(0.95, 1.0, v), v);\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n     vec4 pattern = texture(SAMPLER_2D(u_texture), uv);\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      outputColor += pattern;\n    } else { // replace\n        pattern.a *= v_color.a;\n        if(outputColor.a <= 0.0) {\n          pattern.a = 0.0;\n        }\n        outputColor = pattern;\n    }\n  } \n\n  float v = v_texture_data.a;\n  float strokeWidth = min(0.5, u_strokeWidth);\n  // 绘制 border\n  if(strokeWidth > 0.01) {\n    float borderOuterWidth = strokeWidth / 2.0;\n\n\n    if(v >= 1.0 - strokeWidth || v <= strokeWidth) {\n      if(v > strokeWidth) { // 外侧\n        float linear = smoothstep(0.0, 1.0, (v - (1.0 - strokeWidth))/strokeWidth);\n        //  float linear = step(0.0, (v - (1.0 - borderWidth))/borderWidth);\n        outputColor.rgb = mix(outputColor.rgb, v_stroke.rgb, linear);\n      } else if(v <= strokeWidth) {\n        float linear = smoothstep(0.0, 1.0, v/strokeWidth);\n        outputColor.rgb = mix(v_stroke.rgb, outputColor.rgb, linear);\n      }\n    }\n\n    if(v < borderOuterWidth) {\n      outputColor.a = mix(0.0, outputColor.a, v/borderOuterWidth);\n    } else if(v > 1.0 - borderOuterWidth) {\n      outputColor.a = mix(outputColor.a, 0.0, (v - (1.0 - borderOuterWidth))/borderOuterWidth);\n    }\n  }\n\n  // blur\n  float blurV = v_texture_data.a;\n  if(blurV < 0.5) {\n    outputColor.a *= mix(u_blur.r, u_blur.g, blurV/0.5);\n  } else {\n    outputColor.a *= mix(u_blur.g, u_blur.b, (blurV - 0.5)/0.5);\n  }\n  \n  outputColor = filterColor(outputColor);\n}\n',vert:'#define Animate (0.0)\n\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;\nlayout(location = ATTRIBUTE_LOCATION_DISTANCE_INDEX) in vec3 a_DistanceAndIndexAndMiter;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec4 a_Normal_Total_Distance;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;\n\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_dash_array;\n  vec4 u_blur;\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float u_icon_step: 100;\n  float u_heightfixed: 0.0;\n  float u_vertexScale: 1.0;\n  float u_raisingHeight: 0.0;\n  float u_strokeWidth: 0.0;\n  float u_textureBlend;\n  float u_line_texture;\n  float u_linearDir: 1.0;\n  float u_linearColor: 0;\n  float u_time;\n};\n\nout vec4 v_color;\nout vec4 v_stroke;\n//dash\nout vec4 v_dash_array;\nout float v_d_distance_ratio;\n// texV 线图层 - 贴图部分的 v 坐标（线的宽度方向）\nout vec2 v_iconMapUV;\nout vec4 v_texture_data;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  vec2 a_DistanceAndIndex = a_DistanceAndIndexAndMiter.xy;\n  float a_Miter = a_DistanceAndIndexAndMiter.z;\n  vec3 a_Normal = a_Normal_Total_Distance.xyz;\n  float a_Total_Distance = a_Normal_Total_Distance.w;\n  //dash输出\n  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_Total_Distance;\n  v_d_distance_ratio = a_DistanceAndIndex.x / a_Total_Distance;\n\n  // cal style mapping - 数据纹理映射部分的计算\n  float d_texPixelLen; // 贴图的像素长度，根据地图层级缩放\n  v_iconMapUV = a_iconMapUV;\n  d_texPixelLen = project_float_pixel(u_icon_step);\n\n  v_color = a_Color;\n  v_color.a *= opacity;\n  v_stroke = stroke;\n\n  vec3 size = a_Miter * setPickingSize(a_Size.x) * a_Normal;\n\n  vec2 offset = project_pixel(size.xy);\n\n  float lineDistance = a_DistanceAndIndex.x;\n  float currentLinePointRatio = lineDistance / a_Total_Distance;\n\n  float lineOffsetWidth = length(offset + offset * sign(a_Miter)); // 线横向偏移的距离（向两侧偏移的和）\n  float linePixelSize = project_pixel(a_Size.x) * 2.0; // 定点位置偏移，按地图等级缩放后的距离 单侧 * 2\n  float texV = lineOffsetWidth / linePixelSize; // 线图层贴图部分的 v 坐标值\n\n  v_texture_data = vec4(currentLinePointRatio, lineDistance, d_texPixelLen, texV);\n  // 设置数据集的参数\n\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);\n\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));\n\n  float h = float(a_Position.z) * u_vertexScale; // 线顶点的高度 - 兼容不存在第三个数值的情况 vertex height\n  float lineHeight = a_Size.y; // size 第二个参数代表的高度 [linewidth, lineheight]\n\n  // 兼容 mapbox 在线高度上的效果表现基本一致\n  if (\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    // mapbox\n    // 保持高度相对不变\n    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\n    h *= mapboxZoomScale;\n    h += u_raisingHeight * mapboxZoomScale;\n    if (u_heightfixed > 0.0) {\n      lineHeight *= mapboxZoomScale;\n    }\n  }\n\n  gl_Position = project_common_position_to_clipspace(\n    vec4(project_pos.xy + offset, lineHeight + h, 1.0)\n  );\n\n  setPickingColor(a_PickingColor);\n}\n',type:""}}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"distanceAndIndex",type:aR.Attribute,descriptor:{name:"a_DistanceAndIndexAndMiter",shaderLocation:this.attributeLocation.DISTANCE_INDEX,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(e,t,n,r,i,o)=>void 0===o?[n[3],10,n[4]]:[n[3],o,n[4]]}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0],t[1]]:[t,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal_total_distance",type:aR.Attribute,descriptor:{name:"a_Normal_Total_Distance",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:4,update:(e,t,n,r,i)=>[...i,n[5]]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:aR.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{texture:n}=e,{x:r,y:i}=t[n]||{x:0,y:0};return[r,i]}}})}}var gI={arc:class extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"texture",void 0),(0,ai.Z)(this,"updateTexture",()=>{let{createTexture2D:e}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=e({data:this.iconService.getCanvas(),mag:aa.NEAREST,min:aa.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,UV:12,THETA_OFFSET:13})}getCommonUniformsInfo(){let{sourceColor:e,targetColor:t,textureBlend:n="normal",lineType:r="solid",dashArray:i=[10,5],forward:o=!0,lineTexture:a=!1,iconStep:s=100,segmentNumber:l=30}=this.layer.getLayerConfig(),{animateOption:c}=this.layer.getLayerConfig(),u=i;"dash"!==r&&(u=[0,0]),2===u.length&&u.push(0,0);let d=0,p=[0,0,0,0],h=[0,0,0,0];if(e&&t&&(p=tE(e),h=tE(t),d=1),this.rendererService.getDirty()){var f;null===(f=this.texture)||void 0===f||f.bind()}let g={u_animate:this.animateOption2Array(c),u_dash_array:u,u_sourceColor:p,u_targetColor:h,u_textSize:[1024,this.iconService.canvasHeight||128],segmentNumber:l,u_lineDir:o?1:-1,u_icon_step:s,u_line_texture:a?1:0,u_textureBlend:"normal"===n?0:1,u_blur:.9,u_line_type:gE[r||"solid"],u_time:this.layer.getLayerAnimateTime()||0,u_linearColor:d},m=this.getUniformsBufferInfo(g);return m}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.updateTexture(),e.iconService.on("imageUpdate",e.updateTexture),e.buildModels()})()}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}getShaders(){return{frag:'\n#define Animate 0.0\n#define LineTexture 1.0\nuniform sampler2D u_texture;\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_dash_array;\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float segmentNumber;\n  float u_lineDir: 1.0;\n  float u_icon_step: 100;\n  float u_line_texture: 0.0;\n  float u_textureBlend;\n  float u_blur : 0.9;\n  float u_line_type: 0.0;\n  float u_time;\n  float u_linearColor: 0.0;\n};\n\nin vec4 v_color;\nin vec2 v_iconMapUV;\nin vec4 v_lineData;\n//dash\nin vec4 v_dash_array;\nin float v_distance_ratio;\n\nout vec4 outputColor;\n#pragma include "picking"\n\nvoid main() {\n  if(u_dash_array!=vec4(0.0)){\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {\n      discard;\n    };\n  }\n  float animateSpeed = 0.0; // 运动速度\n  outputColor = v_color;\n  if(u_animate.x == Animate && u_line_texture != LineTexture) {\n      animateSpeed = u_time / u_animate.y;\n      float alpha =1.0 - fract( mod(1.0- v_lineData.b, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);\n      alpha = (alpha + u_animate.w -1.0) / u_animate.w;\n      // alpha = smoothstep(0., 1., alpha);\n      alpha = clamp(alpha, 0.0, 1.0);\n      outputColor.a *= alpha;\n  }\n\n  // 当存在贴图时在底色上贴上贴图\n  if(u_line_texture == LineTexture) { // while load texture\n    float arcRadio = smoothstep( 0.0, 1.0, (v_lineData.r / segmentNumber));\n    // float arcRadio = smoothstep( 0.0, 1.0, d_distance_ratio);\n\n    float count = v_lineData.g; // 贴图在弧线上重复的数量\n\n    float time = 0.0;\n    if(u_animate.x == Animate) {\n      time = u_time / u_animate.y;\n    }\n    float redioCount = arcRadio * count;\n\n    float u = fract(redioCount - time);\n    float v = v_lineData.a; // 横向 v\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n\n    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);\n\n    if(u_animate.x == Animate) {\n      float currentPlane = floor(redioCount - time);\n      float textureStep = floor(count * u_animate.z);\n      float a = mod(currentPlane, textureStep);\n      if(a < textureStep - 1.0) {\n        pattern = vec4(0.0);\n      }\n    }\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      outputColor = filterColor(outputColor + pattern);\n    } else { // replace\n        pattern.a *= v_color.a;\n        if(outputColor.a <= 0.0) {\n          pattern.a = 0.0;\n        }\n        outputColor = filterColor(pattern);\n    }\n    \n  } else {\n     outputColor = filterColor(outputColor);\n  }\n}',vert:'#define Animate (0.0)\n#define LineTexture (1.0)\n\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;\n\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_dash_array;\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float segmentNumber;\n  float u_lineDir: 1.0;\n  float u_icon_step: 100;\n  float u_line_texture: 0.0;\n  float u_textureBlend;\n  float u_blur : 0.9;\n  float u_line_type: 0.0;\n  float u_time;\n  float u_linearColor: 0.0;\n};\n\nout vec4 v_color;\nout vec2 v_iconMapUV;\nout vec4 v_lineData;\n//dash\nout vec4 v_dash_array;\nout float v_distance_ratio;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat bezier3(vec3 arr, float t) {\n  float ut = 1.0 - t;\n  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;\n}\nvec2 midPoint(vec2 source, vec2 target, float arcThetaOffset) {\n  vec2 center = target - source;\n  float r = length(center);\n  float theta = atan(center.y, center.x);\n  float thetaOffset = arcThetaOffset;\n  float r2 = r / 2.0 / cos(thetaOffset);\n  float theta2 = theta + thetaOffset;\n  vec2 mid = vec2(r2 * cos(theta2) + source.x, r2 * sin(theta2) + source.y);\n  if (u_lineDir == 1.0) {\n    // 正向\n    return mid;\n  } else {\n    // 逆向\n    // (mid + vmin)/2 = (s + t)/2\n    vec2 vmid = source + target - mid;\n    return vmid;\n  }\n  // return mid;\n}\nfloat getSegmentRatio(float index) {\n  // dash: index / (segmentNumber - 1.);\n  // normal: smoothstep(0.0, 1.0, index / (segmentNumber - 1.));\n  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));\n  //  return index / (segmentNumber - 1.);\n}\nvec2 interpolate(vec2 source, vec2 target, float t, float arcThetaOffset) {\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\n  vec2 mid = midPoint(source, target, arcThetaOffset);\n  vec3 x = vec3(source.x, mid.x, target.x);\n  vec3 y = vec3(source.y, mid.y, target.y);\n  return vec2(bezier3(x, t), bezier3(y, t));\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n   return dir_screenspace.xy * sign(offset_direction);\n}\n\nvoid main() {\n  //vs中计算渐变色\n  if (u_linearColor == 1.0) {\n    float d_segmentIndex = a_Position.x + 1.0; // 当前顶点在弧线中所处的分段位置\n    v_color = mix(u_sourceColor, u_targetColor, d_segmentIndex / segmentNumber);\n  } else {\n    v_color = a_Color;\n  }\n  v_color.a = v_color.a * opacity;\n\n  vec2 source_world = a_Instance.rg; // 起始点\n  vec2 target_world = a_Instance.ba; // 终点\n\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n\n  // 计算 dashArray 和 distanceRatio 输出到片元\n  float total_Distance = pixelDistance(source_world, target_world) / 2.0 * PI;\n  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;\n  v_distance_ratio = segmentIndex / segmentNumber;\n\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  float d_distance_ratio;\n\n  if(u_animate.x == Animate) {\n      d_distance_ratio = segmentIndex / segmentNumber;\n      if(u_lineDir != 1.0) {\n        d_distance_ratio = 1.0 - d_distance_ratio;\n      }\n  }\n\n  v_lineData.b = d_distance_ratio;\n\n  vec4 source = project_position(vec4(source_world, 0, 1.), a_Instance64Low.xy);\n  vec4 target = project_position(vec4(target_world, 0, 1.), a_Instance64Low.zw);\n\n  vec2 currPos = interpolate(source.xy, target.xy, segmentRatio, thetaOffset);\n  vec2 nextPos = interpolate(source.xy, target.xy, nextSegmentRatio, thetaOffset);\n\n  vec2 offset = project_pixel(\n    getExtrusionOffset((nextPos.xy - currPos.xy) * indexDir, a_Position.y)\n  );\n\n  float d_segmentIndex = a_Position.x + 1.0; // 当前顶点在弧线中所处的分段位置\n  v_lineData.r = d_segmentIndex;\n\n  if(LineTexture == u_line_texture) { // 开启贴图模式\n    float arcDistrance = length(source - target); // 起始点和终点的距离\n    arcDistrance = project_pixel(arcDistrance);\n\n    v_iconMapUV = a_iconMapUV;\n\n    float pixelLen = project_pixel_texture(u_icon_step); // 贴图沿弧线方向的长度 - 随地图缩放改变\n    float texCount = floor(arcDistrance / pixelLen); // 贴图在弧线上重复的数量\n    v_lineData.g = texCount;\n\n    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // 线横向偏移的距离\n    float linePixelSize = project_pixel(a_Size); // 定点位置偏移\n    v_lineData.a = lineOffsetWidth / linePixelSize; // 线图层贴图部分的 v 坐标值\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(currPos.xy + offset, 0, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',type:""}}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.initUniformsBuffer();let{segmentNumber:t=30}=e.layer.getLayerConfig(),{frag:n,vert:r,type:i}=e.getShaders(),o=yield e.layer.buildLayerModel({moduleName:"lineArc2d"+i,vertexShader:r,fragmentShader:n,defines:e.getDefines(),inject:e.getInject(),triangulation:gr,depth:{enable:!1},styleOption:{segmentNumber:t}});return[o]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0]]:[t]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:aR.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:4,update:(e,t,n)=>[n[3],n[4],n[5],n[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:aR.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:4,update:(e,t,n)=>[nK(n[3]),nK(n[4]),nK(n[5]),nK(n[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:aR.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{texture:n}=e,{x:r,y:i}=t[n]||{x:0,y:0};return[r,i]}}}),this.styleAttributeService.registerStyleAttribute({name:"thetaOffset",type:aR.Attribute,descriptor:{name:"a_ThetaOffset",shaderLocation:this.attributeLocation.THETA_OFFSET,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{thetaOffset:t=1}=e;return[t]}}})}},arc3d:gT,greatcircle:class extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"texture",void 0),(0,ai.Z)(this,"updateTexture",()=>{let{createTexture2D:e}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=e({data:this.iconService.getCanvas(),mag:aa.NEAREST,min:aa.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,UV:12})}getCommonUniformsInfo(){let{sourceColor:e,targetColor:t,textureBlend:n="normal",lineType:r="solid",dashArray:i=[10,5],lineTexture:o=!1,iconStep:a=100,segmentNumber:s=30}=this.layer.getLayerConfig(),{animateOption:l}=this.layer.getLayerConfig();if(2===i.length&&i.push(0,0),this.rendererService.getDirty()){var c;null===(c=this.texture)||void 0===c||c.bind()}let u=0,d=[0,0,0,0],p=[0,0,0,0];e&&t&&(d=tE(e),p=tE(t),u=1);let h=this.layer.getLayerAnimateTime();isNaN(h)&&(h=0);let f={u_animate:this.animateOption2Array(l),u_dash_array:i,u_sourceColor:d,u_targetColor:p,u_textSize:[1024,this.iconService.canvasHeight||128],segmentNumber:s,u_line_type:gw[r]||0,u_icon_step:a,u_line_texture:o?1:0,u_textureBlend:"normal"===n?0:1,u_time:h,u_linearColor:u},g=this.getUniformsBufferInfo(f);return g}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.initUniformsBuffer(),e.updateTexture(),e.iconService.on("imageUpdate",e.updateTexture),e.buildModels()})()}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var e=this;return(0,aZ.Z)(function*(){let{segmentNumber:t=30}=e.layer.getLayerConfig(),n=yield e.layer.buildLayerModel({moduleName:"lineGreatCircle",vertexShader:'#define LineTypeSolid (0.0)\n#define LineTypeDash (1.0)\n#define Animate (0.0)\n#define LineTexture (1.0)\n\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;\n\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_dash_array: [10.0, 5., 0, 0];\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float segmentNumber;\n  float u_line_type: 0.0;\n  float u_icon_step: 100;\n  float u_line_texture: 0.0;\n  float u_textureBlend;\n  float u_time;\n  float u_linearColor: 0;\n};\n\nout vec4 v_dash_array;\nout vec4 v_color;\nout vec2 v_iconMapUV;\nout vec4 v_line_data;\nout float v_distance_ratio;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat maps(float value, float start1, float stop1, float start2, float stop2) {\n  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));\n}\n\nfloat getSegmentRatio(float index) {\n  return index / (segmentNumber - 1.0);\n}\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n  vec2 x = mix(source, target, ratio);\n  vec2 center = mix(source, target, 0.5);\n  float dSourceCenter = distance(source, center);\n  float dXCenter = distance(x, center);\n  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n  float vertex_height = paraboloid(source, target, segmentRatio);\n\n  return vec3(mix(source, target, segmentRatio), sqrt(max(0.0, vertex_height)));\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  return dir_screenspace.xy * sign(offset_direction);\n}\nfloat getAngularDist(vec2 source, vec2 target) {\n  vec2 delta = source - target;\n  vec2 sin_half_delta = sin(delta / 2.0);\n  float a =\n    sin_half_delta.y * sin_half_delta.y +\n    cos(source.y) * cos(target.y) * sin_half_delta.x * sin_half_delta.x;\n  return 2.0 * atan(sqrt(a), sqrt(1.0 - a));\n}\n\nvec2 midPoint(vec2 source, vec2 target) {\n  vec2 center = target - source;\n  float r = length(center);\n  float theta = atan(center.y, center.x);\n  float thetaOffset = 0.314;\n  float r2 = r / 2.0 / cos(thetaOffset);\n  float theta2 = theta + thetaOffset;\n  vec2 mid = vec2(r2 * cos(theta2) + source.x, r2 * sin(theta2) + source.y);\n  return mid;\n}\nfloat bezier3(vec3 arr, float t) {\n  float ut = 1.0 - t;\n  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;\n}\n\nvec2 interpolate(vec2 source, vec2 target, float angularDist, float t) {\n  if (abs(angularDist - PI) < 0.001) {\n    return (1.0 - t) * source + t * target;\n  }\n  float a = sin((1.0 - t) * angularDist) / sin(angularDist);\n  float b = sin(t * angularDist) / sin(angularDist);\n  vec2 sin_source = sin(source);\n  vec2 cos_source = cos(source);\n  vec2 sin_target = sin(target);\n  vec2 cos_target = cos(target);\n  float x = a * cos_source.y * cos_source.x + b * cos_target.y * cos_target.x;\n  float y = a * cos_source.y * sin_source.x + b * cos_target.y * sin_target.x;\n  float z = a * sin_source.y + b * sin_target.y;\n  return vec2(atan(y, x), atan(z, sqrt(x * x + y * y)));\n\n}\n\nvoid main() {\n  v_color = a_Color;\n  v_color.a = v_color.a * opacity;\n  vec2 source = radians(a_Instance.rg);\n  vec2 target = radians(a_Instance.ba);\n  float angularDist = getAngularDist(source, target);\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n\n  if (u_line_type == LineTypeDash) {\n    v_distance_ratio = segmentIndex / segmentNumber;\n    float total_Distance = pixelDistance(source, target) / 2.0 * PI;\n    total_Distance = total_Distance * 16.0; // total_Distance*16.0 调整默认的效果\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;\n  }\n\n  if (u_animate.x == Animate) {\n    v_distance_ratio = segmentIndex / segmentNumber;\n  }\n\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  v_distance_ratio = segmentIndex / segmentNumber;\n\n  vec4 curr = project_position(vec4(degrees(interpolate(source, target, angularDist, segmentRatio)), 0.0, 1.0), a_Instance64Low.xy);\n  vec4 next = project_position(vec4(degrees(interpolate(source, target, angularDist, nextSegmentRatio)), 0.0, 1.0), a_Instance64Low.zw);\n\n  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));\n  //  vec4 project_pos = project_position(vec4(curr.xy, 0, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));\n\n  v_line_data.g = a_Position.x; // 该顶点在弧线上的分段排序\n  if (LineTexture == u_line_texture) {\n    float d_arcDistrance = length(source - target);\n    d_arcDistrance = project_pixel(d_arcDistrance);\n\n    float d_pixelLen = project_pixel(u_icon_step) / 8.0;\n    v_line_data.b = floor(d_arcDistrance / d_pixelLen); // 贴图在弧线上重复的数量\n\n    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // 线横向偏移的距离\n    float linePixelSize = project_pixel(a_Size); // 定点位置偏移，按地图等级缩放后的距离\n    v_line_data.a = lineOffsetWidth / linePixelSize; // 线图层贴图部分的 v 坐标值\n\n    v_iconMapUV = a_iconMapUV;\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));\n  setPickingColor(a_PickingColor);\n}\n\n',fragmentShader:'#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nuniform sampler2D u_texture;\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_dash_array: [10.0, 5., 0, 0];\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float segmentNumber;\n  float u_line_type: 0.0;\n  float u_icon_step: 100;\n  float u_line_texture: 0.0;\n  float u_textureBlend;\n  float u_time;\n  float u_linearColor: 0;\n};\n\nin vec4 v_dash_array;\nin vec4 v_color;\nin vec2 v_iconMapUV;\nin vec4 v_line_data;\nin float v_distance_ratio;\n\nout vec4 outputColor;\n#pragma include "picking"\n#pragma include "project"\n#pragma include "projection"\n\nvoid main() {\n\n  float animateSpeed = 0.0;\n  float d_segmentIndex = v_line_data.g;\n\n  // 设置弧线的底色\n  if(u_linearColor == 1.0) { // 使用渐变颜色\n    outputColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);\n    outputColor.a *= v_color.a;\n  } else { // 使用 color 方法传入的颜色\n    outputColor = v_color;\n  }\n\n  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));\n  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));\n  if(u_line_type == LineTypeDash) {\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      // 实线部分\n    } else {\n      // 虚线部分\n      discard;\n    };\n  }\n\n  // 设置弧线的动画模式\n  if(u_animate.x == Animate) {\n      animateSpeed = u_time / u_animate.y;\n      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);\n      alpha = (alpha + u_animate.w -1.0) / u_animate.w;\n      alpha = smoothstep(0., 1., alpha);\n      outputColor.a *= alpha;\n  }\n\n  // 设置弧线的贴图\n  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) {\n    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / (segmentNumber - 1.0)));\n    // float arcRadio = d_segmentIndex / (segmentNumber - 1.0);\n    float count = v_line_data.b; // 贴图在弧线上重复的数量\n    float u = fract(arcRadio * count - animateSpeed * count);\n    // float u = fract(arcRadio * count - animateSpeed);\n    if(u_animate.x == Animate) {\n      u = outputColor.a/v_color.a;\n    }\n\n    float v = v_line_data.a; // 线图层贴图部分的 v 坐标值\n\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);\n\n    // 设置贴图和底色的叠加模式\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      outputColor = filterColor(outputColor + pattern);\n    } else { // replace\n        pattern.a *= v_color.a;\n        if(outputColor.a <= 0.0) {\n          pattern.a = 0.0;\n        }\n        outputColor = filterColor(pattern);\n    }\n  } else {\n    outputColor = filterColor(outputColor);\n  }\n\n  // gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:gr,styleOption:{segmentNumber:t},defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1}});return[n]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0]]:[t]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:aR.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:4,update:(e,t,n)=>[n[3],n[4],n[5],n[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:aR.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:4,update:(e,t,n)=>[nK(n[3]),nK(n[4]),nK(n[5]),nK(n[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:aR.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{texture:n}=e,{x:r,y:i}=t[n]||{x:0,y:0};return[r,i]}}})}},wall:class extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"texture",void 0),(0,ai.Z)(this,"updateTexture",()=>{let{createTexture2D:e}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=e({data:this.iconService.getCanvas(),mag:aa.NEAREST,min:aa.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:12,UV:13,DISTANCE_MITER_TOTAL:15})}getCommonUniformsInfo(){let{sourceColor:e,targetColor:t,textureBlend:n="normal",heightfixed:r=!1,lineTexture:i=!1,iconStep:o=100,iconStepCount:a=1}=this.layer.getLayerConfig(),{animateOption:s}=this.layer.getLayerConfig();if(this.rendererService.getDirty()){var l;null===(l=this.texture)||void 0===l||l.bind()}let c=0,u=[0,0,0,0],d=[0,0,0,0];e&&t&&(u=tE(e),d=tE(t),c=1);let p={u_animate:this.animateOption2Array(s),u_sourceColor:u,u_targetColor:d,u_textSize:[1024,this.iconService.canvasHeight||128],u_icon_step:o,u_heightfixed:Number(r),u_linearColor:c,u_line_texture:i?1:0,u_textureBlend:"normal"===n?0:1,u_iconStepCount:a,u_time:this.layer.getLayerAnimateTime()||0},h=this.getUniformsBufferInfo(p);return h}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.initUniformsBuffer(),e.updateTexture(),e.iconService.on("imageUpdate",e.updateTexture),e.buildModels()})()}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var e=this;return(0,aZ.Z)(function*(){let t=yield e.layer.buildLayerModel({moduleName:"lineWall",vertexShader:'#define Animate 0.0\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;\nlayout(location = ATTRIBUTE_LOCATION_DISTANCE_MITER_TOTAL) in vec3 a_Distance_Total_Miter;\n\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float u_icon_step: 100;\n  float u_heightfixed;\n  float u_linearColor: 0;\n  float u_line_texture;\n  float u_textureBlend;\n  float u_iconStepCount;\n  float u_time;\n};\n\n// texV 线图层 - 贴图部分的 v 坐标（线的宽度方向）\nout vec2 v_iconMapUV;\nout vec4 v_color;\nout float v_blur;\nout vec4 v_dataset;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  float a_Distance = a_Distance_Total_Miter.x;\n  float a_Miter = a_Distance_Total_Miter.y;\n  float a_Total_Distance = a_Distance_Total_Miter.z;\n\n  float d_distance_ratio; // 当前点位距离占线总长的比例\n  float d_texPixelLen; // 贴图的像素长度，根据地图层级缩放\n\n  v_iconMapUV = a_iconMapUV;\n  if (u_heightfixed < 1.0) {\n    // 高度随 zoom 调整\n    d_texPixelLen = project_pixel(u_icon_step);\n  } else {\n    d_texPixelLen = u_icon_step;\n  }\n\n  if (u_animate.x == Animate || u_linearColor == 1.0) {\n    d_distance_ratio = a_Distance / a_Total_Distance;\n  }\n\n  float miter = (a_Miter + 1.0) / 2.0;\n  // 设置数据集的参数\n  v_dataset[0] = d_distance_ratio; // 当前点位距离占线总长的比例\n  v_dataset[1] = a_Distance; // 当前顶点的距离\n  v_dataset[2] = d_texPixelLen; // 贴图的像素长度，根据地图层级缩放\n  v_dataset[3] = miter; // 线图层贴图部分的 v 坐标值 0 - 1\n\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);\n\n  float originSize = a_Size.x; // 固定高度\n  if (u_heightfixed < 1.0) {\n    originSize = project_float_meter(a_Size.x); // 高度随 zoom 调整\n  }\n\n  float wallHeight = originSize * miter;\n  float lightWeight = calc_lighting(vec4(project_pos.xy, wallHeight, 1.0));\n\n  v_blur = min(project_float_pixel(2.0) / originSize, 0.05);\n  v_color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);\n\n  // 兼容 mapbox 在线高度上的效果表现基本一致\n  if (\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    // mapbox\n    // 保持高度相对不变\n    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\n    if (u_heightfixed > 0.0) {\n      wallHeight *= mapboxZoomScale;\n    }\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, wallHeight, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'#define Animate 0.0\n#define LineTexture 1.0\n\n// line texture\n\nuniform sampler2D u_texture;\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float u_icon_step: 100;\n  float u_heightfixed;\n  float u_linearColor: 0;\n  float u_line_texture;\n  float u_textureBlend;\n  float u_iconStepCount;\n  float u_time;\n};\n\n\nin vec2 v_iconMapUV;\nin vec4 v_color;\nin float v_blur;\nin vec4 v_dataset;\n\nout vec4 outputColor;\n\n#pragma include "picking"\n\nvoid main() {\n  float animateSpeed = 0.0; // 运动速度\n  float d_distance_ratio = v_dataset.r; // 当前点位距离占线总长的比例\n  float v = v_dataset.a;\n\n  if(u_linearColor == 1.0) { // 使用渐变颜色\n    outputColor = mix(u_sourceColor, u_targetColor, v);\n  } else { // 使用 color 方法传入的颜色\n     outputColor = v_color;\n  }\n\n  outputColor.a *= v_color.a; // 全局透明度\n  if(u_animate.x == Animate) {\n      animateSpeed = u_time / u_animate.y;\n       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + animateSpeed);\n      alpha = (alpha + u_animate.w -1.0) / u_animate.w;\n      alpha = smoothstep(0., 1., alpha);\n      outputColor.a *= alpha;\n  }\n\n  if(u_line_texture == LineTexture) { // while load texture\n    float aDistance = v_dataset.g;      // 当前顶点的距离\n    float d_texPixelLen = v_dataset.b;  // 贴图的像素长度，根据地图层级缩放\n    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);\n    float v = v_dataset.a;  // 线图层贴图部分的 v 坐标值\n\n    // 计算纹理间隔 start\n    float flag = 0.0;\n    if(u > 1.0/u_iconStepCount) {\n      flag = 1.0;\n    }\n    u = fract(u*u_iconStepCount);\n    // 计算纹理间隔 end\n\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);\n\n    // Tip: 判断纹理间隔\n    if(flag > 0.0) {\n      pattern = vec4(0.0);\n    }\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      outputColor = filterColor(outputColor + pattern);\n    } else { // replace\n        pattern.a *= v_color.a;\n        if(outputColor.a <= 0.0) {\n          pattern.a = 0.0;\n        }\n        outputColor = filterColor(pattern);\n    }\n  }\n\n\n  // blur - AA\n  if(v < v_blur) {\n    outputColor.a = mix(0.0, outputColor.a, v/v_blur);\n  } else if(v > 1.0 - v_blur) {\n    outputColor.a = mix(outputColor.a, 0.0, (v - (1.0 - v_blur))/v_blur);\n  }\n\n  outputColor = filterColor(outputColor);\n}\n',triangulation:f5,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1},blend:e.getBlend()});return[t]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0],t[1]]:[t,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:aR.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(e,t,n,r,i)=>i}}),this.styleAttributeService.registerStyleAttribute({name:"distanceAndTotalAndMiter",type:aR.Attribute,descriptor:{name:"a_Distance_Total_Miter",shaderLocation:this.attributeLocation.DISTANCE_MITER_TOTAL,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(e,t,n)=>[n[3],n[4],n[5]]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:aR.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{texture:n}=e,{x:r,y:i}=t[n]||{x:0,y:0};return[r,i]}}})}},line:gO,simple:class extends fE{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9})}getCommonUniformsInfo(){let{sourceColor:e,targetColor:t,lineType:n="solid",dashArray:r=[10,5,0,0],vertexHeightScale:i=20}=this.layer.getLayerConfig(),o=r;"dash"!==n&&(o=[0,0,0,0]),2===o.length&&o.push(0,0);let a=0,s=[0,0,0,0],l=[0,0,0,0];e&&t&&(s=tE(e),l=tE(t),a=1);let c={u_sourceColor:s,u_targetColor:l,u_dash_array:o,u_vertexScale:i,u_linearColor:a},u=this.getUniformsBufferInfo(c);return u}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.buildModels()})()}getShaders(){return{frag:"\nlayout(std140) uniform commonUniorm {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec4 u_dash_array;\n  float u_vertexScale: 1.0;\n  float u_linearColor: 0;\n};\nin float v_distanceScale;\nin vec4 v_color;\n//dash\nin vec4 v_dash_array;\n\nout vec4 outputColor;\nvoid main() {\n  if(u_dash_array!=vec4(0.0)){\n    float dashLength = mod(v_distanceScale, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {\n      // 虚线部分\n      discard;\n    };\n  }\n  if(u_linearColor==1.0){\n    outputColor = mix(u_sourceColor, u_targetColor, v_distanceScale);\n    outputColor.a *= v_color.a; // 全局透明度\n  }\n  else{\n    outputColor = v_color;\n  }\n}\n",vert:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in vec4 a_SizeDistanceAndTotalDistance;\n\nlayout(std140) uniform commonUniorm {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec4 u_dash_array;\n  float u_vertexScale: 1.0;\n  float u_linearColor: 0;\n};\n\n#pragma include "projection"\n#pragma include "picking"\n\nout vec4 v_color;\nout float v_distanceScale;\nout vec4 v_dash_array;\n\nvoid main() {\n  //dash输出\n  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_SizeDistanceAndTotalDistance.a;\n\n  v_color = a_Color;\n  v_distanceScale = a_SizeDistanceAndTotalDistance.b / a_SizeDistanceAndTotalDistance.a;\n  v_color.a = v_color.a * opacity;\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);\n\n  float h = float(a_Position.z) * u_vertexScale; // 线顶点的高度 - 兼容不存在第三个数值的情况\n\n  float lineHeight = a_SizeDistanceAndTotalDistance.y;\n  // 兼容 mapbox 在线高度上的效果表现基本一致\n  if (\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    // 保持高度相对不变\n    h *= 2.0 / pow(2.0, 20.0 - u_Zoom);\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, lineHeight + h, 1.0));\n  gl_PointSize = 10.0;\n\n}\n',type:"lineSimpleNormal"}}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.initUniformsBuffer();let{frag:t,vert:n,type:r}=e.getShaders(),i=yield e.layer.buildLayerModel({moduleName:r,vertexShader:n,fragmentShader:t,triangulation:f4,defines:e.getDefines(),inject:e.getInject(),primitive:aa.LINES,depth:{enable:!1},pick:!1});return[i]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"sizeDistanceAndTotalDistance",type:aR.Attribute,descriptor:{name:"a_SizeDistanceAndTotalDistance",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:4,update:(e,t,n)=>{let{size:r=1}=e,i=Array.isArray(r)?[r[0],r[1]]:[r,0];return[i[0],i[1],n[3],n[5]]}}})}},flowline:class extends fE{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,NORMAL:12})}getCommonUniformsInfo(){let{gapWidth:e=2,strokeWidth:t=1,strokeOpacity:n=1}=this.layer.getLayerConfig(),r=this.getUniformsBufferInfo({u_gap_width:e,u_stroke_width:t,u_stroke_opacity:n});return r}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.initUniformsBuffer(),e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){let t=yield e.layer.buildLayerModel({moduleName:"flow_line",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\n\nlayout(std140) uniform commonUniorm {\n  float u_gap_width: 1.0;\n  float u_stroke_width: 1.0;\n  float u_stroke_opacity: 1.0;\n};\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nout vec4 v_color;\n\nvec2 project_pixel_offset(vec2 offsets) {\n  vec2 data = project_pixel(offsets);\n\n  return vec2(data.x, -data.y);\n}\n\nvec2 line_dir(vec2 target, vec2 source) {\n  return normalize(ProjectFlat(target) - ProjectFlat(source));\n}\n\n\nvoid main() {\n  // 透明度计算\n  vec2 source_world = a_Instance.rg; // 起点\n  vec2 target_world = a_Instance.ba; // 终点\n  vec2 flowlineDir = line_dir(target_world, source_world);\n  vec2 perpendicularDir = vec2(-flowlineDir.y, flowlineDir.x);\n\n  vec2 position = mix(source_world, target_world, a_Position.x);\n  vec2 position64Low = mix(a_Instance64Low.rg, a_Instance64Low.ba, a_Position.x);\n\n  float lengthCommon = length(\n    project_position(vec4(target_world, 0, 1)) - project_position(vec4(source_world, 0, 1))\n  );\n  vec2 offsetDistances = a_Size.x * project_pixel_offset(vec2(a_Position.y, a_Position.z)); // Mapbox || 高德\n  vec2 limitedOffsetDistances = clamp(\n    offsetDistances,\n    project_pixel(-lengthCommon * 0.2),\n    project_pixel(lengthCommon * 0.2)\n  );\n\n  float startOffsetCommon = project_pixel(offsets[0]);\n  float endOffsetCommon = project_pixel(offsets[1]);\n  float endpointOffset = mix(\n    clamp(startOffsetCommon, 0.0, lengthCommon * 0.2),\n    -clamp(endOffsetCommon, 0.0, lengthCommon * 0.2),\n    a_Position.x\n  );\n\n  vec2 normalsCommon = u_stroke_width * project_pixel_offset(vec2(a_Normal.x, a_Normal.y));\n\n  float gapCommon = -1. * project_pixel(u_gap_width);\n  vec3 offsetCommon = vec3(\n    flowlineDir * (limitedOffsetDistances[1] + normalsCommon.y + endpointOffset * 1.05) -\n      perpendicularDir * (limitedOffsetDistances[0] + gapCommon + normalsCommon.x),\n    0.0\n  );\n\n  vec4 project_pos = project_position(vec4(position.xy, 0, 1.0), position64Low);\n\n  vec4 fillColor = vec4(a_Color.rgb, a_Color.a * opacity);\n  v_color = mix(fillColor, vec4(u_stroke.xyz, u_stroke.w * fillColor.w * u_stroke_opacity), a_Normal.z);\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy +  offsetCommon.xy, 0., 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'// #extension GL_OES_standard_derivatives : enable\n\nin vec4 v_color;\nout vec4 outputColor;\n\n\n// line texture\n\n#pragma include "picking"\n\nvoid main() {\n  outputColor = v_color;\n  outputColor = filterColor(outputColor);\n}\n',defines:e.getDefines(),inject:e.getInject(),triangulation:gA,styleOption:e.layer.getLayerConfig().symbol,primitive:aa.TRIANGLES,depth:{enable:!1},pick:!1});return[t]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0],t[1]]:[t,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:aR.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:4,update:(e,t,n)=>[n[3],n[4],n[5],n[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:aR.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:4,update:(e,t,n)=>[nK(n[3]),nK(n[4]),nK(n[5]),nK(n[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:aR.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(e,t,n,r,i)=>i}})}},earthArc3d:gT};class gL extends fd{constructor(...e){super(...e),(0,ai.Z)(this,"type","LineLayer"),(0,ai.Z)(this,"enableShaderEncodeStyles",["stroke","offsets","opacity","thetaOffset"]),(0,ai.Z)(this,"arrowInsertCount",0),(0,ai.Z)(this,"defaultSourceConfig",{data:[{lng1:100,lat1:30,lng2:130,lat2:30}],options:{parser:{type:"json",x:"lng1",y:"lat1",x1:"lng2",y1:"lat2"}}})}buildModels(){var e=this;return(0,aZ.Z)(function*(){let t=e.getModelType();e.layerModel=new gI[t](e),yield e.initLayerModels()})()}getDefaultConfig(){let e=this.getModelType();return({line:{},linearline:{},simple:{},wall:{},arc3d:{blend:"additive"},arc:{blend:"additive"},greatcircle:{blend:"additive"},tileLine:{},earthArc3d:{},flowline:{},arrow:{}})[e]}getModelType(){var e;if(this.layerType)return this.layerType;let t=this.styleAttributeService.getLayerStyleAttribute("shape"),n=null==t||null===(e=t.scale)||void 0===e?void 0:e.field;return n||"line"}processData(e){if("simple"!==this.getModelType())return e;let t=[];return e.map(e=>{if(Array.isArray(e.coordinates)&&Array.isArray(e.coordinates[0])&&Array.isArray(e.coordinates[0][0])){let n=(0,ar.Z)({},e);e.coordinates.map(e=>{t.push((0,ar.Z)((0,ar.Z)({},n),{},{coordinates:e}))})}else t.push(e)}),t}}function gR(e){let t=e.coordinates;return{vertices:[...t],indices:[0],size:t.length}}let{isNumber:gk}=nu;class gN extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"raiseCount",0),(0,ai.Z)(this,"raiseRepeat",0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,EXTRUDE:10,NORMAL:11})}getCommonUniformsInfo(){let{animateOption:e={enable:!1,speed:.01,repeat:!1},sourceColor:t,targetColor:n,pickLight:r=!1,heightfixed:i=!1,opacityLinear:o={enable:!1,dir:"up"},lightEnable:a=!0}=this.layer.getLayerConfig(),s=0,l=[0,0,0,0],c=[0,0,0,0];if(t&&n&&(l=tE(t),c=tE(n),s=1),this.raiseCount<1&&this.raiseRepeat>0&&e.enable){let{speed:t=.01}=e;this.raiseCount+=t,this.raiseCount>=1&&(this.raiseRepeat>1?(this.raiseCount=0,this.raiseRepeat--):this.raiseCount=1)}let u={u_pickLight:Number(r),u_heightfixed:Number(i),u_r:e.enable&&this.raiseRepeat>0?this.raiseCount:1,u_linearColor:s,u_sourceColor:l,u_targetColor:c,u_opacitylinear:Number(o.enable),u_opacitylinear_dir:"up"===o.dir?1:0,u_lightEnable:Number(a)},d=this.getUniformsBufferInfo(u);return d}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){let{depth:t=!0,animateOption:{repeat:n=1}}=e.layer.getLayerConfig();e.raiseRepeat=n,e.initUniformsBuffer();let r=yield e.layer.buildLayerModel({moduleName:"pointExtrude",vertexShader:'#define pi (3.1415926535)\n\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in vec3 a_Size;\nlayout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec4 a_Extrude;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\n\nlayout(std140) uniform commonUniforms {\n  float u_pickLight;\n  float u_heightfixed;\n  float u_r;\n  float u_linearColor;\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_opacitylinear;\n  float u_opacitylinear_dir;\n  float u_lightEnable;\n};\nout vec4 v_color;\nout float v_lightWeight;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nfloat getYRadian(float x, float z) {\n  if (x > 0.0 && z > 0.0) {\n    return atan(x / z);\n  } else if (x > 0.0 && z <= 0.0) {\n    return atan(-z / x) + pi / 2.0;\n  } else if (x <= 0.0 && z <= 0.0) {\n    return pi + atan(x / z); //atan(x/z) +\n  } else {\n    return atan(z / -x) + pi * 3.0 / 2.0;\n  }\n}\n\nfloat getXRadian(float y, float r) {\n  return atan(y / r);\n}\n\nvoid main() {\n  vec3 size = a_Size * a_Position;\n\n  vec3 offset = size; // 控制圆柱体的大小 - 从标准单位圆柱体进行偏移\n\n  if (u_heightfixed < 1.0) {\n    // 圆柱体不固定高度\n  } else {\n    // 圆柱体固定高度 （ 处理 mapbox ）\n    if (\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n    ) {\n      offset *= 4.0 / pow(2.0, 21.0 - u_Zoom);\n    }\n  }\n\n  vec2 positions = a_Extrude.xy;\n  vec2 positions64Low = a_Extrude.zw;\n  vec4 project_pos = project_position(vec4(positions, 0.0, 1.0), positions64Low);\n\n  // u_r 控制圆柱的生长\n  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);\n\n  // // 圆柱光照效果\n  float lightWeight = 1.0;\n\n  if (u_lightEnable > 0.0) {\n    // 取消三元表达式，增强健壮性\n    lightWeight = calc_lighting(pos);\n  }\n\n  v_lightWeight = lightWeight;\n\n  v_color = a_Color;\n\n  // 设置圆柱的底色\n  if (u_linearColor == 1.0) {\n    // 使用渐变颜色\n    v_color = mix(u_sourceColor, u_targetColor, a_Position.z);\n    v_color.a = v_color.a * opacity;\n  } else {\n    v_color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);\n  }\n\n  if (u_opacitylinear > 0.0) {\n    v_color.a *= u_opacitylinear_dir > 0.0 ? 1.0 - a_Position.z : a_Position.z;\n  }\n\n  gl_Position = project_common_position_to_clipspace(pos);\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'\nin vec4 v_color;\nin float v_lightWeight;\nout vec4 outputColor;\n\nlayout(std140) uniform commonUniforms {\n  float u_pickLight;\n  float u_heightfixed;\n  float u_r;\n  float u_linearColor;\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_opacitylinear;\n  float u_opacitylinear_dir;\n  float u_lightEnable;\n};\n\n#pragma include "scene_uniforms"\n#pragma include "picking"\n\nvoid main() {\n\n  outputColor = v_color;\n  // 开启透明度渐变\n  // picking\n  if(u_pickLight > 0.0) {\n    outputColor = filterColorAlpha(outputColor, v_lightWeight);\n  } else {\n    outputColor = filterColor(outputColor);\n  }\n}\n',triangulation:f2,defines:e.getDefines(),inject:e.getInject(),cull:{enable:!0,face:aa.FRONT},depth:{enable:t}});return[r]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:3,update:e=>{let{size:t}=e;if(!t)return[2,2,2];{let e=[];return Array.isArray(t)&&(e=2===t.length?[t[0],t[0],t[1]]:t),Array.isArray(t)||(e=[t,t,t]),e}}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:aR.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(e,t,n,r,i)=>i}}),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:aR.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:4,update:e=>{let t=rp(e.coordinates);return[t[0],t[1],nK(t[0]),nK(t[1])]}}})}}class gM extends fE{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,SHAPE:10,EXTRUDE:11})}getCommonUniformsInfo(){let{strokeOpacity:e=1,strokeWidth:t=0,blend:n,blur:r=0,raisingHeight:i=0,heightfixed:o=!1,unit:a="pixel"}=this.layer.getLayerConfig(),s=this.getAnimateUniforms().u_time;isNaN(s)&&(s=-1);let l={u_blur_height_fixed:[r,Number(i),Number(o)],u_stroke_width:t,u_additive:"additive"===n?1:0,u_stroke_opacity:e,u_size_unit:fS[a],u_time:s,u_animate:this.getAnimateUniforms().u_animate},c=this.getUniformsBufferInfo(l);return c}getAnimateUniforms(){let{animateOption:e={enable:!1}}=this.layer.getLayerConfig();return{u_animate:this.animateOption2Array(e),u_time:this.layer.getLayerAnimateTime()}}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),f0)}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){let{frag:t,vert:n,type:r}=e.getShaders();e.layer.triangulation=f0,e.initUniformsBuffer();let i=yield e.layer.buildLayerModel({moduleName:r,vertexShader:n,fragmentShader:t,defines:e.getDefines(),inject:e.getInject(),triangulation:f0,depth:{enable:!1}});return[i]})()}getShaders(){return{frag:"\nlayout(std140) uniform commonUniforms {\n  vec3 u_blur_height_fixed;\n  float u_stroke_width;\n  float u_additive;\n  float u_stroke_opacity;\n  float u_size_unit;\n  float u_time;\n  vec4 u_animate;\n};\n\nin vec4 v_color;\nin vec4 v_stroke;\nin vec4 v_data;\nin float v_radius;\n\n#pragma include \"scene_uniforms\"\n#pragma include \"sdf_2d\"\n#pragma include \"picking\"\n\nout vec4 outputColor;\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n  lowp float antialiasblur = v_data.z;\n  float r = v_radius / (v_radius + u_stroke_width);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  } else if (shape == 1) {\n    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  } else if (shape == 2) {\n    outer_df = sdBox(v_data.xy, vec2(1.));\n    inner_df = sdBox(v_data.xy, vec2(r));\n  } else if (shape == 3) {\n    outer_df = sdPentagon(v_data.xy, 0.8);\n    inner_df = sdPentagon(v_data.xy, r * 0.8);\n  } else if (shape == 4) {\n    outer_df = sdHexagon(v_data.xy, 0.8);\n    inner_df = sdHexagon(v_data.xy, r * 0.8);\n  } else if (shape == 5) {\n    outer_df = sdOctogon(v_data.xy, 1.0);\n    inner_df = sdOctogon(v_data.xy, r);\n  } else if (shape == 6) {\n    outer_df = sdHexagram(v_data.xy, 0.52);\n    inner_df = sdHexagram(v_data.xy, r * 0.52);\n  } else if (shape == 7) {\n    outer_df = sdRhombus(v_data.xy, vec2(1.0));\n    inner_df = sdRhombus(v_data.xy, vec2(r));\n  } else if (shape == 8) {\n    outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  }\n\n  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);\n\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\n    antialiasblur,\n    0.0,\n    inner_df\n  );\n\n  float PI = 3.14159;\n  float N_RINGS = 3.0;\n  float FREQ = 1.0;\n\n  if(u_stroke_width < 0.01) {\n    outputColor = v_color;\n  } else {\n    outputColor = mix(v_color, v_stroke * u_stroke_opacity, color_t);\n  }\n  float intensity = 1.0;\n  if(u_time!=-1.0){\n    //wave相关逻辑\n    float d = length(v_data.xy);\n    if(d > 0.5) {\n      discard;\n    }\n    intensity = clamp(cos(d * PI), 0.0, 1.0) * clamp(cos(2.0 * PI * (d * 2.0 * u_animate.z - u_animate.y * u_time)), 0.0, 1.0);\n  }\n\n  if(u_additive > 0.0) {\n    outputColor *= opacity_t;\n    outputColor *= intensity;//wave\n    outputColor = filterColorAlpha(outputColor, outputColor.a);\n  } else {\n    outputColor.a *= opacity_t;\n    outputColor.a *= intensity;//wave \n    outputColor = filterColor(outputColor);\n  }\n   // 作为 mask 模板时需要丢弃透明的像素\n  if(outputColor.a < 0.01) {\n    discard;\n  } \n}\n",vert:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_SHAPE) in float a_Shape;\nlayout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;\n\nlayout(std140) uniform commonUniforms {\n  vec3 u_blur_height_fixed;\n  float u_stroke_width;\n  float u_additive;\n  float u_stroke_opacity;\n  float u_size_unit;\n  float u_time;\n  vec4 u_animate;\n};\n\nout vec4 v_color;\nout vec4 v_stroke;\nout vec4 v_data;\nout float v_radius;\n\n#pragma include "projection"\n#pragma include "picking"\n#pragma include "rotation_2d"\n\nvoid main() {\n  // 透明度计算\n   v_stroke = stroke;\n  vec3 extrude = a_Extrude;\n  float shape_type = a_Shape;\n  /*\n  *  setPickingSize 设置拾取大小\n  *  u_meter2coord 在等面积大小的时候设置单位\n  */\n  float newSize = setPickingSize(a_Size);\n  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;\n\n\n\n  // unpack color(vec2)\n  v_color = vec4(a_Color.xyz, a_Color.w * opacity);\n\n  if(u_size_unit == 1.0) {\n    newSize = newSize  * u_PixelsPerMeter.z;\n  }\n\n   v_radius = newSize;\n\n  // anti-alias\n  //  float antialiased_blur = -max(u_blur, antialiasblur);\n  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur_height_fixed.x);\n\n  vec2 offset = (extrude.xy * (newSize + u_stroke_width) + u_offsets);\n\n  offset = project_pixel(offset);\n  offset = rotate_matrix(offset,rotation);\n\n  // TODP: /abs(extrude.x) 是为了兼容地球模式\n  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);\n\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));\n\n  float raisingHeight = u_blur_height_fixed.y;\n\n  if(u_blur_height_fixed.z < 1.0) { // false\n    raisingHeight = project_pixel(u_blur_height_fixed.y);\n  } else {\n     if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\n      raisingHeight = u_blur_height_fixed.y * mapboxZoomScale;\n    }\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, raisingHeight, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',type:"pointFill"}}animateOption2Array(e){return[e.enable?0:1,e.speed||1,e.rings||3,0]}registerBuiltinAttributes(){let e=this.layer.getLayerConfig().shape2d;this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:aR.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(e,t,n,r)=>{let i=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],o=r%4*3;return[i[o],i[o+1],i[o+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{size:t=5}=e;return Array.isArray(t)?[t[0]]:[t]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:aR.Attribute,descriptor:{name:"a_Shape",shaderLocation:this.attributeLocation.SHAPE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:1,update:t=>{let{shape:n=2}=t,r=e.indexOf(n);return[r]}}})}}class gD extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"texture",void 0),(0,ai.Z)(this,"updateTexture",()=>{let{createTexture2D:e}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas(),mag:"linear",min:"linear mipmap nearest",mipmap:!0}),setTimeout(()=>{this.layerService.throttleRenderLayers()});return}this.texture=e({data:this.iconService.getCanvas(),mag:aa.LINEAR,min:aa.LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128,mipmap:!0})})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,UV:10})}getUninforms(){if(this.rendererService.getDirty()){var e;null===(e=this.texture)||void 0===e||e.bind()}let t=this.getCommonUniformsInfo(),n=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,ar.Z)((0,ar.Z)({},t.uniformsOption),n.uniformsOption)}getCommonUniformsInfo(){let{raisingHeight:e=0,heightfixed:t=!1}=this.layer.getLayerConfig(),n={u_textSize:[1024,this.iconService.canvasHeight||128],u_raisingHeight:Number(e),u_heightfixed:Number(t),u_texture:this.texture};this.textures=[this.texture];let r=this.getUniformsBufferInfo(n);return r}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.iconService.on("imageUpdate",e.updateTexture),e.updateTexture(),e.buildModels()})()}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.initUniformsBuffer();let t=yield e.layer.buildLayerModel({moduleName:"pointImage",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n  vec2 u_textSize;\n  float u_raisingHeight;\n  float u_heightfixed;\n};\n\nout vec4 v_color;\nout vec2 v_uv;\nout float v_opacity;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - 数据纹理映射部分的计算\n  v_color = a_Color;\n  v_opacity = opacity;\n  v_uv = a_Uv;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\n\n  vec2 offset = project_pixel(offsets);\n\n  float raisingHeight = u_raisingHeight;\n  if (u_heightfixed < 1.0) {\n    // false\n    raisingHeight = project_pixel(u_raisingHeight);\n  } else {\n    if (\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n    ) {\n      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\n      raisingHeight = u_raisingHeight * mapboxZoomScale;\n    }\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, raisingHeight, 1.0));\n\n  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'layout(std140) uniform commonUniforms {\n  vec2 u_textSize;\n  float u_raisingHeight;\n  float u_heightfixed;\n};\n\nuniform sampler2D u_texture;\n\nin vec4 v_color;\nin vec2 v_uv;\nin float v_opacity;\n\n#pragma include "picking"\n\nout vec4 outputColor;\n\nvoid main(){\n  vec2 pos = v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;\n  vec4 textureColor;\n\n  // Y = 0.299R + 0.587G + 0.114B // 亮度提取\n  \n  textureColor = texture(SAMPLER_2D(u_texture), pos);\n\n  // Tip: 去除边缘部分 mipmap 导致的混合变暗\n  float fragmengTocenter = distance(vec2(0.5), gl_PointCoord);\n  if(fragmengTocenter >= 0.5) {\n        float luma = 0.299 * textureColor.r + 0.587 * textureColor.g + 0.114 * textureColor.b;\n        textureColor.a *= luma;\n  }\n  \n  if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){\n        outputColor= textureColor;\n  }else {\n        outputColor= step(0.01, textureColor.z) * v_color;\n  }\n  outputColor.a *= v_opacity;\n  if (outputColor.a < 0.01) {\n      discard;\n  }\n  outputColor = filterColor(outputColor);\n}\n',triangulation:f3,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1},primitive:aa.POINTS});return[t]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{size:t=5}=e;return Array.isArray(t)?[t[0]]:[t]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:aR.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{shape:n}=e,{x:r,y:i}=t[n]||{x:-64,y:-64};return[r,i]}}})}}function gP(e){let t=e.coordinates;return{vertices:[...t],indices:[0],size:t.length}}class gF extends fE{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9})}getDefaultStyle(){return{blend:"additive"}}getCommonUniformsInfo(){let e=this.getUniformsBufferInfo({u_size_scale:.5});return e}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.layer.triangulation=gP,e.initUniformsBuffer();let t=yield e.layer.buildLayerModel({moduleName:"pointNormal",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\n\nlayout(std140) uniform u_Common {\n  float u_size_scale;\n};\n\nout vec4 v_color;\n\n#pragma include "projection"\n#pragma include "project"\n\nvoid main() {\n  v_color = vec4(a_Color.xyz, a_Color.w * opacity);\n\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\n  gl_Position = project_common_position_to_clipspace(project_pos);\n\n  gl_PointSize = a_Size * u_size_scale * 2.0 * u_DevicePixelRatio;\n}\n',fragmentShader:"in vec4 v_color;\nout vec4 outputColor;\nvoid main() {\n  outputColor = v_color;\n}",triangulation:gP,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1},primitive:aa.POINTS,pick:!1});return[t]})()}clearModels(){}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0]]:[t]}}})}}var gB=class{constructor(e,t,n){(0,ai.Z)(this,"boxCells",[]),(0,ai.Z)(this,"xCellCount",void 0),(0,ai.Z)(this,"yCellCount",void 0),(0,ai.Z)(this,"boxKeys",void 0),(0,ai.Z)(this,"bboxes",void 0),(0,ai.Z)(this,"width",void 0),(0,ai.Z)(this,"height",void 0),(0,ai.Z)(this,"xScale",void 0),(0,ai.Z)(this,"yScale",void 0),(0,ai.Z)(this,"boxUid",void 0);let r=this.boxCells;this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(let e=0;e<this.xCellCount*this.yCellCount;e++)r.push([]);this.boxKeys=[],this.bboxes=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0}insert(e,t,n,r,i){this.forEachCell(t,n,r,i,this.insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}query(e,t,n,r,i){return this.queryHitTest(e,t,n,r,!1,i)}hitTest(e,t,n,r,i){return this.queryHitTest(e,t,n,r,!0,i)}insertBoxCell(e,t,n,r,i,o){this.boxCells[i].push(o)}queryHitTest(e,t,n,r,i,o){if(n<0||e>this.width||r<0||t>this.height)return!i&&[];let a=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(let e=0;e<this.boxKeys.length;e++)a.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});return o?a.filter(o):a}return this.forEachCell(e,t,n,r,this.queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},o),i?a.length>0:a}queryCell(e,t,n,r,i,o,a,s){let l=a.seenUids,c=this.boxCells[i];if(null!==c){let i=this.bboxes;for(let u of c)if(!l.box[u]){l.box[u]=!0;let c=4*u;if(e<=i[c+2]&&t<=i[c+3]&&n>=i[c+0]&&r>=i[c+1]&&(!s||s(this.boxKeys[u]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[u],x1:i[c],y1:i[c+1],x2:i[c+2],y2:i[c+3]})}}}return!1}forEachCell(e,t,n,r,i,o,a,s){let l=this.convertToXCellCoord(e),c=this.convertToYCellCoord(t),u=this.convertToXCellCoord(n),d=this.convertToYCellCoord(r);for(let p=l;p<=u;p++)for(let l=c;l<=d;l++){let c=this.xCellCount*l+p;if(i.call(this,e,t,n,r,c,o,a,s))return}}convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}};class gU{constructor(e,t){(0,ai.Z)(this,"width",void 0),(0,ai.Z)(this,"height",void 0),(0,ai.Z)(this,"grid",void 0),(0,ai.Z)(this,"viewportPadding",100),(0,ai.Z)(this,"screenRightBoundary",void 0),(0,ai.Z)(this,"screenBottomBoundary",void 0),(0,ai.Z)(this,"gridRightBoundary",void 0),(0,ai.Z)(this,"gridBottomBoundary",void 0),this.width=e,this.height=t,this.viewportPadding=Math.max(e,t),this.grid=new gB(e+this.viewportPadding,t+this.viewportPadding,25),this.screenRightBoundary=e+this.viewportPadding,this.screenBottomBoundary=t+this.viewportPadding,this.gridRightBoundary=e+2*this.viewportPadding,this.gridBottomBoundary=t+2*this.viewportPadding}placeCollisionBox(e){let t=e.x1+e.anchorPointX+this.viewportPadding,n=e.y1+e.anchorPointY+this.viewportPadding,r=e.x2+e.anchorPointX+this.viewportPadding,i=e.y2+e.anchorPointY+this.viewportPadding;return!this.isInsideGrid(t,n,r,i)||this.grid.hitTest(t,n,r,i)?{box:[]}:{box:[t,n,r,i]}}insertCollisionBox(e,t){this.grid.insert({featureIndex:t},e[0],e[1],e[2],e[3])}project(e,t,n){let r=aJ.al(t,n,0,1),i=aJ.Ue(),o=aH.fromValues(...e);return aJ.fF(i,r,o),{x:(i[0]/i[3]+1)/2*this.width+this.viewportPadding,y:(-i[1]/i[3]+1)/2*this.height+this.viewportPadding}}isInsideGrid(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary}}function gz(e){let t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0;break;default:t=.5}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0;break;default:n=.5}return{horizontalAlign:t,verticalAlign:n}}function gZ(e,t,n,r,i){if(!i)return;let o=e[r],a=o.glyph;if(a){let s=t[a].advance*o.scale,l=(e[r].x+s)*i;for(let t=n;t<=r;t++)e[t].x-=l}}function gj(e,t,n,r,i,o,a){let s=(t-n)*i,l=(-r*a+.5)*o;for(let t of e)t.x+=s,t.y+=l}let gH='#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105\n#define FONT_SIZE 48.0\n\nuniform sampler2D u_sdf_map;\nlayout(std140) uniform commonUniforms {\n  vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];\n  vec2 u_sdf_map_size;\n  float u_raisingHeight: 0.0;\n  float u_stroke_width : 2;\n  float u_gamma_scale : 0.5;\n  float u_halo_blur : 0.5;\n};\n\nin vec2 v_uv;\nin float v_gamma_scale;\nin vec4 v_color;\nin vec4 v_stroke_color;\nin float v_fontScale;\n\nout vec4 outputColor;\n\n#pragma include "picking"\nvoid main() {\n  // get style data mapping\n\n  // get sdf from atlas\n  float dist = texture(SAMPLER_2D(u_sdf_map), v_uv).a;\n\n  lowp float buff = (6.0 - u_stroke_width / v_fontScale) / SDF_PX;\n  highp float gamma = (u_halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (v_fontScale * u_gamma_scale) / 1.0;\n\n  highp float gamma_scaled = gamma * v_gamma_scale;\n\n  highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n\n  outputColor = mix(v_color, v_stroke_color, smoothstep(0., 0.5, 1.- dist));\n\n  outputColor.a *= alpha;\n   // 作为 mask 模板时需要丢弃透明的像素\n  if (outputColor.a < 0.01) {\n    discard;\n  }\n  outputColor = filterColor(outputColor);\n}\n',gG='#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105\n#define FONT_SIZE 24.0\n\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_TEXT_OFFSETS) in vec2 a_textOffsets;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_tex;\n\nlayout(std140) uniform commonUniforms {\n  vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];\n  vec2 u_sdf_map_size;\n  float u_raisingHeight: 0.0;\n  float u_stroke_width : 2;\n  float u_gamma_scale : 0.5;\n  float u_halo_blur : 0.5;\n};\n\nout vec2 v_uv;\nout float v_gamma_scale;\nout vec4 v_color;\nout vec4 v_stroke_color;\nout float v_fontScale;\n\n#pragma include "projection"\n#pragma include "picking"\n#pragma include "rotation_2d"\n\nvoid main() {\n  // cal style mapping - 数据纹理映射部分的计算\n\n  v_uv = a_tex / u_sdf_map_size;\n\n\n\n  v_color = vec4(a_Color.xyz, a_Color.w * opacity);\n  v_stroke_color = vec4(u_stroke_color.xyz, u_stroke_color.w * opacity);\n\n  // 文本缩放比例\n  float fontScale = a_Size / FONT_SIZE;\n  v_fontScale = fontScale;\n\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\n  // vec4 projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  vec2 offset = rotate_matrix(a_textOffsets,rotation);\n\n  // gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);\n\n  float raiseHeight = u_raisingHeight;\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\n    raiseHeight = u_raisingHeight * mapboxZoomScale;\n  }\n\n  vec4 projected_position = project_common_position_to_clipspace(vec4(project_pos.xyz + vec3(0.0, 0.0, raiseHeight), 1.0));\n\n  gl_Position = vec4(\n    projected_position.xy / projected_position.w + offset * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);\n  v_gamma_scale = gl_Position.w;\n  setPickingColor(a_PickingColor);\n\n}\n',{isEqual:gV}=nu;function g$(e){let t=e.id,n=[],r=[];if(!this.glyphInfoMap||!this.glyphInfoMap[t])return{vertices:[],indices:[],size:7};let i=this.glyphInfoMap[t].centroid,o=2===i.length?[i[0],i[1],0]:i;return this.glyphInfoMap[t].glyphQuads.forEach((e,t)=>{n.push(...o,e.tex.x,e.tex.y+e.tex.height,e.tl.x,e.tl.y,...o,e.tex.x+e.tex.width,e.tex.y+e.tex.height,e.tr.x,e.tr.y,...o,e.tex.x+e.tex.width,e.tex.y,e.br.x,e.br.y,...o,e.tex.x,e.tex.y,e.bl.x,e.bl.y),r.push(0+4*t,1+4*t,2+4*t,2+4*t,3+4*t,0+4*t)}),{vertices:n,indices:r,size:7}}class gW extends fE{constructor(...e){var t;super(...e),t=this,(0,ai.Z)(this,"glyphInfo",void 0),(0,ai.Z)(this,"glyphInfoMap",{}),(0,ai.Z)(this,"rawEncodeData",void 0),(0,ai.Z)(this,"texture",void 0),(0,ai.Z)(this,"currentZoom",-1),(0,ai.Z)(this,"extent",void 0),(0,ai.Z)(this,"textureHeight",0),(0,ai.Z)(this,"textCount",0),(0,ai.Z)(this,"preTextStyle",{}),(0,ai.Z)(this,"mapping",(0,aZ.Z)(function*(){t.initGlyph(),t.updateTexture(),yield t.reBuildModel()}))}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,TEXT_OFFSETS:10,UV:11})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,ar.Z)((0,ar.Z)((0,ar.Z)({},e.uniformsOption),t.uniformsOption),{u_sdf_map:this.textures[0]})}getCommonUniformsInfo(){let{stroke:e="#fff",strokeWidth:t=0,halo:n=.5,gamma:r=2,raisingHeight:i=0}=this.layer.getLayerConfig(),o=this.getFontServiceMapping(),a=this.getFontServiceCanvas();o&&Object.keys(o).length!==this.textCount&&a&&(this.updateTexture(),this.textCount=Object.keys(o).length),this.preTextStyle=this.getTextStyle();let s={u_stroke_color:tE(e),u_sdf_map_size:[(null==a?void 0:a.width)||1,(null==a?void 0:a.height)||1],u_raisingHeight:Number(i),u_stroke_width:t,u_gamma_scale:r,u_halo_blur:n},l=this.getUniformsBufferInfo(s);return l}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.bindEvent(),e.extent=e.textExtent(),e.rawEncodeData=e.layer.getEncodedData(),e.preTextStyle=e.getTextStyle(),e.initUniformsBuffer(),e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){let{textAllowOverlap:t=!1}=e.layer.getLayerConfig();e.initGlyph(),e.updateTexture(),t||e.filterGlyphs();let n=yield e.layer.buildLayerModel({moduleName:"pointText",vertexShader:gG,fragmentShader:gH,defines:e.getDefines(),inject:e.getInject(),triangulation:g$.bind(e),depth:{enable:!1}});return[n]})()}needUpdate(){var e=this;return(0,aZ.Z)(function*(){let{textAllowOverlap:t=!1,textAnchor:n="center",textOffset:r,padding:i,fontFamily:o,fontWeight:a}=e.getTextStyle();if(!gV(i,e.preTextStyle.padding)||!gV(r,e.preTextStyle.textOffset)||!gV(n,e.preTextStyle.textAnchor)||!gV(o,e.preTextStyle.fontFamily)||!gV(a,e.preTextStyle.fontWeight))return yield e.mapping(),!0;if(t)return!1;let s=e.mapService.getZoom(),l=e.mapService.getBounds(),c=ri(e.extent,l);return(Math.abs(e.currentZoom-s)>.5||!c||t!==e.preTextStyle.textAllowOverlap)&&(yield e.reBuildModel(),!0)})()}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy(),this.layer.off("remapping",this.mapping)}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"textOffsets",type:aR.Attribute,descriptor:{shaderLocation:this.attributeLocation.TEXT_OFFSETS,name:"a_textOffsets",buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:2,update:(e,t,n)=>[n[5],n[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"textUv",type:aR.Attribute,descriptor:{name:"a_tex",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:(e,t,n)=>[n[3],n[4]]}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{size:t=12}=e;return Array.isArray(t)?[t[0]]:[t]}}})}bindEvent(){this.layer.isTileLayer||this.layer.on("remapping",this.mapping)}textExtent(){let e=this.mapService.getBounds();return rr(e,.5)}initTextFont(){let{fontWeight:e,fontFamily:t}=this.getTextStyle(),n=this.rawEncodeData,r=[];n.forEach(e=>{let{shape:t=""}=e;for(let e of t=t.toString())-1===r.indexOf(e)&&r.push(e)}),this.fontService.setFontOptions({characterSet:r,fontWeight:e,fontFamily:t,iconfont:!1})}initIconFontTex(){let{fontWeight:e,fontFamily:t}=this.getTextStyle(),n=this.rawEncodeData,r=[];n.forEach(e=>{let{shape:t=""}=e;t=`${t}`,-1===r.indexOf(t)&&r.push(t)}),this.fontService.setFontOptions({characterSet:r,fontWeight:e,fontFamily:t,iconfont:!0})}getTextStyle(){let{fontWeight:e="400",fontFamily:t="sans-serif",textAllowOverlap:n=!1,padding:r=[0,0],textAnchor:i="center",textOffset:o=[0,0],opacity:a=1,strokeOpacity:s=1,strokeWidth:l=0,stroke:c="#000"}=this.layer.getLayerConfig();return{fontWeight:e,fontFamily:t,textAllowOverlap:n,padding:r,textAnchor:i,textOffset:o,opacity:a,strokeOpacity:s,strokeWidth:l,stroke:c}}generateGlyphLayout(e){let t=this.getFontServiceMapping(),{spacing:n=2,textAnchor:r="center",textOffset:i}=this.layer.getLayerConfig(),o=this.rawEncodeData;this.glyphInfo=o.map(o=>{let{shape:a="",id:s,size:l=1}=o,c=o.textOffset?o.textOffset:i||[0,0],u=o.textAnchor?o.textAnchor:r||"center",d=function(e,t,n,r,i,o,a=[0,0],s){let l=e.split("\n"),c=[],u={positionedGlyphs:c,top:a[1],bottom:a[1],left:a[0],right:a[0],lineCount:l.length,text:e};return s?function(e,t,n,r,i,o,a){let s=0,l=-8,c=0,u=e.positionedGlyphs,d="right"===o?1:"left"===o?0:.5,p=u.length;n.forEach(e=>{let n=t[e];if(n&&(u.push({glyph:e,x:n.advance/2,y:l+0,vertical:!1,scale:1,metrics:n}),s+=n.advance+a),u.length!==p){let e=s-a;c=Math.max(e,c),gZ(u,t,p,u.length-1,d)}s=0,l-=r+5});let{horizontalAlign:h,verticalAlign:f}=gz(i);gj(u,d,h,f,c,r,n.length);let g=l- -8;e.top+=-f*g,e.bottom=e.top-g,e.left+=-h*c,e.right=e.left+c}(u,t,l,n,r,i,o):function(e,t,n,r,i,o,a){let s=0,l=-8,c=0,u=e.positionedGlyphs,d="right"===o?1:"left"===o?0:.5,p=u.length;n.forEach(e=>{if(e.split("").forEach(e=>{let n=t[e];n&&(u.push({glyph:e,x:s,y:l+0,vertical:!1,scale:1,metrics:n}),s+=n.advance+a)}),u.length!==p){let e=s-a;c=Math.max(e,c),gZ(u,t,p,u.length-1,d)}s=0,l-=r+5});let{horizontalAlign:h,verticalAlign:f}=gz(i);gj(u,d,h,f,c,r,n.length);let g=l- -8;e.top+=-f*g,e.bottom=e.top-g,e.left+=-h*c,e.right=e.left+c}(u,t,l,n,r,i,o),!!c.length&&u}(a.toString(),t,l,u,"left",n,c,e),p=function(e,t=[0,0],n){let{positionedGlyphs:r=[]}=e,i=[];for(let e of r){let r=e.metrics,o=r.advance*e.scale/2,a=n?[e.x+o,e.y]:[0,0],s=n?[0,0]:[e.x+o+t[0],e.y+t[1]],l=-4*e.scale-o+s[0],c=-4*e.scale+s[1],u=l+r.width*e.scale,d=c+r.height*e.scale,p={x:l,y:c},h={x:u,y:c},f={x:l,y:d},g={x:u,y:d};i.push({tl:p,tr:h,bl:f,br:g,tex:r,glyphOffset:a})}return i}(d,c,!1);return o.shaping=d,o.glyphQuads=p,o.centroid=rp(o.coordinates),this.glyphInfoMap[s]={shaping:d,glyphQuads:p,centroid:rp(o.coordinates)},o})}getFontServiceMapping(){let{fontWeight:e="400",fontFamily:t="sans-serif"}=this.layer.getLayerConfig();return this.fontService.getMappingByKey(`${t}_${e}`)}getFontServiceCanvas(){let{fontWeight:e="400",fontFamily:t="sans-serif"}=this.layer.getLayerConfig();return this.fontService.getCanvasByKey(`${t}_${e}`)}filterGlyphs(){let{padding:e=[0,0],textAllowOverlap:t=!1}=this.layer.getLayerConfig();if(t)return;this.glyphInfoMap={},this.currentZoom=this.mapService.getZoom(),this.extent=this.textExtent();let{width:n,height:r}=this.rendererService.getViewportSize(),i=new gU(n,r),o=this.glyphInfo.filter(t=>{let{shaping:n,id:r=0}=t,o=t.centroid,a=t.size,s=a/16,l=this.mapService.lngLatToContainer(o),{box:c}=i.placeCollisionBox({x1:n.left*s-e[0],x2:n.right*s+e[0],y1:n.top*s-e[1],y2:n.bottom*s+e[1],anchorPointX:l.x,anchorPointY:l.y});return!!c&&!!c.length&&(i.insertCollisionBox(c,r),!0)});o.forEach(e=>{this.glyphInfoMap[e.id]=e})}initGlyph(){let{iconfont:e=!1}=this.layer.getLayerConfig();e?this.initIconFontTex():this.initTextFont(),this.generateGlyphLayout(e)}updateTexture(){let{createTexture2D:e}=this.rendererService,t=this.getFontServiceCanvas();this.textureHeight=t.height,this.texture&&this.texture.destroy(),this.texture=e({data:t,mag:aa.LINEAR,min:aa.LINEAR,width:t.width,height:t.height}),this.textures=[this.texture]}reBuildModel(){var e=this;return(0,aZ.Z)(function*(){e.filterGlyphs();let t=yield e.layer.buildLayerModel({moduleName:"pointText",vertexShader:gG,fragmentShader:gH,triangulation:g$.bind(e),defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1}});e.layer.models=[t]})()}}var gY={fillImage:class extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"meter2coord",1),(0,ai.Z)(this,"texture",void 0),(0,ai.Z)(this,"isMeter",!1),(0,ai.Z)(this,"radian",0),(0,ai.Z)(this,"updateTexture",()=>{let{createTexture2D:e}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas(),mag:"linear",min:"linear mipmap nearest",mipmap:!0}),this.layerService.throttleRenderLayers();return}this.texture=e({data:this.iconService.getCanvas(),mag:aa.LINEAR,min:aa.LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128,mipmap:!0}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,EXTRUDE:10,UV:11})}getCommonUniformsInfo(){let{raisingHeight:e=0,heightfixed:t=!1,unit:n="pixel"}=this.layer.getLayerConfig();if(this.rendererService.getDirty()){var r;null===(r=this.texture)||void 0===r||r.bind()}let i={u_textSize:[1024,this.iconService.canvasHeight||128],u_heightfixed:Number(t),u_raisingHeight:Number(e),u_size_unit:fS[n]},o=this.getUniformsBufferInfo(i);return o}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),f0)}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.iconService.on("imageUpdate",e.updateTexture),e.updateTexture(),e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.initUniformsBuffer();let t=yield e.layer.buildLayerModel({moduleName:"pointFillImage",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniform {\n  vec2 u_textSize;\n  float u_heightfixed;\n  float u_raisingHeight;\n  float u_size_unit;\n};\n\nout vec2 v_uv;\nout vec2 v_Iconuv;\nout float v_opacity;\n\n#pragma include "projection"\n#pragma include "picking"\n#pragma include "rotation_2d"\n\nvoid main() {\n  vec3 extrude = a_Extrude;\n  v_uv = (a_Extrude.xy + 1.0) / 2.0;\n  v_uv.y = 1.0 - v_uv.y;\n  v_Iconuv = a_Uv;\n  v_opacity = opacity;\n  float newSize = a_Size;\n  if (u_size_unit == 1.0) {\n    newSize = newSize * u_PixelsPerMeter.z;\n  }\n\n  // vec2 offset = (u_RotateMatrix * extrude.xy * (a_Size) + textrueOffsets);\n  vec2 offset = extrude.xy * newSize + offsets;\n\n  offset = rotate_matrix(offset, rotation);\n\n  offset = project_pixel(offset);\n\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'in vec2 v_uv;// 本身的 uv 坐标\nin vec2 v_Iconuv;\nin float v_opacity;\nout vec4 outputColor;\n\nuniform sampler2D u_texture;\nlayout(std140) uniform commonUniform {\n  vec2 u_textSize;\n  float u_heightfixed: 0.0;\n  float u_raisingHeight: 0.0;\n  float u_size_unit;\n};\n\n#pragma include "scene_uniforms"\n#pragma include "sdf_2d"\n#pragma include "picking"\n\nvoid main() {\n  vec2 pos = v_Iconuv / u_textSize + v_uv / u_textSize * 64.;\n  outputColor = texture(SAMPLER_2D(u_texture), pos);\n  outputColor.a *= v_opacity;\n  outputColor = filterColor(outputColor);\n}\n',triangulation:f0,depth:{enable:!1},defines:e.getDefines(),inject:e.getInject(),cull:{enable:!0,face:aa.FRONT}});return[t]})()}clearModels(){var e;this.iconService.off("imageUpdate",this.updateTexture),null===(e=this.texture)||void 0===e||e.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:aR.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{shape:n}=e,{x:r,y:i}=t[n]||{x:-64,y:-64};return[r,i]}}}),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:aR.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(e,t,n,r)=>{let i=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],o=r%4*3;return[i[o],i[o+1],i[o+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{size:t=5}=e;return Array.isArray(t)?[t[0]]:[t]}}})}},fill:gM,radar:class extends fE{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,EXTRUDE:10})}getCommonUniformsInfo(){let{blend:e,speed:t=1,unit:n="pixel"}=this.layer.getLayerConfig(),r={u_additive:"additive"===e?1:0,u_size_unit:fS[n],u_speed:t,u_time:this.layer.getLayerAnimateTime()},i=this.getUniformsBufferInfo(r);return i}getAnimateUniforms(){return{}}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),f0)}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.initUniformsBuffer();let t=yield e.layer.buildLayerModel({moduleName:"pointRadar",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;\n\nlayout(std140) uniform commonUniorm {\n  float u_additive;\n  float u_size_unit;\n  float u_speed: 1.0;\n  float u_time;\n};\n\nout vec4 v_data;\nout vec4 v_color;\nout float v_radius;\nout vec2 v_extrude;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  float newSize = setPickingSize(a_Size);\n\n  float time = u_time * u_speed;\n  mat2 rotateMatrix = mat2(\n    cos(time), sin(time),\n    -sin(time), cos(time)\n  );\n  v_extrude = rotateMatrix * a_Extrude.xy;\n\n  v_color = a_Color;\n  v_color.a *= opacity;\n\n  float blur = 0.0;\n  float antialiasblur = -max(2.0 / u_DevicePixelRatio / a_Size, blur);\n\n  if(u_size_unit == 1.) {\n    newSize = newSize  * u_PixelsPerMeter.z;\n  }\n  v_radius = newSize;\n\n  vec2 offset = (a_Extrude.xy * (newSize));\n\n  offset = project_pixel(offset);\n\n  v_data = vec4(a_Extrude.x, a_Extrude.y, antialiasblur, -1.0);\n\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'\nlayout(std140) uniform commonUniorm{\n  float u_additive;\n  float u_size_unit;\n  float u_speed: 1.0;\n  float u_time;\n};\nin vec4 v_data;\nin vec4 v_color;\nin float v_radius;\nin vec2 v_extrude;\n#pragma include "sdf_2d"\n#pragma include "picking"\n\nout vec4 outputColor;\n\nvoid main() {\n\n  lowp float antialiasblur = v_data.z;\n  float r = v_radius / (v_radius);\n\n  float outer_df = sdCircle(v_data.xy, 1.0);\n  float inner_df = sdCircle(v_data.xy, r);\n\n  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);\n\n  outputColor = vec4(v_color.rgb, v_color.a);\n\n  if(u_additive > 0.0) {\n    outputColor *= opacity_t;\n  } else {\n    outputColor.a *= opacity_t;\n  }\n\n  if(outputColor.a > 0.0) {\n    outputColor = filterColor(outputColor);\n  }\n\n  vec2 extrude =  v_extrude;\n  vec2 dir = normalize(extrude);\n  vec2 baseDir = vec2(1.0, 0.0);\n  float pi = 3.14159265359;\n  float flag = sign(dir.y);\n  float rades = dot(dir, baseDir);\n  float radar_v = (flag - 1.0) * -0.5 * acos(rades)/pi;\n  // simple AA\n  if(radar_v > 0.99) {\n    radar_v = 1.0 - (radar_v - 0.99)/0.01;\n  }\n\n  outputColor.a *= radar_v;\n}\n',triangulation:f0,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1}});return[t]})()}animateOption2Array(e){return[e.enable?0:1,e.speed||1,e.rings||3,0]}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:aR.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(e,t,n,r)=>{let i=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],o=r%4*3;return[i[o],i[o+1],i[o+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{shaderLocation:this.attributeLocation.SIZE,name:"a_Size",buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{size:t=5}=e;return Array.isArray(t)?[t[0]]:[t]}}})}},image:gD,normal:gF,simplePoint:class extends fE{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9})}getDefaultStyle(){return{blend:"additive"}}getCommonUniformsInfo(){let{blend:e,strokeOpacity:t=1,strokeWidth:n=0,stroke:r="#fff"}=this.layer.getLayerConfig(),i={u_stroke_color:tE(r),u_additive:"additive"===e?1:0,u_stroke_opacity:t,u_stroke_width:n},o=this.getUniformsBufferInfo(i);return o}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.layer.triangulation=gR,e.initUniformsBuffer();let t=yield e.layer.buildLayerModel({moduleName:"pointSimple",vertexShader:'\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\n\nlayout(std140) uniform commonUniorm {\n  vec4 u_stroke_color;\n  float u_additive;\n  float u_stroke_opacity;\n  float u_stroke_width;\n};\n\nout vec4 v_color;\nout float v_blur;\nout float v_innerRadius;\n\n#pragma include "projection"\n#pragma include "picking"\n#pragma include "project"\nvoid main() {\n  v_color = vec4(a_Color.xyz, a_Color.w * opacity);\n  v_blur = 1.0 - max(2.0 / a_Size, 0.05);\n  v_innerRadius = max((a_Size - u_stroke_width) / a_Size, 0.0);\n\n  vec2 offset = project_pixel(u_offsets);\n\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\n  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));\n\n  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'\nlayout(std140) uniform commonUniorm {\n  vec4 u_stroke_color;\n  float u_additive;\n  float u_stroke_opacity;\n  float u_stroke_width;\n};\n\nin vec4 v_color;\nin float v_blur;\nin float v_innerRadius;\n\nout vec4 outputColor;\n\n#pragma include "picking"\nvoid main() {\n  vec2 center = vec2(0.5);\n\n  // Tip: 片元到中心点的距离 0 - 1\n  float fragmengTocenter = distance(center, gl_PointCoord) * 2.0;\n  // Tip: 片元的剪切成圆形\n  float circleClipOpacity = 1.0 - smoothstep(v_blur, 1.0, fragmengTocenter);\n\n\n  if(v_innerRadius < 0.99) {\n    // 当存在 stroke 且 stroke > 0.01\n    float blurWidth = (1.0 - v_blur)/2.0;\n    vec4 stroke = vec4(u_stroke_color.rgb, u_stroke_opacity);\n    if(fragmengTocenter > v_innerRadius + blurWidth) {\n      outputColor = stroke;\n    } else if(fragmengTocenter > v_innerRadius - blurWidth){\n      float mixR = (fragmengTocenter - (v_innerRadius - blurWidth)) / (blurWidth * 2.0);\n      outputColor = mix(v_color, stroke, mixR);\n    } else {\n      outputColor = v_color;\n    }\n  } else {\n    // 当不存在 stroke 或 stroke <= 0.01\n    outputColor = v_color;\n  }\n\n  outputColor = filterColor(outputColor);\n  \n  if(u_additive > 0.0) {\n    outputColor *= circleClipOpacity;\n  } else {\n    outputColor.a *= circleClipOpacity;\n  }\n\n}\n',defines:e.getDefines(),inject:e.getInject(),triangulation:gR,depth:{enable:!1},primitive:aa.POINTS});return[t]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0]]:[t]}}})}},extrude:gN,text:gW,earthFill:class extends fE{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,SHAPE:10,EXTRUDE:11})}getCommonUniformsInfo(){let{strokeOpacity:e=1,strokeWidth:t=0,blend:n,blur:r=0}=this.layer.getLayerConfig();this.layer.getLayerConfig();let i=this.getUniformsBufferInfo({u_additive:"additive"===n?1:0,u_stroke_opacity:e,u_stroke_width:t,u_blur:r});return i}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.initUniformsBuffer(),e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.layer.triangulation=f1;let t=yield e.layer.buildLayerModel({moduleName:"pointEarthFill",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_SHAPE) in float a_Shape;\nlayout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;\n\nlayout(std140) uniform commonUniform {\n  float u_additive;\n  float u_stroke_opacity : 1;\n  float u_stroke_width : 2;\n  float u_blur : 0.0;\n};\nout vec4 v_data;\nout vec4 v_color;\nout float v_radius;\n\n#pragma include "projection"\n#pragma include "picking"\n\n\nvoid main() {\n  vec3 extrude = a_Extrude;\n  float shape_type = a_Shape;\n  /*\n  *  setPickingSize 设置拾取大小\n  */\n  float newSize = setPickingSize(a_Size);\n  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;\n\n  // unpack color(vec2)\n  v_color = a_Color;\n\n  // radius(16-bit)\n  v_radius = newSize;\n\n  // anti-alias\n  //  float antialiased_blur = -max(u_blur, antialiasblur);\n  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur);\n\n  // TODP: /abs(extrude.x) 是为了兼容地球模式\n  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);\n\n  gl_Position = u_ViewProjectionMatrix * vec4(a_Position + extrude * newSize * 0.1 + vec3(u_offsets,0.0), 1.0);\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:"in vec4 v_data;\nin vec4 v_color;\nin float v_radius;\n\nlayout(std140) uniform commonUniform {\n  float u_additive;\n  float u_stroke_opacity : 1;\n  float u_stroke_width : 2;\n  float u_blur : 0.0;\n};\n#pragma include \"sdf_2d\"\n#pragma include \"picking\"\n\nout vec4 outputColor;\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  vec4 strokeColor = u_stroke == vec4(0.0) ? v_color : u_stroke;\n\n  lowp float antialiasblur = v_data.z;\n  float r = v_radius / (v_radius + u_stroke_width);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  } else if (shape == 1) {\n    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  } else if (shape == 2) {\n    outer_df = sdBox(v_data.xy, vec2(1.));\n    inner_df = sdBox(v_data.xy, vec2(r));\n  } else if (shape == 3) {\n    outer_df = sdPentagon(v_data.xy, 0.8);\n    inner_df = sdPentagon(v_data.xy, r * 0.8);\n  } else if (shape == 4) {\n    outer_df = sdHexagon(v_data.xy, 0.8);\n    inner_df = sdHexagon(v_data.xy, r * 0.8);\n  } else if (shape == 5) {\n    outer_df = sdOctogon(v_data.xy, 1.0);\n    inner_df = sdOctogon(v_data.xy, r);\n  } else if (shape == 6) {\n    outer_df = sdHexagram(v_data.xy, 0.52);\n    inner_df = sdHexagram(v_data.xy, r * 0.52);\n  } else if (shape == 7) {\n    outer_df = sdRhombus(v_data.xy, vec2(1.0));\n    inner_df = sdRhombus(v_data.xy, vec2(r));\n  } else if (shape == 8) {\n    outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  }\n\n  if(outer_df > antialiasblur + 0.018) discard;\n\n  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);\n\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\n    antialiasblur,\n    0.0,\n    inner_df\n  );\n\n  if(u_stroke_width < 0.01) {\n    outputColor = vec4(v_color.rgb, v_color.a * u_opacity);\n  } else {\n    outputColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);\n  }\n\n  if(u_additive > 0.0) {\n    outputColor *= opacity_t;\n    outputColor = filterColorAlpha(outputColor, outputColor.a);\n  } else {\n    outputColor.a *= opacity_t;\n    outputColor = filterColor(outputColor);\n  }\n}\n",triangulation:f1,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!0},blend:e.getBlend()});return[t]})()}animateOption2Array(e){return[e.enable?0:1,e.speed||1,e.rings||3,0]}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"extrude",type:aR.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(e,t,n,r)=>{let[i,o,a]=n,s=fI.al(0,0,1),l=fI.al(i,0,a),c=i>=0?fI.EU(s,l):2*Math.PI-fI.EU(s,l),u=2*Math.PI-Math.asin(o/100),d=aH.create();aH.rotateY(d,d,c),aH.rotateX(d,d,u);let p=fI.al(1,1,0);fI.fF(p,p,d),fI.Fv(p,p);let h=fI.al(-1,1,0);fI.fF(h,h,d),fI.Fv(h,h);let f=fI.al(-1,-1,0);fI.fF(f,f,d),fI.Fv(f,f);let g=fI.al(1,-1,0);fI.fF(g,g,d),fI.Fv(g,g);let m=[...p,...h,...f,...g],b=r%4*3;return[m[b],m[b+1],m[b+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{size:t=5}=e;return Array.isArray(t)?[t[0]]:[t]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:aR.Attribute,descriptor:{name:"a_Shape",shaderLocation:this.attributeLocation.SHAPE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{shape:t=2}=e,n=this.layer.getLayerConfig().shape2d,r=n.indexOf(t);return[r]}}})}},earthExtrude:class extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"raiseCount",0),(0,ai.Z)(this,"raiseRepeat",0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,POS:10,NORMAL:11})}getCommonUniformsInfo(){let{animateOption:e={enable:!1,speed:.01,repeat:!1},opacity:t=1,sourceColor:n,targetColor:r,pickLight:i=!1,heightfixed:o=!0,opacityLinear:a={enable:!1,dir:"up"},lightEnable:s=!0}=this.layer.getLayerConfig(),l=0,c=[0,0,0,0],u=[0,0,0,0];if(n&&r&&(c=tE(n),u=tE(r),l=1),this.raiseCount<1&&this.raiseRepeat>0&&e.enable){let{speed:t=.01}=e;this.raiseCount+=t,this.raiseCount>=1&&(this.raiseRepeat>1?(this.raiseCount=0,this.raiseRepeat--):this.raiseCount=1)}let d={u_sourceColor:c,u_targetColor:u,u_linearColor:l,u_pickLight:Number(i),u_heightfixed:Number(o),u_r:e.enable&&this.raiseRepeat>0?this.raiseCount:1,u_opacity:gk(t)?t:1,u_opacitylinear:Number(a.enable),u_opacitylinear_dir:"up"===a.dir?1:0,u_lightEnable:Number(s)},p=this.getUniformsBufferInfo(d);return p}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.initUniformsBuffer(),e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){let{animateOption:{repeat:t=1}}=e.layer.getLayerConfig();e.raiseRepeat=t;let n=yield e.layer.buildLayerModel({moduleName:"pointEarthExtrude",vertexShader:'precision highp float;\n\n#define pi 3.1415926535\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in vec3 a_Size;\nlayout(location = ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\n\nlayout(std140) uniform commonUniform {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_linearColor: 0;\n  float u_heightfixed: 0.0; // 默认不固定\n  float u_globel;\n  float u_r;\n  float u_pickLight: 0.0;\n  float u_opacitylinear: 0.0;\n  float u_opacitylinear_dir: 1.0;\n  float u_lightEnable: 1.0;\n};\n\nout vec4 v_color;\nout float v_lightWeight;\nout float v_barLinearZ;\n// 用于将在顶点着色器中计算好的样式值传递给片元\n\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nfloat getYRadian(float x, float z) {\n  if(x > 0.0 && z > 0.0) {\n    return atan(x/z);\n  } else if(x > 0.0 && z <= 0.0){\n    return atan(-z/x) + pi/2.0;\n  } else if(x <= 0.0 && z <= 0.0) {\n    return  pi + atan(x/z); //atan(x/z) +\n  } else {\n    return atan(z/-x) + pi*3.0/2.0;\n  }\n}\n\nfloat getXRadian(float y, float r) {\n  return atan(y/r);\n}\n\nvoid main() {\n\n  // cal style mapping - 数据纹理映射部分的计算\n  vec3 size = a_Size * a_Position;\n\n  // a_Position.z 是在构建网格的时候传入的标准值 0 - 1，在插值器插值可以获取 0～1 线性渐变的值\n  v_barLinearZ =  a_Position.z;\n\n  vec3 offset = size; // 控制圆柱体的大小 - 从标准单位圆柱体进行偏移\n  if(u_heightfixed < 1.0) { // 圆柱体不固定高度\n    //\n  } else {// 圆柱体固定高度 （ 处理 mapbox ）\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      offset *= 4.0/pow(2.0, 21.0 - u_Zoom);\n    }\n  }\n\n\n  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));\n\n  // u_r 控制圆柱的生长\n  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);\n\n  // 圆柱光照效果\n  float lightWeight = 1.0;\n  if(u_lightEnable > 0.0) { // 取消三元表达式，增强健壮性\n    lightWeight = calc_lighting(pos);\n  }\n  v_lightWeight = lightWeight;\n  // 设置圆柱的底色\n  if(u_linearColor == 1.0) { // 使用渐变颜色\n    v_color = mix(u_sourceColor, u_targetColor, v_barLinearZ);\n    v_color.rgb *= lightWeight;\n  } else { // 使用 color 方法传入的颜色\n     v_color = a_Color;\n  }\n  v_color.a *= u_opacity;\n\n\n  // 在地球模式下，将原本垂直于 xy 平面的圆柱调整姿态到适应圆的角度\n  //旋转矩阵mx，创建绕x轴旋转矩阵\n  float r = sqrt(a_Pos.z*a_Pos.z + a_Pos.x*a_Pos.x);\n  float xRadian = getXRadian(a_Pos.y, r);\n  float xcos = cos(xRadian);//求解旋转角度余弦值\n  float xsin = sin(xRadian);//求解旋转角度正弦值\n  mat4 mx = mat4(\n    1,0,0,0,\n    0,xcos,-xsin,0,\n    0,xsin,xcos,0,\n    0,0,0,1);\n\n  //旋转矩阵my，创建绕y轴旋转矩阵\n  float yRadian = getYRadian(a_Pos.x, a_Pos.z);\n  float ycos = cos(yRadian);//求解旋转角度余弦值\n  float ysin = sin(yRadian);//求解旋转角度正弦值\n  mat4 my = mat4(\n    ycos,0,-ysin,0,\n    0,1,0,0,\n    ysin,0,ycos,0,\n    0,0,0,1);\n\n  gl_Position = u_ViewProjectionMatrix * vec4(( my * mx *  vec4(a_Position * a_Size, 1.0)).xyz + a_Pos, 1.0);\n\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'precision highp float;\nin vec4 v_color;\n\n#pragma include "picking"\n\nlayout(std140) uniform commonUniform {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_linearColor: 0;\n  float u_heightfixed: 0.0; // 默认不固定\n  float u_globel;\n  float u_r;\n  float u_pickLight: 0.0;\n  float u_opacitylinear: 0.0;\n  float u_opacitylinear_dir: 1.0;\n  float u_lightEnable: 1.0;\n};\nin float v_lightWeight;\nin float v_barLinearZ;\nout vec4 outputColor;\nvoid main() {\n\n   outputColor = v_color;\n\n  // 开启透明度渐变\n  if(u_opacitylinear > 0.0) {\n    outputColor.a *= u_opacitylinear_dir > 0.0 ? (1.0 - v_barLinearZ): v_barLinearZ;\n  }\n\n  // picking\n  if(u_pickLight > 0.0) {\n    outputColor = filterColorAlpha(outputColor, v_lightWeight);\n  } else {\n    outputColor = filterColor(outputColor);\n  }\n}\n',triangulation:f2,depth:{enable:!0},defines:e.getDefines(),inject:e.getInject(),cull:{enable:!0,face:aa.FRONT},blend:e.getBlend()});return[n]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:3,update:e=>{let{size:t}=e;if(!t)return[2,2,2];{let e=[];return Array.isArray(t)&&(e=2===t.length?[t[0],t[0],t[1]]:t),Array.isArray(t)||(e=[t,t,t]),e}}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:aR.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(e,t,n,r,i)=>i}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:aR.Attribute,descriptor:{name:"a_Pos",shaderLocation:this.attributeLocation.POS,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:3,update:e=>{let t=rp(e.coordinates);return fR([t[0],t[1]])}}})}}};class gq extends fd{constructor(...e){super(...e),(0,ai.Z)(this,"type","PointLayer"),(0,ai.Z)(this,"enableShaderEncodeStyles",["stroke","offsets","opacity","rotation"]),(0,ai.Z)(this,"enableDataEncodeStyles",["textOffset","textAnchor"]),(0,ai.Z)(this,"defaultSourceConfig",{data:[],options:{parser:{type:"json",x:"lng",y:"lat"}}})}buildModels(){var e=this;return(0,aZ.Z)(function*(){let t=e.getModelType();e.layerModel&&e.layerModel.clearModels(),e.layerModel=new gY[t](e),yield e.initLayerModels()})()}rebuildModels(){var e=this;return(0,aZ.Z)(function*(){yield e.buildModels()})()}getModelTypeWillEmptyData(){if(this.shapeOption){let{field:e,values:t}=this.shapeOption,{shape2d:n}=this.getLayerConfig(),r=this.iconService.getIconMap();if(e&&(null==n?void 0:n.indexOf(e))!==-1)return"fill";if("text"===t)return"text";if(t&&t instanceof Array){for(let e of t)if("string"==typeof e&&r.hasOwnProperty(e))return"image"}}return"normal"}getDefaultConfig(){let e=this.getModelType();return({fillImage:{},normal:{blend:"additive"},radar:{},simplePoint:{},fill:{blend:"normal"},extrude:{},image:{},text:{blend:"normal"},tile:{},tileText:{},earthFill:{},earthExtrude:{}})[e]}getModelType(){let e=this.getEncodedData(),{shape2d:t,shape3d:n,billboard:r=!0}=this.getLayerConfig(),i=this.iconService.getIconMap(),o=e.find(e=>e.hasOwnProperty("shape"));if(!o)return this.getModelTypeWillEmptyData();{let e=o.shape;return"dot"===e?"normal":"simple"===e?"simplePoint":"radar"===e?"radar":"fillImage"===this.layerType||!1===r?"fillImage":(null==t?void 0:t.indexOf(e))!==-1?"GLOBEL"===this.mapService.version?"earthFill":"fill":(null==n?void 0:n.indexOf(e))!==-1?"GLOBEL"===this.mapService.version?"earthExtrude":"extrude":i.hasOwnProperty(e)?"image":"text"}}}function gX(){return(gX=(0,aZ.Z)(function*(e){if(window.createImageBitmap){let t=yield fetch(e),n=yield createImageBitmap((yield t.blob()));return n}{let t=new window.Image;return new Promise(n=>{t.onload=()=>n(t),t.src=e,t.crossOrigin="Anonymous"})}})).apply(this,arguments)}var gK={fill:class extends fE{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,LINEAR:9})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,ar.Z)((0,ar.Z)({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{raisingHeight:e=0,opacityLinear:t={enable:!1,dir:"in"}}=this.layer.getLayerConfig(),n={u_raisingHeight:Number(e),u_opacitylinear:Number(t.enable),u_dir:"in"===t.dir?1:0},r=this.getUniformsBufferInfo(n);return r}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){let{frag:t,vert:n,triangulation:r,type:i}=e.getModelParams();e.initUniformsBuffer(),e.layer.triangulation=r;let o=yield e.layer.buildLayerModel({moduleName:i,vertexShader:n,fragmentShader:t,defines:e.getDefines(),inject:e.getInject(),triangulation:r,primitive:aa.TRIANGLES,depth:{enable:!1}});return[o]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute();let{opacityLinear:e={enable:!1,dir:"in"}}=this.layer.getLayerConfig();e.enable&&this.styleAttributeService.registerStyleAttribute({name:"linear",type:aR.Attribute,descriptor:{name:"a_linear",shaderLocation:this.attributeLocation.LINEAR,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(e,t,n)=>[n[3],n[4],n[5]]}})}getModelParams(){let{opacityLinear:e={enable:!1}}=this.layer.getLayerConfig();return e.enable?{frag:'\nlayout(std140) uniform commonUniforms {\n  float u_raisingHeight;\n  float u_opacitylinear;\n  float u_dir;\n};\n\nin vec4 v_color;\nin vec3 v_linear;\nin vec2 v_pos;\nout vec4 outputColor;\n#pragma include "scene_uniforms"\n#pragma include "picking"\n\nvoid main() {\n  outputColor = v_color;\n  if (u_opacitylinear > 0.0) {\n    outputColor.a *= u_dir == 1.0 ? 1.0 - length(v_pos - v_linear.xy)/v_linear.z : length(v_pos - v_linear.xy)/v_linear.z;\n  }\n  outputColor = filterColor(outputColor);\n}\n',vert:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_LINEAR) in vec3 a_linear;\n\nlayout(std140) uniform commonUniforms {\n  float u_raisingHeight;\n  float u_opacitylinear;\n  float u_dir;\n};\n\nout vec4 v_color;\nout vec3 v_linear;\nout vec2 v_pos;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  if (u_opacitylinear > 0.0) {\n    v_linear = a_linear;\n    v_pos = a_Position.xy;\n  }\n  v_color = vec4(a_Color.xyz, a_Color.w * opacity);\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\n  project_pos.z += u_raisingHeight;\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\n    project_pos.z *= mapboxZoomScale;\n    project_pos.z += u_raisingHeight * mapboxZoomScale;\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  setPickingColor(a_PickingColor);\n}\n',type:"polygonLinear",triangulation:f9}:{frag:'in vec4 v_color;\n#pragma include "scene_uniforms"\n#pragma include "picking"\nout vec4 outputColor;\nvoid main() {\n  outputColor = v_color;\n  outputColor = filterColor(outputColor);\n}\n',vert:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\n\nlayout(std140) uniform commonUniforms {\n  float u_raisingHeight;\n};\n\nout vec4 v_color;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - 数据纹理映射部分的计算\n\n  v_color = vec4(a_Color.xyz, a_Color.w * opacity);\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\n\n  project_pos.z += u_raisingHeight;\n\n  if (\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\n    project_pos.z *= mapboxZoomScale;\n    project_pos.z += u_raisingHeight * mapboxZoomScale;\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n\n',type:"polygonFill",triangulation:f8}}},line:gO,extrude:class extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:10,UV:11})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,ar.Z)((0,ar.Z)({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{mapTexture:e,heightfixed:t=!1,raisingHeight:n=0,topsurface:r=!0,sidesurface:i=!0,sourceColor:o,targetColor:a}=this.layer.getLayerConfig(),s=0,l=[1,1,1,1],c=[1,1,1,1];o&&a&&(l=tE(o),c=tE(a),s=1);let u={u_sourceColor:l,u_targetColor:c,u_linearColor:s,u_topsurface:Number(r),u_sidesurface:Number(i),u_heightfixed:Number(t),u_raisingHeight:Number(n)};e&&this.texture&&(u.u_texture=this.texture,this.textures=[this.texture]);let d=this.getUniformsBufferInfo(u);return d}initModels(){var e=this;return(0,aZ.Z)(function*(){return yield e.loadTexture(),e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){let{frag:t,vert:n,type:r}=e.getShaders();e.initUniformsBuffer();let i=yield e.layer.buildLayerModel({moduleName:r,vertexShader:n,fragmentShader:t,depth:{enable:!0},defines:e.getDefines(),inject:e.getInject(),triangulation:ge});return[i]})()}getShaders(){let{pickLight:e,mapTexture:t}=this.layer.getLayerConfig();return t?{frag:'uniform sampler2D u_texture;\n\nlayout(std140) uniform commonUniforms {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_linearColor;\n  float u_topsurface;\n  float u_sidesurface;\n  float u_heightfixed; // 默认不固定\n  float u_raisingHeight;\n};\n\nin vec4 v_Color;\nin vec3 v_uvs;\nin vec2 v_texture_data;\n\n#pragma include "scene_uniforms"\n#pragma include "picking"\n\nout vec4 outputColor;\n\nvoid main() {\n  float opacity = u_opacity;\n  float isSide = v_texture_data.x;\n  float lightWeight = v_texture_data.y;\n  float topU = v_uvs[0];\n  float topV = 1.0 - v_uvs[1];\n  float sidey = v_uvs[2];\n\n  outputColor = texture(SAMPLER_2D(u_texture), vec2(topU, topV));\n  // Tip: 部分机型 GPU 计算精度兼容\n  if (isSide < 0.999) {// 是否是边缘\n    // side face\n    if (u_sidesurface < 1.0) {\n      discard;\n    }\n\n    if (u_linearColor == 1.0) {\n      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);\n      linearColor.rgb *= lightWeight;\n      outputColor = linearColor;\n    } else {\n      outputColor = v_Color;\n    }\n  } else {\n     // top face\n    if (u_topsurface < 1.0) {\n      discard;\n    }\n  }\n  \n  outputColor.a *= opacity;\n  outputColor = filterColor(outputColor);\n}\n',vert:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;\n\nlayout(std140) uniform commonUniforms {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_linearColor;\n  float u_topsurface;\n  float u_sidesurface;\n  float u_heightfixed; // 默认不固定\n  float u_raisingHeight;\n};\n\nout vec4 v_Color;\nout vec3 v_uvs;\nout vec2 v_texture_data;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\n  vec4 project_pos = project_position(pos, a_Position64Low);\n  float lightWeight = calc_lighting(project_pos);\n  v_uvs = a_uvs;\n  v_Color = a_Color;\n  v_Color.a *= opacity;\n\n  v_texture_data = vec2(a_Position.z, lightWeight);\n\n  if (u_heightfixed > 0.0) {\n    // 判断几何体是否固定高度\n    project_pos.z = a_Position.z * a_Size;\n    project_pos.z += u_raisingHeight;\n\n    if (\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n    ) {\n      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\n      project_pos.z *= mapboxZoomScale;\n      project_pos.z += u_raisingHeight * mapboxZoomScale;\n    }\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',type:"polygonExtrudeTexture"}:e?{frag:'\nlayout(std140) uniform commonUniforms {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_linearColor;\n  float u_topsurface;\n  float u_sidesurface;\n  float u_heightfixed; // 默认不固定\n  float u_raisingHeight;\n};\n\nin vec4 v_Color;\nin vec3 v_uvs;\nin vec2 v_texture_data;\nout vec4 outputColor;\n\n#pragma include "scene_uniforms"\n#pragma include "picking"\n\nvoid main() {\n  float isSide =  v_texture_data.x;\n  float sidey = v_uvs[2];\n  float lightWeight = v_texture_data.y;\n\n  // Tip: 部分机型 GPU 计算精度兼容\n  if(isSide < 0.999) {\n    // side face\n    if(u_sidesurface < 1.0) {\n      discard;\n    }\n    \n    if( u_linearColor == 1.0) {\n      // side use linear\n      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);\n      linearColor.rgb *= lightWeight;\n      outputColor = linearColor;\n    } else {\n      // side notuse linear\n       outputColor = v_Color;\n    }\n  } else {\n    // top face\n    if(u_topsurface < 1.0) {\n      discard;\n    }\n    outputColor = v_Color;\n  }\n\n  outputColor = filterColorAlpha(outputColor, lightWeight);\n}\n',vert:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;\n\nlayout(std140) uniform commonUniforms {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_linearColor;\n  float u_topsurface;\n  float u_sidesurface;\n  float u_heightfixed; // 默认不固定\n  float u_raisingHeight;\n};\n\nout vec4 v_Color;\nout vec3 v_uvs;\nout vec2 v_texture_data;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  v_uvs = a_uvs;\n  // cal style mapping - 数据纹理映射部分的计算\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\n  vec4 project_pos = project_position(pos, a_Position64Low);\n\n  if (u_heightfixed > 0.0) {\n    // 判断几何体是否固定高度\n    project_pos.z = a_Position.z * a_Size;\n    project_pos.z += u_raisingHeight;\n    if (\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n    ) {\n      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\n      project_pos.z *= mapboxZoomScale;\n      project_pos.z += u_raisingHeight * mapboxZoomScale;\n    }\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  float lightWeight = calc_lighting(project_pos);\n  v_texture_data = vec2(a_Position.z, lightWeight);\n\n  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);\n\n  setPickingColor(a_PickingColor);\n}\n',type:"polygonExtrudePickLight"}:{frag:'layout(std140) uniform commonUniforms {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_linearColor;\n  float u_topsurface;\n  float u_sidesurface;\n  float u_heightfixed; // 默认不固定\n  float u_raisingHeight;\n};\n\nin vec4 v_Color;\n#pragma include "scene_uniforms"\n#pragma include "picking"\nout vec4 outputColor;\nvoid main() {\n\n     // top face\n    if(u_topsurface < 1.0) {\n      discard;\n    }\n\n    outputColor = v_Color;\n  \n  outputColor = filterColor(outputColor);\n}\n',vert:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;\n\nlayout(std140) uniform commonUniforms {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_linearColor;\n  float u_topsurface;\n  float u_sidesurface;\n  float u_heightfixed; // 默认不固定\n  float u_raisingHeight;\n};\n\nout vec4 v_Color;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  float isSide = a_Position.z;\n  float topU = a_uvs[0];\n  float topV = 1.0 - a_uvs[1];\n  float sidey = a_uvs[2];\n\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\n\n  vec4 project_pos = project_position(pos, a_Position64Low);\n  float lightWeight = calc_lighting(project_pos);\n\n  if (u_heightfixed > 0.0) {\n    // 判断几何体是否固定高度\n    project_pos.z = a_Position.z * a_Size;\n    project_pos.z += u_raisingHeight;\n\n    if (\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n    ) {\n      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\n      project_pos.z *= mapboxZoomScale;\n      project_pos.z += u_raisingHeight * mapboxZoomScale;\n    }\n  }\n\n gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  // Tip: 部分机型 GPU 计算精度兼容\n  if (isSide < 0.999) {\n    // side face\n    // if(u_sidesurface < 1.0) {\n    //   discard;\n    // }\n\n    if (u_linearColor == 1.0) {\n      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);\n      linearColor.rgb *= lightWeight;\n      v_Color = linearColor;\n    } else {\n      v_Color = a_Color;\n    }\n\n  } else {\n    v_Color = a_Color;\n  }\n\n  v_Color = vec4(v_Color.rgb * lightWeight, v_Color.w * opacity);\n\n  setPickingColor(a_PickingColor);\n}\n',type:"polygonExtrude"}}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy(),this.textures=[]}registerBuiltinAttributes(){let e=this.layer.getSource().extent,t=e[2]-e[0],n=e[3]-e[1];this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uvs",type:aR.Attribute,descriptor:{name:"a_uvs",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(r,i,o)=>{let a=o[0],s=o[1];return[(a-e[0])/t,(s-e[1])/n,o[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:aR.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(e,t,n,r,i)=>i}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{size:t=10}=e;return Array.isArray(t)?[t[0]]:[t]}}})}loadTexture(){var e=this;return(0,aZ.Z)(function*(){let{mapTexture:t}=e.layer.getLayerConfig(),{createTexture2D:n}=e.rendererService;if(e.texture=n({height:1,width:1}),t){let r=yield function(e){return gX.apply(this,arguments)}(t);e.texture=n({data:r,width:r.width,height:r.height,wrapS:aa.CLAMP_TO_EDGE,wrapT:aa.CLAMP_TO_EDGE,min:aa.LINEAR,mag:aa.LINEAR})}})()}},text:gW,point_fill:gM,point_image:gD,point_normal:gF,point_extrude:gN,water:class extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,ar.Z)((0,ar.Z)({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{speed:e=.5}=this.layer.getLayerConfig(),t={u_speed:e,u_time:this.layer.getLayerAnimateTime(),u_texture:this.texture};this.textures=[this.texture];let n=this.getUniformsBufferInfo(t);return n}getAnimateUniforms(){return{u_time:this.layer.getLayerAnimateTime()}}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.loadTexture(),e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.initUniformsBuffer();let t=yield e.layer.buildLayerModel({moduleName:"polygonWater",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_uv;\n\nlayout(std140) uniform commonUniforms {\n  float u_speed;\n  float u_time;\n};\nout vec4 v_Color;\nout vec2 v_uv;\n\n#pragma include "projection"\n\nvoid main() {\n  v_uv = a_uv;\n  v_Color = a_Color;\n  v_Color.a *= opacity;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n}\n\n',fragmentShader:"uniform sampler2D u_texture;\nlayout(std140) uniform commonUniforms {\n  float u_speed;\n  float u_time;\n};\n\nout vec4 outputColor;\n\n\nin vec4 v_Color;\nin vec2 v_uv;\n\nfloat rand(vec2 n) { return 0.5 + 0.5 * fract(sin(dot(n.xy, vec2(12.9898, 78.233)))* 43758.5453); }\n\nfloat water(vec3 p) {\n  float t = u_time * u_speed;\n  p.z += t * 2.; p.x += t * 2.;\n  vec3 c1 = texture(SAMPLER_2D(u_texture), p.xz / 30.).xyz;\n  p.z += t * 3.; p.x += t * 0.52;\n  vec3 c2 = texture(SAMPLER_2D(u_texture), p.xz / 30.).xyz;\n  p.z += t * 4.; p.x += t * 0.8;\n  vec3 c3 = texture(SAMPLER_2D(u_texture), p.xz / 30.).xyz;\n  c1 += c2 - c3;\n  float z = (c1.x + c1.y + c1.z) / 3.;\n  return p.y + z / 4.;\n}\n\nfloat map(vec3 p) {\n  float d = 100.0;\n  d = water(p);\n  return d;\n}\n\nfloat intersect(vec3 ro, vec3 rd) {\n  float d = 0.0;\n  for (int i = 0; i <= 100; i++) {\n    float h = map(ro + rd * d);\n    if (h < 0.1) return  d;\n    d += h;\n  }\n  return 0.0;\n}\n\nvec3 norm(vec3 p) {\n  float eps = .1;\n  return normalize(vec3(\n    map(p + vec3(eps, 0, 0)) - map(p + vec3(-eps, 0, 0)),\n    map(p + vec3(0, eps, 0)) - map(p + vec3(0, -eps, 0)),\n    map(p + vec3(0, 0, eps)) - map(p + vec3(0, 0, -eps))\n  ));\n} \n\nfloat calSpc() {\n  vec3 l1 = normalize(vec3(1, 1, 1));\n  vec3 ro = vec3(-3, 20, -8);\n  vec3 rc = vec3(0, 0, 0);\n  vec3 ww = normalize(rc - ro);\n  vec3 uu = normalize(cross(vec3(0,1,0), ww));\n  vec3 vv = normalize(cross(rc - ro, uu));\n  vec3 rd = normalize(uu * v_uv.x + vv * v_uv.y + ww);\n  float d = intersect(ro, rd);\n  vec3 p = ro + rd * d;\n  vec3 n = norm(p);\n  float spc = pow(max(0.0, dot(reflect(l1, n), rd)), 30.0);\n  return spc;\n}\n\nvoid main() {\n\n  outputColor = v_Color;\n  float spc = calSpc();\n  outputColor += spc * 0.4;\n}\n",triangulation:f8,defines:e.getDefines(),inject:e.getInject(),primitive:aa.TRIANGLES,depth:{enable:!1},pickingEnabled:!1,diagnosticDerivativeUniformityEnabled:!1});return[t]})()}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy()}registerBuiltinAttributes(){let e=this.layer.getSource().extent,[t,n,r,i]=e,o=r-t,a=i-n;this.styleAttributeService.registerStyleAttribute({name:"waterUv",type:aR.Attribute,descriptor:{name:"a_uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:2,update:(e,r,i)=>{let[s,l]=i;return[(s-t)/o,(l-n)/a]}}})}loadTexture(){let{waterTexture:e}=this.layer.getLayerConfig(),{createTexture2D:t}=this.rendererService;this.texture=t({height:1,width:1});let n=new Image;n.crossOrigin="",e?(console.warn("L7 recommend：https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ"),n.src=e):n.src="https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ",n.onload=()=>{this.texture=t({data:n,width:n.width,height:n.height,wrapS:aa.MIRRORED_REPEAT,wrapT:aa.MIRRORED_REPEAT,min:aa.LINEAR,mag:aa.LINEAR}),this.layerService.reRender()}}},ocean:class extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"texture1",void 0),(0,ai.Z)(this,"texture2",void 0),(0,ai.Z)(this,"texture3",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,ar.Z)((0,ar.Z)({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{watercolor:e="#6D99A8",watercolor2:t="#0F121C"}=this.layer.getLayerConfig(),n={u_watercolor:tE(e),u_watercolor2:tE(t),u_time:this.layer.getLayerAnimateTime(),u_texture1:this.texture1,u_texture2:this.texture2,u_texture3:this.texture3};this.textures=[this.texture1,this.texture2,this.texture3];let r=this.getUniformsBufferInfo(n);return r}getAnimateUniforms(){return{u_time:this.layer.getLayerAnimateTime()}}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.loadTexture(),e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.initUniformsBuffer();let t=yield e.layer.buildLayerModel({moduleName:"polygonOcean",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_uv;\n\nlayout(std140) uniform commonUniforms {\n  vec4 u_watercolor;\n  vec4 u_watercolor2;\n  float u_time;\n};\n\nout vec2 v_uv;\nout float v_opacity;\n\n#pragma include "projection"\n\nvoid main() {\n  v_uv = a_uv;\n  v_opacity = opacity;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n}\n\n',fragmentShader:"\nlayout(std140) uniform commonUniforms {\n  vec4 u_watercolor;\n  vec4 u_watercolor2;\n  float u_time;\n};\n\nin vec2 v_uv;\nin float v_opacity;\nout vec4 outputColor;\n\nfloat coast2water_fadedepth = 0.10;\nfloat large_waveheight      = .750; // change to adjust the \"heavy\" waves\nfloat large_wavesize        = 3.4;  // factor to adjust the large wave size\nfloat small_waveheight      = 0.6;  // change to adjust the small random waves\nfloat small_wavesize        = 0.5;   // factor to ajust the small wave size\nfloat water_softlight_fact  = 15.;  // range [1..200] (should be << smaller than glossy-fact)\nfloat water_glossylight_fact= 120.; // range [1..200]\nfloat particle_amount       = 70.;\n\nvec3 water_specularcolor    = vec3(1.3, 1.3, 0.9);    // specular Color (RGB) of the water-highlights\n#define light                 vec3(-0., sin(u_time*0.5)*.5 + .35, 2.8) // position of the sun\n\nuniform sampler2D u_texture1;\nuniform sampler2D u_texture2;\nuniform sampler2D u_texture3;\n\n  \n\nfloat hash( float n ) {\n    return fract(sin(n)*43758.5453123);\n}\n\n// 2d noise function\nfloat noise1( in vec2 x ) {\n  vec2 p  = floor(x);\n  vec2 f  = smoothstep(0.0, 1.0, fract(x));\n  float n = p.x + p.y*57.0;\n  return mix(mix( hash(n+  0.0), hash(n+  1.0),f.x),\n    mix( hash(n+ 57.0), hash(n+ 58.0),f.x),f.y);\n}\n\nfloat noise(vec2 p) {\n    return texture(SAMPLER_2D(u_texture2),p*vec2(1./256.)).x;\n}\n\nvec4 highness(vec2 p) {\n    vec4 t = texture(SAMPLER_2D(u_texture1),fract(p));\n    float clipped = -2.0-smoothstep(3.,10.,t.a)*6.9-smoothstep(10.,100.,t.a)*89.9-smoothstep(0.,10000.,t.a)*10000.0;\n    return clamp(t, 0.0,3.0)+clamp(t/3.0-1.0, 0.0,1.0)+clamp(t/16.0-1.0, 0.0,1.0);\n}\n\nfloat height_map( vec2 p ) {\n    vec4 height=highness(p);\n    /*\n    height = -0.5+\n        0.5*smoothstep(-100.,0.,-height)+\n        2.75*smoothstep(0.,2.,height)+\n        1.75*smoothstep(2.,4.,height)+\n        2.75*smoothstep(4.,16.,height)+\n        1.5*smoothstep(16.,1000.,height);\n    */\n\n    mat2 m = mat2( 0.9563*1.4,  -0.2924*1.4,  0.2924*1.4,  0.9563*1.4 );\n    //p = p*6.;\n    float f = 0.6000*noise1( p ); p = m*p*1.1*6.;\n    f += 0.2500*noise( p ); p = m*p*1.32;\n    f += 0.1666*noise( p ); p = m*p*1.11;\n    f += 0.0834*noise( p ); p = m*p*1.12;\n    f += 0.0634*noise( p ); p = m*p*1.13;\n    f += 0.0444*noise( p ); p = m*p*1.14;\n    f += 0.0274*noise( p ); p = m*p*1.15;\n    f += 0.0134*noise( p ); p = m*p*1.16;\n    f += 0.0104*noise( p ); p = m*p*1.17;\n    f += 0.0084*noise( p );\n    f = .25*f+dot(height,vec4(-.03125,-.125,.25,.25))*.5;\n        const float FLAT_LEVEL = 0.92525;\n        //f = f*0.25+height*0.75;\n    if (f<FLAT_LEVEL)\n        f = f;\n    else\n        f = pow((f-FLAT_LEVEL)/(1.-FLAT_LEVEL), 2.)*(1.-FLAT_LEVEL)*2.0+FLAT_LEVEL; // makes a smooth coast-increase\n    return clamp(f, 0., 10.);\n}\n\nvec3 plasma_quintic( float x ) {\n    x = clamp( x, 0.0, 1.0);\n    vec4 x1 = vec4( 1.0, x, x * x, x * x * x ); // 1 x x2 x3\n    vec4 x2 = x1 * x1.w * x; // x4 x5 x6 x7\n    return vec3(\n        dot( x1.xyzw, vec4( +0.063861086, +1.992659096, -1.023901152, -0.490832805 ) ) + dot( x2.xy, vec2( +1.308442123, -0.914547012 ) ),\n        dot( x1.xyzw, vec4( +0.049718590, -0.791144343, +2.892305078, +0.811726816 ) ) + dot( x2.xy, vec2( -4.686502417, +2.717794514 ) ),\n        dot( x1.xyzw, vec4( +0.513275779, +1.580255060, -5.164414457, +4.559573646 ) ) + dot( x2.xy, vec2( -1.916810682, +0.570638854 ) ) );\n}\n\nvec4 color(vec2 p){\n    vec4 c1 = vec4(1.7,1.6,.9,1);\n    vec4 c2 = vec4(.2,.94,.1,1);\n    vec4 c3 = vec4(.3,.2,.0,1);\n    vec4 c4 = vec4(.99,.99,1.6,1);\n    vec4 v = highness(p);\n    float los = smoothstep(0.1,1.1,v.b);\n    float his = smoothstep(3.5,6.5,v.b);\n    float ces = smoothstep(1.,5.,v.a);\n    vec4 lo = mix(c1,c2,los);\n    vec4 hi = mix(c3,c4,his);\n    vec4 ce = mix(lo,hi,ces);\n\n    return vec4(plasma_quintic(ces),1).ragb;\n}\n\nvec3 terrain_map( vec2 p )\n{\n  return color(p).rgb*0.75+0.25*vec3(0.7, .55, .4)+texture(SAMPLER_2D(u_texture3), fract(p*5.)).rgb*.5; // test-terrain is simply 'sandstone'\n}\n\nconst mat2 m = mat2( 0.72, -1.60,  1.60,  0.72 );\n\nfloat water_map( vec2 p, float height ) {\n    vec2 p2 = p*large_wavesize;\n    vec2 shift1 = 0.001*vec2( u_time*160.0*2.0, u_time*120.0*2.0 );\n    vec2 shift2 = 0.001*vec2( u_time*190.0*2.0, -u_time*130.0*2.0 );\n\n    // coarse crossing 'ocean' waves...\n    float f = 0.6000*noise( p );\n    f += 0.2500*noise( p*m );\n    f += 0.1666*noise( p*m*m );\n    float wave = sin(p2.x*0.622+p2.y*0.622+shift2.x*4.269)*large_waveheight*f*height*height ;\n\n    p *= small_wavesize;\n    f = 0.;\n    float amp = 1.0, s = .5;\n    for (int i=0; i<9; i++)\n    { p = m*p*.947; f -= amp*abs(sin((noise( p+shift1*s )-.5)*2.)); amp = amp*.59; s*=-1.329; }\n    \n    return wave+f*small_waveheight;\n}\n\nfloat nautic(vec2 p) {\n    p *= 18.;\n    float f = 0.;\n    float amp = 1.0, s = .5;\n    for (int i=0; i<3; i++)\n    { p = m*p*1.2; f += amp*abs(smoothstep(0., 1., noise( p+u_time*s ))-.5); amp = amp*.5; s*=-1.227; }\n    return pow(1.-f, 5.);\n}\n\nfloat particles(vec2 p) {\n    p *= 200.;\n    float f = 0.;\n    float amp = 1.0, s = 1.5;\n    for (int i=0; i<3; i++)\n    { p = m*p*1.2; f += amp*noise( p+u_time*s ); amp = amp*.5; s*=-1.227; }\n    return pow(f*.35, 7.)*particle_amount;\n}\n\nfloat test_shadow( vec2 xy, float height) {\n    vec3 r0 = vec3(xy, height);\n    vec3 rd = normalize( light - r0 );\n    \n    float hit = 1.0;\n    float t   = 0.001;\n    for (int j=1; j<25; j++)\n    {\n        vec3 p = r0 + t*rd;\n        float h = height_map( p.xy );\n        float height_diff = p.z - h;\n        if (height_diff<0.0)\n        {\n            return 0.0;\n        }\n        t += 0.01+height_diff*.02;\n        hit = min(hit, 2.*height_diff/t); // soft shaddow   \n    }\n    return hit;\n}\n\nvec3 CalcTerrain(vec2 uv, float height) {\n    vec3 col = terrain_map( uv );\n    vec2 iResolution = vec2(512.);\n    float h1 = height_map(uv-vec2(0., 0.5)/ iResolution.xy);\n    float h2 = height_map(uv+vec2(0., 0.5)/ iResolution.xy);\n    float h3 = height_map(uv-vec2(0.5, 0.)/ iResolution.xy);\n    float h4 = height_map(uv+vec2(0.5, 0.)/ iResolution.xy);\n    vec3 norm = normalize(vec3(h3-h4, h1-h2, 1.));\n    vec3 r0 = vec3(uv, height);\n    vec3 rd = normalize( light - r0 );\n    float grad = dot(norm, rd);\n    col *= grad+pow(grad, 8.);\n    float terrainshade = test_shadow( uv, height );\n    col = mix(col*.25, col, terrainshade);\n    return col;\n}\n\n\nvoid main() {\n  vec3 watercolor = u_watercolor.rgb;\n  vec3 watercolor2 = u_watercolor2.rgb;\n  vec2 uv = v_uv;\n  float WATER_LEVEL = 0.84; // Water level (range: 0.0 - 2.0)\n  float deepwater_fadedepth   = 0.4 + coast2water_fadedepth;\n  float height = height_map( uv );\n  vec3 col;\n\n    float waveheight = clamp(WATER_LEVEL*3.-1.5, 0., 1.);\n    float level = WATER_LEVEL + .2*water_map(uv*15. + vec2(u_time*.1), waveheight);\n    if (height > level)\n    {\n        col = CalcTerrain(uv, height);\n    }\n    if (height <= level)\n    {\n        vec2 dif = vec2(.0, .01);\n        vec2 pos = uv*15. + vec2(u_time*.01);\n        float h1 = water_map(pos-dif,waveheight);\n        float h2 = water_map(pos+dif,waveheight);\n        float h3 = water_map(pos-dif.yx,waveheight);\n        float h4 = water_map(pos+dif.yx,waveheight);\n        vec3 normwater = normalize(vec3(h3-h4, h1-h2, .125)); // norm-vector of the 'bumpy' water-plane\n        uv += normwater.xy*.002*(level-height);\n        \n        col = CalcTerrain(uv, height);\n\n        float coastfade = clamp((level-height)/coast2water_fadedepth, 0., 1.);\n        float coastfade2= clamp((level-height)/deepwater_fadedepth, 0., 1.);\n        float intensity = col.r*.2126+col.g*.7152+col.b*.0722;\n        watercolor = mix(watercolor*intensity, watercolor2, smoothstep(0., 1., coastfade2));\n\n        vec3 r0 = vec3(uv, WATER_LEVEL);\n        vec3 rd = normalize( light - r0 ); // ray-direction to the light from water-position\n        float grad     = dot(normwater, rd); // dot-product of norm-vector and light-direction\n        float specular = pow(grad, water_softlight_fact);  // used for soft highlights                          \n        float specular2= pow(grad, water_glossylight_fact); // used for glossy highlights\n        float gradpos  = dot(vec3(0., 0., 1.), rd);\n        float specular1= smoothstep(0., 1., pow(gradpos, 5.));  // used for diffusity (some darker corona around light's specular reflections...)                          \n        float watershade  = test_shadow( uv, level );\n        watercolor *= 2.2+watershade;\n        watercolor += (.2+.8*watershade) * ((grad-1.0)*.5+specular) * .25;\n        watercolor /= (1.+specular1*1.25);\n        watercolor += watershade*specular2*water_specularcolor;\n        watercolor += watershade*coastfade*(1.-coastfade2)*(vec3(.5, .6, .7)*nautic(uv)+vec3(1., 1., 1.)*particles(uv));\n        \n        col = mix(col, watercolor, coastfade);\n    }\n    \n  outputColor = vec4(col, v_opacity);  \n}\n",defines:e.getDefines(),inject:e.getInject(),triangulation:f8,primitive:aa.TRIANGLES,depth:{enable:!1}});return[t]})()}clearModels(){var e,t,n;null===(e=this.texture1)||void 0===e||e.destroy(),null===(t=this.texture2)||void 0===t||t.destroy(),null===(n=this.texture3)||void 0===n||n.destroy()}registerBuiltinAttributes(){let e=this.layer.getSource().extent,[t,n,r,i]=e,o=r-t,a=i-n;this.styleAttributeService.registerStyleAttribute({name:"oceanUv",type:aR.Attribute,descriptor:{name:"a_uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:2,update:(e,r,i)=>{let[s,l]=i;return[(s-t)/o,(l-n)/a]}}})}loadTexture(){let{createTexture2D:e}=this.rendererService,t={height:0,width:0};function n(t){return e({data:t,width:t.width,height:t.height,wrapS:aa.MIRRORED_REPEAT,wrapT:aa.MIRRORED_REPEAT,min:aa.LINEAR,mag:aa.LINEAR})}this.texture1=e(t),this.texture2=e(t),this.texture3=e(t),function(e){let t=0,n=[];["https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ","https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*MJ22QbpuCzIAAAAAAAAAAAAAARQnAQ","https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*-z2HSIVDsHIAAAAAAAAAAAAAARQnAQ"].map(r=>{let i=new Image;i.crossOrigin="",i.src=r,n.push(i),i.onload=()=>{3==++t&&e(n)}})}(e=>{this.texture1=n(e[0]),this.texture2=n(e[1]),this.texture3=n(e[2]),this.layerService.reRender()})}},extrusion:class extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:10,EXTRUSION_BASE:11})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,ar.Z)((0,ar.Z)({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let e=this.getUniformsBufferInfo({});return e}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){let{frag:t,vert:n,type:r}=e.getShaders();e.initUniformsBuffer();let i=yield e.layer.buildLayerModel({moduleName:r,vertexShader:n,fragmentShader:t,defines:e.getDefines(),inject:e.getInject(),triangulation:ge,depth:{enable:!0}});return[i]})()}getShaders(){return{frag:'\nin vec4 v_Color;\n#pragma include "scene_uniforms"\n#pragma include "picking"\nout vec4 outputColor;\nvoid main() {\n\n  outputColor = v_Color;\n  outputColor = filterColor(outputColor);\n}\n',vert:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\n\nout vec4 v_Color;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size + (1.0 - a_Position.z) * extrusionBase, 1.0);\n\n  vec4 project_pos = project_position(pos, a_Position64Low);\n  float lightWeight = calc_lighting(project_pos);\n  v_Color = a_Color;\n  v_Color = vec4(v_Color.rgb * lightWeight, v_Color.w * opacity);\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',type:"polygonExtrude"}}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"normal",type:aR.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(e,t,n,r,i)=>i}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:aR.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{size:t=10}=e;return Array.isArray(t)?[t[0]]:[t]}}}),this.styleAttributeService.registerStyleAttribute({name:"extrusionBase",type:aR.Attribute,descriptor:{name:"a_ExtrusionBase",shaderLocation:this.attributeLocation.EXTRUSION_BASE,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:1,update:e=>{let{extrusionBase:t=0}=e;return[t]}}})}}};class gQ extends fd{constructor(...e){super(...e),(0,ai.Z)(this,"type","PolygonLayer"),(0,ai.Z)(this,"enableShaderEncodeStyles",["opacity","extrusionBase","rotation","offsets","stroke"])}buildModels(){var e=this;return(0,aZ.Z)(function*(){let t=e.getModelType();e.layerModel=new gK[t](e),yield e.initLayerModels()})()}getModelType(){var e;let t=this.styleAttributeService.getLayerStyleAttribute("shape"),n=null==t||null===(e=t.scale)||void 0===e?void 0:e.field;return"fill"!==n&&n?"extrude"===n?"extrude":"extrusion"===n?"extrusion":"water"===n?"water":"ocean"===n?"ocean":"line"===n?"line":this.getPointModelType():"fill"}getPointModelType(){let e=this.getEncodedData(),{shape2d:t,shape3d:n}=this.getLayerConfig(),r=this.iconService.getIconMap(),i=e.find(e=>e.hasOwnProperty("shape"));if(!i)return"fill";{let e=i.shape;return"dot"===e?"point_normal":(null==t?void 0:t.indexOf(e))!==-1?"point_fill":(null==n?void 0:n.indexOf(e))!==-1?"point_extrude":r.hasOwnProperty(e)?"point_image":"text"}}}class gJ extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"texture",void 0),(0,ai.Z)(this,"colorTexture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,ar.Z)((0,ar.Z)({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{opacity:e=1,clampLow:t=!0,clampHigh:n=!0,noDataValue:r=-9999999,domain:i,rampColors:o}=this.layer.getLayerConfig(),a=i||tI(o);this.colorTexture=this.layer.textureService.getColorTexture(o,a);let s={u_domain:a,u_opacity:e||1,u_noDataValue:r,u_clampLow:t?1:0,u_clampHigh:(void 0!==n?n:t)?1:0,u_rasterTexture:this.texture,u_colorTexture:this.colorTexture};this.textures=[this.texture,this.colorTexture];let l=this.getUniformsBufferInfo(s);return l}getRasterData(e){return(0,aZ.Z)(function*(){if(Array.isArray(e.data))return{data:e.data,width:e.width,height:e.height};{let{rasterData:t,width:n,height:r}=yield e.data;return{data:Array.from(t),width:n,height:r}}})()}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.initUniformsBuffer();let t=e.layer.getSource(),{createTexture2D:n,queryVerdorInfo:r}=e.rendererService,i=t.data.dataArray[0],{data:o,width:a,height:s}=yield e.getRasterData(i);e.texture=n({data:new Float32Array(o),width:a,height:s,format:"WebGL1"===r()?aa.LUMINANCE:aa.RED,type:aa.FLOAT,alignment:1});let l=yield e.layer.buildLayerModel({moduleName:"rasterImageData",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n  vec2 u_domain;\n  float u_opacity;\n  float u_noDataValue;\n  float u_clampLow;\n  float u_clampHigh;\n};\n\nout vec2 v_texCoord;\n\n#pragma include "projection"\n\nvoid main() {\n  v_texCoord = a_Uv;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));\n}\n',fragmentShader:"layout(std140) uniform commonUniforms {\n  vec2 u_domain;\n  float u_opacity;\n  float u_noDataValue;\n  float u_clampLow;\n  float u_clampHigh;\n};\n\nuniform sampler2D u_rasterTexture;\nuniform sampler2D u_colorTexture;\n\nin vec2 v_texCoord;\n\nbool isnan_emu(float x) { return (x > 0.0 || x < 0.0) ? x != x : x != 0.0; }\n\nout vec4 outputColor;\n\nvoid main() {\n  // Can use any component here since u_rasterTexture is under luminance format.\n  float value = texture(SAMPLER_2D(u_rasterTexture), vec2(v_texCoord.x, v_texCoord.y)).r;\n  if (value == u_noDataValue || isnan_emu(value)) {\n    discard;\n  } else if ((u_clampLow < 0.5 && value < u_domain[0]) || (u_clampHigh < 0.5 && value > u_domain[1])) {\n    discard;\n  } else {\n    float normalisedValue =(value - u_domain[0]) / (u_domain[1] - u_domain[0]);\n    vec4 color = texture(SAMPLER_2D(u_colorTexture), vec2(normalisedValue, 0));\n    \n    outputColor = color;\n    outputColor.a = outputColor.a * u_opacity ;\n    if (outputColor.a < 0.01)\n      discard;\n  }\n}\n",defines:e.getDefines(),triangulation:gn,primitive:aa.TRIANGLES,depth:{enable:!1},pickingEnabled:!1});return[l]})()}clearModels(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.colorTexture)||void 0===t||t.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:aR.Attribute,descriptor:{shaderLocation:this.attributeLocation.UV,name:"a_Uv",buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:(e,t,n)=>[n[3],n[4]]}})}}let g0=["data"],g1=["rasterData"];var g2={raster:gJ,rasterRgb:class extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"texture",void 0),(0,ai.Z)(this,"dataOption",{})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,ar.Z)((0,ar.Z)({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{opacity:e=1,noDataValue:t=0}=this.layer.getLayerConfig(),{rMinMax:n=[0,255],gMinMax:r=[0,255],bMinMax:i=[0,255]}=this.dataOption,o={u_rminmax:n,u_gminmax:r,u_bminmax:i,u_opacity:e||1,u_noDataValue:t,u_texture:this.texture};this.textures=[this.texture];let a=this.getUniformsBufferInfo(o);return a}getRasterData(e){var t=this;return(0,aZ.Z)(function*(){if(Array.isArray(e.data)){let{data:n}=e,r=(0,so.Z)(e,g0);return t.dataOption=r,(0,ar.Z)({data:n},r)}let n=yield e.data,{rasterData:r}=n,i=(0,so.Z)(n,g1);return(t.dataOption=i,Array.isArray(r))?(0,ar.Z)({data:r},i):(0,ar.Z)({data:Array.from(r)},i)})()}initModels(){var e=this;return(0,aZ.Z)(function*(){e.initUniformsBuffer();let t=e.layer.getSource(),{createTexture2D:n}=e.rendererService,r=t.data.dataArray[0],{data:i,width:o,height:a}=yield e.getRasterData(r);e.texture=n({data:new Float32Array(i),width:o,height:a,format:aa.RGB,type:aa.FLOAT});let s=yield e.layer.buildLayerModel({moduleName:"rasterImageDataRGBA",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n  vec2 u_rminmax;\n  vec2 u_gminmax;\n  vec2 u_bminmax;\n  float u_opacity;\n  float u_noDataValue;\n};\n\nout vec2 v_texCoord;\n\n#pragma include "projection"\n\nvoid main() {\n  v_texCoord = a_Uv;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));\n}\n',fragmentShader:"uniform sampler2D u_texture;\nlayout(std140) uniform commonUniforms {\n vec2 u_rminmax;\n vec2 u_gminmax;\n vec2 u_bminmax;\n float u_opacity;\n float u_noDataValue;\n};\n\nin vec2 v_texCoord;\n\nout vec4 outputColor;\n\nvoid main() {\n\n  vec3 rgb = texture(SAMPLER_2D(u_texture),vec2(v_texCoord.x,v_texCoord.y)).rgb;\n\n  if(rgb == vec3(u_noDataValue)) {\n    outputColor = vec4(0.0, 0, 0, 0.0);\n  } else {\n    outputColor = vec4(rgb.r / (u_rminmax.y -u_rminmax.x), rgb.g /(u_gminmax.y -u_gminmax.x), rgb.b/ (u_bminmax.y - u_bminmax.x), u_opacity);\n  }\n\n  if(outputColor.a < 0.01)\n    discard;\n \n}",defines:e.getDefines(),triangulation:gn,primitive:aa.TRIANGLES,depth:{enable:!1},pickingEnabled:!1});return[s]})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){return e.initModels()})()}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:aR.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:(e,t,n)=>[n[3],n[4]]}})}},raster3d:gJ,rasterTerrainRgb:class extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getCommonUniformsInfo(){let{opacity:e,clampLow:t=!0,clampHigh:n=!0,noDataValue:r=-9999999,domain:i,rampColors:o,colorTexture:a,rScaler:s=6553.6,gScaler:l=25.6,bScaler:c=.1,offset:u=1e4}=this.layer.getLayerConfig(),d=i||tI(o),p=a;a?this.layer.textureService.setColorTexture(a,o,d):p=this.layer.textureService.getColorTexture(o,d);let h={u_unpack:[s,l,c,u],u_domain:d,u_opacity:e||1,u_noDataValue:r,u_clampLow:t,u_clampHigh:void 0!==n?n:t,u_texture:this.texture,u_colorTexture:p};this.textures=[this.texture,p];let f=this.getUniformsBufferInfo(h);return f}initModels(){var e=this;return(0,aZ.Z)(function*(){e.initUniformsBuffer();let t=e.layer.getSource(),{createTexture2D:n}=e.rendererService,r=yield t.data.images;e.texture=n({data:r[0],width:r[0].width,height:r[0].height,min:aa.LINEAR,mag:aa.LINEAR});let i=yield e.layer.buildLayerModel({moduleName:"RasterTileDataImage",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n  vec4 u_unpack;\n  vec2 u_domain;\n  float u_opacity;\n  float u_noDataValue;\n  float u_clampLow;\n  float u_clampHigh;\n};\nout vec2 v_texCoord;\n#pragma include "projection"\n\nvoid main() {\n  v_texCoord = a_Uv;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));\n}\n',fragmentShader:"uniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\n\nlayout(std140) uniform commonUniforms {\n vec4 u_unpack;\n vec2 u_domain;\n float u_opacity;\n float u_noDataValue;\n float u_clampLow;\n float u_clampHigh;\n};\n\nin vec2 v_texCoord;\nout vec4 outputColor;\n\n\nfloat getElevation(vec2 coord, float bias) {\n    // Convert encoded elevation value to meters\n    vec4 data =  texture(SAMPLER_2D(u_texture), coord,bias) * 255.0;\n    data.a = -1.0;\n    return dot(data, u_unpack);\n}\n\nvec4 getColor(float value) {\n   float normalisedValue =(value- u_domain[0]) / (u_domain[1] - u_domain[0]);\n    vec2 coord = vec2(normalisedValue, 0);\n    return  texture(SAMPLER_2D(u_colorTexture), coord);\n}\n\nvoid main() {\n  float value = getElevation(v_texCoord,0.0);\n  if (value == u_noDataValue) {\n    outputColor = vec4(0.0, 0, 0, 0.0);\n  } else if ((u_clampLow < 0.5 && value < u_domain[0]) || (u_clampHigh < 0.5 && value > u_domain[1])) {\n     outputColor = vec4(0.0, 0, 0, 0.0);\n  } else {\n   \n    outputColor = getColor(value);\n    outputColor.a =  outputColor.a * u_opacity ;\n      if(outputColor.a < 0.01)\n      discard;\n  }\n}\n",defines:e.getDefines(),triangulation:gn,primitive:aa.TRIANGLES,depth:{enable:!1}});return[i]})()}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy()}buildModels(){var e=this;return(0,aZ.Z)(function*(){return e.initModels()})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:aR.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:(e,t,n)=>[n[3],n[4]]}})}}};class g3 extends fd{constructor(...e){super(...e),(0,ai.Z)(this,"type","RasterLayer")}buildModels(){var e=this;return(0,aZ.Z)(function*(){let t=e.getModelType();e.layerModel=new g2[t](e),yield e.initLayerModels()})()}getDefaultConfig(){let e=this.getModelType();return({raster:{},rasterRgb:{},raster3d:{},rasterTerrainRgb:{}})[e]}getModelType(){let e=this.layerSource.getParserType();switch(e){case"raster":default:return"raster";case"rasterRgb":case"rgb":return"rasterRgb";case"image":return"rasterTerrainRgb"}}getLegend(e){if("color"!==e)return{type:void 0,field:void 0,items:[]};let t=this.getLayerConfig().rampColors;return gh(t,e)}}class g5{constructor({rendererService:e,layerService:t,parent:n}){(0,ai.Z)(this,"tileResource",new Map),(0,ai.Z)(this,"rendererService",void 0),(0,ai.Z)(this,"layerService",void 0),(0,ai.Z)(this,"parent",void 0),(0,ai.Z)(this,"layerTiles",[]),this.rendererService=e,this.layerService=t,this.parent=n}get tiles(){return this.layerTiles}hasTile(e){return this.layerTiles.some(t=>t.key===e)}addTile(e){this.layerTiles.push(e)}getTile(e){return this.layerTiles.find(t=>t.key===e)}getVisibleTileBylngLat(e){return this.layerTiles.find(t=>t.isLoaded&&t.visible&&t.lnglatInBounds(e))}removeTile(e){let t=this.layerTiles.findIndex(t=>t.key===e),n=this.layerTiles.splice(t,1);n[0]&&n[0].destroy()}updateTileVisible(e){let t=this.getTile(e.key);if(e.isVisible){if(e.parent){let n=this.isChildrenLoaded(e.parent);null==t||t.updateVisible(n)}else null==t||t.updateVisible(!0)}else if(e.parent){let n=this.isChildrenLoaded(e.parent);null==t||t.updateVisible(!n)}else null==t||t.updateVisible(!1)}isParentLoaded(e){let t=e.parent;if(!t)return!0;let n=this.getTile(null==t?void 0:t.key);return null!=n&&!!n.isLoaded}isChildrenLoaded(e){let t=null==e?void 0:e.children;return 0===t.length||t.every(e=>{let t=this.getTile(null==e?void 0:e.key);return!t||(null==t?void 0:t.isLoaded)===!0})}render(){var e=this;return(0,aZ.Z)(function*(){var t;let n=e.getRenderLayers(),r=n.map((t=(0,aZ.Z)(function*(t){yield e.layerService.renderTileLayer(t)}),function(e){return t.apply(this,arguments)}));yield Promise.all(r)})()}getRenderLayers(){let e=this.layerTiles.filter(e=>e.visible&&e.isLoaded),t=[];return e.map(e=>t.push(...e.getLayers())),t}getLayers(){let e=this.layerTiles.filter(e=>e.isLoaded),t=[];return e.map(e=>t.push(...e.getLayers())),t}getTiles(){return this.layerTiles}destroy(){this.layerTiles.forEach(e=>e.destroy()),this.tileResource.clear()}}var g4=n(41227),g6=function(e,t,n){void 0===n&&(n={});var r,i,o=eA(e),a=eA(t),s=g4.union(o.coordinates,a.coordinates);return 0===s.length?null:1===s.length?e_(s[0],n.properties):(r=n.properties,void 0===i&&(i={}),eE({type:"MultiPolygon",coordinates:s},r,i))};class g7{getCombineFeature(e){let t=null,n=e[0];return e.map(e=>{let n=e_(e.coordinates);t=null===t?n:g6(t,n)}),n&&(t.properties=(0,ar.Z)({},n)),t}}let g8="select",g9="active";class me{constructor({layerService:e,tileLayerService:t,parent:n}){(0,ai.Z)(this,"layerService",void 0),(0,ai.Z)(this,"tileLayerService",void 0),(0,ai.Z)(this,"tileSourceService",void 0),(0,ai.Z)(this,"parent",void 0),(0,ai.Z)(this,"tilePickID",new Map),this.layerService=e,this.tileLayerService=t,this.parent=n,this.tileSourceService=new g7}pickRender(e){let t=this.tileLayerService.getVisibleTileBylngLat(e.lngLat);if(t){let n=t.getMainLayer();null==n||n.layerPickService.pickRender(e)}}pick(e,t){var n=this;return(0,aZ.Z)(function*(){let r=n.parent.getContainer(),i=r.pickingService;if("RasterLayer"===e.type){let e=n.tileLayerService.getVisibleTileBylngLat(t.lngLat);if(e&&void 0!==e.getMainLayer()){let r=e.getMainLayer();return r.layerPickService.pickRasterLayer(r,t,n.parent)}return!1}return n.pickRender(t),i.pickFromPickingFBO(e,t)})()}selectFeature(e){let[t,n,r]=e,i=this.color2PickId(t,n,r);this.tilePickID.set(g8,i),this.updateHighLight(t,n,r,g8)}highlightPickedFeature(e){let[t,n,r]=e,i=this.color2PickId(t,n,r);this.tilePickID.set(g9,i),this.updateHighLight(t,n,r,g9)}updateHighLight(e,t,n,r){this.tileLayerService.tiles.map(i=>{let o=i.getMainLayer();switch(r){case g8:null==o||o.hooks.beforeSelect.call([e,t,n]);break;case g9:null==o||o.hooks.beforeHighlight.call([e,t,n])}})}setPickState(){let e=this.tilePickID.get(g8),t=this.tilePickID.get(g9);if(e){let[t,n,r]=this.pickId2Color(e);this.updateHighLight(t,n,r,g8);return}if(t){let[e,n,r]=this.pickId2Color(t);this.updateHighLight(e,n,r,g9);return}}color2PickId(e,t,n){return t_(new Uint8Array([e,t,n]))}pickId2Color(e){return tT(e)}getFeatureById(e){let t=this.tileLayerService.getTiles().filter(e=>e.visible),n=[];return t.forEach(t=>{n.push(...t.getFeatureById(e))}),n}pickRasterLayer(){return!1}}class mt extends rU.EventEmitter{constructor(e,t){super(),(0,ai.Z)(this,"x",void 0),(0,ai.Z)(this,"y",void 0),(0,ai.Z)(this,"z",void 0),(0,ai.Z)(this,"key",void 0),(0,ai.Z)(this,"parent",void 0),(0,ai.Z)(this,"sourceTile",void 0),(0,ai.Z)(this,"visible",!0),(0,ai.Z)(this,"layers",[]),(0,ai.Z)(this,"isLoaded",!1),(0,ai.Z)(this,"tileMaskLayers",[]),(0,ai.Z)(this,"tileMask",void 0),this.parent=t,this.sourceTile=e,this.x=e.x,this.y=e.y,this.z=e.z,this.key=`${this.x}_${this.y}_${this.z}`}getLayers(){return this.layers}styleUpdate(...e){}lnglatInBounds(e){let[t,n,r,i]=this.sourceTile.bounds,{lng:o,lat:a}=e;return o>=t&&o<=r&&a>=n&&a<=i}getLayerOptions(){var e;let t=this.parent.getLayerConfig();return(0,ar.Z)((0,ar.Z)({},t),{},{textAllowOverlap:!0,autoFit:!1,maskLayers:this.getMaskLayer(),tileMask:-1!==["PolygonLayer","LineLayer"].indexOf(this.parent.type),mask:t.mask||(null===(e=t.maskLayers)||void 0===e?void 0:e.length)!==0&&t.enableMask})}getMaskLayer(){let{maskLayers:e}=this.parent.getLayerConfig(),t=[];return null==e||e.forEach(e=>{if(!e.tileLayer)return t.push(e),e;let n=e.tileLayer,r=n.getTile(this.sourceTile.key),i=null==r?void 0:r.getLayers()[0];i&&t.push(i)}),t}addTileMask(){var e=this;return(0,aZ.Z)(function*(){let t=new gQ({name:"mask",visible:!0,enablePicking:!1}).source({type:"FeatureCollection",features:[e.sourceTile.bboxPolygon]},{parser:{type:"geojson",featureId:"id"}}).shape("fill").color("#0f0").style({opacity:.5}),n=lx(e.parent.container);t.setContainer(n),yield t.init(),e.tileMask=t;let r=e.getMainLayer();return void 0!==r&&(r.tileMask=t),t})()}addMask(e,t){var n=this;return(0,aZ.Z)(function*(){let r=lx(n.parent.container);t.setContainer(r),yield t.init(),e.addMask(t),n.tileMaskLayers.push(t)})()}addLayer(e){var t=this;return(0,aZ.Z)(function*(){e.isTileLayer=!0;let n=lx(t.parent.container);e.setContainer(n),t.layers.push(e),yield e.init()})()}updateVisible(e){this.visible=e,this.updateOptions("visible",e)}updateOptions(e,t){this.layers.forEach(n=>{n.updateLayerConfig({[e]:t})})}getMainLayer(){return this.layers[0]}getFeatures(e){return[]}getFeatureById(e){return[]}destroy(){var e;null===(e=this.tileMask)||void 0===e||e.destroy(),this.layers.forEach(e=>e.destroy())}}class mn extends mt{initTileLayer(){var e=this;return(0,aZ.Z)(function*(){let t=e.getSourceOption(),n=t.data.features[0].properties,r=new gL().source(t.data,t.options).size(1).shape("line").color("red"),i=new gq({minZoom:e.z-1,maxZoom:e.z+1,textAllowOverlap:!0}).source([n],{parser:{type:"json",x:"x",y:"y"}}).size(20).color("red").shape(e.key).style({stroke:"#fff",strokeWidth:2});yield e.addLayer(r),yield e.addLayer(i),e.isLoaded=!0})()}getSourceOption(){let e=this.parent.getSource(),t=this.sourceTile.data.layers.testTile.features;return{data:{type:"FeatureCollection",features:t},options:{parser:{type:"geojson"},transforms:e.transforms}}}}class mr extends mt{initTileLayer(){var e=this;return(0,aZ.Z)(function*(){let t=e.parent.getLayerAttributeConfig(),n=e.getLayerOptions(),r=e.getSourceOption(),i=new gy((0,ar.Z)({},n)).source(r.data,r.options);t&&Object.keys(t).forEach(e=>{var n,r;i[e](null===(n=t[e])||void 0===n?void 0:n.field,null===(r=t[e])||void 0===r?void 0:r.values)}),yield e.addLayer(i),e.isLoaded=!0})()}getSourceOption(){let e=this.parent.getSource();return{data:this.sourceTile.data,options:{parser:{type:"image",extent:this.sourceTile.bounds},transforms:e.transforms}}}}var mi={fill:class extends fE{getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,ar.Z)((0,ar.Z)({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{opacity:e=1,color:t="#000"}=this.layer.getLayerConfig(),n={u_color:tE(t),u_opacity:e||1},r=this.getUniformsBufferInfo(n);return r}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.buildModels()})()}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.initUniformsBuffer();let t=yield e.layer.buildLayerModel({moduleName:"mask",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\n\nlayout(std140) uniform commonUniorm {\n  vec4 u_color;\n  float u_opacity;\n};\n\n#pragma include "projection"\n\nvoid main() {\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n}\n\n',fragmentShader:"layout(std140) uniform commonUniorm {\n  vec4 u_color;\n  float u_opacity;\n};\n\nout vec4 outputColor;\n\nvoid main() {\n  outputColor = u_color;\n  outputColor.a *= u_opacity;\n}\n",defines:e.getDefines(),triangulation:f8,depth:{enable:!1},pick:!1});return[t]})()}clearModels(e=!0){e&&this.layerService.clear()}registerBuiltinAttributes(){return""}}};class mo extends fd{constructor(...e){super(...e),(0,ai.Z)(this,"type","MaskLayer")}buildModels(){var e=this;return(0,aZ.Z)(function*(){let t=e.getModelType();e.layerModel=new mi[t](e),yield e.initLayerModels()})()}getModelType(){return"fill"}}class ma extends mt{initTileLayer(){var e=this;return(0,aZ.Z)(function*(){let t=e.parent.getLayerAttributeConfig(),n=e.getLayerOptions(),r=e.getSourceOption(),i=new mo((0,ar.Z)({},n)).source(r.data,r.options);t&&Object.keys(t).forEach(e=>{var n,r;i[e](null===(n=t[e])||void 0===n?void 0:n.field,null===(r=t[e])||void 0===r?void 0:r.values)}),yield e.addLayer(i),e.isLoaded=!0})()}getFeatures(e){if(!e)return[];let t=this.sourceTile.data;return t.getTileData(e)}getSourceOption(){let e=this.parent.getSource(),{sourceLayer:t,featureId:n}=this.parent.getLayerConfig(),r=this.getFeatures(t);return{data:{type:"FeatureCollection",features:r},options:{parser:{type:"geojson",featureId:n},transforms:e.transforms}}}}let ms=["rasterData"];class ml extends mt{initTileLayer(){var e=this;return(0,aZ.Z)(function*(){let t=e.parent.getLayerAttributeConfig(),n=e.getLayerOptions(),r=e.getSourceOption(),i=new g3((0,ar.Z)({},n)).source(r.data,r.options);t&&Object.keys(t).forEach(e=>{var n,r;i[e](null===(n=t[e])||void 0===n?void 0:n.field,null===(r=t[e])||void 0===r?void 0:r.values)}),yield e.addLayer(i),e.isLoaded=!0})()}getSourceOption(){let e=this.parent.getSource(),t=this.sourceTile.data.data,{rasterData:n}=t,r=(0,so.Z)(t,ms);return{data:n,options:{parser:(0,ar.Z)({type:"rasterRgb",extent:this.sourceTile.bounds},r),transforms:e.transforms}}}}class mc extends mt{initTileLayer(){var e=this;return(0,aZ.Z)(function*(){let t=e.parent.getLayerAttributeConfig(),n=e.getLayerOptions(),r=e.getSourceOption(),i=new g3((0,ar.Z)({},n)).source(r.data,r.options);t&&Object.keys(t).forEach(e=>{var n,r;i[e](null===(n=t[e])||void 0===n?void 0:n.field,null===(r=t[e])||void 0===r?void 0:r.values)}),yield e.addLayer(i),e.isLoaded=!0})()}getSourceOption(){let e=this.parent.getSource();return{data:this.sourceTile.data,options:{parser:{type:"image",extent:this.sourceTile.bounds},transforms:e.transforms}}}}let mu=["rasterData"],md={positions:[0,1],colors:["#000","#fff"]};class mp extends mt{constructor(...e){super(...e),(0,ai.Z)(this,"colorTexture",void 0)}initTileLayer(){var e=this;return(0,aZ.Z)(function*(){let t=e.parent.getLayerAttributeConfig(),n=e.getLayerOptions(),r=e.getSourceOption(),{rampColors:i,domain:o}=e.getLayerOptions();e.colorTexture=e.parent.textureService.getColorTexture(i,o);let a=new g3((0,ar.Z)((0,ar.Z)({},n),{},{colorTexture:e.colorTexture})).source(r.data,r.options);t&&Object.keys(t).forEach(e=>{var n,r;a[e](null===(n=t[e])||void 0===n?void 0:n.field,null===(r=t[e])||void 0===r?void 0:r.values)}),yield e.addLayer(a),e.isLoaded=!0})()}getSourceOption(){let e=this.parent.getSource(),t=this.sourceTile.data.data,{rasterData:n}=t,r=(0,so.Z)(t,mu);return{data:n,options:{parser:(0,ar.Z)({type:"raster",extent:this.sourceTile.bounds},r),transforms:e.transforms}}}styleUpdate(...e){let{rampColors:t=md,domain:n}=e;this.colorTexture=this.parent.textureService.getColorTexture(t,n||tI(t)),this.layers.forEach(e=>e.style({colorTexture:this.colorTexture}))}destroy(){this.layers.forEach(e=>e.destroy())}}class mh extends mt{initTileLayer(){var e=this;return(0,aZ.Z)(function*(){var t;let n=e.parent.getLayerAttributeConfig(),r=e.getLayerOptions(),i="PolygonLayer"===(t=e.parent.type)?gQ:"LineLayer"===t?gL:gq,o=e.getSourceOption();if(!o){e.isLoaded=!0,e.emit("loaded");return}let a=new i((0,ar.Z)({},r)).source(o.data,o.options);Object.keys(n).forEach(e=>{var t,r;a[e](null===(t=n[e])||void 0===t?void 0:t.field,null===(r=n[e])||void 0===r?void 0:r.values)}),yield e.addLayer(a),r.tileMask&&(yield e.addTileMask()),e.setLayerMinMaxZoom(a),e.isLoaded=!0,e.emit("loaded")})()}getSourceOption(){let e=this.parent.getSource(),{sourceLayer:t="defaultLayer",featureId:n="id"}=this.parent.getLayerConfig(),r=this.getFeatures(t);return{data:{type:"FeatureCollection",features:r},options:{parser:{type:"geojson",featureId:n},transforms:e.transforms}}}setLayerMinMaxZoom(e){"text"===e.getModelType()&&e.updateLayerConfig({maxZoom:this.z+1,minZoom:this.z-1})}getFeatures(e){let t=this.sourceTile.data;return t.getTileData(e)}getFeatureById(e){let t=this.getMainLayer();if(!t)return[];let n=t.getSource().data.dataArray.filter(t=>t._id===e);return n}}let mf=["shape","color","size","style","animate","filter","rotate","scale","setBlend","setSelect","setActive","disableMask","enableMask","addMask","removeMask"],{debounce:mg}=nu;class mm{constructor(e){(0,ai.Z)(this,"parent",void 0),(0,ai.Z)(this,"tileLayerService",void 0),(0,ai.Z)(this,"mapService",void 0),(0,ai.Z)(this,"layerService",void 0),(0,ai.Z)(this,"rendererService",void 0),(0,ai.Z)(this,"pickingService",void 0),(0,ai.Z)(this,"tilePickService",void 0),(0,ai.Z)(this,"tilesetManager",void 0),(0,ai.Z)(this,"initedTileset",!1),(0,ai.Z)(this,"lastViewStates",void 0),(0,ai.Z)(this,"mapchange",()=>{var e;if(!1===this.parent.isVisible())return;let{latLonBounds:t,zoom:n}=this.getCurrentView();this.lastViewStates&&this.lastViewStates.zoom===n&&this.lastViewStates.latLonBounds.toString()===t.toString()||(this.lastViewStates={zoom:n,latLonBounds:t},null===(e=this.tilesetManager)||void 0===e||e.throttleUpdate(n,t))}),(0,ai.Z)(this,"viewchange",mg(this.mapchange,24)),this.parent=e;let t=this.parent.getContainer();this.rendererService=t.rendererService,this.layerService=t.layerService,this.mapService=t.mapService,this.pickingService=t.pickingService,this.tileLayerService=new g5({rendererService:this.rendererService,layerService:this.layerService,parent:e}),this.tilePickService=new me({tileLayerService:this.tileLayerService,layerService:this.layerService,parent:e}),this.parent.setLayerPickService(this.tilePickService),this.proxy(e),this.initTileSetManager()}initTileSetManager(){var e;let t=this.parent.getSource();if(this.tilesetManager=t.tileset,this.initedTileset||(this.bindTilesetEvent(),this.initedTileset=!0),!1===this.parent.isVisible())return;let{latLonBounds:n,zoom:r}=this.getCurrentView();null===(e=this.tilesetManager)||void 0===e||e.update(r,n)}getCurrentView(){let e=this.mapService.getBounds(),t=[e[0][0],e[0][1],e[1][0],e[1][1]],n=this.mapService.getZoom();return{latLonBounds:t,zoom:n}}bindTilesetEvent(){this.tilesetManager.on("tile-loaded",e=>{}),this.tilesetManager.on("tile-unload",e=>{this.tileUnLoad(e)}),this.tilesetManager.on("tile-error",(e,t)=>{this.tileError(e)}),this.tilesetManager.on("tile-update",()=>{this.tileUpdate()}),this.mapService.on("zoomend",this.mapchange),this.mapService.on("moveend",this.viewchange)}render(){this.tileLayerService.render()}getLayers(){return this.tileLayerService.getLayers()}getTiles(){return this.tileLayerService.getTiles()}getTile(e){return this.tileLayerService.getTile(e)}tileLoaded(e){}tileError(e){console.warn("error:",e)}destroy(){var e;this.mapService.off("zoomend",this.mapchange),this.mapService.off("moveend",this.viewchange),null===(e=this.tilesetManager)||void 0===e||e.destroy(),this.tileLayerService.destroy()}reload(){var e;this.tilesetManager.clear();let{latLonBounds:t,zoom:n}=this.getCurrentView();null===(e=this.tilesetManager)||void 0===e||e.update(n,t)}tileUnLoad(e){this.tileLayerService.removeTile(e.key)}tileUpdate(){var e=this;return(0,aZ.Z)(function*(){var t;if(!e.tilesetManager)return;let n=e.parent.getMinZoom(),r=e.parent.getMaxZoom(),i=e.tilesetManager.tiles.filter(e=>e.isLoaded).filter(e=>e.isVisibleChange).filter(e=>e.data).filter(e=>e.z>=n&&e.z<r);yield Promise.all(i.map((t=(0,aZ.Z)(function*(t){if(e.tileLayerService.hasTile(t.key))e.tileLayerService.updateTileVisible(t),e.tilePickService.setPickState(),e.layerService.reRender();else{let n=function(e){let t=e.type;switch(t){case"PolygonLayer":case"LineLayer":case"PointLayer":return mh;case"TileDebugLayer":return mn;case"MaskLayer":return ma;case"RasterLayer":let{dataType:n}=e.getSource().parser;switch(n){case lA.RGB:case lA.CUSTOMRGB:return ml;case lA.ARRAYBUFFER:case lA.CUSTOMARRAYBUFFER:return mp;case lA.TERRAINRGB:case lA.CUSTOMTERRAINRGB:return mc;default:return mr}default:return mh}}(e.parent),r=new n(t,e.parent);yield r.initTileLayer(),e.tilePickService.setPickState(),0!==r.getLayers().length&&(e.tileLayerService.addTile(r),e.tileLayerService.updateTileVisible(t),e.layerService.reRender())}}),function(e){return t.apply(this,arguments)}))),e.tilesetManager.isLoaded&&e.parent.emit("tiles-loaded",e.tilesetManager.currentTiles)})()}setPickState(e){}pickRender(e){this.tilePickService.pickRender(e)}selectFeature(e){this.tilePickService.selectFeature(e)}highlightPickedFeature(e){this.tilePickService.highlightPickedFeature(e)}proxy(e){mf.forEach(t=>{let n=e[t].bind(e);e[t]=(...r)=>(n(...r),this.getLayers().map(e=>{e[t](...r)}),"style"===t&&this.getTiles().forEach(e=>e.styleUpdate(...r)),e)})}}class mb extends fd{constructor(...e){super(...e),(0,ai.Z)(this,"type","TileDebugLayer"),(0,ai.Z)(this,"zIndex",1e4),(0,ai.Z)(this,"defaultSourceConfig",{data:[],options:{parser:{type:"testTile"}}})}buildModels(){return(0,aZ.Z)(function*(){})()}}let{isNumber:mv}=nu,{isNumber:mE}=nu,m_={base:class extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"texture",void 0),(0,ai.Z)(this,"earthTime",3.4),(0,ai.Z)(this,"sunX",1e3),(0,ai.Z)(this,"sunY",1e3),(0,ai.Z)(this,"sunZ",1e3),(0,ai.Z)(this,"sunRadius",Math.sqrt(this.sunX*this.sunX+this.sunY*this.sunY+this.sunZ*this.sunZ))}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,NORMAL:9,UV:10})}getCommonUniformsInfo(){let{animateOption:e,globalOptions:t}=this.layer.getLayerConfig();null!=e&&e.enable&&(this.mapService.rotateY({reg:.002}),this.earthTime+=.02,this.sunY=10,this.sunX=Math.cos(this.earthTime)*(this.sunRadius-this.sunY),this.sunZ=Math.sin(this.earthTime)*(this.sunRadius-this.sunY));let n={u_sunLight:[this.sunX,this.sunY,this.sunZ,0],u_ambientRatio:(null==t?void 0:t.ambientRatio)||.6,u_diffuseRatio:(null==t?void 0:t.diffuseRatio)||.4,u_specularRatio:(null==t?void 0:t.specularRatio)||.1};this.textures=[this.texture];let r=this.getUniformsBufferInfo(n);return r}setEarthTime(e){this.earthTime=e,this.sunY=10,this.sunX=Math.cos(this.earthTime)*(this.sunRadius-this.sunY),this.sunZ=Math.sin(this.earthTime)*(this.sunRadius-this.sunY),this.layerService.throttleRenderLayers()}initModels(){var e=this;return(0,aZ.Z)(function*(){let{globalOptions:t}=e.layer.getLayerConfig();(null==t?void 0:t.earthTime)!==void 0&&e.setEarthTime(t.earthTime);let n=e.layer.getSource(),{createTexture2D:r}=e.rendererService;return e.texture=r({height:0,width:0}),n.data.images.then(t=>{e.texture=r({data:t[0],width:t[0].width,height:t[0].height}),e.textures=[e.texture],e.layerService.reRender()}),e.initUniformsBuffer(),e.buildModels()})()}clearModels(){return""}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.layer.zIndex=-998;let t=yield e.layer.buildLayerModel({moduleName:"earthBase",vertexShader:'// attribute vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\n// attribute vec2 a_Extrude;\n// attribute float a_Size;\n// attribute float a_Shape;\n\nlayout(std140) uniform commonUniforms {\n	vec4 u_sunLight: [1.0, -10.5, 12.0,0.0];\n	float u_ambientRatio : 0.5;\n	float u_diffuseRatio : 0.3;\n	float u_specularRatio : 0.2;\n};\n\n#pragma include "scene_uniforms"\n\nout vec2 v_texCoord;\nout float v_lightWeight;\n\nfloat calc_lighting(vec4 pos) {\n\n	vec3 worldPos = vec3(pos * u_ModelMatrix);\n\n	vec3 worldNormal = a_Normal;\n\n	// cal light weight\n	vec3 viewDir = normalize(u_CameraPosition - worldPos);\n\n	vec3 lightDir = normalize(u_sunLight.xyz);\n\n	vec3 halfDir = normalize(viewDir+lightDir);\n	// lambert\n	float lambert = dot(worldNormal, lightDir);\n	// specular\n	float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);\n	//sum to light weight\n	float lightWeight = u_ambientRatio + u_diffuseRatio * lambert + u_specularRatio * specular;\n\n	return lightWeight;\n}\n\nvoid main() {\n\n	v_texCoord = a_Uv;\n\n	float lightWeight = calc_lighting(vec4(a_Position, 1.0));\n	v_lightWeight = lightWeight;\n\n	gl_Position = u_ViewProjectionMatrix * u_ModelMatrix * vec4(a_Position, 1.0);\n}\n',fragmentShader:"uniform sampler2D u_texture;\n\nin vec2 v_texCoord;\nin float v_lightWeight;\nout vec4 outputColor;\n\nvoid main() {\n    vec4 color = texture(SAMPLER_2D(u_texture),vec2(v_texCoord.x,v_texCoord.y));\n    color.xyz = color.xyz * v_lightWeight;\n    outputColor = color;\n}\n",defines:e.getDefines(),triangulation:ga,depth:{enable:!0},blend:e.getBlend()});return[t]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:aR.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(e,t,n,r,i)=>i}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:aR.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:(e,t,n)=>[n[3],n[4]]}})}},atomSphere:class extends fE{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,NORMAL:9,UV:10})}getCommonUniformsInfo(){let{opacity:e=1}=this.layer.getLayerConfig(),t={u_opacity:mv(e)?e:1},n=this.getUniformsBufferInfo(t);return n}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.initUniformsBuffer(),e.buildModels()})()}clearModels(){return""}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.layer.zIndex=-997;let t=yield e.layer.buildLayerModel({moduleName:"earthAtmoSphere",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n float u_opacity;\n};\n\n#pragma include "scene_uniforms"\nout vec3 vVertexNormal;\nout vec4 v_Color;\nout float v_offset;\n\nvoid main() {\n    float EARTH_RADIUS = 100.0;\n\n    v_Color = a_Color;\n\n    v_offset = min(((length(u_CameraPosition) - EARTH_RADIUS)/600.0) * 0.5 + 0.4, 1.0);\n    vVertexNormal = a_Normal;\n\n    gl_Position = u_ViewProjectionMatrix * u_ModelMatrix * vec4(a_Position, 1.0);\n}\n',fragmentShader:'\nlayout(std140) uniform commonUniforms {\n float u_opacity;\n};\nin vec3 vVertexNormal;\nin float v_offset;\nin vec4 v_Color;\n\n#pragma include "scene_uniforms"\nout vec4 outputColor;\nvoid main() {\n    \n    \n    // float intensity = pow(0.5 + dot(normalize(vVertexNormal), normalize(u_CameraPosition)), 3.0);\n    float intensity = pow(v_offset + dot(normalize(vVertexNormal), normalize(u_CameraPosition)), 3.0);\n    // 去除背面\n    if(intensity > 1.0) intensity = 0.0;\n\n    outputColor = vec4(v_Color.rgb, v_Color.a * intensity * u_opacity);\n}\n',defines:e.getDefines(),triangulation:ga,depth:{enable:!1},blend:e.getBlend()});return[t]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:aR.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(e,t,n,r,i)=>i}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:aR.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:(e,t,n)=>[n[3],n[4]]}})}},bloomSphere:class extends fE{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,NORMAL:9,UV:10})}getCommonUniformsInfo(){let{opacity:e=1}=this.layer.getLayerConfig(),t={u_opacity:mE(e)?e:1},n=this.getUniformsBufferInfo(t);return n}initModels(){var e=this;return(0,aZ.Z)(function*(){return e.initUniformsBuffer(),e.buildModels()})()}clearModels(){return""}buildModels(){var e=this;return(0,aZ.Z)(function*(){e.layer.zIndex=-999;let t=yield e.layer.buildLayerModel({moduleName:"earthBloom",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n float u_opacity;\n};\n#pragma include "scene_uniforms"\n\nout vec3 vVertexNormal;\nout vec4 v_Color;\n\nvoid main() {\n    v_Color = a_Color;\n\n    vVertexNormal = a_Normal;\n\n    gl_Position = u_ViewProjectionMatrix * u_ModelMatrix * vec4(a_Position, 1.0);\n}\n',fragmentShader:'\nin vec3 vVertexNormal;\nin vec4 v_Color;\n\nlayout(std140) uniform commonUniforms {\n float u_opacity;\n};\nout vec4 outputColor;\n#pragma include "scene_uniforms"\nvoid main() {\n    float intensity =  - dot(normalize(vVertexNormal), normalize(u_CameraPosition));\n    // 去除背面\n    if(intensity > 1.0) intensity = 0.0;\n\n    outputColor = vec4(v_Color.rgb, v_Color.a * intensity * u_opacity);\n}\n',defines:e.getDefines(),triangulation:gs,depth:{enable:!1},blend:e.getBlend()});return[t]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:aR.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:aa.STATIC_DRAW,data:[],type:aa.FLOAT},size:3,update:(e,t,n,r,i)=>i}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:aR.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:(e,t,n)=>[n[3],n[4]]}})}}},mT=["base","atomSphere","bloomSphere"];class mx extends fd{constructor(...e){super(...e),(0,ai.Z)(this,"type","EarthLayer"),(0,ai.Z)(this,"defaultSourceConfig",{data:[],options:{parser:{type:"json"}}})}buildModels(){var e=this;return(0,aZ.Z)(function*(){let t=e.getModelType();e.layerModel=new m_[t](e),yield e.initLayerModels()})()}setEarthTime(e){this.layerModel&&this.layerModel.setEarthTime?this.layerModel.setEarthTime(e):console.warn("请在 scene loaded 之后执行该方法！")}getModelType(){var e;let t=this.styleAttributeService.getLayerStyleAttribute("shape"),n=(null==t||null===(e=t.scale)||void 0===e?void 0:e.field)||"base";return 0>mT.indexOf(n)&&(n="base"),n}}function mS(e,t,n){let r=mA(e,e.VERTEX_SHADER,t),i=mA(e,e.FRAGMENT_SHADER,n);if(!r||!i)return null;let o=e.createProgram();if(!o)return null;e.attachShader(o,r),e.attachShader(o,i),e.linkProgram(o);let a=e.getProgramParameter(o,e.LINK_STATUS);if(!a){let t=e.getProgramInfoLog(o);return console.warn("Failed to link program: "+t),e.deleteProgram(o),e.deleteShader(i),e.deleteShader(r),null}let s=e.getProgramParameter(o,e.ACTIVE_ATTRIBUTES);for(let t=0;t<s;t++){let n=e.getActiveAttrib(o,t);o[n.name]=e.getAttribLocation(o,n.name)}let l=e.getProgramParameter(o,e.ACTIVE_UNIFORMS);for(let t=0;t<l;t++){let n=e.getActiveUniform(o,t);o[n.name]=e.getUniformLocation(o,n.name)}return o.vertexShader=r,o.fragmentShader=i,o}function mA(e,t,n){let r=e.createShader(t);if(null==r)return console.warn("unable to create shader"),null;e.shaderSource(r,n),e.compileShader(r);let i=e.getShaderParameter(r,e.COMPILE_STATUS);if(!i){let t=e.getShaderInfoLog(r);return console.warn("Failed to compile shader: "+t),e.deleteShader(r),null}return r}function mC(e,t,n,r,i){let o=e.createTexture();return e.bindTexture(e.TEXTURE_2D,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r,i,0,e.RGBA,e.UNSIGNED_BYTE,n),e.bindTexture(e.TEXTURE_2D,null),o}function mw(e,t,n){e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,t)}function mO(e,t){let n=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),n}let mI=`
 precision mediump float;

 attribute float a_index;

 uniform sampler2D u_particles;
 uniform float u_particles_res;

 varying vec2 v_particle_pos;

 void main() {
     vec4 color = texture2D(u_particles, vec2(
         fract(a_index / u_particles_res),
         floor(a_index / u_particles_res) / u_particles_res)
     );

     // decode current particle position from the pixel's RGBA value
     v_particle_pos = vec2( color.r / 255.0 + color.b, color.g / 255.0 + color.a);

     gl_PointSize = 1.0;
     gl_Position = vec4(2.0 * v_particle_pos.x - 1.0, 1.0 - 2.0 * v_particle_pos.y, 0, 1);
 }`,mL=`
 precision mediump float;

 uniform sampler2D u_wind;
 uniform vec2 u_wind_min;
 uniform vec2 u_wind_max;
 uniform sampler2D u_color_ramp;

 varying vec2 v_particle_pos;

 void main() {
     vec2 velocity = mix(u_wind_min, u_wind_max, texture2D(u_wind, v_particle_pos).rg);
     float speed_t = length(velocity) / length(u_wind_max);

     // color ramp is encoded in a 16x16 texture
     vec2 ramp_pos = vec2( fract(16.0 * speed_t), floor(16.0 * speed_t) / 16.0);

     gl_FragColor = texture2D(u_color_ramp, ramp_pos);
 }`,mR=`
 precision mediump float;

 attribute vec2 a_pos;

 varying vec2 v_tex_pos;

 void main() {
     v_tex_pos = a_pos;
     gl_Position = vec4(1.0 - 2.0 * a_pos, 0, 1);
     // framebuffer 始终用铺满屏幕的 texture
 }`,mk=`
 precision highp float;

 uniform sampler2D u_particles;
 uniform sampler2D u_wind;
 uniform vec2 u_wind_res;
 uniform vec2 u_wind_min;
 uniform vec2 u_wind_max;
 uniform float u_rand_seed;
 uniform float u_speed_factor;
 uniform float u_drop_rate;
 uniform float u_drop_rate_bump;

 varying vec2 v_tex_pos;

 // pseudo-random generator
 const vec3 rand_constants = vec3(12.9898, 78.233, 4375.85453);
 float rand(const vec2 co) {
 float t = dot(rand_constants.xy, co);
     return fract(sin(t) * (rand_constants.z + t));
 }

 // wind speed lookup; use manual bilinear filtering based on 4 adjacent pixels for smooth interpolation
 vec2 lookup_wind(const vec2 uv) {
     // return texture2D(u_wind, uv).rg; // lower-res hardware filtering
     vec2 px = 1.0 / u_wind_res;
     vec2 vc = (floor(uv * u_wind_res)) * px;
     vec2 f = fract(uv * u_wind_res);
     vec2 tl = texture2D(u_wind, vc).rg;
     vec2 tr = texture2D(u_wind, vc + vec2(px.x, 0)).rg;
     vec2 bl = texture2D(u_wind, vc + vec2(0, px.y)).rg;
     vec2 br = texture2D(u_wind, vc + px).rg;
     return mix(mix(tl, tr, f.x), mix(bl, br, f.x), f.y);
 }

 void main() {
     vec4 color = texture2D(u_particles, v_tex_pos);
     vec2 pos = vec2(
         color.r / 255.0 + color.b,
         color.g / 255.0 + color.a); // decode particle position from pixel RGBA
     vec2 velocity = mix(u_wind_min, u_wind_max, lookup_wind(pos));
     float speed_t = length(velocity) / length(u_wind_max);

     // take EPSG:4236 distortion into account for calculating where the particle moved
     float distortion = cos(radians(pos.y * 180.0 - 90.0));
     vec2 offset = vec2(velocity.x / distortion, -velocity.y) * 0.0001 * u_speed_factor;

     // update particle position, wrapping around the date line
     pos = fract(1.0 + pos + offset);

     // a random seed to use for the particle drop
     vec2 seed = (pos + v_tex_pos) * u_rand_seed;

     // drop rate is a chance a particle will restart at random position, to avoid degeneration
     float drop_rate = u_drop_rate + speed_t * u_drop_rate_bump;
     float drop = step(1.0 - drop_rate, rand(seed));

     vec2 random_pos = vec2(
         rand(seed + 1.3),
         rand(seed + 2.1));
         pos = mix(pos, random_pos, drop);

     // encode the new particle position back into RGBA
     gl_FragColor = vec4(
         fract(pos * 255.0),
         floor(pos * 255.0) / 255.0);
 }`,mN=`
     precision mediump float;

     attribute vec2 a_pos;

     varying vec2 v_tex_pos;

     void main() {
         v_tex_pos = a_pos;
         gl_Position = vec4(1.0 - 2.0 * a_pos, 0.0, 1.0);
         gl_PointSize = 100.0;
 }`,mM=`
 precision mediump float;

 uniform sampler2D u_screen;
 uniform float u_opacity;
 varying vec2 v_tex_pos;

 void main() {
     vec4 color = texture2D(u_screen, 1.0 - v_tex_pos);

     // a hack to guarantee opacity fade out even with a value close to 1.0
     gl_FragColor = vec4(floor(255.0 * color * u_opacity) / 255.0);
 }`;function mD(e){let t=document.createElement("canvas"),n=t.getContext("2d");t.width=256,t.height=1;let r=n.createLinearGradient(0,0,256,0);for(let t of Object.keys(e))r.addColorStop(+t,e[+t]);return n.fillStyle=r,n.fillRect(0,0,256,1),t=null,new Uint8Array(n.getImageData(0,0,256,1).data)}function mP(e,t,n,r){e.bindBuffer(e.ARRAY_BUFFER,t),e.enableVertexAttribArray(n),e.vertexAttribPointer(n,r,e.FLOAT,!1,0,0)}function mF(e,t,n){e.bindFramebuffer(e.FRAMEBUFFER,t),n&&e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)}class mB{constructor(e){(0,ai.Z)(this,"width",512),(0,ai.Z)(this,"height",512),(0,ai.Z)(this,"pixels",void 0),(0,ai.Z)(this,"fadeOpacity",void 0),(0,ai.Z)(this,"speedFactor",void 0),(0,ai.Z)(this,"dropRate",void 0),(0,ai.Z)(this,"dropRateBump",void 0),(0,ai.Z)(this,"gl",void 0),(0,ai.Z)(this,"drawProgram",void 0),(0,ai.Z)(this,"fullScreenProgram",void 0),(0,ai.Z)(this,"updateProgram",void 0),(0,ai.Z)(this,"rampColors",void 0),(0,ai.Z)(this,"numParticles",65536),(0,ai.Z)(this,"numParticlesSize",void 0),(0,ai.Z)(this,"particleStateResolution",void 0),(0,ai.Z)(this,"quadBuffer",void 0),(0,ai.Z)(this,"particleIndexBuffer",void 0),(0,ai.Z)(this,"framebuffer",void 0),(0,ai.Z)(this,"colorRampTexture",void 0),(0,ai.Z)(this,"backgroundTexture",void 0),(0,ai.Z)(this,"screenTexture",void 0),(0,ai.Z)(this,"particleStateTexture0",void 0),(0,ai.Z)(this,"particleStateTexture1",void 0),(0,ai.Z)(this,"windTexture",void 0),(0,ai.Z)(this,"windData",void 0),this.gl=e.glContext,this.width=e.imageWidth,this.height=e.imageHeight,this.fadeOpacity=e.fadeOpacity,this.speedFactor=e.speedFactor,this.dropRate=e.dropRate,this.dropRateBump=e.dropRateBump,this.rampColors=e.rampColors,this.init()}init(){let e=this.gl;this.fadeOpacity=.996,this.speedFactor=.25,this.dropRate=.003,this.dropRateBump=.01,this.drawProgram=mS(e,mI,mL),this.fullScreenProgram=mS(e,mN,mM),this.updateProgram=mS(e,mR,mk),this.quadBuffer=mO(e,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1])),this.framebuffer=e.createFramebuffer(),this.colorRampTexture=mC(this.gl,this.gl.LINEAR,mD(this.rampColors),16,16);let t=new Uint8Array(this.width*this.height*4);this.backgroundTexture=mC(e,e.NEAREST,t,this.width,this.height),this.screenTexture=mC(e,e.NEAREST,t,this.width,this.height);let n=this.particleStateResolution=Math.ceil(Math.sqrt(this.numParticles));this.numParticlesSize=n*n;let r=new Uint8Array(4*this.numParticlesSize);for(let e=0;e<r.length;e++)r[e]=Math.floor(256*Math.random());this.particleStateTexture0=mC(e,e.NEAREST,r,n,n),this.particleStateTexture1=mC(e,e.NEAREST,r,n,n);let i=new Float32Array(this.numParticlesSize);for(let e=0;e<this.numParticlesSize;e++)i[e]=e;this.particleIndexBuffer=mO(e,i)}setWind(e){this.windData=e,this.windTexture=function(e,t,n){let r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.bindTexture(e.TEXTURE_2D,null),r}(this.gl,this.gl.LINEAR,e.image)}updateParticelNum(e){let t=this.gl;if(e!==this.numParticles){this.numParticles=e;let n=this.particleStateResolution=Math.ceil(Math.sqrt(this.numParticles));this.numParticlesSize=n*n;let r=new Uint8Array(4*this.numParticlesSize);for(let e=0;e<r.length;e++)r[e]=Math.floor(256*Math.random());this.particleStateTexture0=mC(t,t.NEAREST,r,n,n),this.particleStateTexture1=mC(t,t.NEAREST,r,n,n);let i=new Float32Array(this.numParticlesSize);for(let e=0;e<this.numParticlesSize;e++)i[e]=e;this.particleIndexBuffer=mO(t,i)}}updateWindDir(e,t,n,r){this.windData.uMin=e,this.windData.uMax=t,this.windData.vMin=n,this.windData.vMax=r}updateColorRampTexture(e){if(this.isColorChanged(e)){this.rampColors=e;let t=this.gl;t.deleteTexture(this.colorRampTexture),this.colorRampTexture=mC(t,t.LINEAR,mD(e),16,16)}}isColorChanged(e){let t=Object.keys(e);for(let n of t){let t=Number(n);if(!this.rampColors[t]||this.rampColors[t]&&this.rampColors[t]!==e[t])return!0}return!1}reSize(e,t){if(e!==this.width||t!==this.height){let n=this.gl;n.deleteTexture(this.backgroundTexture),n.deleteTexture(this.screenTexture),this.width=e,this.height=t;let r=new Uint8Array(e*t*4);this.backgroundTexture=mC(n,n.NEAREST,r,e,t),this.screenTexture=mC(n,n.NEAREST,r,e,t)}}draw(){var e;if(null===(e=this.windData)||void 0===e||!e.image)return{d:new Uint8Array([0,0,0,0]),w:1,h:1};{let e=this.gl;return mw(e,this.windTexture,0),mw(e,this.particleStateTexture0,1),this.drawScreen(),this.updateParticles(),{d:this.pixels,w:this.width,h:this.height}}}drawScreen(){let e=this.gl;mF(e,this.framebuffer,this.screenTexture),e.viewport(0,0,this.width,this.height),e.disable(e.BLEND),this.drawFullTexture(this.backgroundTexture,this.fadeOpacity),this.drawParticles(),this.pixels=new Uint8Array(4*this.width*this.height),e.readPixels(0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.pixels),mF(e,null,null),e.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height);let t=this.backgroundTexture;this.backgroundTexture=this.screenTexture,this.screenTexture=t}drawFullTexture(e,t){let n=this.gl,r=this.fullScreenProgram;n.useProgram(r),n.bindBuffer(n.ARRAY_BUFFER,this.quadBuffer),n.vertexAttribPointer(r.a_pos,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.a_pos),n.bindBuffer(n.ARRAY_BUFFER,null),mw(n,e,2),n.uniform1i(r.u_screen,2),n.uniform1f(r.u_opacity,t),n.drawArrays(n.TRIANGLES,0,6)}drawParticles(){let e=this.gl,t=this.drawProgram;e.useProgram(t),mP(e,this.particleIndexBuffer,t.a_index,1),mw(e,this.colorRampTexture,2),e.uniform1i(t.u_wind,0),e.uniform1i(t.u_particles,1),e.uniform1i(t.u_color_ramp,2),e.uniform1f(t.u_particles_res,this.particleStateResolution),e.uniform2f(t.u_wind_min,this.windData.uMin,this.windData.vMin),e.uniform2f(t.u_wind_max,this.windData.uMax,this.windData.vMax),e.drawArrays(e.POINTS,0,this.numParticlesSize)}updateParticles(){let e=this.gl;mF(e,this.framebuffer,this.particleStateTexture1),e.viewport(0,0,this.particleStateResolution,this.particleStateResolution);let t=this.updateProgram;e.useProgram(t),mP(e,this.quadBuffer,t.a_pos,2),e.uniform1i(t.u_wind,0),e.uniform1i(t.u_particles,1),e.uniform1f(t.u_rand_seed,Math.random()),e.uniform2f(t.u_wind_res,2*this.windData.image.width,2*this.windData.image.height),e.uniform2f(t.u_wind_min,this.windData.uMin,this.windData.vMin),e.uniform2f(t.u_wind_max,this.windData.uMax,this.windData.vMax),e.uniform1f(t.u_speed_factor,this.speedFactor),e.uniform1f(t.u_drop_rate,this.dropRate),e.uniform1f(t.u_drop_rate_bump,this.dropRateBump),e.drawArrays(e.TRIANGLES,0,6);let n=this.particleStateTexture0;this.particleStateTexture0=this.particleStateTexture1,this.particleStateTexture1=n,mF(e,null,null)}destroy(){this.gl.deleteBuffer(this.quadBuffer),this.gl.deleteBuffer(this.particleIndexBuffer),this.gl.deleteFramebuffer(this.framebuffer),this.gl.deleteShader(this.drawProgram.vertexShader),this.gl.deleteShader(this.drawProgram.fragmentShader),this.gl.deleteProgram(this.drawProgram),this.gl.deleteShader(this.fullScreenProgram.vertexShader),this.gl.deleteShader(this.fullScreenProgram.fragmentShader),this.gl.deleteProgram(this.fullScreenProgram),this.gl.deleteShader(this.updateProgram.vertexShader),this.gl.deleteShader(this.updateProgram.fragmentShader),this.gl.deleteProgram(this.updateProgram),this.gl.deleteTexture(this.colorRampTexture),this.gl.deleteTexture(this.backgroundTexture),this.gl.deleteTexture(this.screenTexture),this.gl.deleteTexture(this.particleStateTexture0),this.gl.deleteTexture(this.particleStateTexture1),this.gl.deleteTexture(this.windTexture)}}let mU={0:"#3288bd",.1:"#66c2a5",.2:"#abdda4",.3:"#e6f598",.4:"#fee08b",.5:"#fdae61",.6:"#f46d43",1:"#d53e4f"};var mz={wind:class extends fE{constructor(...e){super(...e),(0,ai.Z)(this,"texture",void 0),(0,ai.Z)(this,"colorModel",void 0),(0,ai.Z)(this,"wind",void 0),(0,ai.Z)(this,"imageCoords",void 0),(0,ai.Z)(this,"sizeScale",.5),(0,ai.Z)(this,"frequency",new nY(7.2)),(0,ai.Z)(this,"cacheZoom",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}render(e){this.drawColorMode(e),this.frequency.run(()=>{this.drawWind()})}getUninforms(){throw Error("Method not implemented.")}initModels(){var e=this;return(0,aZ.Z)(function*(){var t,n;let{uMin:r=-21.32,uMax:i=26.8,vMin:o=-21.57,vMax:a=21.42,fadeOpacity:s=.996,speedFactor:l=.25,dropRate:c=.003,dropRateBump:u=.01,rampColors:d=mU,sizeScale:p=.5}=e.layer.getLayerConfig(),{createTexture2D:h}=e.rendererService,f=e.layer.getSource();e.texture=h({height:0,width:0}),e.cacheZoom=Math.floor(e.mapService.getZoom());let g=e.rendererService.getGLContext();e.imageCoords=null===(t=f.data)||void 0===t?void 0:t.dataArray[0].coordinates,null===(n=f.data)||void 0===n||null===(n=n.images)||void 0===n||n.then(t=>{var n;e.sizeScale=p*e.getZoomScale();let{imageWidth:f,imageHeight:m}=e.getWindSize();e.wind=new mB({glContext:g,imageWidth:f,imageHeight:m,fadeOpacity:s,speedFactor:l,dropRate:c,dropRateBump:u,rampColors:d}),e.wind.setWind({uMin:r,uMax:i,vMin:o,vMax:a,image:t[0]}),null===(n=e.texture)||void 0===n||n.destroy(),e.texture=h({width:f,height:m}),e.layerService.reRender()});let m=yield e.layer.buildLayerModel({moduleName:"wind",vertexShader:'precision highp float;\nuniform mat4 u_ModelMatrix;\n\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nvarying vec2 v_texCoord;\n#pragma include "projection"\nvoid main() {\n  v_texCoord = a_Uv;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));\n}\n',fragmentShader:"precision mediump float;\nuniform float u_opacity: 1.0;\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\nvoid main() {\n  vec4 color = texture2D(u_texture,vec2(v_texCoord.x,v_texCoord.y));\n  gl_FragColor = color;\n  gl_FragColor.a *= u_opacity;\n}\n",defines:e.getDefines(),triangulation:gn,primitive:aa.TRIANGLES,depth:{enable:!1}});return e.colorModel=m,[m]})()}getWindSize(){let e=this.mapService.lngLatToPixel(this.imageCoords[0]),t=this.mapService.lngLatToPixel(this.imageCoords[1]),n=Math.min(Math.floor((t.x-e.x)*this.sizeScale),2048),r=Math.min(Math.floor((e.y-t.y)*this.sizeScale),2048);return{imageWidth:n,imageHeight:r}}buildModels(){var e=this;return(0,aZ.Z)(function*(){return e.initModels()})()}clearModels(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.wind)||void 0===t||t.destroy()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:aR.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:aa.DYNAMIC_DRAW,data:[],type:aa.FLOAT},size:2,update:(e,t,n)=>[n[3],n[4]]}})}getZoomScale(){return Math.min((this.cacheZoom+4)/30*2,2)}drawWind(){if(this.wind){let{uMin:e=-21.32,uMax:t=26.8,vMin:n=-21.57,vMax:r=21.42,numParticles:i=65535,fadeOpacity:o=.996,speedFactor:a=.25,dropRate:s=.003,dropRateBump:l=.01,rampColors:c=mU,sizeScale:u=.5}=this.layer.getLayerConfig(),d=i,p=Math.floor(this.mapService.getZoom());if("number"==typeof u&&u!==this.sizeScale||p!==this.cacheZoom){let e=this.getZoomScale();this.sizeScale=u,d*=e;let{imageWidth:t,imageHeight:n}=this.getWindSize();this.wind.reSize(t,n),this.cacheZoom=p}this.wind.updateWindDir(e,t,n,r),this.wind.updateParticelNum(d),this.wind.updateColorRampTexture(c),this.wind.fadeOpacity=o,this.wind.speedFactor=a,this.wind.dropRate=s,this.wind.dropRateBump=l;let{d:h,w:f,h:g}=this.wind.draw();this.rendererService.setBaseState(),this.texture.update({data:h,width:f,height:g})}}drawColorMode(e={}){var t;let{opacity:n}=this.layer.getLayerConfig();this.layerService.beforeRenderData(this.layer),this.layer.hooks.beforeRender.call(),this.layerService.renderMask(this.layer.masks),null===(t=this.colorModel)||void 0===t||t.draw({uniforms:{u_opacity:n||1,u_texture:this.texture},blend:this.getBlend(),stencil:this.getStencil(e)}),this.layer.hooks.afterRender.call()}}};class mZ extends fd{constructor(...e){super(...e),(0,ai.Z)(this,"type","WindLayer")}buildModels(){var e=this;return(0,aZ.Z)(function*(){let t=e.getModelType();e.layerModel=new mz[t](e),yield e.initLayerModels()})()}renderModels(e={}){return this.layerModel&&this.layerModel.render(e),this}getDefaultConfig(){let e=this.getModelType();return({wind:{}})[e]}getModelType(){return"wind"}}class mj extends uA{constructor(...e){super(...e),(0,ai.Z)(this,"isMoving",!1),(0,ai.Z)(this,"maskLayer",void 0),(0,ai.Z)(this,"move",e=>{switch(e.stopPropagation(),e.type){case"touchcancel":case"touchend":case"mouseup":var t;this.isMoving=!1,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(e=>{document.removeEventListener(e,this.move)}),null===(t=this.scene)||void 0===t||t.render();break;case"mousedown":case"touchstart":this.isMoving=!0,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(e=>{document.addEventListener(e,this.move)});case"mousemove":case"touchmove":if(this.isMoving){if("vertical"===this.controlOption.orientation){let t;if("pageX"in e?t=e.pageX:e.touches&&e.touches.length&&e.touches[0].pageX?t=e.touches[0].pageX:e.changedTouches&&e.changedTouches.length&&(t=e.changedTouches[0].pageX),!t)break;let n=this.getContainerDOMRect(),r=this.getContainerSize(),i=r[0],o=(null==n?void 0:n.left)||0,a=t-o+window.scrollX-document.documentElement.clientLeft,s=i-Math.min(Math.max(0,i-a),i),l=s/i;this.setOptions({ratio:l}),this.emit("moving",{size:[s,r[1]],ratio:[l,0]})}else{let t;if("pageY"in e?t=e.pageY:e.touches&&e.touches.length&&e.touches[0].pageY?t=e.touches[0].pageY:e.changedTouches&&e.changedTouches.length&&(t=e.changedTouches[0].pageY),!t)break;let n=this.getContainerDOMRect(),r=this.getContainerSize(),i=r[1],o=(null==n?void 0:n.top)||0,a=t-o+window.scrollY-document.documentElement.clientTop,s=i-Math.min(Math.max(0,i-a),i),l=s/i;this.setOptions({ratio:l}),this.emit("moving",{size:[r[0],s],ratio:[0,l]})}}}}),(0,ai.Z)(this,"getMaskLayer",()=>(console.log(this.getMaskGeoData()),new gQ({visible:!1}).source(this.getMaskGeoData()).shape("fill").color("red").style({opacity:.1}))),(0,ai.Z)(this,"updateMask",()=>{var e;if(!this.mapsService)return;let t=this.getMaskGeoData();null===(e=this.maskLayer)||void 0===e||e.setData(t)})}getDefault(){return(0,ar.Z)((0,ar.Z)({},super.getDefault()),{},{layers:[],rightLayers:[],ratio:.5,orientation:"vertical"})}onAdd(){let e=ng("div","l7-control-swipe");ng("button","l7-control-swipe__button",e);let{orientation:t="vertical",ratio:n=.5}=this.controlOption;return"horizontal"===t?(e.style.top=100*n+"%",e.style.left=""):(e.style.left=100*n+"%",e.style.top=""),e.classList.add(t),e}addTo(e){this.mapsService=e.mapService,this.renderService=e.rendererService,this.layerService=e.layerService,this.controlService=e.controlService,this.configService=e.globalConfigService,this.scene=e.sceneService,this.sceneContainer=e,this.isShow=!0,this.container=this.onAdd();let{className:t,style:n,layers:r,rightLayers:i}=this.controlOption;t&&this.setClassName(t),n&&this.setStyle(n),this.mapsService.getMarkerContainer().appendChild(this.container),this.maskLayer=this.getMaskLayer(),this.registerEvent();let o=lx(e);return this.maskLayer.setContainer(o),this.scene.addLayer(this.maskLayer),this.addMaskToLayers(r,!1),this.addMaskToLayers(i,!0),this.emit("add",this),this}onRemove(){if(this.maskLayer){var e;let{layers:t,rightLayers:n}=this.controlOption;this.removeMaskFromLayers(t),this.removeMaskFromLayers(n),null===(e=this.layerService)||void 0===e||e.remove(this.maskLayer)}this.unRegisterEvent(),this.removeAllListeners()}show(){var e;let t=this.container;nv(t,"l7-control-swipe_hide");let{layers:n,rightLayers:r}=this.controlOption;n.forEach(e=>e.enableMask()),r.forEach(e=>e.enableMask()),null===(e=this.scene)||void 0===e||e.render(),this.isShow=!0,this.emit("show",this)}hide(){var e;let t=this.container;nb(t,"l7-control-swipe_hide");let{layers:n,rightLayers:r}=this.controlOption;n.forEach(e=>e.disableMask()),r.forEach(e=>e.disableMask()),null===(e=this.scene)||void 0===e||e.render(),this.isShow=!1,this.emit("hide",this)}setOptions(e){let t=(0,ar.Z)((0,ar.Z)({},this.controlOption),e);if(e.className&&this.setClassName(e.className),e.style&&this.setStyle(e.style),(e.orientation||void 0!==e.ratio)&&this.setOrientationAndRatio(t.orientation,t.ratio),e.layers){let t=e.layers,n=this.controlOption.layers;this.setLayers(t,n,!1)}if(e.rightLayers){let t=e.rightLayers,n=this.controlOption.rightLayers;this.setLayers(t,n,!0)}this.controlOption=t,this.updateMask()}registerEvent(){this.container.addEventListener("mousedown",this.move),this.container.addEventListener("touchstart",this.move),this.mapsService.on("camerachange",this.updateMask)}unRegisterEvent(){var e;this.container.removeEventListener("mousedown",this.move),this.container.removeEventListener("touchstart",this.move),null===(e=this.mapsService)||void 0===e||e.off("camerachange",this.updateMask)}setOrientationAndRatio(e="vertical",t=.5){this.container.classList.remove("horizontal","vertical"),this.container.classList.add(e),"horizontal"===e?(this.container.style.top=100*t+"%",this.container.style.left=""):(this.container.style.left=100*t+"%",this.container.style.top="")}setLayers(e,t,n=!1){let r=e.filter(e=>!1===t.includes(e)),i=t.filter(t=>!1===e.includes(t));this.addMaskToLayers(r,n),this.removeMaskFromLayers(i)}addMaskToLayers(e,t){e.forEach(e=>{e.updateLayerConfig({maskInside:!t}),e.addMask(this.maskLayer)})}removeMaskFromLayers(e){e.forEach(e=>{e.updateLayerConfig({maskInside:!0}),e.removeMask(this.maskLayer)})}getMaskGeoData(){let e;let{ratio:t=.5,orientation:n="vertical"}=this.controlOption,[r,i]=this.getBounds(),[o,a]=r,[s,l]=i;if("vertical"===n){let n=o+(s-o)*t;e=[[o,l],[n,l],[n,a],r,[o,l]]}else{let n=this.getContainerSize(),r=this.mapsService.containerToLngLat([n[0],n[1]*t]),a=r.lat;e=[[o,l],i,[s,a],[o,a],[o,l]]}let c={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[e]}}]};return c}getContainerDOMRect(){var e;let t=null===(e=this.mapsService.getContainer())||void 0===e?void 0:e.getBoundingClientRect();return t}getContainerSize(){let e=this.mapsService.getSize();return e}getBounds(){let e=this.mapsService.getBounds();return e}addLayer(e,t=!1){let n=Array.isArray(e)?e:[e];if(t){let e=this.controlOption.rightLayers.concat(...n);this.setOptions({rightLayers:e})}else{let e=this.controlOption.layers.concat(...n);this.setOptions({layers:e})}}removeLayer(e){let t=Array.isArray(e)?e:[e],n=this.controlOption.layers.filter(e=>t.includes(e)),r=this.controlOption.rightLayers.filter(e=>t.includes(e));this.setOptions({layers:n,rightLayers:r})}removeLayers(){this.setOptions({layers:[],rightLayers:[]})}}class mH extends uA{constructor(...e){super(...e),(0,ai.Z)(this,"disabled",void 0),(0,ai.Z)(this,"zoomInButton",void 0),(0,ai.Z)(this,"zoomOutButton",void 0),(0,ai.Z)(this,"zoomNumDiv",void 0),(0,ai.Z)(this,"zoomIn",()=>{!this.disabled&&this.mapsService.getZoom()<this.mapsService.getMaxZoom()&&this.mapsService.zoomIn()}),(0,ai.Z)(this,"zoomOut",()=>{!this.disabled&&this.mapsService.getZoom()>this.mapsService.getMinZoom()&&this.mapsService.zoomOut()}),(0,ai.Z)(this,"updateDisabled",()=>{let e=this.mapsService;this.zoomInButton.removeAttribute("disabled"),this.zoomOutButton.removeAttribute("disabled"),(this.disabled||e.getZoom()<=e.getMinZoom())&&this.zoomOutButton.setAttribute("disabled","true"),this.controlOption.showZoom&&this.zoomNumDiv&&(this.zoomNumDiv.innerText=String(Math.floor(e.getZoom()))),(this.disabled||e.getZoom()>=e.getMaxZoom())&&this.zoomInButton.setAttribute("disabled","true")})}getDefault(e){return(0,ar.Z)((0,ar.Z)({},super.getDefault(e)),{},{position:aE.BOTTOMRIGHT,name:"zoom",zoomInText:uk("l7-icon-enlarge"),zoomInTitle:"Zoom in",zoomOutText:uk("l7-icon-narrow"),zoomOutTitle:"Zoom out",showZoom:!1})}setOptions(e){super.setOptions(e),this.checkUpdateOption(e,["zoomInText","zoomInTitle","zoomOutText","zoomOutTitle","showZoom"])&&this.resetButtonGroup(this.container)}onAdd(){let e=ng("div","l7-control-zoom");return this.resetButtonGroup(e),this.mapsService.on("zoomend",this.updateDisabled),this.mapsService.on("zoomchange",this.updateDisabled),e}onRemove(){this.mapsService.off("zoomend",this.updateDisabled),this.mapsService.off("zoomchange",this.updateDisabled)}disable(){return this.disabled=!0,this.updateDisabled(),this}enable(){return this.disabled=!1,this.updateDisabled(),this}resetButtonGroup(e){nP(e),this.zoomInButton=this.createButton(this.controlOption.zoomInText,this.controlOption.zoomInTitle,"l7-button-control",e,this.zoomIn),this.controlOption.showZoom&&(this.zoomNumDiv=this.createButton("0","","l7-button-control l7-control-zoom__number",e)),this.zoomOutButton=this.createButton(this.controlOption.zoomOutText,this.controlOption.zoomOutTitle,"l7-button-control",e,this.zoomOut),this.updateDisabled()}createButton(e,t,n,r,i){let o=ng("button",n,r);return"string"==typeof e?o.innerHTML=e:o.append(e),o.title=t,i&&o.addEventListener("click",i),o}}class mG extends rU.EventEmitter{get lngLat(){var e;return null!==(e=this.popupOption.lngLat)&&void 0!==e?e:{lng:0,lat:0}}set lngLat(e){this.popupOption.lngLat=e}constructor(e){super(),(0,ai.Z)(this,"popupOption",void 0),(0,ai.Z)(this,"mapsService",void 0),(0,ai.Z)(this,"sceneService",void 0),(0,ai.Z)(this,"layerService",void 0),(0,ai.Z)(this,"scene",void 0),(0,ai.Z)(this,"closeButton",void 0),(0,ai.Z)(this,"container",void 0),(0,ai.Z)(this,"content",void 0),(0,ai.Z)(this,"contentTitle",void 0),(0,ai.Z)(this,"contentPanel",void 0),(0,ai.Z)(this,"tip",void 0),(0,ai.Z)(this,"isShow",!0),(0,ai.Z)(this,"onMouseMove",e=>{var t;let n=this.mapsService.getMapContainer(),{left:r=0,top:i=0}=null!==(t=null==n?void 0:n.getBoundingClientRect())&&void 0!==t?t:{};this.setPopupPosition(e.clientX-r,e.clientY-i)}),(0,ai.Z)(this,"updateLngLatPosition",()=>{if(!this.mapsService||this.popupOption.followCursor)return;let{lng:e,lat:t}=this.lngLat,{x:n,y:r}=this.mapsService.lngLatToContainer([e,t]);this.setPopupPosition(n,r)}),(0,ai.Z)(this,"updateLngLatPositionWhenZoom",e=>{if(!this.mapsService||this.popupOption.followCursor)return;let t=e.map,n=t.getSize();n.x=n.x/2,n.y=n.y/2;let r=e.center,i=e.zoom,o=t.DE(this.lngLat,i,r);o.x=Math.round(o.x),o.y=Math.round(o.y),this.setPopupPosition(o.x,o.y,!0)}),(0,ai.Z)(this,"onKeyDown",e=>{27===e.keyCode&&this.remove()}),(0,ai.Z)(this,"onCloseButtonClick",e=>{e.stopPropagation&&e.stopPropagation(),this.hide()}),(0,ai.Z)(this,"updatePosition",(e,t=!0)=>{let n=!!this.lngLat,{className:r,style:i,maxWidth:o,anchor:a,stopPropagation:s}=this.popupOption;if(!this.mapsService||!n||!this.content)return;let l=this.mapsService.getMarkerContainer();if(!this.container&&l&&(this.container=ng("div",`l7-popup ${null!=r?r:""} ${this.isShow?"":"l7-popup-hide"}`,l),i&&this.container.setAttribute("style",i),this.tip=ng("div","l7-popup-tip",this.container),this.container.appendChild(this.content),s&&["mousemove","mousedown","mouseup","click","dblclick"].forEach(e=>{this.container.addEventListener(e,e=>{e.stopPropagation()})}),this.container.style.whiteSpace="nowrap"),t?this.updateLngLatPositionWhenZoom(e):this.updateLngLatPosition(),nA(this.container,`${eJ[a]}`),e0(this.container,a,"popup"),o){let{width:e}=this.container.getBoundingClientRect();e>parseFloat(o)&&(this.container.style.width=o)}else this.container.style.removeProperty("width")}),(0,ai.Z)(this,"updateWhenZoom",e=>{this.updatePosition(e,!0)}),(0,ai.Z)(this,"update",()=>{this.updatePosition(null,!1)}),this.popupOption=(0,ar.Z)((0,ar.Z)({},this.getDefault(null!=e?e:{})),e);let{lngLat:t}=this.popupOption;t&&(this.lngLat=t)}getIsShow(){return this.isShow}addTo(e){this.mapsService=e.mapService,this.sceneService=e.sceneService,this.layerService=e.layerService,this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update),this.scene=e,this.update(),this.updateCloseOnClick(),this.updateCloseOnEsc(),this.updateFollowCursor();let{html:t,text:n,title:r}=this.popupOption;return t?this.setHTML(t):n&&this.setText(n),r&&this.setTitle(r),this.emit("open"),this}remove(){if(this!==null&&void 0!==this&&this.isOpen())return this.content&&nm(this.content),this.container&&(nm(this.container),delete this.container),this.mapsService&&(this.mapsService.off("camerachange",this.update),this.mapsService.off("viewchange",this.update),this.updateCloseOnClick(!0),this.updateCloseOnEsc(!0),this.updateFollowCursor(!0),delete this.mapsService),this.emit("close"),this}getOptions(){return this.popupOption}setOptions(e){var t,n;this.show();let{className:r}=this.popupOption;return this.popupOption=(0,ar.Z)((0,ar.Z)({},this.popupOption),e),this.checkUpdateOption(e,["html","text","title","closeButton","closeButtonOffsets","maxWidth","anchor","stopPropagation","lngLat","offsets"])&&(this.container&&(nm(this.container),this.container=void 0),this.popupOption.html?this.setHTML(this.popupOption.html):this.popupOption.text&&this.setText(this.popupOption.text),this.popupOption.title&&this.setTitle(this.popupOption.title)),this.checkUpdateOption(e,["closeOnEsc"])&&this.updateCloseOnEsc(),this.checkUpdateOption(e,["closeOnClick"])&&this.updateCloseOnClick(),this.checkUpdateOption(e,["followCursor"])&&this.updateFollowCursor(),this.checkUpdateOption(e,["html"])&&e.html?this.setHTML(e.html):this.checkUpdateOption(e,["text"])&&e.text&&this.setText(e.text),this.checkUpdateOption(e,["className"])&&(r&&this.container.classList.remove(null!=r?r:""),this.container.classList.add(null!==(t=e.className)&&void 0!==t?t:"")),this.checkUpdateOption(e,["style"])&&nL(this.container,null!==(n=e.style)&&void 0!==n?n:""),this.checkUpdateOption(e,["lngLat"])&&e.lngLat&&this.setLnglat(e.lngLat),this}open(){return this.addTo(this.scene),this}close(){return this.remove(),this}show(){if(!this.isShow)return this.container&&nv(this.container,"l7-popup-hide"),this.isShow=!0,this.emit("show"),this}hide(){if(this.isShow)return this.container&&nb(this.container,"l7-popup-hide"),this.isShow=!1,this.emit("hide"),this}setHTML(e){return this.popupOption.html=e,this.setDOMContent(e)}setText(e){return this.popupOption.text=e,this.setDOMContent(window.document.createTextNode(e))}setTitle(e){this.show(),this.popupOption.title=e,e?(this.contentTitle||(this.contentTitle=ng("div","l7-popup-content__title"),this.content.firstChild?this.content.insertBefore(this.contentTitle,this.content.firstChild):this.content.append(this.contentTitle)),nP(this.contentTitle),nB(this.contentTitle,e)):this.contentTitle&&(nm(this.contentTitle),this.contentTitle=void 0)}panToPopup(){let{lng:e,lat:t}=this.lngLat;return this.popupOption.autoPan&&this.mapsService.panTo([e,t]),this}setLngLat(e){return this.setLnglat(e)}setLnglat(e){return this.show(),this.lngLat=e,Array.isArray(e)&&(this.lngLat={lng:e[0],lat:e[1]}),this.mapsService&&(this.mapsService.off("camerachange",this.update),this.mapsService.off("viewchange",this.update),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.update(),this.popupOption.autoPan&&setTimeout(()=>{this.panToPopup()},0),this}getLnglat(){return this.lngLat}setMaxWidth(e){return this.popupOption.maxWidth=e,this.update(),this}isOpen(){return!!this.mapsService}getDefault(e){return{closeButton:!0,closeOnClick:!1,maxWidth:"240px",offsets:[0,0],anchor:eQ.BOTTOM,stopPropagation:!0,autoPan:!1,autoClose:!0,closeOnEsc:!1,followCursor:!1}}setDOMContent(e){return this.show(),this.createContent(),nB(this.contentPanel,e),this.update(),this}updateCloseOnClick(e){let t=this.mapsService;t&&(null==t||t.off("click",this.onCloseButtonClick),this.popupOption.closeOnClick&&!e&&requestAnimationFrame(()=>{null==t||t.on("click",this.onCloseButtonClick)}))}updateCloseOnEsc(e){window.removeEventListener("keydown",this.onKeyDown),this.popupOption.closeOnEsc&&!e&&window.addEventListener("keydown",this.onKeyDown)}updateFollowCursor(e){var t;let n=null===(t=this.mapsService)||void 0===t?void 0:t.getContainer();n&&(null==n||n.removeEventListener("mousemove",this.onMouseMove),this.popupOption.followCursor&&!e&&(null==n||n.addEventListener("mousemove",this.onMouseMove)))}createContent(){if(this.content&&nm(this.content),this.contentTitle=void 0,this.content=ng("div","l7-popup-content",this.container),this.setTitle(this.popupOption.title),this.popupOption.closeButton){let e=uk("l7-icon-guanbi");nb(e,"l7-popup-close-button"),this.content.appendChild(e),this.popupOption.closeButtonOffsets&&(e.style.right=this.popupOption.closeButtonOffsets[0]+"px",e.style.top=this.popupOption.closeButtonOffsets[1]+"px"),e.setAttribute("aria-label","Close popup"),e.addEventListener("click",()=>{this.hide()}),e.addEventListener("pointerup",e=>{e.stopPropagation()}),e.addEventListener("pointerdown",e=>{e.stopPropagation()}),this.closeButton=e}else this.closeButton=void 0;this.contentPanel=ng("div","l7-popup-content__panel",this.content)}setPopupPosition(e,t,n=!1){if(this.container){let{offsets:r}=this.popupOption;this.container.style.left=e+r[0]+"px",this.container.style.top=t-r[1]+"px",n?this.container.style.transition="left 0.25s cubic-bezier(0,0,0.25,1), top 0.25s cubic-bezier(0,0,0.25,1)":this.container.style.transition=""}}checkUpdateOption(e,t){return t.some(t=>t in e)}}let{get:mV}=nu;class m$ extends mG{constructor(...e){super(...e),(0,ai.Z)(this,"layerClickCountByFrame",0),(0,ai.Z)(this,"layerConfigMap",new WeakMap),(0,ai.Z)(this,"displayFeatureInfo",void 0),(0,ai.Z)(this,"onLayerClick",(e,t)=>{requestAnimationFrame(()=>{if(this.popupOption.closeOnClick&&this.layerClickCountByFrame++,this.isShow&&this.isSameFeature(e,t.featureId))this.hide();else{let{title:n,content:r}=this.getLayerInfoFrag(e,t);this.setDOMContent(r),this.setLnglat(t.lngLat),this.setTitle(n),this.setDisplayFeatureInfo({layer:e,featureId:t.featureId}),this.show()}})}),(0,ai.Z)(this,"onSceneClick",()=>{this.layerClickCountByFrame=0,requestAnimationFrame(()=>{this.layerClickCountByFrame||this.hide()})}),(0,ai.Z)(this,"onLayerHide",()=>{this.hide(),this.setDisplayFeatureInfo(void 0)}),(0,ai.Z)(this,"updateCloseOnClick",()=>{})}get layerConfigItems(){var e;let{config:t,items:n}=this.popupOption;return null!==(e=null!=t?t:n)&&void 0!==e?e:[]}addTo(e){return super.addTo(e),this.bindLayerEvent(),this.hide(),this}remove(){return super.remove(),this.unbindLayerEvent(),this}setOptions(e){this.unbindLayerEvent();let t=(0,ar.Z)({},e),n=t.trigger||this.popupOption.trigger,r=t.items||this.popupOption.items,i=(null==r?void 0:r.length)===0;t.followCursor="hover"===n&&!i;let o=this.isShow;return super.setOptions(t),this.bindLayerEvent(),(i||!o)&&this.hide(),this}getDefault(e){let t="click"!==e.trigger;return(0,ar.Z)((0,ar.Z)({},super.getDefault(e)),{},{trigger:"hover",followCursor:t,lngLat:{lng:0,lat:0},offsets:[0,10],closeButton:!1,closeOnClick:!0,autoClose:!1,closeOnEsc:!1})}bindLayerEvent(){let{trigger:e,closeOnClick:t}=this.popupOption;this.layerConfigItems.forEach(n=>{var r,i;let o=this.getLayerByConfig(n);if(!o)return;let a=(0,ar.Z)({},n);if("hover"===e){let e=this.onLayerMouseMove.bind(this,o),t=this.onLayerMouseOut.bind(this,o);a.onMouseMove=e,a.onMouseOut=t,null==o||o.on("mousemove",e),null==o||o.on("mouseout",t)}else{let e=this.onLayerClick.bind(this,o);a.onClick=e,null==o||o.on("click",e);let n=null===(i=this.mapsService)||void 0===i?void 0:i.getMapContainer();n&&t&&n.addEventListener("click",this.onSceneClick)}let s=null==o||null===(r=o.getSource)||void 0===r?void 0:r.call(o),l=this.onSourceUpdate.bind(this);null==s||s.on("update",l),a.onSourceUpdate=l,this.layerConfigMap.set(o,a)})}unbindLayerEvent(){this.layerConfigItems.forEach(e=>{var t,n;let r=this.getLayerByConfig(e),i=r&&this.layerConfigMap.get(r);if(!i)return;let{onMouseMove:o,onMouseOut:a,onClick:s,onSourceUpdate:l}=i;o&&r.off("mousemove",o),a&&r.off("mouseout",a),s&&r.off("click",s),l&&(null==r||null===(n=r.getSource())||void 0===n||n.off("update",l));let c=null===(t=this.mapsService)||void 0===t?void 0:t.getMapContainer();c&&c.removeEventListener("click",this.onSceneClick)})}onLayerMouseMove(e,t){if(!this.isSameFeature(e,t.featureId)){let{title:n,content:r}=this.getLayerInfoFrag(e,t);this.setDOMContent(r),this.setTitle(n),this.setDisplayFeatureInfo({layer:e,featureId:t.featureId}),this.show()}}onLayerMouseOut(e,t){this.setDisplayFeatureInfo(void 0),this.isShow&&this.hide()}onSourceUpdate(){this.hide(),this.setDisplayFeatureInfo(void 0)}getLayerInfoFrag(e,t){let n;let r=this.layerConfigMap.get(e),i=document.createDocumentFragment();if(r){let e=t.feature;"Feature"===e.type&&"properties"in e&&"geometry"in e&&(e=e.properties);let{title:o,fields:a,customContent:s}=r;if(o){n=document.createDocumentFragment();let t=o instanceof Function?o(e):o;nB(n,t)}if(s){let t=s instanceof Function?s(e):s;nB(i,t)}else null!=a&&a.length&&(null==a||a.forEach(n=>{var r,o;let{field:a,formatField:s,formatValue:l,getValue:c}="string"==typeof n?{field:n}:n,u=ng("div","l7-layer-popup__row"),d=c?c(t.feature):mV(e,a),p=null!==(r=s instanceof Function?s(a,e):s)&&void 0!==r?r:a,h=null!==(o=l instanceof Function?l(d,e):l)&&void 0!==o?o:d,f=ng("span","l7-layer-popup__key",u);nB(f,p),nB(f,document.createTextNode("："));let g=ng("span","l7-layer-popup__value",u);Array.isArray(h)&&h.every(e=>!(e instanceof Object))&&(h=h.map(e=>String(e)).join(",")),nB(g,h),i.appendChild(u)}))}return{title:n,content:i}}getLayerByConfig(e){let t=e.layer;return t instanceof Object?t:"string"==typeof t?this.layerService.getLayer(t)||this.layerService.getLayerByName(t):void 0}isSameFeature(e,t){let n=this.displayFeatureInfo;return n&&e===n.layer&&t===n.featureId}setDisplayFeatureInfo(e){let t=this.displayFeatureInfo;t&&t.layer.off("hide",this.onLayerHide),e&&e.layer.on("hide",this.onLayerHide),this.displayFeatureInfo=e}}!function(e,t){var n="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,r="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram);if(!n&&!r&&(t||(t=document),t)){var i=t.head||t.getElementsByTagName("head")[0];if(!i){i=t.createElement("head");var o=t.body||t.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):t.documentElement.appendChild(i)}var a=t.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),i.appendChild(a)}}(`.l7-marker-container {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: hidden;
}
.l7-marker {
  position: absolute !important;
  top: 0;
  left: 0;
  z-index: 5;
  cursor: pointer;
}
.l7-marker-cluster {
  width: 40px;
  height: 40px;
  background-color: rgba(181, 226, 140, 0.6);
  background-clip: padding-box;
  border-radius: 20px;
}
.l7-marker-cluster div {
  width: 30px;
  height: 30px;
  margin-top: 5px;
  margin-left: 5px;
  font:
    12px 'Helvetica Neue',
    Arial,
    Helvetica,
    sans-serif;
  text-align: center;
  background-color: rgba(110, 204, 57, 0.6);
  border-radius: 15px;
}
.l7-marker-cluster span {
  line-height: 30px;
}
.l7-touch .l7-control-attribution,
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  box-shadow: none;
}
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  background-clip: padding-box;
  border: 2px solid rgba(0, 0, 0, 0.2);
}
.mapboxgl-ctrl-logo,
.amap-logo {
  display: none !important;
}
.l7-select-box {
  border: 3px dashed gray;
  border-radius: 2px;
  position: absolute;
  z-index: 999;
  box-sizing: border-box;
}
.l7-control-container {
  font:
    12px/1.5 'Helvetica Neue',
    Arial,
    Helvetica,
    sans-serif;
}
.l7-control-container .l7-control {
  position: relative;
  z-index: 999;
  float: left;
  clear: both;
  color: #595959;
  font-size: 12px;
  pointer-events: visiblePainted;
  /* IE 9-10 doesn't have auto */
  pointer-events: auto;
}
.l7-control-container .l7-control.l7-control--hide {
  display: none;
}
.l7-control-container .l7-top {
  top: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-top .l7-control:not(.l7-control--hide) {
  margin-top: 8px;
}
.l7-control-container .l7-right {
  right: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-right .l7-control:not(.l7-control--hide) {
  margin-right: 8px;
}
.l7-control-container .l7-bottom {
  bottom: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-bottom .l7-control:not(.l7-control--hide) {
  margin-bottom: 8px;
}
.l7-control-container .l7-left {
  left: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-left .l7-control:not(.l7-control--hide) {
  margin-left: 8px;
}
.l7-control-container .l7-center {
  position: absolute;
  display: flex;
  justify-content: center;
}
.l7-control-container .l7-center.l7-top,
.l7-control-container .l7-center.l7-bottom {
  width: 100%;
}
.l7-control-container .l7-center.l7-left,
.l7-control-container .l7-center.l7-right {
  height: 100%;
}
.l7-control-container .l7-center .l7-control {
  margin-right: 8px;
  margin-bottom: 8px;
}
.l7-control-container .l7-row {
  flex-direction: row;
}
.l7-control-container .l7-row.l7-top {
  align-items: flex-start;
}
.l7-control-container .l7-row.l7-bottom {
  align-items: flex-end;
}
.l7-control-container .l7-column {
  flex-direction: column;
}
.l7-control-container .l7-column.l7-left {
  align-items: flex-start;
}
.l7-control-container .l7-column.l7-right {
  align-items: flex-end;
}
.l7-button-control {
  min-width: 28px;
  height: 28px;
  background-color: #fff;
  border-width: 0;
  border-radius: 2px;
  outline: 0;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0 6px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
  line-height: 16px;
}
.l7-button-control .l7-iconfont {
  fill: #595959;
  color: #595959;
  width: 16px;
  height: 16px;
}
.l7-button-control.l7-button-control--row {
  padding: 0 16px 0 13px;
}
.l7-button-control.l7-button-control--row * + .l7-button-control__text {
  margin-left: 8px;
}
.l7-button-control.l7-button-control--column {
  height: 44px;
  flex-direction: column;
}
.l7-button-control.l7-button-control--column .l7-iconfont {
  margin-top: 3px;
}
.l7-button-control.l7-button-control--column .l7-button-control__text {
  margin-top: 3px;
  font-size: 10px;
  -webkit-transform: scale(0.83333);
          transform: scale(0.83333);
}
.l7-button-control:not(:disabled):hover {
  background-color: #f3f3f3;
}
.l7-button-control:not(:disabled):active {
  background-color: #f3f3f3;
}
.l7-button-control:disabled {
  background-color: #fafafa;
  color: #bdbdbd;
  cursor: not-allowed;
}
.l7-button-control:disabled .l7-iconfont {
  fill: #bdbdbd;
  color: #bdbdbd;
}
.l7-button-control:disabled:hover {
  background-color: #fafafa;
}
.l7-button-control:disabled:active {
  background-color: #fafafa;
}
.l7-popper {
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 5;
  color: #595959;
}
.l7-popper.l7-popper-hide {
  display: none;
}
.l7-popper .l7-popper-content {
  min-height: 28px;
  background: #fff;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
}
.l7-popper .l7-popper-arrow {
  width: 0;
  height: 0;
  border-width: 4px;
  border-style: solid;
  border-top-color: transparent;
  border-bottom-color: transparent;
  border-left-color: transparent;
  border-right-color: transparent;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
}
.l7-popper.l7-popper-left {
  flex-direction: row;
}
.l7-popper.l7-popper-left .l7-popper-arrow {
  border-left-color: #fff;
  margin: 10px 0;
}
.l7-popper.l7-popper-right {
  flex-direction: row-reverse;
}
.l7-popper.l7-popper-right .l7-popper-arrow {
  border-right-color: #fff;
  margin: 10px 0;
}
.l7-popper.l7-popper-top {
  flex-direction: column;
}
.l7-popper.l7-popper-top .l7-popper-arrow {
  border-top-color: #fff;
  margin: 0 10px;
}
.l7-popper.l7-popper-bottom {
  flex-direction: column-reverse;
}
.l7-popper.l7-popper-bottom .l7-popper-arrow {
  border-bottom-color: #fff;
  margin: 0 10px;
}
.l7-popper.l7-popper-start {
  align-items: flex-start;
}
.l7-popper.l7-popper-end {
  align-items: flex-end;
}
.l7-select-control--normal {
  padding: 4px 0;
}
.l7-select-control--normal .l7-select-control-item {
  display: flex;
  align-items: center;
  height: 24px;
  padding: 0 16px;
  font-size: 12px;
  line-height: 24px;
}
.l7-select-control--normal .l7-select-control-item > * + * {
  margin-left: 6px;
}
.l7-select-control--normal .l7-select-control-item input[type='checkbox'] {
  width: 14px;
  height: 14px;
}
.l7-select-control--normal .l7-select-control-item:hover {
  background-color: #f3f3f3;
}
.l7-select-control--image {
  display: flex;
  flex-wrap: wrap;
  align-items: flex-start;
  box-sizing: content-box;
  max-width: 460px;
  max-height: 400px;
  margin: 12px 0 0 12px;
  overflow-x: hidden;
  overflow-y: auto;
}
.l7-select-control--image .l7-select-control-item {
  position: relative;
  display: flex;
  flex: 0 0 calc((100% - (12px + 9px) * 2) / 3);
  flex-direction: column;
  justify-content: center;
  box-sizing: content-box;
  margin-right: 12px;
  margin-bottom: 12px;
  overflow: hidden;
  font-size: 12px;
  border: 1px solid #fff;
  border-radius: 2px;
}
.l7-select-control--image .l7-select-control-item img {
  width: 100%;
  height: 80px;
}
.l7-select-control--image .l7-select-control-item input[type='checkbox'] {
  position: absolute;
  top: 0;
  right: 0;
}
.l7-select-control--image .l7-select-control-item .l7-select-control-item-row {
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 26px;
}
.l7-select-control--image .l7-select-control-item .l7-select-control-item-row > * + * {
  margin-left: 8px;
}
.l7-select-control--image .l7-select-control-item.l7-select-control-item-active {
  border-color: #0370fe;
}
.l7-select-control-item {
  cursor: pointer;
}
.l7-select-control-item input[type='checkbox'] {
  margin: 0;
  cursor: pointer;
}
.l7-select-control--multiple .l7-select-control-item:hover {
  background-color: transparent;
}
.l7-control-logo {
  width: 89px;
  height: 16px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}
.l7-control-logo img {
  height: 100%;
  width: 100%;
}
.l7-control-logo .l7-control-logo-link {
  display: block;
  cursor: pointer;
}
.l7-control-logo .l7-control-logo-link img {
  cursor: pointer;
}
.l7-control-mouse-location {
  background-color: #fff;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
  padding: 2px 4px;
  min-width: 130px;
}
.l7-control-zoom {
  overflow: hidden;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
}
.l7-control-zoom .l7-button-control {
  font-size: 16px;
  border-bottom: 1px solid #f0f0f0;
  border-radius: 0;
  box-shadow: 0 0 0;
}
.l7-control-zoom .l7-button-control .l7-iconfont {
  width: 14px;
  height: 14px;
}
.l7-control-zoom .l7-button-control:last-child {
  border-bottom: 0;
}
.l7-control-zoom .l7-control-zoom__number {
  color: #595959;
  padding: 0;
}
.l7-control-zoom .l7-control-zoom__number:hover {
  background-color: #fff;
}
.l7-control-scale {
  display: flex;
  flex-direction: column;
}
.l7-control-scale .l7-control-scale-line {
  box-sizing: border-box;
  padding: 2px 5px 1px;
  overflow: hidden;
  color: #595959;
  font-size: 10px;
  line-height: 1.1;
  white-space: nowrap;
  background: #fff;
  border: 2px solid #000;
  border-top: 0;
  transition: width 0.1s;
}
.l7-control-scale .l7-control-scale-line + .l7-control-scale .l7-control-scale-line {
  margin-top: -2px;
  border-top: 2px solid #777;
  border-bottom: none;
}
.l7-right .l7-control-scale {
  display: flex;
  align-items: flex-end;
}
.l7-right .l7-control-scale .l7-control-scale-line {
  text-align: right;
}
.l7-popup {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 5;
  display: flex;
  will-change: transform;
  pointer-events: none;
}
.l7-popup.l7-popup-hide {
  display: none;
}
.l7-popup .l7-popup-content {
  position: relative;
  padding: 16px;
  font-size: 14px;
  background: #fff;
  border-radius: 3px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}
.l7-popup .l7-popup-content .l7-popup-content__title {
  margin-bottom: 8px;
  font-weight: bold;
}
.l7-popup .l7-popup-content .l7-popup-close-button,
.l7-popup .l7-popup-content .l7-popup-content__title,
.l7-popup .l7-popup-content .l7-popup-content__panel {
  white-space: normal;
  -webkit-user-select: text;
     -moz-user-select: text;
      -ms-user-select: text;
          user-select: text;
  pointer-events: initial;
}
.l7-popup .l7-popup-content .l7-popup-close-button {
  position: absolute;
  top: 0;
  right: 0;
  width: 18px;
  height: 18px;
  padding: 0;
  font-size: 14px;
  line-height: 18px;
  text-align: center;
  background-color: transparent;
  border: 0;
  border-radius: 0 3px 0 0;
  cursor: pointer;
}
.l7-popup .l7-popup-tip {
  position: relative;
  z-index: 1;
  width: 0;
  height: 0;
  border: 10px solid transparent;
}
.l7-popup.l7-popup-anchor-bottom,
.l7-popup.l7-popup-anchor-bottom-left,
.l7-popup.l7-popup-anchor-bottom-right {
  flex-direction: column-reverse;
}
.l7-popup.l7-popup-anchor-bottom .l7-popup-tip,
.l7-popup.l7-popup-anchor-bottom-left .l7-popup-tip,
.l7-popup.l7-popup-anchor-bottom-right .l7-popup-tip {
  bottom: 1px;
}
.l7-popup.l7-popup-anchor-top,
.l7-popup.l7-popup-anchor-top-left,
.l7-popup.l7-popup-anchor-top-right {
  flex-direction: column;
}
.l7-popup.l7-popup-anchor-top .l7-popup-tip,
.l7-popup.l7-popup-anchor-top-left .l7-popup-tip,
.l7-popup.l7-popup-anchor-top-right .l7-popup-tip {
  top: 1px;
}
.l7-popup.l7-popup-anchor-left {
  flex-direction: row;
}
.l7-popup.l7-popup-anchor-right {
  flex-direction: row-reverse;
}
.l7-popup-anchor-top .l7-popup-tip {
  position: relative;
  align-self: center;
  border-top: none;
  border-bottom-color: #fff;
}
.l7-popup-anchor-top-left .l7-popup-tip {
  align-self: flex-start;
  border-top: none;
  border-bottom-color: #fff;
  border-left: none;
}
.l7-popup-anchor-top-right .l7-popup-tip {
  align-self: flex-end;
  border-top: none;
  border-right: none;
  border-bottom-color: #fff;
}
.l7-popup-anchor-bottom .l7-popup-tip {
  align-self: center;
  border-top-color: #fff;
  border-bottom: none;
}
.l7-popup-anchor-bottom-left .l7-popup-tip {
  align-self: flex-start;
  border-top-color: #fff;
  border-bottom: none;
  border-left: none;
}
.l7-popup-anchor-bottom-right .l7-popup-tip {
  align-self: flex-end;
  border-top-color: #fff;
  border-right: none;
  border-bottom: none;
}
.l7-popup-anchor-left .l7-popup-tip {
  align-self: center;
  border-right-color: #fff;
  border-left: none;
}
.l7-popup-anchor-right .l7-popup-tip {
  right: 1px;
  align-self: center;
  border-right: none;
  border-left-color: #fff;
}
.l7-popup-anchor-top-left .l7-popup-content {
  border-top-left-radius: 0;
}
.l7-popup-anchor-top-right .l7-popup-content {
  border-top-right-radius: 0;
}
.l7-popup-anchor-bottom-left .l7-popup-content {
  border-bottom-left-radius: 0;
}
.l7-popup-anchor-bottom-right .l7-popup-content {
  border-bottom-right-radius: 0;
}
.l7-popup-track-pointer {
  display: none;
}
.l7-popup-track-pointer * {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  pointer-events: none;
}
.l7-map:hover .l7-popup-track-pointer {
  display: flex;
}
.l7-map:active .l7-popup-track-pointer {
  display: none;
}
.l7-layer-popup__row {
  font-size: 12px;
}
.l7-layer-popup__row + .l7-layer-popup__row {
  margin-top: 4px;
}
.l7-control-swipe {
  position: absolute;
  top: 50%;
  left: 50%;
  z-index: 6;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  touch-action: none;
}
.l7-control-swipe_hide {
  display: none;
}
.l7-control-swipe:before {
  position: absolute;
  top: -5000px;
  bottom: -5000px;
  left: 50%;
  z-index: -1;
  width: 4px;
  background: #fff;
  -webkit-transform: translate(-2px, 0);
          transform: translate(-2px, 0);
  content: '';
}
.l7-control-swipe.horizontal:before {
  top: 50%;
  right: -5000px;
  bottom: auto;
  left: -5000px;
  width: auto;
  height: 4px;
}
.l7-control-swipe__button {
  display: block;
  width: 28px;
  height: 28px;
  margin: 0;
  padding: 0;
  color: #595959;
  font-weight: bold;
  font-size: inherit;
  text-align: center;
  text-decoration: none;
  background-color: #fff;
  border: none;
  border-radius: 2px;
  outline: none;
}
.l7-control-swipe,
.l7-control-swipe__button {
  cursor: ew-resize;
}
.l7-control-swipe.horizontal,
.l7-control-swipe.horizontal button {
  cursor: ns-resize;
}
.l7-control-swipe:after,
.l7-control-swipe__button:before,
.l7-control-swipe__button:after {
  position: absolute;
  top: 25%;
  bottom: 25%;
  left: 50%;
  width: 2px;
  background: currentColor;
  -webkit-transform: translate(-1px, 0);
          transform: translate(-1px, 0);
  content: '';
}
.l7-control-swipe__button:after {
  -webkit-transform: translateX(4px);
          transform: translateX(4px);
}
.l7-control-swipe__button:before {
  -webkit-transform: translateX(-6px);
          transform: translateX(-6px);
}
`);class mW{constructor(e){(0,ai.Z)(this,"configService",void 0),(0,ai.Z)(this,"config",void 0),this.config=e}setContainer(e,t){this.configService=e.globalConfigService,e.mapConfig=(0,ar.Z)((0,ar.Z)({},this.config),{},{id:t}),e.mapService=new(this.getServiceConstructor())(e)}getServiceConstructor(){throw Error("Method not implemented.")}}var mY=n(41978),mq=n.n(mY);class mX{constructor(e){(0,ai.Z)(this,"size",1e4),this.size=e||1e4}setSize(e){this.size=e}getSize(){return[this.size,this.size]}mercatorXfromLng(e){return(180+e)/360*this.size}mercatorYfromLat(e){return(1-(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360)*this.size}lngFromMercatorX(e){return e/this.size*360-180}latFromMercatorY(e){let t=180-(1-e/this.size)*360;return 360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90}project(e){let t=this.mercatorXfromLng(e[0]),n=this.mercatorYfromLat(e[1]);return[t,n]}unproject(e){let t=this.lngFromMercatorX(e[0]),n=this.latFromMercatorY(e[1]);return[t,n]}}class mK{constructor(e){(0,ai.Z)(this,"map",void 0),(0,ai.Z)(this,"simpleMapCoord",new mX),(0,ai.Z)(this,"bgColor","rgba(0.0, 0.0, 0.0, 0.0)"),(0,ai.Z)(this,"config",void 0),(0,ai.Z)(this,"configService",void 0),(0,ai.Z)(this,"coordinateSystemService",void 0),(0,ai.Z)(this,"eventEmitter",void 0),(0,ai.Z)(this,"markerContainer",void 0),(0,ai.Z)(this,"mapContainer",void 0),(0,ai.Z)(this,"cameraChangedCallback",void 0),this.config=e.mapConfig,this.configService=e.globalConfigService,this.coordinateSystemService=e.coordinateSystemService,this.eventEmitter=new rU.EventEmitter}onCameraChanged(e){this.cameraChangedCallback=e}updateView(e){var t;this.emit("mapchange"),this.viewport.syncWithMapCamera({bearing:e.bearing,center:e.center,viewportHeight:e.viewportHeight,pitch:e.pitch,viewportWidth:e.viewportWidth,zoom:e.zoom}),this.updateCoordinateSystemService(),null===(t=this.cameraChangedCallback)||void 0===t||t.call(this,this.viewport)}updateCoordinateSystemService(){let{offsetCoordinate:e=!0}=this.config;this.viewport.getZoom()>12&&e?this.coordinateSystemService.setCoordinateSystem(a_.LNGLAT_OFFSET):this.coordinateSystemService.setCoordinateSystem(a_.LNGLAT)}creatMapContainer(e){return"string"==typeof e?document.getElementById(e):e}getMapStyleValue(e){var t;return null!==(t=this.getMapStyleConfig()[e])&&void 0!==t?t:e}setBgColor(e){this.bgColor=e}getMapContainer(){return this.mapContainer}getMarkerContainer(){return this.markerContainer}getOverlayContainer(){}getCanvasOverlays(){}emit(e,...t){this.eventEmitter.emit(e,...t)}once(e,t){this.eventEmitter.once(e,t)}meterToCoord(e,t){return 1}destroy(){this.eventEmitter.removeAllListeners()}}var mQ=n(59129),mJ=n(76920),m0=n(70837),m1=n(37083),m2=n(74063),m3=n(88145),m5=n(52521);function m4(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function m6(e,t){var n=aJ.fF([],t,e);return aJ.bA(n,n,1/n[3]),n}function m7(e,t){if(!e)throw Error(t||"viewport-mercator-project: assertion failed.")}var m8=Math.PI,m9=m8/4,be=m8/180,bt=180/m8;function bn(e){return Math.pow(2,e)}function br(e,t){var n=(0,m5.Z)(e,2),r=n[0],i=n[1];return m7(Number.isFinite(r)&&Number.isFinite(t)),m7(Number.isFinite(i)&&i>=-90&&i<=90,"invalid latitude"),[(t*=512)*(r*be+m8)/(2*m8),t*(m8-Math.log(Math.tan(m9+.5*(i*be))))/(2*m8)]}function bi(e,t){var n=(0,m5.Z)(e,2);return[(n[0]/(t*=512)*(2*m8)-m8)*bt,2*(Math.atan(Math.exp(m8-n[1]/t*(2*m8)))-m9)*bt]}function bo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=(0,m5.Z)(e,3),i=r[0],o=r[1],a=r[2];if(m7(Number.isFinite(i)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(a))return m6(t,[i,o,a,1]);var s=m6(t,[i,o,0,1]),l=m6(t,[i,o,1,1]),c=s[2],u=l[2],d=c===u?0:((n||0)-c)/(u-c);return fN.t7([],s,l,d)}var ba=m4(),bs=function(e){function t(){var e,n,r,i,o,a,s,l,c,u,d,p,h,f,g,m,b,v,y,E,_,x,S,A,C,w,O,I,L,R,k,N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},M=N.width,D=N.height,P=N.latitude,F=void 0===P?0:P,B=N.longitude,U=void 0===B?0:B,z=N.zoom,Z=void 0===z?0:z,j=N.pitch,H=void 0===j?0:j,G=N.bearing,V=void 0===G?0:G,$=N.altitude,W=void 0===$?1.5:$,Y=N.nearZMultiplier,q=N.farZMultiplier;(0,mQ.Z)(this,t),M=M||1,D=D||1;var X=bn(Z);W=Math.max(.75,W);var K=br([U,F],X);K[2]=0;var Q=(n=(e={width:M,height:D,pitch:H,bearing:V,altitude:W,nearZMultiplier:Y||1/D,farZMultiplier:q||1.01}).width,r=e.height,i=e.pitch,a=(o={width:n,height:r,altitude:e.altitude,pitch:i,nearZMultiplier:e.nearZMultiplier,farZMultiplier:e.farZMultiplier}).width,s=o.height,c=void 0===(l=o.altitude)?1.5:l,u=o.pitch,d=o.nearZMultiplier,p=o.farZMultiplier,h=(void 0===u?0:u)*be,g=Math.sin(f=Math.atan(.5/c))*c/Math.sin(Math.PI/2-h-f),m=Math.cos(Math.PI/2-h)*g+c,v=(b={fov:2*Math.atan(s/2/c),aspect:a/s,focalDistance:c,near:void 0===d?1:d,far:m*(void 0===p?1:p)}).fov,y=b.aspect,E=b.near,_=b.far,aH.perspective([],v,y,E,_)),J=(S=(x={height:D,center:K,pitch:H,bearing:V,altitude:W,flipY:!0}).height,A=x.pitch,C=x.bearing,w=x.altitude,I=void 0===(O=x.center)?null:O,L=x.flipY,R=m4(),aH.translate(R,R,[0,0,-w]),aH.scale(R,R,[1,1,1/S]),aH.rotateX(R,R,-A*be),aH.rotateZ(R,R,C*be),void 0!==L&&L&&aH.scale(R,R,[1,-1,1]),I&&aH.translate(R,R,fI.tk([],I)),R);return(k=(0,m0.Z)(this,(0,m1.Z)(t).call(this,{width:M,height:D,viewMatrix:J,projectionMatrix:Q}))).latitude=F,k.longitude=U,k.zoom=Z,k.pitch=H,k.bearing=V,k.altitude=W,k.scale=X,k.center=K,k.pixelsPerMeter=function(e){var t=e.latitude,n=e.longitude,r=e.zoom,i=e.scale,o=e.highPrecision;i=void 0!==i?i:bn(r),m7(Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(i));var a={},s=512*i,l=Math.cos(t*be),c=s/360,u=c/l,d=s/4003e4/l;if(a.pixelsPerMeter=[d,-d,d],a.metersPerPixel=[1/d,-1/d,1/d],a.pixelsPerDegree=[c,-u,d],a.degreesPerPixel=[1/c,-1/u,1/d],void 0!==o&&o){var p=be*Math.tan(t*be)/l,h=c*p/2,f=s/4003e4*p,g=f/u*d;a.pixelsPerDegree2=[0,-h,f],a.pixelsPerMeter2=[g,0,g]}return a}((0,m3.Z)((0,m3.Z)(k))).pixelsPerMeter[2],Object.freeze((0,m3.Z)((0,m3.Z)(k))),k}return(0,m2.Z)(t,e),(0,mJ.Z)(t,[{key:"projectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return br(e,t)}},{key:"unprojectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return bi(e,t)}},{key:"getMapCenterByLngLatPosition",value:function(e){var t=e.lngLat,n=bo(e.pos,this.pixelUnprojectionMatrix),r=br(t,this.scale),i=fN.IH([],r,fN.tk([],n));return bi(fN.IH([],this.center,i),this.scale)}},{key:"getLocationAtPoint",value:function(e){var t=e.lngLat,n=e.pos;return this.getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"fitBounds",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=function(e){var t=e.width,n=e.height,r=e.bounds,i=e.minExtent,o=void 0===i?0:i,a=e.maxZoom,s=e.padding,l=void 0===s?0:s,c=e.offset,u=void 0===c?[0,0]:c,d=(0,m5.Z)(r,2),p=(0,m5.Z)(d[0],2),h=p[0],f=p[1],g=(0,m5.Z)(d[1],2),m=g[0],b=g[1];if(Number.isFinite(l)){var v=l;l={top:v,bottom:v,left:v,right:v}}else m7(Number.isFinite(l.top)&&Number.isFinite(l.bottom)&&Number.isFinite(l.left)&&Number.isFinite(l.right));var y=new bs({width:t,height:n,longitude:0,latitude:0,zoom:0}),E=y.project([h,b]),_=y.project([m,f]),x=[Math.max(Math.abs(_[0]-E[0]),o),Math.max(Math.abs(_[1]-E[1]),o)],S=[t-l.left-l.right-2*Math.abs(u[0]),n-l.top-l.bottom-2*Math.abs(u[1])];m7(S[0]>0&&S[1]>0);var A=S[0]/x[0],C=S[1]/x[1],w=(l.right-l.left)/2/A,O=(l.bottom-l.top)/2/C,I=[(_[0]+E[0])/2+w,(_[1]+E[1])/2+O],L=y.unproject(I),R=y.zoom+Math.log2(Math.abs(Math.min(A,C)));return{longitude:L[0],latitude:L[1],zoom:Math.min(R,void 0===a?24:a)}}(Object.assign({width:r,height:i,bounds:e},n)),a=o.longitude,s=o.latitude,l=o.zoom;return new t({width:r,height:i,longitude:a,latitude:s,zoom:l})}}]),t}(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width,r=t.height,i=t.viewMatrix,o=void 0===i?ba:i,a=t.projectionMatrix,s=void 0===a?ba:a;(0,mQ.Z)(this,e),this.width=n||1,this.height=r||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=o,this.projectionMatrix=s;var l=m4();aH.multiply(l,l,this.projectionMatrix),aH.multiply(l,l,this.viewMatrix),this.viewProjectionMatrix=l;var c=m4();aH.scale(c,c,[this.width/2,-this.height/2,1]),aH.translate(c,c,[1,-1,0]),aH.multiply(c,c,this.viewProjectionMatrix);var u=aH.invert(m4(),c);if(!u)throw Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=c,this.pixelUnprojectionMatrix=u,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return(0,mJ.Z)(e,[{key:"equals",value:function(t){return t instanceof e&&t.width===this.width&&t.height===this.height&&aH.equals(t.projectionMatrix,this.projectionMatrix)&&aH.equals(t.viewMatrix,this.viewMatrix)}},{key:"project",value:function(e){var t,n,r,i,o,a,s,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=l.topLeft,u=(t=this.projectPosition(e),n=this.pixelProjectionMatrix,i=(r=(0,m5.Z)(t,3))[0],o=r[1],s=void 0===(a=r[2])?0:a,m7(Number.isFinite(i)&&Number.isFinite(o)&&Number.isFinite(s)),m6(n,[i,o,s,1])),d=(0,m5.Z)(u,2),p=d[0],h=d[1],f=void 0===c||c?h:this.height-h;return 2===e.length?[p,f]:[p,f,u[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=t.targetZ,i=(0,m5.Z)(e,3),o=i[0],a=i[1],s=i[2],l=void 0===n||n?a:this.height-a,c=r&&r*this.pixelsPerMeter,u=bo([o,l,s],this.pixelUnprojectionMatrix,c),d=this.unprojectPosition(u),p=(0,m5.Z)(d,3),h=p[0],f=p[1],g=p[2];return Number.isFinite(s)?[h,f,g]:Number.isFinite(r)?[h,f,r]:[h,f]}},{key:"projectPosition",value:function(e){var t=this.projectFlat(e),n=(0,m5.Z)(t,2);return[n[0],n[1],(e[2]||0)*this.pixelsPerMeter]}},{key:"unprojectPosition",value:function(e){var t=this.unprojectFlat(e),n=(0,m5.Z)(t,2);return[n[0],n[1],(e[2]||0)/this.pixelsPerMeter]}},{key:"projectFlat",value:function(e){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale,e}},{key:"unprojectFlat",value:function(e){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale,e}}]),e}());class bl{constructor(){(0,ai.Z)(this,"viewport",new bs)}syncWithMapCamera(e){let{center:t,zoom:n,pitch:r,bearing:i,viewportHeight:o,viewportWidth:a}=e,s={width:this.viewport.width,height:this.viewport.height,longitude:this.viewport.center[0],latitude:this.viewport.center[1],zoom:this.viewport.zoom,pitch:this.viewport.pitch,bearing:this.viewport.bearing};this.viewport=new bs((0,ar.Z)((0,ar.Z)({},s),{},{width:a,height:o,longitude:t&&t[0],latitude:t&&t[1],zoom:n,pitch:r,bearing:i}))}getZoom(){return this.viewport.zoom}getZoomScale(){return Math.pow(2,this.getZoom())}getCenter(){return[this.viewport.longitude,this.viewport.latitude]}getProjectionMatrix(){return this.viewport.projectionMatrix}getModelMatrix(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}getViewMatrix(){return this.viewport.viewMatrix}getViewMatrixUncentered(){return this.viewport.viewMatrixUncentered}getViewProjectionMatrix(){return this.viewport.viewProjectionMatrix}getViewProjectionMatrixUncentered(){return this.viewport.viewProjectionMatrix}getFocalDistance(){return 1}projectFlat(e,t){return this.viewport.projectFlat(e,t)}}let bc=((H={}).GAODE="GAODE",H.MAPBOX="MAPBOX",H.DEFAULT="DEFAUlTMAP",H.SIMPLE="SIMPLE",H.GLOBEL="GLOBEL",H);function bu(e={}){if("number"==typeof e)return{top:e,right:e,bottom:e,left:e};if(Array.isArray(e)){if(4===e.length)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(2===e.length)return{top:e[0],right:e[1],bottom:e[0],left:e[1]}}return(0,ar.Z)((0,ar.Z)({},{top:0,right:0,bottom:0,left:0}),e)}let bd={normal:"amap://styles/normal",light:"amap://styles/c422f5c0cfced5be9fe3a83f05f28a68?isPublic=true",dark:"amap://styles/c9f1d10cae34f8ab05e425462c5a58d7?isPublic=true",blank:"amap://styles/07c17002b38775b32a7a76c66cf90e99?isPublic=true",fresh:"amap://styles/fresh",grey:"amap://styles/grey",graffiti:"amap://styles/graffiti",macaron:"amap://styles/macaron",darkblue:"amap://styles/darkblue",wine:"amap://styles/wine"},bp=["id","style","minZoom","maxZoom","token","mapInstance","plugin"];!function(e,t){var n="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,r="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram);if(!n&&!r&&(t||(t=document),t)){var i=t.head||t.getElementsByTagName("head")[0];if(!i){i=t.createElement("head");var o=t.body||t.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):t.documentElement.appendChild(i)}var a=t.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),i.appendChild(a)}}(`.amap-logo {
  display: none !important;
}
.amap-copyright {
  display: none !important;
}
.amap-overlays {
  z-index: 3 !important;
}
`);let bh="f59bcf249433f8b05caaee19f349b3d7",bf={contextmenu:"rightclick",camerachange:"viewchange"};class bg extends mK{constructor(...e){super(...e),(0,ai.Z)(this,"viewport",new bl),(0,ai.Z)(this,"version",bc.GAODE),(0,ai.Z)(this,"handleCameraChanged",()=>{let e=this.getViewState();this.updateView(e)})}getType(){return"amap"}init(){var e=this;return(0,aZ.Z)(function*(){let t=e.config,{id:n,style:r="light",minZoom:i=0,maxZoom:o=24,token:a=bh,mapInstance:s,plugin:l=[]}=t,c=(0,so.Z)(t,bp);if(window.AMap||s||(l.push("Map3D"),yield mq().load({key:a,version:"2.0",plugins:l})),s)e.map=s,e.mapContainer=e.map.getContainer(),e.map.on("viewchange",e.handleCameraChanged);else{let t=(0,ar.Z)({mapStyle:e.getMapStyleValue(r),zooms:[i,o],viewMode:"3D"},c);if(t.zoom&&(t.zoom+=1),a===bh&&(window._AMapSecurityConfig={securityJsCode:"2653011adeb04230b3a26cc9a780a800"},console.warn(`%c${e.configService.getSceneWarninfo("MapToken")}!`,"color: #873bf4;font-weigh:900;font-size: 16px;")),!n)throw Error("No container id specified");window.forceWebGL=!0,e.mapContainer=e.creatMapContainer(n);let s=new AMap.Map(e.mapContainer,t);e.map=s,s.on("viewchange",e.handleCameraChanged)}e.syncInitViewPort()})()}syncInitViewPort(){let e=this.getViewState();this.updateView(e)}getViewState(){let{center:e,zoom:t}=function(e){let t=e._view.getOptions(),n=t.center,r=t.zoom;return{center:n,zoom:r}}(this.map),n={center:e,viewportWidth:this.map.getContainer().clientWidth,viewportHeight:this.map.getContainer().clientHeight,bearing:-this.map.getRotation(),pitch:this.map.getPitch(),zoom:t-1};return n}creatMapContainer(e){let t=super.creatMapContainer(e),n=document.createElement("div");return n.style.cssText+=`
       position: absolute;
       top: 0;
       height: 100%;
       width: 100%;
     `,n.id=nu.uniqueId("l7_amap_div"),t.appendChild(n),n}getContainer(){return this.map.getContainer()}addMarkerContainer(){if(!this.map)return;let e=this.map.getContainer();if(null!==e){let t=e.getElementsByClassName("amap-maps")[0];t.style.zIndex="auto",this.markerContainer=ng("div","l7-marker-container2",t)}}getMarkerContainer(){return this.markerContainer}getCanvasOverlays(){var e;return null===(e=this.mapContainer)||void 0===e?void 0:e.querySelector(".amap-overlays")}on(e,t){-1!==ak.indexOf(e)?this.eventEmitter.on(e,t):this.map.on(bf[e]||e,t)}off(e,t){-1!==ak.indexOf(e)?this.eventEmitter.off(e,t):this.map.off(bf[e]||e,t)}getSize(){let e=this.map.getSize();return[e.getWidth(),e.getHeight()]}getMinZoom(){let e=this.map.getZooms();return e[0]-1}getMaxZoom(){let e=this.map.getZooms();return e[1]-1}getZoom(){return this.map.getZoom()-1}getCenter(e){if(null!=e&&e.padding){let t=this.getCenter(),n=bu(e.padding),r=this.lngLatToPixel([t.lng,t.lat]),i=[(n.right-n.left)/2,(n.bottom-n.top)/2],o=this.pixelToLngLat([r.x-i[0],r.y-i[1]]);return o}let t=this.map.getCenter();return{lng:t.getLng(),lat:t.getLat()}}getPitch(){return this.map.getPitch()}getRotation(){return 360-this.map.getRotation()}getBounds(){let e=this.map.getBounds(),t=e.getNorthEast(),n=e.getSouthWest(),r=this.getCenter(),i=r.lng>t.getLng()||r.lng<n.getLng()?180-t.getLng():t.getLng(),o=r.lng<n.getLng()?n.getLng()-180:n.getLng();return[[o,n.getLat()],[i,t.getLat()]]}getMapContainer(){return this.mapContainer}getMapCanvasContainer(){var e;return null===(e=this.map.getContainer())||void 0===e?void 0:e.getElementsByClassName("amap-maps")[0]}getMapStyleConfig(){return bd}getMapStyleValue(e){return this.getMapStyleConfig()[e]||e}getMapStyle(){return this.map.getMapStyle()}setMapStyle(e){this.map.setMapStyle(this.getMapStyleValue(e))}setRotation(e){return this.map.setRotation(e)}zoomIn(){this.map.zoomIn()}zoomOut(){this.map.zoomOut()}panTo(e){this.map.panTo(e)}panBy(e=0,t=0){this.map.panBy(e,t)}fitBounds(e){this.map.setBounds(new AMap.Bounds([e[0][0],e[0][1],e[1][0],e[1][1]]),!0)}setZoomAndCenter(e,t){this.map.setZoomAndCenter(e+1,t)}setCenter(e,t){if(null!=t&&t.padding){let n=bu(t.padding),r=this.lngLatToPixel(e),i=[(n.right-n.left)/2,(n.bottom-n.top)/2],o=this.pixelToLngLat([r.x+i[0],r.y+i[1]]);this.map.setCenter([o.lng,o.lat])}else this.map.setCenter(e)}setPitch(e){return this.map.setPitch(e)}setZoom(e){return this.map.setZoom(e+1)}setMaxZoom(e){throw Error("Method not implemented.")}setMinZoom(e){throw Error("Method not implemented.")}setMapStatus(e){this.map.setStatus(e)}meterToCoord(e,t){let n=AMap.GeometryUtil.distance(new AMap.LngLat(...e),new AMap.LngLat(...t)),[r,i]=n9(...e),[o,a]=n9(...t),s=Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2));return s/n}pixelToLngLat(e){let t=this.map.pixelToLngLat(new AMap.Pixel(e[0],e[1]));return{lng:t.getLng(),lat:t.getLat()}}lngLatToPixel(e){let t=this.map.lnglatToPixel(e);return{x:t.getX(),y:t.getY()}}containerToLngLat(e){let t=new AMap.Pixel(e[0],e[1]),n=this.map.containerToLngLat(t);return{lng:null==n?void 0:n.getLng(),lat:null==n?void 0:n.getLat()}}lngLatToContainer(e){let t=this.map.lngLatToContainer(e);return{x:t.getX(),y:t.getY()}}lngLatToMercator([e,t],n){let[r,i]=n9(e,t);return{x:r,y:i,z:n}}getModelMatrix(e,t,n,r=[1,1,1]){let i=this.viewport.projectFlat(e),o=aH.create();return aH.translate(o,o,fI.al(i[0],i[1],t)),aH.scale(o,o,fI.al(r[0],r[1],r[2])),aH.rotateX(o,o,n[0]),aH.rotateY(o,o,n[1]),aH.rotateZ(o,o,n[2]),o}exportMap(e){var t;let n=null===(t=this.getContainer())||void 0===t?void 0:t.getElementsByClassName("amap-layer")[0],r="jpg"===e?null==n?void 0:n.toDataURL("image/jpeg"):null==n?void 0:n.toDataURL("image/png");return r}destroy(){var e;super.destroy(),null===(e=this.mapContainer)||void 0===e||null===(e=e.parentNode)||void 0===e||e.removeChild(this.mapContainer),delete window.initAMap;let t=document.getElementById("amap-script");t&&document.head.removeChild(t),this.map.destroy()}}class bm extends mW{getServiceConstructor(){return bg}}let bb={light:"mapbox://styles/zcxduo/ck2ypyb1r3q9o1co1766dex29",dark:"mapbox://styles/zcxduo/ck241p6413s0b1cpayzldv7x7",normal:"mapbox://styles/mapbox/streets-v11",blank:{version:8,sources:{},layers:[{id:"background",type:"background",layout:{visibility:"none"}}]}},bv={mapmove:"move",camerachange:"move",zoomchange:"zoom",dragging:"drag"};class by{constructor(e){(0,ai.Z)(this,"version","DEFAUlTMAP"),(0,ai.Z)(this,"map",void 0),(0,ai.Z)(this,"simpleMapCoord",new mX),(0,ai.Z)(this,"bgColor","rgba(0.0, 0.0, 0.0, 0.0)"),(0,ai.Z)(this,"config",void 0),(0,ai.Z)(this,"configService",void 0),(0,ai.Z)(this,"coordinateSystemService",void 0),(0,ai.Z)(this,"eventEmitter",void 0),(0,ai.Z)(this,"markerContainer",void 0),(0,ai.Z)(this,"cameraChangedCallback",void 0),(0,ai.Z)(this,"$mapContainer",void 0),(0,ai.Z)(this,"handleCameraChanged",e=>{let{lat:t,lng:n}=this.map.getCenter();this.emit("mapchange"),this.viewport.syncWithMapCamera({bearing:this.map.getBearing(),center:[n,t],viewportHeight:this.map.transform.height,pitch:this.map.getPitch(),viewportWidth:this.map.transform.width,zoom:this.map.getZoom(),cameraHeight:0}),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport)}),this.config=e.mapConfig,this.configService=e.globalConfigService,this.coordinateSystemService=e.coordinateSystemService,this.eventEmitter=new rU.EventEmitter}setBgColor(e){this.bgColor=e}addMarkerContainer(){let e=this.map.getCanvasContainer();this.markerContainer=ng("div","l7-marker-container",e),this.markerContainer.setAttribute("tabindex","-1")}getMarkerContainer(){return this.markerContainer}getOverlayContainer(){}getCanvasOverlays(){}on(e,t){-1!==ak.indexOf(e)?this.eventEmitter.on(e,t):this.map.on(bv[e]||e,t)}off(e,t){this.map.off(bv[e]||e,t),this.eventEmitter.off(e,t)}getContainer(){return this.map.getContainer()}getMapCanvasContainer(){return this.map.getCanvasContainer()}getSize(){if("SIMPLE"===this.version)return this.simpleMapCoord.getSize();let e=this.map.transform;return[e.width,e.height]}getType(){return"default"}getZoom(){return this.map.getZoom()}setZoom(e){return this.map.setZoom(e)}getCenter(){return this.map.getCenter()}setCenter(e){this.map.setCenter(e)}getPitch(){return this.map.getPitch()}getRotation(){return this.map.getBearing()}getBounds(){return this.map.getBounds().toArray()}getMinZoom(){return this.map.getMinZoom()}getMaxZoom(){return this.map.getMaxZoom()}setRotation(e){this.map.setBearing(e)}zoomIn(e,t){this.map.zoomIn(e,t)}zoomOut(e,t){this.map.zoomOut(e,t)}setPitch(e){return this.map.setPitch(e)}panTo(e){this.map.panTo(e)}panBy(e=0,t=0){this.map.panBy([e,t])}fitBounds(e,t){this.map.fitBounds(e,t)}setMaxZoom(e){this.map.setMaxZoom(e)}setMinZoom(e){this.map.setMinZoom(e)}setMapStatus(e){!0===e.doubleClickZoom&&this.map.doubleClickZoom.enable(),!1===e.doubleClickZoom&&this.map.doubleClickZoom.disable(),!1===e.dragEnable&&this.map.dragPan.disable(),!0===e.dragEnable&&this.map.dragPan.enable(),!1===e.rotateEnable&&this.map.dragRotate.disable(),!0===e.dragEnable&&this.map.dragRotate.enable(),!1===e.keyboardEnable&&this.map.keyboard.disable(),!0===e.keyboardEnable&&this.map.keyboard.enable(),!1===e.zoomEnable&&this.map.scrollZoom.disable(),!0===e.zoomEnable&&this.map.scrollZoom.enable()}setZoomAndCenter(e,t){this.map.flyTo({zoom:e,center:t})}setMapStyle(e){var t;null===(t=this.map)||void 0===t||t.setStyle(this.getMapStyleValue(e))}meterToCoord(e,t){return 1}pixelToLngLat(e){return this.map.unproject(e)}lngLatToPixel(e){return this.map.project(e)}containerToLngLat(e){return this.map.unproject(e)}lngLatToContainer(e){return this.map.project(e)}getMapStyle(){try{var e;let t=null!==(e=this.map.getStyle().sprite)&&void 0!==e?e:"";if(/^mapbox:\/\/sprites\/zcxduo\/\w+\/\w+$/.test(t))return null==t?void 0:t.replace(/\/\w+$/,"").replace(/sprites/,"styles");return t}catch(e){return""}}getMapStyleConfig(){return bb}getMapStyleValue(e){var t;return null!==(t=this.getMapStyleConfig()[e])&&void 0!==t?t:e}destroy(){this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}emit(e,...t){this.eventEmitter.emit(e,...t)}once(e,...t){this.eventEmitter.once(e,...t)}getMapContainer(){return this.$mapContainer}exportMap(e){var t;let n=null===(t=this.map)||void 0===t?void 0:t.getCanvas(),r="jpg"===e?null==n?void 0:n.toDataURL("image/jpeg"):null==n?void 0:n.toDataURL("image/png");return r}onCameraChanged(e){this.cameraChangedCallback=e}creatMapContainer(e){let t=e;return"string"==typeof e&&(t=document.getElementById(e)),t}updateView(e){this.emit("mapchange"),this.viewport.syncWithMapCamera({bearing:e.bearing,center:e.center,viewportHeight:e.viewportHeight,pitch:e.pitch,viewportWidth:e.viewportWidth,zoom:e.zoom,cameraHeight:0}),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport)}updateCoordinateSystemService(){let{offsetCoordinate:e=!0}=this.config;this.viewport.getZoom()>12&&e?this.coordinateSystemService.setCoordinateSystem(a_.LNGLAT_OFFSET):this.coordinateSystemService.setCoordinateSystem(a_.LNGLAT)}}if(!window)throw Error("BMapGL JSAPI can only be used in Browser.");var bE=((G=bE||{}).notload="notload",G.loading="loading",G.loaded="loaded",G.failed="failed",G);let b_={key:"",BMapGL:{version:"1.0"}},bT={BMapGL:bE.notload},bx=[],bS=e=>{if("function"==typeof e){if(bT.BMapGL===bE.loaded){e(window.BMapGL);return}bx.push(e)}};var bA={load:e=>new Promise((t,n)=>{if(bT.BMapGL===bE.failed)n("");else if(bT.BMapGL===bE.notload){let{key:r,version:i}=e;if(!r){n("请填写key");return}b_.key=r,b_.BMapGL.version=i||b_.BMapGL.version,bT.BMapGL=bE.loading;let o=document.body||document.head;window.___onBMapGLAPILoaded=e=>{if(delete window.___onBMapGLAPILoaded,e)bT.BMapGL=bE.failed,n(e);else for(bT.BMapGL=bE.loaded;bx.length;)bx.splice(0,1)[0](window.BMapGL)};let a=document.createElement("script");a.type="text/javascript",a.src=`https://api.map.baidu.com/api?type=webgl&v=${b_.BMapGL.version}&ak=${b_.key}&callback=___onBMapGLAPILoaded`,a.onerror=e=>{bT.BMapGL=bE.failed,n(e)},o.appendChild(a),bS(t)}else if(bT.BMapGL===bE.loaded){if(e.key&&e.key!==b_.key){n("多个不一致的 key");return}if(e.version&&e.version!==b_.BMapGL.version){n("不允许多个版本 JSAPI 混用");return}t(window.BMapGL)}else{if(e.key&&e.key!==b_.key){n("多个不一致的 key");return}if(e.version&&e.version!==b_.BMapGL.version){n("不允许多个版本 JSAPI 混用");return}bS(t)}}),reset:()=>{delete window.BMapGL,b_={key:"",BMapGL:{version:"1.0"}},bT={BMapGL:bE.notload}}};let bC=["id","center","zoom","token","mapInstance","version","mapSize","minZoom","maxZoom"];!function(e,t){var n="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,r="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram);if(!n&&!r&&(t||(t=document),t)){var i=t.head||t.getElementsByTagName("head")[0];if(!i){i=t.createElement("head");var o=t.body||t.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):t.documentElement.appendChild(i)}var a=t.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),i.appendChild(a)}}(`.BMap_cpyCtrl .anchorBL {
  display: none !important;
}

.anchorBL {
  display: none !important;
}
`);let bw={mapmove:"moving",contextmenu:"rightclick",camerachange:"update",zoomchange:"zoomend"},bO="zLhopYPPERGtpGOgimcdKcCimGRyyIsh";class bI extends by{constructor(...e){super(...e),(0,ai.Z)(this,"viewport",void 0),(0,ai.Z)(this,"styleConfig",{normal:[]}),(0,ai.Z)(this,"currentStyle","normal"),(0,ai.Z)(this,"evtCbProxyMap",new Map),(0,ai.Z)(this,"handleCameraChanged",()=>{this.emit("mapchange");let e=this.getMap(),{lng:t,lat:n}=e.getCenter(),r={center:[t,n],viewportHeight:e.getContainer().clientHeight,viewportWidth:e.getContainer().clientWidth,bearing:360-e.getHeading(),pitch:e.getTilt(),zoom:e.getZoom()-1.75};this.viewport.syncWithMapCamera(r),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport)})}getMap(){return this.map}setBgColor(e){this.bgColor=e}init(){var e=this;return(0,aZ.Z)(function*(){e.viewport=new bl;let t=e.config,{id:n,center:r=[121.30654632240122,31.25744185633306],zoom:i=12,token:o=bO,mapInstance:a,version:s="1.0",mapSize:l=1e4,minZoom:c=0,maxZoom:u=21}=t,d=(0,so.Z)(t,bC);if(e.viewport=new bl,e.version=s,e.simpleMapCoord.setSize(l),window.BMapGL||a||(yield bA.load({key:o,version:"1.0"})),a){e.map=a,e.$mapContainer=e.map.getContainer();let t=new BMapGL.Point(r[0],r[1]);e.map.isLoaded()||e.map.centerAndZoom(t,i),e.initMapByConfig(e.config),e.map.on("update",e.handleCameraChanged)}else{let t=(0,ar.Z)({enableWheelZoom:!0,minZoom:c,maxZoom:u},d);if(o===bO&&console.warn(`%c${e.configService.getSceneWarninfo("MapToken")}!`,"color: #873bf4;font-weigh:900;font-size: 16px;"),!n)throw Error("No container id specified");let a=np(n),s=[...a.childNodes],l=new BMapGL.Map(a,t);e.$mapContainer=l.getContainer(),s.forEach(t=>{e.$mapContainer.appendChild(t)}),s=null,e.map=l;let p=new BMapGL.Point(r[0],r[1]);e.map.centerAndZoom(p,i),e.initMapByConfig(e.config),l.on("update",e.handleCameraChanged)}})()}destroy(){this.getMap().destroy()}onCameraChanged(e){this.cameraChangedCallback=e}addMarkerContainer(){}getMarkerContainer(){return this.map.getPanes().markerPane}getCanvasOverlays(){var e;return null===(e=this.getMap().getContainer().querySelector("#platform"))||void 0===e?void 0:e.lastChild}on(e,t){if(-1!==ak.indexOf(e)){this.eventEmitter.on(e,t);return}let n=this.evtCbProxyMap.get(e);if(n||this.evtCbProxyMap.set(e,n=new Map),n.get(t))return;let r=(...e)=>{!e[0]||"object"!=typeof e[0]||e[0].lngLat||e[0].lnglat||(e[0].lngLat=e[0].latlng||e[0].latLng),t(...e)};n.set(t,r),this.map.on(bw[e]||e,r)}off(e,t){var n,r;if(-1!==ak.indexOf(e)){this.eventEmitter.off(e,t);return}let i=null===(n=this.evtCbProxyMap.get(e))||void 0===n?void 0:n.get(t);i&&(null===(r=this.evtCbProxyMap.get(e))||void 0===r||r.delete(t),this.map.off(bw[e]||e,i))}once(e,t){this.eventEmitter.once(e,t)}getContainer(){return this.getMap().getContainer()}getSize(){let e=this.getMap().getSize();return[e.width,e.height]}getMinZoom(){return this.map.getMinZoom()}getMaxZoom(){return this.map.getMaxZoom()}getType(){return"bmap"}getZoom(){return this.getMap().getZoom()}getCenter(e){if(null!=e&&e.padding){let t=this.getCenter(),n=bu(e.padding),r=this.lngLatToPixel([t.lng,t.lat]),i=[(n.right-n.left)/2,(n.bottom-n.top)/2],o=this.pixelToLngLat([r.x-i[0],r.y-i[1]]);return o}let t=this.map.getCenter();return{lng:t.lng,lat:t.lat}}getPitch(){return this.getMap().getTilt()}getRotation(){return 360-this.getMap().getHeading()}getBounds(){let e=this.getMap().getBounds(),t=e.getNorthEast(),n=e.getSouthWest();return[[n.lng,n.lat],[t.lng,t.lat]]}getMapContainer(){return this.getMap().getContainer()}getMapCanvasContainer(){return this.getMap().getContainer()}getMapStyleConfig(){return this.styleConfig}getMapStyleValue(e){return this.styleConfig[e]}setMapStyle(e){if(this.currentStyle===e)return;let t=Array.isArray(e)?e:this.styleConfig[e]||e;if(Array.isArray(t)){this.map.setMapStyleV2({styleJson:t}),this.currentStyle=e;return}if("string"==typeof t){this.map.setMapStyleV2({styleId:t}),this.currentStyle=e;return}}setRotation(e){this.getMap().setHeading(e)}zoomIn(){this.getMap().zoomIn()}zoomOut(){this.getMap().zoomOut()}panTo(e){this.getMap().panTo(new BMapGL.Point(e[0],e[1]))}panBy(e,t){this.getMap().panBy(e,t)}fitBounds(e,t){this.map.setViewport(e.map(e=>new BMapGL.Point(e[0],e[1])),t)}setZoomAndCenter(e,[t,n]){this.getMap().centerAndZoom(new BMapGL.Point(t,n),e+1.75)}setCenter([e,t],n){let r={lng:e,lat:t};if(null!=n&&n.padding){let i=bu(n.padding),o=this.lngLatToPixel([e,t]),a=[(i.right-i.left)/2,(i.bottom-i.top)/2];r=this.pixelToLngLat([o.x+a[0],o.y+a[1]])}this.getMap().setCenter(new BMapGL.Point(r.lng,r.lat))}setPitch(e){this.getMap().setTilt(e)}setZoom(e){this.getMap().setZoom(e)}setMapStatus(e){let t=this.getMap();Object.keys(e).map(n=>{switch(n){case"doubleClickZoom":e.doubleClickZoom?t.enableDoubleClickZoom():t.disableDoubleClickZoom();break;case"dragEnable":e.dragEnable?t.enableDragging():t.disableDragging();break;case"keyboardEnable":e.keyboardEnable?t.enableKeyboard():t.disableKeyboard();break;case"resizeEnable":e.resizeEnable?t.enableAutoResize():t.disableAutoResize();break;case"rotateEnable":e.rotateEnable?(t.enableRotate(),t.enableRotateGestures()):(t.disableRotate(),t.disableRotateGestures());break;case"zoomEnable":e.zoomEnable?(this.map.enableDoubleClickZoom(),this.map.enableScrollWheelZoom(),this.map.enablePinchToZoom()):(this.map.disableDoubleClickZoom(),this.map.disableScrollWheelZoom(),this.map.disablePinchToZoom());break;case"showIndoorMap":t.setDisplayOptions({indoor:!!e.showIndoorMap})}})}meterToCoord(e,t){let n=this.getMap().getDistance(new BMapGL.Point(...e),new BMapGL.Point(...t)),[r,i]=this.lngLatToCoord(e),[o,a]=this.lngLatToCoord(t),s=Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2));return s/n}pixelToLngLat([e,t]){let n=this.getMap().pixelToPoint(new BMapGL.Pixel(e,t));return{lng:n.lng,lat:n.lat}}lngLatToPixel([e,t]){let n=this.getMap().pointToPixel(new BMapGL.Point(e,t));return{x:n.x,y:n.y}}containerToLngLat([e,t]){let n=this.getMap().overlayPixelToPoint(new BMapGL.Pixel(e,t));return{lng:n.lng,lat:n.lat}}lngLatToContainer([e,t]){let n=this.getMap().pointToOverlayPixel(new BMapGL.Point(e,t));return{x:n.x,y:n.y}}lngLatToCoord([e,t]){let{x:n,y:r}=this.getMap().pointToPixel(new BMapGL.Point(e,t));return[n,-r]}lngLatToCoords(e){return e.map(e=>Array.isArray(e[0])?this.lngLatToCoords(e):this.lngLatToCoord(e))}lngLatToMercator([e,t],n){let[r,i]=this.getMap().lnglatToMercator(e,t);return{x:r,y:i,z:n}}getModelMatrix(e,t,n,r=[1,1,1]){let i=this.viewport.projectFlat(e),o=aH.create();return aH.translate(o,o,fI.al(i[0],i[1],t)),aH.scale(o,o,fI.al(r[0],r[1],r[2])),aH.rotateX(o,o,n[0]),aH.rotateY(o,o,n[1]),aH.rotateZ(o,o,n[2]),o}getCustomCoordCenter(){throw Error("Method not implemented.")}exportMap(e){let t=this.getMap()._webglPainter._canvas,n="jpg"===e?null==t?void 0:t.toDataURL("image/jpeg"):null==t?void 0:t.toDataURL("image/png");return n}hideLogo(){let e=this.map.getContainer();e&&nb(e,"bmap-contianer--hide-logo")}initMapByConfig(e){let{style:t,pitch:n=0,rotation:r=0,logoVisible:i=!0}=e;t&&this.setMapStyle(t),n&&this.setPitch(n),r&&this.setRotation(r),!1===i&&this.hideLogo()}}class bL extends mW{getServiceConstructor(){return bI}}var bR=n(89504),bk=n.n(bR);let bN={number:function(e,t,n){return e+n*(t-e)}};function bM(e,t,n){return Math.min(n,Math.max(t,e))}function bD(e,t,n){let r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}let bP=1;function bF(e,...t){for(let n of t)for(let t in n)e[t]=n[t];return e}function bB(e,t,n,r){let i=new(bk())(e,t,n,r);return e=>i.solve(e)}let bU=bB(.25,.1,.25,1),bz={};function bZ(e){return e*Math.PI/180}class bj{constructor(e,t){if((0,ai.Z)(this,"lng",void 0),(0,ai.Z)(this,"lat",void 0),isNaN(e)||isNaN(t))throw Error(`Invalid LngLat object: (${e}, ${t})`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new bj(bD(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){let t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t),o=6371008.8*Math.acos(Math.min(i,1));return o}static convert(e){if(e instanceof bj)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new bj(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new bj(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}let bH=2*Math.PI*6371008.8;function bG(e){return bH*Math.cos(e*Math.PI/180)}function bV(e){return(180+e)/360}function b$(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function bW(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}class bY{constructor(e,t,n=0){(0,ai.Z)(this,"x",void 0),(0,ai.Z)(this,"y",void 0),(0,ai.Z)(this,"z",void 0),this.x=+e,this.y=+t,this.z=+n}static fromLngLat(e,t=0){let n=bj.convert(e);return new bY(bV(n.lng),b$(n.lat),t/bG(n.lat))}toLngLat(){return new bj(360*this.x-180,bW(this.y))}toAltitude(){return this.z*bG(bW(this.y))}meterInMercatorCoordinateUnits(){return 1/bH*(1/Math.cos(bW(this.y)*Math.PI/180))}}var bq=n(96542),bX=n.n(bq);class bK{constructor(e,t){(0,ai.Z)(this,"_ne",void 0),(0,ai.Z)(this,"_sw",void 0),e&&(t?this.setSouthWest(e).setNorthEast(t):Array.isArray(e)&&(4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1])))}setNorthEast(e){return this._ne=e instanceof bj?new bj(e.lng,e.lat):bj.convert(e),this}setSouthWest(e){return this._sw=e instanceof bj?new bj(e.lng,e.lat):bj.convert(e),this}extend(e){let t,n;let r=this._sw,i=this._ne;if(e instanceof bj)t=e,n=e;else if(!(e instanceof bK))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(bK.convert(e)):this.extend(bj.convert(e)):e&&("lng"in e||"lon"in e)&&"lat"in e?this.extend(bj.convert(e)):this;else if(t=e._sw,n=e._ne,!t||!n)return this;return r||i?(r.lng=Math.min(t.lng,r.lng),r.lat=Math.min(t.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new bj(t.lng,t.lat),this._ne=new bj(n.lng,n.lat)),this}getCenter(){return new bj((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new bj(this.getWest(),this.getNorth())}getSouthEast(){return new bj(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){let{lng:t,lat:n}=bj.convert(e),r=this._sw.lat<=n&&n<=this._ne.lat,i=this._sw.lng<=t&&t<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=t&&t>=this._ne.lng),r&&i}static convert(e){return e instanceof bK?e:new bK(e)}static fromLngLat(e,t=0){let n=360*t/40075017,r=n/Math.cos(Math.PI/180*e.lat);return new bK(new bj(e.lng-r,e.lat-n),new bj(e.lng+r,e.lat+n))}}let bQ="undefined"!=typeof performance&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),bJ={now:bQ,frameAsync:e=>new Promise((t,n)=>{let r=requestAnimationFrame(t);e.signal.addEventListener("abort",()=>{cancelAnimationFrame(r),n(Error("AbortError"))})}),get prefersReducedMotion(){if(!window.matchMedia)return!1;return null==r&&(r=window.matchMedia("(prefers-reduced-motion: reduce)")),r.matches}};function b0(e,t,n){let r=n[e]&&-1!==n[e].indexOf(t);r||(n[e]=n[e]||[],n[e].push(t))}function b1(e,t,n){if(n&&n[e]){let r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}class b2{constructor(e,t={}){(0,ai.Z)(this,"type",void 0),bF(this,t),this.type=e}}class b3 extends b2{constructor(e,t={}){super("error",t),(0,ai.Z)(this,"error",void 0),this.error=e}}class b5{constructor(){(0,ai.Z)(this,"_listeners",void 0),(0,ai.Z)(this,"_oneTimeListeners",void 0),(0,ai.Z)(this,"_eventedParent",void 0),(0,ai.Z)(this,"_eventedParentData",void 0)}on(e,t){return this._listeners=this._listeners||{},b0(e,t,this._listeners),this}off(e,t){return b1(e,t,this._listeners),b1(e,t,this._oneTimeListeners),this}once(e,t){return t?(this._oneTimeListeners=this._oneTimeListeners||{},b0(e,t,this._oneTimeListeners),this):new Promise(t=>this.once(e,t))}fire(e,t){"string"==typeof e&&(e=new b2(e,t||{}));let n=e.type;if(this.listens(n)){e.target=this;let t=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];for(let n of t)n.call(this,e);let r=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];for(let t of r)b1(n,t,this._oneTimeListeners),t.call(this,e);let i=this._eventedParent;i&&(bF(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),i.fire(e))}else e instanceof b3&&console.error(e.error);return this}emit(e,t){return this.fire(e,t)}listens(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)}setEventedParent(e,t){return e&&(this._eventedParent=e),this._eventedParentData=t,this}}class b4 extends b5{constructor(e,t){super(),(0,ai.Z)(this,"transform",void 0),(0,ai.Z)(this,"handlers",void 0),(0,ai.Z)(this,"_moving",void 0),(0,ai.Z)(this,"_zooming",void 0),(0,ai.Z)(this,"_rotating",void 0),(0,ai.Z)(this,"_pitching",void 0),(0,ai.Z)(this,"_padding",void 0),(0,ai.Z)(this,"_bearingSnap",void 0),(0,ai.Z)(this,"_easeStart",void 0),(0,ai.Z)(this,"_easeOptions",void 0),(0,ai.Z)(this,"_easeId",void 0),(0,ai.Z)(this,"_onEaseFrame",void 0),(0,ai.Z)(this,"_onEaseEnd",void 0),(0,ai.Z)(this,"_easeFrameId",void 0),(0,ai.Z)(this,"_requestedCameraState",void 0),(0,ai.Z)(this,"transformCameraUpdate",void 0),(0,ai.Z)(this,"_renderFrameCallback",()=>{let e=Math.min((bJ.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}),this._moving=!1,this._zooming=!1,this.transform=e,this._bearingSnap=t.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new bj(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(e,t,n){return e=bX().convert(e).mult(-1),this.panTo(this.transform.center,bF({offset:e},t),n)}panTo(e,t,n){return this.easeTo(bF({center:e},t),n)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(e,t,n){return this.easeTo(bF({zoom:e},t),n)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(e,t,n){return this.easeTo(bF({bearing:e},t),n)}resetNorth(e,t){return this.rotateTo(0,bF({duration:1e3},e),t),this}resetNorthPitch(e,t){return this.easeTo(bF({bearing:0,pitch:0,duration:1e3},e),t),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(e,t){e=bK.convert(e);let n=t&&t.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),n,t)}_cameraForBoxAndBearing(e,t,n,r){let i={top:0,bottom:0,right:0,left:0};if("number"==typeof(r=bF({padding:i,offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding){let e=r.padding;r.padding={top:e,bottom:e,right:e,left:e}}r.padding=bF(i,r.padding);let o=this.transform,a=o.padding,s=new bK(e,t),l=o.project(s.getNorthWest()),c=o.project(s.getNorthEast()),u=o.project(s.getSouthEast()),d=o.project(s.getSouthWest()),p=bZ(-n),h=l.rotate(p),f=c.rotate(p),g=u.rotate(p),m=d.rotate(p),b=new(bX())(Math.max(h.x,f.x,m.x,g.x),Math.max(h.y,f.y,m.y,g.y)),v=new(bX())(Math.min(h.x,f.x,m.x,g.x),Math.min(h.y,f.y,m.y,g.y)),y=b.sub(v),E=(o.width-(a.left+a.right+r.padding.left+r.padding.right))/y.x,_=(o.height-(a.top+a.bottom+r.padding.top+r.padding.bottom))/y.y;if(_<0||E<0){var x;bz[x="Map cannot fit within canvas with the given bounds, padding, and/or offset."]||("undefined"!=typeof console&&console.warn(x),bz[x]=!0);return}let S=Math.min(o.scaleZoom(o.scale*Math.min(E,_)),r.maxZoom),A=bX().convert(r.offset),C=(r.padding.left-r.padding.right)/2,w=(r.padding.top-r.padding.bottom)/2,O=new(bX())(C,w),I=O.rotate(bZ(n)),L=A.add(I),R=L.mult(o.scale/o.zoomScale(S)),k=o.unproject(l.add(u).div(2).sub(R));return{center:k,zoom:S,bearing:n}}fitBounds(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)}fitScreenCoordinates(e,t,n,r,i){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(bX().convert(e)),this.transform.pointLocation(bX().convert(t)),n,r),r,i)}_fitInternal(e,t,n){return e?(t=bF(e,t),delete t.padding,t.linear?this.easeTo(t,n):this.flyTo(t,n)):this}jumpTo(e,t){this.stop();let n=this._getTransformForUpdate(),r=!1,i=!1,o=!1;return"zoom"in e&&n.zoom!==+e.zoom&&(r=!0,n.zoom=+e.zoom),void 0!==e.center&&(n.center=bj.convert(e.center)),"bearing"in e&&n.bearing!==+e.bearing&&(i=!0,n.bearing=+e.bearing),"pitch"in e&&n.pitch!==+e.pitch&&(o=!0,n.pitch=+e.pitch),null==e.padding||n.isPaddingEqual(e.padding)||(n.padding=e.padding),this._applyUpdatedTransform(n),this.fire(new b2("movestart",t)).fire(new b2("move",t)),r&&this.fire(new b2("zoomstart",t)).fire(new b2("zoom",t)).fire(new b2("zoomend",t)),i&&this.fire(new b2("rotatestart",t)).fire(new b2("rotate",t)).fire(new b2("rotateend",t)),o&&this.fire(new b2("pitchstart",t)).fire(new b2("pitch",t)).fire(new b2("pitchend",t)),this.fire(new b2("moveend",t))}calculateCameraOptionsFromTo(e,t,n,r=0){let i=bY.fromLngLat(e,t),o=bY.fromLngLat(n,r),a=o.x-i.x,s=o.y-i.y,l=o.z-i.z,c=Math.hypot(a,s,l);if(0===c)throw Error("Can't calculate camera options with same From and To");let u=Math.hypot(a,s),d=this.transform.scaleZoom(this.transform.cameraToCenterDistance/c/this.transform.tileSize),p=180*Math.atan2(a,-s)/Math.PI,h=180*Math.acos(u/c)/Math.PI;return h=l<0?90-h:90+h,{center:o.toLngLat(),zoom:d,pitch:h,bearing:p}}easeTo(e,t){var n;let r,i;this._stop(!1,e.easeId),(!1===(e=bF({offset:[0,0],duration:500,easing:bU},e)).animate||!e.essential&&bJ.prefersReducedMotion)&&(e.duration=0);let o=this._getTransformForUpdate(),a=this.getZoom(),s=this.getBearing(),l=this.getPitch(),c=this.getPadding(),u="bearing"in e?this._normalizeBearing(e.bearing,s):s,d="pitch"in e?+e.pitch:l,p="padding"in e?e.padding:o.padding,h=bX().convert(e.offset),f=o.centerPoint.add(h),g=o.pointLocation(f),{center:m,zoom:b}=o.getConstrained(bj.convert(e.center||g),null!==(n=e.zoom)&&void 0!==n?n:a);this._normalizeCenter(m);let v=o.project(g),y=o.project(m).sub(v),E=o.zoomScale(b-a);e.around&&(r=bj.convert(e.around),i=o.locationPoint(r));let _={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||b!==a,this._rotating=this._rotating||s!==u,this._pitching=this._pitching||d!==l,this._padding=!o.isPaddingEqual(p),this._easeId=e.easeId,this._prepareEase(t,e.noMoveStart,_),this._ease(e=>{if(this._zooming&&(o.zoom=bN.number(a,b,e)),this._rotating&&(o.bearing=bN.number(s,u,e)),this._pitching&&(o.pitch=bN.number(l,d,e)),this._padding&&(o.interpolatePadding(c,p,e),f=o.centerPoint.add(h)),r)o.setLocationAtPoint(r,i);else{let t=o.zoomScale(o.zoom-a),n=b>a?Math.min(2,E):Math.max(.5,E),r=Math.pow(n,1-e),i=o.unproject(v.add(y.mult(e*r)).mult(t));o.setLocationAtPoint(o.renderWorldCopies?i.wrap():i,f)}this._applyUpdatedTransform(o),this._fireMoveEvents(t)},e=>{this._afterEase(t,e)},e),this}_prepareEase(e,t,n={}){this._moving=!0,t||n.moving||this.fire(new b2("movestart",e)),this._zooming&&!n.zooming&&this.fire(new b2("zoomstart",e)),this._rotating&&!n.rotating&&this.fire(new b2("rotatestart",e)),this._pitching&&!n.pitching&&this.fire(new b2("pitchstart",e))}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(e){if(!this.transformCameraUpdate)return;let t=e.clone(),{center:n,zoom:r,pitch:i,bearing:o,elevation:a}=this.transformCameraUpdate(t);n&&(t.center=n),void 0!==r&&(t.zoom=r),void 0!==i&&(t.pitch=i),void 0!==o&&(t.bearing=o),void 0!==a&&(t.elevation=a),this.transform.apply(t)}_fireMoveEvents(e){this.fire(new b2("move",e)),this._zooming&&this.fire(new b2("zoom",e)),this._rotating&&this.fire(new b2("rotate",e)),this._pitching&&this.fire(new b2("pitch",e))}_afterEase(e,t){if(this._easeId&&t&&this._easeId===t)return;delete this._easeId;let n=this._zooming,r=this._rotating,i=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,n&&this.fire(new b2("zoomend",e)),r&&this.fire(new b2("rotateend",e)),i&&this.fire(new b2("pitchend",e)),this.fire(new b2("moveend",e))}flyTo(e,t){var n;if(!e.essential&&bJ.prefersReducedMotion){let n=function(e,t){let n={};for(let r=0;r<t.length;r++){let i=t[r];i in e&&(n[i]=e[i])}return n}(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(n,t)}this.stop(),e=bF({offset:[0,0],speed:1.2,curve:1.42,easing:bU},e);let r=this._getTransformForUpdate(),i=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="bearing"in e?this._normalizeBearing(e.bearing,o):o,c="pitch"in e?+e.pitch:a,u="padding"in e?e.padding:r.padding,d=bX().convert(e.offset),p=r.centerPoint.add(d),h=r.pointLocation(p),{center:f,zoom:g}=r.getConstrained(bj.convert(e.center||h),null!==(n=e.zoom)&&void 0!==n?n:i);this._normalizeCenter(f);let m=r.zoomScale(g-i),b=r.project(h),v=r.project(f).sub(b),y=e.curve,E=Math.max(r.width,r.height),_=E/m,x=v.mag();if("minZoom"in e){let t=bM(Math.min(e.minZoom,i,g),r.minZoom,r.maxZoom),n=E/r.zoomScale(t-i);y=Math.sqrt(n/x*2)}let S=y*y;function A(e){let t=(_*_-E*E+(e?-1:1)*S*S*x*x)/(2*(e?_:E)*S*x);return Math.log(Math.sqrt(t*t+1)-t)}function C(e){return(Math.exp(e)-Math.exp(-e))/2}function w(e){return(Math.exp(e)+Math.exp(-e))/2}let O=A(!1),I=function(e){return w(O)/w(O+y*e)},L=function(e){var t;return E*((w(O)*(C(t=O+y*e)/w(t))-C(O))/S)/x},R=(A(!0)-O)/y;if(1e-6>Math.abs(x)||!isFinite(R)){if(1e-6>Math.abs(E-_))return this.easeTo(e,t);let n=_<E?-1:1;R=Math.abs(Math.log(_/E))/y,L=()=>0,I=e=>Math.exp(n*y*e)}if("duration"in e)e.duration=+e.duration;else{let t="screenSpeed"in e?+e.screenSpeed/y:+e.speed;e.duration=1e3*R/t}return e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=o!==l,this._pitching=c!==a,this._padding=!r.isPaddingEqual(u),this._prepareEase(t,!1),this._ease(e=>{let n=e*R,h=1/I(n);r.zoom=1===e?g:i+r.scaleZoom(h),this._rotating&&(r.bearing=bN.number(o,l,e)),this._pitching&&(r.pitch=bN.number(a,c,e)),this._padding&&(r.interpolatePadding(s,u,e),p=r.centerPoint.add(d));let m=1===e?f:r.unproject(b.add(v.mult(L(n))).mult(h));r.setLocationAtPoint(r.renderWorldCopies?m.wrap():m,p),this._applyUpdatedTransform(r),this._fireMoveEvents(t)},()=>{this._afterEase(t)},e),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){let e=this._onEaseEnd;delete this._onEaseEnd,e.call(this,t)}if(!e){var n;null===(n=this.handlers)||void 0===n||n.stop(!1)}return this}_ease(e,t,n){!1===n.animate||0===n.duration?(e(1),t()):(this._easeStart=bJ.now(),this._easeOptions=n,this._onEaseFrame=e,this._onEaseEnd=t,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(e,t){e=bD(e,-180,180);let n=Math.abs(e-t);return Math.abs(e-360-t)<n&&(e-=360),Math.abs(e+360-t)<n&&(e+=360),e}_normalizeCenter(e){let t=this.transform;if(!t.renderWorldCopies||t.lngRange)return;let n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}}var b6=n(31767);class b7{constructor(e=0,t=0,n=0,r=0){if((0,ai.Z)(this,"top",void 0),(0,ai.Z)(this,"bottom",void 0),(0,ai.Z)(this,"left",void 0),(0,ai.Z)(this,"right",void 0),isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(r)||r<0)throw Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=n,this.right=r}interpolate(e,t,n){return null!=t.top&&null!=e.top&&(this.top=bN.number(e.top,t.top,n)),null!=t.bottom&&null!=e.bottom&&(this.bottom=bN.number(e.bottom,t.bottom,n)),null!=t.left&&null!=e.left&&(this.left=bN.number(e.left,t.left,n)),null!=t.right&&null!=e.right&&(this.right=bN.number(e.right,t.right,n)),this}getCenter(e,t){let n=bM((this.left+e-this.right)/2,0,e),r=bM((this.top+t-this.bottom)/2,0,t);return new(bX())(n,r)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new b7(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class b8{constructor(e,t,n,r,i){(0,ai.Z)(this,"tileSize",void 0),(0,ai.Z)(this,"tileZoom",void 0),(0,ai.Z)(this,"lngRange",void 0),(0,ai.Z)(this,"latRange",void 0),(0,ai.Z)(this,"scale",void 0),(0,ai.Z)(this,"width",void 0),(0,ai.Z)(this,"height",void 0),(0,ai.Z)(this,"angle",void 0),(0,ai.Z)(this,"rotationMatrix",void 0),(0,ai.Z)(this,"pixelsToGLUnits",void 0),(0,ai.Z)(this,"cameraToCenterDistance",void 0),(0,ai.Z)(this,"mercatorMatrix",void 0),(0,ai.Z)(this,"projMatrix",void 0),(0,ai.Z)(this,"invProjMatrix",void 0),(0,ai.Z)(this,"alignedProjMatrix",void 0),(0,ai.Z)(this,"pixelMatrix",void 0),(0,ai.Z)(this,"pixelMatrix3D",void 0),(0,ai.Z)(this,"pixelMatrixInverse",void 0),(0,ai.Z)(this,"glCoordMatrix",void 0),(0,ai.Z)(this,"labelPlaneMatrix",void 0),(0,ai.Z)(this,"minElevationForCurrentTile",void 0),(0,ai.Z)(this,"_fov",void 0),(0,ai.Z)(this,"_pitch",void 0),(0,ai.Z)(this,"_zoom",void 0),(0,ai.Z)(this,"_unmodified",void 0),(0,ai.Z)(this,"_renderWorldCopies",void 0),(0,ai.Z)(this,"_minZoom",void 0),(0,ai.Z)(this,"_maxZoom",void 0),(0,ai.Z)(this,"_minPitch",void 0),(0,ai.Z)(this,"_maxPitch",void 0),(0,ai.Z)(this,"_center",void 0),(0,ai.Z)(this,"_elevation",void 0),(0,ai.Z)(this,"_pixelPerMeter",void 0),(0,ai.Z)(this,"_edgeInsets",void 0),(0,ai.Z)(this,"_constraining",void 0),(0,ai.Z)(this,"_posMatrixCache",void 0),(0,ai.Z)(this,"_alignedPosMatrixCache",void 0),this.tileSize=512,this._renderWorldCopies=void 0===i||!!i,this._minZoom=e||0,this._maxZoom=t||22,this._minPitch=null==n?0:n,this._maxPitch=null==r?60:r,this.setMaxBounds(),this.width=0,this.height=0,this._center=new bj(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new b7,this._posMatrixCache={},this._alignedPosMatrixCache={},this.minElevationForCurrentTile=0}clone(){let e=new b8(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.apply(this),e}apply(e){this.tileSize=e.tileSize,this.latRange=e.latRange,this.width=e.width,this.height=e.height,this._center=e._center,this._elevation=e._elevation,this.minElevationForCurrentTile=e.minElevationForCurrentTile,this.zoom=e.zoom,this.angle=e.angle,this._fov=e._fov,this._pitch=e._pitch,this._unmodified=e._unmodified,this._edgeInsets=e._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new(bX())(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(e){let t=-bD(e,-180,180)*Math.PI/180;if(this.angle!==t){var n,r,i,o,a,s,l,c,u,d;this._unmodified=!1,this.angle=t,this._calcMatrices(),this.rotationMatrix=(n=new b6.WT(4),b6.WT!=Float32Array&&(n[1]=0,n[2]=0),n[0]=1,n[3]=1,n),r=this.rotationMatrix,i=this.rotationMatrix,o=this.angle,a=i[0],s=i[1],l=i[2],c=i[3],u=Math.sin(o),d=Math.cos(o),r[0]=a*d+l*u,r[1]=s*d+c*u,r[2]=-(a*u)+l*d,r[3]=-(s*u)+c*d}}get pitch(){return this._pitch/Math.PI*180}set pitch(e){let t=bM(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==t&&(this._unmodified=!1,this._pitch=t,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(e){let t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.tileZoom=Math.max(0,Math.floor(t)),this.scale=this.zoomScale(t),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(e){(e.lat!==this._center.lat||e.lng!==this._center.lng)&&(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(e){e!==this._elevation&&(this._elevation=e,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){let t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(e){let t=bM(e.lat,-85.051129,85.051129);return new(bX())(bV(e.lng)*this.worldSize,b$(t)*this.worldSize)}unproject(e){return new bY(e.x/this.worldSize,e.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){let e=this.pointLocation(this.getCameraPoint()),t=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter;return{lngLat:e,altitude:t+this.elevation}}setLocationAtPoint(e,t){let n=this.pointCoordinate(t),r=this.pointCoordinate(this.centerPoint),i=this.locationCoordinate(e),o=new bY(i.x-(n.x-r.x),i.y-(n.y-r.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(e){return this.coordinatePoint(this.locationCoordinate(e))}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}locationCoordinate(e){return bY.fromLngLat(e)}coordinateLocation(e){return e&&e.toLngLat()}pointCoordinate(e){let t=[e.x,e.y,0,1],n=[e.x,e.y,1,1];aJ.fF(t,t,this.pixelMatrixInverse),aJ.fF(n,n,this.pixelMatrixInverse);let r=t[3],i=n[3],o=t[0]/r,a=n[0]/i,s=t[1]/r,l=n[1]/i,c=t[2]/r,u=n[2]/i,d=c===u?0:(0-c)/(u-c);return new bY(bN.number(o,a,d)/this.worldSize,bN.number(s,l,d)/this.worldSize)}coordinatePoint(e,t=0,n=this.pixelMatrix){let r=[e.x*this.worldSize,e.y*this.worldSize,t,1];return aJ.fF(r,r,n),new(bX())(r[0]/r[3],r[1]/r[3])}getBounds(){let e=Math.max(0,this.height/2-this.getHorizon());return new bK().extend(this.pointLocation(new(bX())(0,e))).extend(this.pointLocation(new(bX())(this.width,e))).extend(this.pointLocation(new(bX())(this.width,this.height))).extend(this.pointLocation(new(bX())(0,this.height)))}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new bK([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-85.051129,85.051129])}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(e,t){let n,r;t=bM(+t,this.minZoom,this.maxZoom);let i={center:new bj(e.lng,e.lat),zoom:t},o=this.lngRange;if(!this._renderWorldCopies&&null===o){let e=180-1e-10;o=[-e,e]}let a=this.tileSize*this.zoomScale(i.zoom),s=0,l=a,c=0,u=a,d=0,p=0,{x:h,y:f}=this.size;if(this.latRange){let e=this.latRange;s=b$(e[1])*a,l=b$(e[0])*a;let t=l-s<f;t&&(d=f/(l-s))}if(o){c=bD(bV(o[0])*a,0,a),(u=bD(bV(o[1])*a,0,a))<c&&(u+=a);let e=u-c<h;e&&(p=h/(u-c))}let{x:g,y:m}=this.project.call({worldSize:a},e),b=Math.max(p||0,d||0);if(b){let e=new(bX())(p?(u+c)/2:g,d?(l+s)/2:m);return i.center=this.unproject.call({worldSize:a},e).wrap(),i.zoom+=this.scaleZoom(b),i}if(this.latRange){let e=f/2;m-e<s&&(r=s+e),m+e>l&&(r=l-e)}if(o){let e=(c+u)/2,t=g;this._renderWorldCopies&&(t=bD(g,e-a/2,e+a/2));let r=h/2;t-r<c&&(n=c+r),t+r>u&&(n=u-r)}if(void 0!==n||void 0!==r){var v,y;let e=new(bX())(null!==(v=n)&&void 0!==v?v:g,null!==(y=r)&&void 0!==y?y:m);i.center=this.unproject.call({worldSize:a},e).wrap()}return i}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let e=this._unmodified,{center:t,zoom:n}=this.getConstrained(this.center,this.zoom);this.center=t,this.zoom=n,this._unmodified=e,this._constraining=!1}_calcMatrices(){if(!this.height)return;let e=this._fov/2,t=this.centerOffset,n=this.point.x,r=this.point.y;this.cameraToCenterDistance=.5/Math.tan(e)*this.height,this._pixelPerMeter=1/bG(this.center.lat)*this.worldSize;let i=aH.identity(new Float64Array(16));aH.scale(i,i,[this.width/2,-this.height/2,1]),aH.translate(i,i,[1,-1,0]),this.labelPlaneMatrix=i,i=aH.identity(new Float64Array(16)),aH.scale(i,i,[1,-1,1]),aH.translate(i,i,[-1,-1,0]),aH.scale(i,i,[2/this.width,2/this.height,1]),this.glCoordMatrix=i;let o=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),a=Math.min(this.elevation,this.minElevationForCurrentTile),s=o-a*this._pixelPerMeter/Math.cos(this._pitch),l=a<0?s:o,c=Math.PI/2+this._pitch,u=this._fov*(.5+t.y/this.height),d=Math.sin(u)*l/Math.sin(bM(Math.PI-c-u,.01,Math.PI-.01)),p=this.getHorizon(),h=Math.atan(p/this.cameraToCenterDistance),f=2*h*(.5+t.y/(2*p)),g=Math.sin(f)*l/Math.sin(bM(Math.PI-c-f,.01,Math.PI-.01)),m=Math.min(d,g),b=(Math.cos(Math.PI/2-this._pitch)*m+l)*1.01,v=this.height/50;i=new Float64Array(16),aH.perspective(i,this._fov,this.width/this.height,v,b),i[8]=-(2*t.x)/this.width,i[9]=2*t.y/this.height,aH.scale(i,i,[1,-1,1]),aH.translate(i,i,[0,0,-this.cameraToCenterDistance]),aH.rotateX(i,i,this._pitch),aH.rotateZ(i,i,this.angle),aH.translate(i,i,[-n,-r,0]),this.mercatorMatrix=aH.scale([],i,[this.worldSize,this.worldSize,this.worldSize]),aH.scale(i,i,[1,1,this._pixelPerMeter]),this.pixelMatrix=aH.multiply(new Float64Array(16),this.labelPlaneMatrix,i),aH.translate(i,i,[0,0,-this.elevation]),this.projMatrix=i,this.invProjMatrix=aH.invert([],i),this.pixelMatrix3D=aH.multiply(new Float64Array(16),this.labelPlaneMatrix,i);let y=this.width%2/2,E=this.height%2/2,_=Math.cos(this.angle),x=Math.sin(this.angle),S=n-Math.round(n)+_*y+x*E,A=r-Math.round(r)+_*E+x*y,C=new Float64Array(i);if(aH.translate(C,C,[S>.5?S-1:S,A>.5?A-1:A,0]),this.alignedProjMatrix=C,!(i=aH.invert(new Float64Array(16),this.pixelMatrix)))throw Error("failed to invert matrix");this.pixelMatrixInverse=i,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;let e=this.pointCoordinate(new(bX())(0,0)),t=[e.x*this.worldSize,e.y*this.worldSize,0,1],n=aJ.fF(t,t,this.pixelMatrix);return n[3]/this.cameraToCenterDistance}getCameraPoint(){let e=this._pitch,t=Math.tan(e)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new(bX())(0,t))}getCameraQueryGeometry(e){let t=this.getCameraPoint();if(1===e.length)return[e[0],t];{let n=t.x,r=t.y,i=t.x,o=t.y;for(let t of e)n=Math.min(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.x),o=Math.max(o,t.y);return[new(bX())(n,r),new(bX())(i,r),new(bX())(i,o),new(bX())(n,o),new(bX())(n,r)]}}lngLatToCameraDepth(e,t){let n=this.locationCoordinate(e),r=[n.x*this.worldSize,n.y*this.worldSize,t,1];return aJ.fF(r,r,this.projMatrix),r[2]/r[3]}}class b9{static testProp(e){if(!b9.docStyle)return e[0];for(let t=0;t<e.length;t++)if(e[t]in b9.docStyle)return e[t];return e[0]}static create(e,t,n){let r=window.document.createElement(e);return void 0!==t&&(r.className=t),n&&n.appendChild(r),r}static createNS(e,t){let n=window.document.createElementNS(e,t);return n}static disableDrag(){b9.docStyle&&b9.selectProp&&(b9.userSelect=b9.docStyle[b9.selectProp],b9.docStyle[b9.selectProp]="none")}static enableDrag(){b9.docStyle&&b9.selectProp&&(b9.docStyle[b9.selectProp]=b9.userSelect)}static setTransform(e,t){e.style[b9.transformProp]=t}static addEventListener(e,t,n,r={}){"passive"in r?e.addEventListener(t,n,r):e.addEventListener(t,n,r.capture)}static removeEventListener(e,t,n,r={}){"passive"in r?e.removeEventListener(t,n,r):e.removeEventListener(t,n,r.capture)}static suppressClickInternal(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("click",b9.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",b9.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",b9.suppressClickInternal,!0)},0)}static getScale(e){let t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}static getPoint(e,t,n){let r=t.boundingClientRect;return new(bX())((n.clientX-r.left)/t.x-e.clientLeft,(n.clientY-r.top)/t.y-e.clientTop)}static mousePos(e,t){let n=b9.getScale(e);return b9.getPoint(e,n,t)}static touchPos(e,t){let n=[],r=b9.getScale(e);for(let i=0;i<t.length;i++)n.push(b9.getPoint(e,r,t[i]));return n}static mouseButton(e){return e.button}static remove(e){e.parentNode&&e.parentNode.removeChild(e)}}(0,ai.Z)(b9,"docStyle","undefined"!=typeof window&&window.document&&window.document.documentElement.style),(0,ai.Z)(b9,"userSelect",void 0),(0,ai.Z)(b9,"selectProp",b9.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"])),(0,ai.Z)(b9,"transformProp",b9.testProp(["transform","WebkitTransform"]));class ve{constructor(e){(0,ai.Z)(this,"_map",void 0),this._map=e}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(e){return this.transform.pointLocation(bX().convert(e))}}class vt{constructor(e,t){(0,ai.Z)(this,"_map",void 0),(0,ai.Z)(this,"_tr",void 0),(0,ai.Z)(this,"_el",void 0),(0,ai.Z)(this,"_container",void 0),(0,ai.Z)(this,"_enabled",void 0),(0,ai.Z)(this,"_active",void 0),(0,ai.Z)(this,"_startPos",void 0),(0,ai.Z)(this,"_lastPos",void 0),(0,ai.Z)(this,"_box",void 0),(0,ai.Z)(this,"_clickTolerance",void 0),this._map=e,this._tr=new ve(e),this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(b9.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active||this._lastPos.equals(t)||!this._box&&t.dist(this._startPos)<this._clickTolerance)return;let n=this._startPos;this._lastPos=t,this._box||(this._box=b9.create("div","l7-boxzoom",this._container),this._container.classList.add("l7-crosshair"),this._fireEvent("boxzoomstart",e));let r=Math.min(n.x,t.x),i=Math.max(n.x,t.x),o=Math.min(n.y,t.y),a=Math.max(n.y,t.y);b9.setTransform(this._box,`translate(${r}px,${o}px)`),this._box.style.width=`${i-r}px`,this._box.style.height=`${a-o}px`}mouseupWindow(e,t){if(!this._active||0!==e.button)return;let n=this._startPos;if(this.reset(),b9.suppressClick(),n.x!==t.x||n.y!==t.y)return this._map.fire(new b2("boxzoomend",{originalEvent:e})),{cameraAnimation:e=>e.fitScreenCoordinates(n,t,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",e)}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}reset(){this._active=!1,this._container.classList.remove("l7-crosshair"),this._box&&(b9.remove(this._box),this._box=null),b9.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(e,t){return this._map.fire(new b2(e,{originalEvent:t}))}}class vn{constructor(e){(0,ai.Z)(this,"_tr",void 0),(0,ai.Z)(this,"_enabled",void 0),(0,ai.Z)(this,"_active",void 0),this._tr=new ve(e),this.reset()}reset(){this._active=!1}dblclick(e,t){return e.preventDefault(),{cameraAnimation:n=>{n.easeTo({duration:300,zoom:this._tr.zoom+(e.shiftKey?-1:1),around:this._tr.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class vr{constructor(e,t){(0,ai.Z)(this,"_options",void 0),(0,ai.Z)(this,"_map",void 0),(0,ai.Z)(this,"_container",void 0),(0,ai.Z)(this,"_bypassKey",-1!==navigator.userAgent.indexOf("Mac")?"metaKey":"ctrlKey"),(0,ai.Z)(this,"_enabled",void 0),this._map=e,this._options=t,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;let e=this._map.getCanvasContainer();e.classList.add("l7-cooperative-gestures"),this._container=b9.create("div","l7-cooperative-gesture-screen",e);let t=document.createElement("div");t.className="l7-desktop-message",t.textContent="Missing UI string",this._container.appendChild(t);let n=document.createElement("div");n.className="l7-mobile-message",n.textContent="Missing UI string",this._container.appendChild(n),this._container.setAttribute("aria-hidden","true")}_destoryUI(){if(this._container){b9.remove(this._container);let e=this._map.getCanvasContainer();e.classList.remove("l7-cooperative-gestures")}delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destoryUI()}isEnabled(){return this._enabled}touchmove(e){this._onCooperativeGesture(1===e.touches.length)}wheel(e){this._map.scrollZoom.isEnabled()&&this._onCooperativeGesture(!e[this._bypassKey])}_onCooperativeGesture(e){this._enabled&&e&&(this._container.classList.add("l7-show"),setTimeout(()=>{this._container.classList.remove("l7-show")},100))}}let vi={panStep:100,bearingStep:15,pitchStep:10};class vo{constructor(e){(0,ai.Z)(this,"_tr",void 0),(0,ai.Z)(this,"_enabled",void 0),(0,ai.Z)(this,"_active",void 0),(0,ai.Z)(this,"_panStep",void 0),(0,ai.Z)(this,"_bearingStep",void 0),(0,ai.Z)(this,"_pitchStep",void 0),(0,ai.Z)(this,"_rotationDisabled",void 0),this._tr=new ve(e),this._panStep=vi.panStep,this._bearingStep=vi.bearingStep,this._pitchStep=vi.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,n=0,r=0,i=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),i=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),i=1);break;case 38:e.shiftKey?r=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?r=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(n=0,r=0),{cameraAnimation:a=>{let s=this._tr;a.easeTo({duration:300,easeId:"keyboardHandler",easing:va,zoom:t?Math.round(s.zoom)+t*(e.shiftKey?2:1):s.zoom,bearing:s.bearing+n*this._bearingStep,pitch:s.pitch+r*this._pitchStep,offset:[-i*this._panStep,-o*this._panStep],center:s.center},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function va(e){return e*(2-e)}class vs extends b2{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,n,r={}){super(e,r),(0,ai.Z)(this,"target",void 0),(0,ai.Z)(this,"originalEvent",void 0),(0,ai.Z)(this,"point",void 0),(0,ai.Z)(this,"lngLat",void 0),(0,ai.Z)(this,"_defaultPrevented",void 0);let i=b9.mousePos(t.getCanvasContainer(),n),o=t.unproject(i);this.point=i,this.lngLat=o,this.originalEvent=n,this._defaultPrevented=!1,this.target=t}}class vl extends b2{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,n){super(e),(0,ai.Z)(this,"target",void 0),(0,ai.Z)(this,"originalEvent",void 0),(0,ai.Z)(this,"lngLat",void 0),(0,ai.Z)(this,"point",void 0),(0,ai.Z)(this,"points",void 0),(0,ai.Z)(this,"lngLats",void 0),(0,ai.Z)(this,"_defaultPrevented",void 0);let r="touchend"===e?n.changedTouches:n.touches,i=b9.touchPos(t.getCanvasContainer(),r),o=i.map(e=>t.unproject(e)),a=i.reduce((e,t,n,r)=>e.add(t.div(r.length)),new(bX())(0,0)),s=t.unproject(a);this.target=t,this.points=i,this.point=a,this.lngLats=o,this.lngLat=s,this.originalEvent=n,this._defaultPrevented=!1}}class vc extends b2{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,n){super(e),(0,ai.Z)(this,"target",void 0),(0,ai.Z)(this,"originalEvent",void 0),(0,ai.Z)(this,"_defaultPrevented",void 0),this.target=t,this._defaultPrevented=!1,this.originalEvent=n}}class vu{constructor(e,t){(0,ai.Z)(this,"_mousedownPos",void 0),(0,ai.Z)(this,"_clickTolerance",void 0),(0,ai.Z)(this,"_map",void 0),this._map=e,this._clickTolerance=t.clickTolerance}reset(){delete this._mousedownPos}wheel(e){return this._firePreventable(new vc(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new vs(e.type,this._map,e))}mouseup(e){this._map.fire(new vs(e.type,this._map,e))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new vs(e.type,this._map,e))}dblclick(e){return this._firePreventable(new vs(e.type,this._map,e))}mouseover(e){this._map.fire(new vs(e.type,this._map,e))}mouseout(e){this._map.fire(new vs(e.type,this._map,e))}touchstart(e){return this._firePreventable(new vl(e.type,this._map,e))}touchmove(e){this._map.fire(new vl(e.type,this._map,e))}touchend(e){this._map.fire(new vl(e.type,this._map,e))}touchcancel(e){this._map.fire(new vl(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class vd{constructor(e){(0,ai.Z)(this,"_map",void 0),(0,ai.Z)(this,"_delayContextMenu",void 0),(0,ai.Z)(this,"_ignoreContextMenu",void 0),(0,ai.Z)(this,"_contextMenuEvent",void 0),this._map=e}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(e){this._map.fire(new vs(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new vs("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._ignoreContextMenu||this._map.fire(new vs(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class vp{constructor(e){(0,ai.Z)(this,"contextmenu",void 0),(0,ai.Z)(this,"mousedown",void 0),(0,ai.Z)(this,"mousemoveWindow",void 0),(0,ai.Z)(this,"mouseup",void 0),(0,ai.Z)(this,"touchstart",void 0),(0,ai.Z)(this,"touchmoveWindow",void 0),(0,ai.Z)(this,"touchend",void 0),(0,ai.Z)(this,"_clickTolerance",void 0),(0,ai.Z)(this,"_moveFunction",void 0),(0,ai.Z)(this,"_activateOnStart",void 0),(0,ai.Z)(this,"_active",void 0),(0,ai.Z)(this,"_enabled",void 0),(0,ai.Z)(this,"_moved",void 0),(0,ai.Z)(this,"_lastPoint",void 0),(0,ai.Z)(this,"_moveStateManager",void 0),this._enabled=!!e.enable,this._moveStateManager=e.moveStateManager,this._clickTolerance=e.clickTolerance||1,this._moveFunction=e.move,this._activateOnStart=!!e.activateOnStart,e.assignEvents(this),this.reset()}reset(e){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(e)}_move(...e){let t=this._moveFunction(...e);if(t.bearingDelta||t.pitchDelta||t.around||t.panDelta)return this._active=!0,t}dragStart(e,t){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(e)&&(this._moveStateManager.startMove(e),this._lastPoint=t.length?t[0]:t,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(e,t){if(!this.isEnabled())return;let n=this._lastPoint;if(!n)return;if(e.preventDefault(),!this._moveStateManager.isValidMoveEvent(e)){this.reset(e);return}let r=t.length?t[0]:t;if(!(!this._moved&&r.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=r,this._move(n,r)}dragEnd(e){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(e)&&(this._moved&&b9.suppressClick(),this.reset(e))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}let vh={0:1,2:2};class vf{constructor(e){(0,ai.Z)(this,"_eventButton",void 0),(0,ai.Z)(this,"_correctEvent",void 0),this._correctEvent=e.checkCorrectEvent}startMove(e){let t=b9.mouseButton(e);this._eventButton=t}endMove(e){delete this._eventButton}isValidStartEvent(e){return this._correctEvent(e)}isValidMoveEvent(e){return!function(e,t){let n=vh[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton)}isValidEndEvent(e){let t=b9.mouseButton(e);return t===this._eventButton}}let vg=e=>{e.mousedown=e.dragStart,e.mousemoveWindow=e.dragMove,e.mouseup=e.dragEnd,e.contextmenu=e=>{e.preventDefault()}},vm=({enable:e,clickTolerance:t})=>{let n=new vf({checkCorrectEvent:e=>0===b9.mouseButton(e)&&!e.ctrlKey});return new vp({clickTolerance:t,move:(e,t)=>({around:t,panDelta:t.sub(e)}),activateOnStart:!0,moveStateManager:n,enable:e,assignEvents:vg})},vb=({enable:e,clickTolerance:t,bearingDegreesPerPixelMoved:n=.8})=>{let r=new vf({checkCorrectEvent:e=>0===b9.mouseButton(e)&&e.ctrlKey||2===b9.mouseButton(e)});return new vp({clickTolerance:t,move:(e,t)=>({bearingDelta:(t.x-e.x)*n}),moveStateManager:r,enable:e,assignEvents:vg})},vv=({enable:e,clickTolerance:t,pitchDegreesPerPixelMoved:n=-.5})=>{let r=new vf({checkCorrectEvent:e=>0===b9.mouseButton(e)&&e.ctrlKey||2===b9.mouseButton(e)});return new vp({clickTolerance:t,move:(e,t)=>({pitchDelta:(t.y-e.y)*n}),moveStateManager:r,enable:e,assignEvents:vg})},vy=1/450;class vE{constructor(e,t){(0,ai.Z)(this,"_map",void 0),(0,ai.Z)(this,"_tr",void 0),(0,ai.Z)(this,"_enabled",void 0),(0,ai.Z)(this,"_active",void 0),(0,ai.Z)(this,"_zooming",void 0),(0,ai.Z)(this,"_aroundCenter",void 0),(0,ai.Z)(this,"_around",void 0),(0,ai.Z)(this,"_aroundPoint",void 0),(0,ai.Z)(this,"_type",void 0),(0,ai.Z)(this,"_lastValue",void 0),(0,ai.Z)(this,"_timeout",void 0),(0,ai.Z)(this,"_finishTimeout",void 0),(0,ai.Z)(this,"_lastWheelEvent",void 0),(0,ai.Z)(this,"_lastWheelEventTime",void 0),(0,ai.Z)(this,"_startZoom",void 0),(0,ai.Z)(this,"_targetZoom",void 0),(0,ai.Z)(this,"_delta",void 0),(0,ai.Z)(this,"_easing",void 0),(0,ai.Z)(this,"_prevEase",void 0),(0,ai.Z)(this,"_frameId",void 0),(0,ai.Z)(this,"_triggerRenderFrame",void 0),(0,ai.Z)(this,"_defaultZoomRate",void 0),(0,ai.Z)(this,"_wheelZoomRate",void 0),(0,ai.Z)(this,"_onTimeout",e=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}),this._map=e,this._tr=new ve(e),this._triggerRenderFrame=t,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=vy}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(e){if(!this.isEnabled()||this._map.cooperativeGestures.isEnabled()&&!e[this._map.cooperativeGestures._bypassKey])return;let t=e.deltaMode===WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,n=bJ.now(),r=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==t&&t%4.000244140625==0?this._type="wheel":0!==t&&4>Math.abs(t)?this._type="trackpad":r>400?(this._type=null,this._lastValue=t,this._timeout=setTimeout(this._onTimeout,40,e)):!this._type&&(this._type=200>Math.abs(r*t)?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,t+=this._lastValue)),e.shiftKey&&t&&(t/=4),this._type&&(this._lastWheelEvent=e,this._delta-=t,this._active||this._start(e)),e.preventDefault()}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);let t=b9.mousePos(this._map.getCanvasContainer(),e),n=this._tr;t.y>n.transform.height/2-n.transform.getHorizon()?this._around=bj.convert(this._aroundCenter?n.center:n.unproject(t)):this._around=bj.convert(n.center),this._aroundPoint=n.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){let e;if(!this._frameId||(this._frameId=null,!this.isActive()))return;let t=this._tr.transform;if(0!==this._delta){let e="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,n=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==n&&(n=1/n);let r="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):t.scale;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(r*n))),"wheel"===this._type&&(this._startZoom=t.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}let n="number"==typeof this._targetZoom?this._targetZoom:t.zoom,r=this._startZoom,i=this._easing,o=!1;if("wheel"===this._type&&r&&i){let t=Math.min((bJ.now()-this._lastWheelEventTime)/200,1),a=i(t);e=bN.number(r,n,a),t<1?this._frameId||(this._frameId=!0):o=!0}else e=n,o=!0;return this._active=!0,o&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!o,zoomDelta:e-t.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(e){let t=bU;if(this._prevEase){let e=this._prevEase,n=(bJ.now()-e.start)/e.duration,r=e.easing(n+.01)-e.easing(n),i=.27/Math.sqrt(r*r+1e-4)*.01,o=Math.sqrt(.0729-i*i);t=bB(i,o,.25,1)}return this._prevEase={start:bJ.now(),duration:e,easing:t},t}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class v_{constructor(e,t){(0,ai.Z)(this,"_clickZoom",void 0),(0,ai.Z)(this,"_tapZoom",void 0),this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class vT{constructor(e,t,n){(0,ai.Z)(this,"_el",void 0),(0,ai.Z)(this,"_mousePan",void 0),(0,ai.Z)(this,"_touchPan",void 0),(0,ai.Z)(this,"_inertiaOptions",void 0),this._el=e,this._mousePan=t,this._touchPan=n}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("l7-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("l7-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class vx{constructor(e,t,n){(0,ai.Z)(this,"_mouseRotate",void 0),(0,ai.Z)(this,"_mousePitch",void 0),(0,ai.Z)(this,"_pitchWithRotate",void 0),this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=n}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class vS{constructor(e,t,n,r){(0,ai.Z)(this,"_el",void 0),(0,ai.Z)(this,"_touchZoom",void 0),(0,ai.Z)(this,"_touchRotate",void 0),(0,ai.Z)(this,"_tapDragZoom",void 0),(0,ai.Z)(this,"_rotationDisabled",void 0),(0,ai.Z)(this,"_enabled",void 0),this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("l7-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("l7-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}function vA(e,t){if(e.length!==t.length)throw Error(`The number of touches and points are not equal - touches ${e.length}, points ${t.length}`);let n={};for(let r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}class vC{constructor(e){(0,ai.Z)(this,"numTouches",void 0),(0,ai.Z)(this,"centroid",void 0),(0,ai.Z)(this,"startTime",void 0),(0,ai.Z)(this,"aborted",void 0),(0,ai.Z)(this,"touches",void 0),this.reset(),this.numTouches=e.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(e,t,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),n.length===this.numTouches&&(this.centroid=function(e){let t=new(bX())(0,0);for(let n of e)t._add(n);return t.div(e.length)}(t),this.touches=vA(n,t)))}touchmove(e,t,n){if(this.aborted||!this.centroid)return;let r=vA(n,t);for(let e in this.touches){let t=this.touches[e],n=r[e];(!n||n.dist(t)>30)&&(this.aborted=!0)}}touchend(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){let e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class vw{constructor(e){(0,ai.Z)(this,"singleTap",void 0),(0,ai.Z)(this,"numTaps",void 0),(0,ai.Z)(this,"lastTime",void 0),(0,ai.Z)(this,"lastTap",void 0),(0,ai.Z)(this,"count",void 0),this.singleTap=new vC(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(e,t,n){this.singleTap.touchstart(e,t,n)}touchmove(e,t,n){this.singleTap.touchmove(e,t,n)}touchend(e,t,n){let r=this.singleTap.touchend(e,t,n);if(r){let t=e.timeStamp-this.lastTime<500,n=!this.lastTap||30>this.lastTap.dist(r);if(t&&n||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}}}class vO{constructor(){(0,ai.Z)(this,"_enabled",void 0),(0,ai.Z)(this,"_active",void 0),(0,ai.Z)(this,"_swipePoint",void 0),(0,ai.Z)(this,"_swipeTouch",void 0),(0,ai.Z)(this,"_tapTime",void 0),(0,ai.Z)(this,"_tapPoint",void 0),(0,ai.Z)(this,"_tap",void 0),this._tap=new vw({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(e,t,n){if(!this._swipePoint){if(this._tapTime){let r=t[0],i=e.timeStamp-this._tapTime<500,o=30>this._tapPoint.dist(r);i&&o?n.length>0&&(this._swipePoint=r,this._swipeTouch=n[0].identifier):this.reset()}else this._tap.touchstart(e,t,n)}}touchmove(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;let r=t[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,n)}touchend(e,t,n){if(this._tapTime)this._swipePoint&&0===n.length&&this.reset();else{let r=this._tap.touchend(e,t,n);r&&(this._tapTime=e.timeStamp,this._tapPoint=r)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class vI{constructor(e){(0,ai.Z)(this,"_tr",void 0),(0,ai.Z)(this,"_enabled",void 0),(0,ai.Z)(this,"_active",void 0),(0,ai.Z)(this,"_zoomIn",void 0),(0,ai.Z)(this,"_zoomOut",void 0),this._tr=new ve(e),this._zoomIn=new vw({numTouches:1,numTaps:2}),this._zoomOut=new vw({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)}touchmove(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)}touchend(e,t,n){let r=this._zoomIn.touchend(e,t,n),i=this._zoomOut.touchend(e,t,n),o=this._tr;return r?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:o.zoom+1,around:o.unproject(r)},{originalEvent:e})}):i?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:o.zoom-1,around:o.unproject(i)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class vL{constructor(e,t){(0,ai.Z)(this,"_enabled",void 0),(0,ai.Z)(this,"_active",void 0),(0,ai.Z)(this,"_touches",void 0),(0,ai.Z)(this,"_clickTolerance",void 0),(0,ai.Z)(this,"_sum",void 0),(0,ai.Z)(this,"_map",void 0),this._clickTolerance=e.clickTolerance||1,this._map=t,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new(bX())(0,0)}minTouchs(){return this._map.cooperativeGestures.isEnabled()?2:1}touchstart(e,t,n){return this._calculateTransform(e,t,n)}touchmove(e,t,n){if(!(!this._active||n.length<this.minTouchs()))return e.preventDefault(),this._calculateTransform(e,t,n)}touchend(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this.minTouchs()&&this.reset()}touchcancel(){this.reset()}_calculateTransform(e,t,n){n.length>0&&(this._active=!0);let r=vA(n,t),i=new(bX())(0,0),o=new(bX())(0,0),a=0;for(let e in r){let t=r[e],n=this._touches[e];n&&(i._add(t),o._add(t.sub(n)),a++,r[e]=t)}if(this._touches=r,a<this.minTouchs()||!o.mag())return;let s=o.div(a);if(this._sum._add(s),this._sum.mag()<this._clickTolerance)return;let l=i.div(a);return{around:l,panDelta:s}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class vR{constructor(){(0,ai.Z)(this,"_enabled",void 0),(0,ai.Z)(this,"_active",void 0),(0,ai.Z)(this,"_firstTwoTouches",void 0),(0,ai.Z)(this,"_vector",void 0),(0,ai.Z)(this,"_startVector",void 0),(0,ai.Z)(this,"_aroundCenter",void 0),this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,n){if(!this._firstTwoTouches)return;e.preventDefault();let[r,i]=this._firstTwoTouches,o=vk(n,t,r),a=vk(n,t,i);if(!o||!a)return;let s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,e)}touchend(e,t,n){if(!this._firstTwoTouches)return;let[r,i]=this._firstTwoTouches,o=vk(n,t,r),a=vk(n,t,i);o&&a||(this._active&&b9.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function vk(e,t,n){for(let r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}function vN(e,t){return Math.log(e/t)/Math.LN2}class vM extends vR{constructor(...e){super(...e),(0,ai.Z)(this,"_distance",void 0),(0,ai.Z)(this,"_startDistance",void 0)}reset(){super.reset(),delete this._distance,delete this._startDistance}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){let n=this._distance;if(this._distance=e[0].dist(e[1]),!(!this._active&&.1>Math.abs(vN(this._distance,this._startDistance))))return this._active=!0,{zoomDelta:vN(this._distance,n),pinchAround:t}}}function vD(e,t){return 180*e.angleWith(t)/Math.PI}class vP extends vR{constructor(...e){super(...e),(0,ai.Z)(this,"_minDiameter",void 0)}reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t,n){let r=this._vector;if(this._vector=e[0].sub(e[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:vD(this._vector,r),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());let t=Math.PI*this._minDiameter,n=vD(e,this._startVector);return Math.abs(n)<25/t*360}}function vF(e){return Math.abs(e.y)>Math.abs(e.x)}class vB extends vR{constructor(e){super(),(0,ai.Z)(this,"_valid",void 0),(0,ai.Z)(this,"_firstMove",void 0),(0,ai.Z)(this,"_lastPoints",void 0),(0,ai.Z)(this,"_map",void 0),(0,ai.Z)(this,"_currentTouchCount",0),this._map=e}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(e,t,n){super.touchstart(e,t,n),this._currentTouchCount=n.length}_start(e){this._lastPoints=e,vF(e[0].sub(e[1]))&&(this._valid=!1)}_move(e,t,n){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;let r=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),!this._valid)return;this._lastPoints=e,this._active=!0;let o=(r.y+i.y)/2;return{pitchDelta:-.5*o}}gestureBeginsVertically(e,t,n){if(void 0!==this._valid)return this._valid;let r=e.mag()>=2,i=t.mag()>=2;if(!r&&!i)return;if(!r||!i){if(void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100)return;return!1}let o=e.y>0==t.y>0;return vF(e)&&vF(t)&&o}}let vU={linearity:.3,easing:bB(0,0,.3,1)},vz=bF({deceleration:2500,maxSpeed:1400},vU),vZ=bF({deceleration:20,maxSpeed:1400},vU),vj=bF({deceleration:1e3,maxSpeed:360},vU),vH=bF({deceleration:1e3,maxSpeed:90},vU);class vG{constructor(e){(0,ai.Z)(this,"_map",void 0),(0,ai.Z)(this,"_inertiaBuffer",void 0),this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:bJ.now(),settings:e})}_drainInertiaBuffer(){let e=this._inertiaBuffer,t=bJ.now();for(;e.length>0&&t-e[0].time>160;)e.shift()}_onMoveEnd(e){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;let t={zoom:0,bearing:0,pitch:0,pan:new(bX())(0,0),pinchAround:void 0,around:void 0};for(let{settings:e}of this._inertiaBuffer)t.zoom+=e.zoomDelta||0,t.bearing+=e.bearingDelta||0,t.pitch+=e.pitchDelta||0,e.panDelta&&t.pan._add(e.panDelta),e.around&&(t.around=e.around),e.pinchAround&&(t.pinchAround=e.pinchAround);let n=this._inertiaBuffer[this._inertiaBuffer.length-1],r=n.time-this._inertiaBuffer[0].time,i={};if(t.pan.mag()){let n=v$(t.pan.mag(),r,bF({},vz,e||{}));i.offset=t.pan.mult(n.amount/t.pan.mag()),i.center=this._map.transform.center,vV(i,n)}if(t.zoom){let e=v$(t.zoom,r,vZ);i.zoom=this._map.transform.zoom+e.amount,vV(i,e)}if(t.bearing){let e=v$(t.bearing,r,vj);i.bearing=this._map.transform.bearing+bM(e.amount,-179,179),vV(i,e)}if(t.pitch){let e=v$(t.pitch,r,vH);i.pitch=this._map.transform.pitch+e.amount,vV(i,e)}if(i.zoom||i.bearing){let e=void 0===t.pinchAround?t.around:t.pinchAround;i.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),bF(i,{noMoveStart:!0})}}function vV(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function v$(e,t,n){let{maxSpeed:r,linearity:i,deceleration:o}=n,a=bM(e*i/(t/1e3),-r,r),s=Math.abs(a)/(o*i);return{easing:n.easing,duration:1e3*s,amount:a*(s/2)}}let vW=e=>e.zoom||e.drag||e.pitch||e.rotate;class vY extends b2{constructor(e,t){super(e),(0,ai.Z)(this,"type","renderFrame"),(0,ai.Z)(this,"timeStamp",void 0),this.timeStamp=t}}function vq(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class vX{constructor(e,t){(0,ai.Z)(this,"_map",void 0),(0,ai.Z)(this,"_el",void 0),(0,ai.Z)(this,"_handlers",void 0),(0,ai.Z)(this,"_eventsInProgress",void 0),(0,ai.Z)(this,"_frameId",void 0),(0,ai.Z)(this,"_inertia",void 0),(0,ai.Z)(this,"_bearingSnap",void 0),(0,ai.Z)(this,"_handlersById",void 0),(0,ai.Z)(this,"_updatingCamera",void 0),(0,ai.Z)(this,"_changes",void 0),(0,ai.Z)(this,"_zoom",void 0),(0,ai.Z)(this,"_previousActiveHandlers",void 0),(0,ai.Z)(this,"_listeners",void 0),(0,ai.Z)(this,"handleWindowEvent",e=>{this.handleEvent(e,`${e.type}Window`)}),(0,ai.Z)(this,"handleEvent",(e,t)=>{if("blur"===e.type){this.stop(!0);return}this._updatingCamera=!0;let n="renderFrame"===e.type?void 0:e,r={needsRenderFrame:!1},i={},o={},a=e.touches,s=a?this._getMapTouches(a):void 0,l=s?b9.touchPos(this._map.getCanvasContainer(),s):b9.mousePos(this._map.getCanvasContainer(),e);for(let{handlerName:a,handler:c,allowed:u}of this._handlers){let d;c.isEnabled()&&(this._blockedByActive(o,u,a)?c.reset():c[t||e.type]&&(d=c[t||e.type](e,l,s),this.mergeHandlerResult(r,i,d,a,n),d&&d.needsRenderFrame&&this._triggerRenderFrame()),(d||c.isActive())&&(o[a]=c))}let c={};for(let e in this._previousActiveHandlers)o[e]||(c[e]=n);this._previousActiveHandlers=o,(Object.keys(c).length||vq(r))&&(this._changes.push([r,i,c]),this._triggerRenderFrame()),(Object.keys(o).length||vq(r))&&this._map._stop(!0),this._updatingCamera=!1;let{cameraAnimation:u}=r;u&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],u(this._map))}),this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new vG(e),this._bearingSnap=t.bearingSnap||7,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(t);let n=this._el;for(let[e,t,r]of(this._listeners=[[n,"touchstart",{passive:!0}],[n,"touchmove",{passive:!1}],[n,"touchend",void 0],[n,"touchcancel",void 0],[n,"mousedown",void 0],[n,"mousemove",void 0],[n,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[n,"mouseover",void 0],[n,"mouseout",void 0],[n,"dblclick",void 0],[n,"click",void 0],[n,"keydown",{capture:!1}],[n,"keyup",void 0],[n,"wheel",{passive:!1}],[n,"contextmenu",void 0],[window,"blur",void 0]],this._listeners))b9.addEventListener(e,t,e===document?this.handleWindowEvent:this.handleEvent,r)}destroy(){for(let[e,t,n]of this._listeners)b9.removeEventListener(e,t,e===document?this.handleWindowEvent:this.handleEvent,n)}_addDefaultHandlers(e){let t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new vu(t,e));let r=t.boxZoom=new vt(t,e);this._add("boxZoom",r),e.interactive&&e.boxZoom&&r.enable();let i=t.cooperativeGestures=new vr(t,e.cooperativeGestures);this._add("cooperativeGestures",i),e.cooperativeGestures&&i.enable();let o=new vI(t),a=new vn(t);t.doubleClickZoom=new v_(a,o),this._add("tapZoom",o),this._add("clickZoom",a),e.interactive&&e.doubleClickZoom&&t.doubleClickZoom.enable();let s=new vO;this._add("tapDragZoom",s);let l=t.touchPitch=new vB(t);this._add("touchPitch",l),e.interactive&&e.touchPitch&&t.touchPitch.enable(e.touchPitch);let c=vb(e),u=vv(e);t.dragRotate=new vx(e,c,u),this._add("mouseRotate",c,["mousePitch"]),this._add("mousePitch",u,["mouseRotate"]),e.interactive&&e.dragRotate&&t.dragRotate.enable();let d=vm(e),p=new vL(e,t);t.dragPan=new vT(n,d,p),this._add("mousePan",d),this._add("touchPan",p,["touchZoom","touchRotate"]),e.interactive&&e.dragPan&&t.dragPan.enable(e.dragPan);let h=new vP,f=new vM;t.touchZoomRotate=new vS(n,f,h,s),this._add("touchRotate",h,["touchPan","touchZoom"]),this._add("touchZoom",f,["touchPan","touchRotate"]),e.interactive&&e.touchZoomRotate&&t.touchZoomRotate.enable(e.touchZoomRotate);let g=t.scrollZoom=new vE(t,()=>this._triggerRenderFrame());this._add("scrollZoom",g,["mousePan"]),e.interactive&&e.scrollZoom&&t.scrollZoom.enable(e.scrollZoom);let m=t.keyboard=new vo(t);this._add("keyboard",m),e.interactive&&e.keyboard&&t.keyboard.enable(),this._add("blockableMapEvent",new vd(t))}_add(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(let{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(let{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!vW(this._eventsInProgress)||this.isZooming()}_blockedByActive(e,t,n){for(let r in e)if(r!==n&&(!t||0>t.indexOf(r)))return!0;return!1}_getMapTouches(e){let t=[];for(let n of e){let e=n.target;this._el.contains(e)&&t.push(n)}return t}mergeHandlerResult(e,t,n,r,i){if(!n)return;bF(e,n);let o={handlerName:r,originalEvent:n.originalEvent||i};void 0!==n.zoomDelta&&(t.zoom=o),void 0!==n.panDelta&&(t.drag=o),void 0!==n.pitchDelta&&(t.pitch=o),void 0!==n.bearingDelta&&(t.rotate=o)}_applyChanges(){let e={},t={},n={};for(let[r,i,o]of this._changes)r.panDelta&&(e.panDelta=(e.panDelta||new(bX())(0,0))._add(r.panDelta)),r.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(e.around=r.around),void 0!==r.pinchAround&&(e.pinchAround=r.pinchAround),r.noInertia&&(e.noInertia=r.noInertia),bF(t,i),bF(n,o);this._updateMapTransform(e,t,n),this._changes=[]}_updateMapTransform(e,t,n){let r=this._map,i=r._getTransformForUpdate();if(!vq(e))return this._fireEvents(t,n,!0);let{panDelta:o,zoomDelta:a,bearingDelta:s,pitchDelta:l,pinchAround:c}=e,{around:u}=e;void 0!==c&&(u=c),r._stop(!0),u=u||r.transform.centerPoint;let d=i.pointLocation(o?u.sub(o):u);s&&(i.bearing+=s),l&&(i.pitch+=l),a&&(i.zoom+=a),i.setLocationAtPoint(d,u),r._applyUpdatedTransform(i),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,n,!0)}_fireEvents(e,t,n){let r;let i=vW(this._eventsInProgress),o=vW(e),a={};for(let t in e){let{originalEvent:n}=e[t];this._eventsInProgress[t]||(a[`${t}start`]=n),this._eventsInProgress[t]=e[t]}for(let e in!i&&o&&this._fireEvent("movestart",o.originalEvent),a)this._fireEvent(e,a[e]);for(let t in o&&this._fireEvent("move",o.originalEvent),e){let{originalEvent:n}=e[t];this._fireEvent(t,n)}let s={};for(let e in this._eventsInProgress){let{handlerName:n,originalEvent:i}=this._eventsInProgress[e];this._handlersById[n].isActive()||(delete this._eventsInProgress[e],r=t[n]||i,s[`${e}end`]=r)}for(let e in s)this._fireEvent(e,s[e]);let l=vW(this._eventsInProgress);if(n&&(i||o)&&!l){var c,u;this._updatingCamera=!0;let e=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions);e&&(e.essential||!bJ.prefersReducedMotion)?(0!==(c=e.bearing||this._map.getBearing())&&-this._bearingSnap<c&&c<this._bearingSnap&&(e.bearing=0),e.freezeElevation=!0,this._map.easeTo(e,{originalEvent:r})):(this._map.fire(new b2("moveend",{originalEvent:r})),0!==(u=this._map.getBearing())&&-this._bearingSnap<u&&u<this._bearingSnap&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(e,t){this._map.fire(new b2(e,t?{originalEvent:t}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(e=>{delete this._frameId,this.handleEvent(new vY("renderFrame",e)),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class vK{constructor(){(0,ai.Z)(this,"_queue",void 0),(0,ai.Z)(this,"_id",void 0),(0,ai.Z)(this,"_cleared",void 0),(0,ai.Z)(this,"_currentlyRunning",void 0),this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){let t=++this._id,n=this._queue;return n.push({callback:e,id:t,cancelled:!1}),t}remove(e){let t=this._currentlyRunning,n=t?this._queue.concat(t):this._queue;for(let t of n)if(t.id===e){t.cancelled=!0;return}}run(e=0){if(this._currentlyRunning)throw Error("Attempting to run(), but is already running.");let t=this._currentlyRunning=this._queue;for(let n of(this._queue=[],t))if(!n.cancelled&&(n.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}!function(e,t){var n="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,r="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram);if(!n&&!r&&(t||(t=document),t)){var i=t.head||t.getElementsByTagName("head")[0];if(!i){i=t.createElement("head");var o=t.body||t.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):t.documentElement.appendChild(i)}var a=t.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),i.appendChild(a)}}(`.l7-map {
  font:
    12px/20px 'Helvetica Neue',
    Arial,
    Helvetica,
    sans-serif;
  overflow: hidden;
  position: relative;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.l7-canvas {
  position: absolute;
  left: 0;
  top: 0;
}

.l7-map:-webkit-full-screen {
  width: 100%;
  height: 100%;
}

.l7-canary {
  background-color: salmon;
}

.l7-canvas-container.l7-interactive,
.l7-ctrl-group button.l7-ctrl-compass {
  cursor: grab;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}

.l7-canvas-container.l7-interactive.l7-track-pointer {
  cursor: pointer;
}

.l7-canvas-container.l7-interactive:active,
.l7-ctrl-group button.l7-ctrl-compass:active {
  cursor: grabbing;
}

.l7-canvas-container.l7-touch-zoom-rotate,
.l7-canvas-container.l7-touch-zoom-rotate .l7-canvas {
  touch-action: pan-x pan-y;
}

.l7-canvas-container.l7-touch-drag-pan,
.l7-canvas-container.l7-touch-drag-pan .l7-canvas {
  touch-action: pinch-zoom;
}

.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan,
.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan .l7-canvas {
  touch-action: none;
}

.l7-canvas-container.l7-touch-drag-pan.l7-cooperative-gestures,
.l7-canvas-container.l7-touch-drag-pan.l7-cooperative-gestures .l7-canvas {
  touch-action: pan-x pan-y;
}

.l7-cooperative-gesture-screen {
  background: rgba(0 0 0 / 40%);
  position: absolute;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  padding: 1rem;
  font-size: 1.4em;
  line-height: 1.2;
  opacity: 0;
  pointer-events: none;
  transition: opacity 1s ease 1s;
  z-index: 99999;
}

.l7-cooperative-gesture-screen.l7-show {
  opacity: 1;
  transition: opacity 0.05s;
}

.l7-cooperative-gesture-screen .l7-mobile-message {
  display: none;
}

@media (hover: none), (width <= 480px) {
  .l7-cooperative-gesture-screen .l7-desktop-message {
    display: none;
  }

  .l7-cooperative-gesture-screen .l7-mobile-message {
    display: block;
  }
}

.l7-ctrl-top-left,
.l7-ctrl-top-right,
.l7-ctrl-bottom-left,
.l7-ctrl-bottom-right {
  position: absolute;
  pointer-events: none;
  z-index: 2;
}
.l7-ctrl-top-left {
  top: 0;
  left: 0;
}
.l7-ctrl-top-right {
  top: 0;
  right: 0;
}
.l7-ctrl-bottom-left {
  bottom: 0;
  left: 0;
}
.l7-ctrl-bottom-right {
  right: 0;
  bottom: 0;
}

.l7-ctrl {
  clear: both;
  pointer-events: auto;

  /* workaround for a Safari bug https://github.com/mapbox/mapbox-gl-js/issues/8185 */
  -webkit-transform: translate(0, 0);
          transform: translate(0, 0);
}
.l7-ctrl-top-left .l7-ctrl {
  margin: 10px 0 0 10px;
  float: left;
}
.l7-ctrl-top-right .l7-ctrl {
  margin: 10px 10px 0 0;
  float: right;
}
.l7-ctrl-bottom-left .l7-ctrl {
  margin: 0 0 10px 10px;
  float: left;
}
.l7-ctrl-bottom-right .l7-ctrl {
  margin: 0 10px 10px 0;
  float: right;
}

.l7-crosshair,
.l7-crosshair .l7-interactive,
.l7-crosshair .l7-interactive:active {
  cursor: crosshair;
}

.l7-boxzoom {
  position: absolute;
  top: 0;
  left: 0;
  width: 0;
  height: 0;
  background: #fff;
  border: 2px dotted #202020;
  opacity: 0.5;
  z-index: 10;
}
`);let vQ={interactive:!0,bearingSnap:7,scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],zoom:0,bearing:0,pitch:0,renderWorldCopies:!0,fadeDuration:300,clickTolerance:3,pitchWithRotate:!0};class vJ extends b4{constructor(e){let t=(0,ar.Z)((0,ar.Z)({},vQ),e);if(null!=t.minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw Error("maxPitch must be less than or equal to 85");let n=new b8(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies);if(super(n,{bearingSnap:t.bearingSnap}),(0,ai.Z)(this,"_container",void 0),(0,ai.Z)(this,"_canvasContainer",void 0),(0,ai.Z)(this,"_interactive",void 0),(0,ai.Z)(this,"_frameRequest",void 0),(0,ai.Z)(this,"_loaded",void 0),(0,ai.Z)(this,"_idleTriggered",!1),(0,ai.Z)(this,"_fullyLoaded",void 0),(0,ai.Z)(this,"_trackResize",void 0),(0,ai.Z)(this,"_resizeObserver",void 0),(0,ai.Z)(this,"_preserveDrawingBuffer",void 0),(0,ai.Z)(this,"_failIfMajorPerformanceCaveat",void 0),(0,ai.Z)(this,"_fadeDuration",void 0),(0,ai.Z)(this,"_crossSourceCollisions",void 0),(0,ai.Z)(this,"_crossFadingFactor",1),(0,ai.Z)(this,"_collectResourceTiming",void 0),(0,ai.Z)(this,"_renderTaskQueue",new vK),(0,ai.Z)(this,"_mapId",bP++),(0,ai.Z)(this,"_removed",void 0),(0,ai.Z)(this,"_clickTolerance",void 0),(0,ai.Z)(this,"scrollZoom",void 0),(0,ai.Z)(this,"boxZoom",void 0),(0,ai.Z)(this,"dragRotate",void 0),(0,ai.Z)(this,"dragPan",void 0),(0,ai.Z)(this,"keyboard",void 0),(0,ai.Z)(this,"doubleClickZoom",void 0),(0,ai.Z)(this,"touchZoomRotate",void 0),(0,ai.Z)(this,"touchPitch",void 0),(0,ai.Z)(this,"cooperativeGestures",void 0),(0,ai.Z)(this,"_onMapScroll",e=>{if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}),this._interactive=t.interactive,this._trackResize=!0===t.trackResize,this._bearingSnap=t.bearingSnap,this._fadeDuration=t.fadeDuration,this._clickTolerance=t.clickTolerance,"string"==typeof t.container){if(this._container=document.getElementById(t.container),!this._container)throw Error(`Container '${t.container}' not found.`)}else if(t.container instanceof HTMLElement)this._container=t.container;else throw Error("Invalid type: 'container' must be a String or HTMLElement.");if(t.maxBounds&&this.setMaxBounds(t.maxBounds),this._setupContainer(),this.on("move",()=>this._update()).on("moveend",()=>this._update()).on("zoom",()=>this._update()).once("idle",()=>{this._idleTriggered=!0}),"undefined"!=typeof window){let e=!1,t=nu.throttle(e=>{this._trackResize&&!this._removed&&this.resize(e)._update()},50);this._resizeObserver=new ResizeObserver(n=>{if(!e){e=!0;return}t(n)}),this._resizeObserver.observe(this._container)}this.handlers=new vX(this,t),this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,bF({},t.fitBoundsOptions,{duration:0}))),this.resize()}_getMapId(){return this._mapId}calculateCameraOptionsFromTo(e,t,n,r){return super.calculateCameraOptionsFromTo(e,t,n,r)}resize(e){var t;let n=this._containerDimensions(),r=n[0],i=n[1];this.transform.resize(r,i),null===(t=this._requestedCameraState)||void 0===t||t.resize(r,i);let o=!this._moving;return o&&(this.stop(),this.fire(new b2("movestart",e)).fire(new b2("move",e))),this.fire(new b2("resize",e)),o&&this.fire(new b2("moveend",e)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(e){return this.transform.setMaxBounds(e&&bK.convert(e)),this._update()}setMinZoom(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this.getZoom()>e&&this.setZoom(e),this;throw Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(e){if((e=null==e?0:e)<0)throw Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this.getPitch()<e&&this.setPitch(e),this;throw Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(e){if((e=null==e?60:e)>85)throw Error("maxPitch must be less than or equal to 85");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this.getPitch()>e&&this.setPitch(e),this;throw Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){this.transform.renderWorldCopies=e}project(e){return this.transform.locationPoint(bj.convert(e))}unproject(e){return this.transform.pointLocation(bX().convert(e))}isMoving(){var e;return this._moving||(null===(e=this.handlers)||void 0===e?void 0:e.isMoving())}isZooming(){var e;return this._zooming||(null===(e=this.handlers)||void 0===e?void 0:e.isZooming())}isRotating(){var e;return this._rotating||(null===(e=this.handlers)||void 0===e?void 0:e.isRotating())}on(e,t){return super.on(e,t)}once(e,t){return super.once(e,t)}off(e,t){return super.off(e,t)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}_containerDimensions(){let e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]}_setupContainer(){let e=this._container;e.classList.add("l7-map");let t=this._canvasContainer=b9.create("div","l7-canvas-container",e);this._interactive&&t.classList.add("l7-interactive"),this._container.addEventListener("scroll",this._onMapScroll,!1)}_update(){return this.triggerRepaint(),this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_render(e){if(this._renderTaskQueue.run(e),!this._removed)return this.fire(new b2("render")),this.isMoving()||this.fire(new b2("idle")),this}remove(){var e;this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.handlers.destroy(),delete this.handlers,null===(e=this._resizeObserver)||void 0===e||e.disconnect(),b9.remove(this._canvasContainer),this._container.classList.remove("l7-map"),this._removed=!0,this.fire(new b2("remove"))}triggerRepaint(){this._frameRequest||(this._frameRequest=new AbortController,bJ.frameAsync(this._frameRequest).then(e=>{this._frameRequest=null,this._render(e)}).catch(()=>{}))}getCameraTargetElevation(){return this.transform.elevation}}class v0{constructor(){(0,ai.Z)(this,"xzReg",-(.6*Math.PI)),(0,ai.Z)(this,"yReg",.2*Math.PI),(0,ai.Z)(this,"earthCameraRadius",200),(0,ai.Z)(this,"earthCameraZoom",1),(0,ai.Z)(this,"cameraPosition",fI.Ue()),(0,ai.Z)(this,"viewport",void 0),(0,ai.Z)(this,"projectionMatrix",aH.create()),(0,ai.Z)(this,"modelMatrix",aH.create()),(0,ai.Z)(this,"viewMatrix",aH.create()),(0,ai.Z)(this,"viewProjectionMatrix",aH.create()),(0,ai.Z)(this,"ViewProjectionMatrixUncentered",aH.create()),(0,ai.Z)(this,"viewUncenteredMatrix",aH.create())}syncWithMapCamera(e){let{viewportHeight:t=1,viewportWidth:n=1}=e;aH.perspective(this.projectionMatrix,20,n/t,.1,1e4);let r=this.earthCameraRadius*Math.cos(this.xzReg),i=this.earthCameraRadius*Math.sin(this.xzReg),o=this.earthCameraRadius*Math.sin(this.yReg);this.cameraPosition=fI.al(r,o,i),fI.Fv(this.cameraPosition,this.cameraPosition),fI.Jp(this.cameraPosition,this.cameraPosition,fI.al(this.earthCameraRadius,this.earthCameraRadius,this.earthCameraRadius)),fI.bA(this.cameraPosition,this.cameraPosition,this.earthCameraZoom);let a=fI.Ue();fI.kC(a,this.cameraPosition,fI.al(0,1,0));let s=fI.al(0,1,0);fI.kC(s,a,this.cameraPosition);let l=fI.al(0,0,0);aH.lookAt(this.viewMatrix,this.cameraPosition,l,s),this.viewUncenteredMatrix=aH.clone(this.viewMatrix),aH.multiply(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),aH.multiply(this.ViewProjectionMatrixUncentered,this.projectionMatrix,this.viewMatrix)}rotateY(e){this.xzReg+=e*Math.min(this.earthCameraZoom*this.earthCameraZoom,1)}rotateX(e){this.yReg+=e*Math.min(this.earthCameraZoom*this.earthCameraZoom,1)}scaleZoom(e){this.earthCameraZoom+=e,this.earthCameraZoom=Math.max(this.earthCameraZoom,.6)}getZoom(){return 4}getZoomScale(){return Math.pow(2,this.getZoom())}getCenter(){return[0,0]}getProjectionMatrix(){return this.projectionMatrix}getModelMatrix(){return this.modelMatrix}getViewMatrix(){return this.viewMatrix}getViewMatrixUncentered(){return this.viewMatrix}getViewProjectionMatrix(){return this.viewProjectionMatrix}getViewProjectionMatrixUncentered(){return this.viewProjectionMatrix}getFocalDistance(){return 1}projectFlat(e,t){return this.viewport.projectFlat(e,t)}}let v1=["id","style","rotation"],v2={mapmove:"move",camerachange:"move",zoomchange:"zoom",dragging:"drag"};class v3 extends by{constructor(...e){super(...e),(0,ai.Z)(this,"version","GLOBEL"),(0,ai.Z)(this,"dragging",!1),(0,ai.Z)(this,"viewport",void 0),(0,ai.Z)(this,"handleCameraChanging",void 0),(0,ai.Z)(this,"handleCameraTimer",void 0),(0,ai.Z)(this,"handleCameraChanged",e=>{this.emit("mapchange"),this.handleCameraChanging=!0,this.handleCameraTimer&&clearTimeout(this.handleCameraTimer),this.handleCameraTimer=setTimeout(()=>{this.handleCameraChanging=!1},2e3),e.type&&e.originalEvent&&("wheel"===e.originalEvent.type&&this.viewport.scaleZoom(-(.01*Math.sign(e.originalEvent.wheelDelta)*1)),Math.abs(e.originalEvent.movementX)>Math.abs(e.originalEvent.movementY)?e.originalEvent.movementX>0?this.viewport.rotateY(.02):e.originalEvent.movementX<0&&this.viewport.rotateY(-.02):e.originalEvent.movementY>0?this.viewport.rotateX(.02):e.originalEvent.movementY<0&&this.viewport.rotateX(-.02));let{offsetCoordinate:t=!0}=this.config;this.viewport.syncWithMapCamera({viewportHeight:this.map.transform.height,viewportWidth:this.map.transform.width}),this.viewport.getZoom()>12&&t?this.coordinateSystemService.setCoordinateSystem(a_.LNGLAT_OFFSET):this.coordinateSystemService.setCoordinateSystem(a_.LNGLAT),this.cameraChangedCallback(this.viewport)})}lngLatToMercator(e,t){throw Error("Method not implemented.")}getModelMatrix(e,t,n,r,i){throw Error("Method not implemented.")}on(e,t){-1!==ak.indexOf(e)?this.eventEmitter.on(e,t):this.map.on(v2[e]||e,t)}off(e,t){this.map.off(v2[e]||e,t),this.eventEmitter.off(e,t)}getMapCanvasContainer(){return this.map.getCanvasContainer()}getSize(){let e=this.map.transform;return[e.width,e.height]}getType(){return"earth"}init(){var e=this;return(0,aZ.Z)(function*(){let t=e.config,{id:n="map",style:r="light",rotation:i=0}=t,o=(0,so.Z)(t,v1);e.viewport=new v0,e.$mapContainer=e.creatMapContainer(n),e.map=new vJ((0,ar.Z)({container:e.$mapContainer,bearing:i},o)),e.map.on("load",e.handleCameraChanged),e.map.on("move",e.handleCameraChanged),e.handleCameraChanged({})})()}destroy(){var e;null===(e=this.$mapContainer)||void 0===e||null===(e=e.parentNode)||void 0===e||e.removeChild(this.$mapContainer),this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}emit(e,...t){this.eventEmitter.emit(e,...t)}once(e,...t){this.eventEmitter.once(e,...t)}getMapContainer(){return this.$mapContainer}getCanvasOverlays(){}onCameraChanged(e){this.cameraChangedCallback=e}rotateY(e){let{force:t=!1,reg:n=.01}=e||{};(!this.handleCameraChanging||t)&&this.viewport&&(this.viewport.rotateY(n),this.viewport.syncWithMapCamera({viewportHeight:this.map.transform.height,viewportWidth:this.map.transform.width}),this.cameraChangedCallback(this.viewport))}}class v5 extends mW{getServiceConstructor(){return v3}}if(!window)throw Error("Google Map JSAPI can only be used in Browser.");var v4=((V=v4||{}).notload="notload",V.loading="loading",V.loaded="loaded",V.failed="failed",V);let v6={key:""},v7={GMap:v4.notload},v8=[],v9=e=>{if("function"==typeof e){if(v7.GMap===v4.loaded){e(window.google.maps.Map);return}v8.push(e)}};var ye={load:e=>new Promise((t,n)=>{if(v7.GMap===v4.failed)n("");else if(v7.GMap===v4.notload){let{key:r}=e;if(!r){n("请填写key");return}v6.key=r,v7.GMap=v4.loading,window.initMap=e=>{if(delete window.initMap,e)v7.GMap=v4.failed,n(e);else for(v7.GMap=v4.loaded;v8.length;)v8.splice(0,1)[0](window.google.maps.Map)};let i=document.createElement("script");i.type="text/javascript",i.async=!1,i.src=`https://maps.googleapis.com/maps/api/js?key=${v6.key}&callback=initMap`,i.onerror=e=>{v7.GMap=v4.failed,n(e)};let o=document.body||document.head;o.appendChild(i),v9(t)}else if(v7.GMap===v4.loaded){if(e.key&&e.key!==v6.key){n("多个不一致的 key");return}v9(t)}}),reset:()=>{delete window.google,v7={GMap:v4.notload}}};let yt=["id","mapInstance","center","token","minZoom","maxZoom","logoVisible"];!function(e,t){var n="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,r="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram);if(!n&&!r&&(t||(t=document),t)){var i=t.head||t.getElementsByTagName("head")[0];if(!i){i=t.createElement("head");var o=t.body||t.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):t.documentElement.appendChild(i)}var a=t.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),i.appendChild(a)}}(`img[src*='//mapapi.qq.com/web/jsapi/logo/logo_def.png'],.logo-text
{
  display: none !important;
}
`);let yn={mapmove:"center_changed",camerachange:["drag","pan","rotate","tilt","zoom_changed"],zoomchange:"zoom_changed",dragging:"drag"};class yr extends by{constructor(...e){super(...e),(0,ai.Z)(this,"viewport",null),(0,ai.Z)(this,"evtCbProxyMap",new Map),(0,ai.Z)(this,"handleCameraChanged",()=>{this.emit("mapchange");let e=this.map,{lng:t,lat:n}=e.getCenter(),r={center:[t(),n()],viewportHeight:e.getDiv().clientHeight,viewportWidth:e.getDiv().clientWidth,bearing:e.getHeading(),pitch:e.getTilt(),zoom:e.getZoom()-1};this.viewport.syncWithMapCamera(r),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport)})}init(){var e=this;return(0,aZ.Z)(function*(){var t;e.viewport=new bl;let n=e.config,{id:r,mapInstance:i,center:o=[121.30654632240122,31.25744185633306],token:a="AIzaSyDBDCfl4pvuDtaazdCog3LmhA7CQLhmcRE",minZoom:s=3,maxZoom:l=18,logoVisible:c=!0}=n,u=(0,so.Z)(n,yt);if(null!==(t=window.google)&&void 0!==t&&null!==(t=t.maps)&&void 0!==t&&t.Map||i||(yield ye.load({key:a})),i)e.map=i,e.$mapContainer=e.map.getDiv(),!1===c&&e.hideLogo();else{if(!r)throw Error("No container id specified");let t=np(r),n=new google.maps.Map(t,(0,ar.Z)({maxZoom:l,minZoom:s,zoomControl:!1,fullscreenControl:!1,center:new google.maps.LatLng(o[1],o[0])},u));e.map=n,e.$mapContainer=n.getDiv(),!1===c&&e.hideLogo()}google.maps.event.addListener(e.map,"drag",e.handleCameraChanged),google.maps.event.addListener(e.map,"pan",e.handleCameraChanged),google.maps.event.addListener(e.map,"rotate",e.handleCameraChanged),google.maps.event.addListener(e.map,"idle",e.handleCameraChanged),google.maps.event.addListener(e.map,"zoom_changed",e.handleCameraChanged),e.handleCameraChanged()})()}destroy(){this.map.setMap(null)}onCameraChanged(e){this.cameraChangedCallback=e}addMarkerContainer(){}getMarkerContainer(){return this.markerContainer}getCanvasOverlays(){return this.map.getDiv()}on(e,t){if(-1!==ak.indexOf(e))this.eventEmitter.on(e,t);else{let n=e=>{let n=this.evtCbProxyMap.get(e);if(n||this.evtCbProxyMap.set(e,n=new Map),n.get(t))return;let r=(...e)=>{!e[0]||"object"!=typeof e[0]||e[0].lngLat||e[0].lnglat||(e[0].lngLat=e[0].latlng||e[0].latLng),t(...e)};n.set(t,r),this.map.on(e,r)};Array.isArray(yn[e])?yn[e].forEach(t=>{n(t||e)}):n(yn[e]||e)}}off(e,t){if(-1!==ak.indexOf(e)){this.eventEmitter.off(e,t);return}let n=n=>{var r,i;let o=null===(r=this.evtCbProxyMap.get(e))||void 0===r?void 0:r.get(t);o&&(null===(i=this.evtCbProxyMap.get(n))||void 0===i||i.delete(t),this.map.off(n,o))};Array.isArray(yn[e])?yn[e].forEach(t=>{n(t||e)}):n(yn[e]||e)}once(){throw Error("Method not implemented.")}getContainer(){return this.map.getDiv()}getSize(){return[this.map.width,this.map.height]}getMinZoom(){return this.map.transform._minZoom}getMaxZoom(){return this.map.transform._maxZoom}getType(){return"googlemap"}getZoom(){return this.map.getZoom()}getCenter(){let{lng:e,lat:t}=this.map.getCenter();return{lng:e(),lat:t()}}getPitch(){return this.map.getTilt()}getRotation(){let e=this.map.getHeading();return e}getBounds(){let e=this.map.getBounds(),t=null==e?void 0:e.getNorthEast(),n=null==e?void 0:e.getSouthWest();return[[n.lng(),n.lat()],[t.lng(),t.lat()]]}getMapContainer(){return this.map.getDiv()}getMapCanvasContainer(){var e;return null===(e=this.map.getDiv())||void 0===e?void 0:e.getElementsByTagName("canvas")[0]}getMapStyleConfig(){throw Error("Method not implemented.")}setBgColor(e){this.bgColor=e}setMapStyle(e){this.map.setMapStyleId(e)}setRotation(e){this.map.setHeading(e)}zoomIn(){let e=this.map.getZoom();this.map.setZoom(e+1)}zoomOut(){let e=this.map.getZoom();this.map.setZoom(e-1)}panTo([e,t]){this.map.panTo({lat:t,lng:e})}panBy(e,t){this.map.panBy(e,t)}fitBounds(e,t){let[n,r]=e,i=new google.maps.LatLngBounds({lat:n[1],lng:n[0]},{lat:r[1],lng:r[0]});this.map.fitBounds(i,t)}setZoomAndCenter(e,[t,n]){this.map.setZoom(e),this.map.setCenter({lat:n,lng:t})}setCenter([e,t]){this.map.setCenter({lat:t,lng:e})}setPitch(e){this.map.setTilt(e)}setZoom(e){this.map.setZoom(e)}setMapStatus(e){Object.keys(e).map(t=>{switch(t){case"doubleClickZoom":this.map.setOptions({gestureHandling:e.doubleClickZoom?"auto":"none"});break;case"dragEnable":this.map.setOptions({draggable:e.dragEnable});break;case"rotateEnable":break;case"zoomEnable":this.map.setOptions({zoomControl:e.zoomEnable});break;case"keyboardEnable":case"resizeEnable":case"showIndoorMap":throw Error("Options may not be supported")}})}meterToCoord([e,t],[n,r]){let i=google.maps.geometry.spherical.computeDistanceBetween([new google.maps.LatLng(t,e),new google.maps.LatLng(r,n)]),[o,a]=this.lngLatToCoord([e,t]),[s,l]=this.lngLatToCoord([n,r]),c=Math.sqrt(Math.pow(o-s,2)+Math.pow(a-l,2));return c/i}pixelToLngLat([e,t]){let{lng:n,lat:r}=this.map.getCenter(),{x:i,y:o}=this.lngLatToPixel([n(),r()]),{x:a,y:s}=this.lngLatToContainer([n(),r()]),{lng:l,lat:c}=this.map.unprojectFromContainer(new google.maps.Point(a+(e-i),s+(t-o)));return this.containerToLngLat([l,c])}lngLatToPixel([e,t]){let n=new google.maps.LatLng(t,e),r=this.map.getProjection().fromLatLngToPoint(n);return{x:r.x,y:r.y}}containerToLngLat([e,t]){var n;let r=new google.maps.Point(e,t),i=null===(n=this.map.getProjection())||void 0===n?void 0:n.fromPointToLatLng(r);return{lng:i.lng(),lat:i.lat()}}lngLatToContainer([e,t]){var n,r;let i=new google.maps.LatLng(t,e),o=null===(n=this.map.getProjection())||void 0===n||null===(r=n.fromLatLngToContainerPixel)||void 0===r?void 0:r.call(n,i);return{x:o.x,y:o.y}}lngLatToCoord([e,t]){let{x:n,y:r}=this.lngLatToPixel([e,t]);return[n,-r]}lngLatToCoords(e){return e.map(e=>Array.isArray(e[0])?this.lngLatToCoords(e):this.lngLatToCoord(e))}lngLatToMercator(e,t){let{x:n=0,y:r=0,z:i=0}=bY.fromLngLat(e,t);return{x:n,y:r,z:i}}getModelMatrix(e,t,n,r=[1,1,1]){let i=this.viewport.projectFlat(e),o=aH.create();return aH.translate(o,o,fI.al(i[0],i[1],t)),aH.scale(o,o,fI.al(r[0],r[1],r[2])),aH.rotateX(o,o,n[0]),aH.rotateY(o,o,n[1]),aH.rotateZ(o,o,n[2]),o}getCustomCoordCenter(){throw Error("Method not implemented.")}exportMap(e){let t=this.getMapCanvasContainer(),n="jpg"===e?null==t?void 0:t.toDataURL("image/jpeg"):null==t?void 0:t.toDataURL("image/png");return n}rotateY(){throw Error("Method not implemented.")}hideLogo(){let e=this.map.getDiv();e&&nb(e,"tmap-contianer--hide-logo")}}class yi extends mW{getServiceConstructor(){return yr}}let yo=["id","style","rotation","mapInstance","version","mapSize","interactive"];class ya extends by{constructor(...e){super(...e),(0,ai.Z)(this,"version",bc.DEFAULT),(0,ai.Z)(this,"viewport",void 0)}lngLatToCoord(e,t={x:0,y:0,z:0}){let{x:n,y:r}=this.lngLatToMercator(e,0);return[n-t.x,r-t.y]}lngLatToMercator(e,t){let{x:n=0,y:r=0,z:i=0}=bY.fromLngLat(e,t);return{x:n,y:r,z:i}}getModelMatrix(e,t,n,r=[1,1,1],i={x:0,y:0,z:0}){let o=bY.fromLngLat(e,t),a=o.meterInMercatorCoordinateUnits(),s=aH.create();return aH.translate(s,s,fI.al(o.x-i.x,o.y-i.y,o.z||0-i.z)),aH.scale(s,s,fI.al(a*r[0],-a*r[1],a*r[2])),aH.rotateX(s,s,n[0]),aH.rotateY(s,s,n[1]),aH.rotateZ(s,s,n[2]),s}init(){var e=this;return(0,aZ.Z)(function*(){let t=e.config,{id:n="map",style:r="light",rotation:i=0,mapInstance:o,version:a="DEFAULTMAP",mapSize:s=1e4,interactive:l=!0}=t,c=(0,so.Z)(t,yo);e.viewport=new bl,e.version=a,e.simpleMapCoord.setSize(s),"SIMPLE"===a&&c.center&&(c.center=e.simpleMapCoord.unproject(c.center)),o?(e.map=o,e.$mapContainer=e.map.getContainer()):(e.$mapContainer=e.creatMapContainer(n),e.map=new vJ((0,ar.Z)({container:e.$mapContainer,bearing:i},c))),e.map.on("load",()=>{e.handleCameraChanged()}),l&&e.map.on("move",e.handleCameraChanged),setTimeout(()=>{e.handleCameraChanged()},100),e.handleCameraChanged()})()}creatMapContainer(e){let t=e;"string"==typeof e&&(t=document.getElementById(e));let n=document.createElement("div");return n.style.cssText+=`
      position: absolute;
      top: 0;
      height: 100%;
      width: 100%;
    `,t.appendChild(n),n}exportMap(e){return""}setMapStyle(e){}getCanvasOverlays(){return this.getContainer()}}class ys extends mW{getServiceConstructor(){return ya}}var yl=n(86463),yc=n.n(yl);let yu=["id","attributionControl","style","token","rotation","mapInstance"];!function(e,t){var n="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,r="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram);if(!n&&!r&&(t||(t=document),t)){var i=t.head||t.getElementsByTagName("head")[0];if(!i){i=t.createElement("head");var o=t.body||t.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):t.documentElement.appendChild(i)}var a=t.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),i.appendChild(a)}}(".mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;-webkit-transform:translate(0);transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{-webkit-animation:mapboxgl-spin 2s linear infinite;animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg opacity='.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg opacity='.9' fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E\")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{flex-direction:column-reverse}.mapboxgl-popup-anchor-left{flex-direction:row}.mapboxgl-popup-anchor-right{flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:\"\";position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:\"\";height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box;box-shadow:0 0 3px rgba(0,0,0,.35)}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}to{-webkit-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);transform:scale(3);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}"),window.mapboxgl=yc();let yd=0,yp="101MlGsZ2AmmA&access_token=pk.eyJ1IjoiZXhhbXBsZXMiLCJhIjoiY2p0MG01MXRqMW45cjQzb2R6b2ptc3J4MSJ9.zA2W0IkI0c6KaAhJfk9bWg";class yh extends by{constructor(...e){super(...e),(0,ai.Z)(this,"version","MAPBOX"),(0,ai.Z)(this,"viewport",void 0)}getType(){return"mapbox"}lngLatToCoord(e,t={x:0,y:0,z:0}){let{x:n,y:r}=this.lngLatToMercator(e,0);return[n-t.x,r-t.y]}lngLatToMercator(e,t){let{x:n=0,y:r=0,z:i=0}=window.mapboxgl.MercatorCoordinate.fromLngLat(e,t);return{x:n,y:r,z:i}}getModelMatrix(e,t,n,r=[1,1,1],i={x:0,y:0,z:0}){let o=window.mapboxgl.MercatorCoordinate.fromLngLat(e,t),a=o.meterInMercatorCoordinateUnits(),s=aH.create();return aH.translate(s,s,fI.al(o.x-i.x,o.y-i.y,o.z||0-i.z)),aH.scale(s,s,fI.al(a*r[0],-a*r[1],a*r[2])),aH.rotateX(s,s,n[0]),aH.rotateY(s,s,n[1]),aH.rotateZ(s,s,n[2]),s}init(){var e=this;return(0,aZ.Z)(function*(){let t=e.config,{id:n="map",attributionControl:r=!1,style:i="light",token:o=yp,rotation:a=0,mapInstance:s}=t,l=(0,so.Z)(t,yu);e.viewport=new bl,s||window.mapboxgl||console.error(e.configService.getSceneWarninfo("SDK")),o!==yp||"blank"===i||window.mapboxgl.accessToken||s||console.warn(e.configService.getSceneWarninfo("MapToken")),s||window.mapboxgl.accessToken||(window.mapboxgl.accessToken=o),s?(e.map=s,e.$mapContainer=e.map.getContainer()):(e.$mapContainer=e.creatMapContainer(n),e.map=new window.mapboxgl.Map((0,ar.Z)({container:e.$mapContainer,style:e.getMapStyleValue(i),attributionControl:r,bearing:a},l))),e.map.on("load",()=>{e.handleCameraChanged()}),e.map.on("move",e.handleCameraChanged),e.handleCameraChanged()})()}destroy(){var e;null===(e=this.$mapContainer)||void 0===e||null===(e=e.parentNode)||void 0===e||e.removeChild(this.$mapContainer),this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}emit(e,...t){this.eventEmitter.emit(e,...t)}once(e,...t){this.eventEmitter.once(e,...t)}getMapContainer(){return this.$mapContainer}getCanvasOverlays(){var e;return null===(e=this.getMapContainer())||void 0===e?void 0:e.querySelector(".mapboxgl-canvas-container")}meterToCoord(e,t){let n=new(yc()).LngLat(e[0],e[1]),r=new(yc()).LngLat(t[0],t[1]),i=n.distanceTo(r),o=yc().MercatorCoordinate.fromLngLat({lng:e[0],lat:e[1]}),a=yc().MercatorCoordinate.fromLngLat({lng:t[0],lat:t[1]}),{x:s,y:l}=o,{x:c,y:u}=a,d=8388608*Math.sqrt(Math.pow(s-c,2)+Math.pow(l-u,2));return d/i}exportMap(e){let t=this.map.getCanvas(),n="jpg"===e?null==t?void 0:t.toDataURL("image/jpeg"):null==t?void 0:t.toDataURL("image/png");return n}creatMapContainer(e){let t=e;"string"==typeof e&&(t=document.getElementById(e));let n=document.createElement("div");return n.style.cssText+=`
      position: absolute;
      top: 0;
      height: 100%;
      width: 100%;
    `,n.id="l7_mapbox_div"+yd++,t.appendChild(n),n}}!function(e,t){var n="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,r="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram);if(!n&&!r&&(t||(t=document),t)){var i=t.head||t.getElementsByTagName("head")[0];if(!i){i=t.createElement("head");var o=t.body||t.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):t.documentElement.appendChild(i)}var a=t.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),i.appendChild(a)}}(`.mapboxgl-ctrl-logo {
  display: none !important;
}
`);class yf extends mW{getServiceConstructor(){return yh}}var yg=n(68974),ym=n.n(yg),yb=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(e){i(e)}},a=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())}),yv=Uint8Array,yy=Uint16Array,yE=Int32Array,y_=new yv([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),yT=new yv([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),yx=new yv([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yS=function(e,t){for(var n=new yy(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new yE(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},yA=yS(y_,2),yC=yA.b,yw=yA.r;yC[28]=258,yw[258]=28;var yO=yS(yT,0),yI=yO.b;yO.r;var yL=new yy(32768);for(er=0;er<32768;++er)en=(61680&(en=(52428&(en=(43690&er)>>1|(21845&er)<<1))>>2|(13107&en)<<2))>>4|(3855&en)<<4,yL[er]=((65280&en)>>8|(255&en)<<8)>>1;var yR=function(e,t,n){for(var r,i=e.length,o=0,a=new yy(t);o<i;++o)e[o]&&++a[e[o]-1];var s=new yy(t);for(o=1;o<t;++o)s[o]=s[o-1]+a[o-1]<<1;if(n){r=new yy(1<<t);var l=15-t;for(o=0;o<i;++o)if(e[o])for(var c=o<<4|e[o],u=t-e[o],d=s[e[o]-1]++<<u,p=d|(1<<u)-1;d<=p;++d)r[yL[d]>>l]=c}else for(o=0,r=new yy(i);o<i;++o)e[o]&&(r[o]=yL[s[e[o]-1]++]>>15-e[o]);return r},yk=new yv(288);for(er=0;er<144;++er)yk[er]=8;for(er=144;er<256;++er)yk[er]=9;for(er=256;er<280;++er)yk[er]=7;for(er=280;er<288;++er)yk[er]=8;var yN=new yv(32);for(er=0;er<32;++er)yN[er]=5;var yM=yR(yk,9,1),yD=yR(yN,5,1),yP=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},yF=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},yB=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},yU=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new yv(n-t);return r.set(e.subarray(t,n)),r},yz=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],yZ=function(e,t,n){var r=Error(t||yz[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,yZ),!n)throw r;return r},yj=function(e,t,n,r){var i=e.length,o=r?r.length:0;if(!i||t.f&&!t.l)return n||new yv(0);var a=!n||2!=t.i,s=t.i;n||(n=new yv(3*i));var l=function(e){var t=n.length;if(e>t){var r=new yv(Math.max(2*t,e));r.set(n),n=r}},c=t.f||0,u=t.p||0,d=t.b||0,p=t.l,h=t.d,f=t.m,g=t.n,m=8*i;do{if(!p){c=yF(e,u,1);var b=yF(e,u+1,3);if(u+=3,b){if(1==b)p=yM,h=yD,f=9,g=5;else if(2==b){var v=yF(e,u,31)+257,y=yF(e,u+10,15)+4,E=v+yF(e,u+5,31)+1;u+=14;for(var _=new yv(E),x=new yv(19),S=0;S<y;++S)x[yx[S]]=yF(e,u+3*S,7);u+=3*y;for(var A=yP(x),C=(1<<A)-1,w=yR(x,A,1),S=0;S<E;){var O=w[yF(e,u,C)];u+=15&O;var I=O>>4;if(I<16)_[S++]=I;else{var L=0,R=0;for(16==I?(R=3+yF(e,u,3),u+=2,L=_[S-1]):17==I?(R=3+yF(e,u,7),u+=3):18==I&&(R=11+yF(e,u,127),u+=7);R--;)_[S++]=L}}var k=_.subarray(0,v),N=_.subarray(v);f=yP(k),g=yP(N),p=yR(k,f,1),h=yR(N,g,1)}else yZ(1)}else{var I=((u+7)/8|0)+4,M=e[I-4]|e[I-3]<<8,D=I+M;if(D>i){s&&yZ(0);break}a&&l(d+M),n.set(e.subarray(I,D),d),t.b=d+=M,t.p=u=8*D,t.f=c;continue}if(u>m){s&&yZ(0);break}}a&&l(d+131072);for(var P=(1<<f)-1,F=(1<<g)-1,B=u;;B=u){var L=p[yB(e,u)&P],U=L>>4;if((u+=15&L)>m){s&&yZ(0);break}if(L||yZ(2),U<256)n[d++]=U;else if(256==U){B=u,p=null;break}else{var z=U-254;if(U>264){var S=U-257,Z=y_[S];z=yF(e,u,(1<<Z)-1)+yC[S],u+=Z}var j=h[yB(e,u)&F],H=j>>4;j||yZ(3),u+=15&j;var N=yI[H];if(H>3){var Z=yT[H];N+=yB(e,u)&(1<<Z)-1,u+=Z}if(u>m){s&&yZ(0);break}a&&l(d+131072);var G=d+z;if(d<N){var V=o-N,$=Math.min(N,G);for(V+d<0&&yZ(3);d<$;++d)n[d]=r[V+d]}for(;d<G;d+=4)n[d]=n[d-N],n[d+1]=n[d+1-N],n[d+2]=n[d+2-N],n[d+3]=n[d+3-N];d=G}}t.l=p,t.p=B,t.b=d,t.f=c,p&&(c=1,t.m=f,t.d=h,t.n=g)}while(!c);return d==n.length?n:yU(n,0,d)},yH=new yv(0),yG=function(e){(31!=e[0]||139!=e[1]||8!=e[2])&&yZ(6,"invalid gzip data");var t=e[3],n=10;4&t&&(n+=(e[10]|e[11]<<8)+2);for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(2&t)},yV=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0};function y$(e,t){var n,r;return 31==e[0]&&139==e[1]&&8==e[2]?((n=yG(e))+8>e.length&&yZ(6,"invalid gzip data"),yj(e.subarray(n,-8),{i:2},t&&t.out||new yv(yV(e)),t&&t.dictionary)):(15&e[0])!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?yj(e,{i:2},t&&t.out,t&&t.dictionary):yj(e.subarray((r=t&&t.dictionary,((15&e[0])!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&yZ(6,"invalid zlib data"),(e[1]>>5&1)==+!r&&yZ(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2),-4),{i:2},t&&t.out,t&&t.dictionary)}var yW="undefined"!=typeof TextDecoder&&new TextDecoder;try{yW.decode(yH,{stream:!0})}catch(e){}var yY=(e,t)=>e*Math.pow(2,t),yq=(e,t)=>Math.floor(e/Math.pow(2,t)),yX=(e,t)=>yY(e.getUint16(t+1,!0),8)+e.getUint8(t),yK=(e,t)=>yY(e.getUint32(t+2,!0),16)+e.getUint16(t,!0),yQ=(e,t,n,r,i)=>{if(e!=r.getUint8(i))return e-r.getUint8(i);let o=yX(r,i+1);if(t!=o)return t-o;let a=yX(r,i+4);return n!=a?n-a:0},yJ=(e,t,n,r)=>{let i=y1(e,128|t,n,r);return i?{z:t,x:n,y:r,offset:i[0],length:i[1],is_dir:!0}:null},y0=(e,t,n,r)=>{let i=y1(e,t,n,r);return i?{z:t,x:n,y:r,offset:i[0],length:i[1],is_dir:!1}:null},y1=(e,t,n,r)=>{let i=0,o=e.byteLength/17-1;for(;i<=o;){let a=o+i>>1,s=yQ(t,n,r,e,17*a);if(s>0)i=a+1;else{if(!(s<0))return[yK(e,17*a+7),e.getUint32(17*a+13,!0)];o=a-1}}return null},y2=(e,t)=>e.is_dir&&!t.is_dir?1:!e.is_dir&&t.is_dir?-1:e.z!==t.z?e.z-t.z:e.x!==t.x?e.x-t.x:e.y-t.y,y3=(e,t)=>{let n=e.getUint8(17*t);return{z:127&n,x:yX(e,17*t+1),y:yX(e,17*t+4),offset:yK(e,17*t+7),length:e.getUint32(17*t+13,!0),is_dir:n>>7==1}},y5=e=>{let t=[],n=new DataView(e);for(let e=0;e<n.byteLength/17;e++)t.push(y3(n,e));return y4(t)},y4=e=>{e.sort(y2);let t=new ArrayBuffer(17*e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++){let r=e[t],i=r.z;r.is_dir&&(i|=128),n[17*t]=i,n[17*t+1]=255&r.x,n[17*t+2]=r.x>>8&255,n[17*t+3]=r.x>>16&255,n[17*t+4]=255&r.y,n[17*t+5]=r.y>>8&255,n[17*t+6]=r.y>>16&255,n[17*t+7]=255&r.offset,n[17*t+8]=255&yq(r.offset,8),n[17*t+9]=255&yq(r.offset,16),n[17*t+10]=255&yq(r.offset,24),n[17*t+11]=255&yq(r.offset,32),n[17*t+12]=255&yq(r.offset,48),n[17*t+13]=255&r.length,n[17*t+14]=r.length>>8&255,n[17*t+15]=r.length>>16&255,n[17*t+16]=r.length>>24&255}return t},y6=(e,t)=>{if(e.byteLength<17)return null;let n=e.byteLength/17,r=y3(e,n-1);if(r.is_dir){let e=r.z,n=t.z-e,i=Math.trunc(t.x/(1<<n)),o=Math.trunc(t.y/(1<<n));return{z:e,x:i,y:o}}return null},y7={getHeader:function(e){return yb(this,null,function*(){let t=yield e.getBytes(0,512e3),n=new DataView(t.data),r=n.getUint32(4,!0),i=n.getUint16(8,!0),o=new TextDecoder("utf-8"),a=JSON.parse(o.decode(new DataView(t.data,10,r))),s=0;"gzip"===a.compression&&(s=2);let l=0;"minzoom"in a&&(l=+a.minzoom);let c=0;"maxzoom"in a&&(c=+a.maxzoom);let u=0,d=0,p=0,h=-180,f=-85,g=180,m=85;if(a.bounds){let e=a.bounds.split(",");h=+e[0],f=+e[1],g=+e[2],m=+e[3]}if(a.center){let e=a.center.split(",");u=+e[0],d=+e[1],p=+e[2]}let b={specVersion:n.getUint16(2,!0),rootDirectoryOffset:10+r,rootDirectoryLength:17*i,jsonMetadataOffset:10,jsonMetadataLength:r,leafDirectoryOffset:0,leafDirectoryLength:void 0,tileDataOffset:0,tileDataLength:void 0,numAddressedTiles:0,numTileEntries:0,numTileContents:0,clustered:!1,internalCompression:1,tileCompression:s,tileType:1,minZoom:l,maxZoom:c,minLon:h,minLat:f,maxLon:g,maxLat:m,centerZoom:p,centerLon:u,centerLat:d,etag:t.etag};return b})},getZxy:function(e,t,n,r,i,o,a){return yb(this,null,function*(){let s=yield n.getArrayBuffer(t,e.rootDirectoryOffset,e.rootDirectoryLength,e);1===e.specVersion&&(s=y5(s));let l=y0(new DataView(s),r,i,o);if(l){let e=yield t.getBytes(l.offset,l.length,a),n=e.data,r=new DataView(n);return 31==r.getUint8(0)&&139==r.getUint8(1)&&(n=y$(new Uint8Array(n))),{data:n}}let c=y6(new DataView(s),{z:r,x:i,y:o});if(c){let l=yJ(new DataView(s),c.z,c.x,c.y);if(l){let s=yield n.getArrayBuffer(t,l.offset,l.length,e);1===e.specVersion&&(s=y5(s));let c=y0(new DataView(s),r,i,o);if(c){let e=yield t.getBytes(c.offset,c.length,a),n=e.data,r=new DataView(n);return 31==r.getUint8(0)&&139==r.getUint8(1)&&(n=y$(new Uint8Array(n))),{data:n}}}}})}},y8=class{constructor(){this.tile=(e,t)=>{if("json"==e.type){let n=e.url.substr(10),r=this.tiles.get(n);return r||(r=new Ec(n),this.tiles.set(n,r)),r.getHeader().then(n=>{let r={tiles:[e.url+"/{z}/{x}/{y}"],minzoom:n.minZoom,maxzoom:n.maxZoom,bounds:[n.minLon,n.minLat,n.maxLon,n.maxLat]};t(null,r,null,null)}).catch(e=>{t(e,null,null,null)}),{cancel:()=>{}}}{let n=new RegExp(/pmtiles:\/\/(.+)\/(\d+)\/(\d+)\/(\d+)/),r=e.url.match(n);if(!r)throw Error("Invalid PMTiles protocol URL");let i=r[1],o=this.tiles.get(i);o||(o=new Ec(i),this.tiles.set(i,o));let a=r[2],s=r[3],l=r[4],c=new AbortController,u=c.signal;return o.getHeader().then(e=>{o.getZxy(+a,+s,+l,u).then(n=>{n?t(null,new Uint8Array(n.data),n.cacheControl,n.expires):1==e.tileType?t(null,new Uint8Array,null,null):t(null,null,null,null)}).catch(e=>{"AbortError"!==e.name&&t(e,null,null,null)})}),{cancel:()=>{c.abort()}}}},this.tiles=new Map}add(e){this.tiles.set(e.source.getKey(),e)}get(e){return this.tiles.get(e)}};function y9(e){let t,n;let r=e.buf;return(t=127&(n=r[e.pos++]),n<128)?t:(t|=(127&(n=r[e.pos++]))<<7,n<128)?t:(t|=(127&(n=r[e.pos++]))<<14,n<128)?t:(t|=(127&(n=r[e.pos++]))<<21,n<128)?t:function(e,t){let n,r;let i=t.buf;if(n=(112&(r=i[t.pos++]))>>4,r<128||(n|=(127&(r=i[t.pos++]))<<3,r<128)||(n|=(127&(r=i[t.pos++]))<<10,r<128)||(n|=(127&(r=i[t.pos++]))<<17,r<128)||(n|=(127&(r=i[t.pos++]))<<24,r<128)||(n|=(1&(r=i[t.pos++]))<<31,r<128))return(n>>>0)*4294967296+(e>>>0);throw Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[e.pos]))<<28,e)}var Ee=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555],Et=(($=Et||{})[$.Unknown=0]="Unknown",$[$.None=1]="None",$[$.Gzip=2]="Gzip",$[$.Brotli=3]="Brotli",$[$.Zstd=4]="Zstd",$);function En(e,t){return yb(this,null,function*(){if(1===t||0===t)return e;if(2===t){if(void 0===globalThis.DecompressionStream)return y$(new Uint8Array(e));{let t=new Response(e).body.pipeThrough(new globalThis.DecompressionStream("gzip"));return new Response(t).arrayBuffer()}}throw Error("Compression method not supported")})}var Er=((W=Er||{})[W.Unknown=0]="Unknown",W[W.Mvt=1]="Mvt",W[W.Png=2]="Png",W[W.Jpeg=3]="Jpeg",W[W.Webp=4]="Webp",W[W.Avif=5]="Avif",W),Ei=class{constructor(e,t=new Headers){this.url=e,this.customHeaders=t}getKey(){return this.url}setHeaders(e){this.customHeaders=e}getBytes(e,t,n){return yb(this,null,function*(){let r;n||(n=(r=new AbortController).signal);let i=new Headers(this.customHeaders);i.set("Range","bytes="+e+"-"+(e+t-1));let o=yield fetch(this.url,{signal:n,headers:i});if(416===o.status&&0===e){let e=o.headers.get("Content-Range");if(!e||!e.startsWith("bytes */"))throw Error("Missing content-length on 416 response");let t=+e.substr(8);o=yield fetch(this.url,{signal:n,headers:{Range:"bytes=0-"+(t-1)}})}if(o.status>=300)throw Error("Bad response code: "+o.status);let a=o.headers.get("Content-Length");if(200===o.status&&(!a||+a>t))throw r&&r.abort(),Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");let s=yield o.arrayBuffer();return{data:s,etag:o.headers.get("ETag")||void 0,cacheControl:o.headers.get("Cache-Control")||void 0,expires:o.headers.get("Expires")||void 0}})}};function Eo(e,t){let n=e.getUint32(t+4,!0),r=e.getUint32(t+0,!0);return 4294967296*n+r}function Ea(e){let t={buf:new Uint8Array(e),pos:0},n=y9(t),r=[],i=0;for(let e=0;e<n;e++){let e=y9(t);r.push({tileId:i+e,offset:0,length:0,runLength:1}),i+=e}for(let e=0;e<n;e++)r[e].runLength=y9(t);for(let e=0;e<n;e++)r[e].length=y9(t);for(let e=0;e<n;e++){let n=y9(t);0===n&&e>0?r[e].offset=r[e-1].offset+r[e-1].length:r[e].offset=n-1}return r}var Es=class extends Error{},El=class{constructor(e=100,t=!0,n=En){this.cache=new Map,this.maxCacheEntries=e,this.counter=1,this.prefetch=t,this.decompress=n}getHeader(e,t){return yb(this,null,function*(){let n=e.getKey();if(this.cache.has(n)){this.cache.get(n).lastUsed=this.counter++;let e=yield this.cache.get(n).data;return e}let r=new Promise((n,r)=>{(function(e,t,n,r){return yb(this,null,function*(){let i=yield e.getBytes(0,16384),o=new DataView(i.data);if(19792!==o.getUint16(0,!0))throw Error("Wrong magic number for PMTiles archive");if(3>function(e){let t=new DataView(e);return 2===t.getUint16(2,!0)?(console.warn("PMTiles spec version 2 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade"),2):1===t.getUint16(2,!0)?(console.warn("PMTiles spec version 1 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade"),1):3}(i.data))return[(yield y7.getHeader(e))];let a=i.data.slice(0,127),s=i.etag;r&&i.etag!=r&&(console.warn("ETag conflict detected; your HTTP server might not support content-based ETag headers. ETags disabled for "+e.getKey()),s=void 0);let l=function(e,t){let n=new DataView(e),r=n.getUint8(7);if(r>3)throw Error(`Archive is spec version ${r} but this library supports up to spec version 3`);return{specVersion:r,rootDirectoryOffset:Eo(n,8),rootDirectoryLength:Eo(n,16),jsonMetadataOffset:Eo(n,24),jsonMetadataLength:Eo(n,32),leafDirectoryOffset:Eo(n,40),leafDirectoryLength:Eo(n,48),tileDataOffset:Eo(n,56),tileDataLength:Eo(n,64),numAddressedTiles:Eo(n,72),numTileEntries:Eo(n,80),numTileContents:Eo(n,88),clustered:1===n.getUint8(96),internalCompression:n.getUint8(97),tileCompression:n.getUint8(98),tileType:n.getUint8(99),minZoom:n.getUint8(100),maxZoom:n.getUint8(101),minLon:n.getInt32(102,!0)/1e7,minLat:n.getInt32(106,!0)/1e7,maxLon:n.getInt32(110,!0)/1e7,maxLat:n.getInt32(114,!0)/1e7,centerZoom:n.getUint8(118),centerLon:n.getInt32(119,!0)/1e7,centerLat:n.getInt32(123,!0)/1e7,etag:t}}(a,s);if(n){let n=i.data.slice(l.rootDirectoryOffset,l.rootDirectoryOffset+l.rootDirectoryLength),r=e.getKey()+"|"+(l.etag||"")+"|"+l.rootDirectoryOffset+"|"+l.rootDirectoryLength,o=Ea((yield t(n,l.internalCompression)));return[l,[r,o.length,o]]}return[l,void 0]})})(e,this.decompress,this.prefetch,t).then(e=>{e[1]&&this.cache.set(e[1][0],{lastUsed:this.counter++,data:Promise.resolve(e[1][2])}),n(e[0]),this.prune()}).catch(e=>{r(e)})});return this.cache.set(n,{lastUsed:this.counter++,data:r}),r})}getDirectory(e,t,n,r){return yb(this,null,function*(){let i=e.getKey()+"|"+(r.etag||"")+"|"+t+"|"+n;if(this.cache.has(i)){this.cache.get(i).lastUsed=this.counter++;let e=yield this.cache.get(i).data;return e}let o=new Promise((i,o)=>{(function(e,t,n,r,i){return yb(this,null,function*(){let o=yield e.getBytes(n,r);if(i.etag&&i.etag!==o.etag)throw new Es(o.etag);let a=yield t(o.data,i.internalCompression),s=Ea(a);if(0===s.length)throw Error("Empty directory is invalid");return s})})(e,this.decompress,t,n,r).then(e=>{i(e),this.prune()}).catch(e=>{o(e)})});return this.cache.set(i,{lastUsed:this.counter++,data:o}),o})}getArrayBuffer(e,t,n,r){return yb(this,null,function*(){let i=e.getKey()+"|"+(r.etag||"")+"|"+t+"|"+n;if(this.cache.has(i)){this.cache.get(i).lastUsed=this.counter++;let e=yield this.cache.get(i).data;return e}let o=new Promise((o,a)=>{e.getBytes(t,n).then(e=>{if(r.etag&&r.etag!==e.etag)throw new Es(e.etag);o(e.data),this.cache.has(i),this.prune()}).catch(e=>{a(e)})});return this.cache.set(i,{lastUsed:this.counter++,data:o}),o})}prune(){if(this.cache.size>=this.maxCacheEntries){let e,t=1/0;this.cache.forEach((n,r)=>{n.lastUsed<t&&(t=n.lastUsed,e=r)}),e&&this.cache.delete(e)}}invalidate(e,t){return yb(this,null,function*(){this.cache.delete(e.getKey()),yield this.getHeader(e,t)})}},Ec=class{constructor(e,t,n){"string"==typeof e?this.source=new Ei(e):this.source=e,n?this.decompress=n:this.decompress=En,t?this.cache=t:this.cache=new El}getHeader(){return yb(this,null,function*(){return yield this.cache.getHeader(this.source)})}getZxyAttempt(e,t,n,r){return yb(this,null,function*(){let i=function(e,t,n){if(e>26)throw Error("Tile zoom level exceeds max safe number limit (26)");if(t>Math.pow(2,e)-1||n>Math.pow(2,e)-1)throw Error("tile x/y outside zoom level bounds");let r=Ee[e],i=Math.pow(2,e),o=0,a=0,s=0,l=[t,n],c=i/2;for(;c>0;)o=(l[0]&c)>0?1:0,a=(l[1]&c)>0?1:0,s+=c*c*(3*o^a),function(e,t,n,r){if(0==r){1==n&&(t[0]=e-1-t[0],t[1]=e-1-t[1]);let r=t[0];t[0]=t[1],t[1]=r}}(c,l,o,a),c/=2;return r+s}(e,t,n),o=yield this.cache.getHeader(this.source);if(o.specVersion<3)return y7.getZxy(o,this.source,this.cache,e,t,n,r);if(e<o.minZoom||e>o.maxZoom)return;let a=o.rootDirectoryOffset,s=o.rootDirectoryLength;for(let e=0;e<=3;e++){let e=yield this.cache.getDirectory(this.source,a,s,o),t=function(e,t){let n=0,r=e.length-1;for(;n<=r;){let i=r+n>>1,o=t-e[i].tileId;if(o>0)n=i+1;else{if(!(o<0))return e[i];r=i-1}}return r>=0&&(0===e[r].runLength||t-e[r].tileId<e[r].runLength)?e[r]:null}(e,i);if(!t)return;if(t.runLength>0){let e=yield this.source.getBytes(o.tileDataOffset+t.offset,t.length,r);if(o.etag&&o.etag!==e.etag)throw new Es(e.etag);return{data:yield this.decompress(e.data,o.tileCompression),cacheControl:e.cacheControl,expires:e.expires}}a=o.leafDirectoryOffset+t.offset,s=t.length}throw Error("Maximum directory depth exceeded")})}getZxy(e,t,n,r){return yb(this,null,function*(){try{return yield this.getZxyAttempt(e,t,n,r)}catch(i){if(i instanceof Es)return this.cache.invalidate(this.source,i.message),yield this.getZxyAttempt(e,t,n,r);throw i}})}getMetadataAttempt(){return yb(this,null,function*(){let e=yield this.cache.getHeader(this.source),t=yield this.source.getBytes(e.jsonMetadataOffset,e.jsonMetadataLength);if(e.etag&&e.etag!==t.etag)throw new Es(t.etag);let n=yield this.decompress(t.data,e.internalCompression),r=new TextDecoder("utf-8");return JSON.parse(r.decode(n))})}getMetadata(){return yb(this,null,function*(){try{return yield this.getMetadataAttempt()}catch(e){if(e instanceof Es)return this.cache.invalidate(this.source,e.message),yield this.getMetadataAttempt();throw e}})}};let Eu=["id","attributionControl","style","rotation","mapInstance"];!function(e,t){var n="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,r="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram);if(!n&&!r&&(t||(t=document),t)){var i=t.head||t.getElementsByTagName("head")[0];if(!i){i=t.createElement("head");var o=t.body||t.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):t.documentElement.appendChild(i)}var a=t.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),i.appendChild(a)}}(".maplibregl-map{-webkit-tap-highlight-color:rgb(0 0 0/0);font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative}.maplibregl-canvas{left:0;position:absolute;top:0}.maplibregl-map:-moz-full-screen{height:100%;width:100%}.maplibregl-map:-ms-fullscreen{height:100%;width:100%}.maplibregl-map:fullscreen{height:100%;width:100%}.maplibregl-ctrl-group button.maplibregl-ctrl-compass{touch-action:none}.maplibregl-canvas-container.maplibregl-interactive,.maplibregl-ctrl-group button.maplibregl-ctrl-compass{cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer{cursor:pointer}.maplibregl-canvas-container.maplibregl-interactive:active,.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active{cursor:grabbing}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-canvas-container.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:pinch-zoom}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:none}.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures,.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-ctrl-bottom-left,.maplibregl-ctrl-bottom-right,.maplibregl-ctrl-top-left,.maplibregl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.maplibregl-ctrl-top-left{left:0;top:0}.maplibregl-ctrl-top-right{right:0;top:0}.maplibregl-ctrl-bottom-left{bottom:0;left:0}.maplibregl-ctrl-bottom-right{bottom:0;right:0}.maplibregl-ctrl{clear:both;pointer-events:auto;-webkit-transform:translate(0);transform:translate(0)}.maplibregl-ctrl-top-left .maplibregl-ctrl{float:left;margin:10px 0 0 10px}.maplibregl-ctrl-top-right .maplibregl-ctrl{float:right;margin:10px 10px 0 0}.maplibregl-ctrl-bottom-left .maplibregl-ctrl{float:left;margin:0 0 10px 10px}.maplibregl-ctrl-bottom-right .maplibregl-ctrl{float:right;margin:0 10px 10px 0}.maplibregl-ctrl-group{background:#fff;border-radius:4px}.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.maplibregl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;padding:0;width:29px}.maplibregl-ctrl-group button+button{border-top:1px solid #ddd}.maplibregl-ctrl button .maplibregl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (-ms-high-contrast:active){.maplibregl-ctrl-icon{background-color:transparent}.maplibregl-ctrl-group button+button{border-top:1px solid ButtonText}}.maplibregl-ctrl button::-moz-focus-inner{border:0;padding:0}.maplibregl-ctrl-attrib-button:focus,.maplibregl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl button:disabled{cursor:not-allowed}.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon{opacity:.25}.maplibregl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.maplibregl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.maplibregl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.maplibregl-ctrl-group button:focus:only-child{border-radius:inherit}.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8h-8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8h-8z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8h-8z'/%3E%3Cpath fill='%23999' d='m10.5 16 4 8 4-8h-8z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8h-8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8h-8z'/%3E%3C/svg%3E\")}}.maplibregl-ctrl button.maplibregl-ctrl-terrain .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%23333' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-terrain-enabled .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%2333b5e5' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23aaa' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1 9-9z'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon{-webkit-animation:maplibregl-spin 2s linear infinite;animation:maplibregl-spin 2s linear infinite}@media (-ms-high-contrast:active){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23999' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1 9-9z'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23666' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1 9-9z'/%3E%3C/svg%3E\")}}@-webkit-keyframes maplibregl-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes maplibregl-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}a.maplibregl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.255 1.255 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.255 1.255 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5.11 5.11 0 0 1 .314-.787l.009-.016a4.623 4.623 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.548 4.548 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4.314.319.566.676.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.416 2.416 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.448 2.448 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675c.211.2.381.43.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.76 4.76 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.407 3.407 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.255 1.255 0 0 1 .689 1.004 4.73 4.73 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528 0 .343-.02.694-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.815 5.815 0 0 1-.548-2.512c0-.286.017-.567.053-.843a1.255 1.255 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.778 4.778 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.47 4.47 0 0 1-1.935-.424 1.252 1.252 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.402 2.402 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.703 4.703 0 0 1-1.782 1.884 4.767 4.767 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.47 4.47 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a4.983 4.983 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.255 1.255 0 0 1-1.115.676h-.098a1.255 1.255 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15c.329-.237.574-.499.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267c-.088-.22-.264-.438-.526-.658l-.032-.028a3.16 3.16 0 0 0-.668-.428l-.27-.12a3.293 3.293 0 0 0-1.235-.23c-.757 0-1.415.163-1.974.493a3.36 3.36 0 0 0-1.3 1.382c-.297.593-.444 1.284-.444 2.074 0 .8.17 1.503.51 2.107a3.795 3.795 0 0 0 1.382 1.381 3.883 3.883 0 0 0 1.893.477c.53 0 1.015-.11 1.455-.33zm-2.789-5.38c-.384.45-.575 1.038-.575 1.762 0 .735.186 1.332.559 1.794.384.45.933.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.17 2.17 0 0 0 .468-.29l.178-.161a2.163 2.163 0 0 0 .397-.561c.163-.333.244-.717.244-1.15v-.115c0-.472-.098-.894-.296-1.267l-.043-.077a2.211 2.211 0 0 0-.633-.709l-.13-.086-.047-.028a2.099 2.099 0 0 0-1.073-.285c-.702 0-1.244.231-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.958.958 0 0 0-.353-.389.851.851 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.626 2.626 0 0 0 .331.423c.213.22.464.402.755.548l.173.074c.433.17.93.255 1.49.255.68 0 1.295-.165 1.844-.493a3.447 3.447 0 0 0 1.316-1.4c.329-.603.493-1.299.493-2.089 0-1.273-.33-2.243-.988-2.913-.658-.68-1.52-1.02-2.584-1.02-.598 0-1.124.115-1.575.347a2.807 2.807 0 0 0-.415.262l-.199.166a3.35 3.35 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138c.137.193.297.36.48.5l.155.11.053.034c.34.197.713.297 1.119.297.714 0 1.262-.225 1.645-.675.385-.46.576-1.048.576-1.762 0-.746-.192-1.338-.576-1.777-.372-.45-.92-.675-1.645-.675-.29 0-.569.053-.835.16a2.366 2.366 0 0 0-.284.136 1.99 1.99 0 0 0-.363.254 2.237 2.237 0 0 0-.46.569l-.082.162a2.56 2.56 0 0 0-.213 1.072v.115c0 .471.098.894.296 1.267l.135.211zm.964-.818a1.11 1.11 0 0 0 .367.385.937.937 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a.995.995 0 0 0-.503.135l-.012.007a.859.859 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.43 1.43 0 0 0 .14.66zm15.7-6.222c.232-.23.346-.516.346-.856a1.053 1.053 0 0 0-.345-.79 1.175 1.175 0 0 0-.84-.329c-.34 0-.625.11-.855.33a1.053 1.053 0 0 0-.346.79c0 .34.115.625.346.855.23.23.516.346.856.346.34 0 .62-.115.839-.346zm4.337 9.314.033-1.332c.128.269.324.518.59.747l.098.081a3.727 3.727 0 0 0 .316.224l.223.122a3.21 3.21 0 0 0 1.44.322 3.785 3.785 0 0 0 1.875-.477 3.52 3.52 0 0 0 1.382-1.366c.352-.593.526-1.29.526-2.09 0-.79-.147-1.48-.444-2.073a3.235 3.235 0 0 0-1.283-1.399c-.549-.34-1.195-.51-1.942-.51a3.476 3.476 0 0 0-1.527.344l-.086.043-.165.09a3.412 3.412 0 0 0-.33.214c-.288.21-.507.446-.656.707a1.893 1.893 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.482 2.482 0 0 0 .566.7c.078.065.159.125.245.18l.144.08a2.105 2.105 0 0 0 .975.232c.713 0 1.262-.225 1.645-.675.384-.46.576-1.053.576-1.778 0-.734-.192-1.327-.576-1.777-.373-.46-.921-.692-1.645-.692a2.18 2.18 0 0 0-1.015.235c-.147.075-.285.17-.415.282l-.15.142a2.086 2.086 0 0 0-.42.594c-.149.32-.223.685-.223 1.1v.115c0 .47.097.89.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.868.868 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.13 1.13 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013c.23-.087.472-.134.724-.14l.069-.002c.329 0 .542.033.642.099l.247-1.794c-.13-.066-.37-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2.086 2.086 0 0 0-.411.148 2.18 2.18 0 0 0-.4.249 2.482 2.482 0 0 0-.485.499 2.659 2.659 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884c0-.364.053-.678.159-.943a1.49 1.49 0 0 1 .466-.636 2.52 2.52 0 0 1 .399-.253 2.19 2.19 0 0 1 .224-.099zm9.784 2.656.05-.922c0-1.162-.285-2.062-.856-2.698-.559-.647-1.42-.97-2.584-.97-.746 0-1.415.163-2.007.493a3.462 3.462 0 0 0-1.4 1.382c-.329.604-.493 1.306-.493 2.106 0 .714.143 1.371.428 1.975.285.593.73 1.07 1.332 1.432.604.351 1.355.526 2.255.526.649 0 1.204-.062 1.668-.185l.044-.012.135-.04c.409-.122.736-.263.984-.421l-.542-1.267c-.2.108-.415.199-.642.274l-.297.087c-.34.088-.773.131-1.3.131-.636 0-1.135-.147-1.497-.444a1.573 1.573 0 0 1-.192-.193c-.244-.294-.415-.705-.512-1.234l-.004-.021h5.43zm-5.427-1.256-.003.022h3.752v-.138c-.007-.485-.104-.857-.288-1.118a1.056 1.056 0 0 0-.156-.176c-.307-.285-.746-.428-1.316-.428-.657 0-1.155.202-1.494.604-.253.3-.417.712-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81c-.68 0-1.311-.16-1.893-.478a3.795 3.795 0 0 1-1.381-1.382c-.34-.604-.51-1.306-.51-2.106 0-.79.147-1.482.444-2.074a3.364 3.364 0 0 1 1.3-1.382c.559-.33 1.217-.494 1.974-.494a3.293 3.293 0 0 1 1.234.231 3.341 3.341 0 0 1 .97.575c.264.22.44.439.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332c-.186.395-.526.746-1.02 1.053a3.167 3.167 0 0 1-1.662.444zm.296-1.482c.626 0 1.152-.214 1.58-.642.428-.44.642-1.01.642-1.711v-.115c0-.472-.098-.894-.296-1.267a2.211 2.211 0 0 0-.807-.872 2.098 2.098 0 0 0-1.119-.313c-.702 0-1.245.231-1.629.692-.384.45-.575 1.037-.575 1.76 0 .736.186 1.333.559 1.795.384.45.933.675 1.645.675zm6.521-6.237h1.711v1.4c.604-1.065 1.547-1.597 2.83-1.597 1.064 0 1.926.34 2.584 1.02.659.67.988 1.641.988 2.914 0 .79-.164 1.487-.493 2.09a3.456 3.456 0 0 1-1.316 1.399 3.51 3.51 0 0 1-1.844.493c-.636 0-1.19-.11-1.662-.329a2.665 2.665 0 0 1-1.086-.97l.017 5.134h-1.728V9.242zm4.048 6.22c.714 0 1.262-.224 1.645-.674.385-.46.576-1.048.576-1.762 0-.746-.192-1.338-.576-1.777-.372-.45-.92-.675-1.645-.675-.395 0-.768.098-1.12.296-.34.187-.613.46-.822.823-.197.351-.296.763-.296 1.234v.115c0 .472.098.894.296 1.267.209.362.483.647.823.855.34.197.713.297 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.159 1.159 0 0 1-.856-.346 1.165 1.165 0 0 1-.346-.856 1.053 1.053 0 0 1 .346-.79c.23-.219.516-.329.856-.329.329 0 .609.11.839.33a1.053 1.053 0 0 1 .345.79 1.159 1.159 0 0 1-.345.855c-.22.23-.5.346-.84.346zm7.875 9.133a3.167 3.167 0 0 1-1.662-.444c-.482-.307-.817-.658-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283c.186-.438.548-.812 1.086-1.119a3.486 3.486 0 0 1 1.778-.477c.746 0 1.393.17 1.942.51a3.235 3.235 0 0 1 1.283 1.4c.297.592.444 1.282.444 2.072 0 .8-.175 1.498-.526 2.09a3.52 3.52 0 0 1-1.382 1.366 3.785 3.785 0 0 1-1.876.477zm-.296-1.481c.713 0 1.26-.225 1.645-.675.384-.46.577-1.053.577-1.778 0-.734-.193-1.327-.577-1.776-.373-.46-.921-.692-1.645-.692a2.115 2.115 0 0 0-1.58.659c-.428.428-.642.992-.642 1.694v.115c0 .473.098.895.296 1.267a2.385 2.385 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481c.176-.505.46-.91.856-1.217a2.14 2.14 0 0 1 1.349-.46c.351 0 .593.032.724.098l-.247 1.794c-.099-.066-.313-.099-.642-.099-.516 0-.988.164-1.416.494-.417.329-.626.855-.626 1.58v3.883h-1.777V9.242zm9.534 7.718c-.9 0-1.651-.175-2.255-.526-.603-.362-1.047-.84-1.332-1.432a4.567 4.567 0 0 1-.428-1.975c0-.8.164-1.502.493-2.106a3.462 3.462 0 0 1 1.4-1.382c.592-.33 1.262-.494 2.007-.494 1.163 0 2.024.324 2.584.97.57.637.856 1.537.856 2.7 0 .296-.017.603-.05.92h-5.43c.12.67.356 1.153.708 1.45.362.296.86.443 1.497.443.526 0 .96-.044 1.3-.131a4.123 4.123 0 0 0 .938-.362l.542 1.267c-.274.175-.647.329-1.119.46-.472.132-1.042.197-1.711.197zm1.596-4.558c.01-.68-.137-1.158-.444-1.432-.307-.285-.746-.428-1.316-.428-1.152 0-1.815.62-1.991 1.86h3.752z'/%3E%3Cg fill-rule='evenodd' stroke-width='1.036'%3E%3Cpath fill='%23000' fill-opacity='.4' d='m8.166 16.146-.002.002a1.54 1.54 0 0 1-2.009 0l-.002-.002-.043-.034-.002-.002-.199-.162H4.377a.657.657 0 0 0-.659.659v1.84a.657.657 0 0 0 .659.659h5.565a.657.657 0 0 0 .659-.659v-1.84a.657.657 0 0 0-.659-.659H8.411l-.202.164zm-1.121-.905a.29.29 0 0 0 .113.023.286.286 0 0 0 .189-.07l.077-.063c.634-.508 4.672-3.743 4.672-7.575 0-2.55-2.215-4.625-4.938-4.625S2.221 5.006 2.221 7.556c0 3.225 2.86 6.027 4.144 7.137h.004l.04.038.484.4.077.063a.628.628 0 0 0 .074.047zm-2.52-.548a16.898 16.898 0 0 1-1.183-1.315C2.187 11.942.967 9.897.967 7.555c0-3.319 2.855-5.88 6.192-5.88 3.338 0 6.193 2.561 6.193 5.881 0 2.34-1.22 4.387-2.376 5.822a16.898 16.898 0 0 1-1.182 1.315h.15a1.912 1.912 0 0 1 1.914 1.914v1.84a1.912 1.912 0 0 1-1.914 1.914H4.377a1.912 1.912 0 0 1-1.914-1.914v-1.84a1.912 1.912 0 0 1 1.914-1.914zm3.82-6.935c0 .692-.55 1.222-1.187 1.222s-1.185-.529-1.185-1.222.548-1.222 1.185-1.222c.638 0 1.186.529 1.186 1.222zm-1.186 2.477c1.348 0 2.442-1.11 2.442-2.478S8.507 5.28 7.159 5.28 4.72 6.39 4.72 7.758s1.092 2.477 2.44 2.477zm2.048 7.71H5.114v-.838h4.093z'/%3E%3Cpath fill='%23e1e3e9' d='M2.222 7.555c0-2.55 2.214-4.625 4.937-4.625 2.723 0 4.938 2.075 4.938 4.625 0 3.832-4.038 7.068-4.672 7.575l-.077.063a.286.286 0 0 1-.189.07.286.286 0 0 1-.188-.07l-.077-.063c-.634-.507-4.672-3.743-4.672-7.575zm4.937 2.68c1.348 0 2.442-1.11 2.442-2.478S8.507 5.28 7.159 5.28 4.72 6.39 4.72 7.758s1.092 2.477 2.44 2.477z'/%3E%3Cpath fill='%23fff' d='M4.377 15.948a.657.657 0 0 0-.659.659v1.84a.657.657 0 0 0 .659.659h5.565a.657.657 0 0 0 .659-.659v-1.84a.657.657 0 0 0-.659-.659zm4.83 1.16H5.114v.838h4.093z'/%3E%3C/g%3E%3C/svg%3E\");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.maplibregl-ctrl-logo.maplibregl-compact{width:14px}@media (-ms-high-contrast:active){a.maplibregl-ctrl-logo{background-color:transparent;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.255 1.255 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.255 1.255 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5.11 5.11 0 0 1 .314-.787l.009-.016a4.623 4.623 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.548 4.548 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4.314.319.566.676.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.416 2.416 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.448 2.448 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675c.211.2.381.43.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.76 4.76 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.407 3.407 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.255 1.255 0 0 1 .689 1.004 4.73 4.73 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528 0 .343-.02.694-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.815 5.815 0 0 1-.548-2.512c0-.286.017-.567.053-.843a1.255 1.255 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.778 4.778 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.47 4.47 0 0 1-1.935-.424 1.252 1.252 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.402 2.402 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.703 4.703 0 0 1-1.782 1.884 4.767 4.767 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.47 4.47 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a4.983 4.983 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.255 1.255 0 0 1-1.115.676h-.098a1.255 1.255 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15c.329-.237.574-.499.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267c-.088-.22-.264-.438-.526-.658l-.032-.028a3.16 3.16 0 0 0-.668-.428l-.27-.12a3.293 3.293 0 0 0-1.235-.23c-.757 0-1.415.163-1.974.493a3.36 3.36 0 0 0-1.3 1.382c-.297.593-.444 1.284-.444 2.074 0 .8.17 1.503.51 2.107a3.795 3.795 0 0 0 1.382 1.381 3.883 3.883 0 0 0 1.893.477c.53 0 1.015-.11 1.455-.33zm-2.789-5.38c-.384.45-.575 1.038-.575 1.762 0 .735.186 1.332.559 1.794.384.45.933.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.17 2.17 0 0 0 .468-.29l.178-.161a2.163 2.163 0 0 0 .397-.561c.163-.333.244-.717.244-1.15v-.115c0-.472-.098-.894-.296-1.267l-.043-.077a2.211 2.211 0 0 0-.633-.709l-.13-.086-.047-.028a2.099 2.099 0 0 0-1.073-.285c-.702 0-1.244.231-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.958.958 0 0 0-.353-.389.851.851 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.626 2.626 0 0 0 .331.423c.213.22.464.402.755.548l.173.074c.433.17.93.255 1.49.255.68 0 1.295-.165 1.844-.493a3.447 3.447 0 0 0 1.316-1.4c.329-.603.493-1.299.493-2.089 0-1.273-.33-2.243-.988-2.913-.658-.68-1.52-1.02-2.584-1.02-.598 0-1.124.115-1.575.347a2.807 2.807 0 0 0-.415.262l-.199.166a3.35 3.35 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138c.137.193.297.36.48.5l.155.11.053.034c.34.197.713.297 1.119.297.714 0 1.262-.225 1.645-.675.385-.46.576-1.048.576-1.762 0-.746-.192-1.338-.576-1.777-.372-.45-.92-.675-1.645-.675-.29 0-.569.053-.835.16a2.366 2.366 0 0 0-.284.136 1.99 1.99 0 0 0-.363.254 2.237 2.237 0 0 0-.46.569l-.082.162a2.56 2.56 0 0 0-.213 1.072v.115c0 .471.098.894.296 1.267l.135.211zm.964-.818a1.11 1.11 0 0 0 .367.385.937.937 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a.995.995 0 0 0-.503.135l-.012.007a.859.859 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.43 1.43 0 0 0 .14.66zm15.7-6.222c.232-.23.346-.516.346-.856a1.053 1.053 0 0 0-.345-.79 1.175 1.175 0 0 0-.84-.329c-.34 0-.625.11-.855.33a1.053 1.053 0 0 0-.346.79c0 .34.115.625.346.855.23.23.516.346.856.346.34 0 .62-.115.839-.346zm4.337 9.314.033-1.332c.128.269.324.518.59.747l.098.081a3.727 3.727 0 0 0 .316.224l.223.122a3.21 3.21 0 0 0 1.44.322 3.785 3.785 0 0 0 1.875-.477 3.52 3.52 0 0 0 1.382-1.366c.352-.593.526-1.29.526-2.09 0-.79-.147-1.48-.444-2.073a3.235 3.235 0 0 0-1.283-1.399c-.549-.34-1.195-.51-1.942-.51a3.476 3.476 0 0 0-1.527.344l-.086.043-.165.09a3.412 3.412 0 0 0-.33.214c-.288.21-.507.446-.656.707a1.893 1.893 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.482 2.482 0 0 0 .566.7c.078.065.159.125.245.18l.144.08a2.105 2.105 0 0 0 .975.232c.713 0 1.262-.225 1.645-.675.384-.46.576-1.053.576-1.778 0-.734-.192-1.327-.576-1.777-.373-.46-.921-.692-1.645-.692a2.18 2.18 0 0 0-1.015.235c-.147.075-.285.17-.415.282l-.15.142a2.086 2.086 0 0 0-.42.594c-.149.32-.223.685-.223 1.1v.115c0 .47.097.89.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.868.868 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.13 1.13 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013c.23-.087.472-.134.724-.14l.069-.002c.329 0 .542.033.642.099l.247-1.794c-.13-.066-.37-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2.086 2.086 0 0 0-.411.148 2.18 2.18 0 0 0-.4.249 2.482 2.482 0 0 0-.485.499 2.659 2.659 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884c0-.364.053-.678.159-.943a1.49 1.49 0 0 1 .466-.636 2.52 2.52 0 0 1 .399-.253 2.19 2.19 0 0 1 .224-.099zm9.784 2.656.05-.922c0-1.162-.285-2.062-.856-2.698-.559-.647-1.42-.97-2.584-.97-.746 0-1.415.163-2.007.493a3.462 3.462 0 0 0-1.4 1.382c-.329.604-.493 1.306-.493 2.106 0 .714.143 1.371.428 1.975.285.593.73 1.07 1.332 1.432.604.351 1.355.526 2.255.526.649 0 1.204-.062 1.668-.185l.044-.012.135-.04c.409-.122.736-.263.984-.421l-.542-1.267c-.2.108-.415.199-.642.274l-.297.087c-.34.088-.773.131-1.3.131-.636 0-1.135-.147-1.497-.444a1.573 1.573 0 0 1-.192-.193c-.244-.294-.415-.705-.512-1.234l-.004-.021h5.43zm-5.427-1.256-.003.022h3.752v-.138c-.007-.485-.104-.857-.288-1.118a1.056 1.056 0 0 0-.156-.176c-.307-.285-.746-.428-1.316-.428-.657 0-1.155.202-1.494.604-.253.3-.417.712-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81c-.68 0-1.311-.16-1.893-.478a3.795 3.795 0 0 1-1.381-1.382c-.34-.604-.51-1.306-.51-2.106 0-.79.147-1.482.444-2.074a3.364 3.364 0 0 1 1.3-1.382c.559-.33 1.217-.494 1.974-.494a3.293 3.293 0 0 1 1.234.231 3.341 3.341 0 0 1 .97.575c.264.22.44.439.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332c-.186.395-.526.746-1.02 1.053a3.167 3.167 0 0 1-1.662.444zm.296-1.482c.626 0 1.152-.214 1.58-.642.428-.44.642-1.01.642-1.711v-.115c0-.472-.098-.894-.296-1.267a2.211 2.211 0 0 0-.807-.872 2.098 2.098 0 0 0-1.119-.313c-.702 0-1.245.231-1.629.692-.384.45-.575 1.037-.575 1.76 0 .736.186 1.333.559 1.795.384.45.933.675 1.645.675zm6.521-6.237h1.711v1.4c.604-1.065 1.547-1.597 2.83-1.597 1.064 0 1.926.34 2.584 1.02.659.67.988 1.641.988 2.914 0 .79-.164 1.487-.493 2.09a3.456 3.456 0 0 1-1.316 1.399 3.51 3.51 0 0 1-1.844.493c-.636 0-1.19-.11-1.662-.329a2.665 2.665 0 0 1-1.086-.97l.017 5.134h-1.728V9.242zm4.048 6.22c.714 0 1.262-.224 1.645-.674.385-.46.576-1.048.576-1.762 0-.746-.192-1.338-.576-1.777-.372-.45-.92-.675-1.645-.675-.395 0-.768.098-1.12.296-.34.187-.613.46-.822.823-.197.351-.296.763-.296 1.234v.115c0 .472.098.894.296 1.267.209.362.483.647.823.855.34.197.713.297 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.159 1.159 0 0 1-.856-.346 1.165 1.165 0 0 1-.346-.856 1.053 1.053 0 0 1 .346-.79c.23-.219.516-.329.856-.329.329 0 .609.11.839.33a1.053 1.053 0 0 1 .345.79 1.159 1.159 0 0 1-.345.855c-.22.23-.5.346-.84.346zm7.875 9.133a3.167 3.167 0 0 1-1.662-.444c-.482-.307-.817-.658-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283c.186-.438.548-.812 1.086-1.119a3.486 3.486 0 0 1 1.778-.477c.746 0 1.393.17 1.942.51a3.235 3.235 0 0 1 1.283 1.4c.297.592.444 1.282.444 2.072 0 .8-.175 1.498-.526 2.09a3.52 3.52 0 0 1-1.382 1.366 3.785 3.785 0 0 1-1.876.477zm-.296-1.481c.713 0 1.26-.225 1.645-.675.384-.46.577-1.053.577-1.778 0-.734-.193-1.327-.577-1.776-.373-.46-.921-.692-1.645-.692a2.115 2.115 0 0 0-1.58.659c-.428.428-.642.992-.642 1.694v.115c0 .473.098.895.296 1.267a2.385 2.385 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481c.176-.505.46-.91.856-1.217a2.14 2.14 0 0 1 1.349-.46c.351 0 .593.032.724.098l-.247 1.794c-.099-.066-.313-.099-.642-.099-.516 0-.988.164-1.416.494-.417.329-.626.855-.626 1.58v3.883h-1.777V9.242zm9.534 7.718c-.9 0-1.651-.175-2.255-.526-.603-.362-1.047-.84-1.332-1.432a4.567 4.567 0 0 1-.428-1.975c0-.8.164-1.502.493-2.106a3.462 3.462 0 0 1 1.4-1.382c.592-.33 1.262-.494 2.007-.494 1.163 0 2.024.324 2.584.97.57.637.856 1.537.856 2.7 0 .296-.017.603-.05.92h-5.43c.12.67.356 1.153.708 1.45.362.296.86.443 1.497.443.526 0 .96-.044 1.3-.131a4.123 4.123 0 0 0 .938-.362l.542 1.267c-.274.175-.647.329-1.119.46-.472.132-1.042.197-1.711.197zm1.596-4.558c.01-.68-.137-1.158-.444-1.432-.307-.285-.746-.428-1.316-.428-1.152 0-1.815.62-1.991 1.86h3.752z'/%3E%3Cg fill-rule='evenodd' stroke-width='1.036'%3E%3Cpath fill='%23000' fill-opacity='.4' d='m8.166 16.146-.002.002a1.54 1.54 0 0 1-2.009 0l-.002-.002-.043-.034-.002-.002-.199-.162H4.377a.657.657 0 0 0-.659.659v1.84a.657.657 0 0 0 .659.659h5.565a.657.657 0 0 0 .659-.659v-1.84a.657.657 0 0 0-.659-.659H8.411l-.202.164zm-1.121-.905a.29.29 0 0 0 .113.023.286.286 0 0 0 .189-.07l.077-.063c.634-.508 4.672-3.743 4.672-7.575 0-2.55-2.215-4.625-4.938-4.625S2.221 5.006 2.221 7.556c0 3.225 2.86 6.027 4.144 7.137h.004l.04.038.484.4.077.063a.628.628 0 0 0 .074.047zm-2.52-.548a16.898 16.898 0 0 1-1.183-1.315C2.187 11.942.967 9.897.967 7.555c0-3.319 2.855-5.88 6.192-5.88 3.338 0 6.193 2.561 6.193 5.881 0 2.34-1.22 4.387-2.376 5.822a16.898 16.898 0 0 1-1.182 1.315h.15a1.912 1.912 0 0 1 1.914 1.914v1.84a1.912 1.912 0 0 1-1.914 1.914H4.377a1.912 1.912 0 0 1-1.914-1.914v-1.84a1.912 1.912 0 0 1 1.914-1.914zm3.82-6.935c0 .692-.55 1.222-1.187 1.222s-1.185-.529-1.185-1.222.548-1.222 1.185-1.222c.638 0 1.186.529 1.186 1.222zm-1.186 2.477c1.348 0 2.442-1.11 2.442-2.478S8.507 5.28 7.159 5.28 4.72 6.39 4.72 7.758s1.092 2.477 2.44 2.477zm2.048 7.71H5.114v-.838h4.093z'/%3E%3Cpath fill='%23e1e3e9' d='M2.222 7.555c0-2.55 2.214-4.625 4.937-4.625 2.723 0 4.938 2.075 4.938 4.625 0 3.832-4.038 7.068-4.672 7.575l-.077.063a.286.286 0 0 1-.189.07.286.286 0 0 1-.188-.07l-.077-.063c-.634-.507-4.672-3.743-4.672-7.575zm4.937 2.68c1.348 0 2.442-1.11 2.442-2.478S8.507 5.28 7.159 5.28 4.72 6.39 4.72 7.758s1.092 2.477 2.44 2.477z'/%3E%3Cpath fill='%23fff' d='M4.377 15.948a.657.657 0 0 0-.659.659v1.84a.657.657 0 0 0 .659.659h5.565a.657.657 0 0 0 .659-.659v-1.84a.657.657 0 0 0-.659-.659zm4.83 1.16H5.114v.838h4.093z'/%3E%3C/g%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){a.maplibregl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.255 1.255 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.255 1.255 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5.11 5.11 0 0 1 .314-.787l.009-.016a4.623 4.623 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.548 4.548 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4.314.319.566.676.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.416 2.416 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.448 2.448 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675c.211.2.381.43.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.76 4.76 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.407 3.407 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.255 1.255 0 0 1 .689 1.004 4.73 4.73 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528 0 .343-.02.694-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.815 5.815 0 0 1-.548-2.512c0-.286.017-.567.053-.843a1.255 1.255 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.778 4.778 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.47 4.47 0 0 1-1.935-.424 1.252 1.252 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.402 2.402 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.703 4.703 0 0 1-1.782 1.884 4.767 4.767 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.47 4.47 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a4.983 4.983 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.255 1.255 0 0 1-1.115.676h-.098a1.255 1.255 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15c.329-.237.574-.499.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267c-.088-.22-.264-.438-.526-.658l-.032-.028a3.16 3.16 0 0 0-.668-.428l-.27-.12a3.293 3.293 0 0 0-1.235-.23c-.757 0-1.415.163-1.974.493a3.36 3.36 0 0 0-1.3 1.382c-.297.593-.444 1.284-.444 2.074 0 .8.17 1.503.51 2.107a3.795 3.795 0 0 0 1.382 1.381 3.883 3.883 0 0 0 1.893.477c.53 0 1.015-.11 1.455-.33zm-2.789-5.38c-.384.45-.575 1.038-.575 1.762 0 .735.186 1.332.559 1.794.384.45.933.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.17 2.17 0 0 0 .468-.29l.178-.161a2.163 2.163 0 0 0 .397-.561c.163-.333.244-.717.244-1.15v-.115c0-.472-.098-.894-.296-1.267l-.043-.077a2.211 2.211 0 0 0-.633-.709l-.13-.086-.047-.028a2.099 2.099 0 0 0-1.073-.285c-.702 0-1.244.231-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.958.958 0 0 0-.353-.389.851.851 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.626 2.626 0 0 0 .331.423c.213.22.464.402.755.548l.173.074c.433.17.93.255 1.49.255.68 0 1.295-.165 1.844-.493a3.447 3.447 0 0 0 1.316-1.4c.329-.603.493-1.299.493-2.089 0-1.273-.33-2.243-.988-2.913-.658-.68-1.52-1.02-2.584-1.02-.598 0-1.124.115-1.575.347a2.807 2.807 0 0 0-.415.262l-.199.166a3.35 3.35 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138c.137.193.297.36.48.5l.155.11.053.034c.34.197.713.297 1.119.297.714 0 1.262-.225 1.645-.675.385-.46.576-1.048.576-1.762 0-.746-.192-1.338-.576-1.777-.372-.45-.92-.675-1.645-.675-.29 0-.569.053-.835.16a2.366 2.366 0 0 0-.284.136 1.99 1.99 0 0 0-.363.254 2.237 2.237 0 0 0-.46.569l-.082.162a2.56 2.56 0 0 0-.213 1.072v.115c0 .471.098.894.296 1.267l.135.211zm.964-.818a1.11 1.11 0 0 0 .367.385.937.937 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a.995.995 0 0 0-.503.135l-.012.007a.859.859 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.43 1.43 0 0 0 .14.66zm15.7-6.222c.232-.23.346-.516.346-.856a1.053 1.053 0 0 0-.345-.79 1.175 1.175 0 0 0-.84-.329c-.34 0-.625.11-.855.33a1.053 1.053 0 0 0-.346.79c0 .34.115.625.346.855.23.23.516.346.856.346.34 0 .62-.115.839-.346zm4.337 9.314.033-1.332c.128.269.324.518.59.747l.098.081a3.727 3.727 0 0 0 .316.224l.223.122a3.21 3.21 0 0 0 1.44.322 3.785 3.785 0 0 0 1.875-.477 3.52 3.52 0 0 0 1.382-1.366c.352-.593.526-1.29.526-2.09 0-.79-.147-1.48-.444-2.073a3.235 3.235 0 0 0-1.283-1.399c-.549-.34-1.195-.51-1.942-.51a3.476 3.476 0 0 0-1.527.344l-.086.043-.165.09a3.412 3.412 0 0 0-.33.214c-.288.21-.507.446-.656.707a1.893 1.893 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.482 2.482 0 0 0 .566.7c.078.065.159.125.245.18l.144.08a2.105 2.105 0 0 0 .975.232c.713 0 1.262-.225 1.645-.675.384-.46.576-1.053.576-1.778 0-.734-.192-1.327-.576-1.777-.373-.46-.921-.692-1.645-.692a2.18 2.18 0 0 0-1.015.235c-.147.075-.285.17-.415.282l-.15.142a2.086 2.086 0 0 0-.42.594c-.149.32-.223.685-.223 1.1v.115c0 .47.097.89.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.868.868 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.13 1.13 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013c.23-.087.472-.134.724-.14l.069-.002c.329 0 .542.033.642.099l.247-1.794c-.13-.066-.37-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2.086 2.086 0 0 0-.411.148 2.18 2.18 0 0 0-.4.249 2.482 2.482 0 0 0-.485.499 2.659 2.659 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884c0-.364.053-.678.159-.943a1.49 1.49 0 0 1 .466-.636 2.52 2.52 0 0 1 .399-.253 2.19 2.19 0 0 1 .224-.099zm9.784 2.656.05-.922c0-1.162-.285-2.062-.856-2.698-.559-.647-1.42-.97-2.584-.97-.746 0-1.415.163-2.007.493a3.462 3.462 0 0 0-1.4 1.382c-.329.604-.493 1.306-.493 2.106 0 .714.143 1.371.428 1.975.285.593.73 1.07 1.332 1.432.604.351 1.355.526 2.255.526.649 0 1.204-.062 1.668-.185l.044-.012.135-.04c.409-.122.736-.263.984-.421l-.542-1.267c-.2.108-.415.199-.642.274l-.297.087c-.34.088-.773.131-1.3.131-.636 0-1.135-.147-1.497-.444a1.573 1.573 0 0 1-.192-.193c-.244-.294-.415-.705-.512-1.234l-.004-.021h5.43zm-5.427-1.256-.003.022h3.752v-.138c-.007-.485-.104-.857-.288-1.118a1.056 1.056 0 0 0-.156-.176c-.307-.285-.746-.428-1.316-.428-.657 0-1.155.202-1.494.604-.253.3-.417.712-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81c-.68 0-1.311-.16-1.893-.478a3.795 3.795 0 0 1-1.381-1.382c-.34-.604-.51-1.306-.51-2.106 0-.79.147-1.482.444-2.074a3.364 3.364 0 0 1 1.3-1.382c.559-.33 1.217-.494 1.974-.494a3.293 3.293 0 0 1 1.234.231 3.341 3.341 0 0 1 .97.575c.264.22.44.439.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332c-.186.395-.526.746-1.02 1.053a3.167 3.167 0 0 1-1.662.444zm.296-1.482c.626 0 1.152-.214 1.58-.642.428-.44.642-1.01.642-1.711v-.115c0-.472-.098-.894-.296-1.267a2.211 2.211 0 0 0-.807-.872 2.098 2.098 0 0 0-1.119-.313c-.702 0-1.245.231-1.629.692-.384.45-.575 1.037-.575 1.76 0 .736.186 1.333.559 1.795.384.45.933.675 1.645.675zm6.521-6.237h1.711v1.4c.604-1.065 1.547-1.597 2.83-1.597 1.064 0 1.926.34 2.584 1.02.659.67.988 1.641.988 2.914 0 .79-.164 1.487-.493 2.09a3.456 3.456 0 0 1-1.316 1.399 3.51 3.51 0 0 1-1.844.493c-.636 0-1.19-.11-1.662-.329a2.665 2.665 0 0 1-1.086-.97l.017 5.134h-1.728V9.242zm4.048 6.22c.714 0 1.262-.224 1.645-.674.385-.46.576-1.048.576-1.762 0-.746-.192-1.338-.576-1.777-.372-.45-.92-.675-1.645-.675-.395 0-.768.098-1.12.296-.34.187-.613.46-.822.823-.197.351-.296.763-.296 1.234v.115c0 .472.098.894.296 1.267.209.362.483.647.823.855.34.197.713.297 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.159 1.159 0 0 1-.856-.346 1.165 1.165 0 0 1-.346-.856 1.053 1.053 0 0 1 .346-.79c.23-.219.516-.329.856-.329.329 0 .609.11.839.33a1.053 1.053 0 0 1 .345.79 1.159 1.159 0 0 1-.345.855c-.22.23-.5.346-.84.346zm7.875 9.133a3.167 3.167 0 0 1-1.662-.444c-.482-.307-.817-.658-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283c.186-.438.548-.812 1.086-1.119a3.486 3.486 0 0 1 1.778-.477c.746 0 1.393.17 1.942.51a3.235 3.235 0 0 1 1.283 1.4c.297.592.444 1.282.444 2.072 0 .8-.175 1.498-.526 2.09a3.52 3.52 0 0 1-1.382 1.366 3.785 3.785 0 0 1-1.876.477zm-.296-1.481c.713 0 1.26-.225 1.645-.675.384-.46.577-1.053.577-1.778 0-.734-.193-1.327-.577-1.776-.373-.46-.921-.692-1.645-.692a2.115 2.115 0 0 0-1.58.659c-.428.428-.642.992-.642 1.694v.115c0 .473.098.895.296 1.267a2.385 2.385 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481c.176-.505.46-.91.856-1.217a2.14 2.14 0 0 1 1.349-.46c.351 0 .593.032.724.098l-.247 1.794c-.099-.066-.313-.099-.642-.099-.516 0-.988.164-1.416.494-.417.329-.626.855-.626 1.58v3.883h-1.777V9.242zm9.534 7.718c-.9 0-1.651-.175-2.255-.526-.603-.362-1.047-.84-1.332-1.432a4.567 4.567 0 0 1-.428-1.975c0-.8.164-1.502.493-2.106a3.462 3.462 0 0 1 1.4-1.382c.592-.33 1.262-.494 2.007-.494 1.163 0 2.024.324 2.584.97.57.637.856 1.537.856 2.7 0 .296-.017.603-.05.92h-5.43c.12.67.356 1.153.708 1.45.362.296.86.443 1.497.443.526 0 .96-.044 1.3-.131a4.123 4.123 0 0 0 .938-.362l.542 1.267c-.274.175-.647.329-1.119.46-.472.132-1.042.197-1.711.197zm1.596-4.558c.01-.68-.137-1.158-.444-1.432-.307-.285-.746-.428-1.316-.428-1.152 0-1.815.62-1.991 1.86h3.752z'/%3E%3Cg fill-rule='evenodd' stroke-width='1.036'%3E%3Cpath fill='%23000' fill-opacity='.4' d='m8.166 16.146-.002.002a1.54 1.54 0 0 1-2.009 0l-.002-.002-.043-.034-.002-.002-.199-.162H4.377a.657.657 0 0 0-.659.659v1.84a.657.657 0 0 0 .659.659h5.565a.657.657 0 0 0 .659-.659v-1.84a.657.657 0 0 0-.659-.659H8.411l-.202.164zm-1.121-.905a.29.29 0 0 0 .113.023.286.286 0 0 0 .189-.07l.077-.063c.634-.508 4.672-3.743 4.672-7.575 0-2.55-2.215-4.625-4.938-4.625S2.221 5.006 2.221 7.556c0 3.225 2.86 6.027 4.144 7.137h.004l.04.038.484.4.077.063a.628.628 0 0 0 .074.047zm-2.52-.548a16.898 16.898 0 0 1-1.183-1.315C2.187 11.942.967 9.897.967 7.555c0-3.319 2.855-5.88 6.192-5.88 3.338 0 6.193 2.561 6.193 5.881 0 2.34-1.22 4.387-2.376 5.822a16.898 16.898 0 0 1-1.182 1.315h.15a1.912 1.912 0 0 1 1.914 1.914v1.84a1.912 1.912 0 0 1-1.914 1.914H4.377a1.912 1.912 0 0 1-1.914-1.914v-1.84a1.912 1.912 0 0 1 1.914-1.914zm3.82-6.935c0 .692-.55 1.222-1.187 1.222s-1.185-.529-1.185-1.222.548-1.222 1.185-1.222c.638 0 1.186.529 1.186 1.222zm-1.186 2.477c1.348 0 2.442-1.11 2.442-2.478S8.507 5.28 7.159 5.28 4.72 6.39 4.72 7.758s1.092 2.477 2.44 2.477zm2.048 7.71H5.114v-.838h4.093z'/%3E%3Cpath fill='%23e1e3e9' d='M2.222 7.555c0-2.55 2.214-4.625 4.937-4.625 2.723 0 4.938 2.075 4.938 4.625 0 3.832-4.038 7.068-4.672 7.575l-.077.063a.286.286 0 0 1-.189.07.286.286 0 0 1-.188-.07l-.077-.063c-.634-.507-4.672-3.743-4.672-7.575zm4.937 2.68c1.348 0 2.442-1.11 2.442-2.478S8.507 5.28 7.159 5.28 4.72 6.39 4.72 7.758s1.092 2.477 2.44 2.477z'/%3E%3Cpath fill='%23fff' d='M4.377 15.948a.657.657 0 0 0-.659.659v1.84a.657.657 0 0 0 .659.659h5.565a.657.657 0 0 0 .659-.659v-1.84a.657.657 0 0 0-.659-.659zm4.83 1.16H5.114v.838h4.093z'/%3E%3C/g%3E%3C/svg%3E\")}}.maplibregl-ctrl.maplibregl-ctrl-attrib{background-color:hsla(0,0%,100%,.5);margin:0;padding:0 5px}@media screen{.maplibregl-ctrl-attrib.maplibregl-compact{background-color:#fff;border-radius:12px;box-sizing:content-box;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.maplibregl-ctrl-attrib.maplibregl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact-show,.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner{display:none}.maplibregl-ctrl-attrib-button{background-color:hsla(0,0%,100%,.5);background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E\");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;list-style:none}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button::-webkit-details-marker{display:none}.maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button{left:0}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner{display:block}.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-bottom-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;right:0}.maplibregl-ctrl-top-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{right:0;top:0}.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{left:0;top:0}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E\")}}@media screen and (-ms-high-contrast:black-on-white){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E\")}}.maplibregl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.maplibregl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.maplibregl-attrib-empty{display:none}.maplibregl-ctrl-scale{background-color:hsla(0,0%,100%,.75);border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px}.maplibregl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.maplibregl-popup-anchor-top,.maplibregl-popup-anchor-top-left,.maplibregl-popup-anchor-top-right{flex-direction:column}.maplibregl-popup-anchor-bottom,.maplibregl-popup-anchor-bottom-left,.maplibregl-popup-anchor-bottom-right{flex-direction:column-reverse}.maplibregl-popup-anchor-left{flex-direction:row}.maplibregl-popup-anchor-right{flex-direction:row-reverse}.maplibregl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.maplibregl-popup-anchor-top .maplibregl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.maplibregl-popup-anchor-top-left .maplibregl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.maplibregl-popup-anchor-top-right .maplibregl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.maplibregl-popup-anchor-bottom .maplibregl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.maplibregl-popup-anchor-left .maplibregl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.maplibregl-popup-anchor-right .maplibregl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.maplibregl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.maplibregl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.maplibregl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:15px 10px;pointer-events:auto;position:relative}.maplibregl-popup-anchor-top-left .maplibregl-popup-content{border-top-left-radius:0}.maplibregl-popup-anchor-top-right .maplibregl-popup-content{border-top-right-radius:0}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content{border-bottom-left-radius:0}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content{border-bottom-right-radius:0}.maplibregl-popup-track-pointer{display:none}.maplibregl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.maplibregl-map:hover .maplibregl-popup-track-pointer{display:flex}.maplibregl-map:active .maplibregl-popup-track-pointer{display:none}.maplibregl-marker{left:0;position:absolute;top:0;will-change:transform}.maplibregl-user-location-dot,.maplibregl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.maplibregl-user-location-dot:before{-webkit-animation:maplibregl-user-location-dot-pulse 2s infinite;animation:maplibregl-user-location-dot-pulse 2s infinite;content:\"\";position:absolute}.maplibregl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.35);box-sizing:border-box;content:\"\";height:19px;left:-2px;position:absolute;top:-2px;width:19px}@-webkit-keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}70%{opacity:0;-webkit-transform:scale(3);transform:scale(3)}to{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}@keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}70%{opacity:0;-webkit-transform:scale(3);transform:scale(3)}to{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}.maplibregl-user-location-dot-stale{background-color:#aaa}.maplibregl-user-location-dot-stale:after{display:none}.maplibregl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.maplibregl-crosshair,.maplibregl-crosshair .maplibregl-interactive,.maplibregl-crosshair .maplibregl-interactive:active{cursor:crosshair}.maplibregl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}.maplibregl-cooperative-gesture-screen{align-items:center;background:rgba(0,0,0,.4);color:#fff;display:flex;font-size:1.4em;inset:0;justify-content:center;line-height:1.2;opacity:0;padding:1rem;pointer-events:none;position:absolute;transition:opacity 1s ease 1s;z-index:99999}.maplibregl-cooperative-gesture-screen.maplibregl-show{opacity:1;transition:opacity .05s}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:none}@media (hover:none),(width <= 480px){.maplibregl-cooperative-gesture-screen .maplibregl-desktop-message{display:none}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:block}}.maplibregl-pseudo-fullscreen{height:100%!important;left:0!important;position:fixed!important;top:0!important;width:100%!important;z-index:99999}"),window.maplibregl=ym();let Ed=0;class Ep extends by{constructor(...e){super(...e),(0,ai.Z)(this,"version",bc.MAPBOX),(0,ai.Z)(this,"viewport",void 0)}getType(){return"mapbox"}lngLatToCoord(e,t={x:0,y:0,z:0}){let{x:n,y:r}=this.lngLatToMercator(e,0);return[n-t.x,r-t.y]}lngLatToMercator(e,t){let{x:n=0,y:r=0,z:i=0}=window.maplibregl.MercatorCoordinate.fromLngLat(e,t);return{x:n,y:r,z:i}}getModelMatrix(e,t,n,r=[1,1,1],i={x:0,y:0,z:0}){let o=window.maplibregl.MercatorCoordinate.fromLngLat(e,t),a=o.meterInMercatorCoordinateUnits(),s=aH.create();return aH.translate(s,s,fI.al(o.x-i.x,o.y-i.y,o.z||0-i.z)),aH.scale(s,s,fI.al(a*r[0],-a*r[1],a*r[2])),aH.rotateX(s,s,n[0]),aH.rotateY(s,s,n[1]),aH.rotateZ(s,s,n[2]),s}init(){var e=this;return(0,aZ.Z)(function*(){let t=e.config,{id:n="map",attributionControl:r=!1,style:i="light",rotation:o=0,mapInstance:a}=t,s=(0,so.Z)(t,Eu);e.viewport=new bl,a||window.maplibregl||console.error(e.configService.getSceneWarninfo("SDK")),a?(e.map=a,e.$mapContainer=e.map.getContainer()):(e.$mapContainer=e.creatMapContainer(n),"string"!=typeof i&&e.addProtocol(),e.map=new window.maplibregl.Map((0,ar.Z)({container:e.$mapContainer,style:e.getMapStyleValue(i),attributionControl:r,bearing:o},s))),e.map.on("load",()=>{e.handleCameraChanged()}),e.map.on("move",e.handleCameraChanged),e.handleCameraChanged()})()}addProtocol(){let e=new y8;ym().addProtocol("pmtiles",e.tile)}destroy(){var e;null===(e=this.$mapContainer)||void 0===e||null===(e=e.parentNode)||void 0===e||e.removeChild(this.$mapContainer),this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}emit(e,...t){this.eventEmitter.emit(e,...t)}once(e,...t){this.eventEmitter.once(e,...t)}getMapContainer(){return this.$mapContainer}getCanvasOverlays(){var e;return null===(e=this.getMapContainer())||void 0===e?void 0:e.querySelector(".maplibregl-canvas-container")}meterToCoord(e,t){let n=new(ym()).LngLat(e[0],e[1]),r=new(ym()).LngLat(t[0],t[1]),i=n.distanceTo(r),o=ym().MercatorCoordinate.fromLngLat({lng:e[0],lat:e[1]}),a=ym().MercatorCoordinate.fromLngLat({lng:t[0],lat:t[1]}),{x:s,y:l}=o,{x:c,y:u}=a,d=8388608*Math.sqrt(Math.pow(s-c,2)+Math.pow(l-u,2));return d/i}exportMap(e){let t=this.map.getCanvas(),n="jpg"===e?null==t?void 0:t.toDataURL("image/jpeg"):null==t?void 0:t.toDataURL("image/png");return n}creatMapContainer(e){let t=e;"string"==typeof e&&(t=document.getElementById(e));let n=document.createElement("div");return n.style.cssText+=`
      position: absolute;
      top: 0;
      height: 100%;
      width: 100%;
    `,n.id="l7_mapbox_div"+Ed++,t.appendChild(n),n}}class Eh extends mW{getServiceConstructor(){return Ep}}let Ef=e=>{let{tk:t}=e;return new Promise(e=>{let n=document.createElement("script");n.type="text/javascript",n.src=`https://api.tianditu.gov.cn/api?v=4.0&tk=${t}`,n.onload=function(){console.log("TianDiTu API script loaded."),e(!0)},n.onerror=function(){console.error("Failed to load TianDiTu API script."),e(!1)},document.head.appendChild(n)})},Eg=0,Em={zoomchange:["Ge"]};class Eb extends by{constructor(...e){super(...e),(0,ai.Z)(this,"viewport",null),(0,ai.Z)(this,"evtCbProxyMap",new Map),(0,ai.Z)(this,"sceneContainer",void 0),(0,ai.Z)(this,"handleCameraChanged",()=>{this.emit("mapchange");let e=this.map,{lng:t,lat:n}=this.map.getCenter(),r={center:[t,n],viewportHeight:e.getContainer().clientHeight,viewportWidth:e.getContainer().clientWidth,bearing:360,pitch:0,zoom:e.getZoom()-1};this.viewport&&(this.viewport.syncWithMapCamera(r),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport))})}addMarkerContainer(){let e=this.map.getContainer(),t=this.markerContainer=document.createElement("div");e.appendChild(t),t.setAttribute("tabindex","-1"),t.id="tdt-L7-marker",t.style.position="absolute",t.style.left="",t.style.top="",t.style.zIndex="600",t.style.width="0px",t.style.height="0px",t.style.overflow="visible"}getMarkerContainer(){return this.markerContainer}onCameraChanged(e){this.cameraChangedCallback=e}resize(e){this.sceneContainer.style.width=e.newSize.x+"px",this.sceneContainer.style.height=e.newSize.y+"px"}update(){let e=this.map.getBounds(),{x:t,y:n}=this.map.lngLatToLayerPoint({lng:e.getSouthWest().lng,lat:e.getNorthEast().lat});this.sceneContainer.style.transition="",this.sceneContainer.style.transformOrigin="center",this.sceneContainer.style.transform=`translate3d(${t}px, ${n}px, 0px) scale(1)`,this.markerContainer.style.transition="",this.markerContainer.style.transformOrigin="center",this.markerContainer.style.transform=`translate3d(${-t}px, ${-n}px, 0px) scale(1)`,this.sceneContainer._tdt_pos=new T.Point(t,n),this.handleCameraChanged()}getZoomScale(e,t){let n=this.map.options.IW;return t=void 0===t?this.map.getZoom():t,n.scale(e)/n.scale(t)}zoomStartUpdate(e){let t=e.center,n=e.zoom,r=this.getZoomScale(n,this.map.getZoom()),i=T._Q.getPosition(this.sceneContainer),o=this.map.getSize().GQ(.5),a=this.map.options.IW.qW(this.map.getCenter(),n),s=this.map.options.IW.qW(t,n),l=s.DQ(a),c=new T.Point(o.x,o.y).GQ(-r);c.aQ(i),c.aQ(o),c.DQ(l),this.sceneContainer.style.transform=`translate3d(${c.x}px,${c.y}px,0px) scale(${r})`,this.sceneContainer.style.transformOrigin="0 0",this.sceneContainer.style.transition="transform 0.25s cubic-bezier(0,0,0.25,1)",this.handleCameraChanged()}getOverlayContainer(){var e;let t=null===(e=this.map.getPanes())||void 0===e?void 0:e.overlayPane,n=document.createElement("div");t.parentElement.appendChild(n),n.id="tdt-L7";let r=this.map.getSize();return n.style.zIndex="200",n.style.width=`${r.x}px`,n.style.height=`${r.y}px`,this.sceneContainer=n,n}init(){var e=this;return(0,aZ.Z)(function*(){e.viewport=new bl;let{id:t,mapInstance:n,center:r=[121.30654632240122,31.25744185633306],token:i="b15e548080c79819617367d3f6095c69",minZoom:o=1,maxZoom:a=18,zoom:s=3}=e.config;if(window.T||(yield Ef({tk:i})),n){e.map=n,e.map.centerAndZoom(new window.T.LngLat(r[0],r[1]),s),e.$mapContainer=e.map.getContainer();let t=new window.T.LngLat(r[0],r[1]);e.map.centerAndZoom(t,s),e.setMinZoom(o),e.setMaxZoom(a)}else{if(!t)throw Error("No container id specified");e.$mapContainer=e.creatMapContainer(t);let n=new T.Map(e.$mapContainer,{center:window.T.LngLat(r[0],r[1]),minZoom:o,maxZoom:a,zoom:s,projection:"EPSG:900913"});e.map=n;let i=new window.T.Control.Zoom;n.addControl(i)}let l=e.map.getContainer(),c=l.querySelector(".tdt-pane");c.style.zIndex=1,e.handleCameraChanged(),e.map.on("move",e.update,e),e.map.on("Ge",e.zoomStartUpdate,e),e.map.on("resize",e.resize,e)})()}destroy(){}on(e,t){if(-1!==ak.indexOf(e))this.eventEmitter.on(e,t);else{let n=e=>{let n=this.evtCbProxyMap.get(e);if(n||this.evtCbProxyMap.set(e,n=new Map),n.get(t))return;let r=(...e)=>{!e[0]||"object"!=typeof e[0]||e[0].lngLat||e[0].lnglat||(e[0].lngLat=e[0].latlng||e[0].latLng,e[0].map=this.map),t(...e)};n.set(t,r),this.map.on(e,r)};Array.isArray(Em[e])?Em[e].forEach(t=>{n(t||e)}):n(Em[e]||e)}}off(e,t){if(-1!==ak.indexOf(e)){this.eventEmitter.off(e,t);return}let n=n=>{var r,i;let o=null===(r=this.evtCbProxyMap.get(e))||void 0===r?void 0:r.get(t);o&&(null===(i=this.evtCbProxyMap.get(n))||void 0===i||i.delete(t),this.map.off(n,o))};Array.isArray(Em[e])?Em[e].forEach(t=>{n(t||e)}):n(Em[e]||e)}once(e,t){throw Error("Method not implemented.")}getMapContainer(){return this.map.getContainer()}getType(){return"tdtmap"}getMapCanvasContainer(){var e;return null===(e=this.map.getContainer())||void 0===e?void 0:e.getElementsByClassName("tdt-container")[0]}getSize(){let e=this.map.getSize();return[e.x,e.y]}getZoom(){return this.map.getZoom()}setZoom(e){return this.map.setZoom(e)}getCenter(){return this.map.getCenter()}setCenter(e){let t=window.T.LngLat(e[0],e[1]);this.map.centerAndZoom(t,this.map.getZoom())}setZoomAndCenter(e,t){let n=window.T.LngLat(t[0],t[1]);this.map.centerAndZoom(n,e)}getPitch(){return 0}getRotation(){return 0}setRotation(e){this.map.setBearing(e)}zoomIn(e,t){this.map.zoomIn(e,t)}zoomOut(e,t){this.map.zoomOut(e,t)}panTo(e){this.map.panTo(e)}panBy(e=0,t=0){this.map.panBy([e,t])}fitBounds(e){let[t,n]=e;this.map.setViewport([new window.T.LngLat(t[0],t[1]),new window.T.LngLat(n[0],n[1])])}setMaxZoom(e){this.map.setMaxZoom(e)}setMinZoom(e){this.map.setMinZoom(e)}setMapStatus(e){!0===e.doubleClickZoom&&this.map.enableDoubleClickZoom(),!1===e.doubleClickZoom&&this.map.disableDoubleClickZoom(),!1===e.dragEnable&&this.map.disableDrag(),!0===e.dragEnable&&this.map.enableDrag(),!1===e.keyboardEnable&&this.map.disableKeyboard(),!0===e.keyboardEnable&&this.map.enableKeyboard(),!1===e.zoomEnable&&this.map.disableScrollWheelZoom(),!0===e.zoomEnable&&this.map.enableScrollWheelZoom()}getModelMatrix(){throw Error("Method not implemented.")}pixelToLngLat([e,t]){let n=this.map.layerPointToLngLat({x:e,y:t});return{lng:n.lng,lat:n.lat}}lngLatToPixel([e,t]){let n=this.map.lngLatToLayerPoint({lng:e,lat:t});return{x:n.x,y:n.y}}containerToLngLat([e,t]){let n=this.map.containerPointToLngLat({x:e,y:t});return{lng:n.lng,lat:n.lat}}lngLatToContainer([e,t]){let n=this.map.lngLatToContainerPoint({lat:t,lng:e});return{x:n.x,y:n.y}}lngLatToCoord([e,t]){let n=this.lngLatToPixel([e,t]);return[n.x,n.y]}lngLatToCoords(e){return e.map(e=>Array.isArray(e[0])?this.lngLatToCoords(e):this.lngLatToCoord(e))}getBounds(){let e=this.map.getBounds(),t=e.getSouthWest(),n=e.getNorthEast();return[[t.lng,t.lat],[n.lng,n.lat]]}lngLatToMercator(e,t){let{x:n=0,y:r=0,z:i=0}=bY.fromLngLat(e,t);return{x:n,y:r,z:i}}getCustomCoordCenter(){throw Error("Method not implemented.")}creatMapContainer(e){let t=e;"string"==typeof e&&(t=document.getElementById(e));let n=document.createElement("div");return n.style.cssText+=`
      position: absolute;
      top: 0;
      height: 100%;
      width: 100%;
    `,n.id="l7_tdt_div"+Eg++,t.appendChild(n),n}}class Ev extends mW{getServiceConstructor(){return Eb}}if(!window)throw Error("TMap JSAPI can only be used in Browser.");var Ey=((Y=Ey||{}).notload="notload",Y.loading="loading",Y.loaded="loaded",Y.failed="failed",Y);let EE={key:"",version:"1.exp",libraries:[]},E_={TMap:Ey.notload},ET=[],Ex=e=>{if("function"==typeof e){if(E_.TMap===Ey.loaded){e(window.TMap);return}ET.push(e)}};var ES={load:e=>new Promise((t,n)=>{if(E_.TMap===Ey.failed)n("");else if(E_.TMap===Ey.notload){let{key:r,version:i,libraries:o}=e;if(!r){n("请填写key");return}EE.key=r,EE.version=i||EE.version,EE.libraries=o||EE.libraries,E_.TMap=Ey.loading,window._onTMapAPILoaded=e=>{if(delete window._onTMapAPILoaded,e)E_.TMap=Ey.failed,n(e);else for(E_.TMap=Ey.loaded;ET.length;)ET.splice(0,1)[0](window.TMap)};let a=document.createElement("script");a.type="text/javascript",a.async=!1,a.src="https://map.qq.com/api/gljs?callback=_onTMapAPILoaded&v="+EE.version+"&key="+r+"&plugin="+EE.libraries.join(","),a.onerror=e=>{E_.TMap=Ey.failed,n(e)};let s=document.body||document.head;s.appendChild(a),Ex(t)}else if(E_.TMap===Ey.loaded){if(e.key&&e.key!==EE.key){n("多个不一致的 key");return}if(e.version&&e.version!==EE.version){n("不允许多个版本 JSAPI 混用");return}Ex(t)}}),reset:()=>{delete window.TMap,E_={TMap:Ey.notload}}};let EA=["id","mapInstance","center","token","version","libraries","minZoom","maxZoom","rotation","pitch","mapSize","logoVisible"];!function(e,t){var n="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,r="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram);if(!n&&!r&&(t||(t=document),t)){var i=t.head||t.getElementsByTagName("head")[0];if(!i){i=t.createElement("head");var o=t.body||t.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):t.documentElement.appendChild(i)}var a=t.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),i.appendChild(a)}}(`img[src*='//mapapi.qq.com/web/jsapi/logo/logo_def.png'],.logo-text
{
  display: none !important;
}

.tencent-map > canvas + div {
  z-index: 3 !important;
}
`);let EC={mapmove:"center_changed",camerachange:["drag","pan","rotate","pitch","zoom"],zoomchange:"zoom",dragging:"drag"};class Ew extends by{constructor(...e){super(...e),(0,ai.Z)(this,"viewport",null),(0,ai.Z)(this,"evtCbProxyMap",new Map),(0,ai.Z)(this,"handleCameraChanged",()=>{this.emit("mapchange");let e=this.map,{lng:t,lat:n}=e.getCenter(),r={center:[t,n],viewportHeight:e.getContainer().clientHeight,viewportWidth:e.getContainer().clientWidth,bearing:e.getHeading(),pitch:e.getPitch(),zoom:e.getZoom()-1};this.viewport.syncWithMapCamera(r),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport)})}init(){var e=this;return(0,aZ.Z)(function*(){var t;e.viewport=new bl;let n=e.config,{id:r,mapInstance:i,center:o=[121.30654632240122,31.25744185633306],token:a="OB4BZ-D4W3U-B7VVO-4PJWW-6TKDJ-WPB77",version:s="1.exp",libraries:l=[],minZoom:c=3,maxZoom:u=18,rotation:d=0,pitch:p=0,mapSize:h=1e4,logoVisible:f=!0}=n,g=(0,so.Z)(n,EA);if(window.TMap||i||(yield ES.load({key:a,version:s,libraries:l})),i)e.map=i,e.$mapContainer=e.map.getContainer(),!1===f&&e.hideLogo();else{if(!r)throw Error("No container id specified");let t=np(r),n=new TMap.Map(t,(0,ar.Z)({maxZoom:u,minZoom:c,rotation:d,pitch:p,showControl:!1,center:new TMap.LatLng(o[1],o[0])},g));e.map=n,e.$mapContainer=n.getContainer(),!1===f&&e.hideLogo()}e.map.canvasContainer.style.position="absolute",e.map.drawContainer.classList.add("tencent-map");let m=null===(t=e.map.controlManager.controlContainer)||void 0===t?void 0:t.parentNode;m&&(m.style.zIndex=2),e.simpleMapCoord.setSize(h),e.map.on("drag",e.handleCameraChanged),e.map.on("pan",e.handleCameraChanged),e.map.on("rotate",e.handleCameraChanged),e.map.on("pitch",e.handleCameraChanged),e.map.on("zoom",e.handleCameraChanged),e.handleCameraChanged()})()}destroy(){this.map.destroy()}onCameraChanged(e){this.cameraChangedCallback=e}addMarkerContainer(){let e=this.map.getContainer();this.markerContainer=ng("div","l7-marker-container",e),this.markerContainer.setAttribute("tabindex","-1"),this.markerContainer.style.zIndex="2"}getMarkerContainer(){return this.markerContainer}on(e,t){if(-1!==ak.indexOf(e))this.eventEmitter.on(e,t);else{let n=e=>{let n=this.evtCbProxyMap.get(e);if(n||this.evtCbProxyMap.set(e,n=new Map),n.get(t))return;let r=(...e)=>{!e[0]||"object"!=typeof e[0]||e[0].lngLat||e[0].lnglat||(e[0].lngLat=e[0].latlng||e[0].latLng),t(...e)};n.set(t,r),this.map.on(e,r)};Array.isArray(EC[e])?EC[e].forEach(t=>{n(t||e)}):n(EC[e]||e)}}off(e,t){if(-1!==ak.indexOf(e)){this.eventEmitter.off(e,t);return}let n=n=>{var r,i;let o=null===(r=this.evtCbProxyMap.get(e))||void 0===r?void 0:r.get(t);o&&(null===(i=this.evtCbProxyMap.get(n))||void 0===i||i.delete(t),this.map.off(n,o))};Array.isArray(EC[e])?EC[e].forEach(t=>{n(t||e)}):n(EC[e]||e)}once(){throw Error("Method not implemented.")}getContainer(){return this.map.getContainer()}getSize(){return[this.map.width,this.map.height]}getMinZoom(){return this.map.transform._minZoom}getMaxZoom(){return this.map.transform._maxZoom}getType(){return"tmap"}getZoom(){return this.map.getZoom()}getCenter(){let{lng:e,lat:t}=this.map.getCenter();return{lng:e,lat:t}}getPitch(){return this.map.getPitch()}getRotation(){return this.map.getRotation()}getBounds(){let e=this.map.getBounds().getNorthEast(),t=this.map.getBounds().getSouthWest();return[[t.lng,t.lat],[e.lng,e.lat]]}getMapContainer(){return this.map.getContainer()}getMapCanvasContainer(){var e;return null===(e=this.map.getContainer())||void 0===e?void 0:e.getElementsByTagName("canvas")[0]}getCanvasOverlays(){var e;return null===(e=this.getMapCanvasContainer())||void 0===e||null===(e=e.nextSibling)||void 0===e?void 0:e.firstChild}getMapStyleConfig(){throw Error("Method not implemented.")}setBgColor(e){this.bgColor=e}setMapStyle(e){this.map.setMapStyleId(e)}setRotation(e){this.map.setRotation(e)}zoomIn(){this.map.setZoom(this.getZoom()+1)}zoomOut(){this.map.setZoom(this.getZoom()-1)}panTo([e,t]){this.map.panTo(new TMap.LatLng(t,e))}panBy(e,t){this.map.panBy([e,t])}fitBounds(e,t){let[n,r]=e,i=new TMap.LatLng(n[1],n[0]),o=new TMap.LatLng(r[1],r[0]),a=new TMap.LatLngBounds(i,o);this.map.fitBounds(a,t)}setZoomAndCenter(e,[t,n]){this.map.setCenter(new TMap.LatLng(n,t)),this.map.setZoom(e)}setCenter([e,t]){this.map.setCenter(new TMap.LatLng(t,e))}setPitch(e){this.map.setPitch(e)}setZoom(e){this.map.setZoom(e)}setMapStatus(e){Object.keys(e).map(t=>{switch(t){case"doubleClickZoom":this.map.setDoubleClickZoom(!!e.doubleClickZoom);break;case"dragEnable":this.map.setDraggable(!!e.dragEnable);break;case"rotateEnable":this.map.setRotatable(!!e.rotateEnable);break;case"zoomEnable":this.map.setDoubleClickZoom(!!e.zoomEnable),this.map.setScrollable(!!e.zoomEnable);break;case"keyboardEnable":case"resizeEnable":case"showIndoorMap":throw Error("Options may bot be supported")}})}meterToCoord([e,t],[n,r]){let i=TMap.geometry.computeDistance([new TMap.LatLng(t,e),new TMap.LatLng(r,n)]),[o,a]=this.lngLatToCoord([e,t]),[s,l]=this.lngLatToCoord([n,r]),c=Math.sqrt(Math.pow(o-s,2)+Math.pow(a-l,2));return c/i}pixelToLngLat([e,t]){let{lng:n,lat:r}=this.map.getCenter(),{x:i,y:o}=this.lngLatToPixel([n,r]),{x:a,y:s}=this.lngLatToContainer([n,r]),{lng:l,lat:c}=this.map.unprojectFromContainer(new TMap.Point(a+(e-i),s+(t-o)));return this.containerToLngLat([l,c])}lngLatToPixel([e,t]){let{x:n,y:r}=this.map.projectToWorldPlane(new TMap.LatLng(t,e));return{x:n,y:r}}containerToLngLat([e,t]){let{lng:n,lat:r}=this.map.unprojectFromContainer(new TMap.Point(e,t));return{lng:n,lat:r}}lngLatToContainer([e,t]){let{x:n,y:r}=this.map.projectToContainer(new TMap.LatLng(t,e));return{x:n,y:r}}lngLatToCoord([e,t]){let{x:n,y:r}=this.lngLatToPixel([e,t]);return[n,-r]}lngLatToCoords(e){return e.map(e=>Array.isArray(e[0])?this.lngLatToCoords(e):this.lngLatToCoord(e))}lngLatToMercator(e,t){let{x:n=0,y:r=0,z:i=0}=bY.fromLngLat(e,t);return{x:n,y:r,z:i}}getModelMatrix(e,t,n,r=[1,1,1]){let i=this.viewport.projectFlat(e),o=aH.create();return aH.translate(o,o,fI.al(i[0],i[1],t)),aH.scale(o,o,fI.al(r[0],r[1],r[2])),aH.rotateX(o,o,n[0]),aH.rotateY(o,o,n[1]),aH.rotateZ(o,o,n[2]),o}getCustomCoordCenter(){throw Error("Method not implemented.")}exportMap(e){let t=this.getMapCanvasContainer(),n="jpg"===e?null==t?void 0:t.toDataURL("image/jpeg"):null==t?void 0:t.toDataURL("image/png");return n}rotateY(){throw Error("Method not implemented.")}hideLogo(){let e=this.map.getContainer();e&&nb(e,"tmap-contianer--hide-logo")}}class EO extends mW{getServiceConstructor(){return Ew}}let EI=bm,EL=bm,ER=bm;var Ek=n(79801),EN=n.n(Ek),EM=class{constructor(e,t){let{buffer:n,offset:r,stride:i,normalized:o,size:a,divisor:s}=t;this.buffer=n,this.attribute={buffer:n.get(),offset:r||0,stride:i||0,normalized:o||!1,divisor:s||0},a&&(this.attribute.size=a)}get(){return this.attribute}updateBuffer(e){this.buffer.subData(e)}destroy(){this.buffer.destroy()}},ED={[aa.POINTS]:"points",[aa.LINES]:"lines",[aa.LINE_LOOP]:"line loop",[aa.LINE_STRIP]:"line strip",[aa.TRIANGLES]:"triangles",[aa.TRIANGLE_FAN]:"triangle fan",[aa.TRIANGLE_STRIP]:"triangle strip"},EP={[aa.STATIC_DRAW]:"static",[aa.DYNAMIC_DRAW]:"dynamic",[aa.STREAM_DRAW]:"stream"},EF={[aa.BYTE]:"int8",[aa.INT]:"int32",[aa.UNSIGNED_BYTE]:"uint8",[aa.UNSIGNED_SHORT]:"uint16",[aa.UNSIGNED_INT]:"uint32",[aa.FLOAT]:"float"},EB={[aa.ALPHA]:"alpha",[aa.LUMINANCE]:"luminance",[aa.LUMINANCE_ALPHA]:"luminance alpha",[aa.RGB]:"rgb",[aa.RGBA]:"rgba",[aa.RGBA4]:"rgba4",[aa.RGB5_A1]:"rgb5 a1",[aa.RGB565]:"rgb565",[aa.DEPTH_COMPONENT]:"depth",[aa.DEPTH_STENCIL]:"depth stencil"},EU={[aa.DONT_CARE]:"dont care",[aa.NICEST]:"nice",[aa.FASTEST]:"fast"},Ez={[aa.NEAREST]:"nearest",[aa.LINEAR]:"linear",[aa.LINEAR_MIPMAP_LINEAR]:"mipmap",[aa.NEAREST_MIPMAP_LINEAR]:"nearest mipmap linear",[aa.LINEAR_MIPMAP_NEAREST]:"linear mipmap nearest",[aa.NEAREST_MIPMAP_NEAREST]:"nearest mipmap nearest"},EZ={[aa.REPEAT]:"repeat",[aa.CLAMP_TO_EDGE]:"clamp",[aa.MIRRORED_REPEAT]:"mirror"},Ej={[aa.NONE]:"none",[aa.BROWSER_DEFAULT_WEBGL]:"browser"},EH={[aa.NEVER]:"never",[aa.ALWAYS]:"always",[aa.LESS]:"less",[aa.LEQUAL]:"lequal",[aa.GREATER]:"greater",[aa.GEQUAL]:"gequal",[aa.EQUAL]:"equal",[aa.NOTEQUAL]:"notequal"},EG={[aa.FUNC_ADD]:"add",[aa.MIN_EXT]:"min",[aa.MAX_EXT]:"max",[aa.FUNC_SUBTRACT]:"subtract",[aa.FUNC_REVERSE_SUBTRACT]:"reverse subtract"},EV={[aa.ZERO]:"zero",[aa.ONE]:"one",[aa.SRC_COLOR]:"src color",[aa.ONE_MINUS_SRC_COLOR]:"one minus src color",[aa.SRC_ALPHA]:"src alpha",[aa.ONE_MINUS_SRC_ALPHA]:"one minus src alpha",[aa.DST_COLOR]:"dst color",[aa.ONE_MINUS_DST_COLOR]:"one minus dst color",[aa.DST_ALPHA]:"dst alpha",[aa.ONE_MINUS_DST_ALPHA]:"one minus dst alpha",[aa.CONSTANT_COLOR]:"constant color",[aa.ONE_MINUS_CONSTANT_COLOR]:"one minus constant color",[aa.CONSTANT_ALPHA]:"constant alpha",[aa.ONE_MINUS_CONSTANT_ALPHA]:"one minus constant alpha",[aa.SRC_ALPHA_SATURATE]:"src alpha saturate"},E$={[aa.NEVER]:"never",[aa.ALWAYS]:"always",[aa.LESS]:"less",[aa.LEQUAL]:"lequal",[aa.GREATER]:"greater",[aa.GEQUAL]:"gequal",[aa.EQUAL]:"equal",[aa.NOTEQUAL]:"notequal"},EW={[aa.ZERO]:"zero",[aa.KEEP]:"keep",[aa.REPLACE]:"replace",[aa.INVERT]:"invert",[aa.INCR]:"increment",[aa.DECR]:"decrement",[aa.INCR_WRAP]:"increment wrap",[aa.DECR_WRAP]:"decrement wrap"},EY={[aa.FRONT]:"front",[aa.BACK]:"back"},Eq=class{constructor(e,t){this.isDestroyed=!1;let{data:n,usage:r,type:i}=t;this.buffer=e.buffer({data:n,usage:EP[r||aa.STATIC_DRAW],type:EF[i||aa.UNSIGNED_BYTE]})}get(){return this.buffer}destroy(){this.isDestroyed||this.buffer.destroy(),this.isDestroyed=!0}subData({data:e,offset:t}){this.buffer.subdata(e,t)}},EX=class{constructor(e,t){let{data:n,usage:r,type:i,count:o}=t;this.elements=e.elements({data:n,usage:EP[r||aa.STATIC_DRAW],type:EF[i||aa.UNSIGNED_BYTE],count:o})}get(){return this.elements}subData({data:e}){this.elements.subdata(e)}destroy(){}},EK=class{constructor(e,t){let{width:n,height:r,color:i,colors:o}=t,a={width:n,height:r};Array.isArray(o)&&(a.colors=o.map(e=>e.get())),i&&"boolean"!=typeof i&&(a.color=i.get()),this.framebuffer=e.framebuffer(a)}get(){return this.framebuffer}destroy(){this.framebuffer.destroy()}resize({width:e,height:t}){this.framebuffer.resize(e,t)}},EQ=n(16926),EJ=Object.defineProperty,E0=Object.defineProperties,E1=Object.getOwnPropertyDescriptors,E2=Object.getOwnPropertySymbols,E3=Object.prototype.hasOwnProperty,E5=Object.prototype.propertyIsEnumerable,E4=(e,t,n)=>t in e?EJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E6=(e,t)=>{for(var n in t||(t={}))E3.call(t,n)&&E4(e,n,t[n]);if(E2)for(var n of E2(t))E5.call(t,n)&&E4(e,n,t[n]);return e},E7=(e,t)=>E0(e,E1(t)),{isPlainObject:E8,isTypedArray:E9}=nu,_e=class{constructor(e,t){this.destroyed=!1,this.uniforms={},this.reGl=e;let{vs:n,fs:r,attributes:i,uniforms:o,primitive:a,count:s,elements:l,depth:c,cull:u,instances:d}=t,p={platformString:"WebGL1",glslVersion:"#version 100",explicitBindingLocations:!1,separateSamplerTextures:!1,viewportOrigin:EQ.Fp.LOWER_LEFT,clipSpaceNearZ:EQ.R$.NEGATIVE_ONE,supportMRT:!1},h={};this.options=t,o&&(this.uniforms=this.extractUniforms(o),Object.keys(o).forEach(t=>{h[t]=e.prop(t)}));let f={};Object.keys(i).forEach(e=>{f[e]=i[e].get()});let g=af((0,EQ.oX)(p,"frag",r,null,!1)),m=af((0,EQ.oX)(p,"vert",n,null,!1)),b={attributes:f,frag:g,uniforms:h,vert:m,colorMask:e.prop("colorMask"),lineWidth:1,blend:{enable:e.prop("blend.enable"),func:e.prop("blend.func"),equation:e.prop("blend.equation"),color:e.prop("blend.color")},stencil:{enable:e.prop("stencil.enable"),mask:e.prop("stencil.mask"),func:e.prop("stencil.func"),opFront:e.prop("stencil.opFront"),opBack:e.prop("stencil.opBack")},primitive:ED[void 0===a?aa.TRIANGLES:a]};d&&(b.instances=d),s?b.count=s:l&&(b.elements=l.get()),this.initDepthDrawParams({depth:c},b),this.initCullDrawParams({cull:u},b),this.drawCommand=e(b),this.drawParams=b}updateAttributesAndElements(e,t){let n={};Object.keys(e).forEach(t=>{n[t]=e[t].get()}),this.drawParams.attributes=n,this.drawParams.elements=t.get(),this.drawCommand=this.reGl(this.drawParams)}updateAttributes(e){let t={};Object.keys(e).forEach(n=>{t[n]=e[n].get()}),this.drawParams.attributes=t,this.drawCommand=this.reGl(this.drawParams)}addUniforms(e){this.uniforms=E6(E6({},this.uniforms),this.extractUniforms(e))}draw(e,t){if(this.drawParams.attributes&&0===Object.keys(this.drawParams.attributes).length)return;let n=E6(E6({},this.uniforms),this.extractUniforms(e.uniforms||{})),r={};Object.keys(n).forEach(e=>{let t=typeof n[e];"boolean"===t||"number"===t||Array.isArray(n[e])||n[e].BYTES_PER_ELEMENT?r[e]=n[e]:r[e]=n[e].get()}),r.blend=t?this.getBlendDrawParams({blend:{enable:!1}}):this.getBlendDrawParams(e),r.stencil=this.getStencilDrawParams(e),r.colorMask=this.getColorMaskDrawParams(e,t),this.drawCommand(r)}destroy(){var e,t;null==(t=null==(e=this.drawParams)?void 0:e.elements)||t.destroy(),this.options.attributes&&Object.values(this.options.attributes).forEach(e=>{null==e||e.destroy()}),this.destroyed=!0}initDepthDrawParams({depth:e},t){e&&(t.depth={enable:void 0===e.enable||!!e.enable,mask:void 0===e.mask||!!e.mask,func:EH[e.func||aa.LESS],range:e.range||[0,1]})}getBlendDrawParams({blend:e}){let{enable:t,func:n,equation:r,color:i=[0,0,0,0]}=e||{};return{enable:!!t,func:{srcRGB:EV[n&&n.srcRGB||aa.SRC_ALPHA],srcAlpha:EV[n&&n.srcAlpha||aa.SRC_ALPHA],dstRGB:EV[n&&n.dstRGB||aa.ONE_MINUS_SRC_ALPHA],dstAlpha:EV[n&&n.dstAlpha||aa.ONE_MINUS_SRC_ALPHA]},equation:{rgb:EG[r&&r.rgb||aa.FUNC_ADD],alpha:EG[r&&r.alpha||aa.FUNC_ADD]},color:i}}getStencilDrawParams({stencil:e}){let{enable:t,mask:n=-1,func:r={cmp:aa.ALWAYS,ref:0,mask:-1},opFront:i={fail:aa.KEEP,zfail:aa.KEEP,zpass:aa.KEEP},opBack:o={fail:aa.KEEP,zfail:aa.KEEP,zpass:aa.KEEP}}=e||{};return{enable:!!t,mask:n,func:E7(E6({},r),{cmp:E$[r.cmp]}),opFront:{fail:EW[i.fail],zfail:EW[i.zfail],zpass:EW[i.zpass]},opBack:{fail:EW[o.fail],zfail:EW[o.zfail],zpass:EW[o.zpass]}}}getColorMaskDrawParams({stencil:e},t){let n=(null==e?void 0:e.enable)&&e.opFront&&!t?[!1,!1,!1,!1]:[!0,!0,!0,!0];return n}initCullDrawParams({cull:e},t){if(e){let{enable:n,face:r=aa.BACK}=e;t.cull={enable:!!n,face:EY[r]}}}extractUniforms(e){let t={};return Object.keys(e).forEach(n=>{this.extractUniformsRecursively(n,e[n],t,"")}),t}extractUniformsRecursively(e,t,n,r){if(null===t||"number"==typeof t||"boolean"==typeof t||Array.isArray(t)&&"number"==typeof t[0]||E9(t)||""===t||"resize"in t){n[`${r&&r+"."}${e}`]=t;return}E8(t)&&Object.keys(t).forEach(i=>{this.extractUniformsRecursively(i,t[i],n,`${r&&r+"."}${e}`)}),Array.isArray(t)&&t.forEach((t,i)=>{Object.keys(t).forEach(o=>{this.extractUniformsRecursively(o,t[o],n,`${r&&r+"."}${e}[${i}]`)})})}},_t=class{constructor(e,t){this.isDestroy=!1;let{data:n,type:r=aa.UNSIGNED_BYTE,width:i,height:o,flipY:a=!1,format:s=aa.RGBA,mipmap:l=!1,wrapS:c=aa.CLAMP_TO_EDGE,wrapT:u=aa.CLAMP_TO_EDGE,aniso:d=0,alignment:p=1,premultiplyAlpha:h=!1,mag:f=aa.NEAREST,min:g=aa.NEAREST,colorSpace:m=aa.BROWSER_DEFAULT_WEBGL,x:b=0,y:v=0,copy:y=!1}=t;this.width=i,this.height=o;let E={width:i,height:o,type:EF[r],format:EB[s],wrapS:EZ[c],wrapT:EZ[u],mag:Ez[f],min:Ez[g],alignment:p,flipY:a,colorSpace:Ej[m],premultiplyAlpha:h,aniso:d,x:b,y:v,copy:y};n&&(E.data=n),"number"==typeof l?E.mipmap=EU[l]:"boolean"==typeof l&&(E.mipmap=l),this.texture=e.texture(E)}get(){return this.texture}update(e={}){this.texture(e)}bind(){this.texture._texture.bind()}resize({width:e,height:t}){this.texture.resize(e,t),this.width=e,this.height=t}getSize(){return[this.width,this.height]}destroy(){var e;this.isDestroy||null==(e=this.texture)||e.destroy(),this.isDestroy=!0}},_n=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(e){i(e)}},a=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())}),_r=class{constructor(){this.uniformBuffers=[],this.queryVerdorInfo=()=>"WebGL1",this.createModel=e=>new _e(this.gl,e),this.createAttribute=e=>new EM(this.gl,e),this.createBuffer=e=>new Eq(this.gl,e),this.createElements=e=>new EX(this.gl,e),this.createTexture2D=e=>new _t(this.gl,e),this.createFramebuffer=e=>new EK(this.gl,e),this.useFramebuffer=(e,t)=>{this.gl({framebuffer:e?e.get():null})(t)},this.useFramebufferAsync=(e,t)=>_n(this,null,function*(){this.gl({framebuffer:e?e.get():null})(t)}),this.clear=e=>{var t;let{color:n,depth:r,stencil:i,framebuffer:o=null}=e,a={color:n,depth:r,stencil:i};a.framebuffer=null===o?o:o.get(),null==(t=this.gl)||t.clear(a)},this.viewport=({x:e,y:t,width:n,height:r})=>{this.gl._gl.viewport(e,t,n,r),this.width=n,this.height=r,this.gl._refresh()},this.readPixels=e=>{let{framebuffer:t,x:n,y:r,width:i,height:o}=e,a={x:n,y:r,width:i,height:o};return t&&(a.framebuffer=t.get()),this.gl.read(a)},this.readPixelsAsync=e=>_n(this,null,function*(){return this.readPixels(e)}),this.getViewportSize=()=>({width:this.gl._gl.drawingBufferWidth,height:this.gl._gl.drawingBufferHeight}),this.getContainer=()=>{var e;return null==(e=this.canvas)?void 0:e.parentElement},this.getCanvas=()=>this.canvas,this.getGLContext=()=>this.gl._gl,this.destroy=()=>{var e,t,n;this.canvas=null,null==(n=null==(t=null==(e=this.gl)?void 0:e._gl)?void 0:t.getExtension("WEBGL_lose_context"))||n.loseContext(),this.gl.destroy(),this.gl=null}}init(e,t,n){return _n(this,null,function*(){this.canvas=e,n?this.gl=n:this.gl=yield new Promise((e,n)=>{EN()({canvas:this.canvas,attributes:{alpha:!0,antialias:t.antialias,premultipliedAlpha:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,stencil:t.stencil},extensions:["OES_element_index_uint","OES_standard_derivatives","ANGLE_instanced_arrays"],optionalExtensions:["oes_texture_float_linear","OES_texture_float","EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture","WEBGL_lose_context"],profile:!0,onDone:(t,r)=>{(t||!r)&&n(t),e(r)}})}),this.extensionObject={OES_texture_float:this.testExtension("OES_texture_float")}})}getPointSizeRange(){return this.gl._gl.getParameter(this.gl._gl.ALIASED_POINT_SIZE_RANGE)}testExtension(e){return!!this.getGLContext().getExtension(e)}setState(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!0,equation:"add"},framebuffer:null}),this.gl._refresh()}setBaseState(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!1,equation:"add"},framebuffer:null}),this.gl._refresh()}setCustomLayerDefaults(){let e=this.getGLContext();e.disable(e.CULL_FACE)}setDirty(e){this.isDirty=e}getDirty(){return this.isDirty}beginFrame(){}endFrame(){}},_i=class{constructor(e,t){let{buffer:n,offset:r,stride:i,normalized:o,size:a,divisor:s,shaderLocation:l}=t;this.buffer=n,this.attribute={shaderLocation:l,buffer:n.get(),offset:r||0,stride:i||0,normalized:o||!1,divisor:s||0},a&&(this.attribute.size=a)}get(){return this.buffer}updateBuffer(e){this.buffer.subData(e)}destroy(){this.buffer.destroy()}},_o={[aa.FLOAT]:Float32Array,[aa.UNSIGNED_BYTE]:Uint8Array,[aa.SHORT]:Int16Array,[aa.UNSIGNED_SHORT]:Uint16Array,[aa.INT]:Int32Array,[aa.UNSIGNED_INT]:Uint32Array},_a={[aa.POINTS]:EQ.YV.POINTS,[aa.LINES]:EQ.YV.LINES,[aa.LINE_LOOP]:EQ.YV.LINES,[aa.LINE_STRIP]:EQ.YV.LINE_STRIP,[aa.TRIANGLES]:EQ.YV.TRIANGLES,[aa.TRIANGLE_FAN]:EQ.YV.TRIANGLES,[aa.TRIANGLE_STRIP]:EQ.YV.TRIANGLE_STRIP},_s={1:EQ.ED.F32_R,2:EQ.ED.F32_RG,3:EQ.ED.F32_RGB,4:EQ.ED.F32_RGBA},_l={[aa.STATIC_DRAW]:EQ.MP.STATIC,[aa.DYNAMIC_DRAW]:EQ.MP.DYNAMIC,[aa.STREAM_DRAW]:EQ.MP.DYNAMIC},_c={[aa.REPEAT]:EQ.OB.REPEAT,[aa.CLAMP_TO_EDGE]:EQ.OB.CLAMP_TO_EDGE,[aa.MIRRORED_REPEAT]:EQ.OB.MIRRORED_REPEAT},_u={[aa.NEVER]:EQ.wb.NEVER,[aa.ALWAYS]:EQ.wb.ALWAYS,[aa.LESS]:EQ.wb.LESS,[aa.LEQUAL]:EQ.wb.LEQUAL,[aa.GREATER]:EQ.wb.GREATER,[aa.GEQUAL]:EQ.wb.GEQUAL,[aa.EQUAL]:EQ.wb.EQUAL,[aa.NOTEQUAL]:EQ.wb.NOTEQUAL},_d={[aa.FRONT]:EQ.Wf.FRONT,[aa.BACK]:EQ.Wf.BACK},_p={[aa.FUNC_ADD]:EQ.bt.ADD,[aa.MIN_EXT]:EQ.bt.MIN,[aa.MAX_EXT]:EQ.bt.MAX,[aa.FUNC_SUBTRACT]:EQ.bt.SUBSTRACT,[aa.FUNC_REVERSE_SUBTRACT]:EQ.bt.REVERSE_SUBSTRACT},_h={[aa.ZERO]:EQ.zi.ZERO,[aa.ONE]:EQ.zi.ONE,[aa.SRC_COLOR]:EQ.zi.SRC,[aa.ONE_MINUS_SRC_COLOR]:EQ.zi.ONE_MINUS_SRC,[aa.SRC_ALPHA]:EQ.zi.SRC_ALPHA,[aa.ONE_MINUS_SRC_ALPHA]:EQ.zi.ONE_MINUS_SRC_ALPHA,[aa.DST_COLOR]:EQ.zi.DST,[aa.ONE_MINUS_DST_COLOR]:EQ.zi.ONE_MINUS_DST,[aa.DST_ALPHA]:EQ.zi.DST_ALPHA,[aa.ONE_MINUS_DST_ALPHA]:EQ.zi.ONE_MINUS_DST_ALPHA,[aa.CONSTANT_COLOR]:EQ.zi.CONST,[aa.ONE_MINUS_CONSTANT_COLOR]:EQ.zi.ONE_MINUS_CONSTANT,[aa.CONSTANT_ALPHA]:EQ.zi.CONST,[aa.ONE_MINUS_CONSTANT_ALPHA]:EQ.zi.ONE_MINUS_CONSTANT,[aa.SRC_ALPHA_SATURATE]:EQ.zi.SRC_ALPHA_SATURATE},_f={[aa.REPLACE]:EQ.Kd.REPLACE,[aa.KEEP]:EQ.Kd.KEEP,[aa.ZERO]:EQ.Kd.ZERO,[aa.INVERT]:EQ.Kd.INVERT,[aa.INCR]:EQ.Kd.INCREMENT_CLAMP,[aa.DECR]:EQ.Kd.DECREMENT_CLAMP,[aa.INCR_WRAP]:EQ.Kd.INCREMENT_WRAP,[aa.DECR_WRAP]:EQ.Kd.DECREMENT_WRAP},_g={[aa.ALWAYS]:EQ.wb.ALWAYS,[aa.EQUAL]:EQ.wb.EQUAL,[aa.GEQUAL]:EQ.wb.GEQUAL,[aa.GREATER]:EQ.wb.GREATER,[aa.LEQUAL]:EQ.wb.LEQUAL,[aa.LESS]:EQ.wb.LESS,[aa.NEVER]:EQ.wb.NEVER,[aa.NOTEQUAL]:EQ.wb.NOTEQUAL},_m={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121};function _b(e){return Object.prototype.toString.call(e) in _m}var _v=class{constructor(e,t){let n;this.isDestroyed=!1;let{data:r,usage:i,type:o,isUBO:a,label:s}=t;n=_b(r)?r:new _o[this.type||aa.FLOAT](r),this.type=o,this.size=n.byteLength,this.buffer=e.createBuffer({viewOrSize:n,usage:a?EQ.FB.UNIFORM:EQ.FB.VERTEX,hint:_l[i||aa.STATIC_DRAW]}),s&&e.setResourceName(this.buffer,s)}get(){return this.buffer}destroy(){this.isDestroyed||this.buffer.destroy(),this.isDestroyed=!0}subData({data:e,offset:t}){let n;n=_b(e)?e:new _o[this.type||aa.FLOAT](e),this.buffer.setSubData(t,new Uint8Array(n.buffer))}};function _y(e,t=0){return e+=t,e+=e<<10,(e+=e>>>6)>>>0}function _E(e){return e+=e<<3,e^=e>>>11,(e+=e<<15)>>>0}function __(){return 0}var _T=class{constructor(){this.keys=[],this.values=[]}},_x=class{constructor(e,t){this.keyEqualFunc=e,this.keyHashFunc=t,this.buckets=new Map}findBucketIndex(e,t){for(let n=0;n<e.keys.length;n++)if(this.keyEqualFunc(t,e.keys[n]))return n;return -1}findBucket(e){let t=this.keyHashFunc(e);return this.buckets.get(t)}get(e){let t=this.findBucket(e);if(void 0===t)return null;let n=this.findBucketIndex(t,e);return n<0?null:t.values[n]}add(e,t){let n=this.keyHashFunc(e);void 0===this.buckets.get(n)&&this.buckets.set(n,new _T);let r=this.buckets.get(n);r.keys.push(e),r.values.push(t)}delete(e){let t=this.findBucket(e);if(void 0===t)return;let n=this.findBucketIndex(t,e);-1!==n&&(t.keys.splice(n,1),t.values.splice(n,1))}clear(){this.buckets.clear()}size(){let e=0;for(let t of this.buckets.values())e+=t.values.length;return e}*values(){for(let e of this.buckets.values())for(let t=e.values.length-1;t>=0;t--)yield e.values[t]}};function _S(e,t){return e=_y(e,t.blendMode),e=_y(e,t.blendSrcFactor),e=_y(e,t.blendDstFactor)}function _A(e){let t=0;t=_y(0,e.program.id),null!==e.inputLayout&&(t=_y(t,e.inputLayout.id)),t=function(e,t){var n,r,i,o,a,s,l,c,u,d,p;for(let n=0;n<t.attachmentsState.length;n++)u=_S(u=e,(d=t.attachmentsState[n]).rgbBlendState),e=u=_y(u=_S(u,d.alphaBlendState),d.channelWriteMask);return e=_y(e,(p=t.blendConstant||EQ.Ab).r<<24|p.g<<16|p.b<<8|p.a),e=_y(e,t.depthCompare),e=_y(e,t.depthWrite?1:0),e=_y(e,null==(n=t.stencilFront)?void 0:n.compare),e=_y(e,null==(r=t.stencilFront)?void 0:r.passOp),e=_y(e,null==(i=t.stencilFront)?void 0:i.failOp),e=_y(e,null==(o=t.stencilFront)?void 0:o.depthFailOp),e=_y(e,null==(a=t.stencilBack)?void 0:a.compare),e=_y(e,null==(s=t.stencilBack)?void 0:s.passOp),e=_y(e,null==(l=t.stencilBack)?void 0:l.failOp),e=_y(e,null==(c=t.stencilBack)?void 0:c.depthFailOp),e=_y(e,t.stencilWrite?1:0),e=_y(e,t.cullMode),e=_y(e,t.frontFace?1:0),e=_y(e,t.polygonOffset?1:0)}(t,e.megaStateDescriptor);for(let n=0;n<e.colorAttachmentFormats.length;n++)t=_y(t,e.colorAttachmentFormats[n]||0);return _E(t=_y(t,e.depthStencilAttachmentFormat||0))}function _C(e){let t=0;if(e.samplerBindings)for(let n=0;n<e.samplerBindings.length;n++){let r=e.samplerBindings[n];null!==r&&null!==r.texture&&(t=_y(t,r.texture.id))}if(e.uniformBufferBindings)for(let n=0;n<e.uniformBufferBindings.length;n++){let r=e.uniformBufferBindings[n];null!==r&&null!==r.buffer&&(t=_y(t,r.buffer.id),t=_y(t,r.binding),t=_y(t,r.offset),t=_y(t,r.size))}if(e.storageBufferBindings)for(let n=0;n<e.storageBufferBindings.length;n++){let r=e.storageBufferBindings[n];null!==r&&null!==r.buffer&&(t=_y(t,r.buffer.id),t=_y(t,r.binding),t=_y(t,r.offset),t=_y(t,r.size))}if(e.storageTextureBindings)for(let n=0;n<e.storageTextureBindings.length;n++){let r=e.storageTextureBindings[n];null!==r&&null!==r.texture&&(t=_y(t,r.texture.id),t=_y(t,r.binding))}return _E(t)}function _w(e,t){var n,r,i,o;return(null==(n=e.vertex)?void 0:n.glsl)===(null==(r=t.vertex)?void 0:r.glsl)&&(null==(i=e.fragment)?void 0:i.glsl)===(null==(o=t.fragment)?void 0:o.glsl)}var _O=class{constructor(e){this.device=e,this.bindingsCache=new _x(EQ.PU,_C),this.renderPipelinesCache=new _x(EQ.zC,_A),this.inputLayoutsCache=new _x(EQ.F3,__),this.programCache=new _x(_w,__)}createBindings(e){var t;let n=this.bindingsCache.get(e);if(null===n){let r=(0,EQ.LJ)(e);r.uniformBufferBindings=null==(t=r.uniformBufferBindings)?void 0:t.filter(({size:e})=>e&&e>0),n=this.device.createBindings(r),this.bindingsCache.add(r,n)}return n}createRenderPipeline(e){let t=this.renderPipelinesCache.get(e);if(null===t){let n=(0,EQ.yA)(e);n.colorAttachmentFormats=n.colorAttachmentFormats.filter(e=>e),t=this.device.createRenderPipeline(n),this.renderPipelinesCache.add(n,t)}return t}createInputLayout(e){e.vertexBufferDescriptors=e.vertexBufferDescriptors.filter(e=>!!e);let t=this.inputLayoutsCache.get(e);if(null===t){let n=(0,EQ.Id)(e);t=this.device.createInputLayout(n),this.inputLayoutsCache.add(n,t)}return t}createProgram(e){let t=this.programCache.get(e);if(null===t){var n,r;let i={vertex:{glsl:null==(n=e.vertex)?void 0:n.glsl},fragment:{glsl:null==(r=e.fragment)?void 0:r.glsl}};t=this.device.createProgram(e),this.programCache.add(i,t)}return t}destroy(){for(let e of this.bindingsCache.values())e.destroy();for(let e of this.renderPipelinesCache.values())e.destroy();for(let e of this.inputLayoutsCache.values())e.destroy();for(let e of this.programCache.values())e.destroy();this.bindingsCache.clear(),this.renderPipelinesCache.clear(),this.inputLayoutsCache.clear(),this.programCache.clear()}},_I=class{constructor(e,t){let n;let{data:r,type:i,count:o=0}=t;n=_b(r)?r:new _o[this.type||aa.UNSIGNED_INT](r),this.type=i,this.count=o,this.indexBuffer=e.createBuffer({viewOrSize:n,usage:EQ.FB.INDEX})}get(){return this.indexBuffer}subData({data:e}){let t;t=_b(e)?e:new _o[this.type||aa.UNSIGNED_INT](e),this.indexBuffer.setSubData(0,new Uint8Array(t.buffer))}destroy(){this.indexBuffer.destroy()}};function _L(e){return!!(e&&e.texture)}var _R=class{constructor(e,t){this.device=e,this.options=t,this.isDestroy=!1;let{wrapS:n=aa.CLAMP_TO_EDGE,wrapT:r=aa.CLAMP_TO_EDGE,aniso:i,mag:o=aa.NEAREST,min:a=aa.NEAREST}=t;this.createTexture(t),this.sampler=e.createSampler({addressModeU:_c[n],addressModeV:_c[r],minFilter:a===aa.NEAREST?EQ.X9.POINT:EQ.X9.BILINEAR,magFilter:o===aa.NEAREST?EQ.X9.POINT:EQ.X9.BILINEAR,mipmapFilter:EQ.f$.NO_MIP,maxAnisotropy:i})}createTexture(e){let{type:t=aa.UNSIGNED_BYTE,width:n,height:r,flipY:i=!1,format:o=aa.RGBA,alignment:a=1,usage:s=se.SAMPLED,unorm:l=!1,label:c}=e,{data:u}=e;this.width=n,this.height=r;let d=EQ.ED.U8_RGBA_RT;if(t===aa.UNSIGNED_BYTE&&o===aa.RGBA)d=l?EQ.ED.U8_RGBA_NORM:EQ.ED.U8_RGBA_RT;else if(t===aa.UNSIGNED_BYTE&&o===aa.LUMINANCE)d=EQ.ED.U8_LUMINANCE;else if(t===aa.FLOAT&&o===aa.LUMINANCE)d=EQ.ED.F32_LUMINANCE;else if(t===aa.FLOAT&&o===aa.RGB)"WebGPU"===this.device.queryVendorInfo().platformString?(u&&(u=function(e,t){let n=e.length,r=Math.ceil(n/3),i=n+r,o=new Float32Array(i);for(let t=0;t<i;t+=4)o[t]=e[t/4*3],o[t+1]=e[t/4*3+1],o[t+2]=e[t/4*3+2],o[t+3]=0;return o}(u,0)),d=EQ.ED.F32_RGBA):d=EQ.ED.F32_RGB;else if(t===aa.FLOAT&&o===aa.RGBA)d=EQ.ED.F32_RGBA;else if(t===aa.FLOAT&&o===aa.RED)d=EQ.ED.F32_R;else throw Error(`create texture error, type: ${t}, format: ${o}`);this.texture=this.device.createTexture({format:d,width:n,height:r,usage:s===se.SAMPLED?EQ.v2.SAMPLED:EQ.v2.RENDER_TARGET,pixelStore:{unpackFlipY:i,packAlignment:a},mipLevelCount:1}),c&&this.device.setResourceName(this.texture,c),u&&this.texture.setImageData([u])}get(){return this.texture}update(e){let{data:t}=e;this.texture.setImageData([t])}bind(){}resize({width:e,height:t}){(this.width!==e||this.height!==t)&&this.destroy(),this.options.width=e,this.options.height=t,this.createTexture(this.options),this.isDestroy=!1}getSize(){return[this.width,this.height]}destroy(){var e;this.isDestroy||this.texture.destroyed||null==(e=this.texture)||e.destroy(),this.isDestroy=!0}},_k=class{constructor(e,t){this.device=e,this.options=t,this.createColorRenderTarget(),this.createDepthRenderTarget()}createColorRenderTarget(e=!1){let{width:t,height:n,color:r}=this.options;r&&(_L(r)?(e&&r.resize({width:t,height:n}),this.colorTexture=r.get(),this.colorRenderTarget=this.device.createRenderTargetFromTexture(this.colorTexture),this.width=r.width,this.height=r.height):t&&n&&(this.colorTexture=this.device.createTexture({format:EQ.ED.U8_RGBA_RT,usage:EQ.v2.RENDER_TARGET,width:t,height:n}),this.colorRenderTarget=this.device.createRenderTargetFromTexture(this.colorTexture),this.width=t,this.height=n))}createDepthRenderTarget(e=!1){let{width:t,height:n,depth:r}=this.options;r&&(_L(r)?(e&&r.resize({width:t,height:n}),this.depthTexture=r.get(),this.depthRenderTarget=this.device.createRenderTargetFromTexture(this.depthTexture),this.width=r.width,this.height=r.height):t&&n&&(this.depthTexture=this.device.createTexture({format:EQ.ED.D24_S8,usage:EQ.v2.RENDER_TARGET,width:t,height:n}),this.depthRenderTarget=this.device.createRenderTargetFromTexture(this.depthTexture),this.width=t,this.height=n))}get(){return this.colorRenderTarget}destroy(){var e,t;null==(e=this.colorRenderTarget)||e.destroy(),null==(t=this.depthRenderTarget)||t.destroy()}resize({width:e,height:t}){(this.width!==e||this.height!==t)&&(this.destroy(),this.colorTexture.destroyed=!0,this.depthTexture.destroyed=!0,this.options.width=e,this.options.height=t,this.createColorRenderTarget(!0),this.createDepthRenderTarget(!0))}},_N=Object.defineProperty,_M=Object.defineProperties,_D=Object.getOwnPropertyDescriptors,_P=Object.getOwnPropertySymbols,_F=Object.prototype.hasOwnProperty,_B=Object.prototype.propertyIsEnumerable,_U=(e,t,n)=>t in e?_N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_z=(e,t)=>{for(var n in t||(t={}))_F.call(t,n)&&_U(e,n,t[n]);if(_P)for(var n of _P(t))_B.call(t,n)&&_U(e,n,t[n]);return e},_Z=(e,t)=>_M(e,_D(t)),{isPlainObject:_j,isTypedArray:_H,isNil:_G}=nu,_V=class{constructor(e,t,n){this.device=e,this.options=t,this.service=n,this.destroyed=!1,this.uniforms={},this.vertexBuffers=[];let{vs:r,fs:i,attributes:o,uniforms:a,count:s,elements:l,diagnosticDerivativeUniformityEnabled:c}=t;this.options=t;let u=c?"":this.service.viewportOrigin===EQ.Fp.UPPER_LEFT?"diagnostic(off,derivative_uniformity);":"";this.program=n.renderCache.createProgram({vertex:{glsl:r},fragment:{glsl:i,postprocess:e=>u+e}}),a&&(this.uniforms=this.extractUniforms(a));let d=[],p=0;Object.keys(o).forEach(e=>{let t=o[e],n=t.get();this.vertexBuffers.push(n.get());let{offset:r=0,stride:i=0,size:a=1,divisor:s=0,shaderLocation:l=0}=t.attribute;d.push({arrayStride:i||4*a,stepMode:EQ.Kz.VERTEX,attributes:[{format:_s[a],shaderLocation:l,offset:r,divisor:s}]}),p=n.size/a}),s||(this.options.count=p),l&&(this.indexBuffer=l.get());let h=n.renderCache.createInputLayout({vertexBufferDescriptors:d,indexBufferFormat:l?EQ.ED.U32_R:null,program:this.program});this.inputLayout=h,this.pipeline=this.createPipeline(t)}createPipeline(e,t){var n;let{primitive:r=aa.TRIANGLES,depth:i,cull:o,blend:a,stencil:s}=e,l=this.initDepthDrawParams({depth:i}),c=!!(l&&l.enable),u=this.initCullDrawParams({cull:o}),d=!!(u&&u.enable),p=this.getBlendDrawParams({blend:a}),h=!!(p&&p.enable),f=this.getStencilDrawParams({stencil:s}),g=!!(f&&f.enable),m=this.device.createRenderPipeline({inputLayout:this.inputLayout,program:this.program,topology:_a[r],colorAttachmentFormats:[EQ.ED.U8_RGBA_RT],depthStencilAttachmentFormat:EQ.ED.D24_S8,megaStateDescriptor:{attachmentsState:[t?{channelWriteMask:EQ.GI.ALL,rgbBlendState:{blendMode:EQ.bt.ADD,blendSrcFactor:EQ.zi.ONE,blendDstFactor:EQ.zi.ZERO},alphaBlendState:{blendMode:EQ.bt.ADD,blendSrcFactor:EQ.zi.ONE,blendDstFactor:EQ.zi.ZERO}}:{channelWriteMask:g&&f.opFront.zpass===EQ.Kd.REPLACE?EQ.GI.NONE:EQ.GI.ALL,rgbBlendState:{blendMode:h&&p.equation.rgb||EQ.bt.ADD,blendSrcFactor:h&&p.func.srcRGB||EQ.zi.SRC_ALPHA,blendDstFactor:h&&p.func.dstRGB||EQ.zi.ONE_MINUS_SRC_ALPHA},alphaBlendState:{blendMode:h&&p.equation.alpha||EQ.bt.ADD,blendSrcFactor:h&&p.func.srcAlpha||EQ.zi.ONE,blendDstFactor:h&&p.func.dstAlpha||EQ.zi.ONE}}],blendConstant:h?EQ.Ab:void 0,depthWrite:c,depthCompare:c&&l.func||EQ.wb.LESS,cullMode:d&&u.face||EQ.Wf.NONE,stencilWrite:g,stencilFront:{compare:g?f.func.cmp:EQ.wb.ALWAYS,passOp:f.opFront.zpass,failOp:f.opFront.fail,depthFailOp:f.opFront.zfail,mask:f.opFront.mask},stencilBack:{compare:g?f.func.cmp:EQ.wb.ALWAYS,passOp:f.opBack.zpass,failOp:f.opBack.fail,depthFailOp:f.opBack.zfail,mask:f.opBack.mask}}});return g&&!_G(null==(n=null==s?void 0:s.func)?void 0:n.ref)&&(m.stencilFuncReference=s.func.ref),m}updateAttributesAndElements(){}updateAttributes(){}addUniforms(e){this.uniforms=_z(_z({},this.uniforms),this.extractUniforms(e))}draw(e,t){let n=_z(_z({},this.options),e),{count:r=0,instances:i,elements:o,uniforms:a={},uniformBuffers:s,textures:l}=n;this.uniforms=_z(_z({},this.uniforms),this.extractUniforms(a));let{renderPass:c,currentFramebuffer:u,width:d,height:p}=this.service;this.pipeline=this.createPipeline(n,t);let h=this.service.device,f=h.swapChainHeight;if(h.swapChainHeight=(null==u?void 0:u.height)||p,c.setViewport(0,0,(null==u?void 0:u.width)||d,(null==u?void 0:u.height)||p),h.swapChainHeight=f,c.setPipeline(this.pipeline),_G(this.pipeline.stencilFuncReference)||c.setStencilReference(this.pipeline.stencilFuncReference),c.setVertexInput(this.inputLayout,this.vertexBuffers.map(e=>({buffer:e})),o?{buffer:this.indexBuffer,offset:0}:null),s&&(this.bindings=h.createBindings({pipeline:this.pipeline,uniformBufferBindings:s.map((e,t)=>({binding:t,buffer:e.get(),size:e.size})),samplerBindings:null==l?void 0:l.map(e=>({texture:e.texture,sampler:e.sampler}))})),this.bindings&&(c.setBindings(this.bindings),Object.keys(this.uniforms).forEach(e=>{let t=this.uniforms[e];t instanceof _R?this.uniforms[e]=t.get():t instanceof _k&&(this.uniforms[e]=t.get().texture)}),this.program.setUniformsLegacy(this.uniforms)),o){let e=o.count;0===e?c.draw(r,i):c.drawIndexed(e,i)}else c.draw(r,i)}destroy(){var e,t,n;null==(e=this.vertexBuffers)||e.forEach(e=>e.destroy()),null==(t=this.indexBuffer)||t.destroy(),null==(n=this.bindings)||n.destroy(),this.pipeline.destroy(),this.destroyed=!0}initDepthDrawParams({depth:e}){if(e)return{enable:void 0===e.enable||!!e.enable,mask:void 0===e.mask||!!e.mask,func:_u[e.func||aa.LESS],range:e.range||[0,1]}}getBlendDrawParams({blend:e}){let{enable:t,func:n,equation:r,color:i=[0,0,0,0]}=e||{};return{enable:!!t,func:{srcRGB:_h[n&&n.srcRGB||aa.SRC_ALPHA],srcAlpha:_h[n&&n.srcAlpha||aa.SRC_ALPHA],dstRGB:_h[n&&n.dstRGB||aa.ONE_MINUS_SRC_ALPHA],dstAlpha:_h[n&&n.dstAlpha||aa.ONE_MINUS_SRC_ALPHA]},equation:{rgb:_p[r&&r.rgb||aa.FUNC_ADD],alpha:_p[r&&r.alpha||aa.FUNC_ADD]},color:i}}getStencilDrawParams({stencil:e}){let{enable:t,mask:n=4294967295,func:r={cmp:aa.ALWAYS,ref:0,mask:4294967295},opFront:i={fail:aa.KEEP,zfail:aa.KEEP,zpass:aa.KEEP},opBack:o={fail:aa.KEEP,zfail:aa.KEEP,zpass:aa.KEEP}}=e||{};return{enable:!!t,mask:n,func:_Z(_z({},r),{cmp:_g[r.cmp]}),opFront:{fail:_f[i.fail],zfail:_f[i.zfail],zpass:_f[i.zpass],mask:r.mask},opBack:{fail:_f[o.fail],zfail:_f[o.zfail],zpass:_f[o.zpass],mask:r.mask}}}initCullDrawParams({cull:e}){if(e){let{enable:t,face:n=aa.BACK}=e;return{enable:!!t,face:_d[n]}}}extractUniforms(e){let t={};return Object.keys(e).forEach(n=>{this.extractUniformsRecursively(n,e[n],t,"")}),t}extractUniformsRecursively(e,t,n,r){if(null===t||"number"==typeof t||"boolean"==typeof t||Array.isArray(t)&&"number"==typeof t[0]||_H(t)||""===t||"resize"in t){n[`${r&&r+"."}${e}`]=t;return}_j(t)&&Object.keys(t).forEach(i=>{this.extractUniformsRecursively(i,t[i],n,`${r&&r+"."}${e}`)}),Array.isArray(t)&&t.forEach((t,i)=>{Object.keys(t).forEach(o=>{this.extractUniformsRecursively(o,t[o],n,`${r&&r+"."}${e}[${i}]`)})})}},_$=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(e){i(e)}},a=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())}),{isUndefined:_W}=nu,_Y=class{constructor(){this.uniformBuffers=[],this.queryVerdorInfo=()=>this.device.queryVendorInfo().platformString,this.createModel=e=>new _V(this.device,e,this),this.createAttribute=e=>new _i(this.device,e),this.createBuffer=e=>new _v(this.device,e),this.createElements=e=>new _I(this.device,e),this.createTexture2D=e=>new _R(this.device,e),this.createFramebuffer=e=>new _k(this.device,e),this.useFramebuffer=(e,t)=>{this.currentFramebuffer=e,this.beginFrame(),t(),this.endFrame(),this.currentFramebuffer=null},this.useFramebufferAsync=(e,t)=>_$(this,null,function*(){this.currentFramebuffer=e,this.preRenderPass=this.renderPass,this.beginFrame(),yield t(),this.endFrame(),this.currentFramebuffer=null,this.renderPass=this.preRenderPass}),this.clear=e=>{let{color:t,depth:n,stencil:r,framebuffer:i=null}=e;if(i)i.clearOptions={color:t,depth:n,stencil:r};else{let e=this.queryVerdorInfo();if("WebGL1"===e){let e=this.getGLContext();_W(r)?_W(n)||(e.clearDepth(n),e.clear(e.DEPTH_BUFFER_BIT)):(e.clearStencil(r),e.clear(e.STENCIL_BUFFER_BIT))}else if("WebGL2"===e){let e=this.getGLContext();_W(r)?_W(n)||e.clearBufferfv(e.DEPTH,0,[n]):e.clearBufferiv(e.STENCIL,0,[r])}}},this.viewport=({width:e,height:t})=>{this.swapChain.configureSwapChain(e,t),this.createMainColorDepthRT(e,t),this.width=e,this.height=t},this.readPixels=e=>{let{framebuffer:t,x:n,y:r,width:i,height:o}=e,a=this.device.createReadback(),s=t.colorTexture,l=a.readTextureSync(s,n,this.viewportOrigin===EQ.Fp.LOWER_LEFT?r:this.height-r,i,o,new Uint8Array(i*o*4));if(this.viewportOrigin!==EQ.Fp.LOWER_LEFT)for(let e=0;e<l.length;e+=4){let t=l[e];l[e]=l[e+2],l[e+2]=t}return a.destroy(),l},this.readPixelsAsync=e=>_$(this,null,function*(){let{framebuffer:t,x:n,y:r,width:i,height:o}=e,a=this.device.createReadback(),s=t.colorTexture,l=yield a.readTexture(s,n,this.viewportOrigin===EQ.Fp.LOWER_LEFT?r:this.height-r,i,o,new Uint8Array(i*o*4));if(this.viewportOrigin!==EQ.Fp.LOWER_LEFT)for(let e=0;e<l.length;e+=4){let t=l[e];l[e]=l[e+2],l[e+2]=t}return a.destroy(),l}),this.getViewportSize=()=>({width:this.width,height:this.height}),this.getContainer=()=>{var e;return null==(e=this.canvas)?void 0:e.parentElement},this.getCanvas=()=>this.canvas,this.getGLContext=()=>this.device.gl,this.destroy=()=>{var e;this.canvas=null,null==(e=this.uniformBuffers)||e.forEach(e=>{e.destroy()}),this.device.destroy(),this.renderCache.destroy()}}init(e,t){return _$(this,null,function*(){let{enableWebGPU:n,shaderCompilerPath:r,antialias:i}=t;this.canvas=e;let o=n?new EQ.zo({shaderCompilerPath:r}):new EQ.j8({targets:["webgl2","webgl1"],antialias:i,onContextLost(e){console.warn("context lost",e)},onContextCreationError(e){console.warn("context creation error",e)},onContextRestored(e){console.warn("context restored",e)}}),a=yield o.createSwapChain(e);a.configureSwapChain(e.width,e.height),this.device=a.getDevice(),this.swapChain=a,this.renderCache=new _O(this.device),this.currentFramebuffer=null,this.viewportOrigin=this.device.queryVendorInfo().viewportOrigin;let s=this.device.gl;this.extensionObject={OES_texture_float:!("undefined"!=typeof WebGL2RenderingContext&&s instanceof WebGL2RenderingContext)&&(!s||2!==s._version)&&this.device.OES_texture_float},this.createMainColorDepthRT(e.width,e.height)})}createMainColorDepthRT(e,t){this.mainColorRT&&this.mainColorRT.destroy(),this.mainDepthRT&&this.mainDepthRT.destroy(),this.mainColorRT=this.device.createRenderTargetFromTexture(this.device.createTexture({format:EQ.ED.U8_RGBA_RT,width:e,height:t,usage:EQ.v2.RENDER_TARGET})),this.mainDepthRT=this.device.createRenderTargetFromTexture(this.device.createTexture({format:EQ.ED.D24_S8,width:e,height:t,usage:EQ.v2.RENDER_TARGET}))}beginFrame(){this.device.beginFrame();let{currentFramebuffer:e,swapChain:t,mainColorRT:n,mainDepthRT:r}=this,i=e?e.colorRenderTarget:n,o=e?null:t.getOnscreenTexture(),a=e?e.depthRenderTarget:r,{color:s=[0,0,0,0],depth:l=1,stencil:c=0}=(null==e?void 0:e.clearOptions)||{},u=i?(0,EQ.RH)(255*s[0],255*s[1],255*s[2],s[3]):EQ.Ab,d=a?l:void 0,p=a?c:void 0,h=this.device.createRenderPass({colorAttachment:[i],colorResolveTo:[o],colorClearColor:[u],colorStore:[!0],depthStencilAttachment:a,depthClearValue:d,stencilClearValue:p});this.renderPass=h}endFrame(){this.device.submitPass(this.renderPass),this.device.endFrame()}getPointSizeRange(){let e=this.device.gl;return e.getParameter(e.ALIASED_POINT_SIZE_RANGE)}testExtension(e){return!!this.getGLContext().getExtension(e)}setState(){}setBaseState(){}setCustomLayerDefaults(){}setDirty(e){this.isDirty=e}getDirty(){return this.isDirty}},_q=["selectstart","selecting","selectend"],_X=class extends rU.EventEmitter{constructor(e,t={}){super(),this.isEnable=!1,this.onDragStart=e=>{this.box.style.display="block",this.startEvent=this.endEvent=e,this.syncBoxBound(),this.emit("selectstart",this.getLngLatBox(),this.startEvent,this.endEvent)},this.onDragging=e=>{this.endEvent=e,this.syncBoxBound(),this.emit("selecting",this.getLngLatBox(),this.startEvent,this.endEvent)},this.onDragEnd=e=>{this.endEvent=e,this.box.style.display="none",this.emit("selectend",this.getLngLatBox(),this.startEvent,this.endEvent)},this.scene=e,this.options=t}get container(){return this.scene.getMapService().getMarkerContainer()}enable(){if(this.isEnable)return;let{className:e}=this.options;if(this.scene.setMapStatus({dragEnable:!1}),this.container.style.cursor="crosshair",!this.box){let t=ng("div",void 0,this.container);t.classList.add("l7-select-box"),e&&t.classList.add(e),t.style.display="none",this.box=t}this.scene.on("dragstart",this.onDragStart),this.scene.on("dragging",this.onDragging),this.scene.on("dragend",this.onDragEnd),this.isEnable=!0}disable(){this.isEnable&&(this.scene.setMapStatus({dragEnable:!0}),this.container.style.cursor="auto",this.scene.off("dragstart",this.onDragStart),this.scene.off("dragging",this.onDragging),this.scene.off("dragend",this.onDragEnd),this.isEnable=!1)}syncBoxBound(){let{x:e,y:t}=this.startEvent,{x:n,y:r}=this.endEvent,i=Math.min(e,n),o=Math.min(t,r),a=Math.abs(e-n),s=Math.abs(t-r);this.box.style.top=`${o}px`,this.box.style.left=`${i}px`,this.box.style.width=`${a}px`,this.box.style.height=`${s}px`}getLngLatBox(){let{lngLat:{lng:e,lat:t}}=this.startEvent,{lngLat:{lng:n,lat:r}}=this.endEvent;return rf([[e,t],[n,r]])}},_K=Object.defineProperty,_Q=Object.defineProperties,_J=Object.getOwnPropertyDescriptors,_0=Object.getOwnPropertySymbols,_1=Object.prototype.hasOwnProperty,_2=Object.prototype.propertyIsEnumerable,_3=(e,t,n)=>t in e?_K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_5=(e,t)=>{for(var n in t||(t={}))_1.call(t,n)&&_3(e,n,t[n]);if(_0)for(var n of _0(t))_2.call(t,n)&&_3(e,n,t[n]);return e},_4=(e,t)=>_Q(e,_J(t)),_6=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(e){i(e)}},a=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())}),_7=class{constructor(e){let{id:t,map:n,renderer:r="device"}=e,i=lT();this.container=i,n.setContainer(i,t),"regl"===r?i.rendererService=new _r:i.rendererService=new _Y,this.sceneService=i.sceneService,this.mapService=i.mapService,this.iconService=i.iconService,this.fontService=i.fontService,this.controlService=i.controlService,this.layerService=i.layerService,this.debugService=i.debugService,this.debugService.setEnable(e.debug),this.markerService=i.markerService,this.interactionService=i.interactionService,this.popupService=i.popupService,this.boxSelect=new _X(this,{}),this.initComponent(t),this.sceneService.init(e),this.initControl()}get map(){return this.mapService.map}get loaded(){return this.sceneService.loaded}getServiceContainer(){return this.container}getSize(){return this.mapService.getSize()}getMinZoom(){return this.mapService.getMinZoom()}getMaxZoom(){return this.mapService.getMaxZoom()}getType(){return this.mapService.getType()}getMapContainer(){return this.mapService.getMapContainer()}getMapCanvasContainer(){return this.mapService.getMapCanvasContainer()}getMapService(){return this.mapService}getDebugService(){return this.debugService}exportPng(e){return _6(this,null,function*(){return this.sceneService.exportPng(e)})}exportMap(e){return _6(this,null,function*(){return this.sceneService.exportPng(e)})}registerRenderService(e){if(this.sceneService.loaded){let t=new e(this);t.init()}else this.on("loaded",()=>{let t=new e(this);t.init()})}setBgColor(e){this.mapService.setBgColor(e)}addLayer(e){this.loaded?this.preAddLayer(e):this.once("loaded",()=>{this.preAddLayer(e)})}preAddLayer(e){let t=lx(this.container);if(e.setContainer(t),this.sceneService.addLayer(e),e.inited){this.initTileLayer(e);let t=this.initMask(e);this.addMask(t,e.id)}else e.on("inited",()=>{this.initTileLayer(e);let t=this.initMask(e);this.addMask(t,e.id)})}initMask(e){let{mask:t,maskfence:n,maskColor:r="#000",maskOpacity:i=0}=e.getLayerConfig();if(!t||!n)return;let o=new mo().source(n).shape("fill").style({color:r,opacity:i});return o}addMask(e,t){if(!e)return;let n=this.getLayer(t);if(n){let t=lx(this.container);e.setContainer(t),n.addMaskLayer(e),this.sceneService.addMask(e)}else console.warn("parent layer not find!")}getPickedLayer(){return this.layerService.pickedLayerId}getLayers(){return this.layerService.getLayers()}getLayer(e){return this.layerService.getLayer(e)}getLayerByName(e){return this.layerService.getLayerByName(e)}removeLayer(e,t){return _6(this,null,function*(){yield this.layerService.remove(e,t)})}removeAllLayer(){return _6(this,null,function*(){yield this.layerService.removeAllLayers()})}render(){this.sceneService.render()}setEnableRender(e){this.layerService.setEnableRender(e)}addIconFont(e,t){this.fontService.addIconFont(e,t)}addIconFonts(e){e.forEach(([e,t])=>{this.fontService.addIconFont(e,t)})}addFontFace(e,t){this.fontService.once("fontloaded",e=>{this.emit("fontloaded",e)}),this.fontService.addFontFace(e,t)}addImage(e,t){return _6(this,null,function*(){yield this.iconService.addImage(e,t)})}hasImage(e){return this.iconService.hasImage(e)}removeImage(e){this.iconService.removeImage(e)}addIconFontGlyphs(e,t){this.fontService.addIconGlyphs(t)}addControl(e){this.controlService.addControl(e,this.container)}removeControl(e){this.controlService.removeControl(e)}getControlByName(e){return this.controlService.getControlByName(e)}addMarker(e){this.markerService.addMarker(e)}addMarkerLayer(e){this.markerService.addMarkerLayer(e)}removeMarkerLayer(e){this.markerService.removeMarkerLayer(e)}removeAllMarkers(){this.markerService.removeAllMarkers()}removeAllMakers(){console.warn("removeAllMakers 已废弃，请使用 removeAllMarkers"),this.markerService.removeAllMarkers()}addPopup(e){this.popupService.addPopup(e)}removePopup(e){this.popupService.removePopup(e)}on(e,t){var n;_q.includes(e)?null==(n=this.boxSelect)||n.on(e,t):lS.includes(e)?this.sceneService.on(e,t):this.mapService.on(e,t)}once(e,t){var n;_q.includes(e)?null==(n=this.boxSelect)||n.once(e,t):lS.includes(e)?this.sceneService.once(e,t):this.mapService.once(e,t)}emit(e,t){-1===lS.indexOf(e)?this.mapService.on(e,t):this.sceneService.emit(e,t)}off(e,t){var n;_q.includes(e)?null==(n=this.boxSelect)||n.off(e,t):lS.includes(e)?this.sceneService.off(e,t):this.mapService.off(e,t)}getZoom(){return this.mapService.getZoom()}getCenter(e){return this.mapService.getCenter(e)}setCenter(e,t){return this.mapService.setCenter(e,t)}getPitch(){return this.mapService.getPitch()}setPitch(e){return this.mapService.setPitch(e)}getRotation(){return this.mapService.getRotation()}getBounds(){return this.mapService.getBounds()}setRotation(e){this.mapService.setRotation(e)}zoomIn(){this.mapService.zoomIn()}zoomOut(){this.mapService.zoomOut()}panTo(e){this.mapService.panTo(e)}panBy(e,t){this.mapService.panBy(e,t)}getContainer(){return this.mapService.getContainer()}setZoom(e){this.mapService.setZoom(e)}fitBounds(e,t){let{fitBoundsOptions:n,animate:r}=this.sceneService.getSceneConfig();this.mapService.fitBounds(e,t||_4(_5({},n),{animate:r}))}setZoomAndCenter(e,t){this.mapService.setZoomAndCenter(e,t)}setMapStyle(e){this.mapService.setMapStyle(e)}setMapStatus(e){this.mapService.setMapStatus(e)}pixelToLngLat(e){return this.mapService.pixelToLngLat(e)}lngLatToPixel(e){return this.mapService.lngLatToPixel(e)}containerToLngLat(e){return this.mapService.containerToLngLat(e)}lngLatToContainer(e){return this.mapService.lngLatToContainer(e)}destroy(){this.sceneService.destroy()}registerPostProcessingPass(e){this.container.postProcessingPass.name=new e}enableShaderPick(){this.layerService.enableShaderPick()}diasbleShaderPick(){this.layerService.disableShaderPick()}enableBoxSelect(e=!0){this.boxSelect.enable(),e&&this.boxSelect.once("selectend",()=>{this.disableBoxSelect()})}disableBoxSelect(){this.boxSelect.disable()}static addProtocol(e,t){ew.REGISTERED_PROTOCOLS[e]=t}static removeProtocol(e){delete ew.REGISTERED_PROTOCOLS[e]}getProtocol(e){return ew.REGISTERED_PROTOCOLS[e]}startAnimate(){this.layerService.startAnimate()}stopAnimate(){this.layerService.stopAnimate()}getPointSizeRange(){return this.sceneService.getPointSizeRange()}initComponent(e){this.controlService.init({container:np(e)},this.container),this.markerService.init(this.container),this.popupService.init(this.container)}initControl(){let{logoVisible:e,logoPosition:t}=this.sceneService.getSceneConfig();e&&this.addControl(new uH({position:t}))}initTileLayer(e){e.getSource().isTile&&(e.tileLayer=new mm(e))}},_8="2.22.5"},47903:function(e){function t(e,t){if(0!==e.length){n(e[0],t);for(var r=1;r<e.length;r++)n(e[r],!t)}}function n(e,t){for(var n=0,r=0,i=0,o=e.length,a=o-1;i<o;a=i++){var s=(e[i][0]-e[a][0])*(e[a][1]+e[i][1]),l=n+s;r+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+r>=0!=!!t&&e.reverse()}e.exports=function e(n,r){var i,o=n&&n.type;if("FeatureCollection"===o)for(i=0;i<n.features.length;i++)e(n.features[i],r);else if("GeometryCollection"===o)for(i=0;i<n.geometries.length;i++)e(n.geometries[i],r);else if("Feature"===o)e(n.geometry,r);else if("Polygon"===o)t(n.coordinates,r);else if("MultiPolygon"===o)for(i=0;i<n.coordinates.length;i++)t(n.coordinates[i],r);return n}},96542:function(e){"use strict";function t(e,t){this.x=e,this.y=t}e.exports=t,t.prototype={clone:function(){return new t(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.x+n*(this.x-t.x)-r*(this.y-t.y),o=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(e){return e instanceof t?e:Array.isArray(e)?new t(e[0],e[1]):e}},25865:function(e){"use strict";function t(e,t,n,r,i,o){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer,s=a+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function n(e,t,n,i,o,a){for(var s=0;s<t;s++)r(e,s,t,n,i,o,a);for(var l=0;l<n;l++)r(e,l*t,1,t,i,o,a)}function r(e,t,n,r,i,o,a){var s,l,c,u;for(s=0,o[0]=0,a[0]=-1e20,a[1]=1e20;s<r;s++)i[s]=e[t+s*n];for(s=1,l=0,c=0;s<r;s++){do u=o[l],c=(i[s]-i[u]+s*s-u*u)/(s-u)/2;while(c<=a[l]&&--l>-1);o[++l]=s,a[l]=c,a[l+1]=1e20}for(s=0,l=0;s<r;s++){for(;a[l+1]<s;)l++;u=o[l],e[t+s*n]=i[u]+(s-u)*(s-u)}}e.exports=t,e.exports.default=t,t.prototype._draw=function(e,t){var r,i,o,a,s,l,c,u,d,p=this.ctx.measureText(e),h=p.width,f=2*this.buffer;t&&this.useMetrics?(s=Math.floor(p.actualBoundingBoxAscent),u=this.buffer+Math.ceil(p.actualBoundingBoxAscent),l=this.buffer,c=this.buffer,i=Math.min(this.size,Math.ceil(p.actualBoundingBoxRight-p.actualBoundingBoxLeft)),a=Math.min(this.size-l,Math.ceil(p.actualBoundingBoxAscent+p.actualBoundingBoxDescent)),r=i+f,o=a+f,this.ctx.textBaseline="alphabetic"):(r=i=this.size,o=a=this.size,s=19*this.fontSize/24,l=c=0,u=this.middle,this.ctx.textBaseline="middle"),i&&a&&(this.ctx.clearRect(c,l,i,a),this.ctx.fillText(e,this.buffer,u),d=this.ctx.getImageData(c,l,i,a));var g=new Uint8ClampedArray(r*o);return function(e,t,n,r,i,o,a){o.fill(1e20,0,t*n),a.fill(0,0,t*n);for(var s=(t-r)/2,l=0;l<i;l++)for(var c=0;c<r;c++){var u=(l+s)*t+c+s,d=e.data[4*(l*r+c)+3]/255;if(1===d)o[u]=0,a[u]=1e20;else if(0===d)o[u]=1e20,a[u]=0;else{var p=Math.max(0,.5-d),h=Math.max(0,d-.5);o[u]=p*p,a[u]=h*h}}}(d,r,o,i,a,this.gridOuter,this.gridInner),n(this.gridOuter,r,o,this.f,this.v,this.z),n(this.gridInner,r,o,this.f,this.v,this.z),function(e,t,n,r,i,o,a){for(var s=0;s<t*n;s++){var l=Math.sqrt(r[s])-Math.sqrt(i[s]);e[s]=Math.round(255-255*(l/o+a))}}(g,r,o,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:g,metrics:{width:i,height:a,sdfWidth:r,sdfHeight:o,top:s,left:0,advance:h}}},t.prototype.draw=function(e){return this._draw(e,!1).data},t.prototype.drawWithMetrics=function(e){return this._draw(e,!0)}},89504:function(e){"use strict";function t(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=r}e.exports=t,t.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,r=0;r<8;r++){var i=this.sampleCurveX(n)-e;if(Math.abs(i)<t)return n;var o=this.sampleCurveDerivativeX(n);if(1e-6>Math.abs(o))break;n-=i/o}var a=0,s=1;for(r=0,n=e;r<20&&!(Math.abs((i=this.sampleCurveX(n))-e)<t);r++)e>i?a=n:s=n,n=(s-a)*.5+a;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}}},99996:function(e,t,n){e.exports.VectorTile=n(14253),n(35752),n(143)},14253:function(e,t,n){"use strict";var r=n(143);function i(e,t,n){if(3===e){var i=new r(n,n.readVarint()+n.pos);i.length&&(t[i.name]=i)}}e.exports=function(e,t){this.layers=e.readFields(i,{},t)}},35752:function(e,t,n){"use strict";var r=n(96542);function i(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(o,this,t)}function o(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}e.exports=i,i.types=["Unknown","Point","LineString","Polygon"],i.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,i=1,o=0,a=0,s=0,l=[];e.pos<n;){if(o<=0){var c=e.readVarint();i=7&c,o=c>>3}if(o--,1===i||2===i)a+=e.readSVarint(),s+=e.readSVarint(),1===i&&(t&&l.push(t),t=[]),t.push(new r(a,s));else if(7===i)t&&t.push(t[0].clone());else throw Error("unknown command "+i)}return t&&l.push(t),l},i.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,c=-1/0;e.pos<t;){if(r<=0){var u=e.readVarint();n=7&u,r=u>>3}if(r--,1===n||2===n)i+=e.readSVarint(),o+=e.readSVarint(),i<a&&(a=i),i>s&&(s=i),o<l&&(l=o),o>c&&(c=o);else if(7!==n)throw Error("unknown command "+n)}return[a,l,s,c]},i.prototype.toGeoJSON=function(e,t,n){var r,o,a=this.extent*Math.pow(2,n),s=this.extent*e,l=this.extent*t,c=this.loadGeometry(),u=i.types[this.type];function d(e){for(var t=0;t<e.length;t++){var n=e[t],r=180-(n.y+l)*360/a;e[t]=[(n.x+s)*360/a-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}switch(this.type){case 1:var p=[];for(r=0;r<c.length;r++)p[r]=c[r][0];d(c=p);break;case 2:for(r=0;r<c.length;r++)d(c[r]);break;case 3:for(r=0,c=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=function(e){for(var t,n,r=0,i=0,o=e.length,a=o-1;i<o;a=i++)t=e[i],r+=((n=e[a]).x-t.x)*(t.y+n.y);return r}(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}return n&&i.push(n),i}(c);r<c.length;r++)for(o=0;o<c[r].length;o++)d(c[r][o])}1===c.length?c=c[0]:u="Multi"+u;var h={type:"Feature",geometry:{type:u,coordinates:c},properties:this.properties};return"id"in this&&(h.id=this.id),h}},143:function(e,t,n){"use strict";var r=n(35752);function i(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(o,this,t),this.length=this._features.length}function o(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}e.exports=i,i.prototype.feature=function(e){if(e<0||e>=this._features.length)throw Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new r(this._pbf,t,this.extent,this._keys,this._values)}},63464:function(e,t,n){"use strict";async function r(e,t){let n;let r=e.getReader();for(;!(n=await r.read()).done;)t(n.value)}function i(){return{data:"",event:"",id:"",retry:void 0}}n.d(t,{a:function(){return a},L:function(){return l}});var o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let a="text/event-stream",s="last-event-id";function l(e,t){var{signal:n,headers:l,onopen:u,onmessage:d,onclose:p,onerror:h,openWhenHidden:f,fetch:g}=t,m=o(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((t,o)=>{let b;let v=Object.assign({},l);function y(){b.abort(),document.hidden||C()}v.accept||(v.accept=a),f||document.addEventListener("visibilitychange",y);let E=1e3,_=0;function x(){document.removeEventListener("visibilitychange",y),window.clearTimeout(_),b.abort()}null==n||n.addEventListener("abort",()=>{x(),t()});let S=null!=g?g:window.fetch,A=null!=u?u:c;async function C(){var n,a;b=new AbortController;try{let n,o,l,c;let u=await S(e,Object.assign(Object.assign({},m),{headers:v,signal:b.signal}));await A(u),await r(u.body,(a=function(e,t,n){let r=i(),o=new TextDecoder;return function(a,s){if(0===a.length)null==n||n(r),r=i();else if(s>0){let n=o.decode(a.subarray(0,s)),i=s+(32===a[s+1]?2:1),l=o.decode(a.subarray(i));switch(n){case"data":r.data=r.data?r.data+"\n"+l:l;break;case"event":r.event=l;break;case"id":e(r.id=l);break;case"retry":let c=parseInt(l,10);isNaN(c)||t(r.retry=c)}}}}(e=>{e?v[s]=e:delete v[s]},e=>{E=e},d),c=!1,function(e){void 0===n?(n=e,o=0,l=-1):n=function(e,t){let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(n,e);let t=n.length,r=0;for(;o<t;){c&&(10===n[o]&&(r=++o),c=!1);let e=-1;for(;o<t&&-1===e;++o)switch(n[o]){case 58:-1===l&&(l=o-r);break;case 13:c=!0;case 10:e=o}if(-1===e)break;a(n.subarray(r,e),l),r=o,l=-1}r===t?n=void 0:0!==r&&(n=n.subarray(r),o-=r)})),null==p||p(),x(),t()}catch(e){if(!b.signal.aborted)try{let t=null!==(n=null==h?void 0:h(e))&&void 0!==n?n:E;window.clearTimeout(_),_=window.setTimeout(C,t)}catch(e){x(),o(e)}}}C()})}function c(e){let t=e.headers.get("content-type");if(!(null==t?void 0:t.startsWith(a)))throw Error(`Expected content-type to be ${a}, Actual: ${t}`)}},42046:function(e,t,n){"use strict";var r=n(13097),i=n(52676);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"}),"CheckOutlined")},38127:function(e,t,n){"use strict";var r=n(13097),i=n(52676);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"CloseOutlined")},9158:function(e,t,n){"use strict";var r=n(15767),i=n(75271),o=n(45081);t.Z=function(e,t){(0,i.useEffect)(function(){var t=e(),n=!1;return!function(){(0,r.mG)(this,void 0,void 0,function(){return(0,r.Jh)(this,function(e){switch(e.label){case 0:if(!(0,o.mf)(t[Symbol.asyncIterator]))return[3,4];e.label=1;case 1:return[4,t.next()];case 2:if(e.sent().done||n)return[3,3];return[3,1];case 3:return[3,6];case 4:return[4,t];case 5:e.sent(),e.label=6;case 6:return[2]}})})}(),function(){n=!0}},t)}},64279:function(e,t,n){"use strict";function r(e){return["small","middle","large"].includes(e)}function i(e){return!!e&&"number"==typeof e&&!Number.isNaN(e)}n.d(t,{T:function(){return i},n:function(){return r}})},83233:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(75271),i=n(10470),o=n(33487),a=n(85636),s=n(19466),l=n(1572),c=n(82187),u=n.n(c),d=n(24718),p=n(22898),h=n(94996),f=n(26314),g=n(52745),m=n(37341),b=n(49125),v=n(53968);let y=(e,t,n,r,i)=>({background:e,border:`${(0,m.bf)(r.lineWidth)} ${r.lineType} ${t}`,[`${i}-icon`]:{color:n}}),E=e=>{let{componentCls:t,motionDurationSlow:n,marginXS:r,marginSM:i,fontSize:o,fontSizeLG:a,lineHeight:s,borderRadiusLG:l,motionEaseInOutCirc:c,withDescriptionIconSize:u,colorText:d,colorTextHeading:p,withDescriptionPadding:h,defaultPadding:f}=e;return{[t]:Object.assign(Object.assign({},(0,b.Wf)(e)),{position:"relative",display:"flex",alignItems:"center",padding:f,wordWrap:"break-word",borderRadius:l,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:r,lineHeight:0},"&-description":{display:"none",fontSize:o,lineHeight:s},"&-message":{color:p},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${n} ${c}, opacity ${n} ${c},
        padding-top ${n} ${c}, padding-bottom ${n} ${c},
        margin-bottom ${n} ${c}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:h,[`${t}-icon`]:{marginInlineEnd:i,fontSize:u,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:r,color:p,fontSize:a},[`${t}-description`]:{display:"block",color:d}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},_=e=>{let{componentCls:t,colorSuccess:n,colorSuccessBorder:r,colorSuccessBg:i,colorWarning:o,colorWarningBorder:a,colorWarningBg:s,colorError:l,colorErrorBorder:c,colorErrorBg:u,colorInfo:d,colorInfoBorder:p,colorInfoBg:h}=e;return{[t]:{"&-success":y(i,r,n,e,t),"&-info":y(h,p,d,e,t),"&-warning":y(s,a,o,e,t),"&-error":Object.assign(Object.assign({},y(u,c,l,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},x=e=>{let{componentCls:t,iconCls:n,motionDurationMid:r,marginXS:i,fontSizeIcon:o,colorIcon:a,colorIconHover:s}=e;return{[t]:{"&-action":{marginInlineStart:i},[`${t}-close-icon`]:{marginInlineStart:i,padding:0,overflow:"hidden",fontSize:o,lineHeight:(0,m.bf)(o),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${n}-close`]:{color:a,transition:`color ${r}`,"&:hover":{color:s}}},"&-close-text":{color:a,transition:`color ${r}`,"&:hover":{color:s}}}}};var S=(0,v.I$)("Alert",e=>[E(e),_(e),x(e)],e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`})),A=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let C={success:i.Z,info:l.Z,error:o.Z,warning:s.Z},w=e=>{let{icon:t,prefixCls:n,type:i}=e,o=C[i]||null;return t?(0,f.wm)(t,r.createElement("span",{className:`${n}-icon`},t),()=>({className:u()(`${n}-icon`,t.props.className)})):r.createElement(o,{className:`${n}-icon`})},O=e=>{let{isClosable:t,prefixCls:n,closeIcon:i,handleClose:o,ariaProps:s}=e,l=!0===i||void 0===i?r.createElement(a.Z,null):i;return t?r.createElement("button",Object.assign({type:"button",onClick:o,className:`${n}-close-icon`,tabIndex:0},s),l):null},I=r.forwardRef((e,t)=>{let{description:n,prefixCls:i,message:o,banner:a,className:s,rootClassName:l,style:c,onMouseEnter:f,onMouseLeave:m,onClick:b,afterClose:v,showIcon:y,closable:E,closeText:_,closeIcon:x,action:C,id:I}=e,L=A(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[R,k]=r.useState(!1),N=r.useRef(null);r.useImperativeHandle(t,()=>({nativeElement:N.current}));let{getPrefixCls:M,direction:D,closable:P,closeIcon:F,className:B,style:U}=(0,g.dj)("alert"),z=M("alert",i),[Z,j,H]=S(z),G=t=>{var n;k(!0),null===(n=e.onClose)||void 0===n||n.call(e,t)},V=r.useMemo(()=>void 0!==e.type?e.type:a?"warning":"info",[e.type,a]),$=r.useMemo(()=>"object"==typeof E&&!!E.closeIcon||!!_||("boolean"==typeof E?E:!1!==x&&null!=x||!!P),[_,x,E,P]),W=!!a&&void 0===y||y,Y=u()(z,`${z}-${V}`,{[`${z}-with-description`]:!!n,[`${z}-no-icon`]:!W,[`${z}-banner`]:!!a,[`${z}-rtl`]:"rtl"===D},B,s,l,H,j),q=(0,p.Z)(L,{aria:!0,data:!0}),X=r.useMemo(()=>"object"==typeof E&&E.closeIcon?E.closeIcon:_||(void 0!==x?x:"object"==typeof P&&P.closeIcon?P.closeIcon:F),[x,E,_,F]),K=r.useMemo(()=>{let e=null!=E?E:P;if("object"==typeof e){let{closeIcon:t}=e,n=A(e,["closeIcon"]);return n}return{}},[E,P]);return Z(r.createElement(d.ZP,{visible:!R,motionName:`${z}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:e=>({maxHeight:e.offsetHeight}),onLeaveEnd:v},({className:t,style:i},a)=>r.createElement("div",Object.assign({id:I,ref:(0,h.sQ)(N,a),"data-show":!R,className:u()(Y,t),style:Object.assign(Object.assign(Object.assign({},U),c),i),onMouseEnter:f,onMouseLeave:m,onClick:b,role:"alert"},q),W?r.createElement(w,{description:n,icon:e.icon,prefixCls:z,type:V}):null,r.createElement("div",{className:`${z}-content`},o?r.createElement("div",{className:`${z}-message`},o):null,n?r.createElement("div",{className:`${z}-description`},n):null),C?r.createElement("div",{className:`${z}-action`},C):null,r.createElement(O,{isClosable:$,prefixCls:z,closeIcon:X,handleClose:G,ariaProps:K}))))});var L=n(59129),R=n(76920),k=n(87670),N=n(74063);let M=function(e){function t(){var e;return(0,L.Z)(this,t),e=(0,k.Z)(this,t,arguments),e.state={error:void 0,info:{componentStack:""}},e}return(0,N.Z)(t,e),(0,R.Z)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){let{message:e,description:t,id:n,children:i}=this.props,{error:o,info:a}=this.state,s=(null==a?void 0:a.componentStack)||null,l=void 0===e?(o||"").toString():e;return o?r.createElement(I,{id:n,type:"error",message:l,description:r.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},void 0===t?s:t)}):i}}])}(r.Component);I.ErrorBoundary=M;var D=I},19658:function(e,t,n){"use strict";n.d(t,{Z:function(){return Q}});var r=n(75271),i=n(82187),o=n.n(i),a=n(55443),s=n(52521),l=n(3860),c=n(46694),u=r.createContext(null),d=r.createContext({}),p=n(35576),h=n(29911),f=n(84875),g=n.n(f),m=n(24718),b=n(28114),v=n(22898),y=n(35245),E=n(94996),_=["prefixCls","className","containerRef"],x=function(e){var t=e.prefixCls,n=e.className,i=e.containerRef,o=(0,y.Z)(e,_),a=r.useContext(d).panel,s=(0,E.x1)(a,i);return r.createElement("div",(0,h.Z)({className:g()("".concat(t,"-content"),n),role:"dialog",ref:s},(0,v.Z)(e,{aria:!0}),{"aria-modal":"true"},o))},S=n(69287);function A(e){return"string"==typeof e&&String(Number(e))===e?((0,S.ZP)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var C={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"},w=r.forwardRef(function(e,t){var n,i,o,l=e.prefixCls,c=e.open,d=e.placement,f=e.inline,y=e.push,E=e.forceRender,_=e.autoFocus,S=e.keyboard,w=e.classNames,O=e.rootClassName,I=e.rootStyle,L=e.zIndex,R=e.className,k=e.id,N=e.style,M=e.motion,D=e.width,P=e.height,F=e.children,B=e.mask,U=e.maskClosable,z=e.maskMotion,Z=e.maskClassName,j=e.maskStyle,H=e.afterOpenChange,G=e.onClose,V=e.onMouseEnter,$=e.onMouseOver,W=e.onMouseLeave,Y=e.onClick,q=e.onKeyDown,X=e.onKeyUp,K=e.styles,Q=e.drawerRender,J=r.useRef(),ee=r.useRef(),et=r.useRef();r.useImperativeHandle(t,function(){return J.current}),r.useEffect(function(){if(c&&_){var e;null===(e=J.current)||void 0===e||e.focus({preventScroll:!0})}},[c]);var en=r.useState(!1),er=(0,s.Z)(en,2),ei=er[0],eo=er[1],ea=r.useContext(u),es=null!==(n=null!==(i=null===(o="boolean"==typeof y?y?{}:{distance:0}:y||{})||void 0===o?void 0:o.distance)&&void 0!==i?i:null==ea?void 0:ea.pushDistance)&&void 0!==n?n:180,el=r.useMemo(function(){return{pushDistance:es,push:function(){eo(!0)},pull:function(){eo(!1)}}},[es]);r.useEffect(function(){var e,t;c?null==ea||null===(e=ea.push)||void 0===e||e.call(ea):null==ea||null===(t=ea.pull)||void 0===t||t.call(ea)},[c]),r.useEffect(function(){return function(){var e;null==ea||null===(e=ea.pull)||void 0===e||e.call(ea)}},[]);var ec=B&&r.createElement(m.ZP,(0,h.Z)({key:"mask"},z,{visible:c}),function(e,t){var n=e.className,i=e.style;return r.createElement("div",{className:g()("".concat(l,"-mask"),n,null==w?void 0:w.mask,Z),style:(0,a.Z)((0,a.Z)((0,a.Z)({},i),j),null==K?void 0:K.mask),onClick:U&&c?G:void 0,ref:t})}),eu="function"==typeof M?M(d):M,ed={};if(ei&&es)switch(d){case"top":ed.transform="translateY(".concat(es,"px)");break;case"bottom":ed.transform="translateY(".concat(-es,"px)");break;case"left":ed.transform="translateX(".concat(es,"px)");break;default:ed.transform="translateX(".concat(-es,"px)")}"left"===d||"right"===d?ed.width=A(D):ed.height=A(P);var ep={onMouseEnter:V,onMouseOver:$,onMouseLeave:W,onClick:Y,onKeyDown:q,onKeyUp:X},eh=r.createElement(m.ZP,(0,h.Z)({key:"panel"},eu,{visible:c,forceRender:E,onVisibleChanged:function(e){null==H||H(e)},removeOnLeave:!1,leavedClassName:"".concat(l,"-content-wrapper-hidden")}),function(t,n){var i=t.className,o=t.style,s=r.createElement(x,(0,h.Z)({id:k,containerRef:n,prefixCls:l,className:g()(R,null==w?void 0:w.content),style:(0,a.Z)((0,a.Z)({},N),null==K?void 0:K.content)},(0,v.Z)(e,{aria:!0}),ep),F);return r.createElement("div",(0,h.Z)({className:g()("".concat(l,"-content-wrapper"),null==w?void 0:w.wrapper,i),style:(0,a.Z)((0,a.Z)((0,a.Z)({},ed),o),null==K?void 0:K.wrapper)},(0,v.Z)(e,{data:!0})),Q?Q(s):s)}),ef=(0,a.Z)({},I);return L&&(ef.zIndex=L),r.createElement(u.Provider,{value:el},r.createElement("div",{className:g()(l,"".concat(l,"-").concat(d),O,(0,p.Z)((0,p.Z)({},"".concat(l,"-open"),c),"".concat(l,"-inline"),f)),style:ef,tabIndex:-1,ref:J,onKeyDown:function(e){var t,n,r=e.keyCode,i=e.shiftKey;switch(r){case b.Z.TAB:r===b.Z.TAB&&(i||document.activeElement!==et.current?i&&document.activeElement===ee.current&&(null===(n=et.current)||void 0===n||n.focus({preventScroll:!0})):null===(t=ee.current)||void 0===t||t.focus({preventScroll:!0}));break;case b.Z.ESC:G&&S&&(e.stopPropagation(),G(e))}}},ec,r.createElement("div",{tabIndex:0,ref:ee,style:C,"aria-hidden":"true","data-sentinel":"start"}),eh,r.createElement("div",{tabIndex:0,ref:et,style:C,"aria-hidden":"true","data-sentinel":"end"})))}),O=function(e){var t=e.open,n=e.prefixCls,i=e.placement,o=e.autoFocus,u=e.keyboard,p=e.width,h=e.mask,f=void 0===h||h,g=e.maskClosable,m=e.getContainer,b=e.forceRender,v=e.afterOpenChange,y=e.destroyOnClose,E=e.onMouseEnter,_=e.onMouseOver,x=e.onMouseLeave,S=e.onClick,A=e.onKeyDown,C=e.onKeyUp,O=e.panelRef,I=r.useState(!1),L=(0,s.Z)(I,2),R=L[0],k=L[1],N=r.useState(!1),M=(0,s.Z)(N,2),D=M[0],P=M[1];(0,c.Z)(function(){P(!0)},[]);var F=!!D&&void 0!==t&&t,B=r.useRef(),U=r.useRef();(0,c.Z)(function(){F&&(U.current=document.activeElement)},[F]);var z=r.useMemo(function(){return{panel:O}},[O]);if(!b&&!R&&!F&&y)return null;var Z=(0,a.Z)((0,a.Z)({},e),{},{open:F,prefixCls:void 0===n?"rc-drawer":n,placement:void 0===i?"right":i,autoFocus:void 0===o||o,keyboard:void 0===u||u,width:void 0===p?378:p,mask:f,maskClosable:void 0===g||g,inline:!1===m,afterOpenChange:function(e){var t,n;k(e),null==v||v(e),e||!U.current||null!==(t=B.current)&&void 0!==t&&t.contains(U.current)||null===(n=U.current)||void 0===n||n.focus({preventScroll:!0})},ref:B},{onMouseEnter:E,onMouseOver:_,onMouseLeave:x,onClick:S,onKeyDown:A,onKeyUp:C});return r.createElement(d.Provider,{value:z},r.createElement(l.Z,{open:F||b||R,autoDestroy:!1,getContainer:m,autoLock:f&&(F||R)},r.createElement(w,Z)))},I=n(743),L=n(18413),R=n(84490),k=n(27376),N=n(52745),M=n(45286),D=n(90302),P=n(13694),F=e=>{var t,n;let{prefixCls:i,title:a,footer:s,extra:l,loading:c,onClose:u,headerStyle:d,bodyStyle:p,footerStyle:h,children:f,classNames:g,styles:m}=e,b=(0,N.dj)("drawer"),v=r.useCallback(e=>r.createElement("button",{type:"button",onClick:u,className:`${i}-close`},e),[u]),[y,E]=(0,D.Z)((0,D.w)(e),(0,D.w)(b),{closable:!0,closeIconRender:v}),_=r.useMemo(()=>{var e,t;return a||y?r.createElement("div",{style:Object.assign(Object.assign(Object.assign({},null===(e=b.styles)||void 0===e?void 0:e.header),d),null==m?void 0:m.header),className:o()(`${i}-header`,{[`${i}-header-close-only`]:y&&!a&&!l},null===(t=b.classNames)||void 0===t?void 0:t.header,null==g?void 0:g.header)},r.createElement("div",{className:`${i}-header-title`},E,a&&r.createElement("div",{className:`${i}-title`},a)),l&&r.createElement("div",{className:`${i}-extra`},l)):null},[y,E,l,d,i,a]),x=r.useMemo(()=>{var e,t;if(!s)return null;let n=`${i}-footer`;return r.createElement("div",{className:o()(n,null===(e=b.classNames)||void 0===e?void 0:e.footer,null==g?void 0:g.footer),style:Object.assign(Object.assign(Object.assign({},null===(t=b.styles)||void 0===t?void 0:t.footer),h),null==m?void 0:m.footer)},s)},[s,h,i]);return r.createElement(r.Fragment,null,_,r.createElement("div",{className:o()(`${i}-body`,null==g?void 0:g.body,null===(t=b.classNames)||void 0===t?void 0:t.body),style:Object.assign(Object.assign(Object.assign({},null===(n=b.styles)||void 0===n?void 0:n.body),p),null==m?void 0:m.body)},c?r.createElement(P.Z,{active:!0,title:!1,paragraph:{rows:5},className:`${i}-body-skeleton`}):f),x)},B=n(37341),U=n(49125),z=n(53968),Z=n(84458);let j=e=>{let t="100%";return({left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`})[e]},H=(e,t)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}),G=(e,t)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}}},H({opacity:e},{opacity:1})),V=(e,t)=>[G(.7,t),H({transform:j(e)},{transform:"none"})];var $=e=>{let{componentCls:t,motionDurationSlow:n}=e;return{[t]:{[`${t}-mask-motion`]:G(0,n),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((e,t)=>Object.assign(Object.assign({},e),{[`&-${t}`]:V(t,n)}),{})}}};let W=e=>{let{borderRadiusSM:t,componentCls:n,zIndexPopup:r,colorBgMask:i,colorBgElevated:o,motionDurationSlow:a,motionDurationMid:s,paddingXS:l,padding:c,paddingLG:u,fontSizeLG:d,lineHeightLG:p,lineWidth:h,lineType:f,colorSplit:g,marginXS:m,colorIcon:b,colorIconHover:v,colorBgTextHover:y,colorBgTextActive:E,colorText:_,fontWeightStrong:x,footerPaddingBlock:S,footerPaddingInline:A,calc:C}=e,w=`${n}-content-wrapper`;return{[n]:{position:"fixed",inset:0,zIndex:r,pointerEvents:"none",color:_,"&-pure":{position:"relative",background:o,display:"flex",flexDirection:"column",[`&${n}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${n}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${n}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${n}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${n}-mask`]:{position:"absolute",inset:0,zIndex:r,background:i,pointerEvents:"auto"},[w]:{position:"absolute",zIndex:r,maxWidth:"100vw",transition:`all ${a}`,"&-hidden":{display:"none"}},[`&-left > ${w}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${w}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${w}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${w}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${n}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:o,pointerEvents:"auto"},[`${n}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${(0,B.bf)(c)} ${(0,B.bf)(u)}`,fontSize:d,lineHeight:p,borderBottom:`${(0,B.bf)(h)} ${f} ${g}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${n}-extra`]:{flex:"none"},[`${n}-close`]:Object.assign({display:"inline-flex",width:C(d).add(l).equal(),height:C(d).add(l).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",marginInlineEnd:m,color:b,fontWeight:x,fontSize:d,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${s}`,textRendering:"auto","&:hover":{color:v,backgroundColor:y,textDecoration:"none"},"&:active":{backgroundColor:E}},(0,U.Qy)(e)),[`${n}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:d,lineHeight:p},[`${n}-body`]:{flex:1,minWidth:0,minHeight:0,padding:u,overflow:"auto",[`${n}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${n}-footer`]:{flexShrink:0,padding:`${(0,B.bf)(S)} ${(0,B.bf)(A)}`,borderTop:`${(0,B.bf)(h)} ${f} ${g}`},"&-rtl":{direction:"rtl"}}}};var Y=(0,z.I$)("Drawer",e=>{let t=(0,Z.IX)(e,{});return[W(t),$(t)]},e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding})),q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let X={distance:180},K=e=>{let{rootClassName:t,width:n,height:i,size:a="default",mask:s=!0,push:l=X,open:c,afterOpenChange:u,onClose:d,prefixCls:p,getContainer:h,style:f,className:g,visible:m,afterVisibleChange:b,maskStyle:v,drawerStyle:y,contentWrapperStyle:E,destroyOnClose:_,destroyOnHidden:x}=e,S=q(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle","destroyOnClose","destroyOnHidden"]),{getPopupContainer:A,getPrefixCls:C,direction:w,className:D,style:P,classNames:B,styles:U}=(0,N.dj)("drawer"),z=C("drawer",p),[Z,j,H]=Y(z),G=void 0===h&&A?()=>A(document.body):h,V=o()({"no-mask":!s,[`${z}-rtl`]:"rtl"===w},t,j,H),$=r.useMemo(()=>null!=n?n:"large"===a?736:378,[n,a]),W=r.useMemo(()=>null!=i?i:"large"===a?736:378,[i,a]),K={motionName:(0,R.m)(z,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},Q=(0,M.H)(),[J,ee]=(0,L.Cn)("Drawer",S.zIndex),{classNames:et={},styles:en={}}=S;return Z(r.createElement(I.Z,{form:!0,space:!0},r.createElement(k.Z.Provider,{value:ee},r.createElement(O,Object.assign({prefixCls:z,onClose:d,maskMotion:K,motion:e=>({motionName:(0,R.m)(z,`panel-motion-${e}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500})},S,{classNames:{mask:o()(et.mask,B.mask),content:o()(et.content,B.content),wrapper:o()(et.wrapper,B.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},en.mask),v),U.mask),content:Object.assign(Object.assign(Object.assign({},en.content),y),U.content),wrapper:Object.assign(Object.assign(Object.assign({},en.wrapper),E),U.wrapper)},open:null!=c?c:m,mask:s,push:l,width:$,height:W,style:Object.assign(Object.assign({},P),f),className:o()(D,g),rootClassName:V,getContainer:G,afterOpenChange:null!=u?u:b,panelRef:Q,zIndex:J,destroyOnClose:null!=x?x:_}),r.createElement(F,Object.assign({prefixCls:z},S,{onClose:d}))))))};K._InternalPanelDoNotUseOrYouWillBeFired=e=>{let{prefixCls:t,style:n,className:i,placement:a="right"}=e,s=q(e,["prefixCls","style","className","placement"]),{getPrefixCls:l}=r.useContext(N.E_),c=l("drawer",t),[u,d,p]=Y(c),h=o()(c,`${c}-pure`,`${c}-${a}`,d,p,i);return u(r.createElement("div",{className:h,style:n},r.createElement(F,Object.assign({prefixCls:c},s))))};var Q=K},91653:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r=n(75271),i=n(82187),o=n.n(i),a=n(91081),s=n(64279),l=n(52745),c=n(53968),u=n(84458);let d=["wrap","nowrap","wrap-reverse"],p=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],h=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],f=(e,t)=>{let n=!0===t.wrap?"wrap":t.wrap;return{[`${e}-wrap-${n}`]:n&&d.includes(n)}},g=(e,t)=>{let n={};return h.forEach(r=>{n[`${e}-align-${r}`]=t.align===r}),n[`${e}-align-stretch`]=!t.align&&!!t.vertical,n},m=(e,t)=>{let n={};return p.forEach(r=>{n[`${e}-justify-${r}`]=t.justify===r}),n},b=e=>{let{componentCls:t}=e;return{[t]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},v=e=>{let{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},y=e=>{let{componentCls:t}=e,n={};return d.forEach(e=>{n[`${t}-wrap-${e}`]={flexWrap:e}}),n},E=e=>{let{componentCls:t}=e,n={};return h.forEach(e=>{n[`${t}-align-${e}`]={alignItems:e}}),n},_=e=>{let{componentCls:t}=e,n={};return p.forEach(e=>{n[`${t}-justify-${e}`]={justifyContent:e}}),n};var x=(0,c.I$)("Flex",e=>{let{paddingXS:t,padding:n,paddingLG:r}=e,i=(0,u.IX)(e,{flexGapSM:t,flexGap:n,flexGapLG:r});return[b(i),v(i),y(i),E(i),_(i)]},()=>({}),{resetStyle:!1}),S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let A=r.forwardRef((e,t)=>{let{prefixCls:n,rootClassName:i,className:c,style:u,flex:d,gap:p,children:h,vertical:b=!1,component:v="div"}=e,y=S(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:E,direction:_,getPrefixCls:A}=r.useContext(l.E_),C=A("flex",n),[w,O,I]=x(C),L=null!=b?b:null==E?void 0:E.vertical,R=o()(c,i,null==E?void 0:E.className,C,O,I,o()(Object.assign(Object.assign(Object.assign({},f(C,e)),g(C,e)),m(C,e))),{[`${C}-rtl`]:"rtl"===_,[`${C}-gap-${p}`]:(0,s.n)(p),[`${C}-vertical`]:L}),k=Object.assign(Object.assign({},null==E?void 0:E.style),u);return d&&(k.flex=d),p&&!(0,s.n)(p)&&(k.gap=p),w(r.createElement(v,Object.assign({ref:t,className:R,style:k},(0,a.Z)(y,["justify","wrap","align"])),h))});var C=A},4818:function(e,t,n){"use strict";n.d(t,{Z:function(){return eL}});var r=n(75271),i=n(2137),o=n(82187),a=n.n(o),s=n(29911),l=n(55443),c=n(35576),u=n(52521),d=n(28269),p=n(35245),h=n(84875),f=n.n(h);function g(){return{width:document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight}}var m=n(90523),b=n(40995),v=n(62211),y=n(28114),E=n(3860),_=n(24718),x=r.createContext(null),S=function(e){var t=e.visible,n=e.maskTransitionName,i=e.getContainer,o=e.prefixCls,a=e.rootClassName,s=e.icons,u=e.countRender,d=e.showSwitch,p=e.showProgress,h=e.current,g=e.transform,m=e.count,b=e.scale,v=e.minScale,S=e.maxScale,A=e.closeIcon,C=e.onActive,w=e.onClose,O=e.onZoomIn,I=e.onZoomOut,L=e.onRotateRight,R=e.onRotateLeft,k=e.onFlipX,N=e.onFlipY,M=e.onReset,D=e.toolbarRender,P=e.zIndex,F=e.image,B=(0,r.useContext)(x),U=s.rotateLeft,z=s.rotateRight,Z=s.zoomIn,j=s.zoomOut,H=s.close,G=s.left,V=s.right,$=s.flipX,W=s.flipY,Y="".concat(o,"-operations-operation");r.useEffect(function(){var e=function(e){e.keyCode===y.Z.ESC&&w()};return t&&window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}},[t]);var q=function(e,t){e.preventDefault(),e.stopPropagation(),C(t)},X=r.useCallback(function(e){var t=e.type,n=e.disabled,i=e.onClick,a=e.icon;return r.createElement("div",{key:t,className:f()(Y,"".concat(o,"-operations-operation-").concat(t),(0,c.Z)({},"".concat(o,"-operations-operation-disabled"),!!n)),onClick:i},a)},[Y,o]),K=d?X({icon:G,onClick:function(e){return q(e,-1)},type:"prev",disabled:0===h}):void 0,Q=d?X({icon:V,onClick:function(e){return q(e,1)},type:"next",disabled:h===m-1}):void 0,J=X({icon:W,onClick:N,type:"flipY"}),ee=X({icon:$,onClick:k,type:"flipX"}),et=X({icon:U,onClick:R,type:"rotateLeft"}),en=X({icon:z,onClick:L,type:"rotateRight"}),er=X({icon:j,onClick:I,type:"zoomOut",disabled:b<=v}),ei=X({icon:Z,onClick:O,type:"zoomIn",disabled:b===S}),eo=r.createElement("div",{className:"".concat(o,"-operations")},J,ee,et,en,er,ei);return r.createElement(_.ZP,{visible:t,motionName:n},function(e){var t=e.className,n=e.style;return r.createElement(E.Z,{open:!0,getContainer:null!=i?i:document.body},r.createElement("div",{className:f()("".concat(o,"-operations-wrapper"),t,a),style:(0,l.Z)((0,l.Z)({},n),{},{zIndex:P})},null===A?null:r.createElement("button",{className:"".concat(o,"-close"),onClick:w},A||H),d&&r.createElement(r.Fragment,null,r.createElement("div",{className:f()("".concat(o,"-switch-left"),(0,c.Z)({},"".concat(o,"-switch-left-disabled"),0===h)),onClick:function(e){return q(e,-1)}},G),r.createElement("div",{className:f()("".concat(o,"-switch-right"),(0,c.Z)({},"".concat(o,"-switch-right-disabled"),h===m-1)),onClick:function(e){return q(e,1)}},V)),r.createElement("div",{className:"".concat(o,"-footer")},p&&r.createElement("div",{className:"".concat(o,"-progress")},u?u(h+1,m):r.createElement("bdi",null,"".concat(h+1," / ").concat(m))),D?D(eo,(0,l.Z)((0,l.Z)({icons:{prevIcon:K,nextIcon:Q,flipYIcon:J,flipXIcon:ee,rotateLeftIcon:et,rotateRightIcon:en,zoomOutIcon:er,zoomInIcon:ei},actions:{onActive:C,onFlipY:N,onFlipX:k,onRotateLeft:R,onRotateRight:L,onZoomOut:I,onZoomIn:O,onReset:M,onClose:w},transform:g},B?{current:h,total:m}:{}),{},{image:F})):eo)))})},A=n(8104),C=n(99824),w={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1},O=n(69287);function I(e,t,n,r){var i=t+n,o=(n-r)/2;if(n>r){if(t>0)return(0,c.Z)({},e,o);if(t<0&&i<r)return(0,c.Z)({},e,-o)}else if(t<0||i>r)return(0,c.Z)({},e,t<0?o:-o);return{}}function L(e,t,n,r){var i=g(),o=i.width,a=i.height,s=null;return e<=o&&t<=a?s={x:0,y:0}:(e>o||t>a)&&(s=(0,l.Z)((0,l.Z)({},I("x",n,e,o)),I("y",r,t,a))),s}function R(e){var t=e.src,n=e.isCustomPlaceholder,i=e.fallback,o=(0,r.useState)(n?"loading":"normal"),a=(0,u.Z)(o,2),s=a[0],l=a[1],c=(0,r.useRef)(!1),d="error"===s;(0,r.useEffect)(function(){var e=!0;return new Promise(function(e){if(!t){e(!1);return}var n=document.createElement("img");n.onerror=function(){return e(!1)},n.onload=function(){return e(!0)},n.src=t}).then(function(t){!t&&e&&l("error")}),function(){e=!1}},[t]),(0,r.useEffect)(function(){n&&!c.current?l("loading"):d&&l("normal")},[t]);var p=function(){l("normal")};return[function(e){c.current=!1,"loading"===s&&null!=e&&e.complete&&(e.naturalWidth||e.naturalHeight)&&(c.current=!0,p())},d&&i?{src:i}:{onLoad:p,src:t},s]}function k(e,t){return Math.hypot(e.x-t.x,e.y-t.y)}var N=["fallback","src","imgRef"],M=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],D=function(e){var t=e.fallback,n=e.src,i=e.imgRef,o=(0,p.Z)(e,N),a=R({src:n,fallback:t}),l=(0,u.Z)(a,2),c=l[0],d=l[1];return r.createElement("img",(0,s.Z)({ref:function(e){i.current=e,c(e)}},o,d))},P=function(e){var t,n,i,o,a,d,h,m,E,_,I,R,N,P,F,B,U,z,Z,j,H,G,V,$,W,Y,q,X,K=e.prefixCls,Q=e.src,J=e.alt,ee=e.imageInfo,et=e.fallback,en=e.movable,er=void 0===en||en,ei=e.onClose,eo=e.visible,ea=e.icons,es=e.rootClassName,el=e.closeIcon,ec=e.getContainer,eu=e.current,ed=void 0===eu?0:eu,ep=e.count,eh=void 0===ep?1:ep,ef=e.countRender,eg=e.scaleStep,em=void 0===eg?.5:eg,eb=e.minScale,ev=void 0===eb?1:eb,ey=e.maxScale,eE=void 0===ey?50:ey,e_=e.transitionName,eT=e.maskTransitionName,ex=void 0===eT?"fade":eT,eS=e.imageRender,eA=e.imgCommonProps,eC=e.toolbarRender,ew=e.onTransform,eO=e.onChange,eI=(0,p.Z)(e,M),eL=(0,r.useRef)(),eR=(0,r.useContext)(x),ek=eR&&eh>1,eN=eR&&eh>=1,eM=(0,r.useState)(!0),eD=(0,u.Z)(eM,2),eP=eD[0],eF=eD[1],eB=(t=(0,r.useRef)(null),n=(0,r.useRef)([]),i=(0,r.useState)(w),a=(o=(0,u.Z)(i,2))[0],d=o[1],h=function(e,r){null===t.current&&(n.current=[],t.current=(0,C.Z)(function(){d(function(e){var i=e;return n.current.forEach(function(e){i=(0,l.Z)((0,l.Z)({},i),e)}),t.current=null,null==ew||ew({transform:i,action:r}),i})})),n.current.push((0,l.Z)((0,l.Z)({},a),e))},{transform:a,resetTransform:function(e){d(w),(0,A.Z)(w,a)||null==ew||ew({transform:w,action:e})},updateTransform:h,dispatchZoomChange:function(e,t,n,r,i){var o=eL.current,s=o.width,l=o.height,c=o.offsetWidth,u=o.offsetHeight,d=o.offsetLeft,p=o.offsetTop,f=e,m=a.scale*e;m>eE?(m=eE,f=eE/a.scale):m<ev&&(f=(m=i?m:ev)/a.scale);var b=null!=n?n:innerWidth/2,v=null!=r?r:innerHeight/2,y=f-1,E=y*(b-a.x-d),_=y*(v-a.y-p),x=a.x-(E-y*s*.5),S=a.y-(_-y*l*.5);if(e<1&&1===m){var A=c*m,C=u*m,w=g(),O=w.width,I=w.height;A<=O&&C<=I&&(x=0,S=0)}h({x:x,y:S,scale:m},t)}}),eU=eB.transform,ez=eB.resetTransform,eZ=eB.updateTransform,ej=eB.dispatchZoomChange,eH=(m=eU.rotate,E=eU.scale,_=eU.x,I=eU.y,R=(0,r.useState)(!1),P=(N=(0,u.Z)(R,2))[0],F=N[1],B=(0,r.useRef)({diffX:0,diffY:0,transformX:0,transformY:0}),U=function(e){eo&&P&&eZ({x:e.pageX-B.current.diffX,y:e.pageY-B.current.diffY},"move")},z=function(){if(eo&&P){F(!1);var e=B.current,t=e.transformX,n=e.transformY;if(_!==t&&I!==n){var r=eL.current.offsetWidth*E,i=eL.current.offsetHeight*E,o=eL.current.getBoundingClientRect(),a=o.left,s=o.top,c=m%180!=0,u=L(c?i:r,c?r:i,a,s);u&&eZ((0,l.Z)({},u),"dragRebound")}}},(0,r.useEffect)(function(){var e,t,n,r;if(er){n=(0,v.Z)(window,"mouseup",z,!1),r=(0,v.Z)(window,"mousemove",U,!1);try{window.top!==window.self&&(e=(0,v.Z)(window.top,"mouseup",z,!1),t=(0,v.Z)(window.top,"mousemove",U,!1))}catch(e){(0,O.Kp)(!1,"[rc-image] ".concat(e))}}return function(){var i,o,a,s;null===(i=n)||void 0===i||i.remove(),null===(o=r)||void 0===o||o.remove(),null===(a=e)||void 0===a||a.remove(),null===(s=t)||void 0===s||s.remove()}},[eo,P,_,I,m,er]),{isMoving:P,onMouseDown:function(e){er&&0===e.button&&(e.preventDefault(),e.stopPropagation(),B.current={diffX:e.pageX-_,diffY:e.pageY-I,transformX:_,transformY:I},F(!0))},onMouseMove:U,onMouseUp:z,onWheel:function(e){if(eo&&0!=e.deltaY){var t=1+Math.min(Math.abs(e.deltaY/100),1)*em;e.deltaY>0&&(t=1/t),ej(t,"wheel",e.clientX,e.clientY)}}}),eG=eH.isMoving,eV=eH.onMouseDown,e$=eH.onWheel,eW=(Z=eU.rotate,j=eU.scale,H=eU.x,G=eU.y,V=(0,r.useState)(!1),W=($=(0,u.Z)(V,2))[0],Y=$[1],q=(0,r.useRef)({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),X=function(e){q.current=(0,l.Z)((0,l.Z)({},q.current),e)},(0,r.useEffect)(function(){var e;return eo&&er&&(e=(0,v.Z)(window,"touchmove",function(e){return e.preventDefault()},{passive:!1})),function(){var t;null===(t=e)||void 0===t||t.remove()}},[eo,er]),{isTouching:W,onTouchStart:function(e){if(er){e.stopPropagation(),Y(!0);var t=e.touches,n=void 0===t?[]:t;n.length>1?X({point1:{x:n[0].clientX,y:n[0].clientY},point2:{x:n[1].clientX,y:n[1].clientY},eventType:"touchZoom"}):X({point1:{x:n[0].clientX-H,y:n[0].clientY-G},eventType:"move"})}},onTouchMove:function(e){var t=e.touches,n=void 0===t?[]:t,r=q.current,i=r.point1,o=r.point2,a=r.eventType;if(n.length>1&&"touchZoom"===a){var s={x:n[0].clientX,y:n[0].clientY},l={x:n[1].clientX,y:n[1].clientY},c=function(e,t,n,r){var i=k(e,n),o=k(t,r);if(0===i&&0===o)return[e.x,e.y];var a=i/(i+o);return[e.x+a*(t.x-e.x),e.y+a*(t.y-e.y)]}(i,o,s,l),d=(0,u.Z)(c,2),p=d[0],h=d[1];ej(k(s,l)/k(i,o),"touchZoom",p,h,!0),X({point1:s,point2:l,eventType:"touchZoom"})}else"move"===a&&(eZ({x:n[0].clientX-i.x,y:n[0].clientY-i.y},"move"),X({eventType:"move"}))},onTouchEnd:function(){if(eo){if(W&&Y(!1),X({eventType:"none"}),ev>j)return eZ({x:0,y:0,scale:ev},"touchZoom");var e=eL.current.offsetWidth*j,t=eL.current.offsetHeight*j,n=eL.current.getBoundingClientRect(),r=n.left,i=n.top,o=Z%180!=0,a=L(o?t:e,o?e:t,r,i);a&&eZ((0,l.Z)({},a),"dragRebound")}}}),eY=eW.isTouching,eq=eW.onTouchStart,eX=eW.onTouchMove,eK=eW.onTouchEnd,eQ=eU.rotate,eJ=eU.scale,e0=f()((0,c.Z)({},"".concat(K,"-moving"),eG));(0,r.useEffect)(function(){eP||eF(!0)},[eP]);var e1=function(e){var t=ed+e;!Number.isInteger(t)||t<0||t>eh-1||(eF(!1),ez(e<0?"prev":"next"),null==eO||eO(t,ed))},e2=function(e){eo&&ek&&(e.keyCode===y.Z.LEFT?e1(-1):e.keyCode===y.Z.RIGHT&&e1(1))};(0,r.useEffect)(function(){var e=(0,v.Z)(window,"keydown",e2,!1);return function(){e.remove()}},[eo,ek,ed]);var e3=r.createElement(D,(0,s.Z)({},eA,{width:e.width,height:e.height,imgRef:eL,className:"".concat(K,"-img"),alt:J,style:{transform:"translate3d(".concat(eU.x,"px, ").concat(eU.y,"px, 0) scale3d(").concat(eU.flipX?"-":"").concat(eJ,", ").concat(eU.flipY?"-":"").concat(eJ,", 1) rotate(").concat(eQ,"deg)"),transitionDuration:(!eP||eY)&&"0s"},fallback:et,src:Q,onWheel:e$,onMouseDown:eV,onDoubleClick:function(e){eo&&(1!==eJ?eZ({x:0,y:0,scale:1},"doubleClick"):ej(1+em,"doubleClick",e.clientX,e.clientY))},onTouchStart:eq,onTouchMove:eX,onTouchEnd:eK,onTouchCancel:eK})),e5=(0,l.Z)({url:Q,alt:J},ee);return r.createElement(r.Fragment,null,r.createElement(b.Z,(0,s.Z)({transitionName:void 0===e_?"zoom":e_,maskTransitionName:ex,closable:!1,keyboard:!0,prefixCls:K,onClose:ei,visible:eo,classNames:{wrapper:e0},rootClassName:es,getContainer:ec},eI,{afterClose:function(){ez("close")}}),r.createElement("div",{className:"".concat(K,"-img-wrapper")},eS?eS(e3,(0,l.Z)({transform:eU,image:e5},eR?{current:ed}:{})):e3)),r.createElement(S,{visible:eo,transform:eU,maskTransitionName:ex,closeIcon:el,getContainer:ec,prefixCls:K,rootClassName:es,icons:void 0===ea?{}:ea,countRender:ef,showSwitch:ek,showProgress:eN,current:ed,count:eh,scale:eJ,minScale:ev,maxScale:eE,toolbarRender:eC,onActive:e1,onZoomIn:function(){ej(1+em,"zoomIn")},onZoomOut:function(){ej(1/(1+em),"zoomOut")},onRotateRight:function(){eZ({rotate:eQ+90},"rotateRight")},onRotateLeft:function(){eZ({rotate:eQ-90},"rotateLeft")},onFlipX:function(){eZ({flipX:!eU.flipX},"flipX")},onFlipY:function(){eZ({flipY:!eU.flipY},"flipY")},onClose:ei,onReset:function(){ez("reset")},zIndex:void 0!==eI.zIndex?eI.zIndex+1:void 0,image:e5}))},F=n(35979),B=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"],U=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],z=["src"],Z=0,j=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],H=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],G=function(e){var t,n,i,o,a=e.src,h=e.alt,g=e.onPreviewClose,b=e.prefixCls,v=void 0===b?"rc-image":b,y=e.previewPrefixCls,E=void 0===y?"".concat(v,"-preview"):y,_=e.placeholder,S=e.fallback,A=e.width,C=e.height,w=e.style,O=e.preview,I=void 0===O||O,L=e.className,k=e.onClick,N=e.onError,M=e.wrapperClassName,D=e.wrapperStyle,F=e.rootClassName,U=(0,p.Z)(e,j),z=_&&!0!==_,G="object"===(0,d.Z)(I)?I:{},V=G.src,$=G.visible,W=void 0===$?void 0:$,Y=G.onVisibleChange,q=G.getContainer,X=G.mask,K=G.maskClassName,Q=G.movable,J=G.icons,ee=G.scaleStep,et=G.minScale,en=G.maxScale,er=G.imageRender,ei=G.toolbarRender,eo=(0,p.Z)(G,H),ea=null!=V?V:a,es=(0,m.Z)(!!W,{value:W,onChange:void 0===Y?g:Y}),el=(0,u.Z)(es,2),ec=el[0],eu=el[1],ed=R({src:a,isCustomPlaceholder:z,fallback:S}),ep=(0,u.Z)(ed,3),eh=ep[0],ef=ep[1],eg=ep[2],em=(0,r.useState)(null),eb=(0,u.Z)(em,2),ev=eb[0],ey=eb[1],eE=(0,r.useContext)(x),e_=!!I,eT=f()(v,M,F,(0,c.Z)({},"".concat(v,"-error"),"error"===eg)),ex=(0,r.useMemo)(function(){var t={};return B.forEach(function(n){void 0!==e[n]&&(t[n]=e[n])}),t},B.map(function(t){return e[t]})),eS=(0,r.useMemo)(function(){return(0,l.Z)((0,l.Z)({},ex),{},{src:ea})},[ea,ex]),eA=(t=r.useState(function(){return String(Z+=1)}),n=(0,u.Z)(t,1)[0],i=r.useContext(x),o={data:eS,canPreview:e_},r.useEffect(function(){if(i)return i.register(n,o)},[]),r.useEffect(function(){i&&i.register(n,o)},[e_,eS]),n);return r.createElement(r.Fragment,null,r.createElement("div",(0,s.Z)({},U,{className:eT,onClick:e_?function(e){var t,n,r=(t=e.target.getBoundingClientRect(),n=document.documentElement,{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}),i=r.left,o=r.top;eE?eE.onPreview(eA,ea,i,o):(ey({x:i,y:o}),eu(!0)),null==k||k(e)}:k,style:(0,l.Z)({width:A,height:C},D)}),r.createElement("img",(0,s.Z)({},ex,{className:f()("".concat(v,"-img"),(0,c.Z)({},"".concat(v,"-img-placeholder"),!0===_),L),style:(0,l.Z)({height:C},w),ref:eh},ef,{width:A,height:C,onError:N})),"loading"===eg&&r.createElement("div",{"aria-hidden":"true",className:"".concat(v,"-placeholder")},_),X&&e_&&r.createElement("div",{className:f()("".concat(v,"-mask"),K),style:{display:(null==w?void 0:w.display)==="none"?"none":void 0}},X)),!eE&&e_&&r.createElement(P,(0,s.Z)({"aria-hidden":!ec,visible:ec,prefixCls:E,onClose:function(){eu(!1),ey(null)},mousePosition:ev,src:ea,alt:h,imageInfo:{width:A,height:C},fallback:S,getContainer:void 0===q?void 0:q,icons:J,movable:Q,scaleStep:ee,minScale:et,maxScale:en,rootClassName:F,imageRender:er,imgCommonProps:ex,toolbarRender:ei},eo)))};G.PreviewGroup=function(e){var t,n,i,o,a,h,f=e.previewPrefixCls,g=e.children,b=e.icons,v=e.items,y=e.preview,E=e.fallback,_="object"===(0,d.Z)(y)?y:{},S=_.visible,A=_.onVisibleChange,C=_.getContainer,w=_.current,O=_.movable,I=_.minScale,L=_.maxScale,R=_.countRender,k=_.closeIcon,N=_.onChange,M=_.onTransform,D=_.toolbarRender,Z=_.imageRender,j=(0,p.Z)(_,U),H=(t=r.useState({}),i=(n=(0,u.Z)(t,2))[0],o=n[1],a=r.useCallback(function(e,t){return o(function(n){return(0,l.Z)((0,l.Z)({},n),{},(0,c.Z)({},e,t))}),function(){o(function(t){var n=(0,l.Z)({},t);return delete n[e],n})}},[]),[r.useMemo(function(){return v?v.map(function(e){if("string"==typeof e)return{data:{src:e}};var t={};return Object.keys(e).forEach(function(n){["src"].concat((0,F.Z)(B)).includes(n)&&(t[n]=e[n])}),{data:t}}):Object.keys(i).reduce(function(e,t){var n=i[t],r=n.canPreview,o=n.data;return r&&e.push({data:o,id:t}),e},[])},[v,i]),a,!!v]),G=(0,u.Z)(H,3),V=G[0],$=G[1],W=G[2],Y=(0,m.Z)(0,{value:w}),q=(0,u.Z)(Y,2),X=q[0],K=q[1],Q=(0,r.useState)(!1),J=(0,u.Z)(Q,2),ee=J[0],et=J[1],en=(null===(h=V[X])||void 0===h?void 0:h.data)||{},er=en.src,ei=(0,p.Z)(en,z),eo=(0,m.Z)(!!S,{value:S,onChange:function(e,t){null==A||A(e,t,X)}}),ea=(0,u.Z)(eo,2),es=ea[0],el=ea[1],ec=(0,r.useState)(null),eu=(0,u.Z)(ec,2),ed=eu[0],ep=eu[1],eh=r.useCallback(function(e,t,n,r){var i=W?V.findIndex(function(e){return e.data.src===t}):V.findIndex(function(t){return t.id===e});K(i<0?0:i),el(!0),ep({x:n,y:r}),et(!0)},[V,W]);r.useEffect(function(){es?ee||K(0):et(!1)},[es]);var ef=r.useMemo(function(){return{register:$,onPreview:eh}},[$,eh]);return r.createElement(x.Provider,{value:ef},g,r.createElement(P,(0,s.Z)({"aria-hidden":!es,movable:O,visible:es,prefixCls:void 0===f?"rc-image-preview":f,closeIcon:k,onClose:function(){el(!1),ep(null)},mousePosition:ed,imgCommonProps:ei,src:er,fallback:E,icons:void 0===b?{}:b,minScale:I,maxScale:L,getContainer:C,current:X,count:V.length,countRender:R,onTransform:M,toolbarRender:D,imageRender:Z,onChange:function(e,t){K(e),null==N||N(e,t)}},j)))};var V=n(18413),$=n(84490),W=n(52745),Y=n(90877),q=n(29688),X=n(85636),K=n(85863),Q=n(58814),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},ee=n(65202),et=r.forwardRef(function(e,t){return r.createElement(ee.Z,(0,s.Z)({},e,{ref:t,icon:J}))}),en={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},er=r.forwardRef(function(e,t){return r.createElement(ee.Z,(0,s.Z)({},e,{ref:t,icon:en}))}),ei=n(2891),eo=r.forwardRef(function(e,t){return r.createElement(ee.Z,(0,s.Z)({},e,{ref:t,icon:ei.Z}))}),ea=n(15386),es=r.forwardRef(function(e,t){return r.createElement(ee.Z,(0,s.Z)({},e,{ref:t,icon:ea.Z}))}),el=n(25521),ec=r.forwardRef(function(e,t){return r.createElement(ee.Z,(0,s.Z)({},e,{ref:t,icon:el.Z}))}),eu=n(37341),ed=n(84432),ep=n(48539),eh=n(49125),ef=n(69654),eg=n(11137),em=n(53968),eb=n(84458);let ev=e=>({position:e||"absolute",inset:0}),ey=e=>{let{iconCls:t,motionDurationSlow:n,paddingXXS:r,marginXXS:i,prefixCls:o,colorTextLightSolid:a}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:a,background:new ed.t("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`,[`.${o}-mask-info`]:Object.assign(Object.assign({},eh.vS),{padding:`0 ${(0,eu.bf)(r)}`,[t]:{marginInlineEnd:i,svg:{verticalAlign:"baseline"}}})}},eE=e=>{let{previewCls:t,modalMaskBg:n,paddingSM:r,marginXL:i,margin:o,paddingLG:a,previewOperationColorDisabled:s,previewOperationHoverColor:l,motionDurationSlow:c,iconCls:u,colorTextLightSolid:d}=e,p=new ed.t(n).setA(.1),h=p.clone().setA(.2);return{[`${t}-footer`]:{position:"fixed",bottom:i,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)"},[`${t}-progress`]:{marginBottom:o},[`${t}-close`]:{position:"fixed",top:i,right:{_skip_check_:!0,value:i},display:"flex",color:d,backgroundColor:p.toRgbString(),borderRadius:"50%",padding:r,outline:0,border:0,cursor:"pointer",transition:`all ${c}`,"&:hover":{backgroundColor:h.toRgbString()},[`& > ${u}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${(0,eu.bf)(a)}`,backgroundColor:p.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:r,padding:r,cursor:"pointer",transition:`all ${c}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${u}`]:{color:l},"&-disabled":{color:s,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${u}`]:{fontSize:e.previewOperationSize}}}}},e_=e=>{let{modalMaskBg:t,iconCls:n,previewOperationColorDisabled:r,previewCls:i,zIndexPopup:o,motionDurationSlow:a}=e,s=new ed.t(t).setA(.1),l=s.clone().setA(.2);return{[`${i}-switch-left, ${i}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(o).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:s.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${a}`,userSelect:"none","&:hover":{background:l.toRgbString()},"&-disabled":{"&, &:hover":{color:r,background:"transparent",cursor:"not-allowed",[`> ${n}`]:{cursor:"not-allowed"}}},[`> ${n}`]:{fontSize:e.previewOperationSize}},[`${i}-switch-left`]:{insetInlineStart:e.marginSM},[`${i}-switch-right`]:{insetInlineEnd:e.marginSM}}},eT=e=>{let{motionEaseOut:t,previewCls:n,motionDurationSlow:r,componentCls:i}=e;return[{[`${i}-preview-root`]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${n}-body`]:Object.assign(Object.assign({},ev()),{overflow:"hidden"}),[`${n}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${r} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},ev()),{transition:`transform ${r} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${n}-moving`]:{[`${n}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${i}-preview-root`]:{[`${n}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${i}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal()},"&":[eE(e),e_(e)]}]},ex=e=>{let{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},ey(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},ev())}}},eS=e=>{let{previewCls:t}=e;return{[`${t}-root`]:(0,ef._y)(e,"zoom"),"&":(0,eg.J$)(e,!0)}};var eA=(0,em.I$)("Image",e=>{let t=`${e.componentCls}-preview`,n=(0,eb.IX)(e,{previewCls:t,modalMaskBg:new ed.t("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[ex(n),eT(n),(0,ep.QA)((0,eb.IX)(n,{componentCls:t})),eS(n)]},e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new ed.t(e.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new ed.t(e.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new ed.t(e.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:1.5*e.fontSizeIcon})),eC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let ew={rotateLeft:r.createElement(et,null),rotateRight:r.createElement(er,null),zoomIn:r.createElement(es,null),zoomOut:r.createElement(ec,null),close:r.createElement(X.Z,null),left:r.createElement(K.Z,null),right:r.createElement(Q.Z,null),flipX:r.createElement(eo,null),flipY:r.createElement(eo,{rotate:90})};var eO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let eI=e=>{let{prefixCls:t,preview:n,className:o,rootClassName:s,style:l}=e,c=eO(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:u,getPopupContainer:d,className:p,style:h,preview:f}=(0,W.dj)("image"),[g]=(0,q.Z)("Image"),m=u("image",t),b=u(),v=(0,Y.Z)(m),[y,E,_]=eA(m,v),x=a()(s,E,_,v),S=a()(o,E,p),[A]=(0,V.Cn)("ImagePreview","object"==typeof n?n.zIndex:void 0),C=r.useMemo(()=>{if(!1===n)return n;let e="object"==typeof n?n:{},{getContainer:t,closeIcon:o,rootClassName:s,destroyOnClose:l,destroyOnHidden:c}=e,u=eO(e,["getContainer","closeIcon","rootClassName","destroyOnClose","destroyOnHidden"]);return Object.assign(Object.assign({mask:r.createElement("div",{className:`${m}-mask-info`},r.createElement(i.Z,null),null==g?void 0:g.preview),icons:ew},u),{destroyOnClose:null!=c?c:l,rootClassName:a()(x,s),getContainer:null!=t?t:d,transitionName:(0,$.m)(b,"zoom",e.transitionName),maskTransitionName:(0,$.m)(b,"fade",e.maskTransitionName),zIndex:A,closeIcon:null!=o?o:null==f?void 0:f.closeIcon})},[n,g,null==f?void 0:f.closeIcon]),w=Object.assign(Object.assign({},h),l);return y(r.createElement(G,Object.assign({prefixCls:m,preview:C,rootClassName:x,className:S,style:w},c)))};eI.PreviewGroup=e=>{var{previewPrefixCls:t,preview:n}=e,i=eC(e,["previewPrefixCls","preview"]);let{getPrefixCls:o,direction:s}=r.useContext(W.E_),l=o("image",t),c=`${l}-preview`,u=o(),d=(0,Y.Z)(l),[p,h,f]=eA(l,d),[g]=(0,V.Cn)("ImagePreview","object"==typeof n?n.zIndex:void 0),m=r.useMemo(()=>Object.assign(Object.assign({},ew),{left:"rtl"===s?r.createElement(Q.Z,null):r.createElement(K.Z,null),right:"rtl"===s?r.createElement(K.Z,null):r.createElement(Q.Z,null)}),[s]),b=r.useMemo(()=>{var e;if(!1===n)return n;let t="object"==typeof n?n:{},r=a()(h,f,d,null!==(e=t.rootClassName)&&void 0!==e?e:"");return Object.assign(Object.assign({},t),{transitionName:(0,$.m)(u,"zoom",t.transitionName),maskTransitionName:(0,$.m)(u,"fade",t.maskTransitionName),rootClassName:r,zIndex:g})},[n]);return p(r.createElement(G.PreviewGroup,Object.assign({preview:b,previewPrefixCls:c,icons:m},i)))};var eL=eI},92629:function(e,t,n){"use strict";n.d(t,{default:function(){return _}});var r=n(35979),i=n(75271),o=n(82187),a=n.n(o),s=n(91081),l=n(52745),c=n(69502),u=n(27727),d=n(59982),p=n(21030),h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function f({suffixCls:e,tagName:t,displayName:n}){return n=>{let r=i.forwardRef((r,o)=>i.createElement(n,Object.assign({ref:o,suffixCls:e,tagName:t},r)));return r}}let g=i.forwardRef((e,t)=>{let{prefixCls:n,suffixCls:r,className:o,tagName:s}=e,c=h(e,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:u}=i.useContext(l.E_),d=u("layout",n),[f,g,m]=(0,p.ZP)(d),b=r?`${d}-${r}`:d;return f(i.createElement(s,Object.assign({className:a()(n||b,o,g,m),ref:t},c)))}),m=i.forwardRef((e,t)=>{let{direction:n}=i.useContext(l.E_),[o,f]=i.useState([]),{prefixCls:g,className:m,rootClassName:b,children:v,hasSider:y,tagName:E,style:_}=e,x=h(e,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),S=(0,s.Z)(x,["suffixCls"]),{getPrefixCls:A,className:C,style:w}=(0,l.dj)("layout"),O=A("layout",g),I=function(e,t,n){if("boolean"==typeof n)return n;if(e.length)return!0;let r=(0,u.Z)(t);return r.some(e=>e.type===d.Z)}(o,v,y),[L,R,k]=(0,p.ZP)(O),N=a()(O,{[`${O}-has-sider`]:I,[`${O}-rtl`]:"rtl"===n},C,m,b,R,k),M=i.useMemo(()=>({siderHook:{addSider:e=>{f(t=>[].concat((0,r.Z)(t),[e]))},removeSider:e=>{f(t=>t.filter(t=>t!==e))}}}),[]);return L(i.createElement(c.V.Provider,{value:M},i.createElement(E,Object.assign({ref:t,className:N,style:Object.assign(Object.assign({},w),_)},S),v)))}),b=f({tagName:"div",displayName:"Layout"})(m),v=f({suffixCls:"header",tagName:"header",displayName:"Header"})(g),y=f({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(g),E=f({suffixCls:"content",tagName:"main",displayName:"Content"})(g);b.Header=v,b.Footer=y,b.Content=E,b.Sider=d.Z,b._InternalSiderContext=d.D;var _=b},83958:function(e,t,n){"use strict";n.d(t,{default:function(){return _}});var r=n(21539),i=n(98631),o=n(25653),a=n(75271),s=n(82187),l=n.n(s),c=n(40995),u=n(49558),d=n(52745),p=n(90877),h=n(81483),f=n(74273),g=n(48539),m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},b=(0,u.i)(e=>{let{prefixCls:t,className:n,closeIcon:r,closable:i,type:o,title:s,children:u,footer:b}=e,v=m(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:y}=a.useContext(d.E_),E=y(),_=t||y("modal"),x=(0,p.Z)(E),[S,A,C]=(0,g.ZP)(_,x),w=`${_}-confirm`,O={};return O=o?{closable:null!=i&&i,title:"",footer:"",children:a.createElement(h.O,Object.assign({},e,{prefixCls:_,confirmPrefixCls:w,rootPrefixCls:E,content:u}))}:{closable:null==i||i,title:s,footer:null!==b&&a.createElement(f.$,Object.assign({},e)),children:u},S(a.createElement(c.s,Object.assign({prefixCls:_,className:l()(A,`${_}-pure-panel`,o&&w,o&&`${w}-${o}`,n,C,x)},v,{closeIcon:(0,f.b)(_,r),closable:i},O)))}),v=n(15421);function y(e){return(0,r.ZP)((0,r.uW)(e))}let E=o.Z;E.useModal=v.Z,E.info=function(e){return(0,r.ZP)((0,r.cw)(e))},E.success=function(e){return(0,r.ZP)((0,r.vq)(e))},E.error=function(e){return(0,r.ZP)((0,r.AQ)(e))},E.warning=y,E.warn=y,E.confirm=function(e){return(0,r.ZP)((0,r.Au)(e))},E.destroyAll=function(){for(;i.Z.length;){let e=i.Z.pop();e&&e()}},E.config=r.ai,E._InternalPanelDoNotUseOrYouWillBeFired=b;var _=E},49105:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(75271),i=n(82187),o=n.n(i),a=n(27727),s=n(64279),l=n(52745),c=n(42575);let u=r.createContext({latestIndex:0}),d=u.Provider;var p=({className:e,index:t,children:n,split:i,style:o})=>{let{latestIndex:a}=r.useContext(u);return null==n?null:r.createElement(r.Fragment,null,r.createElement("div",{className:e,style:o},n),t<a&&i&&r.createElement("span",{className:`${e}-split`},i))},h=n(10571),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let g=r.forwardRef((e,t)=>{var n;let{getPrefixCls:i,direction:c,size:u,className:g,style:m,classNames:b,styles:v}=(0,l.dj)("space"),{size:y=null!=u?u:"small",align:E,className:_,rootClassName:x,children:S,direction:A="horizontal",prefixCls:C,split:w,style:O,wrap:I=!1,classNames:L,styles:R}=e,k=f(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[N,M]=Array.isArray(y)?y:[y,y],D=(0,s.n)(M),P=(0,s.n)(N),F=(0,s.T)(M),B=(0,s.T)(N),U=(0,a.Z)(S,{keepEmpty:!0}),z=void 0===E&&"horizontal"===A?"center":E,Z=i("space",C),[j,H,G]=(0,h.Z)(Z),V=o()(Z,g,H,`${Z}-${A}`,{[`${Z}-rtl`]:"rtl"===c,[`${Z}-align-${z}`]:z,[`${Z}-gap-row-${M}`]:D,[`${Z}-gap-col-${N}`]:P},_,x,G),$=o()(`${Z}-item`,null!==(n=null==L?void 0:L.item)&&void 0!==n?n:b.item),W=0,Y=U.map((e,t)=>{var n;null!=e&&(W=t);let i=(null==e?void 0:e.key)||`${$}-${t}`;return r.createElement(p,{className:$,key:i,index:t,split:w,style:null!==(n=null==R?void 0:R.item)&&void 0!==n?n:v.item},e)}),q=r.useMemo(()=>({latestIndex:W}),[W]);if(0===U.length)return null;let X={};return I&&(X.flexWrap="wrap"),!P&&B&&(X.columnGap=N),!D&&F&&(X.rowGap=M),j(r.createElement("div",Object.assign({ref:t,className:V,style:Object.assign(Object.assign(Object.assign({},X),m),O)},k),r.createElement(d,{value:q},Y)))});g.Compact=c.ZP;var m=g},20300:function(e,t,n){"use strict";var r=n(56906);function i(){var e={},t=0,n=0,r=0;return{add:function(i,o){o||(o=i,i=0),i>n?n=i:i<r&&(r=i),e[i]||(e[i]=[]),e[i].push(o),t++},process:function(){for(var t=r;t<=n;t++)for(var i=e[t],o=0;o<i.length;o++)(0,i[o])()},size:function(){return t}}}e.exports=function(e){var t,n=(e=e||{}).reporter,o=r.getOption(e,"async",!0),a=r.getOption(e,"auto",!0);a&&!o&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),o=!0);var s=i(),l=!1;function c(){for(l=!0;s.size();){var e=s;s=i(),e.process()}l=!1}function u(e){return setTimeout(e,0)}return{add:function(e,n){!l&&a&&o&&0===s.size()&&(t=u(c)),s.add(e,n)},force:function(e){!l&&(void 0===e&&(e=o),t&&(clearTimeout(t),t=null),e?t=u(c):c())}}}},56906:function(e){"use strict";(e.exports={}).getOption=function(e,t,n){var r=e[t];return null==r&&void 0!==n?n:r}},72107:function(e,t){"use strict";t.Q=function(e){for(var t,n=[],r=String(e||""),i=r.indexOf(","),o=0,a=!1;!a;)-1===i&&(i=r.length,a=!0),((t=r.slice(o,i).trim())||!a)&&n.push(t),o=i+1,i=r.indexOf(",",o);return n}},75734:function(e){"use strict";function t(e,t,u){u=u||2;var d,f,m,b,v,y,E,_=t&&t.length,x=_?t[0]*u:e.length,S=n(e,0,x,u,!0),A=[];if(!S||S.next===S.prev)return A;if(_&&(S=function(e,t,o,l){var c,u,d,f,g,m=[];for(c=0,u=t.length;c<u;c++)d=t[c]*l,f=c<u-1?t[c+1]*l:e.length,(g=n(e,d,f,l,!1))===g.next&&(g.steiner=!0),m.push(function(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}(g));for(m.sort(i),c=0;c<m.length;c++)o=function(e,t){var n=function(e,t){var n,r,i,o=t,l=e.x,c=e.y,u=-1/0;do{if(c<=o.y&&c>=o.next.y&&o.next.y!==o.y){var d=o.x+(c-o.y)*(o.next.x-o.x)/(o.next.y-o.y);if(d<=l&&d>u&&(u=d,i=o.x<o.next.x?o:o.next,d===l))return i}o=o.next}while(o!==t);if(!i)return null;var h,f=i,g=i.x,m=i.y,b=1/0;o=i;do l>=o.x&&o.x>=g&&l!==o.x&&a(c<m?l:u,c,g,m,c<m?u:l,c,o.x,o.y)&&(h=Math.abs(c-o.y)/(l-o.x),p(o,e)&&(h<b||h===b&&(o.x>i.x||o.x===i.x&&(n=i,r=o,0>s(n.prev,n,r.prev)&&0>s(r.next,n,n.next))))&&(i=o,b=h)),o=o.next;while(o!==f);return i}(e,t);if(!n)return t;var i=h(n,e);return r(i,i.next),r(n,n.next)}(m[c],o);return o}(e,t,S,u)),e.length>80*u){d=m=e[0],f=b=e[1];for(var C=u;C<x;C+=u)v=e[C],y=e[C+1],v<d&&(d=v),y<f&&(f=y),v>m&&(m=v),y>b&&(b=y);E=0!==(E=Math.max(m-d,b-f))?32767/E:0}return function e(t,n,i,u,d,f,m){if(t){!m&&f&&function(e,t,n,r){var i=e;do 0===i.z&&(i.z=o(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,l,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(t,u,d,f);for(var b,v,y=t;t.prev!==t.next;){if(b=t.prev,v=t.next,f?function(e,t,n,r){var i=e.prev,l=e.next;if(s(i,e,l)>=0)return!1;for(var c=i.x,u=e.x,d=l.x,p=i.y,h=e.y,f=l.y,g=c<u?c<d?c:d:u<d?u:d,m=p<h?p<f?p:f:h<f?h:f,b=c>u?c>d?c:d:u>d?u:d,v=p>h?p>f?p:f:h>f?h:f,y=o(g,m,t,n,r),E=o(b,v,t,n,r),_=e.prevZ,x=e.nextZ;_&&_.z>=y&&x&&x.z<=E;){if(_.x>=g&&_.x<=b&&_.y>=m&&_.y<=v&&_!==i&&_!==l&&a(c,p,u,h,d,f,_.x,_.y)&&s(_.prev,_,_.next)>=0||(_=_.prevZ,x.x>=g&&x.x<=b&&x.y>=m&&x.y<=v&&x!==i&&x!==l&&a(c,p,u,h,d,f,x.x,x.y)&&s(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;_&&_.z>=y;){if(_.x>=g&&_.x<=b&&_.y>=m&&_.y<=v&&_!==i&&_!==l&&a(c,p,u,h,d,f,_.x,_.y)&&s(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;x&&x.z<=E;){if(x.x>=g&&x.x<=b&&x.y>=m&&x.y<=v&&x!==i&&x!==l&&a(c,p,u,h,d,f,x.x,x.y)&&s(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}(t,u,d,f):function(e){var t=e.prev,n=e.next;if(s(t,e,n)>=0)return!1;for(var r=t.x,i=e.x,o=n.x,l=t.y,c=e.y,u=n.y,d=r<i?r<o?r:o:i<o?i:o,p=l<c?l<u?l:u:c<u?c:u,h=r>i?r>o?r:o:i>o?i:o,f=l>c?l>u?l:u:c>u?c:u,g=n.next;g!==t;){if(g.x>=d&&g.x<=h&&g.y>=p&&g.y<=f&&a(r,l,i,c,o,u,g.x,g.y)&&s(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}(t)){n.push(b.i/i|0),n.push(t.i/i|0),n.push(v.i/i|0),g(t),t=v.next,y=v.next;continue}if((t=v)===y){m?1===m?e(t=function(e,t,n){var i=e;do{var o=i.prev,a=i.next.next;!l(o,a)&&c(o,i,i.next,a)&&p(o,a)&&p(a,o)&&(t.push(o.i/n|0),t.push(i.i/n|0),t.push(a.i/n|0),g(i),g(i.next),i=e=a),i=i.next}while(i!==e);return r(i)}(r(t),n,i),n,i,u,d,f,2):2===m&&function(t,n,i,o,a,u){var d=t;do{for(var f,g,m=d.next.next;m!==d.prev;){if(d.i!==m.i&&(f=d,g=m,f.next.i!==g.i&&f.prev.i!==g.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&c(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(f,g)&&(p(f,g)&&p(g,f)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}(f,g)&&(s(f.prev,f,g.prev)||s(f,g.prev,g))||l(f,g)&&s(f.prev,f,f.next)>0&&s(g.prev,g,g.next)>0))){var b=h(d,m);d=r(d,d.next),b=r(b,b.next),e(d,n,i,o,a,u,0),e(b,n,i,o,a,u,0);return}m=m.next}d=d.next}while(d!==t)}(t,n,i,u,d,f):e(r(t),n,i,u,d,f,1);break}}}}(S,A,u,d,f,E,0),A}function n(e,t,n,r,i){var o,a;if(i===b(e,t,n,r)>0)for(o=t;o<n;o+=r)a=f(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=f(o,e[o],e[o+1],a);return a&&l(a,a.next)&&(g(a),a=a.next),a}function r(e,t){if(!e)return e;t||(t=e);var n,r=e;do if(n=!1,!r.steiner&&(l(r,r.next)||0===s(r.prev,r,r.next))){if(g(r),(r=t=r.prev)===r.next)break;n=!0}else r=r.next;while(n||r!==t);return t}function i(e,t){return e.x-t.x}function o(e,t,n,r,i){return(e=((e=((e=((e=((e=(e-n)*i|0)|e<<8)&16711935)|e<<4)&252645135)|e<<2)&858993459)|e<<1)&1431655765)|(t=((t=((t=((t=((t=(t-r)*i|0)|t<<8)&16711935)|t<<4)&252645135)|t<<2)&858993459)|t<<1)&1431655765)<<1}function a(e,t,n,r,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function s(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function l(e,t){return e.x===t.x&&e.y===t.y}function c(e,t,n,r){var i=d(s(e,t,n)),o=d(s(e,t,r)),a=d(s(n,r,e)),l=d(s(n,r,t));return!!(i!==o&&a!==l||0===i&&u(e,n,t)||0===o&&u(e,r,t)||0===a&&u(n,e,r)||0===l&&u(n,t,r))}function u(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function d(e){return e>0?1:e<0?-1:0}function p(e,t){return 0>s(e.prev,e,e.next)?s(e,t,e.next)>=0&&s(e,e.prev,t)>=0:0>s(e,t,e.prev)||0>s(e,e.next,t)}function h(e,t){var n=new m(e.i,e.x,e.y),r=new m(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function f(e,t,n,r){var i=new m(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function g(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function m(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function b(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=t,e.exports.default=t,t.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(b(e,0,o,n));if(i)for(var s=0,l=t.length;s<l;s++){var c=t[s]*n,u=s<l-1?t[s+1]*n:e.length;a-=Math.abs(b(e,c,u,n))}var d=0;for(s=0;s<r.length;s+=3){var p=r[s]*n,h=r[s+1]*n,f=r[s+2]*n;d+=Math.abs((e[p]-e[f])*(e[h+1]-e[p+1])-(e[p]-e[h])*(e[f+1]-e[p+1]))}return 0===a&&0===d?0:Math.abs((d-a)/a)},t.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},91895:function(e){"use strict";var t=e.exports={};t.isIE=function(e){var t;return(-1!==(t=navigator.userAgent.toLowerCase()).indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/"))&&(!e||e===function(){var e,t=3,n=document.createElement("div"),r=n.getElementsByTagName("i");do n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->";while(r[0]);return t>4?t:e}())},t.isLegacyOpera=function(){return!!window.opera}},10219:function(e){"use strict";(e.exports={}).forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}}},90153:function(e,t,n){"use strict";var r=n(91895);e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,i=e.stateHandler.getState;if(!t)throw Error("Missing required dependency: reporter.");return{makeDetectable:function(o,a,s){s||(s=a,a=o,o=null),(o=o||{}).debug,r.isIE(8)?s(a):function(a,s){var l,c=(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"].join(l=e.important?" !important; ":"; ")+l).trim(),u=!1,d=window.getComputedStyle(a),p=a.offsetWidth,h=a.offsetHeight;function f(){function e(){if("static"===d.position){a.style.setProperty("position","relative",o.important?"important":"");var e=function(e,t,n,r){var i=n[r];"auto"!==i&&"0"!==i.replace(/[^-\d\.]/g,"")&&(e.warn("An element that is positioned static has style."+r+"="+i+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",t),t.style.setProperty(r,"0",o.important?"important":""))};e(t,a,d,"top"),e(t,a,d,"right"),e(t,a,d,"bottom"),e(t,a,d,"left")}}""!==d.position&&(e(d),u=!0);var n=document.createElement("object");n.style.cssText=c,n.tabIndex=-1,n.type="text/html",n.setAttribute("aria-hidden","true"),n.onload=function(){u||e(),function e(t,n){if(!t.contentDocument){var r=i(t);r.checkForObjectDocumentTimeoutId&&window.clearTimeout(r.checkForObjectDocumentTimeoutId),r.checkForObjectDocumentTimeoutId=setTimeout(function(){r.checkForObjectDocumentTimeoutId=0,e(t,n)},100);return}n(t.contentDocument)}(this,function(e){s(a)})},r.isIE()||(n.data="about:blank"),i(a)&&(a.appendChild(n),i(a).object=n,r.isIE()&&(n.data="about:blank"))}i(a).startSize={width:p,height:h},n?n.add(f):f()}(a,s)},addListener:function(e,t){function n(){t(e)}if(r.isIE(8))i(e).object={proxy:n},e.attachEvent("onresize",n);else{var o=i(e).object;if(!o)throw Error("Element is not detectable by this strategy.");o.contentDocument.defaultView.addEventListener("resize",n)}},uninstall:function(e){if(i(e)){var t=i(e).object;t&&(r.isIE(8)?e.detachEvent("onresize",t.proxy):e.removeChild(t),i(e).checkForObjectDocumentTimeoutId&&window.clearTimeout(i(e).checkForObjectDocumentTimeoutId),delete i(e).object)}}}}},21762:function(e,t,n){"use strict";var r=n(10219).forEach;e.exports=function(e){var t,n,i,o,a=(e=e||{}).reporter,s=e.batchProcessor,l=e.stateHandler.getState;e.stateHandler.hasState;var c=e.idHandler;if(!s)throw Error("Missing required dependency: batchProcessor");if(!a)throw Error("Missing required dependency: reporter.");var u=((t=document.createElement("div")).style.cssText=h(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]),(n=document.createElement("div")).style.cssText=h(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),n.appendChild(t),document.body.insertBefore(n,document.body.firstChild),i=500-n.clientWidth,o=500-n.clientHeight,document.body.removeChild(n),{width:i,height:o}),d="erd_scroll_detection_container";function p(e){!function(e,t,n){if(!e.getElementById(t)){var r,i,o,a=n+"_animation",s="/* Created by the element-resize-detector library. */\n";s+="."+n+" > div::-webkit-scrollbar { "+h(["display: none"])+" }\n\n"+("."+n+"_animation_active { ")+h(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+a,"animation-name: "+a])+" }\n@-webkit-keyframes "+a+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n@keyframes "+a+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",r=s,i=i||function(t){e.head.appendChild(t)},(o=e.createElement("style")).innerHTML=r,o.id=t,i(o)}}(e,"erd_scroll_detection_scrollbar_style",d)}function h(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function f(e,t,n){if(e.addEventListener)e.addEventListener(t,n);else{if(!e.attachEvent)return a.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+t,n)}}function g(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n);else{if(!e.detachEvent)return a.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+t,n)}}function m(e){return l(e).container.childNodes[0].childNodes[0].childNodes[0]}function b(e){return l(e).container.childNodes[0].childNodes[0].childNodes[1]}return p(window.document),{makeDetectable:function(e,t,n){var i,o,p;function g(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(c.get(t),"Scroll: "),a.log.apply)a.log.apply(null,n);else for(var r=0;r<n.length;r++)a.log(n[r])}}function v(e){var t=l(e).container.childNodes[0],n=window.getComputedStyle(t);return!n.width||-1===n.width.indexOf("px")}function y(){var e=window.getComputedStyle(t),n={};return n.position=e.position,n.width=t.offsetWidth,n.height=t.offsetHeight,n.top=e.top,n.right=e.right,n.bottom=e.bottom,n.left=e.left,n.widthCSS=e.width,n.heightCSS=e.height,n}function E(){if(g("storeStyle invoked."),!l(t)){g("Aborting because element has been uninstalled");return}var e=y();l(t).style=e}function _(e,t,n){l(e).lastWidth=t,l(e).lastHeight=n}function x(){return 2*u.width+1}function S(){return 2*u.height+1}function A(e,t,n){var r=m(e),i=b(e),o=t+10+x(),a=n+10+S(),s=2*t+x(),l=2*n+S();r.scrollLeft=o,r.scrollTop=a,i.scrollLeft=s,i.scrollTop=l}function C(){var e=l(t).container;if(!e){(e=document.createElement("div")).className=d,e.style.cssText=h(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),l(t).container=e,n=e,n.className+=" "+d+"_animation_active",t.appendChild(e);var n,r=function(){l(t).onRendered&&l(t).onRendered()};f(e,"animationstart",r),l(t).onAnimationStart=r}return e}function w(){if(g("Injecting elements"),!l(t)){g("Aborting because element has been uninstalled");return}!function(){var n=l(t).style;if("static"===n.position){t.style.setProperty("position","relative",e.important?"important":"");var r=function(e,t,n,r){var i=n[r];"auto"!==i&&"0"!==i.replace(/[^-\d\.]/g,"")&&(e.warn("An element that is positioned static has style."+r+"="+i+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",t),t.style[r]=0)};r(a,t,n,"top"),r(a,t,n,"right"),r(a,t,n,"bottom"),r(a,t,n,"left")}}();var n,r,i,o,s=l(t).container;s||(s=C());var c=u.width,p=u.height,m=h(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),b=h(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat((n=-(1+c),r=-(1+p),i=-p,["left: "+(n=n?n+"px":"0"),"top: "+(r=r?r+"px":"0"),"right: "+(o=(o=-c)?o+"px":"0"),"bottom: "+(i=i?i+"px":"0")]))),v=h(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),y=h(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),E=h(["position: absolute","left: 0","top: 0"]),_=h(["position: absolute","width: 200%","height: 200%"]),x=document.createElement("div"),S=document.createElement("div"),A=document.createElement("div"),w=document.createElement("div"),O=document.createElement("div"),I=document.createElement("div");function L(){var e=l(t);e&&e.onExpand?e.onExpand():g("Aborting expand scroll handler: element has been uninstalled")}function R(){var e=l(t);e&&e.onShrink?e.onShrink():g("Aborting shrink scroll handler: element has been uninstalled")}x.dir="ltr",x.style.cssText=m,x.className=d,S.className=d,S.style.cssText=b,A.style.cssText=v,w.style.cssText=E,O.style.cssText=y,I.style.cssText=_,A.appendChild(w),O.appendChild(I),S.appendChild(A),S.appendChild(O),x.appendChild(S),s.appendChild(x),f(A,"scroll",L),f(O,"scroll",R),l(t).onExpandScroll=L,l(t).onShrinkScroll=R}function O(){function n(t,n,r){var i=m(t).childNodes[0],o=n+10+x(),a=r+10+S();i.style.setProperty("width",o+"px",e.important?"important":""),i.style.setProperty("height",a+"px",e.important?"important":"")}function i(r){var i=t.offsetWidth,u=t.offsetHeight,d=i!==l(t).lastWidth||u!==l(t).lastHeight;g("Storing current size",i,u),_(t,i,u),s.add(0,function(){if(d){if(!l(t)){g("Aborting because element has been uninstalled");return}if(!o()){g("Aborting because element container has not been initialized");return}if(e.debug){var r=t.offsetWidth,s=t.offsetHeight;(r!==i||s!==u)&&a.warn(c.get(t),"Scroll: Size changed before updating detector elements.")}n(t,i,u)}}),s.add(1,function(){if(!l(t)){g("Aborting because element has been uninstalled");return}if(!o()){g("Aborting because element container has not been initialized");return}A(t,i,u)}),d&&r&&s.add(2,function(){if(!l(t)){g("Aborting because element has been uninstalled");return}if(!o()){g("Aborting because element container has not been initialized");return}r()})}function o(){return!!l(t).container}function u(){g("notifyListenersIfNeeded invoked");var e=l(t);return void 0===l(t).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?g("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?g("Not notifying: Size already notified"):void(g("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,r(l(t).listeners,function(e){e(t)}))}function d(){if(g("Scroll detected."),v(t)){g("Scroll event fired while unrendered. Ignoring...");return}i(u)}if(g("registerListenersAndPositionElements invoked."),!l(t)){g("Aborting because element has been uninstalled");return}l(t).onRendered=function(){if(g("startanimation triggered."),v(t)){g("Ignoring since element is still unrendered...");return}g("Element rendered.");var e=m(t),n=b(t);(0===e.scrollLeft||0===e.scrollTop||0===n.scrollLeft||0===n.scrollTop)&&(g("Scrollbars out of sync. Updating detector elements..."),i(u))},l(t).onExpand=d,l(t).onShrink=d;var p=l(t).style;n(t,p.width,p.height)}function I(){if(g("finalizeDomMutation invoked."),!l(t)){g("Aborting because element has been uninstalled");return}var e=l(t).style;_(t,e.width,e.height),A(t,e.width,e.height)}function L(){n(t)}function R(){var e;g("Installing..."),l(t).listeners=[],e=y(),l(t).startSize={width:e.width,height:e.height},g("Element start size",l(t).startSize),s.add(0,E),s.add(1,w),s.add(2,O),s.add(3,I),s.add(4,L)}n||(n=t,t=e,e=null),e=e||{},(g("Making detectable..."),(p=(o=i=t).getRootNode&&o.getRootNode().contains(o),(o===o.ownerDocument.body||o.ownerDocument.body.contains(o)||p)&&null!==window.getComputedStyle(i))?1:0)?R():(g("Element is detached"),C(),g("Waiting until element is attached..."),l(t).onRendered=function(){g("Element is now attached"),R()})},addListener:function(e,t){if(!l(e).listeners.push)throw Error("Cannot add listener to an element that is not detectable.");l(e).listeners.push(t)},uninstall:function(e){var t=l(e);t&&(t.onExpandScroll&&g(m(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&g(b(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&g(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))},initDocument:p}}},28766:function(e,t,n){"use strict";var r=n(10219).forEach,i=n(12167),o=n(49315),a=n(36179),s=n(49806),l=n(34880),c=n(91895),u=n(20300),d=n(55619),p=n(90153),h=n(21762);function f(e){return Array.isArray(e)||void 0!==e.length}function g(e){if(Array.isArray(e))return e;var t=[];return r(e,function(e){t.push(e)}),t}function m(e){return e&&1===e.nodeType}function b(e,t,n){var r=e[t];return null==r&&void 0!==n?n:r}e.exports=function(e){if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var t,n;t=s({idGenerator:a(),stateHandler:d})}var v=e.reporter;v||(v=l(!1===v));var y=b(e,"batchProcessor",u({reporter:v})),E={};E.callOnAdd=!!b(e,"callOnAdd",!0),E.debug=!!b(e,"debug",!1);var _=o(t),x=i({stateHandler:d}),S=b(e,"strategy","object"),A=b(e,"important",!1),C={reporter:v,batchProcessor:y,stateHandler:d,idHandler:t,important:A};if("scroll"===S&&(c.isLegacyOpera()?(v.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),S="object"):c.isIE(9)&&(v.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),S="object")),"scroll"===S)n=h(C);else if("object"===S)n=p(C);else throw Error("Invalid strategy name: "+S);var w={};return{listenTo:function(e,i,o){function a(e){r(_.get(e),function(t){t(e)})}function s(e,t,n){_.add(t,n),e&&n(t)}if(o||(o=i,i=e,e={}),!i)throw Error("At least one element required.");if(!o)throw Error("Listener required.");if(m(i))i=[i];else{if(!f(i))return v.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");i=g(i)}var l=0,c=b(e,"callOnAdd",E.callOnAdd),u=b(e,"onReady",function(){}),p=b(e,"debug",E.debug);r(i,function(e){d.getState(e)||(d.initState(e),t.set(e));var h=t.get(e);if(p&&v.log("Attaching listener to element",h,e),!x.isDetectable(e)){if(p&&v.log(h,"Not detectable."),x.isBusy(e)){p&&v.log(h,"System busy making it detectable"),s(c,e,o),w[h]=w[h]||[],w[h].push(function(){++l===i.length&&u()});return}return p&&v.log(h,"Making detectable..."),x.markBusy(e,!0),n.makeDetectable({debug:p,important:A},e,function(e){if(p&&v.log(h,"onElementDetectable"),d.getState(e)){x.markAsDetectable(e),x.markBusy(e,!1),n.addListener(e,a),s(c,e,o);var t=d.getState(e);if(t&&t.startSize){var f=e.offsetWidth,g=e.offsetHeight;(t.startSize.width!==f||t.startSize.height!==g)&&a(e)}w[h]&&r(w[h],function(e){e()})}else p&&v.log(h,"Element uninstalled before being detectable.");delete w[h],++l===i.length&&u()})}p&&v.log(h,"Already detecable, adding listener."),s(c,e,o),l++}),l===i.length&&u()},removeListener:_.removeListener,removeAllListeners:_.removeAllListeners,uninstall:function(e){if(!e)return v.error("At least one element is required.");if(m(e))e=[e];else{if(!f(e))return v.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=g(e)}r(e,function(e){_.removeAllListeners(e),n.uninstall(e),d.cleanState(e)})},initDocument:function(e){n.initDocument&&n.initDocument(e)}}}},12167:function(e){"use strict";e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var n=t(e);return n&&!!n.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,n){t(e).busy=!!n}}}},36179:function(e){"use strict";e.exports=function(){var e=1;return{generate:function(){return e++}}}},49806:function(e){"use strict";e.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;return{get:function(e){var t=n(e);return t&&void 0!==t.id?t.id:null},set:function(e){var r=n(e);if(!r)throw Error("setId required the element to have a resize detection state.");var i=t.generate();return r.id=i,i}}}},49315:function(e){"use strict";e.exports=function(e){var t={};function n(n){var r=e.get(n);return void 0===r?[]:t[r]||[]}return{get:n,add:function(n,r){var i=e.get(n);t[i]||(t[i]=[]),t[i].push(r)},removeListener:function(e,t){for(var r=n(e),i=0,o=r.length;i<o;++i)if(r[i]===t){r.splice(i,1);break}},removeAllListeners:function(e){var t=n(e);t&&(t.length=0)}}}},34880:function(e){"use strict";e.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n}},55619:function(e){"use strict";var t="_erd";e.exports={initState:function(e){return e[t]={},e[t]},getState:function(e){return e[t]},cleanState:function(e){delete e[t]}}},11312:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(c=1,l=Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(p=1,l=Array(d-1);p<d;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},11553:function(e,t,n){var r;/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(i,o,a,s){"use strict";var l,c=["","webkit","Moz","MS","ms","o"],u=o.createElement("div"),d=Math.round,p=Math.abs,h=Date.now;function f(e,t,n){return setTimeout(_(e,n),t)}function g(e,t,n){return!!Array.isArray(e)&&(m(e,n[t],n),!0)}function m(e,t,n){var r;if(e){if(e.forEach)e.forEach(t,n);else if(s!==e.length)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}}function b(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}l="function"!=typeof Object.assign?function(e){if(null==e)throw TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var v=b(function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&s===e[r[i]])&&(e[r[i]]=t[r[i]]),i++;return e},"extend","Use `assign`."),y=b(function(e,t){return v(e,t,!0)},"merge","Use `assign`.");function E(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&l(r,n)}function _(e,t){return function(){return e.apply(t,arguments)}}function x(e,t){return"function"==typeof e?e.apply(t&&t[0]||s,t):e}function S(e,t,n){m(O(t),function(t){e.addEventListener(t,n,!1)})}function A(e,t,n){m(O(t),function(t){e.removeEventListener(t,n,!1)})}function C(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function w(e,t){return e.indexOf(t)>-1}function O(e){return e.trim().split(/\s+/g)}function I(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return -1}function L(e){return Array.prototype.slice.call(e,0)}function R(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];0>I(i,a)&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function k(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<c.length;){if((r=(n=c[o])?n+i:t)in e)return r;o++}}var N=1;function M(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var D="ontouchstart"in i,P=s!==k(i,"PointerEvent"),F=D&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B="touch",U="mouse",z=["x","y"],Z=["clientX","clientY"];function j(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){x(e.options.enable,[e])&&n.handler(t)},this.init()}function H(e,t,n){var r,i,o,a,l,c,u,d,f,g,m,b,v,y,E,_=n.pointers.length,x=n.changedPointers.length,S=1&t&&_-x==0,A=12&t&&_-x==0;n.isFirst=!!S,n.isFinal=!!A,S&&(e.session={}),n.eventType=t,r=e.session,o=(i=n.pointers).length,r.firstInput||(r.firstInput=G(n)),o>1&&!r.firstMultiple?r.firstMultiple=G(n):1===o&&(r.firstMultiple=!1),a=r.firstInput,c=(l=r.firstMultiple)?l.center:a.center,u=n.center=V(i),n.timeStamp=h(),n.deltaTime=n.timeStamp-a.timeStamp,n.angle=q(c,u),n.distance=Y(c,u),d=n.center,f=r.offsetDelta||{},g=r.prevDelta||{},m=r.prevInput||{},(1===n.eventType||4===m.eventType)&&(g=r.prevDelta={x:m.deltaX||0,y:m.deltaY||0},f=r.offsetDelta={x:d.x,y:d.y}),n.deltaX=g.x+(d.x-f.x),n.deltaY=g.y+(d.y-f.y),n.offsetDirection=W(n.deltaX,n.deltaY),b=$(n.deltaTime,n.deltaX,n.deltaY),n.overallVelocityX=b.x,n.overallVelocityY=b.y,n.overallVelocity=p(b.x)>p(b.y)?b.x:b.y,n.scale=l?(v=l.pointers,Y(i[0],i[1],Z)/Y(v[0],v[1],Z)):1,n.rotation=l?(y=l.pointers,q(i[1],i[0],Z)+q(y[1],y[0],Z)):0,n.maxPointers=r.prevInput?n.pointers.length>r.prevInput.maxPointers?n.pointers.length:r.prevInput.maxPointers:n.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,l=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(l>25||s===a.velocity)){var c=t.deltaX-a.deltaX,u=t.deltaY-a.deltaY,d=$(l,c,u);r=d.x,i=d.y,n=p(d.x)>p(d.y)?d.x:d.y,o=W(c,u),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(r,n),E=e.element,C(n.srcEvent.target,E)&&(E=n.srcEvent.target),n.target=E,e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function G(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:d(e.pointers[n].clientX),clientY:d(e.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:t,center:V(t),deltaX:e.deltaX,deltaY:e.deltaY}}function V(e){var t=e.length;if(1===t)return{x:d(e[0].clientX),y:d(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:d(n/t),y:d(r/t)}}function $(e,t,n){return{x:t/e||0,y:n/e||0}}function W(e,t){return e===t?1:p(e)>=p(t)?e<0?2:4:t<0?8:16}function Y(e,t,n){n||(n=z);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function q(e,t,n){n||(n=z);var r=t[n[0]]-e[n[0]];return 180*Math.atan2(t[n[1]]-e[n[1]],r)/Math.PI}j.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(M(this.element),this.evWin,this.domHandler)}};var X={mousedown:1,mousemove:2,mouseup:4};function K(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,j.apply(this,arguments)}E(K,j,{handler:function(e){var t=X[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:U,srcEvent:e}))}});var Q={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},J={2:B,3:"pen",4:U,5:"kinect"},ee="pointerdown",et="pointermove pointerup pointercancel";function en(){this.evEl=ee,this.evWin=et,j.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(ee="MSPointerDown",et="MSPointerMove MSPointerUp MSPointerCancel"),E(en,j,{handler:function(e){var t=this.store,n=!1,r=Q[e.type.toLowerCase().replace("ms","")],i=J[e.pointerType]||e.pointerType,o=I(t,e.pointerId,"pointerId");1&r&&(0===e.button||i==B)?o<0&&(t.push(e),o=t.length-1):12&r&&(n=!0),!(o<0)&&(t[o]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:i,srcEvent:e}),n&&t.splice(o,1))}});var er={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ei(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,j.apply(this,arguments)}function eo(e,t){var n=L(e.touches),r=L(e.changedTouches);return 12&t&&(n=R(n.concat(r),"identifier",!0)),[n,r]}E(ei,j,{handler:function(e){var t=er[e.type];if(1===t&&(this.started=!0),this.started){var n=eo.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:B,srcEvent:e})}}});var ea={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function es(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},j.apply(this,arguments)}function el(e,t){var n=L(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=L(e.changedTouches),s=[],l=this.target;if(o=n.filter(function(e){return C(e.target,l)}),1===t)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&t&&delete r[a[i].identifier],i++;if(s.length)return[R(o.concat(s),"identifier",!0),s]}function ec(){j.apply(this,arguments);var e=_(this.handler,this);this.touch=new es(this.manager,e),this.mouse=new K(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function eu(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ed.call(this,t)):12&e&&ed.call(this,t)}function ed(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)},2500)}}function ep(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}E(es,j,{handler:function(e){var t=ea[e.type],n=el.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:B,srcEvent:e})}}),E(ec,j,{handler:function(e,t,n){var r=n.pointerType==B,i=n.pointerType==U;if(!i||!n.sourceCapabilities||!n.sourceCapabilities.firesTouchEvents){if(r)eu.call(this,t,n);else if(i&&ep.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eh=k(u.style,"touchAction"),ef=s!==eh,eg="compute",em="auto",eb="manipulation",ev="none",ey="pan-x",eE="pan-y",e_=function(){if(!ef)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||i.CSS.supports("touch-action",n)}),e}();function eT(e,t){this.manager=e,this.set(t)}function ex(e){var t;this.options=l({},this.defaults,e||{}),this.id=N++,this.manager=null,this.options.enable=s===(t=this.options.enable)||t,this.state=1,this.simultaneous={},this.requireFail=[]}function eS(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function eA(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function eC(e,t){var n=t.manager;return n?n.get(e):e}function ew(){ex.apply(this,arguments)}function eO(){ew.apply(this,arguments),this.pX=null,this.pY=null}function eI(){ew.apply(this,arguments)}function eL(){ex.apply(this,arguments),this._timer=null,this._input=null}function eR(){ew.apply(this,arguments)}function ek(){ew.apply(this,arguments)}function eN(){ex.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function eM(e,t){var n,r;return(t=t||{}).recognizers=(n=t.recognizers,r=eM.defaults.preset,s===n?r:n),new eD(e,t)}function eD(e,t){var n;this.options=l({},eM.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new(this.options.inputClass||(P?en:F?es:D?ec:K))(this,H),this.touchAction=new eT(this,this.options.touchAction),eP(this,!0),m(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function eP(e,t){var n,r=e.element;r.style&&(m(e.options.cssProps,function(i,o){n=k(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}eT.prototype={set:function(e){e==eg&&(e=this.compute()),ef&&this.manager.element.style&&e_[e]&&(this.manager.element.style[eh]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return m(this.manager.recognizers,function(t){x(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(w(e,ev))return ev;var t=w(e,ey),n=w(e,eE);return t&&n?ev:t||n?t?ey:eE:w(e,eb)?eb:em}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented){t.preventDefault();return}var r=this.actions,i=w(r,ev)&&!e_[ev],o=w(r,eE)&&!e_[eE],a=w(r,ey)&&!e_[ey];if(i){var s=1===e.pointers.length,l=e.distance<2,c=e.deltaTime<250;if(s&&l&&c)return}if((!a||!o)&&(i||o&&6&n||a&&24&n))return this.preventSrc(t)},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},ex.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=eC(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)||(e=eC(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return -1===I(t,e=eC(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=eC(e,this);var t=I(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+eS(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+eS(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=l({},e);if(!x(this.options.enable,[this,t])){this.reset(),this.state=32;return}56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},E(ew,ex,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(8&n||!i)?16|t:r||i?4&n?8|t:2&t?4|t:2:32}}),E(eO,ew,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(eE),24&e&&t.push(ey),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(6&t.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return ew.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=eA(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),E(eI,ew,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ev]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),E(eL,ex,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[em]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,r&&n&&(!(12&e.eventType)||i)){if(1&e.eventType)this.reset(),this._timer=f(function(){this.state=8,this.tryEmit()},t.time,this);else if(4&e.eventType)return 8}else this.reset();return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),E(eR,ew,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ev]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),E(ek,ew,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return eO.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&p(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=eA(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),E(eN,ex,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[eb]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||Y(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=f(function(){this.state=8,this.tryEmit()},t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=f(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),eM.VERSION="2.0.7",eM.defaults={domEvents:!1,touchAction:eg,enable:!0,inputTarget:null,inputClass:null,preset:[[eR,{enable:!1}],[eI,{enable:!1},["rotate"]],[ek,{direction:6}],[eO,{direction:6},["swipe"]],[eN],[eN,{event:"doubletap",taps:2},["tap"]],[eL]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},eD.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t,n=this.session;if(!n.stopped){this.touchAction.preventDefaults(e);var r=this.recognizers,i=n.curRecognizer;(!i||i&&8&i.state)&&(i=n.curRecognizer=null);for(var o=0;o<r.length;)t=r[o],2!==n.stopped&&(!i||t==i||t.canRecognizeWith(i))?t.recognize(e):t.reset(),!i&&14&t.state&&(i=n.curRecognizer=t),o++}},get:function(e){if(e instanceof ex)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=I(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(s!==e&&s!==t){var n=this.handlers;return m(O(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(s!==e){var n=this.handlers;return m(O(e),function(e){t?n[e]&&n[e].splice(I(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&((n=o.createEvent("Event")).initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n));var n,r=this.handlers[e]&&this.handlers[e].slice();if(r&&r.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<r.length;)r[i](t),i++}},destroy:function(){this.element&&eP(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(eM,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:eD,Input:j,TouchAction:eT,TouchInput:es,MouseInput:K,PointerEventInput:en,TouchMouseInput:ec,SingleTouchInput:ei,Recognizer:ex,AttrRecognizer:ew,Tap:eN,Pan:eO,Swipe:ek,Pinch:eI,Rotate:eR,Press:eL,on:S,off:A,each:m,merge:y,extend:v,assign:l,inherit:E,bindFn:_,prefixed:k}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=eM,s!==(r=(function(){return eM}).call(t,n,t,e))&&(e.exports=r)}(window,document,0)},84892:function(e){"use strict";e.exports=function(e,n){for(var r,i,o,a=e||"",s=n||"div",l={},c=0;c<a.length;)t.lastIndex=c,o=t.exec(a),(r=a.slice(c,o?o.index:a.length))&&(i?"#"===i?l.id=r:l.className?l.className.push(r):l.className=[r]:s=r,c+=r.length),o&&(i=o[0],c++);return{type:"element",tagName:s,properties:l,children:[]}};var t=/[#.]/g},53333:function(e,t,n){"use strict";var r=n(46613),i=n(75678),o=n(84892),a=n(92868).Q,s=n(72107).Q;e.exports=function(e,t,n){var i=n?function(e){for(var t,n=e.length,r=-1,i={};++r<n;)i[(t=e[r]).toLowerCase()]=t;return i}(n):null;return function(n,u){var d,p,h,f,g=o(n,t),m=Array.prototype.slice.call(arguments,2),b=g.tagName.toLowerCase();if(g.tagName=i&&l.call(i,b)?i[b]:b,u&&("string"==typeof(d=u)||"length"in d||(p=g.tagName,h=d.type,"input"!==p&&h&&"string"==typeof h&&("object"==typeof d.children&&"length"in d.children||((h=h.toLowerCase(),"button"===p)?"menu"!==h&&"submit"!==h&&"reset"!==h&&"button"!==h:"value"in d))))&&(m.unshift(u),u=null),u)for(f in u)!function(t,n,i){var o,l,u;null!=i&&i==i&&(l=(o=r(e,n)).property,"string"==typeof(u=i)&&(o.spaceSeparated?u=a(u):o.commaSeparated?u=s(u):o.commaOrSpaceSeparated&&(u=a(s(u).join(" ")))),"style"===l&&"string"!=typeof i&&(u=function(e){var t,n=[];for(t in e)n.push([t,e[t]].join(": "));return n.join("; ")}(u)),"className"===l&&t.className&&(u=t.className.concat(u)),t[l]=function(e,t,n){var r,i,o;if("object"!=typeof n||!("length"in n))return c(e,t,n);for(i=n.length,r=-1,o=[];++r<i;)o[r]=c(e,t,n[r]);return o}(o,l,u))}(g.properties,f,u[f]);return function e(t,n){var r,i;if("string"==typeof n||"number"==typeof n){t.push({type:"text",value:String(n)});return}if("object"==typeof n&&"length"in n){for(r=-1,i=n.length;++r<i;)e(t,n[r]);return}if("object"!=typeof n||!("type"in n))throw Error("Expected node, nodes, or string, got `"+n+"`");t.push(n)}(g.children,m),"template"===g.tagName&&(g.content={type:"root",children:g.children},g.children=[]),g}};var l={}.hasOwnProperty;function c(e,t,n){var r=n;return e.number||e.positiveNumber?isNaN(r)||""===r||(r=Number(r)):(e.boolean||e.overloadedBoolean)&&"string"==typeof r&&(""===r||i(n)===i(t))&&(r=!0),r}},76274:function(e,t,n){"use strict";var r=n(86621),i=n(53333)(r,"div");i.displayName="html",e.exports=i},86675:function(e,t,n){"use strict";e.exports=n(76274)},44599:function(e){"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}},21831:function(e,t,n){"use strict";var r=n(44599),i=n(8451);e.exports=function(e){return r(e)||i(e)}},8451:function(e){"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=48&&t<=57}},29401:function(e){"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}},74202:function(e){e.exports=function(e){return e.split("")}},81034:function(e){var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},54527:function(e){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},70525:function(e){e.exports=function(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return -1}},243:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},66868:function(e,t,n){var r=n(75697),i=n(69154),o=n(70525),a=n(58792),s=n(47165),l=Array.prototype.splice;e.exports=function(e,t,n,c){var u=c?o:i,d=-1,p=t.length,h=e;for(e===t&&(t=s(t)),n&&(h=r(e,a(n)));++d<p;)for(var f=0,g=t[d],m=n?n(g):g;(f=u(h,m,f,c))>-1;)h!==e&&l.call(h,f,1),l.call(e,f,1);return e}},43846:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},20167:function(e,t,n){var r=n(43846);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},23684:function(e,t,n){var r=n(20167),i=n(30080),o=n(30078),a=n(8389);e.exports=function(e){return function(t){var n=i(t=a(t))?o(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},51471:function(e,t,n){var r=n(30695),i=n(26357),o=n(71055),a=RegExp("['’]","g");e.exports=function(e){return function(t){return r(o(i(t).replace(a,"")),e,"")}}},92523:function(e,t,n){var r=n(243)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});e.exports=r},37854:function(e){var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},30078:function(e,t,n){var r=n(74202),i=n(30080),o=n(95611);e.exports=function(e){return i(e)?o(e):r(e)}},95611:function(e){var t="\ud800-\udfff",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\ud83c[\udffb-\udfff]",i="[^"+t+"]",o="(?:\ud83c[\udde6-\uddff]){2}",a="[\ud800-\udbff][\udc00-\udfff]",s="(?:"+n+"|"+r+")?",l="[\\ufe0e\\ufe0f]?",c="(?:\\u200d(?:"+[i,o,a].join("|")+")"+l+s+")*",u=RegExp(r+"(?="+r+")|(?:"+[i+n+"?",n,o,a,"["+t+"]"].join("|")+")"+(l+s+c),"g");e.exports=function(e){return e.match(u)||[]}},24155:function(e){var t="\ud800-\udfff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="['’]",s="["+o+"]",l="["+r+"]",c="[^"+t+o+"\\d+"+n+r+i+"]",u="(?:\ud83c[\udde6-\uddff]){2}",d="[\ud800-\udbff][\udc00-\udfff]",p="["+i+"]",h="(?:"+l+"|"+c+")",f="(?:"+a+"(?:d|ll|m|re|s|t|ve))?",g="(?:"+a+"(?:D|LL|M|RE|S|T|VE))?",m="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\ud83c[\udffb-\udfff])?",b="[\\ufe0e\\ufe0f]?",v="(?:\\u200d(?:"+["[^"+t+"]",u,d].join("|")+")"+b+m+")*",y="(?:"+["["+n+"]",u,d].join("|")+")"+(b+m+v),E=RegExp([p+"?"+l+"+"+f+"(?="+[s,p,"$"].join("|")+")","(?:"+p+"|"+c+")+"+g+"(?="+[s,p+h,"$"].join("|")+")",p+"?"+h+"+"+f,p+"+"+g,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",y].join("|"),"g");e.exports=function(e){return e.match(E)||[]}},47638:function(e,t,n){var r=n(68437),i=n(51471)(function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)});e.exports=i},68437:function(e,t,n){var r=n(8389),i=n(42950);e.exports=function(e){return i(r(e).toLowerCase())}},35636:function(e,t,n){var r=n(54527),i=n(12448);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=i(n))==n?n:0),void 0!==t&&(t=(t=i(t))==t?t:0),r(i(e),t,n)}},26357:function(e,t,n){var r=n(92523),i=n(8389),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(o,r).replace(a,"")}},98071:function(e,t,n){var r=n(80732),i=n(55073);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},31223:function(e,t,n){var r=n(6620);e.exports=function(e,t){return r(e,t)}},46207:function(e){e.exports=function(e){return null==e}},59933:function(e,t,n){var r=n(80732),i=n(55073);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},53954:function(e,t,n){var r=n(97254),i=n(77991)(function(e,t,n,i){r(e,t,n,i)});e.exports=i},25066:function(e,t,n){var r=n(5125)(n(20396));e.exports=r},20396:function(e,t,n){var r=n(66868);e.exports=function(e,t){return e&&e.length&&t&&t.length?r(e,t):e}},4363:function(e,t,n){var r=n(95453);e.exports=function(e){return e&&e.length?r(e):[]}},42950:function(e,t,n){var r=n(23684)("toUpperCase");e.exports=r},71055:function(e,t,n){var r=n(81034),i=n(37854),o=n(8389),a=n(24155);e.exports=function(e,t,n){return(e=o(e),void 0===(t=n?void 0:t))?i(e)?a(e):r(e):e.match(t)||[]}},34584:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/construct/app/extra/components/auto-plan/DetailsCard",function(){return n(39419)}])},41849:function(e,t,n){"use strict";let r,i;n.d(t,{r:function(){return vM}});var o,a,s,l,c,u,d,p,h,f,g,m,b,v={};n.r(v),n.d(v,{circle:function(){return ay},diamond:function(){return a_},rect:function(){return ax},simple:function(){return aA},triangle:function(){return aE},triangleRect:function(){return aS},vee:function(){return aT}});var y={};n.r(y),n.d(y,{ArrowCountIcon:function(){return hP},PlusMinusIcon:function(){return hB}});var E={};n.r(E),n.d(E,{TextNode:function(){return hQ}});var _=n(55443),x=n(29911),S=n(35245),A=n(32699),C=n(75271),w=n(35576),O=((dC={}).Pie="pie",dC.Column="column",dC.Line="line",dC.Area="area",dC.Scatter="scatter",dC.Histogram="histogram",dC.Treemap="treemap",dC.Bar="bar",dC.WordCloud="word-cloud",dC.DualAxes="dual-axes",dC.Radar="radar",dC.PinMap="pin-map",dC.PathMap="path-map",dC.HeatMap="heat-map",dC.MindMap="mind-map",dC.FishboneDiagram="fishbone-diagram",dC.FlowDiagram="flow-diagram",dC.IndentedTree="indented-tree",dC.NetworkGraph="network-graph",dC.OrganizationChart="organization-chart",dC.VisText="vis-text",dC),I=C.version||"",L="__rc_react_root__";try{if(parseInt(I.split(".")[0],10)>=18)pg=n(38751).createRoot;else{var R=n(30967);pm=R.render,R.unmountComponentAtNode}}catch(e){}var k=new Map;"undefined"!=typeof document&&k.set("tooltip",document.createElement("div"));var N=function(e,t){void 0===t&&(t=!1);var n,r,i=null;if(t)i=k.get("tooltip");else if(i=document.createElement("div"),null==e?void 0:e.key){var o=k.get(e.key);o?i=o:k.set(e.key,i)}return n=e,r=i,pg?(r[L]||(r[L]=pg(r)),r[L].render(n)):function(e,t){if(pm)pm(e,t);else throw Error("ReactDOM.render is not available in this React version")}(n,r),i},M=function(e){if("undefined"==typeof document)return"loading";var t=e.attachShadow({mode:"open"}),n=document.createElement("div"),r=document.createElement("style");r.innerHTML=".loading {\n    display: inline-block;\n    position: relative;\n    width: 80px;\n    height: 80px;\n  }\n  .loading div {\n    position: absolute;\n    top: 33px;\n    width: 13px;\n    height: 13px;\n    border-radius: 50%;\n    background: #ccc;\n    animation-timing-function: cubic-bezier(0, 1, 1, 0);\n  }\n  .loading div:nth-child(1) {\n    left: 8px;\n    animation: loading1 0.6s infinite;\n  }\n  .loading div:nth-child(2) {\n    left: 8px;\n    animation: loading2 0.6s infinite;\n  }\n  .loading div:nth-child(3) {\n    left: 32px;\n    animation: loading2 0.6s infinite;\n  }\n  .loading div:nth-child(4) {\n    left: 56px;\n    animation: loading3 0.6s infinite;\n  }\n  @keyframes loading1 {\n    0% {\n      transform: scale(0);\n    }\n    100% {\n      transform: scale(1);\n    }\n  }\n  @keyframes loading3 {\n    0% {\n      transform: scale(1);\n    }\n    100% {\n      transform: scale(0);\n    }\n  }\n  @keyframes loading2 {\n    0% {\n      transform: translate(0, 0);\n    }\n    100% {\n      transform: translate(24px, 0);\n    }\n  }\n  ",n.classList.add("loading"),n.innerHTML="<div></div><div></div><div></div><div></div>",t.appendChild(r),t.appendChild(n)},D=function(e){var t=e.loadingTemplate,n=e.theme,r=C.useRef(null);return C.useEffect(function(){!t&&r.current&&M(r.current)},[]),C.createElement("div",{className:"charts-loading-container",style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:"dark"===(void 0===n?"light":n)?"rgb(20, 20, 20)":"rgb(255, 255, 255)"}},t||C.createElement("div",{ref:r}))},P=(dw=function(e,t){return(dw=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dw(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasError:!1},t.renderError=function(e){var n=t.props.errorTemplate;return"function"==typeof n?n(e):n||C.createElement("h5",null,"组件出错了，请核查后重试： ",e.message)},t}return P(t,e),t.getDerivedStateFromError=function(e){return{hasError:!0,error:e}},t.getDerivedStateFromProps=function(e,t){return t.children!==e.children?{children:e.children,hasError:!1,error:void 0}:null},t.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):C.createElement(C.Fragment,null,this.props.children)},t}(C.Component),B=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};(0,A.memoize)(function(e,t){void 0===t&&(t={});var n=t.fontSize,r=t.fontFamily,i=t.fontWeight,o=t.fontStyle,a=t.fontVariant,s=(pb||(pb=document.createElement("canvas").getContext("2d")),pb);return s.font=[o,i,a,"".concat(n,"px"),void 0===r?"sans-serif":r].join(" "),s.measureText((0,A.isString)(e)?e:"")},function(e,t){return void 0===t&&(t={}),B([e],(0,A.values)(t),!0).join("")});var U=function(){return(U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},z=n(80216),Z=n(72193),j=n(1819),H=n(85695),G=n(11051),V=n(56682),$=n(8905),W=n(98081),Y=n(43706),q=n(18814),X=n(13639);function K(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}var Q=n(89434),J=n(44591);let ee={field:"value",size:[1,1],round:!1,padding:0,sort:(e,t)=>t.value-e.value,as:["x","y"],ignoreParentValue:!0},et="childNodeCount",en="Invalid field: it must be a string!";var er=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let ei="sunburst",eo="markType",ea="path",es="ancestor-node",el={id:ei,encode:{x:"x",y:"y",key:ea,color:es,value:"value"},axis:{x:!1,y:!1},style:{[eo]:ei,stroke:"#fff",lineWidth:.5,fillOpacity:"fillOpacity",[et]:et,depth:"depth"},state:{active:{zIndex:2,stroke:"#000"},inactive:{zIndex:1,stroke:"#fff"}},legend:!1,interaction:{drillDown:!0},coordinate:{type:"polar",innerRadius:.2}},ec=e=>{let{encode:t,data:n=[]}=e,r=er(e,["encode","data"]),i=Object.assign(Object.assign({},r.coordinate),{innerRadius:Math.max((0,H.Z)(r,["coordinate","innerRadius"],.2),1e-5)}),o=Object.assign(Object.assign({},el.encode),t),{value:a}=o,s=function(e){let{data:t,encode:n}=e,{color:r,value:i}=n,o=function(e,t){var n,r,i;let o;n={},r=t,ee&&K(n,ee),r&&K(n,r),i&&K(n,i),t=n;let a=t.as;if(!(0,q.Z)(a)||2!==a.length)throw TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{o=function(e,t){let{field:n,fields:r}=e;if((0,Y.Z)(n))return n;if((0,q.Z)(n))return console.warn(en),n[0];if(console.warn(`${en} will try to get fields instead.`),(0,Y.Z)(r))return r;if((0,q.Z)(r)&&r.length)return r[0];if(t)return t;throw TypeError(en)}(t)}catch(e){console.warn(e)}let s=(function(){var e=1,t=1,n=0,r=!1;function i(i){var o,a=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/a,i.eachBefore((o=t,function(e){e.children&&(0,$.Z)(e,e.x0,o*(e.depth+1)/a,e.x1,o*(e.depth+2)/a);var t=e.x0,r=e.y0,i=e.x1-n,s=e.y1-n;i<t&&(t=i=(t+i)/2),s<r&&(r=s=(r+s)/2),e.x0=t,e.y0=r,e.x1=i,e.y1=s})),r&&i.eachBefore(V.Z),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i})().size(t.size).round(t.round).padding(t.padding)(W.ZP(e).sum(e=>(0,Q.Z)(e.children)?t.ignoreParentValue?0:e[o]-(0,J.Z)(e.children,(e,t)=>e+t[o],0):e[o]).sort(t.sort)),l=a[0],c=a[1];return s.each(e=>{var t,n;e[l]=[e.x0,e.x1,e.x1,e.x0],e[c]=[e.y1,e.y1,e.y0,e.y0],e.name=e.name||(null===(t=e.data)||void 0===t?void 0:t.name)||(null===(n=e.data)||void 0===n?void 0:n.label),e.data.name=e.name,["x0","x1","y0","y1"].forEach(t=>{-1===a.indexOf(t)&&delete e[t]})}),function(e){let t=[];if(e&&e.each){let n,r;e.each(e=>{var i,o;e.parent!==n?(n=e.parent,r=0):r+=1;let a=(0,X.Z)(((null===(i=e.ancestors)||void 0===i?void 0:i.call(e))||[]).map(e=>t.find(t=>t.name===e.name)||e),({depth:t})=>t>0&&t<e.depth);e.nodeAncestor=a,e[et]=(null===(o=e.children)||void 0===o?void 0:o.length)||0,e.nodeIndex=r,t.push(e)})}else e&&e.eachNode&&e.eachNode(e=>{t.push(e)});return t}(s)}(t,{field:i,type:"hierarchy.partition",as:["x","y"]}),a=[];return o.forEach(e=>{var t,n,o,s;if(0===e.depth)return null;let l=e.data.name,c=[l],u=Object.assign({},e);for(;u.depth>1;)l=`${null===(t=u.parent.data)||void 0===t?void 0:t.name} / ${l}`,c.unshift(null===(n=u.parent.data)||void 0===n?void 0:n.name),u=u.parent;let d=Object.assign(Object.assign(Object.assign({},(0,j.Z)(e.data,[i])),{[ea]:l,[es]:u.data.name}),e);r&&r!==es&&(d[r]=e.data[r]||(null===(s=null===(o=e.parent)||void 0===o?void 0:o.data)||void 0===s?void 0:s[r])),a.push(d)}),a.map(e=>{let t=e.x.slice(0,2),n=[e.y[2],e.y[0]];return t[0]===t[1]&&(n[0]=n[1]=(e.y[2]+e.y[0])/2),Object.assign(Object.assign({},e),{x:t,y:n,fillOpacity:Math.pow(.85,e.depth)})})}({encode:o,data:n});return[(0,G.Z)({},el,Object.assign(Object.assign({type:"rect",data:s,encode:o,tooltip:{title:"path",items:[e=>({name:a,value:e[a]})]}},r),{coordinate:i}))]};ec.props={};var eu=n(18012);let ed=e=>e.querySelectorAll(".element").filter(e=>(0,H.Z)(e,["style",eo])===ei),ep={rootText:"root",style:{fill:"rgba(0, 0, 0, 0.85)",fontSize:12,y:1},active:{fill:"rgba(0, 0, 0, 0.5)"}};var eh=n(1860),ef=function(){return(ef=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},eg=(0,Z.l7)(Z.r_,ef(ef({},(0,eh.s)()),{"interaction.drillDown":function(e={}){let{breadCrumb:t={},isFixedColor:n=!1}=e,r=(0,G.Z)({},ep,t);return e=>{let{update:t,setState:i,container:o,view:a,options:s}=e,l=o.ownerDocument,c=(0,Z.Ys)(o).select(`.${Z.V$}`).node(),u=s.marks.find(({id:e})=>e===ei),{state:d}=u,p=l.createElement("g");c.appendChild(p);let h=(e,o)=>{var s,u,d,f;return s=this,u=void 0,d=void 0,f=function*(){if(p.removeChildren(),e){let t=l.createElement("text",{style:Object.assign({x:0,text:r.rootText,depth:0},r.style)});p.appendChild(t);let n="",i=null==e?void 0:e.split(" / "),o=r.style.y,a=p.getBBox().width,s=c.getBBox().width,u=i.map((e,t)=>{let i=l.createElement("text",{style:Object.assign(Object.assign({x:a,text:" / "},r.style),{y:o})});p.appendChild(i),a+=i.getBBox().width,n=`${n}${e} / `;let c=l.createElement("text",{name:n.replace(/\s\/\s$/,""),style:Object.assign(Object.assign({text:e,x:a,depth:t+1},r.style),{y:o})});return p.appendChild(c),(a+=c.getBBox().width)>s&&(o=p.getBBox().height,a=0,i.attr({x:a,y:o}),a+=i.getBBox().width,c.attr({x:a,y:o}),a+=c.getBBox().width),c});[t,...u].forEach((e,t)=>{if(t===u.length)return;let n=Object.assign({},e.attributes);e.attr("cursor","pointer"),e.addEventListener("mouseenter",()=>{e.attr(r.active)}),e.addEventListener("mouseleave",()=>{e.attr(n)}),e.addEventListener("click",()=>{h(e.name,(0,H.Z)(e,["style","depth"]))})})}i("drillDown",t=>{let{marks:r}=t,i=r.map(t=>{if(t.id!==ei&&"rect"!==t.type)return t;let{data:r}=t,i=Object.fromEntries(["color"].map(e=>[e,{domain:a.scale[e].getOptions().domain}])),s=r.filter(t=>{let r=t.path;if(n||(t[es]=r.split(" / ")[o]),!e)return!0;let i=RegExp(`^${e}.+`);return i.test(r)});return(0,G.Z)({},t,n?{data:s,scale:i}:{data:s})});return Object.assign(Object.assign({},t),{marks:i})}),yield t()},new(d||(d=Promise))(function(e,t){function n(e){try{i(f.next(e))}catch(e){t(e)}}function r(e){try{i(f.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):((i=t.value)instanceof d?i:new d(function(e){e(i)})).then(n,r)}i((f=f.apply(s,u||[])).next())})},f=e=>{let t=e.target;if((0,H.Z)(t,["style",eo])!==ei||"rect"!==(0,H.Z)(t,["markType"])||!(0,H.Z)(t,["style",et]))return;let n=(0,H.Z)(t,["__data__","key"]),r=(0,H.Z)(t,["style","depth"]);t.style.cursor="pointer",h(n,r)};c.addEventListener("click",f);let g=(0,eu.Z)(Object.assign(Object.assign({},d.active),d.inactive)),m=()=>{let e=ed(c);e.forEach(e=>{let t=(0,H.Z)(e,["style",et]),n=(0,H.Z)(e,["style","cursor"]);if("pointer"!==n&&t){e.style.cursor="pointer";let t=(0,j.Z)(e.attributes,g);e.addEventListener("mouseenter",()=>{e.attr(d.active)}),e.addEventListener("mouseleave",()=>{e.attr((0,G.Z)(t,d.inactive))})}})};return c.addEventListener("mousemove",m),()=>{p.remove(),c.removeEventListener("click",f),c.removeEventListener("mousemove",m)}}},"mark.sunburst":ec})),em=function(){return(em=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},eb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},ev=["renderer"],ey=["width","height","autoFit","theme","inset","insetLeft","insetRight","insetTop","insetBottom","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","depth","title","clip","children","type","data","direction"],eE="__transform__",e_=function(e,t){return(0,A.isBoolean)(t)?{type:e,available:t}:em({type:e},t)},eT={xField:"encode.x",yField:"encode.y",colorField:"encode.color",angleField:"encode.y",keyField:"encode.key",sizeField:"encode.size",shapeField:"encode.shape",seriesField:"encode.series",positionField:"encode.position",textField:"encode.text",valueField:"encode.value",binField:"encode.x",srcField:"encode.src",linkColorField:"encode.linkColor",fontSizeField:"encode.fontSize",radius:"coordinate.outerRadius",innerRadius:"coordinate.innerRadius",startAngle:"coordinate.startAngle",endAngle:"coordinate.endAngle",focusX:"coordinate.focusX",focusY:"coordinate.focusY",distortionX:"coordinate.distortionX",distortionY:"coordinate.distortionY",visual:"coordinate.visual",stack:{target:"transform",value:function(e){return e_("stackY",e)}},normalize:{target:"transform",value:function(e){return e_("normalizeY",e)}},percent:{target:"transform",value:function(e){return e_("normalizeY",e)}},group:{target:"transform",value:function(e){return e_("dodgeX",e)}},sort:{target:"transform",value:function(e){return e_("sortX",e)}},symmetry:{target:"transform",value:function(e){return e_("symmetryY",e)}},diff:{target:"transform",value:function(e){return e_("diffY",e)}},meta:{target:"scale",value:function(e){return e}},label:{target:"labels",value:function(e){return e}},shape:"style.shape",connectNulls:{target:"style",value:function(e){return(0,A.isBoolean)(e)?{connect:e}:e}}},ex=["xField","yField","seriesField","colorField","keyField","positionField","meta","tooltip","animate","stack","normalize","percent","group","sort","symmetry","diff"],eS=[{key:"annotations",extend_keys:[]},{key:"line",type:"line",extend_keys:ex},{key:"point",type:"point",extend_keys:ex},{key:"area",type:"area",extend_keys:ex}],eA=[{key:"transform",callback:function(e,t,n){e[t]=e[t]||[];var r,i=n.available,o=eb(n,["available"]);if(void 0===i||i)e[t].push(em(((r={})[eE]=!0,r),o));else{var a=e[t].indexOf(function(e){return e.type===n.type});-1!==a&&e[t].splice(a,1)}}},{key:"labels",callback:function(e,t,n){var r;if(!n||(0,A.isArray)(n)){e[t]=n||[];return}n.text||(n.text=e.yField),e[t]=e[t]||[],e[t].push(em(((r={})[eE]=!0,r),n))}}],eC=[{key:"conversionTag",shape:"ConversionTag"},{key:"axisText",shape:"BidirectionalBarAxisText"}],ew=n(75341),eO=(dO=function(e,t){return(dO=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dO(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),eI=function(){return(eI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},eL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},eR=function(e){function t(t){void 0===t&&(t={});var n=t.style,r=eL(t,["style"]);return e.call(this,eI({style:eI({fill:"#eee"},n)},r))||this}return eO(t,e),t}(ew.mg),ek=(dI=function(e,t){return(dI=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dI(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),eN=function(){return(eN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},eM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},eD=function(e){function t(t){void 0===t&&(t={});var n=t.style,r=eM(t,["style"]);return e.call(this,eN({style:eN({text:"",fontSize:12,textBaseline:"middle",textAlign:"center",fill:"#000",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1},n)},r))||this}return ek(t,e),t}(ew.xv),eP=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},eF=function(e,t){if((0,A.isArray)(t))return t},eB=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A.mergeWith.apply(void 0,eP(eP([],e,!1),[eF],!1))},eU=(dL=function(e,t){return(dL=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dL(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ez=function(e){function t(t,n,r){var i=e.call(this,{style:eB(r,n)})||this;return i.chart=t,i}return eU(t,e),t.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this)},t.prototype.disconnectedCallback=function(){},t.prototype.attributeChangedCallback=function(e){},t.prototype.update=function(e,t){var n;return this.attr(eB({},this.attributes,e||{})),null===(n=this.render)||void 0===n?void 0:n.call(this,this.attributes,this,t)},t.prototype.clear=function(){this.removeChildren()},t.prototype.getElementsLayout=function(){var e=this.chart.getContext().canvas.document.getElementsByClassName("element"),t=[];return e.forEach(function(e){var n=e.getBBox(),r=n.x,i=n.y,o=n.width,a=n.height,s=e.__data__;t.push({bbox:n,x:r,y:i,width:o,height:a,key:s.key,data:s})}),t},t.prototype.bindEvents=function(e,t){},t}(ew.b_),eZ=(dR=function(e,t){return(dR=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dR(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ej=function(){return(ej=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},eH=function(e){function t(n,r){return e.call(this,n,r,{type:t.tag})||this}return eZ(t,e),t.prototype.getConversionTagLayout=function(){var e="vertical"===this.direction,t=this.getElementsLayout(),n=t[0],r=n.x,i=n.y,o=n.height,a=n.width,s=n.data,l=["items",0,"value"],c=(0,A.get)(s,l),u=e?t[1].y-i-o:t[1].x-r-a,d=[],p=this.attributes,h=p.size,f=void 0===h?40:h,g=p.arrowSize,m=void 0===g?20:g,b=p.spacing,v=void 0===b?4:b;return t.forEach(function(t,n){if(n>0){var r=t.x,i=t.y,o=t.height,a=t.width,s=t.data,p=t.key,h=(0,A.get)(s,l),g=f/2;if(e){var b=r+a/2,y=i;d.push({points:[[b+g,y-u+v],[b+g,y-m-v],[b,y-v],[b-g,y-m-v],[b-g,y-u+v]],center:[b,y-u/2-v],width:u,value:[c,h],key:p})}else{var b=r,y=i+o/2;d.push({points:[[r-u+v,y-g],[r-m-v,y-g],[b-v,y],[r-m-v,y+g],[r-u+v,y+g]],center:[b-u/2-v,y],width:u,value:[c,h],key:p})}c=h}}),d},t.prototype.render=function(){this.setDirection(),this.drawConversionTag()},t.prototype.setDirection=function(){var e=this.chart.getCoordinate(),t=(0,A.get)(e,"options.transformations"),n="horizontal";t.forEach(function(e){e.includes("transpose")&&(n="vertical")}),this.direction=n},t.prototype.drawConversionTag=function(){var e=this,t=this.getConversionTagLayout(),n=this.attributes,r=n.style,i=n.text,o=i.style,a=i.formatter;t.forEach(function(t){var n=t.points,i=t.center,s=t.value,l=t.key,c=s[0],u=s[1],d=i[0],p=i[1],h=new eR({style:ej({points:n,fill:"#eee"},r),id:"polygon-".concat(l)}),f=new eD({style:ej({x:d,y:p,text:(0,A.isFunction)(a)?a(c,u):(u/c*100).toFixed(2)+"%"},o),id:"text-".concat(l)});e.appendChild(h),e.appendChild(f)})},t.prototype.update=function(){var e=this;this.getConversionTagLayout().forEach(function(t){var n=t.points,r=t.center,i=t.key,o=r[0],a=r[1],s=e.getElementById("polygon-".concat(i)),l=e.getElementById("text-".concat(i));s.setAttribute("points",n),l.setAttribute("x",o),l.setAttribute("y",a)})},t.tag="ConversionTag",t}(ez),eG=(dk=function(e,t){return(dk=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dk(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),eV=function(){return(eV=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},e$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},eW={ConversionTag:eH,BidirectionalBarAxisText:function(e){function t(n,r){return e.call(this,n,r,{type:t.tag})||this}return eG(t,e),t.prototype.render=function(){this.drawText()},t.prototype.getBidirectionalBarAxisTextLayout=function(){var e="vertical"===this.attributes.layout,t=this.getElementsLayout(),n=e?(0,A.uniqBy)(t,"x"):(0,A.uniqBy)(t,"y"),r=["title"],i=[],o=this.chart.getContext().views,a=(0,A.get)(o,[0,"layout"]),s=a.width,l=a.height;return n.forEach(function(t){var n=t.x,o=t.y,a=t.height,c=t.width,u=t.data,d=t.key,p=(0,A.get)(u,r);e?i.push({x:n+c/2,y:l,text:p,key:d}):i.push({x:s,y:o+a/2,text:p,key:d})}),(0,A.uniqBy)(i,"text").length!==i.length&&(i=Object.values((0,A.groupBy)(i,"text")).map(function(t){var n,r=t.reduce(function(t,n){return t+(e?n.x:n.y)},0);return eV(eV({},t[0]),((n={})[e?"x":"y"]=r/t.length,n))})),i},t.prototype.transformLabelStyle=function(e){var t={},n=/^label[A-Z]/;return Object.keys(e).forEach(function(r){n.test(r)&&(t[r.replace("label","").replace(/^[A-Z]/,function(e){return e.toLowerCase()})]=e[r])}),t},t.prototype.drawText=function(){var e=this,t=this.getBidirectionalBarAxisTextLayout(),n=this.attributes,r=n.layout,i=n.labelFormatter,o=e$(n,["layout","labelFormatter"]);t.forEach(function(t){var n=t.x,a=t.y,s=t.text,l=t.key,c=new eD({style:eV({x:n,y:a,text:(0,A.isFunction)(i)?i(s):s,wordWrap:!0,wordWrapWidth:"horizontal"===r?64:120,maxLines:2,textOverflow:"ellipsis"},e.transformLabelStyle(o)),id:"text-".concat(l)});e.appendChild(c)})},t.prototype.destroy=function(){this.clear()},t.prototype.update=function(){this.destroy(),this.drawText()},t.tag="BidirectionalBarAxisText",t}(ez)},eY=function(){function e(e,t){this.container=new Map,this.chart=e,this.config=t,this.init()}return e.prototype.init=function(){var e=this;eC.forEach(function(t){var n,r=t.key,i=t.shape,o=e.config[r];if(o){var a=new eW[i](e.chart,o);e.chart.getContext().canvas.appendChild(a),e.container.set(r,a)}else null===(n=e.container.get(r))||void 0===n||n.clear()})},e.prototype.update=function(){var e=this;this.container.size&&eC.forEach(function(t){var n=t.key,r=e.container.get(n);null==r||r.update()})},e}(),eq=(dN=function(e,t){return(dN=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dN(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),eX=function(){return(eX=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},eK="data-chart-source-type",eQ=function(e){function t(t,n){var r=e.call(this)||this;return r.container="string"==typeof t?document.getElementById(t):t,r.options=r.mergeOption(n),r.createG2(),r.bindEvents(),r}return eq(t,e),t.prototype.getChartOptions=function(){return eX(eX({},(0,A.pick)(this.options,ev)),{container:this.container})},t.prototype.getSpecOptions=function(){return"base"===this.type||this.__skipDelCustomKeys__?eX(eX({},this.options),this.getChartOptions()):this.options},t.prototype.createG2=function(){if(!this.container)throw Error("The container is not initialized!");this.chart=new eg(this.getChartOptions()),this.container.setAttribute(eK,"Ant Design Charts")},t.prototype.bindEvents=function(){var e=this;this.chart&&this.chart.on("*",function(t){(null==t?void 0:t.type)&&e.emit(t.type,t)})},t.prototype.getBaseOptions=function(){return{type:"view",autoFit:!0}},t.prototype.getDefaultOptions=function(){},t.prototype.render=function(){var e=this;"base"!==this.type&&this.execAdaptor(),this.chart.options(this.getSpecOptions()),this.chart.render().then(function(){e.annotation=new eY(e.chart,e.options)}),this.bindSizeSensor()},t.prototype.update=function(e){this.options=this.mergeOption(e)},t.prototype.mergeOption=function(e){return eB({},this.getBaseOptions(),this.getDefaultOptions(),e)},t.prototype.changeData=function(e){this.chart.changeData(e)},t.prototype.changeSize=function(e,t){this.chart.changeSize(e,t)},t.prototype.destroy=function(){this.chart.destroy(),this.off(),this.container.removeAttribute(eK)},t.prototype.execAdaptor=function(){this.getSchemaAdaptor()({chart:this.chart,options:this.options})},t.prototype.triggerResize=function(){this.chart.forceFit()},t.prototype.bindSizeSensor=function(){var e=this,t=this.options.autoFit;(void 0===t||t)&&this.chart.on(Z.$7.AFTER_CHANGE_SIZE,function(){e.annotation.update()})},t}(z.Z),eJ=(dM=function(e,t){return(dM=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dM(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),e0=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="base",t}return eJ(t,e),t.getDefaultOptions=function(){return{type:"view",children:[{type:"line"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return function(e){return e}},t}(eQ),e1=function(e){var t=e.options,n=t.children;return(void 0===n?[]:n).forEach(function(e){Object.keys(e).forEach(function(t){(0,A.isArray)(e[t])&&"data"!==t&&(e[t]=e[t].filter(function(e){return!e[eE]}))})}),t},e2=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},e3=function(e){var t=e.children,n=Object.keys(eT).concat(eS.map(function(e){return e.key}));return n.forEach(function(t){delete e[t]}),(void 0===t?[]:t).forEach(function(e){Object.keys(e).forEach(function(t){n.includes(t)&&delete e[t]})}),Object.keys(e).forEach(function(t){e2(e2([],ey,!0),eC.map(function(e){return e.key}),!0).includes(t)||delete e[t]}),e},e5=function(){return(e5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},e4=function(e){var t=e1(e),n=t.children,r=void 0===n?[]:n,i=(0,A.omit)(t,[].concat(ey,eS.map(function(e){return e.key}))),o=function(e){var t;return null===(t=eA.find(function(t){return t.key===e}))||void 0===t?void 0:t.callback},a=function(e,t,n){var r=o(t);r?r(e,t,n):e[t]=eB({},e[t],n)},s=function(e){Object.keys(e).forEach(function(t){if(e[t]){var n=eS.find(function(e){return e.key===t});if(n){var i=n.type,o=n.extend_keys;if(i){var a=e[t].tooltip;r.push(l(eB({},(0,A.pick)(e,o),{type:i},e[t],{tooltip:!!a&&a})))}else(0,A.isArray)(e[t])&&e[t].forEach(function(e){r.push(l(e5({tooltip:!1},e)))})}}})},l=function(e){return s(e),Object.keys(eT).forEach(function(t){var n=eT[t];if(!(0,A.isUndefined)(e[t])){if((0,A.isObject)(n)){var r=n.value,i=n.target,o=r(e[t]);a(e,i,o)}else(0,A.set)(e,n,e[t])}}),e};return r.forEach(function(e){var t=eB({},i,e);l(eB(e,t))}),s(t),e3(t),e},e6=function(){return(e6=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function e7(e){var t=e.options,n=t.stack,r=t.tooltip,i=t.xField;if(!n)return e;var o=eS.map(function(e){return e.type}).filter(function(e){return!!e}),a=!1;return o.forEach(function(e){t[e]&&(a=!0,(0,A.set)(t,[e,"stack"],e6({y1:"y"},"object"==typeof n?n:{})))}),!a||(0,A.isBoolean)(r)||r||(0,A.set)(t,"tooltip",{title:i,items:[{channel:"y"}]}),e}function e8(e){return(0,A.flow)(e7)(e)}function e9(e){return(0,A.flow)(e8,e4)(e)}var te=(dD=function(e,t){return(dD=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dD(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),tt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="area",t}return te(t,e),t.getDefaultOptions=function(){return{type:"view",children:[{type:"area"}],scale:{y:{nice:!0}},axis:{y:{title:!1},x:{title:!1}},interaction:{tooltip:{shared:!0}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return e9},t}(eQ),tn=function(){return(tn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function tr(e){return(0,A.flow)(function(e){var t=e.options;(0,A.get)(t,"children.length")>1&&(0,A.set)(t,"children",[{type:"interval"}]);var n=t.scale,r=t.markBackground,i=t.data,o=t.children,a=t.yField,s=(0,A.get)(n,"y.domain",[]);if(r&&s.length&&(0,A.isArray)(i)){var l="domainMax",c=i.map(function(e){var t;return tn(tn({originData:tn({},e)},(0,A.omit)(e,a)),((t={})[l]=s[s.length-1],t))});o.unshift(tn({type:"interval",data:c,yField:l,tooltip:!1,style:{fill:"#eee"},label:!1},r))}return e},e8,e4)(e)}var ti=(dP=function(e,t){return(dP=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dP(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});(0,Z.z2)("shape.interval.bar25D",function(e,t){return function(n){var r=e.fill,i=void 0===r?"#2888FF":r,o=e.stroke,a=e.fillOpacity,s=void 0===a?1:a,l=e.strokeOpacity,c=void 0===l?.2:l,u=e.pitch,d=void 0===u?8:u,p=n[0],h=n[1],f=n[2],g=n[3],m=(h[1]-p[1])/2,b=t.document,v=b.createElement("g",{}),y=b.createElement("polygon",{style:{points:[p,[p[0]-d,p[1]+m],[f[0]-d,p[1]+m],g],fill:i,fillOpacity:s,stroke:o,strokeOpacity:c,inset:30}}),E=b.createElement("polygon",{style:{points:[[p[0]-d,p[1]+m],h,f,[f[0]-d,p[1]+m]],fill:i,fillOpacity:s,stroke:o,strokeOpacity:c}}),_=b.createElement("polygon",{style:{points:[p,[p[0]-d,p[1]+m],h,[p[0]+d,p[1]+m]],fill:i,fillOpacity:s-.2}});return v.appendChild(y),v.appendChild(E),v.appendChild(_),v}});var to=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="Bar",t}return ti(t,e),t.getDefaultOptions=function(){return{type:"view",coordinate:{transform:[{type:"transpose"}]},children:[{type:"interval"}],scale:{y:{nice:!0}},axis:{y:{title:!1},x:{title:!1}},interaction:{tooltip:{shared:!0},elementHighlight:{background:!0}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return tr},t}(eQ),ta=(dF=function(e,t){return(dF=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dF(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});(0,Z.z2)("shape.interval.column25D",function(e,t){return function(n){var r=e.fill,i=void 0===r?"#2888FF":r,o=e.stroke,a=e.fillOpacity,s=void 0===a?1:a,l=e.strokeOpacity,c=void 0===l?.2:l,u=e.pitch,d=void 0===u?8:u,p=(n[1][0]-n[0][0])/2+n[0][0],h=t.document,f=h.createElement("g",{}),g=h.createElement("polygon",{style:{points:[[n[0][0],n[0][1]],[p,n[1][1]+d],[p,n[3][1]+d],[n[3][0],n[3][1]]],fill:i,fillOpacity:s,stroke:o,strokeOpacity:c,inset:30}}),m=h.createElement("polygon",{style:{points:[[p,n[1][1]+d],[n[1][0],n[1][1]],[n[2][0],n[2][1]],[p,n[2][1]+d]],fill:i,fillOpacity:s,stroke:o,strokeOpacity:c}}),b=h.createElement("polygon",{style:{points:[[n[0][0],n[0][1]],[p,n[1][1]-d],[n[1][0],n[1][1]],[p,n[1][1]+d]],fill:i,fillOpacity:s-.2}});return f.appendChild(m),f.appendChild(g),f.appendChild(b),f}});var ts=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="column",t}return ta(t,e),t.getDefaultOptions=function(){return{type:"view",scale:{y:{nice:!0}},interaction:{tooltip:{shared:!0},elementHighlight:{background:!0}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"interval"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return tr},t}(eQ);function tl(e){return(0,A.flow)(function(e){var t=e.options,n=t.children;return t.legend&&(void 0===n?[]:n).forEach(function(e){if(!(0,A.get)(e,"colorField")){var t=(0,A.get)(e,"yField");(0,A.set)(e,"colorField",function(){return t})}}),e},function(e){var t=e.options,n=t.annotations,r=void 0===n?[]:n,i=t.children,o=t.scale,a=!1;return(0,A.get)(o,"y.key")||(void 0===i?[]:i).forEach(function(e,t){if(!(0,A.get)(e,"scale.y.key")){var n="child".concat(t,"Scale");(0,A.set)(e,"scale.y.key",n);var i=e.annotations,o=void 0===i?[]:i;o.length>0&&((0,A.set)(e,"scale.y.independent",!1),o.forEach(function(e){(0,A.set)(e,"scale.y.key",n)})),!a&&r.length>0&&void 0===(0,A.get)(e,"scale.y.independent")&&(a=!0,(0,A.set)(e,"scale.y.independent",!1),r.forEach(function(e){(0,A.set)(e,"scale.y.key",n)}))}}),e},e8,e4)(e)}var tc=(dB=function(e,t){return(dB=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dB(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),tu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="DualAxes",t}return tc(t,e),t.getDefaultOptions=function(){return{type:"view",axis:{y:{title:!1,tick:!1},x:{title:!1}},scale:{y:{independent:!0,nice:!0}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return tl},t}(eQ);function td(e){return(0,A.flow)(function(e){var t=e.options,n=t.xField;return t.colorField||(0,A.set)(t,"colorField",n),e},function(e){var t=e.options,n=t.compareField,r=t.transform,i=t.isTransposed,o=t.coordinate;return r||(n?(0,A.set)(t,"transform",[]):(0,A.set)(t,"transform",[{type:"symmetryY"}])),!o&&(void 0===i||i)&&(0,A.set)(t,"coordinate",{transform:[{type:"transpose"}]}),e},function(e){var t=e.options,n=t.compareField,r=t.seriesField,i=t.data,o=t.children,a=t.yField,s=t.isTransposed;if(n||r){var l=Object.values((0,A.groupBy)(i,function(e){return e[n||r]}));o[0].data=l[0],o.push({type:"interval",data:l[1],yField:function(e){return-e[a]}}),delete t.compareField,delete t.data}return r&&((0,A.set)(t,"type","spaceFlex"),(0,A.set)(t,"ratio",[1,1]),(0,A.set)(t,"direction",void 0===s||s?"row":"col"),delete t.seriesField),e},function(e){var t=e.options,n=t.tooltip,r=t.xField,i=t.yField;return n||(0,A.set)(t,"tooltip",{title:!1,items:[function(e){return{name:e[r],value:e[i]}}]}),e},e8,e4)(e)}var tp=(dU=function(e,t){return(dU=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dU(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),th=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="column",t}return tp(t,e),t.getDefaultOptions=function(){return{type:"view",scale:{x:{padding:0}},animate:{enter:{type:"fadeIn"}},axis:!1,shapeField:"funnel",label:{position:"inside",transform:[{type:"contrastReverse"}]},children:[{type:"interval"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return td},t}(eQ);function tf(e){return(0,A.flow)(e8,e4)(e)}var tg=(dz=function(e,t){return(dz=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dz(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),tm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="line",t}return tg(t,e),t.getDefaultOptions=function(){return{type:"view",scale:{y:{nice:!0}},interaction:{tooltip:{shared:!0}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"line"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return tf},t}(eQ);function tb(e){switch(typeof e){case"function":return e;case"string":return function(t){return(0,A.get)(t,[e])};default:return function(){return e}}}var tv=function(){return(tv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function ty(e){return(0,A.flow)(function(e){var t=e.options,n=t.angleField,r=t.data,i=t.label,o=t.tooltip,a=tb(t.colorField);if((0,A.isArray)(r)&&r.length>0&&0===r.reduce(function(e,t){return e+t[n]},0)){var s=r.map(function(e){var t;return tv(tv({},e),((t={})[n]=1,t))});(0,A.set)(t,"data",s),i&&(0,A.set)(t,"label",tv(tv({},i),{formatter:function(){return 0}})),!1!==o&&((0,A.isFunction)(o)?(0,A.set)(t,"tooltip",function(e,t,r){var i;return o(tv(tv({},e),((i={})[n]=0,i)),t,r.map(function(e){var t;return tv(tv({},e),((t={})[n]=0,t))}))}):(0,A.set)(t,"tooltip",tv(tv({},o),{items:[function(e,t,n){return{name:a(e,t,n),value:0}}]})))}return e},e4)(e)}var tE=(dZ=function(e,t){return(dZ=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dZ(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),t_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="pie",t}return tE(t,e),t.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"theta"},transform:[{type:"stackY",reverse:!0}],animate:{enter:{type:"waveIn"}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return ty},t}(eQ);function tT(e){return(0,A.flow)(e8,e4)(e)}var tx=(dj=function(e,t){return(dj=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dj(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),tS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="scatter",t}return tx(t,e),t.getDefaultOptions=function(){return{axis:{y:{title:!1},x:{title:!1}},legend:{size:!1},children:[{type:"point"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return tT},t}(eQ);function tA(e){return(0,A.flow)(function(e){return(0,A.set)(e,"options.coordinate",{type:(0,A.get)(e,"options.coordinateType","polar")}),e},e4)(e)}var tC=(dH=function(e,t){return(dH=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dH(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),tw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="radar",t}return tC(t,e),t.getDefaultOptions=function(){return{axis:{x:{grid:!0,line:!0},y:{zIndex:1,title:!1,line:!0,nice:!0}},meta:{x:{padding:.5,align:0}},interaction:{tooltip:{style:{crosshairsLineDash:[4,4]}}},children:[{type:"line"}],coordinateType:"polar"}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return tA},t}(eQ),tO=function(){return(tO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function tI(e){return(0,A.flow)(function(e){var t=e.options,n=t.data,r=t.yField;return e.options.data=(0,A.map)(n,function(e){var t=e&&tO({},e);if(Array.isArray(r)&&t){var n=r[0],i=r[1],o=r[2],a=r[3];t.trend=t[n]<=t[i]?"up":"down",t["__stock-range__"]=[t[n],t[i],t[o],t[a]]}return t}),e},function(e){var t=e.options,n=t.xField,r=t.yField,i=t.fallingFill,o=t.risingFill,a=r[0],s=r[1],l=r[2],c=r[3],u=tb(n);return e.options.children=(0,A.map)(e.options.children,function(e,t){var n=0===t;return tO(tO({},e),{tooltip:{title:function(e,t,n){var r=u(e,t,n);return r instanceof Date?r.toLocaleString():r},items:[{field:l},{field:c},{field:a},{field:s}]},encode:tO(tO({},e.encode||{}),{y:n?[l,c]:[a,s],color:function(e){return Math.sign(e[s]-e[a])}}),style:tO(tO({},e.style||{}),{lineWidth:n?1:10})})}),delete t.yField,e.options.legend={color:!1},i&&(0,A.set)(e,"options.scale.color.range[0]",i),o&&(0,A.set)(e,"options.scale.color.range[2]",o),e},e4)(e)}var tL=(dG=function(e,t){return(dG=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dG(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),tR=["#26a69a","#999999","#ef5350"],tk=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="stock",t}return tL(t,e),t.getDefaultOptions=function(){return{type:"view",scale:{color:{domain:[-1,0,1],range:tR},y:{nice:!0}},children:[{type:"link"},{type:"link"}],axis:{x:{title:!1,grid:!1},y:{title:!1,grid:!0,gridLineDash:null}},animate:{enter:{type:"scaleInY"}},interaction:{tooltip:{shared:!0,marker:!1,groupName:!1,crosshairs:!0}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return tI},t}(eQ);function tN(e){return(0,A.flow)(e8,e4)(e)}var tM=(dV=function(e,t){return(dV=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dV(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),tD=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="TinyLine",t}return tM(t,e),t.getDefaultOptions=function(){return{type:"view",children:[{type:"line",axis:!1}],animate:{enter:{type:"growInX",duration:500}},padding:0,margin:0,tooltip:!1}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return tN},t}(eQ);function tP(e){return(0,A.flow)(e8,e4)(e)}var tF=(d$=function(e,t){return(d$=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}d$(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),tB=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="TinyArea",t}return tF(t,e),t.getDefaultOptions=function(){return{type:"view",animate:{enter:{type:"growInX",duration:500}},children:[{type:"area",axis:!1}],padding:0,margin:0,tooltip:!1}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return tP},t}(eQ);function tU(e){return(0,A.flow)(e8,e4)(e)}var tz=(dW=function(e,t){return(dW=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dW(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),tZ=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="TinyColumn",t}return tz(t,e),t.getDefaultOptions=function(){return{type:"view",children:[{type:"interval",axis:!1}],padding:0,margin:0,tooltip:!1}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return tU},t}(eQ),tj=function(){return(tj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function tH(e){return(0,A.flow)(function(e){var t=e.options,n=t.percent,r=t.color,i=void 0===r?[]:r;return n&&Object.assign(t,tj({},{scale:{color:{range:i.length?i:[]}},data:[1,n]})),e},e8,e4)(e)}var tG=(dY=function(e,t){return(dY=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dY(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),tV=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="TinyProgress",t}return tG(t,e),t.getDefaultOptions=function(){return{type:"view",data:[],margin:0,padding:0,tooltip:!1,children:[{interaction:{tooltip:!1},coordinate:{transform:[{type:"transpose"}]},type:"interval",axis:!1,legend:!1,encode:{y:function(e){return e},color:function(e,t){return t}}}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return tH},t}(eQ),t$=function(){return(t$=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function tW(e){return(0,A.flow)(function(e){var t=e.options.radius,n=void 0===t?.8:t;return(0,A.set)(e,"options.coordinate.innerRadius",n),e},function(e){var t=e.options,n=t.percent,r=t.color,i=void 0===r?[]:r;return n&&Object.assign(t,t$({},{scale:{color:{range:i.length?i:[]}},data:[1,n]})),e},e8,e4)(e)}var tY=(dq=function(e,t){return(dq=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dq(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),tq=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="TinyRing",t}return tY(t,e),t.getDefaultOptions=function(){return{type:"view",data:[],margin:0,padding:0,coordinate:{type:"theta"},animate:{enter:{type:"waveIn"}},interaction:{tooltip:!1},tooltip:!1,children:[{type:"interval",axis:!1,legend:!1,encode:{y:function(e){return e},color:function(e,t){return t}}}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return tW},t}(eQ);function tX(e){return(0,A.flow)(e4)(e)}var tK=(dX=function(e,t){return(dX=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dX(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),tQ=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="rose",t}return tK(t,e),t.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"polar"},animate:{enter:{type:"waveIn"}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return tX},t}(eQ),tJ="__start__",t0="__end__",t1="__waterfall_value__",t2=function(){return(t2=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},t3=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function t5(e){return(0,A.flow)(function(e){var t=e.options,n=t.data,r=void 0===n?[]:n,i=t.yField;return r.length&&(r.reduce(function(e,t,n){var o,a=tb(i),s=a(t,n,r);if(0===n||t.isTotal)t[tJ]=0,t[t0]=s,t[t1]=s;else{var l=null!==(o=e[t0])&&void 0!==o?o:a(e,n,r);t[tJ]=l,t[t0]=l+s,t[t1]=e[t0]}return t},[]),Object.assign(t,{yField:[tJ,t0]})),e},function(e){var t=e.options,n=t.data,r=t.xField,i=t.children,o=t.linkStyle,a=t3([],void 0===n?[]:n,!0);return a.reduce(function(e,t,n){return n>0&&(t.x1=e[r],t.x2=t[r],t.y1=e[t0]),t},[]),a.shift(),i.push({type:"link",xField:["x1","x2"],yField:"y1",zIndex:-1,data:a,style:t2({stroke:"#697474"},o),label:!1,tooltip:!1}),e},e8,e4)(e)}var t4=(dK=function(e,t){return(dK=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dK(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),t6=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="waterfall",t}return t4(t,e),t.getDefaultOptions=function(){return{type:"view",legend:null,tooltip:{field:t1,valueFormatter:"~s",name:"value"},axis:{y:{title:null,labelFormatter:"~s"},x:{title:null}},children:[{type:"interval",interaction:{elementHighlight:{background:!0}}}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return t5},t}(eQ);function t7(e){return(0,A.flow)(function(e){var t=e.options,n=t.data,r=t.binNumber,i=t.binWidth,o=t.children,a=t.channel,s=void 0===a?"count":a,l=(0,A.get)(o,"[0].transform[0]",{});return(0,A.isNumber)(i)?((0,A.assign)(l,{thresholds:(0,A.ceil)((0,A.divide)(n.length,i)),y:s}),e):((0,A.isNumber)(r)&&(0,A.assign)(l,{thresholds:r,y:s}),e)},e8,e4)(e)}var t8=(dQ=function(e,t){return(dQ=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dQ(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),t9=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="Histogram",t}return t8(t,e),t.getDefaultOptions=function(){return{type:"view",autoFit:!0,axis:{y:{title:!1},x:{title:!1}},children:[{type:"rect",transform:[{type:"binX",y:"count"}],interaction:{elementHighlight:{background:!0}}}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return t7},t}(eQ);function ne(e){return(0,A.flow)(function(e){var t=e.options,n=t.tooltip,r=void 0===n?{}:n,i=t.colorField,o=t.sizeField;return r&&!r.field&&(r.field=i||o),e},function(e){var t=e.options,n=t.mark,r=t.children;return n&&(r[0].type=n),e},e8,e4)(e)}var nt=(dJ=function(e,t){return(dJ=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dJ(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),nn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="heatmap",t}return nt(t,e),t.getDefaultOptions=function(){return{type:"view",legend:null,tooltip:{valueFormatter:"~s"},axis:{y:{title:null,grid:!0},x:{title:null,grid:!0}},children:[{type:"point"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return ne},t}(eQ);function nr(e){return(0,A.flow)(function(e){var t=e.options.boxType;return e.options.children[0].type=void 0===t?"box":t,e},e8,e4)(e)}var ni=(d0=function(e,t){return(d0=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}d0(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),no=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="box",t}return ni(t,e),t.getDefaultOptions=function(){return{type:"view",children:[{type:"box"}],axis:{y:{title:!1},x:{title:!1}},tooltip:{items:[{name:"min",channel:"y"},{name:"q1",channel:"y1"},{name:"q2",channel:"y2"},{name:"q3",channel:"y3"},{name:"max",channel:"y4"}]}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return nr},t}(eQ);function na(e){return(0,A.flow)(function(e){var t=e.options,n=t.data,r=[{type:"custom",callback:function(e){return{links:e}}}];if((0,A.isArray)(n))n.length>0?(0,A.set)(t,"data",{value:n,transform:r}):delete t.children;else if("fetch"===(0,A.get)(n,"type")&&(0,A.get)(n,"value")){var i=(0,A.get)(n,"transform");(0,A.isArray)(i)?(0,A.set)(n,"transform",i.concat(r)):(0,A.set)(n,"transform",r)}return e},e8,e4)(e)}var ns=(d1=function(e,t){return(d1=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}d1(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),nl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="sankey",t}return ns(t,e),t.getDefaultOptions=function(){return{type:"view",children:[{type:"sankey"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return na},t}(eQ);function nc(e){t=e.options.layout,e.options.coordinate.transform="horizontal"!==(void 0===t?"horizontal":t)?void 0:[{type:"transpose"}];var t,n=e.options.layout,r=void 0===n?"horizontal":n;return e.options.children.forEach(function(e){var t;(null===(t=null==e?void 0:e.coordinate)||void 0===t?void 0:t.transform)&&(e.coordinate.transform="horizontal"!==r?void 0:[{type:"transpose"}])}),e}var nu=function(){return(nu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},nd=["#f0efff","#5B8FF9","#3D76DD"];function np(e,t,n,r){void 0===r&&(r=!0);var i=0,o=!1,a=(0,A.map)(e,function(e){var a,s,l=(0,A.get)(e,[t]);if((0,A.isNil)(l))return[];if((0,A.isString)(l)){var c=Number(l);return isNaN(c)?[]:((a={})[n]=e[n],a[t]=c,a)}return(0,A.isArray)(l)?(o=!0,i=Math.max(i,l.length),(0,A.map)(r?l.sort(function(e,t){return t-e}):l,function(r,i){var o;return(o={})[n]=e[n],o[t]=r,o.index=i,o})):(i=Math.max(1,i),(s={})[n]=e[n],s[t]=l,s)}).flat();return o?[a.map(function(e){return nu({index:0},e)}),i]:[a,i]}function nh(e,t){return Array(e).fill("").map(function(e,n){return(0,A.isArray)(t)?t[n%t.length]:t})}function nf(e){return(0,A.flow)(function(e){var t=e.options,n=t.color,r=t.rangeField,i=void 0===r?"ranges":r,o=t.measureField,a=void 0===o?"measures":o,s=t.targetField,l=void 0===s?"targets":s,c=t.xField,u=void 0===c?"title":c,d=t.mapField,p=t.data,h=np(p,i,u),f=h[0],g=h[1],m=np(p,a,u,!1),b=m[0],v=m[1],y=np(p,l,u,!1),E=y[0],_=y[1],x=(0,A.get)(n,[i],nd[0]),S=(0,A.get)(n,[a],nd[1]),C=(0,A.get)(n,[l],nd[2]),w=[nh(g,x),nh(v,S),nh(_,C)].flat();return e.options.children=(0,A.map)(e.options.children,function(e,t){var n=[f,b,E][t],r=[i,a,l][t];return nu(nu({},e),{data:n,encode:nu(nu({},e.encode||{}),{x:u,y:r,color:function(e){var t=e.index,n=(0,A.isNumber)(t)?"".concat(r,"_").concat(t):r;return d?(0,A.get)(d,[r,t],n):n}}),style:nu(nu({},e.style||{}),{zIndex:function(e){return-e[r]}}),labels:0!==t?(0,A.map)(e.labels,function(e){return nu(nu({},e),{text:r})}):void 0})}),e.options.scale.color.range=w,e.options.legend.color.itemMarker=function(e){return d&&(0,A.includes)(null==d?void 0:d[l],e)?"line":(null==e?void 0:e.replace(/\_\d$/,""))===l?"line":"square"},e},function(e){var t=e.options.layout;return"horizontal"!==(void 0===t?"horizontal":t)&&(0,A.set)(e,"options.children[2].shapeField","hyphen"),e},function(e){var t=e.options,n=t.range,r=t.measure,i=t.target,o=t.children;return e.options.children=[void 0===n?{}:n,void 0===r?{}:r,void 0===i?{}:i].map(function(e,t){return eB(o[t],e)}),e},nc,e4)(e)}var ng=(d2=function(e,t){return(d2=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}d2(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),nm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="bullet",t}return ng(t,e),t.getDefaultOptions=function(){return{type:"view",scale:{color:{range:nd}},legend:{color:{itemMarker:function(e){return"target"===e?"line":"square"}}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"interval",style:{maxWidth:30},axis:{y:{grid:!0,gridLineWidth:2}}},{type:"interval",style:{maxWidth:20},transform:[{type:"stackY"}]},{type:"point",encode:{size:8,shape:"line"}}],interaction:{tooltip:{shared:!0}},coordinate:{transform:[{type:"transpose"}]}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return nf},t}(eQ);function nb(e){return(0,A.flow)(function(e){var t=e.options.data;return e.options.data={value:t},e},e8,e4)(e)}var nv=(d3=function(e,t){return(d3=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}d3(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ny=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="Gauge",t}return nv(t,e),t.getDefaultOptions=function(){return{type:"view",legend:!1,children:[{type:"gauge"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return nb},t}(eQ);function nE(e){return(0,A.flow)(function(e){var t=e.options.percent;return(0,A.isNumber)(t)&&((0,A.set)(e,"options.data",t),delete e.options.percent),e},e8,e4)(e)}var n_=(d5=function(e,t){return(d5=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}d5(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),nT=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="Liquid",t}return n_(t,e),t.getDefaultOptions=function(){return{type:"view",children:[{type:"liquid"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return nE},t}(eQ);function nx(e){return(0,A.flow)(e8,e4)(e)}var nS=(d4=function(e,t){return(d4=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}d4(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),nA=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="WordCloud",t}return nS(t,e),t.getDefaultOptions=function(){return{type:"view",legend:!1,children:[{type:"wordCloud"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return nx},t}(eQ);function nC(e){return(0,A.flow)(function(e){var t=e.options,n=t.data;return n&&(0,A.set)(t,"data",{value:n}),e},e8,e4)(e)}var nw=(d6=function(e,t){return(d6=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}d6(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),nO=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="treemap",t}return nw(t,e),t.getDefaultOptions=function(){return{type:"view",children:[{type:"treemap"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return nC},t}(eQ),nI=function(){return(nI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function nL(e){return(0,A.flow)(function(e){var t=e.options,n=t.startAngle,r=t.maxAngle,i=t.coordinate,o=(0,A.isNumber)(n)?n/(2*Math.PI)*360:-90,a=(0,A.isNumber)(r)?(Number(r)+o)/180*Math.PI:Math.PI;return(0,A.set)(e,["options","coordinate"],nI(nI({},i),{endAngle:a,startAngle:null!=n?n:-Math.PI/2})),e},function(e){var t=e.options,n=t.tooltip,r=t.xField,i=t.yField,o=tb(r),a=tb(i);return n||(0,A.set)(t,"tooltip",{title:!1,items:[function(e,t,n){return{name:o(e,t,n),value:a(e,t,n)}}]}),e},function(e){var t=e.options,n=t.markBackground,r=t.children,i=t.scale,o=t.coordinate,a=t.xField,s=(0,A.get)(i,"y.domain",[]);return n&&r.unshift(nI({type:"interval",xField:a,yField:s[s.length-1],colorField:n.color,scale:{color:{type:"identity"}},style:{fillOpacity:n.opacity,fill:n.color?void 0:"#e0e4ee"},coordinate:nI(nI({},o),{startAngle:-Math.PI/2,endAngle:1.5*Math.PI}),animate:!1},n)),e},e8,e4)(e)}var nR=(d7=function(e,t){return(d7=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}d7(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),nk=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="radial",t}return nR(t,e),t.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"radial",innerRadius:.1,outerRadius:1,endAngle:Math.PI},animate:{enter:{type:"waveIn",duration:800}},axis:{y:{nice:!0,labelAutoHide:!0,labelAutoRotate:!1},x:{title:!1,nice:!0,labelAutoRotate:!1,labelAutoHide:{type:"equidistance",cfg:{minGap:6}}}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return nL},t}(eQ);function nN(e){return(0,A.flow)(e4)(e)}var nM=(d8=function(e,t){return(d8=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}d8(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),nD=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="CirclePacking",t}return nM(t,e),t.getDefaultOptions=function(){return{legend:!1,type:"view",children:[{type:"pack"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return nN},t}(eQ),nP=function(){return(nP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function nF(e){return(0,A.flow)(function(e){var t=e.options,n=t.xField,r=t.yField,i=t.seriesField,o=t.children,a=null==o?void 0:o.map(function(e){return nP(nP({},e),{xField:n,yField:r,seriesField:i,colorField:i,data:"density"===e.type?{transform:[{type:"kde",field:r,groupBy:[n,i]}]}:e.data})}).filter(function(e){return"density"!==t.violinType||"density"===e.type});return(0,A.set)(t,"children",a),"polar"===t.violinType&&(0,A.set)(t,"coordinate",{type:"polar"}),(0,A.set)(t,"violinType",void 0),e},e8,e4)(e)}var nB=(d9=function(e,t){return(d9=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}d9(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),nU=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="violin",t}return nB(t,e),t.getDefaultOptions=function(){return{type:"view",children:[{type:"density",sizeField:"size",tooltip:!1},{type:"boxplot",shapeField:"violin",style:{opacity:.5,point:!1}}],animate:{enter:{type:"fadeIn"}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return nF},t}(eQ),nz=function(){return(nz=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},nZ=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function nj(e){return(0,A.flow)(function(e){var t=e.options,n=t.yField;return t.children.forEach(function(e,t){(0,A.set)(e,"yField",n[t])}),e},function(e){var t=e.options,n=t.yField,r=t.children,i=t.data;if((0,A.isPlainObject)(i))return e;var o=(0,A.isArray)((0,A.get)(i,[0]))?i:[i,i];return r.forEach(function(e,t){(0,A.set)(e,"data",nZ([],o[t].map(function(e){return nz({groupKey:n[t]},e)}),!0))}),e},function(e){var t=e.options,n=t.yField,r=n[0],i=n[1];return t.tooltip||(0,A.set)(t,"tooltip",{items:[{field:r,value:r},{field:i,value:i}]}),e},function(e){var t=e.options,n=t.children,r=t.layout,i=t.coordinate.transform,o=t.paddingBottom,a=t.paddingLeft,s=t.axis;(0,A.set)(t,"axisText",nz(nz({},(null==s?void 0:s.x)||{}),{layout:r}));var l=n[0],c=n[1];if("vertical"===r)(0,A.set)(t,"direction","col"),(0,A.set)(t,"paddingLeft",void 0===a?48:a),(0,A.set)(t,"coordinate.transform",i.filter(function(e){return"transpose"!==e.type})),(0,A.set)(l,"paddingBottom",16),(0,A.set)(c,"paddingTop",16),(0,A.set)(c,"axis.x.position","top"),(0,A.set)(c,"scale.y.range",[0,1]);else{(0,A.set)(t,"paddingBottom",void 0===o?48:o),(0,A.set)(l,"scale.y.range",[0,1]);var u=l.paddingRight,d=void 0===u?32:u,p=c.paddingLeft,h=void 0===p?32:p;(0,A.set)(l,"paddingRight",d),(0,A.set)(l,"axis.x.position","right"),(0,A.set)(c,"paddingLeft",h)}return e},e8,e4)(e)}var nH=(pe=function(e,t){return(pe=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}pe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),nG=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="BidirectionalBar",t}return nH(t,e),t.getDefaultOptions=function(){return{type:"spaceFlex",coordinate:{transform:[{type:"transpose"}]},scale:{y:{nice:!0}},direction:"row",layout:"horizontal",legend:!1,axis:{y:{title:!1},x:{title:!1,label:!1}},children:[{type:"interval"},{type:"interval"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return nj},t}(eQ);function nV(e){return(0,A.flow)(function(e){var t=e.options,n=t.data,r=t.setsField,i=t.sizeField;return(0,A.isArray)(n)&&((0,A.set)(t,"data",{type:"inline",value:n,transform:[{type:"venn",sets:r,size:i,as:[pv.color,pv.d]}]}),(0,A.set)(t,"colorField",r),(0,A.set)(t,["children","0","encode","d"],pv.d)),(0,A.set)(e,"options",(0,A.omit)(t,["sizeField","setsField"])),e},e4)(e)}(pt=pv||(pv={})).color="key",pt.d="path";var n$=(pn=function(e,t){return(pn=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}pn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),nW=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="venn",t}return n$(t,e),t.getDefaultOptions=function(){return{type:"view",children:[{type:"path"}],legend:{color:{itemMarker:"circle"}},encode:{color:pv.color,d:pv.d}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return nV},t}(eQ);function nY(e){return(0,A.flow)(function(e){return e},e4)(e)}var nq=(pr=function(e,t){return(pr=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}pr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),nX={Base:e0,Line:tm,Column:ts,Pie:t_,Area:tt,Bar:to,DualAxes:tu,Funnel:th,Scatter:tS,Radar:tw,Rose:tQ,Stock:tk,TinyLine:tD,TinyArea:tB,TinyColumn:tZ,TinyProgress:tV,TinyRing:tq,Waterfall:t6,Histogram:t9,Heatmap:nn,Box:no,Sankey:nl,Bullet:nm,Gauge:ny,Liquid:nT,WordCloud:nA,Treemap:nO,RadialBar:nk,CirclePacking:nD,Violin:nU,BidirectionalBar:nG,Venn:nW,Mix:tu,Sunburst:function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="Sunburst",t}return nq(t,e),t.getDefaultOptions=function(){return{type:"view",children:[{type:"sunburst"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return nY},t}(eQ)},nK=function(){return(nK=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},nQ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},nJ=(0,C.forwardRef)(function(e,t){var n,r,i,o,a,s,l,c,u,d=e.chartType,p=nQ(e,["chartType"]),h=p.containerStyle,f=p.containerAttributes,g=void 0===f?{}:f,m=p.className,b=p.loading,v=p.loadingTemplate,y=p.errorTemplate,E=nQ(p,["containerStyle","containerAttributes","className","loading","loadingTemplate","errorTemplate"]),_=(n=nX[void 0===d?"Base":d],r=(0,C.useRef)(null),i=(0,C.useRef)(null),o=(0,C.useRef)(null),a=E.onReady,s=E.onEvent,l=function(e,t){void 0===e&&(e="image/png");var n,r=null===(n=o.current)||void 0===n?void 0:n.getElementsByTagName("canvas")[0];return null==r?void 0:r.toDataURL(e,t)},c=function(e,t,n){void 0===e&&(e="download"),void 0===t&&(t="image/png");var r=e;-1===e.indexOf(".")&&(r="".concat(e,".").concat(t.split("/")[1]));var i=l(t,n),o=document.createElement("a");return o.href=i,o.download=r,document.body.appendChild(o),o.click(),document.body.removeChild(o),o=null,r},u=function(e,t){void 0===t&&(t=!1);var n=Object.keys(e),r=t;n.forEach(function(n){var i,o=e[n];("tooltip"===n&&(r=!0),(0,A.isFunction)(o)&&(i="".concat(o),/react|\.jsx|children:\[\(|return\s+[A-Za-z0-9].createElement\((?!['"][g|circle|ellipse|image|rect|line|polyline|polygon|text|path|html|mesh]['"])([^\)])*,/i.test(i)))?e[n]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return N(o.apply(void 0,e),r)}:(0,A.isArray)(o)?o.forEach(function(e){u(e,r)}):(0,A.isObject)(o)?u(o,r):r=t})},(0,C.useEffect)(function(){r.current&&!(0,A.isEqual)(i.current,E)&&(i.current=(0,A.cloneDeep)(E),u(E),r.current.update(E),r.current.render())},[E]),(0,C.useEffect)(function(){if(!o.current)return function(){return null};i.current||(i.current=(0,A.cloneDeep)(E)),u(E);var e=new n(o.current,U({},E));e.toDataURL=l,e.downloadImage=c,e.render(),r.current=e,a&&a(e);var t=function(t){s&&s(e,t)};return e.on("*",t),function(){r.current&&(r.current.destroy(),r.current.off("*",t),r.current=void 0)}},[]),{chart:r,container:o}),x=_.chart,S=_.container;return(0,C.useImperativeHandle)(t,function(){return x.current},[x.current]),C.createElement(F,{errorTemplate:y},b&&C.createElement(D,{loadingTemplate:v}),C.createElement("div",nK({className:m,style:void 0===h?{height:"inherit",flex:1}:h,ref:S},g)))}),n0=function(){return(n0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},n1=(0,C.forwardRef)(function(e,t){return C.createElement(nJ,n0({},e,{chartType:"Area",ref:t}))});function n2(){if(0==arguments.length)return{};for(var e=(0,_.Z)({},arguments.length<=0?void 0:arguments[0]),t=1;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];for(var r in n)if(n.hasOwnProperty(r)){var i=n[r],o=e[r];["component","data"].includes(r)?e[r]=i:"function"==typeof i?e[r]=function(e,t,n){return["plugins","behaviors","transforms"].includes(e)?function(e){return t(e)}:function(e){var r=t.call(this,e);return(0,A.isPlainObject)(r)?n2(n,r):r}}(r,i,o):(0,A.isPlainObject)(i)&&(0,A.isPlainObject)(o)?e[r]=n2(o,i):e[r]=i}}return e}var n3=n(92175),n5=new Map([["x","xField"],["y","yField"],["series","seriesField"],["size","sizeField"],["color","colorField"],["shape","shapeField"],["y","angleField"]]),n4=n(52521),n6={fontSizeBase:14,chart:{proportionShadowColor:"#CDDDFD",proportionFillColor:"#3471F9",lineStrokeColor:"#5B8FF9"},light:{primaryColor:"#1677FF",default88Color:"rgba(0, 0, 0, 0.88)",default65Color:"rgba(0, 0, 0, 0.65)",posColor:"#FA541C",negColor:"#13A8A8",conclusionColor:"#1F0352"},dark:{primaryColor:"#4B91FF",default88Color:"rgba(255, 255, 255, 0.88)",default65Color:"rgba(255, 255, 255, 0.65)",posColor:"#FA541C",negColor:"#13A8A8",conclusionColor:"#D8C3F3"}};function n7(e,t){var n;return window.getComputedStyle?window.getComputedStyle(e,null)[t]:null==e||null===(n=e.currentStyle)||void 0===n?void 0:n[t]}function n8(e){return null==e?void 0:e.endsWith("px")}function n9(e){var t=Number(e.replace(/px$/,""));if(!Number.isNaN(t))return t}var re=["children"],rt=function(){var e=(0,C.useRef)(null),t=(0,C.useState)(n6.fontSizeBase),n=(0,n4.Z)(t,2),r=n[0],i=n[1];return(0,C.useLayoutEffect)(function(){e.current&&i(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n6.fontSizeBase,n="font-size",r=n7(e,n);if(r&&n8(r)){var i=n9(r);if(i)return i}var o=n7(window.document.body,n);if(o&&n8(o)){var a=n9(o);if(a)return a}return t}(e.current,n6.fontSizeBase))},[]),[function(t){var n=t.children,r=(0,S.Z)(t,re);return C.createElement("svg",(0,x.Z)({style:{margin:"0px 4px",transform:"translate(0px, 0.125em)"},ref:e},r),n)},r]},rn=n(35979),rr=n(59129),ri=n(76920),ro=function(e,t){return function(n){var r=(0,n4.Z)(e,2),i=r[0],o=r[1],a=(0,n4.Z)(t,2),s=a[0],l=a[1];return s===l?(o-i)/2:n/(l-s)*(o-i)}},ra=function(){function e(t,n){(0,rr.Z)(this,e),(0,w.Z)(this,"data",[]),(0,w.Z)(this,"size",n6.fontSizeBase),(0,w.Z)(this,"height",this.size),(0,w.Z)(this,"width",this.getWidth()),(0,w.Z)(this,"xScale",void 0),(0,w.Z)(this,"yScale",void 0),(0,w.Z)(this,"points",[]),this.size=t,n&&(this.data=n,this.compute())}return(0,ri.Z)(e,[{key:"getWidth",value:function(){var e;return Math.max(2*this.size,(null===(e=this.data)||void 0===e?void 0:e.length)*2)}},{key:"compute",value:function(){var e,t=this;if(this.data){this.height=this.size,this.width=this.getWidth(),this.xScale=ro([0,this.width],[0,(null===(e=this.data)||void 0===e?void 0:e.length)-1]);var n=[Math.min.apply(Math,(0,rn.Z)(this.data)),Math.max.apply(Math,(0,rn.Z)(this.data))],r=n[0],i=n[1];this.yScale=ro([2,this.height-2],[r,i]),this.points=this.data.map(function(e,n){return[t.xScale(n),t.height-t.yScale(e)]})}}},{key:"getLinePath",value:function(){var e;return null!==(e=this.data)&&void 0!==e&&e.length&&this.xScale&&this.yScale?this.points.reduce(function(e,t,n){var r=(0,n4.Z)(t,2),i=r[0],o=r[1];return 0===n?"M".concat(i," ").concat(o):"".concat(e," L ").concat(i," ").concat(o)},""):null}},{key:"getPolygonPath",value:function(){if(!(null!==(e=this.data)&&void 0!==e&&e.length)||!this.xScale||!this.yScale)return null;var e,t=(0,rn.Z)(this.points),n=this.points[this.points.length-1];t.push([n[0],this.height]),t.push([0,this.height]);var r=this.points[0];return t.push(r),t.reduce(function(e,t){var n=(0,n4.Z)(t,2),r=n[0],i=n[1];return"".concat(e," ").concat(r,",").concat(i)},"")}},{key:"getContainer",value:function(){return[this.width,this.height]}}]),e}(),rs=function(e,t){var n=(0,C.useState)(new ra(e,t)),r=(0,n4.Z)(n,2),i=r[0],o=r[1];return(0,C.useEffect)(function(){o(new ra(e,t))},[e,t]),{width:i.getContainer()[0],height:i.getContainer()[1],linePath:i.getLinePath(),polygonPath:i.getPolygonPath()}},rl="wsc-line-fill",rc=(py={},(0,w.Z)((0,w.Z)((0,w.Z)((0,w.Z)((0,w.Z)((0,w.Z)((0,w.Z)((0,w.Z)((0,w.Z)((0,w.Z)(py,"__statics",{"icon:arrow-up":function(){return C.createElement("svg",{width:"8px",height:"9px",style:{transform:"rotate(180deg)",marginRight:2},viewBox:"0 0 8 9",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},C.createElement("g",{transform:"translate(-2.000000, -2.000000)"},C.createElement("polygon",{fill:"currentColor",points:"6 11 9.5 2 2.5 2"})))},"icon:arrow-down":function(){return C.createElement("svg",{width:"8px",height:"9px",viewBox:"0 0 8 9",style:{marginRight:2},version:"1.1",xmlns:"http://www.w3.org/2000/svg"},C.createElement("g",{transform:"translate(-2.000000, -2.000000)"},C.createElement("polygon",{fill:"currentColor",points:"6 11 9.5 2 2.5 2"})))},"mini-chart:proportion":function(e){var t,n,r,i,o,a,s=e.origin,l=e.children,c=(0,C.useMemo)(function(){return function(e,t){var n=(0,A.toNumber)(t);if((0,A.isNaN)(n)){if((0,A.isString)(e)?a=e:Array.isArray(e)&&(0,A.isString)(e[0])&&(a=e[0]),null!==(i=a)&&void 0!==i&&null!==(o=i.endsWith)&&void 0!==o&&o.call(i,"%")){var r,i,o,a,s,l=null===(s=a)||void 0===s?void 0:s.replace(/%$/,""),c=(0,A.toNumber)(l);(0,A.isNaN)(c)||(r=c/100)}}else r=n;return r}(l,s)},[l,s]),u=rt(),d=(0,n4.Z)(u,2),p=d[0],h=d[1],f=h/2;return c&&C.createElement(p,{width:h,height:h},C.createElement("circle",{cx:f,cy:f,r:f,fill:n6.chart.proportionShadowColor}),c>=1?C.createElement("circle",{cx:f,cy:f,r:f,fill:n6.chart.proportionFillColor}):C.createElement("path",{d:(t=h/2,n=h/2,o=t+(r=h/2)*Math.sin(i=2*("number"!=typeof c?0:c>1?1:c<0?0:c)*Math.PI),a=n-r*Math.cos(i),"\n    M".concat(t," ",0,"\n    A ").concat(t," ").concat(n," 0 ").concat(i>Math.PI?1:0," 1 ").concat(o," ").concat(a,"\n    L ").concat(t," ").concat(n," Z\n  ")),fill:n6.chart.proportionFillColor}))},"mini-chart:line":function(e){var t=e.origin,n=rt(),r=(0,n4.Z)(n,2),i=r[0],o=r[1],a=(0,C.useMemo)(function(){return function(e){if((0,A.isArray)(e))return e;if((0,A.isString)(e))try{var t=JSON.parse(e);if((0,A.isArray)(t))return t}catch(t){console.warn(t,"".concat(e," is not a valid json string"))}}(t)},[t]),s=rs(o,a),l=s.width,c=s.height,u=s.linePath,d=s.polygonPath;return(0,A.size)(a)>0&&C.createElement(i,{width:l,height:c},C.createElement("defs",null,C.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"122.389541%",id:rl},C.createElement("stop",{stopColor:n6.chart.lineStrokeColor,offset:"0%"}),C.createElement("stop",{stopColor:"#FFFFFF",stopOpacity:"0",offset:"100%"}))),u&&C.createElement("path",{d:u,stroke:n6.chart.lineStrokeColor,fill:"transparent"}),d&&C.createElement("polygon",{points:d,fill:"url(#".concat(rl,")")}))}}),"metric_name",{color:n6.light.default88Color,fontWeight:500}),"metric_value",{color:n6.light.primaryColor}),"other_metric_value",{color:n6.light.default65Color}),"delta_value",{color:n6.light.default65Color}),"ratio_value",{color:n6.light.default65Color}),"delta_value_pos",{color:n6.light.posColor,prefix:"+"}),"delta_value_neg",{color:n6.light.negColor,prefix:"-"}),"ratio_value_pos",{color:n6.light.posColor,prefix:"icon:arrow-up"}),"ratio_value_neg",{color:n6.light.negColor,prefix:"icon:arrow-down"}),(0,w.Z)((0,w.Z)((0,w.Z)((0,w.Z)((0,w.Z)(py,"contribute_ratio",{color:n6.light.conclusionColor}),"trend_desc",{color:n6.light.conclusionColor,suffix:"mini-chart:line"}),"dim_value",{color:n6.light.default88Color}),"time_desc",{color:n6.light.default88Color}),"proportion",{suffix:"mini-chart:proportion"})),ru=C.createContext({map:{style:"light"},components:{VisText:rc}});function rd(){return C.useContext(ru)}function rp(e){var t=rd().components,n=void 0===t?{}:t;return null==n?void 0:n[e]}function rh(e,t,n){var r,i,o,a,s,l,c=(r=rp(e),i=rd().plot,(0,_.Z)((0,_.Z)({},i),r)),u=(a=(o=function(e){var t=e.encode;if(!t)return e;var n,r=(0,_.Z)({},e),i=(0,n3.Z)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=n5.get(o);a&&(r[a]=t[o])}}catch(e){i.e(e)}finally{i.f()}return r}((0,_.Z)((0,_.Z)({},c),n))).axisXTitle,s=o.axisYTitle,l=(0,_.Z)({axis:{}},o),a&&((0,A.get)(l,"axis.x")?l.axis.x.title=a:l.axis.x={title:a}),s&&((0,A.get)(l,"axis.y")?l.axis.y.title=s:l.axis.y={title:s}),l),d="function"==typeof t?t(u):t;return(0,_.Z)((0,_.Z)({},d),u)}function rf(e,t){var n,r,i,o=(n=rp(e),i={mapType:null==(r=rd().map)?void 0:r.style,token:null==r?void 0:r.token},(0,_.Z)((0,_.Z)({},i),n));return(0,_.Z)((0,_.Z)({},o),t)}function rg(e,t,n){var r,i=n2(void 0===(r=rd().graph)?{}:r,rp(e)||{});return n2(t,i,n)}var rm=function(e){var t=e.data,n=e.xField,r=void 0===n?"time":n,i=e.yField,o=void 0===i?"value":i,a=void 0!==(0,A.get)(t,"[0].group"),s=(0,A.get)(e,"axis.y.title");return{xField:r,yField:o,style:a?{}:{opacity:.6},colorField:a?"group":void 0,tooltip:function(e){return{name:s||e[r],value:e[o]}}}},rb=function(){return(rb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},rv=(0,C.forwardRef)(function(e,t){return C.createElement(nJ,rb({},e,{chartType:"Bar",ref:t}))}),ry=function(e){var t=e.data,n=e.xField,r=void 0===n?"category":n,i=e.yField,o=void 0===i?"value":i,a=void 0!==(0,A.get)(t,"[0].group"),s=(0,A.get)(e,"axis.y.title");return{xField:r,yField:o,colorField:a?"group":void 0,tooltip:function(e){return{name:s||e[r],value:e[o]}},style:{radiusTopLeft:5,radiusTopRight:5}}},rE=function(){return(rE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r_=(0,C.forwardRef)(function(e,t){return C.createElement(nJ,rE({},e,{chartType:"Column",ref:t}))}),rT=function(e){var t=e.data,n=e.xField,r=void 0===n?"category":n,i=e.yField,o=void 0===i?"value":i,a=void 0!==(0,A.get)(t,"[0].group"),s=(0,A.get)(e,"axis.y.title");return{xField:r,yField:o,colorField:a?"group":void 0,tooltip:function(e){return{name:s||e[r],value:e[o]}},style:{radiusTopLeft:10,radiusTopRight:10}}},rx=function(){return(rx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},rS=(0,C.forwardRef)(function(e,t){return C.createElement(nJ,rx({},e,{chartType:"Line",ref:t}))}),rA=function(e){var t=e.data,n=e.xField,r=void 0===n?"time":n,i=e.yField,o=void 0===i?"value":i,a=void 0!==(0,A.get)(t,"[0].group"),s=(0,A.get)(e,"axis.y.title");return{xField:r,yField:o,colorField:a?"group":void 0,tooltip:function(e){return{name:s||e[r],value:e[o]}}}},rC=function(){return(rC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},rw=(0,C.forwardRef)(function(e,t){return C.createElement(nJ,rC({},e,{chartType:"Pie",ref:t}))}),rO=function(e){var t=e.data,n=e.angleField,r=void 0===n?"value":n,i=e.colorField,o=void 0===i?"category":i,a=(0,A.sumBy)(void 0===t?[]:t,r);return{angleField:r,colorField:o,tooltip:function(e){return{name:e[o],value:e[r]}},label:{position:"outside",text:function(e){return"".concat(e[o],": ").concat((0,A.round)(e[r]/a*100,1),"%")}},legend:{color:{title:!1,position:"top"}},interaction:{elementSelect:{single:!0}}}},rI=function(){return(rI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},rL=(0,C.forwardRef)(function(e,t){return C.createElement(nJ,rI({},e,{chartType:"Scatter",ref:t}))}),rR=function(e){var t=e.data,n=e.xField,r=e.yField;return{data:t,xField:void 0===n?"x":n,yField:void 0===r?"y":r,tooltip:[{channel:"x",name:(0,A.get)(e,"axis.x.title")||"x"},{channel:"y",name:(0,A.get)(e,"axis.y.title")||"y"}]}},rk=n(70373),rN=n(54663),rM=n(87314),rD=n(48758);let rP={duration:500},rF={duration:1e3,easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",iterations:1,fill:"both"};(pi=pE||(pE={})).NodeAdded="NodeAdded",pi.NodeUpdated="NodeUpdated",pi.NodeRemoved="NodeRemoved",pi.EdgeAdded="EdgeAdded",pi.EdgeUpdated="EdgeUpdated",pi.EdgeRemoved="EdgeRemoved",pi.ComboAdded="ComboAdded",pi.ComboUpdated="ComboUpdated",pi.ComboRemoved="ComboRemoved",(po=p_||(p_={})).DRAW="draw",po.COLLAPSE="collapse",po.EXPAND="expand",po.TRANSFORM="transform",(pa=pT||(pT={})).CLICK="canvas:click",pa.DBLCLICK="canvas:dblclick",pa.POINTER_OVER="canvas:pointerover",pa.POINTER_LEAVE="canvas:pointerleave",pa.POINTER_ENTER="canvas:pointerenter",pa.POINTER_MOVE="canvas:pointermove",pa.POINTER_OUT="canvas:pointerout",pa.POINTER_DOWN="canvas:pointerdown",pa.POINTER_UP="canvas:pointerup",pa.CONTEXT_MENU="canvas:contextmenu",pa.DRAG_START="canvas:dragstart",pa.DRAG="canvas:drag",pa.DRAG_END="canvas:dragend",pa.DRAG_ENTER="canvas:dragenter",pa.DRAG_OVER="canvas:dragover",pa.DRAG_LEAVE="canvas:dragleave",pa.DROP="canvas:drop",pa.WHEEL="canvas:wheel",(ps=px||(px={})).CLICK="combo:click",ps.DBLCLICK="combo:dblclick",ps.POINTER_OVER="combo:pointerover",ps.POINTER_LEAVE="combo:pointerleave",ps.POINTER_ENTER="combo:pointerenter",ps.POINTER_MOVE="combo:pointermove",ps.POINTER_OUT="combo:pointerout",ps.POINTER_DOWN="combo:pointerdown",ps.POINTER_UP="combo:pointerup",ps.CONTEXT_MENU="combo:contextmenu",ps.DRAG_START="combo:dragstart",ps.DRAG="combo:drag",ps.DRAG_END="combo:dragend",ps.DRAG_ENTER="combo:dragenter",ps.DRAG_OVER="combo:dragover",ps.DRAG_LEAVE="combo:dragleave",ps.DROP="combo:drop",(pl=pS||(pS={})).CLICK="click",pl.DBLCLICK="dblclick",pl.POINTER_OVER="pointerover",pl.POINTER_LEAVE="pointerleave",pl.POINTER_ENTER="pointerenter",pl.POINTER_MOVE="pointermove",pl.POINTER_OUT="pointerout",pl.POINTER_DOWN="pointerdown",pl.POINTER_UP="pointerup",pl.CONTEXT_MENU="contextmenu",pl.DRAG_START="dragstart",pl.DRAG="drag",pl.DRAG_END="dragend",pl.DRAG_ENTER="dragenter",pl.DRAG_OVER="dragover",pl.DRAG_LEAVE="dragleave",pl.DROP="drop",pl.KEY_DOWN="keydown",pl.KEY_UP="keyup",pl.WHEEL="wheel",pl.PINCH="pinch",(pc=pA||(pA={})).KEY_DOWN="keydown",pc.KEY_UP="keyup",(pu=pC||(pC={})).CLICK="edge:click",pu.DBLCLICK="edge:dblclick",pu.POINTER_OVER="edge:pointerover",pu.POINTER_LEAVE="edge:pointerleave",pu.POINTER_ENTER="edge:pointerenter",pu.POINTER_MOVE="edge:pointermove",pu.POINTER_OUT="edge:pointerout",pu.POINTER_DOWN="edge:pointerdown",pu.POINTER_UP="edge:pointerup",pu.CONTEXT_MENU="edge:contextmenu",pu.DRAG_ENTER="edge:dragenter",pu.DRAG_OVER="edge:dragover",pu.DRAG_LEAVE="edge:dragleave",pu.DROP="edge:drop",(pd=pw||(pw={})).BEFORE_CANVAS_INIT="beforecanvasinit",pd.AFTER_CANVAS_INIT="aftercanvasinit",pd.BEFORE_SIZE_CHANGE="beforesizechange",pd.AFTER_SIZE_CHANGE="aftersizechange",pd.BEFORE_ELEMENT_CREATE="beforeelementcreate",pd.AFTER_ELEMENT_CREATE="afterelementcreate",pd.BEFORE_ELEMENT_UPDATE="beforeelementupdate",pd.AFTER_ELEMENT_UPDATE="afterelementupdate",pd.BEFORE_ELEMENT_DESTROY="beforeelementdestroy",pd.AFTER_ELEMENT_DESTROY="afterelementdestroy",pd.BEFORE_ELEMENT_TRANSLATE="beforeelementtranslate",pd.AFTER_ELEMENT_TRANSLATE="afterelementtranslate",pd.BEFORE_DRAW="beforedraw",pd.AFTER_DRAW="afterdraw",pd.BEFORE_RENDER="beforerender",pd.AFTER_RENDER="afterrender",pd.BEFORE_ANIMATE="beforeanimate",pd.AFTER_ANIMATE="afteranimate",pd.BEFORE_LAYOUT="beforelayout",pd.AFTER_LAYOUT="afterlayout",pd.BEFORE_STAGE_LAYOUT="beforestagelayout",pd.AFTER_STAGE_LAYOUT="afterstagelayout",pd.BEFORE_TRANSFORM="beforetransform",pd.AFTER_TRANSFORM="aftertransform",pd.BATCH_START="batchstart",pd.BATCH_END="batchend",pd.BEFORE_DESTROY="beforedestroy",pd.AFTER_DESTROY="afterdestroy",pd.BEFORE_RENDERER_CHANGE="beforerendererchange",pd.AFTER_RENDERER_CHANGE="afterrendererchange",(pp=pO||(pO={})).UNDO="undo",pp.REDO="redo",pp.CANCEL="cancel",pp.ADD="add",pp.CLEAR="clear",pp.CHANGE="change",(ph=pI||(pI={})).CLICK="node:click",ph.DBLCLICK="node:dblclick",ph.POINTER_OVER="node:pointerover",ph.POINTER_LEAVE="node:pointerleave",ph.POINTER_ENTER="node:pointerenter",ph.POINTER_MOVE="node:pointermove",ph.POINTER_OUT="node:pointerout",ph.POINTER_DOWN="node:pointerdown",ph.POINTER_UP="node:pointerup",ph.CONTEXT_MENU="node:contextmenu",ph.DRAG_START="node:dragstart",ph.DRAG="node:drag",ph.DRAG_END="node:dragend",ph.DRAG_ENTER="node:dragenter",ph.DRAG_OVER="node:dragover",ph.DRAG_LEAVE="node:dragleave",ph.DROP="node:drop";let rB="combo",rU="tree";(pf=pL||(pL={})).NODE="node",pf.EDGE="edge",pf.COMBO="combo",pf.THEME="theme",pf.PALETTE="palette",pf.LAYOUT="layout",pf.BEHAVIOR="behavior",pf.PLUGIN="plugin",pf.ANIMATION="animation",pf.TRANSFORM="transform",pf.SHAPE="shape";let rz={animation:{},behavior:{},combo:{},edge:{},layout:{},node:{},palette:{},theme:{},plugin:{},transform:{},shape:{}};function rZ(e,t){var n;let r=null===(n=rz[e])||void 0===n?void 0:n[t];if(r)return r}function rj(e){return`[G6 v5.0.48] ${e}`}let rH={mute:!1,debug:e=>{rH.mute||console.debug(rj(e))},info:e=>{rH.mute||console.info(rj(e))},warn:e=>{rH.mute||console.warn(rj(e))},error:e=>{rH.mute||console.error(rj(e))}};function rG(e){let{theme:t}=e;if(!t)return{};let n=rZ(pL.THEME,t);return n||(rH.warn(`The theme of ${t} is not registered.`),{})}function rV(e,t){if(Array.isArray(e)&&0===e.length)return null;let n=Array.isArray(e)?e[0]:e,r=Array.isArray(e)?e.slice(1):t||[];return new Proxy(n,{get:(e,t)=>"function"!=typeof e[t]||["onframe","onfinish"].includes(t)?"finished"===t?Promise.all([n.finished,...r.map(e=>e.finished)]):Reflect.get(e,t):(...n)=>{e[t](...n),r.forEach(e=>{var r;return null===(r=e[t])||void 0===r?void 0:r.call(e,...n)})},set:(e,t,n)=>(["onframe","onfinish"].includes(t)||r.forEach(e=>{e[t]=n}),Reflect.set(e,t,n))})}function r$(e){let t=e.reduce((e,t)=>(Object.entries(t).forEach(([t,n])=>{void 0===e[t]?e[t]=[n]:e[t].push(n)}),e),{});Object.entries(t).forEach(([n,r])=>{(r.length!==e.length||r.some(e=>(0,rN.Z)(e))||r.every(e=>!["sourceNode","targetNode","childrenNode"].includes(n)&&(0,rM.Z)(e,r[0])))&&delete t[n]});let n=Object.entries(t).reduce((e,[t,n])=>(n.forEach((n,r)=>{e[r]?e[r][t]=n:e[r]={[t]:n}}),e),[]);return 0!==e.length&&0===n.length&&n.push(...[{_:0},{_:0}]),n}function rW(e){switch(e){case"opacity":return 1;case"x":case"y":case"z":case"zIndex":return 0;case"visibility":return"visible";case"collapsed":return!1;case"states":return[];default:return}}function rY(e,t){let{animation:n}=e;if(!1===n||!1===t)return!1;let r=Object.assign({},rP);return(0,rD.Z)(n)&&Object.assign(r,n),(0,rD.Z)(t)&&Object.assign(r,t),r}var rq=n(22355);function rX(e,t,n,r=[]){if(!r&&0===e&&0===t&&0===n)return null;if(Array.isArray(r)){let i=-1,o=[];for(let a=0;a<r.length;a++){let s=r[a];if("translate"===s[0]){if(s[1]===e&&s[2]===t)return null;i=a,o.push(["translate",e,t])}else if("translate3d"===s[0]){if(s[1]===e&&s[2]===t&&s[3]===n)return null;i=a,o.push(["translate3d",e,t,null!=n?n:0])}else o.push(s)}return(-1===i&&o.splice(0,0,(0,rq.Z)(n)?["translate3d",e,t,null!=n?n:0]:["translate",e,t]),0===o.length)?null:o}let i=r?r.replace(/translate(3d)?\([^)]*\)/g,""):"";return 0===n?`translate(${e}, ${t})${i}`:`translate3d(${e}, ${t}, ${n})${i}`}var rK=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let rQ=(e,t,n)=>{let r;if(!n.length)return null;let[i,o]=t,a=t=>{var n;if(!t)return{shape:e,fromStyle:i,toStyle:o};{let r=e.getShape(t);if(!r)return null;let a=`get${(0,rk.Z)(t)}Style`,s=(null===(n=null==e?void 0:e[a])||void 0===n?void 0:n.bind(e))||(e=>e),l=(null==s?void 0:s(i))||{},c=(null==s?void 0:s(o))||{};return{shape:r,fromStyle:l,toStyle:c}}},s=n.map(e=>{var{fields:t,shape:n,states:i}=e,o=rK(e,["fields","shape","states"]);let s=a(n);if(!s)return null;let{shape:l,fromStyle:c,toStyle:u}=s,d=[{},{}];if(t.forEach(e=>{var t,n;Object.assign(d[0],{[e]:null!==(t=c[e])&&void 0!==t?t:rW(e)}),Object.assign(d[1],{[e]:null!==(n=u[e])&&void 0!==n?n:rW(e)})}),d.some(e=>Object.keys(e).some(e=>["x","y","z"].includes(e)))){let{x:e=0,y:t=0,z:n,transform:r=""}=l.attributes||{};d.forEach(i=>{var o,a,s;i.transform=rX(null!==(o=i.x)&&void 0!==o?o:e,null!==(a=i.y)&&void 0!==a?a:t,null!==(s=i.z)&&void 0!==s?s:n,r)})}let p=l.animate(r$(d),o);return void 0===n&&(r=p),p}).filter(Boolean),l=r||(null==s?void 0:s[0]);return l?rV(l,s.filter(e=>e!=e)):null},rJ=[{fields:["x","y"]}],r0=[{fields:["sourceNode","targetNode"]}],r1=[{fields:["childrenNode","x","y"]}];var r2=n(90079),r3=n(94432),r5=n(2170),r4=n(12637);function r6(e){return e instanceof Float32Array||!!Array.isArray(e)&&(2===e.length||3===e.length)&&e.every(e=>"number"==typeof e)}function r7(e,t,n){return e>=t&&e<=n}function r8(e=0){if(Array.isArray(e)){let[t=0,n=t,r=t,i=n]=e;return[t,n,r,i]}return[e,e,e,e]}function r9(e){return e.max[0]-e.min[0]}function ie(e){return e.max[1]-e.min[1]}function it(e){return[r9(e),ie(e)]}function ir(e,t){let n=r6(e)?ii(e):e.getShape("key").getBounds();return t?io(n,t):n}function ii(e){let[t,n,r=0]=e,i=new ew.mN;return i.setMinMax([t,n,r],[t,n,r]),i}function io(e,t){let[n,r,i,o]=r8(t),[a,s,l]=e.min,[c,u,d]=e.max,p=new ew.mN;return p.setMinMax([a-o,s-n,l],[c+r,u+i,d]),p}function ia(e){if(0===e.length)return new ew.mN;if(1===e.length)return e[0];let t=new ew.mN;t.setMinMax(e[0].min,e[0].max);for(let n=1;n<e.length;n++){let r=e[n];t.setMinMax([Math.min(t.min[0],r.min[0]),Math.min(t.min[1],r.min[1]),Math.min(t.min[2],r.min[2])],[Math.max(t.max[0],r.max[0]),Math.max(t.max[1],r.max[1]),Math.max(t.max[2],r.max[2])])}return t}function is(e,t){return r7(e[0],t.min[0],t.max[0])&&r7(e[1],t.min[1],t.max[1])}function il(e,t,n=!1){let{min:[r,i],max:[o,a]}=t,s=(e[1]===i||e[1]===a)&&(n||r7(e[0],r,o)),l=(e[0]===r||e[0]===o)&&(n||r7(e[1],i,a));return s||l}function ic(e,t){let{center:n}=t;return e[0]===n[0]&&e[1]===n[1]}function iu(e,t){let[n,r]=e,[i,o]=t.min,[a,s]=t.max,l=n-i,c=a-n,u=r-o,d=s-r,p=Math.min(l,c,u,d);return p===l?"left":p===c?"right":p===u?"top":p===d?"bottom":"left"}function id(e,t){let n=(0,r4.Z)(e);if(is(e,t)){let r=iu(e,t);switch(r){case"left":n[0]=t.min[0];break;case"right":n[0]=t.max[0];break;case"top":n[1]=t.min[1];break;case"bottom":n[1]=t.max[1]}}else{let[r,i]=e,[o,a]=t.min,[s,l]=t.max;n[0]=r7(r,o,s)?r:r<o?o:s,n[1]=r7(i,a,l)?i:i<a?a:l}return n}var ip=n(92776);function ih(e){if(void 0!==e.id)return e.id;if(void 0!==e.source&&void 0!==e.target)return`${e.source}-${e.target}`;throw Error(rj("The datum does not have available id."))}function ig(e,t){let n={nodes:(e.nodes||[]).map(ih),edges:(e.edges||[]).map(ih),combos:(e.combos||[]).map(ih)};return t?Object.values(n).flat():n}let im=(e,t,n)=>{var r;switch(n.type){case"degree":{let i=new Map;return null===(r=e.nodes)||void 0===r||r.forEach(e=>{let r=t(ih(e),n.direction).length;i.set(ih(e),r)}),i}case"betweenness":return iv(e,n.directed,n.weightPropertyName);case"closeness":return iy(e,n.directed,n.weightPropertyName);case"eigenvector":return i_(e,n.directed);case"pagerank":return iE(e,n.epsilon,n.linkProb);default:return ib(e)}},ib=e=>{var t;let n=new Map;return null===(t=e.nodes)||void 0===t||t.forEach(e=>{n.set(ih(e),0)}),n},iv=(e,t,n)=>{let r=ib(e),{nodes:i=[]}=e;return i.forEach(o=>{i.forEach(i=>{if(o!==i){let{allPath:a}=(0,ip.ni)(e,ih(o),ih(i),t,n),s=a.length;a.flat().forEach(e=>{e!==ih(o)&&e!==ih(i)&&r.set(e,r.get(e)+1/s)})}})}),r},iy=(e,t,n)=>{let r=new Map,{nodes:i=[]}=e;return i.forEach(o=>{let a=i.reduce((r,i)=>{if(o!==i){let{length:a}=(0,ip.ni)(e,ih(o),ih(i),t,n);r+=a}return r},0);r.set(ih(o),1/a)}),r},iE=(e,t,n)=>{var r;let i=new Map,o=(0,ip.EF)(e,t,n);return null===(r=e.nodes)||void 0===r||r.forEach(e=>{i.set(ih(e),o[ih(e)])}),i},i_=(e,t)=>{let{nodes:n=[]}=e,r=iT(e,t),i=ix(r,n.length),o=new Map;return n.forEach((e,t)=>{o.set(ih(e),i[t])}),o},iT=(e,t)=>{let{nodes:n=[],edges:r=[]}=e,i=Array(n.length).fill(null).map(()=>Array(n.length).fill(0));return r.forEach(({source:e,target:r})=>{let o=n.findIndex(t=>ih(t)===e),a=n.findIndex(e=>ih(e)===r);t?i[o][a]=1:(i[o][a]=1,i[a][o]=1)}),i},ix=(e,t,n=100,r=1e-6)=>{let i=Array(t).fill(1),o=1/0;for(let a=0;a<n&&o>r;a++){let n=Array(t).fill(0);for(let r=0;r<t;r++)for(let o=0;o<t;o++)n[r]+=e[r][o]*i[o];let r=Math.sqrt(n.reduce((e,t)=>e+t*t,0));for(let e=0;e<t;e++)n[e]/=r;o=Math.sqrt(n.reduce((e,t,n)=>e+(t-i[n])*t,0)),i=n}return i};function iS(e,t,n,r=rM.Z){let i=new Map(e.map(e=>[n(e),e])),o=new Map(t.map(e=>[n(e),e])),a=new Set(i.keys()),s=new Set(o.keys()),l=[],c=[],u=[],d=[];return s.forEach(e=>{a.has(e)?r(i.get(e),o.get(e))?d.push(o.get(e)):c.push(o.get(e)):l.push(o.get(e))}),a.forEach(e=>{s.has(e)||u.push(i.get(e))}),{enter:l,exit:u,keep:d,update:c}}function iA(e,t,n){let r=e=>{(!n||n(e))&&(e.style.visibility=t)};e.forEach(e=>{r(e)})}class iC{constructor(e){this.extensions=[],this.extensionMap={},this.context=e}setExtensions(e){let t=function(e,t,n){let r={},i=e=>(e in r||(r[e]=0),`${t}-${e}-${r[e]++}`);return n.map(t=>"string"==typeof t?{type:t,key:i(t)}:"function"==typeof t?t.call(e):t.key?t:Object.assign(Object.assign({},t),{key:i(t.type)}))}(this.context.graph,this.category,e),{enter:n,update:r,exit:i,keep:o}=iS(this.extensions,t,e=>e.key);this.createExtensions(n),this.updateExtensions([...r,...o]),this.destroyExtensions(i),this.extensions=t}createExtension(e){let{category:t}=this,{key:n,type:r}=e,i=rZ(t,r);if(!i)return rH.warn(`The extension ${r} of ${t} is not registered.`);let o=new i(this.context,e);this.extensionMap[n]=o}createExtensions(e){e.forEach(e=>this.createExtension(e))}updateExtension(e){let{key:t}=e,n=this.extensionMap[t];n&&n.update(e)}updateExtensions(e){e.forEach(e=>this.updateExtension(e))}destroyExtension(e){let t=this.extensionMap[e];t&&(t.destroy(),delete this.extensionMap[e])}destroyExtensions(e){e.forEach(({key:e})=>this.destroyExtension(e))}destroy(){Object.values(this.extensionMap).forEach(e=>e.destroy()),this.context={},this.extensions=[],this.extensionMap={}}}class iw{constructor(e,t){this.events=[],this.destroyed=!1,this.context=e,this.options=t}update(e){this.options=Object.assign(this.options,e)}destroy(){this.context={},this.options={},this.destroyed=!0}}class iO extends iw{}class iI extends iO{constructor(e,t){super(e,Object.assign({},iI.defaultOptions,t)),this.isOverlapping=(e,t)=>t.some(t=>e.intersects(t)),this.occupiedBounds=[],this.detectLabelCollision=e=>{let t=this.context.viewport,n={show:[],hide:[]};return this.occupiedBounds=[],e.forEach(e=>{let r=e.getShape("label").getRenderBounds();t.isInViewport(r,!0)&&!this.isOverlapping(r,this.occupiedBounds)?(n.show.push(e),this.occupiedBounds.push(io(r,this.options.padding))):n.hide.push(e)}),n},this.hideLabelIfExceedViewport=(e,t)=>{let{exit:n}=iS(e,t,e=>e.id);null==n||n.forEach(this.hideLabel)},this.nodeCentralities=new Map,this.sortNodesByCentrality=(e,t)=>{let{model:n}=this.context,r=n.getData(),i=n.getRelatedEdgesData.bind(n),o=e.map(e=>(this.nodeCentralities.has(e.id)||(this.nodeCentralities=im(r,i,t)),{node:e,centrality:this.nodeCentralities.get(e.id)}));return o.sort((e,t)=>t.centrality-e.centrality).map(e=>e.node)},this.sortLabelElementsInView=e=>{let{sort:t,sortNode:n,sortCombo:r,sortEdge:i}=this.options,{model:o}=this.context;if((0,r2.Z)(t))return e.sort((e,n)=>t(o.getElementDataById(e.id),o.getElementDataById(n.id)));let{node:a=[],edge:s=[],combo:l=[]}=(0,r3.Z)(e,e=>e.type),c=(0,r2.Z)(r)?l.sort((e,t)=>r(...o.getComboData([e.id,t.id]))):l,u=(0,r2.Z)(n)?a.sort((e,t)=>n(...o.getNodeData([e.id,t.id]))):this.sortNodesByCentrality(a,n),d=(0,r2.Z)(i)?s.sort((e,t)=>i(...o.getEdgeData([e.id,t.id]))):s;return[...c,...u,...d]},this.labelElementsInView=[],this.isFirstRender=!0,this.onToggleVisibility=e=>{var t;if((null===(t=e.data)||void 0===t?void 0:t.stage)==="zIndex")return;if(!this.validate(e)){this.hiddenElements.size>0&&(this.hiddenElements.forEach(this.showLabel),this.hiddenElements.clear());return}let n=this.isFirstRender?this.getLabelElements():this.getLabelElementsInView();this.hideLabelIfExceedViewport(this.labelElementsInView,n),this.labelElementsInView=n;let r=this.sortLabelElementsInView(this.labelElementsInView),{show:i,hide:o}=this.detectLabelCollision(r);for(let e=i.length-1;e>=0;e--)this.showLabel(i[e]);o.forEach(this.hideLabel)},this.hiddenElements=new Map,this.hideLabel=e=>{let t=e.getShape("label");t&&iA(t,"hidden"),this.hiddenElements.set(e.id,e)},this.showLabel=e=>{let t=e.getShape("label");t&&iA(t,"visible"),e.toFront(),this.hiddenElements.delete(e.id)},this.onTransform=(0,r5.Z)(this.onToggleVisibility,this.options.throttle,{leading:!0}),this.enableToggle=!0,this.toggle=e=>{this.enableToggle&&this.onToggleVisibility(e)},this.onBeforeRender=()=>{this.enableToggle=!1},this.onAfterRender=e=>{this.onToggleVisibility(e),this.enableToggle=!0},this.bindEvents()}update(e){this.unbindEvents(),super.update(e),this.bindEvents(),this.onToggleVisibility({})}getLabelElements(){let{elementMap:e}=this.context.element,t=[];for(let n in e){let r=e[n];r.isVisible()&&r.getShape("label")&&t.push(r)}return t}getLabelElementsInView(){let e=this.context.viewport;return this.getLabelElements().filter(t=>e.isInViewport(t.getShape("key").getRenderBounds()))}bindEvents(){let{graph:e}=this.context;e.on(pw.BEFORE_RENDER,this.onBeforeRender),e.on(pw.AFTER_RENDER,this.onAfterRender),e.on(pw.AFTER_DRAW,this.toggle),e.on(pw.AFTER_LAYOUT,this.toggle),e.on(pw.AFTER_TRANSFORM,this.onTransform)}unbindEvents(){let{graph:e}=this.context;e.off(pw.BEFORE_RENDER,this.onBeforeRender),e.off(pw.AFTER_RENDER,this.onAfterRender),e.off(pw.AFTER_DRAW,this.toggle),e.off(pw.AFTER_LAYOUT,this.toggle),e.off(pw.AFTER_TRANSFORM,this.onTransform)}validate(e){if(this.destroyed)return!1;let{enable:t}=this.options;return(0,r2.Z)(t)?t(e):!!t}destroy(){this.unbindEvents(),super.destroy()}}iI.defaultOptions={enable:!0,throttle:100,padding:0,sortNode:{type:"degree"}};let iL=[0,0,0];function iR(e,t){return e.map((e,n)=>e+t[n])}function ik(e,t){return e.map((e,n)=>e-t[n])}function iN(e,t){return"number"==typeof t?e.map(e=>e*t):e.map((e,n)=>e*t[n])}function iM(e,t){return"number"==typeof t?e.map(e=>e/t):e.map((e,n)=>e/t[n])}function iD(e,t){return e.map(e=>e*t)}function iP(e,t){return Math.sqrt(e.reduce((e,n,r)=>e+Math.pow(n-t[r]||0,2),0))}function iF(e,t){return e.reduce((e,n,r)=>e+Math.abs(n-t[r]),0)}function iB(e){let t=e.reduce((e,t)=>e+Math.pow(t,2),0);return e.map(e=>e/Math.sqrt(t))}function iU(e,t,n=!1){let r=e[0]*t[1]-e[1]*t[0],i=Math.acos(iN(e,t).reduce((e,t)=>e+t,0)/(iP(e,iL)*iP(t,iL)));return n&&r<0&&(i=2*Math.PI-i),i}function iz(e,t=!0){return t?[-e[1],e[0]]:[e[1],-e[0]]}function iZ(e,t){return e.map(e=>e%t)}function ij(e){return[e[0],e[1]]}function iH(e){return 2===e.length?[e[0],e[1],0]:e}function iG(e){let[t,n]=e;return t||n?Math.atan2(n,t):0}function iV(e,t){let[n,r]=e,[i,o]=t,a=ik(n,r),s=ik(i,o);return(function(e,t){let n=iH(e),r=iH(t);return[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]})(a,s).every(e=>0===e)}function i$(e,t,n=!1){if(iV(e,t))return;let[r,i]=e,[o,a]=t,s=((r[0]-o[0])*(o[1]-a[1])-(r[1]-o[1])*(o[0]-a[0]))/((r[0]-i[0])*(o[1]-a[1])-(r[1]-i[1])*(o[0]-a[0])),l=a[0]-o[0]?(r[0]-o[0]+s*(i[0]-r[0]))/(a[0]-o[0]):(r[1]-o[1]+s*(i[1]-r[1]))/(a[1]-o[1]);if(n||r7(s,0,1)&&r7(l,0,1))return[r[0]+s*(i[0]-r[0]),r[1]+s*(i[1]-r[1])]}function iW(e){if(Array.isArray(e))return r7(e[0],0,1)&&r7(e[1],0,1)?e:[.5,.5];let t=e.split("-"),n=t.includes("left")?0:t.includes("right")?1:.5,r=t.includes("top")?0:t.includes("bottom")?1:.5;return[n,r]}function iY(e){let{x:t=0,y:n=0,z:r=0}=e.style||{};return[+t,+n,+r]}function iq(e){let{x:t,y:n,z:r}=e.style||{};return void 0!==t||void 0!==n||void 0!==r}function iX(e,t="center"){let n=iW(t);return function(e,t){let[n,r]=t,{min:i,max:o}=e;return[i[0]+n*(o[0]-i[0]),i[1]+r*(o[1]-i[1])]}(e,n)}function iK(e){var t;return[e.x,e.y,null!==(t=e.z)&&void 0!==t?t:0]}function iQ(e){var t;return{x:e[0],y:e[1],z:null!==(t=e[2])&&void 0!==t?t:0}}function iJ(e,t=0){return e.map(e=>parseFloat(e.toFixed(t)))}function i0(e,t,n,r=!1){if((0,rM.Z)(e,t))return e;let i=r?ik(e,t):ik(t,e),o=iB(i),a=[o[0]*n,o[1]*n];return iR(ij(e),a)}function i1(e,t){return[2*t[0]-e[0],2*t[1]-e[1]]}function i2(e,t,n,r=!0,i=!1){for(let o=0;o<n.length;o++){let a=n[o],s=n[(o+1)%n.length];r&&(a=iR(t,a),s=iR(t,s));let l=i?i1(e,t):e,c=i$([t,l],[a,s]);if(c)return{point:c,line:[a,s]}}return{point:t,line:void 0}}function i3(e,t,n=!1){let r=t.center,i=n?i1(e,r):e,o=ik(i,t.center),a=Math.atan2(o[1],o[0]);if(isNaN(a))return r;let s=r9(t)/2,l=ie(t)/2,c=r[0]+s*Math.cos(a),u=r[1]+l*Math.sin(a);return[c,u]}function i5(e,t){let[n,r]=t[0],[i,o]=t[1],[a,s]=e,l=i-n,c=o-r;if(0===l&&0===c)return[n,r];let u=((a-n)*l+(s-r)*c)/(l*l+c*c);u>1?u=1:u<0&&(u=0);let d=n+u*l,p=r+u*c;return[d,p]}function i4(e,t=!0){let n=function(e){let t=e.reduce((e,t)=>iR(e,t),[0,0]);return iM(t,e.length)}(e);return e.sort(([e,r],[i,o])=>{let a=Math.atan2(r-n[1],e-n[0]),s=Math.atan2(o-n[1],i-n[0]);return t?s-a:a-s})}function i6(e,t){return[e,[e[0],t[1]],t,[t[0],e[1]]]}class i7{constructor(e,t,n){if(this.phase=t,this.pointerByTouch=[],this.initialDistance=null,this.emitter=e,i7.instance)return i7.callbacks[this.phase].push(n),i7.instance;this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.bindEvents(),i7.instance=this,i7.callbacks[this.phase].push(n)}bindEvents(){let{emitter:e}=this;e.on(pS.POINTER_DOWN,this.onPointerDown),e.on(pS.POINTER_MOVE,this.onPointerMove),e.on(pS.POINTER_UP,this.onPointerUp)}updatePointerPosition(e,t,n){let r=this.pointerByTouch.findIndex(t=>t.pointerId===e);r>=0&&(this.pointerByTouch[r]={x:t,y:n,pointerId:e})}onPointerDown(e){let{x:t,y:n}=e.client||{};if(void 0!==t&&void 0!==n&&(this.pointerByTouch.push({x:t,y:n,pointerId:e.pointerId}),"touch"===e.pointerType&&2===this.pointerByTouch.length)){i7.isPinching=!0;let t=this.pointerByTouch[0].x-this.pointerByTouch[1].x,n=this.pointerByTouch[0].y-this.pointerByTouch[1].y;this.initialDistance=Math.sqrt(t*t+n*n),i7.callbacks.pinchstart.forEach(t=>t(e,{scale:0}))}}onPointerMove(e){if(2!==this.pointerByTouch.length||null===this.initialDistance)return;let{x:t,y:n}=e.client||{};if(void 0===t||void 0===n)return;this.updatePointerPosition(e.pointerId,t,n);let r=this.pointerByTouch[0].x-this.pointerByTouch[1].x,i=this.pointerByTouch[0].y-this.pointerByTouch[1].y,o=Math.sqrt(r*r+i*i),a=o/this.initialDistance;i7.callbacks.pinchmove.forEach(t=>t(e,{scale:(a-1)*5}))}onPointerUp(e){var t;i7.callbacks.pinchend.forEach(t=>t(e,{scale:0})),i7.isPinching=!1,this.initialDistance=null,this.pointerByTouch=[],null===(t=i7.instance)||void 0===t||t.tryDestroy()}destroy(){this.emitter.off(pS.POINTER_DOWN,this.onPointerDown),this.emitter.off(pS.POINTER_MOVE,this.onPointerMove),this.emitter.off(pS.POINTER_UP,this.onPointerUp),i7.instance=null}off(e,t){let n=i7.callbacks[e].indexOf(t);n>-1&&i7.callbacks[e].splice(n,1),this.tryDestroy()}tryDestroy(){Object.values(i7.callbacks).every(e=>0===e.length)&&this.destroy()}}i7.isPinching=!1,i7.instance=null,i7.callbacks={pinchstart:[],pinchmove:[],pinchend:[]};let i8=e=>e.map(e=>(0,Y.Z)(e)?e.toLocaleLowerCase():e);class i9{constructor(e){this.map=new Map,this.boundHandlePinch=()=>{},this.recordKey=new Set,this.onKeyDown=e=>{(null==e?void 0:e.key)&&(this.recordKey.add(e.key),this.trigger(e))},this.onKeyUp=e=>{(null==e?void 0:e.key)&&this.recordKey.delete(e.key)},this.onWheel=e=>{this.triggerExtendKey(pS.WHEEL,e)},this.onDrag=e=>{this.triggerExtendKey(pS.DRAG,e)},this.handlePinch=(e,t)=>{this.triggerExtendKey(pS.PINCH,Object.assign(Object.assign({},e),t))},this.onFocus=()=>{this.recordKey.clear()},this.emitter=e,this.bindEvents()}bind(e,t){0!==e.length&&(e.includes(pS.PINCH)&&!this.pinchHandler&&(this.boundHandlePinch=this.handlePinch.bind(this),this.pinchHandler=new i7(this.emitter,"pinchmove",this.boundHandlePinch)),this.map.set(e,t))}unbind(e,t){this.map.forEach((n,r)=>{(0,rM.Z)(r,e)&&(!t||t===n)&&this.map.delete(r)})}unbindAll(){this.map.clear()}match(e){let t=i8(Array.from(this.recordKey)).sort(),n=i8(e).sort();return(0,rM.Z)(t,n)}bindEvents(){var e;let{emitter:t}=this;t.on(pS.KEY_DOWN,this.onKeyDown),t.on(pS.KEY_UP,this.onKeyUp),t.on(pS.WHEEL,this.onWheel),t.on(pS.DRAG,this.onDrag),null===(e=globalThis.addEventListener)||void 0===e||e.call(globalThis,"focus",this.onFocus)}trigger(e){this.map.forEach((t,n)=>{this.match(n)&&t(e)})}triggerExtendKey(e,t){this.map.forEach((n,r)=>{r.includes(e)&&(0,rM.Z)(Array.from(this.recordKey),r.filter(t=>t!==e))&&n(t)})}destroy(){var e,t;this.unbindAll(),this.emitter.off(pS.KEY_DOWN,this.onKeyDown),this.emitter.off(pS.KEY_UP,this.onKeyUp),this.emitter.off(pS.WHEEL,this.onWheel),this.emitter.off(pS.DRAG,this.onDrag),null===(e=this.pinchHandler)||void 0===e||e.off("pinchmove",this.boundHandlePinch),null===(t=globalThis.removeEventListener)||void 0===t||t.call(globalThis,"blur",this.onFocus)}}class oe extends iO{constructor(e,t){super(e,(0,G.Z)({},oe.defaultOptions,t)),this.shortcut=new i9(e.graph),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.clearStates=this.clearStates.bind(this),this.bindEvents()}onPointerDown(e){if(!this.validate(e)||!this.isKeydown()||this.startPoint)return;let{canvas:t,graph:n}=this.context,r=Object.assign({},this.options.style);this.options.style.lineWidth&&(r.lineWidth=+this.options.style.lineWidth/n.getZoom()),this.rectShape=new ew.UL({id:"g6-brush-select",style:r}),t.appendChild(this.rectShape),this.startPoint=[e.canvas.x,e.canvas.y]}onPointerMove(e){var t;if(!this.startPoint)return;let{immediately:n,mode:r}=this.options;this.endPoint=ot(e),null===(t=this.rectShape)||void 0===t||t.attr({x:Math.min(this.endPoint[0],this.startPoint[0]),y:Math.min(this.endPoint[1],this.startPoint[1]),width:Math.abs(this.endPoint[0]-this.startPoint[0]),height:Math.abs(this.endPoint[1]-this.startPoint[1])}),n&&"default"===r&&this.updateElementsStates(i6(this.startPoint,this.endPoint))}onPointerUp(e){if(this.startPoint){if(!this.endPoint){this.clearBrush();return}this.endPoint=ot(e),this.updateElementsStates(i6(this.startPoint,this.endPoint)),this.clearBrush()}}clearStates(){this.endPoint||this.clearElementsStates()}clearElementsStates(){let{graph:e}=this.context,t=Object.values(e.getData()).reduce((e,t)=>Object.assign({},e,t.reduce((e,t)=>{var n;let r=null===(n=t.states||[])||void 0===n?void 0:n.filter(e=>e!==this.options.state);return e[ih(t)]=r,e},{})),{});e.setElementState(t,this.options.animation)}updateElementsStates(e){let{graph:t}=this.context,{enableElements:n,state:r,mode:i,onSelect:o}=this.options,a=this.selector(t,e,n),s={};switch(i){case"union":a.forEach(e=>{s[e]=[...t.getElementState(e),r]});break;case"diff":a.forEach(e=>{let n=t.getElementState(e);s[e]=n.includes(r)?n.filter(e=>e!==r):[...n,r]});break;case"intersect":a.forEach(e=>{let n=t.getElementState(e);s[e]=n.includes(r)?[r]:[]});break;default:a.forEach(e=>{s[e]=[r]})}(0,r2.Z)(o)&&(s=o(s)),t.setElementState(s,this.options.animation)}selector(e,t,n){if(!n||0===n.length)return[];let r=[],i=e.getData();if(n.forEach(n=>{i[`${n}s`].forEach(n=>{let i=ih(n);"hidden"!==e.getElementVisibility(i)&&function(e,t,n,r){let i=e[0],o=e[1],a=!1;void 0===n&&(n=0),void 0===r&&(r=t.length);let s=r-n;for(let e=0,r=s-1;e<s;r=e++){let s=t[e+n][0],l=t[e+n][1],c=t[r+n][0],u=t[r+n][1],d=l>o!=u>o&&i<(c-s)*(o-l)/(u-l)+s;d&&(a=!a)}return a}(e.getElementPosition(i),t)&&r.push(i)})}),n.includes("edge")){let e=i.edges;null==e||e.forEach(e=>{let{source:t,target:n}=e;r.includes(t)&&r.includes(n)&&r.push(ih(e))})}return r}clearBrush(){var e;null===(e=this.rectShape)||void 0===e||e.remove(),this.rectShape=void 0,this.startPoint=void 0,this.endPoint=void 0}isKeydown(){let{trigger:e}=this.options,t=Array.isArray(e)?e:[e];return this.shortcut.match(t.filter(e=>"drag"!==e))}validate(e){if(this.destroyed)return!1;let{enable:t}=this.options;return(0,r2.Z)(t)?t(e):!!t}bindEvents(){let{graph:e}=this.context;e.on(pS.POINTER_DOWN,this.onPointerDown),e.on(pS.POINTER_MOVE,this.onPointerMove),e.on(pS.POINTER_UP,this.onPointerUp),e.on(pT.CLICK,this.clearStates)}unbindEvents(){let{graph:e}=this.context;e.off(pS.POINTER_DOWN,this.onPointerDown),e.off(pS.POINTER_MOVE,this.onPointerMove),e.off(pS.POINTER_UP,this.onPointerUp),e.off(pT.CLICK,this.clearStates)}update(e){this.unbindEvents(),this.options=(0,G.Z)(this.options,e),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}oe.defaultOptions={animation:!1,enable:!0,enableElements:["node","combo","edge"],immediately:!1,mode:"default",state:"selected",trigger:["shift"],style:{width:0,height:0,lineWidth:1,fill:"#1677FF",stroke:"#1677FF",fillOpacity:.1,zIndex:2,pointerEvents:"none"}};let ot=e=>[e.canvas.x,e.canvas.y],on=["node","edge","combo"];function or(e,t,n,r,i=0){"TB"===r&&t(e,i);let o=n(e);if(o)for(let e of o)or(e,t,n,r,i+1);"BT"===r&&t(e,i)}function oi(e,t,n,r,i="both"){if("combo"===t||"node"===t)return oo(e,n,r,i);let o=e.getEdgeData(n);if(!o)return[];let a=oo(e,o.source,r-1,i),s=oo(e,o.target,r-1,i);return Array.from(new Set([...a,...s,n]))}function oo(e,t,n,r="both"){let i=new Set,o=new Set,a=new Set;return!function(e,t,n){let r=[[e,0]];for(;r.length;){let[e,i]=r.shift();t(e,i);let o=n(e);if(o)for(let e of o)r.push([e,i+1])}}(t,(t,i)=>{i>n||(a.add(t),e.getRelatedEdgesData(t,r).forEach(e=>{let t=ih(e);!o.has(t)&&i<n&&(a.add(t),o.add(t))}))},t=>e.getRelatedEdgesData(t,r).map(e=>e.source===t?e.target:e.source).filter(e=>!i.has(e)&&(i.add(e),!0))),Array.from(a)}function oa(e){return e.states||[]}var os=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class ol extends iO{constructor(e,t){super(e,Object.assign({},ol.defaultOptions,t)),this.onClickSelect=e=>os(this,void 0,void 0,function*(){var t,n;this.validate(e)&&(yield this.updateState(e),null===(n=(t=this.options).onClick)||void 0===n||n.call(t,e))}),this.onClickCanvas=e=>os(this,void 0,void 0,function*(){var t,n;this.validate(e)&&(yield this.clearState(),null===(n=(t=this.options).onClick)||void 0===n||n.call(t,e))}),this.shortcut=new i9(e.graph),this.bindEvents()}bindEvents(){let{graph:e}=this.context;this.unbindEvents(),on.forEach(t=>{e.on(`${t}:${pS.CLICK}`,this.onClickSelect)}),e.on(pT.CLICK,this.onClickCanvas)}get isMultipleSelect(){let{multiple:e,trigger:t}=this.options;return e&&this.shortcut.match(t)}getNeighborIds(e){let{target:t,targetType:n}=e,{graph:r}=this.context,{degree:i}=this.options;return oi(r,n,t.id,"function"==typeof i?i(e):i).filter(e=>e!==t.id)}updateState(e){return os(this,void 0,void 0,function*(){let{state:t,unselectedState:n,neighborState:r,animation:i}=this.options;if(!t&&!r&&!n)return;let{target:o}=e,{graph:a}=this.context,s=a.getElementData(o.id),l=oa(s).includes(t)?"unselect":"select",c={},u=this.isMultipleSelect,d=[o.id],p=this.getNeighborIds(e);if(u){if(Object.assign(c,this.getDataStates()),"select"===l){let e=(e,t)=>{e.forEach(e=>{let r=new Set(a.getElementState(e));r.add(t),r.delete(n),c[e]=Array.from(r)})};e(d,t),e(p,r),n&&Object.keys(c).forEach(e=>{let i=c[e];i.includes(t)||i.includes(r)||i.includes(n)||c[e].push(n)})}else{let e=c[o.id];c[o.id]=e.filter(e=>e!==t&&e!==r),e.includes(n)||c[o.id].push(n),p.forEach(e=>{c[e]=c[e].filter(e=>e!==r),c[e].includes(t)||c[e].push(n)})}}else if("select"===l){Object.assign(c,this.getClearStates(!!n));let e=(e,t)=>{e.forEach(e=>{c[e]||(c[e]=a.getElementState(e)),c[e].push(t)})};e(d,t),e(p,r),n&&Object.keys(c).forEach(e=>{d.includes(e)||p.includes(e)||c[e].push(n)})}else Object.assign(c,this.getClearStates());yield a.setElementState(c,i)})}getDataStates(){let{graph:e}=this.context,{nodes:t,edges:n,combos:r}=e.getData(),i={};return[...t,...n,...r].forEach(e=>{i[ih(e)]=oa(e)}),i}getClearStates(e=!1){let{graph:t}=this.context,{state:n,unselectedState:r,neighborState:i}=this.options,o=new Set([n,r,i]),{nodes:a,edges:s,combos:l}=t.getData(),c={};return[...a,...s,...l].forEach(t=>{let n=oa(t),r=n.filter(e=>!o.has(e));e?c[ih(t)]=r:r.length!==n.length&&(c[ih(t)]=r)}),c}clearState(){return os(this,void 0,void 0,function*(){let{graph:e}=this.context;yield e.setElementState(this.getClearStates(),this.options.animation)})}validate(e){if(this.destroyed)return!1;let{enable:t}=this.options;return(0,r2.Z)(t)?t(e):!!t}unbindEvents(){let{graph:e}=this.context;on.forEach(t=>{e.off(`${t}:${pS.CLICK}`,this.onClickSelect)}),e.off(pT.CLICK,this.onClickCanvas)}destroy(){this.unbindEvents(),super.destroy()}}function oc(e){var t;return!!(null===(t=e.style)||void 0===t?void 0:t.collapsed)}ol.defaultOptions={animation:!0,enable:!0,multiple:!1,trigger:["shift"],state:"selected",neighborState:"selected",unselectedState:void 0,degree:0};var ou=n(58871),od=n(76109);function op(e,t){if(!e.startsWith(t))return!1;let n=e[t.length];return n>="A"&&n<="Z"}function oh(e,t){let n=Object.entries(e).reduce((e,[n,r])=>("className"===n||"class"===n||op(n,t)&&Object.assign(e,{[function(e,t,n=!0){if(!t||!op(e,t))return e;let r=e.slice(t.length);return n?(0,od.Z)(r):r}(n,t)]:r}),e),{});if("opacity"in e){let r=`${t}${(0,rk.Z)("opacity")}`,i=e.opacity;if(r in e){let t=e[r];Object.assign(n,{opacity:i*t})}else Object.assign(n,{opacity:i})}return n}function of(e,t){let n=t.length;return Object.keys(e).reduce((r,i)=>{if(i.startsWith(t)){let t=i.slice(n);r[t]=e[i]}return r},{})}function og(e,t){let n="string"==typeof t?[t]:t,r={};return Object.keys(e).forEach(t=>{n.find(e=>t.startsWith(e))||(r[t]=e[t])}),r}function om(e=0){if("number"==typeof e)return[e,e,e];let[t,n=t,r=t]=e;return[t,n,r]}var ob=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function ov(e,t){let{datum:n,graph:r}=t;return"function"==typeof e?e.call(r,n):Object.fromEntries(Object.entries(e).map(([e,t])=>"function"==typeof t?[e,t.call(r,n)]:[e,t]))}function oy(e,t){let n=(null==e?void 0:e.style)||{},r=(null==t?void 0:t.style)||{};for(let e in n)e in r||(r[e]=n[e]);return Object.assign({},e,t,{style:r})}function oE(e){if(e)return"string"==typeof e||"function"==typeof e||Array.isArray(e)?{type:"group",field:e=>e.id,color:e,invert:!1}:e}function o_(e){let t="string"==typeof e?rZ("palette",e):e;if("function"!=typeof t)return t}function oT(e,t){let n=2*e;return"string"==typeof t?n=e*Number(t.replace("%",""))/100:"number"==typeof t&&(n=t),isNaN(n)&&(n=2*e),n}function ox(e,t,n=1,r=!1){let i=(e.max[0]-e.min[0])*(r?n:1);return oT(i,t)}var oS=n(2581);class oA extends ew.b_{constructor(e){ow(e.style),super(e),this.shapeMap={},this.animateMap={},this.render(this.attributes,this),this.setVisibility(),this.bindEvents()}get parsedAttributes(){return this.attributes}upsert(e,t,n,r,i){var o,a,s,l,c,u,d,p;let h=this.shapeMap[e];if(!1===n){h&&(null===(o=null==i?void 0:i.beforeDestroy)||void 0===o||o.call(i,h),r.removeChild(h),delete this.shapeMap[e],null===(a=null==i?void 0:i.afterDestroy)||void 0===a||a.call(i,h));return}let f="string"==typeof t?rZ(pL.SHAPE,t):t;if(!f)throw Error(rj(`Shape ${t} not found`));if(!h||h.destroyed||!(h instanceof f)){h&&(null===(s=null==i?void 0:i.beforeDestroy)||void 0===s||s.call(i,h),null==h||h.destroy(),null===(l=null==i?void 0:i.afterDestroy)||void 0===l||l.call(i,h)),null===(c=null==i?void 0:i.beforeCreate)||void 0===c||c.call(i);let t=new f({className:e,style:n});return r.appendChild(t),this.shapeMap[e]=t,null===(u=null==i?void 0:i.afterCreate)||void 0===u||u.call(i,t),t}return null===(d=null==i?void 0:i.beforeUpdate)||void 0===d||d.call(i,h),a4(h,n),null===(p=null==i?void 0:i.afterUpdate)||void 0===p||p.call(i,h),h}update(e={}){let t=Object.assign({},this.attributes,e);ow(t),function(e,t){let{zIndex:n,transform:r,transformOrigin:i,visibility:o,cursor:a,clipPath:s,component:l}=t,c=aV(t,["zIndex","transform","transformOrigin","visibility","cursor","clipPath","component"]);Object.assign(e.attributes,c),r&&e.setAttribute("transform",r),(0,rq.Z)(n)&&e.setAttribute("zIndex",n),i&&e.setAttribute("transformOrigin",i),o&&e.setAttribute("visibility",o),a&&e.setAttribute("cursor",a),s&&e.setAttribute("clipPath",s),l&&e.setAttribute("component",l)}(this,t),this.render(t,this),this.setVisibility()}bindEvents(){}getGraphicStyle(e){return function(e){let{x:t,y:n,z:r,class:i,className:o,transform:a,transformOrigin:s,zIndex:l,visibility:c}=e,u=ob(e,["x","y","z","class","className","transform","transformOrigin","zIndex","visibility"]);return u}(e)}get compositeShapes(){return[["badges","badge-"],["ports","port-"]]}animate(e,t){if(0===e.length)return null;let n=[];if(void 0!==e[0].x||void 0!==e[0].y||void 0!==e[0].z){let{x:t=0,y:n=0,z:r=0}=this.attributes;e.forEach(e=>{let{x:i=t,y:o=n,z:a=r}=e;Object.assign(e,{transform:a?[["translate3d",i,o,a]]:[["translate",i,o]]})})}let r=super.animate(e,t);if(r&&(oC(this,r),n.push(r)),Array.isArray(e)&&e.length>0){let r=["transform","transformOrigin","x","y","z","zIndex"];if(Object.keys(e[0]).some(e=>!r.includes(e))){Object.entries(this.shapeMap).forEach(([r,i])=>{let o=`get${(0,rk.Z)(r)}Style`,a=this[o];if((0,r2.Z)(a)){let r=e.map(e=>a.call(this,Object.assign(Object.assign({},this.attributes),e))),o=i.animate(r$(r),t);o&&(oC(i,o),n.push(o))}});let r=(r,i)=>{if(!(0,oS.Z)(r)){let o=`get${(0,rk.Z)(i)}Style`,a=this[o];if((0,r2.Z)(a)){let i=e.map(e=>a.call(this,Object.assign(Object.assign({},this.attributes),e)));Object.entries(i[0]).map(([e])=>{let o=i.map(t=>t[e]),a=r[e];if(a){let e=a.animate(r$(o),t);e&&(oC(a,e),n.push(e))}})}}};this.compositeShapes.forEach(([e,t])=>{let n=of(this.shapeMap,t);r(n,e)})}}return rV(n)}getShape(e){return this.shapeMap[e]}setVisibility(){let{visibility:e}=this.attributes;iA(this,e)}destroy(){this.shapeMap={},this.animateMap={},super.destroy()}}function oC(e,t){null==t||t.finished.then(()=>{let n=e.activeAnimations.findIndex(e=>e===t);n>-1&&e.activeAnimations.splice(n,1)})}function ow(e){if(!e)return{};if("x"in e||"y"in e||"z"in e){let{x:t=0,y:n=0,z:r,transform:i}=e,o=rX(t,n,r,i);o&&(e.transform=o)}return e}var oO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class oI extends oA{constructor(e){super(oy({style:oI.defaultStyleProps},e))}isTextStyle(e){return op(e,"label")}isBackgroundStyle(e){return op(e,"background")}getTextStyle(e){let t=this.getGraphicStyle(e),{padding:n}=t,r=oO(t,["padding"]);return og(r,"background")}getBackgroundStyle(e){if(!1===e.background)return!1;let t=this.getGraphicStyle(e),{wordWrap:n,wordWrapWidth:r,padding:i}=t,o=oh(t,"background"),{min:[a,s],center:[l,c],halfExtents:[u,d]}=this.shapeMap.text.getGeometryBounds(),[p,h,f,g]=r8(i),m=2*u+g+h,{width:b,height:v}=o;b&&v?Object.assign(o,{x:l-Number(b)/2,y:c-Number(v)/2}):Object.assign(o,{x:a-g,y:s-p,width:n?Math.min(m,r+g+h):m,height:2*d+p+f});let{radius:y}=o;if("string"==typeof y&&y.endsWith("%")){let e=Number(y.replace("%",""))/100;o.radius=Math.min(+o.width,+o.height)*e}return o}render(e=this.parsedAttributes,t=this){this.upsert("text",ew.xv,this.getTextStyle(e),t),this.upsert("background",ew.UL,this.getBackgroundStyle(e),t)}getGeometryBounds(){let e=this.getShape("background")||this.getShape("text");return e.getGeometryBounds()}}oI.defaultStyleProps={padding:0,fontSize:12,fontFamily:"system-ui, sans-serif",wordWrap:!0,maxLines:1,wordWrapWidth:128,textOverflow:"...",textBaseline:"middle",backgroundOpacity:.75,backgroundZIndex:-1,backgroundLineWidth:0};class oL extends oA{constructor(e){super(oy({style:oL.defaultStyleProps},e))}getBadgeStyle(e){return this.getGraphicStyle(e)}render(e=this.parsedAttributes,t=this){this.upsert("label",oI,this.getBadgeStyle(e),t)}getGeometryBounds(){let e=this.getShape("label"),t=e.getShape("background")||e.getShape("text");return t.getGeometryBounds()}}oL.defaultStyleProps={padding:[2,4,2,4],fontSize:10,wordWrap:!1,backgroundRadius:"50%",backgroundOpacity:1};let oR={M:["x","y"],m:["dx","dy"],H:["x"],h:["dx"],V:["y"],v:["dy"],L:["x","y"],l:["dx","dy"],Z:[],z:[],C:["x1","y1","x2","y2","x","y"],c:["dx1","dy1","dx2","dy2","dx","dy"],S:["x2","y2","x","y"],s:["dx2","dy2","dx","dy"],Q:["x1","y1","x","y"],q:["dx1","dy1","dx","dy"],T:["x","y"],t:["dx","dy"],A:["rx","ry","rotation","large-arc","sweep","x","y"],a:["rx","ry","rotation","large-arc","sweep","dx","dy"]},ok=e=>{if(e.length<2)return[["M",0,0],["L",0,0]];let t=e[0],n=e[1],r=e[e.length-1],i=e[e.length-2];e.unshift(i,r),e.push(t,n);let o=[["M",r[0],r[1]]];for(let t=1;t<e.length-2;t+=1){let[n,r]=e[t-1],[i,a]=e[t],[s,l]=e[t+1],[c,u]=t!==e.length-2?e[t+2]:[s,l],d=i+(s-n)/6,p=a+(l-r)/6,h=s-(c-i)/6,f=l-(u-a)/6;o.push(["C",d,p,h,f,s,l])}return o};var oN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class oM extends oA{constructor(e){super(oy({style:oM.defaultStyleProps},e))}getLabelStyle(e){if(!e.label||!e.d||0===e.d.length)return!1;let t=oh(this.getGraphicStyle(e),"label"),{maxWidth:n,offsetX:r,offsetY:i,autoRotate:o,placement:a,closeToPath:s}=t,l=oN(t,["maxWidth","offsetX","offsetY","autoRotate","placement","closeToPath"]),c=this.shapeMap.key,u=null==c?void 0:c.getRenderBounds();return Object.assign(function(e,t,n,r,i,o,a){var s;let l,c;let[u,d]=iX(e,t),p={textAlign:"left"===t?"right":"right"===t?"left":"center",textBaseline:"top"===t?"bottom":"bottom"===t?"top":"middle",transform:[["translate",u+n,d+r]]};if("center"===t||!i)return p;let h=function(e){let t=[],n="string"==typeof e?function(e){let t=e.replace(/[\n\r]/g,"").replace(/-/g," -").replace(/(\d*\.)(\d+)(?=\.)/g,"$1$2 ").trim().split(/\s*,|\s+/),n=[],r="",i={};for(;t.length>0;){let e=t.shift();e in oR?r=e:t.unshift(e),i={type:r},oR[r].forEach(n=>{e=t.shift(),i[n]=e}),"M"===r?r="L":"m"===r&&(r="l");let[o,...a]=Object.values(i);n.push([o,...a.map(Number)])}return n}(e):e;return n.forEach(e=>{let n=e[0];if("Z"===n){t.push(t[0]);return}if("A"!==n)for(let n=1;n<e.length;n+=2)t.push([e[n],e[n+1],0]);else{let n=e.length;t.push([e[n-2],e[n-1],0])}}),t}(o);if(!h||h.length<=3)return p;let f=h.map((e,t)=>{let n=h[(t+1)%h.length];return(0,rM.Z)(e,n)?null:[e,n]}).filter(Boolean),g=(s=[u,d],l=1/0,c=[[0,0],[0,0]],f.forEach(e=>{let t=function(e,t){let n=i5(e,t);return iP(e,n)}(s,e);t<l&&(l=t,c=e)}),c),m=i5([u,d],g);if(m&&g&&(p.transform=[["translate",m[0]+n,m[1]+r]],a)){let e=Math.atan((g[0][1]-g[1][1])/(g[0][0]-g[1][0]));p.transform.push(["rotate",e/Math.PI*180]),p.textAlign="center",("right"===t||"left"===t)&&(e>0?p.textBaseline="right"===t?"bottom":"top":p.textBaseline="right"===t?"top":"bottom")}return p}(u,a,r,i,s,e.d,o),{wordWrapWidth:ox(u,n)},l)}getKeyStyle(e){return this.getGraphicStyle(e)}render(e,t){this.upsert("key",ew.y$,this.getKeyStyle(e),t),this.upsert("label",oI,this.getLabelStyle(e),t)}}oM.defaultStyleProps={label:!0,labelPlacement:"bottom",labelCloseToPath:!0,labelAutoRotate:!0,labelOffsetX:0,labelOffsetY:0};class oD extends ew.Ee{constructor(e){super(e),this.onMounted=()=>{this.handleRadius()},this.onAttrModified=()=>{this.handleRadius()},oF=this,this.isMutationObserved=!0,this.addEventListener(ew.Dk.MOUNTED,this.onMounted),this.addEventListener(ew.Dk.ATTR_MODIFIED,this.onAttrModified)}handleRadius(){let{radius:e,clipPath:t,width:n=0,height:r=0}=this.attributes;if(e&&n&&r){let[i,o]=this.getBounds().min,a={x:i,y:o,radius:e,width:n,height:r};if(t)Object.assign(this.parsedStyle.clipPath.style,a);else{let e=new ew.UL({style:a});this.style.clipPath=e}}else t&&(this.style.clipPath=null)}}let oP=new WeakMap,oF=null,oB=e=>{if(oF&&(function(e){let t=[],n=e.parentNode;for(;n;)t.push(n),n=n.parentNode;return t})(oF).includes(e)){let t=oP.get(e);t?t.includes(oF)||t.push(oF):oP.set(e,[oF])}},oU=e=>{let t=oP.get(e);t&&t.forEach(e=>e.handleRadius())};class oz extends oA{constructor(e){super(e)}isImage(){let{src:e}=this.attributes;return!!e}getIconStyle(e=this.attributes){let{width:t=0,height:n=0}=e,r=this.getGraphicStyle(e);return this.isImage()?Object.assign({x:-t/2,y:-n/2},r):Object.assign({textBaseline:"middle",textAlign:"center"},r)}render(e=this.attributes,t=this){this.upsert("icon",this.isImage()?oD:ew.xv,this.getIconStyle(e),t)}}class oZ extends oA{get context(){return this.config.context}get parsedAttributes(){return this.attributes}onframe(){}animate(e,t){let n=super.animate(e,t);return n&&(n.onframe=()=>this.onframe(),n.finished.then(()=>this.onframe())),n}}var oj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class oH extends oZ{constructor(e){super(oy({style:oH.defaultStyleProps},e)),this.type="node"}getSize(e=this.attributes){let{size:t}=e;return om(t)}getKeyStyle(e){let t=this.getGraphicStyle(e);return Object.assign(og(t,["label","halo","icon","badge","port"]))}getLabelStyle(e){if(!1===e.label||!e.labelText)return!1;let t=oh(this.getGraphicStyle(e),"label"),{placement:n,maxWidth:r,offsetX:i,offsetY:o}=t,a=oj(t,["placement","maxWidth","offsetX","offsetY"]),s=this.getShape("key").getLocalBounds();return Object.assign(a5(s,n,i,o),{wordWrapWidth:ox(s,r)},a)}getHaloStyle(e){if(!1===e.halo)return!1;let t=this.getKeyStyle(e),{fill:n}=t,r=oj(t,["fill"]),i=oh(this.getGraphicStyle(e),"halo");return Object.assign(Object.assign(Object.assign({},r),{stroke:n}),i)}getIconStyle(e){if(!1===e.icon||!e.iconText&&!e.iconSrc)return!1;let t=oh(this.getGraphicStyle(e),"icon");return Object.assign(function(e,t){let n=om(e),r={};return t.text&&!t.fontSize&&(r={fontSize:.5*Math.min(...n)}),!t.src||t.width&&t.height||(r={width:.5*n[0],height:.5*n[1]}),r}(e.size,t),t)}getBadgesStyle(e){var t;let n=of(this.shapeMap,"badge-"),r={};if(Object.keys(n).forEach(e=>{r[e]=!1}),!1===e.badge||!(null===(t=e.badges)||void 0===t?void 0:t.length))return r;let{badges:i=[],badgePalette:o,opacity:a=1}=e,s=oj(e,["badges","badgePalette","opacity"]),l=o_(o),c=oh(this.getGraphicStyle(s),"badge");return i.forEach((e,t)=>{r[t]=Object.assign(Object.assign({backgroundFill:l?l[t%(null==l?void 0:l.length)]:void 0,opacity:a},c),this.getBadgeStyle(e))}),r}getBadgeStyle(e){let t=this.getShape("key"),{placement:n="top",offsetX:r,offsetY:i}=e,o=oj(e,["placement","offsetX","offsetY"]),a=a5(t.getLocalBounds(),n,r,i,!0);return Object.assign(Object.assign({},a),o)}getPortsStyle(e){var t;let n=this.getPorts(),r={};if(Object.keys(n).forEach(e=>{r[e]=!1}),!1===e.port||!(null===(t=e.ports)||void 0===t?void 0:t.length))return r;let i=oh(this.getGraphicStyle(e),"port"),{ports:o=[]}=e;return o.forEach((t,n)=>{let o=t.key||n,a=Object.assign(Object.assign({},i),t);if(aQ(a))r[o]=!1;else{let[n,i]=this.getPortXY(e,t);r[o]=Object.assign({transform:[["translate",n,i]]},a)}}),r}getPortXY(e,t){let{placement:n="left"}=t,r=this.getShape("key");return aX(function(e,t){if(!e)return t.getLocalBounds();let n=e.canvas.getLayer(),r=t.cloneNode();iA(r,"hidden"),n.appendChild(r);let i=r.getLocalBounds();return r.destroy(),i}(this.context,r),n)}getPorts(){return of(this.shapeMap,"port-")}getCenter(){return this.getShape("key").getBounds().center}getIntersectPoint(e,t=!1){let n=this.getShape("key").getBounds();return function(e,t,n=!1){let r=iX(t,"center"),i=[iX(t,"left-top"),iX(t,"right-top"),iX(t,"right-bottom"),iX(t,"left-bottom")];return i2(e,r,i,!1,n).point}(e,n,t)}drawHaloShape(e,t){let n=this.getHaloStyle(e),r=this.getShape("key");this.upsert("halo",r.constructor,n,t)}drawIconShape(e,t){let n=this.getIconStyle(e);this.upsert("icon",oz,n,t),oB(this)}drawBadgeShapes(e,t){let n=this.getBadgesStyle(e);Object.keys(n).forEach(e=>{let r=n[e];this.upsert(`badge-${e}`,oL,r,t)})}drawPortShapes(e,t){let n=this.getPortsStyle(e);Object.keys(n).forEach(e=>{let r=n[e],i=`port-${e}`;this.upsert(i,ew.Cd,r,t)})}drawLabelShape(e,t){let n=this.getLabelStyle(e);this.upsert("label",oI,n,t)}_drawKeyShape(e,t){return this.drawKeyShape(e,t)}render(e=this.parsedAttributes,t=this){this._drawKeyShape(e,t),this.getShape("key")&&(this.drawHaloShape(e,t),this.drawIconShape(e,t),this.drawBadgeShapes(e,t),this.drawLabelShape(e,t),this.drawPortShapes(e,t))}update(e){super.update(e),e&&("x"in e||"y"in e||"z"in e)&&oU(this)}onframe(){this.drawBadgeShapes(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this)}}oH.defaultStyleProps={x:0,y:0,size:32,droppable:!0,draggable:!0,port:!0,ports:[],portZIndex:2,portLinkToCenter:!1,badge:!0,badges:[],badgeZIndex:3,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloStrokeOpacity:.25,haloPointerEvents:"none",haloZIndex:-1,icon:!0,iconZIndex:1,label:!0,labelIsBillboard:!0,labelMaxWidth:"200%",labelPlacement:"bottom",labelWordWrap:!1,labelZIndex:0};class oG extends oH{constructor(e){super(oy({style:oG.defaultStyleProps},e))}drawKeyShape(e,t){return this.upsert("key",ew.Cd,this.getKeyStyle(e),t)}getKeyStyle(e){let t=super.getKeyStyle(e);return Object.assign(Object.assign({},t),{r:Math.min(...this.getSize(e))/2})}getIconStyle(e){let t=super.getIconStyle(e),{r:n}=this.getShape("key").attributes,r=2*n*.8;return!!t&&Object.assign({width:r,height:r},t)}getIntersectPoint(e,t=!1){let n=this.getShape("key").getBounds();return i3(e,n,t)}}oG.defaultStyleProps={size:32};class oV extends oH{constructor(e){super(e)}get parsedAttributes(){return this.attributes}drawKeyShape(e,t){return this.upsert("key",ew.mg,this.getKeyStyle(e),t)}getKeyStyle(e){let t=super.getKeyStyle(e);return Object.assign(Object.assign({},t),{points:this.getPoints(e)})}getIntersectPoint(e,t=!1){var n,r;let{points:i}=this.getShape("key").attributes,o=[+((null===(n=this.attributes)||void 0===n?void 0:n.x)||0),+((null===(r=this.attributes)||void 0===r?void 0:r.y)||0)];return i2(e,o,i,!0,t).point}}var o$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class oW extends oG{constructor(e){super(oy({style:oW.defaultStyleProps},e))}parseOuterR(){let{size:e}=this.parsedAttributes;return Math.min(...om(e))/2}parseInnerR(){let{innerR:e}=this.parsedAttributes;return(0,Y.Z)(e)?parseInt(e)/100*this.parseOuterR():e}drawDonutShape(e,t){let{donuts:n}=e;if(!(null==n?void 0:n.length))return;let r=n.map(e=>(0,rq.Z)(e)?{value:e}:e),i=oh(this.getGraphicStyle(e),"donut"),o=o_(e.donutPalette);if(!o)return;let a=r.reduce((e,t)=>{var n;return e+(null!==(n=t.value)&&void 0!==n?n:0)},0),s=this.parseOuterR(),l=this.parseInnerR(),c=0;r.forEach((e,n)=>{let{value:u=0,color:d=o[n%o.length]}=e,p=o$(e,["value","color"]),h=(0===a?1/r.length:u/a)*360;this.upsert(`round${n}`,ew.y$,Object.assign(Object.assign(Object.assign({},i),{d:oK(s,l,c,c+h),fill:d}),p),t),c+=h})}render(e,t=this){super.render(e,t),this.drawDonutShape(e,t)}}oW.defaultStyleProps={innerR:"50%",donuts:[],donutPalette:"tableau"};let oY=(e,t,n,r)=>[e+Math.sin(r)*n,t-Math.cos(r)*n],oq=(e,t,n,r)=>r<=0||n<=r?[["M",e-n,t],["A",n,n,0,1,1,e+n,t],["A",n,n,0,1,1,e-n,t],["Z"]]:[["M",e-n,t],["A",n,n,0,1,1,e+n,t],["A",n,n,0,1,1,e-n,t],["Z"],["M",e+r,t],["A",r,r,0,1,0,e-r,t],["A",r,r,0,1,0,e+r,t],["Z"]],oX=(e,t,n,r,i,o)=>{let[a,s]=[i/360*2*Math.PI,o/360*2*Math.PI],l=[oY(e,t,r,a),oY(e,t,n,a),oY(e,t,n,s),oY(e,t,r,s)],c=s-a>Math.PI?1:0;return[["M",l[0][0],l[0][1]],["L",l[1][0],l[1][1]],["A",n,n,0,c,1,l[2][0],l[2][1]],["L",l[3][0],l[3][1]],["A",r,r,0,c,0,l[0][0],l[0][1]],["Z"]]},oK=(e=0,t=0,n,r)=>{let[i,o]=[0,0];return Math.abs(n-r)%360<1e-6?oq(i,o,e,t):oX(i,o,e,t,n,r)};class oQ extends oH{constructor(e){super(oy({style:oQ.defaultStyleProps},e))}drawKeyShape(e,t){return this.upsert("key",ew.Pj,this.getKeyStyle(e),t)}getKeyStyle(e){let t=super.getKeyStyle(e),[n,r]=this.getSize(e);return Object.assign(Object.assign({},t),{rx:n/2,ry:r/2})}getIconStyle(e){let t=super.getIconStyle(e),{rx:n,ry:r}=this.getShape("key").attributes,i=2*Math.min(+n,+r)*.8;return!!t&&Object.assign({width:i,height:i},t)}getIntersectPoint(e,t=!1){let n=this.getShape("key").getBounds();return i3(e,n,t)}}oQ.defaultStyleProps={size:[45,35]};var oJ=n(31211),o0=n(49025),o1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class o2 extends oH{constructor(e){super(Object.assign(Object.assign({},e),{style:Object.assign({},o2.defaultStyleProps,e.style)})),this.rootPointerEvent=new ew.nR(null),this.forwardEvents=e=>{let t=this.context.canvas,n=t.context.renderingContext.root.ownerDocument.defaultView,r=this.normalizeToPointerEvent(e,n);r.forEach(r=>{let i=this.bootstrapEvent(this.rootPointerEvent,r,n,e);(0,ou.Z)(t.context.eventService,"mappingTable.pointerupoutside",[]),t.context.eventService.mapEvent(i)})}}get eventService(){return this.context.canvas.context.eventService}get events(){return[pS.CLICK,pS.POINTER_DOWN,pS.POINTER_MOVE,pS.POINTER_UP,pS.POINTER_OVER,pS.POINTER_LEAVE]}getDomElement(){return this.getShape("key").getDomElement()}render(e=this.parsedAttributes,t=this){this.drawKeyShape(e,t),this.drawPortShapes(e,t)}getKeyStyle(e){let t=(0,j.Z)(e,["dx","dy","innerHTML","pointerEvents","cursor"]),{dx:n=0,dy:r=0}=t,i=o1(t,["dx","dy"]),[o,a]=this.getSize(e);return Object.assign(Object.assign({x:n,y:r},i),{width:o,height:a})}drawKeyShape(e,t){let n=this.getKeyStyle(e),{x:r,y:i,width:o=0,height:a=0}=n,s=this.upsert("key-container",ew.UL,{x:r,y:i,width:o,height:a,opacity:0},t);return this.upsert("key",ew.k9,n,s)}connectedCallback(){let e=this.context.canvas.getRenderer("main"),t=e instanceof oJ.Th;if(!t)return;let n=this.getDomElement();this.events.forEach(e=>{n.addEventListener(e,this.forwardEvents)})}attributeChangedCallback(e,t,n){"zIndex"===e&&t!==n&&(this.getDomElement().style.zIndex=n)}destroy(){let e=this.getDomElement();this.events.forEach(t=>{e.removeEventListener(t,this.forwardEvents)}),super.destroy()}normalizeToPointerEvent(e,t){let n=[];if(t.isTouchEvent(e))for(let t=0;t<e.changedTouches.length;t++){let r=e.changedTouches[t];(0,o0.Z)(r.button)&&(r.button=0),(0,o0.Z)(r.buttons)&&(r.buttons=1),(0,o0.Z)(r.isPrimary)&&(r.isPrimary=1===e.touches.length&&"touchstart"===e.type),(0,o0.Z)(r.width)&&(r.width=r.radiusX||1),(0,o0.Z)(r.height)&&(r.height=r.radiusY||1),(0,o0.Z)(r.tiltX)&&(r.tiltX=0),(0,o0.Z)(r.tiltY)&&(r.tiltY=0),(0,o0.Z)(r.pointerType)&&(r.pointerType="touch"),(0,o0.Z)(r.pointerId)&&(r.pointerId=r.identifier||0),(0,o0.Z)(r.pressure)&&(r.pressure=r.force||.5),(0,o0.Z)(r.twist)&&(r.twist=0),(0,o0.Z)(r.tangentialPressure)&&(r.tangentialPressure=0),r.isNormalized=!0,r.type=e.type,n.push(r)}else t.isMouseEvent(e)&&((0,o0.Z)(e.isPrimary)&&(e.isPrimary=!0),(0,o0.Z)(e.width)&&(e.width=1),(0,o0.Z)(e.height)&&(e.height=1),(0,o0.Z)(e.tiltX)&&(e.tiltX=0),(0,o0.Z)(e.tiltY)&&(e.tiltY=0),(0,o0.Z)(e.pointerType)&&(e.pointerType="mouse"),(0,o0.Z)(e.pointerId)&&(e.pointerId=1),(0,o0.Z)(e.pressure)&&(e.pressure=.5),(0,o0.Z)(e.twist)&&(e.twist=0),(0,o0.Z)(e.tangentialPressure)&&(e.tangentialPressure=0),e.isNormalized=!0),n.push(e);return n}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.metaKey=t.metaKey,e.shiftKey=t.shiftKey,e.ctrlKey=t.ctrlKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.screen.x=t.screenX,e.screen.y=t.screenY,e.relatedTarget=null}bootstrapEvent(e,t,n,r){e.view=n,e.originalEvent=null,e.nativeEvent=r,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t);let{x:i,y:o}=this.getViewportXY(t);e.viewport.x=i,e.viewport.y=o;let[a,s]=this.context.canvas.getCanvasByViewport([i,o]);return e.canvas.x=a,e.canvas.y=s,e.global.copyFrom(e.canvas),e.offset.copyFrom(e.canvas),e.isTrusted=r.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e}getViewportXY(e){let t,n;let{offsetX:r,offsetY:i,clientX:o,clientY:a}=e;if((0,rN.Z)(r)||(0,rN.Z)(i)){let e=this.eventService.client2Viewport({x:o,y:a});t=e.x,n=e.y}else t=r,n=i;return{x:t,y:n}}onframe(){super.onframe();let{opacity:e}=this.attributes;this.getDomElement().style.opacity=`${e}`}}o2.defaultStyleProps={size:[160,80],halo:!1,icon:!1,label:!1,pointerEvents:"auto"};var o3=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class o5 extends oH{constructor(e){super(oy({style:o5.defaultStyleProps},e))}getKeyStyle(e){let[t,n]=this.getSize(e),r=super.getKeyStyle(e),{fillOpacity:i,opacity:o=i}=r,a=o3(r,["fillOpacity","opacity"]);return Object.assign(Object.assign({opacity:o},a),{width:t,height:n,x:-t/2,y:-n/2})}getBounds(){return this.getShape("key").getBounds()}getHaloStyle(e){if(!1===e.halo)return!1;let t=this.getShape("key").attributes,{fill:n,stroke:r}=t;o3(t,["fill","stroke"]);let i=oh(this.getGraphicStyle(e),"halo"),o=Number(i.lineWidth),[a,s]=iR(this.getSize(e),[o,o]),{lineWidth:l}=i;return Object.assign(Object.assign({},i),{fill:"transparent",lineWidth:l/2,width:a-l/2,height:s-l/2,x:-(a-l/2)/2,y:-(s-l/2)/2})}getIconStyle(e){let t=super.getIconStyle(e),[n,r]=this.getSize(e);return!!t&&Object.assign({width:.8*n,height:.8*r},t)}drawKeyShape(e,t){let n=this.upsert("key",oD,this.getKeyStyle(e),t);return oB(this),n}drawHaloShape(e,t){this.upsert("halo",ew.UL,this.getHaloStyle(e),t)}update(e){super.update(e),e&&("x"in e||"y"in e||"z"in e)&&oU(this)}}o5.defaultStyleProps={size:32};class o4 extends oV{constructor(e){super(oy({style:o4.defaultStyleProps},e))}getPoints(e){let{direction:t}=e,[n,r]=this.getSize(e);return function(e,t,n){let r=t/2,i=e/2,o={up:[[-i,r],[i,r],[0,-r]],left:[[-i,0],[i,r],[i,-r]],right:[[-i,r],[-i,-r],[i,0]],down:[[-i,-r],[i,-r],[0,r]]};return o[n]||o.up}(n,r,t)}getPortXY(e,t){let{direction:n}=e,{placement:r="top"}=t,i=this.getShape("key").getLocalBounds(),[o,a]=this.getSize(e),s=function(e,t,n){let r=t/2,i=e/2,o={};return"down"===n?(o.bottom=o.default=[0,r],o.right=[i,-r],o.left=[-i,-r]):"left"===n?(o.top=[i,-r],o.bottom=[i,r],o.left=o.default=[-i,0]):"right"===n?(o.top=[-i,-r],o.bottom=[-i,r],o.right=o.default=[i,0]):(o.left=[-i,r],o.top=o.default=[0,-r],o.right=[i,r]),o}(o,a,n);return aX(i,r,s,!1)}getIconStyle(e){let{icon:t,iconText:n,iconSrc:r,direction:i}=e;if(!1===t||(0,oS.Z)(n||r))return!1;let o=oh(this.getGraphicStyle(e),"icon"),a=this.getShape("key").getLocalBounds(),[s,l]=function(e,t){let{center:n}=e,[r,i]=it(e),o="up"===t||"down"===t?n[0]:"right"===t?n[0]-r/6:n[0]+r/6,a="left"===t||"right"===t?n[1]:"down"===t?n[1]-i/6:n[1]+i/6;return[o,a]}(a,i),c=2*function(e,t){let[n,r]=it(e);return[n,r]="up"===t||"down"===t?[n,r]:[r,n],(Math.pow(r,2)-Math.pow(Math.sqrt(Math.pow(n/2,2)+Math.pow(r,2))-n/2,2))/(2*r)}(a,i)*.8;return Object.assign({x:s,y:l,width:c,height:c},o)}}o4.defaultStyleProps={size:40,direction:"up"};var o6=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class o7 extends oH{constructor(e){super(oy({style:o7.defaultStyleProps},e)),this.type="combo",this.updateComboPosition(this.parsedAttributes)}getKeySize(e){let{collapsed:t,childrenNode:n=[]}=e;return 0===n.length?this.getEmptyKeySize(e):t?this.getCollapsedKeySize(e):this.getExpandedKeySize(e)}getEmptyKeySize(e){let{padding:t,collapsedSize:n}=e,[r,i,o,a]=r8(t);return iR(om(n),[a+i,r+o,0])}getCollapsedKeySize(e){return om(e.collapsedSize)}getExpandedKeySize(e){let t=this.getContentBBox(e);return[r9(t),ie(t),0]}getContentBBox(e){let{childrenNode:t=[],padding:n}=e,r=t.map(e=>this.context.element.getElement(e)).filter(Boolean);if(0===r.length){let t=new ew.mN,{x:n=0,y:r=0,size:i}=e,[o,a]=om(i);return t.setMinMax([n-o/2,r-a/2,0],[n+o/2,r+a/2,0]),t}let i=ia(r.map(e=>e.getBounds()));return n?io(i,n):i}drawCollapsedMarkerShape(e,t){let n=this.getCollapsedMarkerStyle(e);this.upsert("collapsed-marker",oz,n,t),oB(this)}getCollapsedMarkerStyle(e){if(!e.collapsed||!e.collapsedMarker)return!1;let t=oh(this.getGraphicStyle(e),"collapsedMarker"),{type:n}=t,r=o6(t,["type"]),i=this.getShape("key"),[o,a]=iX(i.getLocalBounds(),"center"),s=Object.assign(Object.assign({},r),{x:o,y:a});if(n){let t=this.getCollapsedMarkerText(n,e);Object.assign(s,{text:t})}return s}getCollapsedMarkerText(e,t){let{childrenData:n=[]}=t,{model:r}=this.context;return"descendant-count"===e?r.getDescendantsData(this.id).length.toString():"child-count"===e?n.length.toString():"node-count"===e?r.getDescendantsData(this.id).filter(e=>"node"===r.getElementType(ih(e))).length.toString():(0,r2.Z)(e)?e(n):""}getComboPosition(e){let{x:t=0,y:n=0,collapsed:r,childrenData:i=[]}=e;if(0===i.length)return[+t,+n,0];if(r){let{model:e}=this.context,r=e.getDescendantsData(this.id).filter(t=>!e.isCombo(ih(t)));if(r.length>0&&r.some(iq)){let e=r.reduce((e,t)=>iR(e,iY(t)),[0,0,0]);return iM(e,r.length)}return[+t,+n,0]}return this.getContentBBox(e).center}getComboStyle(e){let[t,n]=this.getComboPosition(e);return{x:t,y:n,transform:[["translate",t,n]]}}updateComboPosition(e){let t=this.getComboStyle(e);Object.assign(this.style,t);let{x:n,y:r}=t;this.context.model.syncNodeLikeDatum({id:this.id,style:{x:n,y:r}}),oU(this)}render(e,t=this){super.render(e,t),this.drawCollapsedMarkerShape(e,t)}update(e={}){super.update(e),this.updateComboPosition(this.parsedAttributes)}onframe(){super.onframe(),this.attributes.collapsed||this.updateComboPosition(this.parsedAttributes),this.drawKeyShape(this.parsedAttributes,this)}animate(e,t){let n=super.animate(this.attributes.collapsed?e:e.map(e=>{var{x:t,y:n,z:r,transform:i}=e;return o6(e,["x","y","z","transform"])}),t);return n?new Proxy(n,{set:(e,t,n)=>("currentTime"===t&&Promise.resolve().then(()=>this.onframe()),Reflect.set(e,t,n))}):n}}o7.defaultStyleProps={childrenNode:[],droppable:!0,draggable:!0,collapsed:!1,collapsedSize:32,collapsedMarker:!0,collapsedMarkerZIndex:1,collapsedMarkerFontSize:12,collapsedMarkerTextAlign:"center",collapsedMarkerTextBaseline:"middle",collapsedMarkerType:"child-count"};var o8=n(5692);let o9={padding:10};function ae(e,t,n,r,i,o){let{padding:a}=Object.assign(o9,o),s=ir(n,a),l=ir(r,a),c=[e,...i,t],u=null,d=[];for(let e=0,t=c.length;e<t-1;e++){var p,h;let n=e+1,r=c[e],i=c[n],o=(p=r,h=i,p[1]===h[1]||p[0]===h[0]),f=null;if(0===e){if(n===t-1){if(s.intersects(l))f=al(r,i,s,l);else if(ic(r,s)||ic(i,l))o||(f=function(e,t,n,r){let i=aa(e,t,n),o=iH(i.points[0]);if(is(o,r)){i=aa(t,e,r);let a=iH(i.points[0]);if(is(a,n)){let s=i0(e,o,ai(n,ar(e,o))/2),l=i0(t,a,ai(r,ar(t,a))/2),c=[(s[0]+l[0])/2,(s[1]+l[1])/2],u=aa(e,c,n),d=as(c,t,r,u.direction);i.points=[u.points[0],d.points[0]],i.direction=d.direction}}return i}(r,i,s,l));else{let e=id(r,s),t=id(i,l);(f=ao(e,t,ar(e,t))).points.unshift(e),f.points.push(t)}}else is(i,s)?f=al(r,i,s,ir(i,a),u):o||(f=aa(r,i,s))}else n===t-1?is(r,l)?f=al(r,i,ir(r,a),l,u):o||(f=as(r,i,l,u)):o||(f=ao(r,i,u));f?(d.push(...f.points),u=f.direction):u=ar(r,i),n<t-1&&d.push(i)}return d.map(ij)}let at={N:"S",S:"N",W:"E",E:"W"},an={N:-Math.PI/2,S:Math.PI/2,E:0,W:Math.PI};function ar(e,t){let[n,r]=e,[i,o]=t;return n===i?r>o?"N":"S":r===o?n>i?"W":"E":null}function ai(e,t){return"N"===t||"S"===t?ie(e):r9(e)}function ao(e,t,n){let r=[e[0],t[1]],i=[t[0],e[1]],o=ar(e,r),a=ar(e,i),s=n?at[n]:null,l=o===n||o!==s&&a!==n?r:i;return{points:[l],direction:ar(l,t)}}function aa(e,t,n){if(ic(e,n)){let r=ac(e,t,n);return{points:[r],direction:ar(r,t)}}{let r=id(e,n),i=["left","right"].includes(iu(e,n)),o=i?[t[0],r[1]]:[r[0],t[1]];return{points:[o],direction:ar(o,t)}}}function as(e,t,n,r){let i=ic(t,n)?t:id(t,n),o=[[i[0],e[1]],[e[0],i[1]]],a=o.filter(e=>!is(e,n)&&!il(e,n,!0)),s=a.filter(t=>ar(t,e)!==r);if(s.length>0){let n=s.find(t=>ar(e,t)===r)||s[0];return{points:[n],direction:ar(n,t)}}{let i=(0,o8.Z)(o,a)[0],s=i0(t,i,ai(n,r)/2),l=ac(s,e,n);return{points:[l,s],direction:ar(s,t)}}}function al(e,t,n,r,i){let o;let a=ia([n,r]),s=iP(t,a.center)>iP(e,a.center),[l,c]=s?[t,e]:[e,t],u=ie(a)+r9(a);if(i){let e=[l[0]+u*Math.cos(an[i]),l[1]+u*Math.sin(an[i])];o=i0(id(e,a),e,.01)}else o=i0(id(l,a),l,-.01);let d=ac(o,c,a),p=[iJ(o,2),iJ(d,2)];if((0,rM.Z)(iJ(o),iJ(d))){let e=iU(ik(o,l),[1,0,0])+Math.PI/2;d=iJ(i0(id(d=[c[0]+u*Math.cos(e),c[1]+u*Math.sin(e),0],a),c,-.01),2);let t=ac(o,d,a);p=[o,t,d]}return{points:s?p.reverse():p,direction:s?ar(o,t):ar(d,t)}}function ac(e,t,n){let r=[e[0],t[1]];return is(r,n)&&(r=[t[0],e[1]]),r}function au(e,t,n,r,i){let o="number"==typeof t?t:.5;"start"===t&&(o=0),"end"===t&&(o=.99);let a=iK(e.getPoint(o)),s=iK(e.getPoint(o+.01)),l="start"===t?"left":"end"===t?"right":"center";if(a[1]===s[1]||!n){let[t,n]=ad(e,o,r,i);return{transform:[["translate",t,n]],textAlign:l}}let c=Math.atan2(s[1]-a[1],s[0]-a[0]),u=s[0]<a[0];u&&(l="center"===l?l:"left"===l?"right":"left",r*=-1,c+=Math.PI);let[d,p]=ad(e,o,r,i,c),h=[["translate",d,p],["rotate",c/Math.PI*180]];return{textAlign:l,transform:h}}function ad(e,t,n,r,i){let[o,a]=iK(e.getPoint(t)),s=n,l=r;return i&&(s=n*Math.cos(i)-r*Math.sin(i),l=n*Math.sin(i)+r*Math.cos(i)),[o+s,a+l]}function ap(e,t,n,r){if((0,rM.Z)(e,t))return e;let i=ik(t,e),o=[e[0]+n*i[0],e[1]+n*i[1]],a=iB(iz(i,!1));return o[0]+=r*a[0],o[1]+=r*a[1],o}function ah(e,t,n){return[["M",e[0],e[1]],["C",n[0][0],n[0][1],n[1][0],n[1][1],t[0],t[1]]]}function af(e,t=0,n=!1){let r=e.length-1,i=e[0],o=e[r],a=e.slice(1,r),s=[["M",i[0],i[1]]];return a.forEach((e,n)=>{let r=a[n-1]||i,l=a[n+1]||o;if(!iV([r,e],[e,l])&&t){let[n,i]=function(e,t,n,r){let i=iF(e,t),o=iF(n,t),a=Math.min(r,Math.min(i,o)/2),s=[t[0]-a/i*(t[0]-e[0]),t[1]-a/i*(t[1]-e[1])],l=[t[0]-a/o*(t[0]-n[0]),t[1]-a/o*(t[1]-n[1])];return[s,l]}(r,e,l,t);s.push(["L",n[0],n[1]],["Q",e[0],e[1],i[0],i[1]],["L",i[0],i[1]])}else s.push(["L",e[0],e[1]])}),s.push(["L",o[0],o[1]]),n&&s.push(["Z"]),s}let ag=e=>{let t=Math.PI/2,n=ie(e)/2,r=r9(e)/2,i=Math.atan2(n,r)/2,o=Math.atan2(r,n)/2;return{top:[-t-o,-t+o],"top-right":[-t+o,-i],"right-top":[-t+o,-i],right:[-i,i],"bottom-right":[i,t-o],"right-bottom":[i,t-o],bottom:[t-o,t+o],"bottom-left":[t+o,Math.PI-i],"left-bottom":[t+o,Math.PI-i],left:[Math.PI-i,Math.PI+i],"top-left":[Math.PI+i,-t-o],"left-top":[Math.PI+i,-t-o]}};function am(e,t,n,r,i){let o=ir(e),a=e.getCenter(),s=r&&aJ(r),l=i&&aJ(i);if(!s||!l){let r=ag(o),i=r[t][0],c=r[t][1],[u,d]=it(o),p=Math.max(u,d),h=iR(a,[p*Math.cos(i),p*Math.sin(i),0]),f=iR(a,[p*Math.cos(c),p*Math.sin(c),0]);s=a3(e,h),l=a3(e,f),n||([s,l]=[l,s])}return[s,l]}function ab(e,t){let n=new Set,r=new Set,i=new Set;return e.forEach(o=>{let a=t(o);a.forEach(t=>{n.add(t),e.includes(t.source)&&e.includes(t.target)?r.add(t):i.add(t)})}),{edges:Array.from(n),internal:Array.from(r),external:Array.from(i)}}function av(e,t){let n=[],r=e;for(;r;){n.push(r);let e=t(ih(r));if(e)r=e;else break}if(n.some(e=>{var t;return null===(t=e.style)||void 0===t?void 0:t.collapsed})){let e=n.reverse().findIndex(oc);return n[e]||n.at(-1)}return e}let ay=(e,t)=>{let n=Math.max(e,t)/2;return[["M",-e/2,0],["A",n,n,0,1,0,2*n-e/2,0],["A",n,n,0,1,0,-e/2,0],["Z"]]},aE=(e,t)=>[["M",-e/2,0],["L",e/2,-t/2],["L",e/2,t/2],["Z"]],a_=(e,t)=>[["M",-e/2,0],["L",0,-t/2],["L",e/2,0],["L",0,t/2],["Z"]],aT=(e,t)=>[["M",-e/2,0],["L",e/2,-t/2],["L",4*e/5-e/2,0],["L",e/2,t/2],["Z"]],ax=(e,t)=>[["M",-e/2,-t/2],["L",e/2,-t/2],["L",e/2,t/2],["L",-e/2,t/2],["Z"]],aS=(e,t)=>{let n=e/2,r=e/7,i=e-r;return[["M",-n,0],["L",0,-t/2],["L",0,t/2],["Z"],["M",i-n,-t/2],["L",i+r-n,-t/2],["L",i+r-n,t/2],["L",i-n,t/2],["Z"]]},aA=(e,t)=>[["M",e/2,-t/2],["L",-e/2,0],["L",e/2,0],["L",-e/2,0],["L",e/2,t/2]];var aC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class aw extends oZ{constructor(e){super(oy({style:aw.defaultStyleProps},e)),this.type="edge"}get sourceNode(){let{sourceNode:e}=this.parsedAttributes;return this.context.element.getElement(e)}get targetNode(){let{targetNode:e}=this.parsedAttributes;return this.context.element.getElement(e)}getKeyStyle(e){let t=this.getGraphicStyle(e),{loop:n}=t,r=aC(t,["loop"]),{sourceNode:i,targetNode:o}=this,a=n&&i&&o&&i===o?this.getLoopPath(e):this.getKeyPath(e),s={d:a};return ew.y$.PARSED_STYLE_LIST.forEach(e=>{e in r&&(s[e]=r[e])}),s}getLoopPath(e){let{sourcePort:t,targetPort:n}=e,r=this.sourceNode,i=ir(r),o=Math.max(r9(i),ie(i)),{placement:a,clockwise:s,dist:l=o}=oh(this.getGraphicStyle(e),"loop");return function(e,t,n,r,i,o){let a=e.getPorts()[i||o],s=e.getPorts()[o||i],[l,c]=am(e,t,n,a,s),u=function(e,t,n,r){let i=e.getCenter();if((0,rM.Z)(t,n)){let e=ik(t,i),o=[r*Math.sign(e[0])||r/2,r*Math.sign(e[1])||-r/2,0];return[iR(t,o),iR(n,iN(o,[1,-1,1]))]}return[i0(i,t,iP(i,t)+r),i0(i,n,iP(i,n)+r)]}(e,l,c,r);return a&&(l=a2(a,u[0])),s&&(c=a2(s,u.at(-1))),ah(l,c,u)}(r,a,s,l,t,n)}getEndpoints(e,t=!0,n=[]){let{sourcePort:r,targetPort:i}=e,{sourceNode:o,targetNode:a}=this,[s,l]=function(e,t,n,r){let i=a0(e,t,n,r),o=a0(t,e,r,n);return[i,o]}(o,a,r,i);if(!t){let e=s?aJ(s):o.getCenter(),t=l?aJ(l):a.getCenter();return[e,t]}let c="function"==typeof n?n():n,u=a1(s||o,c[0]||l||a),d=a1(l||a,c[c.length-1]||s||o);return[u,d]}getHaloStyle(e){if(!1===e.halo)return!1;let t=this.getKeyStyle(e),n=oh(this.getGraphicStyle(e),"halo");return Object.assign(Object.assign({},t),n)}getLabelStyle(e){if(!1===e.label||!e.labelText)return!1;let t=oh(this.getGraphicStyle(e),"label"),{placement:n,offsetX:r,offsetY:i,autoRotate:o,maxWidth:a}=t,s=aC(t,["placement","offsetX","offsetY","autoRotate","maxWidth"]),l=au(this.shapeMap.key,n,o,r,i),c=this.shapeMap.key.getLocalBounds(),u=function(e,t,n=1){let r=iP(e[0],e[1])*n;return oT(r,t)}([c.min,c.max],a);return Object.assign({wordWrapWidth:u},l,s)}getBadgeStyle(e){if(!1===e.badge||!e.badgeText)return!1;let t=oh(e,"badge"),{offsetX:n,offsetY:r,placement:i}=t,o=aC(t,["offsetX","offsetY","placement"]);return Object.assign(o,function(e,t,n,r,i){var o,a;let s=(null===(o=e.badge)||void 0===o?void 0:o.getGeometryBounds().halfExtents[0])*2||0,l=(null===(a=e.label)||void 0===a?void 0:a.getGeometryBounds().halfExtents[0])*2||0;return au(e.key,n,!0,(l?(l/2+s/2)*("suffix"===t?1:-1):0)+r,i)}(this.shapeMap,i,e.labelPlacement,n,r))}drawArrow(e,t){var n;let r="start"===t,i=e["start"===t?"startArrow":"endArrow"],o=this.shapeMap.key;if(i){let t=this.getArrowStyle(e,r),[n,i,a]=r?["markerStart","markerStartOffset","startArrowOffset"]:["markerEnd","markerEndOffset","endArrowOffset"],s=o.parsedStyle[n];if(s)s.attr(t);else{let e=t.src?ew.Ee:ew.y$,r=new e({style:t});o.style[n]=r}o.style[i]=e[a]||t.width/2+ +t.lineWidth}else{let e=r?"markerStart":"markerEnd";null===(n=o.style[e])||void 0===n||n.destroy(),o.style[e]=null}}getArrowStyle(e,t){var n;let r=this.getShape("key").attributes,i=oh(this.getGraphicStyle(e),t?"startArrow":"endArrow"),{size:o,type:a}=i,s=aC(i,["size","type"]),[l,c]=om((n=r.lineWidth,o||(n<4?10:4===n?12:2.5*n))),u=(0,r2.Z)(a)?a:v[a]||aE,d=u(l,c);return Object.assign((0,j.Z)(r,["stroke","strokeOpacity","fillOpacity"]),{width:l,height:c},Object.assign({},d&&{d,fill:"simple"===a?"":r.stroke}),s)}drawLabelShape(e,t){let n=this.getLabelStyle(e);this.upsert("label",oI,n,t)}drawHaloShape(e,t){let n=this.getHaloStyle(e);this.upsert("halo",ew.y$,n,t)}drawBadgeShape(e,t){let n=this.getBadgeStyle(e);this.upsert("badge",oL,n,t)}drawSourceArrow(e){this.drawArrow(e,"start")}drawTargetArrow(e){this.drawArrow(e,"end")}drawKeyShape(e,t){let n=this.getKeyStyle(e);return this.upsert("key",ew.y$,n,t)}render(e=this.parsedAttributes,t=this){this.drawKeyShape(e,t),this.getShape("key")&&(this.drawSourceArrow(e),this.drawTargetArrow(e),this.drawLabelShape(e,t),this.drawHaloShape(e,t),this.drawBadgeShape(e,t))}onframe(){this.drawKeyShape(this.parsedAttributes,this),this.drawSourceArrow(this.parsedAttributes),this.drawTargetArrow(this.parsedAttributes),this.drawHaloShape(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this),this.drawBadgeShape(this.parsedAttributes,this)}animate(e,t){let n=super.animate(e,t);return n?new Proxy(n,{set:(e,t,n)=>("currentTime"===t&&Promise.resolve().then(()=>this.onframe()),Reflect.set(e,t,n))}):n}}aw.defaultStyleProps={badge:!0,badgeOffsetX:0,badgeOffsetY:0,badgePlacement:"suffix",isBillboard:!0,label:!0,labelAutoRotate:!0,labelIsBillboard:!0,labelMaxWidth:"80%",labelOffsetX:4,labelOffsetY:0,labelPlacement:"center",labelTextBaseline:"middle",labelWordWrap:!1,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloPointerEvents:"none",haloStrokeOpacity:.25,haloZIndex:-1,loop:!0,startArrow:!1,startArrowLineDash:0,startArrowLineJoin:"round",startArrowLineWidth:1,startArrowTransformOrigin:"center",startArrowType:"vee",endArrow:!1,endArrowLineDash:0,endArrowLineJoin:"round",endArrowLineWidth:1,endArrowTransformOrigin:"center",endArrowType:"vee",loopPlacement:"top",loopClockwise:!0};class aO extends aw{constructor(e){super(oy({style:aO.defaultStyleProps},e))}getKeyPath(e){let[t,n]=this.getEndpoints(e),{controlPoints:r,curvePosition:i,curveOffset:o}=e,a=this.getControlPoints(t,n,(0,rq.Z)(i)?[i,1-i]:i,(0,rq.Z)(o)?[o,-o]:o,r);return ah(t,n,a)}getControlPoints(e,t,n,r,i){return(null==i?void 0:i.length)===2?i:[ap(e,t,n[0],r[0]),ap(e,t,n[1],r[1])]}}aO.defaultStyleProps={curvePosition:.5,curveOffset:20};class aI extends aO{constructor(e){super(oy({style:aI.defaultStyleProps},e))}getControlPoints(e,t,n,r){let i=t[0]-e[0];return[[e[0]+i*n[0]+r[0],e[1]],[t[0]-i*n[1]+r[1],t[1]]]}}aI.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]};class aL extends aO{constructor(e){super(oy({style:aL.defaultStyleProps},e))}get ref(){return this.context.model.getRootsData()[0]}getEndpoints(e){if(this.sourceNode.id===this.ref.id)return super.getEndpoints(e);let t=iY(this.ref),n=this.sourceNode.getIntersectPoint(t,!0),r=this.targetNode.getIntersectPoint(t);return[n,r]}toRadialCoordinate(e){let t=iY(this.ref),n=iP(e,t),r=iG(ik(e,t));return[n,r]}getControlPoints(e,t,n,r){let[i,o]=this.toRadialCoordinate(e),[a]=this.toRadialCoordinate(t),s=a-i;return[[e[0]+(s*n[0]+r[0])*Math.cos(o),e[1]+(s*n[0]+r[0])*Math.sin(o)],[t[0]-(s*n[1]-r[0])*Math.cos(o),t[1]-(s*n[1]-r[0])*Math.sin(o)]]}}aL.defaultStyleProps={curvePosition:.5,curveOffset:20};class aR extends aO{constructor(e){super(oy({style:aR.defaultStyleProps},e))}getControlPoints(e,t,n,r){let i=t[1]-e[1];return[[e[0],e[1]+i*n[0]+r[0]],[t[0],t[1]-i*n[1]+r[1]]]}}aR.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]};class ak extends aw{constructor(e){super(oy({style:ak.defaultStyleProps},e))}getKeyPath(e){let[t,n]=this.getEndpoints(e);return[["M",t[0],t[1]],["L",n[0],n[1]]]}}ak.defaultStyleProps={};let aN={enableObstacleAvoidance:!1,offset:10,maxAllowedDirectionChange:Math.PI/2,maximumLoops:3e3,gridSize:5,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{right:{stepX:1,stepY:0},left:{stepX:-1,stepY:0},bottom:{stepX:0,stepY:1},top:{stepX:0,stepY:-1}},penalties:{0:0,90:0},distFunc:iF},aM=e=>`${Math.round(e[0])}|||${Math.round(e[1])}`;function aD(e,t){let n=e=>Math.round(e/t);return(0,rq.Z)(e)?n(e):e.map(n)}function aP(e,t){let n=t[0]-e[0],r=t[1]-e[1];return n||r?Math.atan2(r,n):0}function aF(e,t,n,r){let i=aP(e,t),o=n[aM(e)],a=aP(o||r,e);return function(e,t){let n=Math.abs(e-t);return n>Math.PI?2*Math.PI-n:n}(a,i)}let aB=(e,t)=>{let{offset:n,gridSize:r}=t,i={};return e.forEach(e=>{if(!e||e.destroyed||!e.isVisible())return;let t=io(e.getRenderBounds(),n);for(let e=aD(t.min[0],r);e<=aD(t.max[0],r);e+=1)for(let n=aD(t.min[1],r);n<=aD(t.max[1],r);n+=1)i[`${e}|||${n}`]=!0}),i};function aU(e,t,n){return Math.min(...t.map(t=>n(e,t)))}let az=(e,t,n,r)=>{if(!t)return[e];let{directionMap:i,offset:o}=r,a=io(t.getRenderBounds(),o),s=Object.keys(i).reduce((t,r)=>{if(n.includes(r)){let n=i[r],[o,s]=it(a),l=[e[0]+n.stepX*o,e[1]+n.stepY*s],c=function(e){let{min:[t,n],max:[r,i]}=e,o=[t,i],a=[r,i],s=[r,n],l=[t,n];return[[o,a],[a,s],[s,l],[l,o]]}(a);for(let n=0;n<c.length;n++){let r=i$([e,l],c[n]);r&&il(r,a)&&t.push(r)}}return t},[]);return is(e,a)||s.push(e),s.map(e=>aD(e,r.gridSize))},aZ=(e,t,n,r,i,o,a)=>{let s=[],l=[o[0]===r[0]?r[0]:e[0]*a,o[1]===r[1]?r[1]:e[1]*a];s.unshift(l);let c=e,u=t[aM(c)];for(;u;){let e=u,r=c,i=aF(e,r,t,n);i&&(l=[e[0]===r[0]?l[0]:e[0]*a,e[1]===r[1]?l[1]:e[1]*a],s.unshift(l)),u=t[aM(e)],c=e}let d=i.map(e=>[e[0]*a,e[1]*a]),p=function(e,t,n){let r=e[0],i=n(e[0],t);for(let o=0;o<e.length;o++){let a=e[o],s=n(a,t);s<i&&(r=a,i=s)}return r}(d,l,iF);return s.unshift(p),s};class aj{constructor(){this.arr=[],this.map={},this.arr=[],this.map={}}_innerAdd(e,t){let n=0,r=t-1;for(;r-n>1;){let t=Math.floor((n+r)/2);if(this.arr[t].value>e.value)r=t;else if(this.arr[t].value<e.value)n=t;else{this.arr.splice(t,0,e),this.map[e.id]=!0;return}}this.arr.splice(r,0,e),this.map[e.id]=!0}add(e){delete this.map[e.id];let t=this.arr.length;if(!t||this.arr[t-1].value<e.value){this.arr.push(e),this.map[e.id]=!0;return}this._innerAdd(e,t)}remove(e){this.map[e]&&delete this.map[e]}_clearAndGetMinId(){let e;for(let t=this.arr.length-1;t>=0;t--)this.map[this.arr[t].id]?e=this.arr[t].id:this.arr.splice(t,1);return e}_findFirstId(){for(;this.arr.length;){let e=this.arr.shift();if(this.map[e.id])return e.id}}minId(e){return e?this._clearAndGetMinId():this._findFirstId()}}class aH extends aw{constructor(e){super(oy({style:aH.defaultStyleProps},e))}getControlPoints(e){let{router:t}=e,{sourceNode:n,targetNode:r}=this,[i,o]=this.getEndpoints(e,!1),a=[];if(t){if("shortest-path"===t.type){let s=this.context.element.getNodes();(a=function(e,t,n,r){let i;let o=ij(e.getCenter()),a=ij(t.getCenter()),s=Object.assign(aN,r),{gridSize:l}=s,c=s.enableObstacleAvoidance?n:[e,t],u=aB(c,s),d=aD(o,l),p=aD(a,l),h=az(o,e,s.startDirections,s),f=az(a,t,s.endDirections,s);h.forEach(e=>delete u[aM(e)]),f.forEach(e=>delete u[aM(e)]);let g={},m={},b={},v={},y={},E=new aj;for(let e=0;e<h.length;e++){let t=h[e],n=aM(t);g[n]=t,v[n]=0,y[n]=aU(t,f,s.distFunc),E.add({id:n,value:y[n]})}let _=f.map(e=>aM(e)),x=s.maximumLoops,S=1/0;for(let[e,t]of Object.entries(g))y[e]<=S&&(S=y[e],i=t);for(;Object.keys(g).length>0&&x>0;){let e=E.minId(!1);if(e)i=g[e];else break;let t=aM(i);if(_.includes(t))return aZ(i,b,d,a,h,p,l);for(let e of(delete g[t],E.remove(t),m[t]=!0,Object.values(s.directionMap))){let n=iR(i,[e.stepX,e.stepY]),r=aM(n);if(m[r])continue;let o=aF(i,n,b,d);if(o>s.maxAllowedDirectionChange||u[r])continue;g[r]||(g[r]=n);let a=s.penalties[o],c=s.distFunc(i,n)+(isNaN(a)?l:a),p=v[t]+c,h=v[r];h&&p>=h||(b[r]=i,v[r]=p,y[r]=p+aU(n,f,s.distFunc),E.add({id:r,value:y[r]}))}x-=1}return[]}(n,r,s,t)).length||(a=ae(i,o,n,r,e.controlPoints,{padding:t.offset}))}else"orth"===t.type&&(a=ae(i,o,n,r,e.controlPoints,t))}else a=e.controlPoints;return a}getPoints(e){let t=this.getControlPoints(e),[n,r]=this.getEndpoints(e,!0,t);return[n,...t,r]}getKeyPath(e){let t=this.getPoints(e);return af(t,e.radius)}getLoopPath(e){let{sourcePort:t,targetPort:n,radius:r}=e,i=this.sourceNode,o=ir(i),a=Math.max(r9(o),ie(o))/4,{placement:s,clockwise:l,dist:c=a}=oh(this.getGraphicStyle(e),"loop");return function(e,t,n,r,i,o,a){let s=aK(e),l=s[o||a],c=s[a||o],[u,d]=am(e,n,r,l,c),p=function(e,t,n,r){let i=[],o=ir(e);if((0,rM.Z)(t,n)){let e=iu(t,o);switch(e){case"left":i.push([t[0]-r,t[1]]),i.push([t[0]-r,t[1]+r]),i.push([t[0],t[1]+r]);break;case"right":i.push([t[0]+r,t[1]]),i.push([t[0]+r,t[1]+r]),i.push([t[0],t[1]+r]);break;case"top":i.push([t[0],t[1]-r]),i.push([t[0]+r,t[1]-r]),i.push([t[0]+r,t[1]]);break;case"bottom":i.push([t[0],t[1]+r]),i.push([t[0]+r,t[1]+r]),i.push([t[0]+r,t[1]])}}else{let e=iu(t,o),a=iu(n,o);if(e===a){let o,a;switch(e){case"left":o=Math.min(t[0],n[0])-r,i.push([o,t[1]]),i.push([o,n[1]]);break;case"right":o=Math.max(t[0],n[0])+r,i.push([o,t[1]]),i.push([o,n[1]]);break;case"top":a=Math.min(t[1],n[1])-r,i.push([t[0],a]),i.push([n[0],a]);break;case"bottom":a=Math.max(t[1],n[1])+r,i.push([t[0],a]),i.push([n[0],a])}}else{let s=(e,t)=>({left:[t[0]-r,t[1]],right:[t[0]+r,t[1]],top:[t[0],t[1]-r],bottom:[t[0],t[1]+r]})[e],l=s(e,t),c=s(a,n),u=ac(l,c,o);i.push(l,u,c)}}return i}(e,u,d,i);return l&&(u=a2(l,p[0])),c&&(d=a2(c,p.at(-1))),af([u,...p,d],t)}(i,r,s,l,c,t,n)}}aH.defaultStyleProps={radius:0,controlPoints:[],router:!1};class aG extends aw{constructor(e){super(oy({style:aG.defaultStyleProps},e))}getKeyPath(e){let{curvePosition:t,curveOffset:n}=e,[r,i]=this.getEndpoints(e),o=e.controlPoint||ap(r,i,t,n);return[["M",r[0],r[1]],["Q",o[0],o[1],i[0],i[1]]]}}aG.defaultStyleProps={curvePosition:.5,curveOffset:30};var aV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function a$(e){return e instanceof oH&&"node"===e.type}function aW(e){return e instanceof aw}function aY(e){return e instanceof o7}let aq={top:[.5,0],right:[1,.5],bottom:[.5,1],left:[0,.5],"left-top":[0,0],"top-left":[0,0],"left-bottom":[0,1],"bottom-left":[0,1],"right-top":[1,0],"top-right":[1,0],"right-bottom":[1,1],"bottom-right":[1,1],default:[.5,.5]};function aX(e,t,n=aq,r=!0){let i=[.5,.5],o=(0,Y.Z)(t)?(0,H.Z)(n,t.toLocaleLowerCase(),i):t;if(!r&&(0,Y.Z)(t))return o;let[a,s]=o||i;return[e.min[0]+r9(e)*a,e.min[1]+ie(e)*s]}function aK(e){if(!e)return{};let t=e.getPorts(),n=e.attributes.ports||[];return n.forEach((n,r)=>{var i;let{key:o,placement:a}=n;aQ(n)&&(t[i=o||r]||(t[i]=iX(e.getShape("key").getBounds(),a)))}),t}function aQ(e){let{r:t}=e;return!t||0===Number(t)}function aJ(e){return r6(e)?e:e.getPosition()}function a0(e,t,n,r){let i,o;let a=aK(e);if(n)return a[n];let s=Object.values(a);if(0===s.length)return;let l=s.map(e=>aJ(e)),c=function(e,t){let n=aK(e);if(t)return[aJ(n[t])];let r=Object.values(n);return r.length>0?r.map(e=>aJ(e)):[e.getCenter()]}(t,r),[u]=(i=1/0,o=[l[0],c[0]],l.forEach(e=>{c.forEach(t=>{let n=iP(e,t);n<i&&(i=n,o=[e,t])})}),o);return s.find(e=>aJ(e)===u)}function a1(e,t){return aY(e)||a$(e)?a3(e,t):a2(e,t)}function a2(e,t){if(!e||!t)return[0,0,0];if(r6(e))return e;if(e.attributes.linkToCenter)return e.getPosition();let n=r6(t)?t:a$(t)?t.getCenter():t.getPosition();return i3(n,e.getBounds())}function a3(e,t){if(!e||!t)return[0,0,0];let n=r6(t)?t:a$(t)?t.getCenter():t.getPosition();return e.getIntersectPoint(n)||e.getCenter()}function a5(e,t="bottom",n=0,r=0,i=!1){let o=t.split("-"),[a,s]=iX(e,t),[l,c]=i?["bottom","top"]:["top","bottom"],u=o.includes("top")?c:o.includes("bottom")?l:"middle",d=o.includes("left")?"right":o.includes("right")?"left":"center";return{transform:[["translate",a+n,s+r]],textBaseline:u,textAlign:d}}function a4(e,t){"update"in e?e.update(t):e.attr(t)}function a6(e){return(0,H.Z)(e,"__to_be_destroyed__",!1)}class a7 extends iO{constructor(e,t){super(e,Object.assign({},a7.defaultOptions,t)),this.onCollapseExpand=e=>{var t,n,r,i;return t=this,n=void 0,r=void 0,i=function*(){if(!this.validate(e))return;let{target:t}=e;if(!(a$(t)||aW(t)||aY(t)))return;let n=t.id,{model:r,graph:i}=this.context,o=r.getElementDataById(n);if(!o)return!1;let{onCollapse:a,onExpand:s,animation:l,align:c}=this.options;oc(o)?(yield i.expandElement(n,{animation:l,align:c}),null==s||s(n)):(yield i.collapseElement(n,{animation:l,align:c}),null==a||a(n))},new(r||(r=Promise))(function(e,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(e){e(n)})).then(a,s)}l((i=i.apply(t,n||[])).next())})},this.bindEvents()}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}bindEvents(){let{graph:e}=this.context,{trigger:t}=this.options;e.on(`node:${t}`,this.onCollapseExpand),e.on(`combo:${t}`,this.onCollapseExpand)}unbindEvents(){let{graph:e}=this.context,{trigger:t}=this.options;e.off(`node:${t}`,this.onCollapseExpand),e.off(`combo:${t}`,this.onCollapseExpand)}validate(e){if(this.destroyed)return!1;let{enable:t}=this.options;return(0,r2.Z)(t)?t(e):!!t}destroy(){this.unbindEvents(),super.destroy()}}a7.defaultOptions={enable:!0,animation:!0,trigger:pS.DBLCLICK,align:!0};var a8=n(16403),a9=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};let se="g6-create-edge-assist-node-id";class st extends iO{constructor(e,t){super(e,Object.assign({},st.defaultOptions,t)),this.drop=e=>a9(this,void 0,void 0,function*(){let{targetType:t}=e;["combo","node"].includes(t)&&this.source?yield this.handleCreateEdge(e):yield this.cancelEdge()}),this.handleCreateEdge=e=>a9(this,void 0,void 0,function*(){var t,n,r;if(!this.validate(e))return;let{graph:i,canvas:o,batch:a,element:s}=this.context,{style:l}=this.options;if(this.source){this.createEdge(e),yield this.cancelEdge();return}a.startBatch(),o.setCursor("crosshair"),this.source=this.getSelectedNodeIDs([e.target.id])[0];let c=i.getElementData(this.source);i.addNodeData([{id:se,style:{visibility:"hidden",ports:[{key:"port-1",placement:[.5,.5]}],x:null===(t=c.style)||void 0===t?void 0:t.x,y:null===(n=c.style)||void 0===n?void 0:n.y}}]),i.addEdgeData([{id:"g6-create-edge-assist-edge-id",source:this.source,target:se,style:Object.assign({pointerEvents:"none"},l)}]),yield null===(r=s.draw({animation:!1}))||void 0===r?void 0:r.finished}),this.updateAssistEdge=e=>a9(this,void 0,void 0,function*(){var t;if(!this.source)return;let{model:n,element:r}=this.context;n.translateNodeTo(se,[e.canvas.x,e.canvas.y]),yield null===(t=r.draw({animation:!1,silence:!0}))||void 0===t?void 0:t.finished}),this.createEdge=e=>{var t,n;let{graph:r}=this.context,{style:i,onFinish:o,onCreate:a}=this.options,s=null===(t=e.target)||void 0===t?void 0:t.id;if(void 0===s||void 0===this.source)return;let l=null===(n=this.getSelectedNodeIDs([e.target.id]))||void 0===n?void 0:n[0],c=`${this.source}-${l}-${(0,a8.Z)()}`,u=a({id:c,source:this.source,target:l,style:i});u&&(r.addEdgeData([u]),o(u))},this.cancelEdge=()=>a9(this,void 0,void 0,function*(){var e;if(!this.source)return;let{graph:t,element:n,batch:r}=this.context;t.removeNodeData([se]),this.source=void 0,yield null===(e=n.draw({animation:!1}))||void 0===e?void 0:e.finished,r.endBatch()}),this.bindEvents()}update(e){super.update(e),this.bindEvents()}bindEvents(){let{graph:e}=this.context,{trigger:t}=this.options;this.unbindEvents(),"click"===t?(e.on(pI.CLICK,this.handleCreateEdge),e.on(px.CLICK,this.handleCreateEdge),e.on(pT.CLICK,this.cancelEdge),e.on(pC.CLICK,this.cancelEdge)):(e.on(pI.DRAG_START,this.handleCreateEdge),e.on(px.DRAG_START,this.handleCreateEdge),e.on(pS.POINTER_UP,this.drop)),e.on(pS.POINTER_MOVE,this.updateAssistEdge)}getSelectedNodeIDs(e){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map(e=>e.id).concat(e)))}validate(e){if(this.destroyed)return!1;let{enable:t}=this.options;return(0,r2.Z)(t)?t(e):!!t}unbindEvents(){let{graph:e}=this.context;e.off(pI.CLICK,this.handleCreateEdge),e.off(px.CLICK,this.handleCreateEdge),e.off(pT.CLICK,this.cancelEdge),e.off(pC.CLICK,this.cancelEdge),e.off(pI.DRAG_START,this.handleCreateEdge),e.off(px.DRAG_START,this.handleCreateEdge),e.off(pS.POINTER_UP,this.drop),e.off(pS.POINTER_MOVE,this.updateAssistEdge)}destroy(){this.unbindEvents(),super.destroy()}}st.defaultOptions={animation:!0,enable:!0,style:{},trigger:"drag",onCreate:e=>e,onFinish:()=>{}};var sn=n(99860),sr=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class si extends iO{constructor(e,t){super(e,Object.assign({},si.defaultOptions,t)),this.isDragging=!1,this.onDragStart=e=>{this.validate(e)&&(this.isDragging=!0,this.context.canvas.setCursor("grabbing"))},this.onDrag=e=>{var t,n,r,i;if(!this.isDragging||i7.isPinching)return;let o=null!==(n=null===(t=e.movement)||void 0===t?void 0:t.x)&&void 0!==n?n:e.dx,a=null!==(i=null===(r=e.movement)||void 0===r?void 0:r.y)&&void 0!==i?i:e.dy;(o|a)!=0&&this.translate([o,a],!1)},this.onDragEnd=()=>{var e,t;this.isDragging=!1,this.context.canvas.setCursor(this.defaultCursor),null===(t=(e=this.options).onFinish)||void 0===t||t.call(e)},this.invokeOnFinish=(0,sn.Z)(()=>{var e,t;null===(t=(e=this.options).onFinish)||void 0===t||t.call(e)},300),this.shortcut=new i9(e.graph),this.bindEvents(),this.defaultCursor=this.context.canvas.getConfig().cursor||"default"}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}bindEvents(){let{trigger:e}=this.options;if((0,rD.Z)(e)){let{up:t=[],down:n=[],left:r=[],right:i=[]}=e;this.shortcut.bind(t,e=>this.onTranslate([0,1],e)),this.shortcut.bind(n,e=>this.onTranslate([0,-1],e)),this.shortcut.bind(r,e=>this.onTranslate([1,0],e)),this.shortcut.bind(i,e=>this.onTranslate([-1,0],e))}else{let{graph:e}=this.context;e.on(pS.DRAG_START,this.onDragStart),e.on(pS.DRAG,this.onDrag),e.on(pS.DRAG_END,this.onDragEnd)}}onTranslate(e,t){return sr(this,void 0,void 0,function*(){if(!this.validate(t))return;let{sensitivity:n}=this.options;yield this.translate(iN(e,-1*n),this.options.animation),this.invokeOnFinish()})}translate(e,t){return sr(this,void 0,void 0,function*(){e=this.clampByDirection(e),e=this.clampByRange(e),yield this.context.graph.translateBy(e,t)})}clampByDirection([e,t]){let{direction:n}=this.options;return"x"===n?t=0:"y"===n&&(e=0),[e,t]}clampByRange([e,t]){let{viewport:n,canvas:r}=this.context,[i,o]=r.getSize(),[a,s,l,c]=r8(this.options.range),u=io(ii(n.getCanvasCenter()),[o*a,i*s,o*l,i*c]),d=ik(n.getViewportCenter(),[e,t,0]);if(!is(d,u)){let{min:[n,r],max:[i,o]}=u;(d[0]<n&&e>0||d[0]>i&&e<0)&&(e=0),(d[1]<r&&t>0||d[1]>o&&t<0)&&(t=0)}return[e,t]}validate(e){if(this.destroyed)return!1;let{enable:t}=this.options;return"function"==typeof t?t(e):!!t}unbindEvents(){this.shortcut.unbindAll();let{graph:e}=this.context;e.off(pS.DRAG_START,this.onDragStart),e.off(pS.DRAG,this.onDrag),e.off(pS.DRAG_END,this.onDragEnd)}destroy(){this.shortcut.destroy(),this.unbindEvents(),this.context.canvas.setCursor(this.defaultCursor),super.destroy()}}si.defaultOptions={enable:e=>!("targetType"in e)||"canvas"===e.targetType,sensitivity:10,direction:"both",range:1/0};var so=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class sa extends iO{constructor(e,t){super(e,Object.assign({},sa.defaultOptions,t)),this.enable=!1,this.enableElements=["node","combo"],this.target=[],this.shadowOrigin=[0,0],this.hiddenEdges=[],this.isDragging=!1,this.onDrop=e=>so(this,void 0,void 0,function*(){var t;if("link"!==this.options.dropEffect)return;let{model:n,element:r}=this.context,i=e.target.id;this.target.forEach(e=>{let t=n.getParentData(e,rB);t&&ih(t)===i&&n.refreshComboData(i),n.setParent(e,i,rB)}),yield null===(t=null==r?void 0:r.draw({animation:!0}))||void 0===t?void 0:t.finished}),this.setCursor=e=>{if(this.isDragging)return;let{type:t}=e,{canvas:n}=this.context,{cursor:r}=this.options;t===pS.POINTER_ENTER?n.setCursor((null==r?void 0:r.grab)||"grab"):n.setCursor((null==r?void 0:r.default)||"default")},this.onDragStart=this.onDragStart.bind(this),this.onDrag=this.onDrag.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onDrop=this.onDrop.bind(this),this.bindEvents()}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}bindEvents(){let{graph:e,canvas:t}=this.context,n=t.getLayer().getContextService().$canvas;n&&(n.addEventListener("blur",this.onDragEnd),n.addEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach(t=>{e.on(`${t}:${pS.DRAG_START}`,this.onDragStart),e.on(`${t}:${pS.DRAG}`,this.onDrag),e.on(`${t}:${pS.DRAG_END}`,this.onDragEnd),e.on(`${t}:${pS.POINTER_ENTER}`,this.setCursor),e.on(`${t}:${pS.POINTER_LEAVE}`,this.setCursor)}),["link"].includes(this.options.dropEffect)&&(e.on(px.DROP,this.onDrop),e.on(pT.DROP,this.onDrop))}getSelectedNodeIDs(e){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map(e=>e.id).concat(e)))}getDelta(e){let t=this.context.graph.getZoom();return iM([e.dx,e.dy],t)}onDragStart(e){var t;if(this.enable=this.validate(e),!this.enable)return;let{batch:n,canvas:r,graph:i}=this.context;r.setCursor((null===(t=this.options.cursor)||void 0===t?void 0:t.grabbing)||"grabbing"),this.isDragging=!0,n.startBatch();let o=e.target.id,a=i.getElementState(o);a.includes(this.options.state)?this.target=this.getSelectedNodeIDs([o]):this.target=[o],this.hideEdge(),this.context.graph.frontElement(this.target),this.options.shadow&&this.createShadow(this.target)}onDrag(e){if(!this.enable)return;let t=this.getDelta(e);this.options.shadow?this.moveShadow(t):this.moveElement(this.target,t)}onDragEnd(){var e,t,n;if(!this.enable)return;if(this.enable=!1,this.options.shadow){if(!this.shadow)return;this.shadow.style.visibility="hidden";let{x:e=0,y:t=0}=this.shadow.attributes,[n,r]=ik([+e,+t],this.shadowOrigin);this.moveElement(this.target,[n,r])}this.showEdges(),null===(t=(e=this.options).onFinish)||void 0===t||t.call(e,this.target);let{batch:r,canvas:i}=this.context;r.endBatch(),i.setCursor((null===(n=this.options.cursor)||void 0===n?void 0:n.grab)||"grab"),this.isDragging=!1,this.target=[]}validate(e){if(this.destroyed)return!1;let{enable:t}=this.options;return(0,r2.Z)(t)?t(e):!!t}moveElement(e,t){return so(this,void 0,void 0,function*(){let{graph:n,model:r}=this.context,{dropEffect:i}=this.options;"move"===i&&e.forEach(e=>r.refreshComboData(e)),n.translateElementBy(Object.fromEntries(e.map(e=>[e,t])),!1)})}moveShadow(e){if(!this.shadow)return;let{x:t=0,y:n=0}=this.shadow.attributes,[r,i]=e;this.shadow.attr({x:+t+r,y:+n+i})}createShadow(e){let t=oh(this.options,"shadow"),n=ia(e.map(e=>this.context.element.getElement(e).getBounds())),[r,i]=n.min;this.shadowOrigin=[r,i];let[o,a]=it(n),s={width:o,height:a,x:r,y:i};this.shadow?this.shadow.attr(Object.assign(Object.assign(Object.assign({},t),s),{visibility:"visible"})):(this.shadow=new ew.UL({style:Object.assign(Object.assign(Object.assign({$layer:"transient"},t),s),{pointerEvents:"none"})}),this.context.canvas.appendChild(this.shadow))}showEdges(){this.options.shadow||0===this.hiddenEdges.length||(this.context.graph.showElement(this.hiddenEdges),this.hiddenEdges=[])}hideEdge(){let{hideEdge:e,shadow:t}=this.options;if("none"===e||t)return;let{graph:n}=this.context;"all"===e?this.hiddenEdges=n.getEdgeData().map(ih):this.hiddenEdges=Array.from(new Set(this.target.map(t=>n.getRelatedEdgesData(t,e).map(ih)).flat())),n.hideElement(this.hiddenEdges)}unbindEvents(){let{graph:e,canvas:t}=this.context,n=t.getLayer().getContextService().$canvas;n&&(n.removeEventListener("blur",this.onDragEnd),n.removeEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach(t=>{e.off(`${t}:${pS.DRAG_START}`,this.onDragStart),e.off(`${t}:${pS.DRAG}`,this.onDrag),e.off(`${t}:${pS.DRAG_END}`,this.onDragEnd),e.off(`${t}:${pS.POINTER_ENTER}`,this.setCursor),e.off(`${t}:${pS.POINTER_LEAVE}`,this.setCursor)}),e.off(`combo:${pS.DROP}`,this.onDrop),e.off(`canvas:${pS.DROP}`,this.onDrop)}destroy(){var e;this.unbindEvents(),null===(e=this.shadow)||void 0===e||e.destroy(),super.destroy()}}sa.defaultOptions={animation:!0,enable:e=>["node","combo"].includes(e.targetType),dropEffect:"move",state:"selected",hideEdge:"none",shadow:!1,shadowZIndex:100,shadowFill:"#F3F9FF",shadowFillOpacity:.5,shadowStroke:"#1890FF",shadowStrokeOpacity:.9,shadowLineDash:[5,5],cursor:{default:"default",grab:"grab",grabbing:"grabbing"}};var ss=n(16754);class sl{constructor(e,t){this.context=e,this.options=t||{}}}var sc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function su(e){let{nodes:t,edges:n}=e,r={nodes:[],edges:[],combos:[]};return t.forEach(e=>{let t=e.data._isCombo?r.combos:r.nodes,{x:n,y:i,z:o=0}=e.data;null==t||t.push({id:e.id,style:{x:n,y:i,z:o}})}),n.forEach(e=>{let{id:t,source:n,target:i,data:{points:o=[],controlPoints:a=o.slice(1,o.length-1)}}=e;r.edges.push({id:t,source:n,target:i,style:Object.assign({},(null==a?void 0:a.length)?{controlPoints:a.map(iK)}:{})})}),r}function sd(e,t,...n){if(t in e)return e[t](...n);if("instance"in e){let r=e.instance;if(t in r)return r[t](...n)}return null}function sp(e,t){if(t in e)return e[t];if("instance"in e){let n=e.instance;if(t in n)return n[t]}return null}var sh=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class sf extends iO{constructor(e,t){super(e,Object.assign({},sf.defaultOptions,t)),this.isZoomEvent=e=>!!(e.data&&"scale"in e.data),this.relatedEdgeToUpdate=new Set,this.zoom=this.context.graph.getZoom(),this.fixElementSize=e=>sh(this,void 0,void 0,function*(){if(!this.validate(e))return;let{graph:t}=this.context,{state:n,nodeFilter:r,edgeFilter:i,comboFilter:o}=this.options,a=(n?t.getElementDataByState("node",n):t.getNodeData()).filter(r),s=(n?t.getElementDataByState("edge",n):t.getEdgeData()).filter(i),l=(n?t.getElementDataByState("combo",n):t.getComboData()).filter(o),c=this.isZoomEvent(e)?this.zoom=Math.max(.01,Math.min(e.data.scale,10)):this.zoom,u=[...a,...l];u.length>0&&u.forEach(e=>this.fixNodeLike(e,c)),this.updateRelatedEdges(),s.length>0&&s.forEach(e=>this.fixEdge(e,c))}),this.cachedStyles=new Map,this.getOriginalFieldValue=(e,t,n)=>{var r;let i=this.cachedStyles.get(e)||[],o=(null===(r=i.find(e=>e.shape===t))||void 0===r?void 0:r.style)||{};return n in o||(o[n]=t.attributes[n],this.cachedStyles.set(e,[...i.filter(e=>e.shape!==t),{shape:t,style:o}])),o[n]},this.scaleEntireElement=(e,t,n)=>{t.setLocalScale(1/n);let r=this.cachedStyles.get(e)||[];r.push({shape:t}),this.cachedStyles.set(e,r)},this.scaleSpecificShapes=(e,t,n)=>{let r=function(e){let t=[],n=e=>{(null==e?void 0:e.children.length)&&e.children.forEach(e=>{t.push(e),n(e)})};return n(e),t}(e),i=Array.isArray(n)?n:[n];i.forEach(n=>{let{shape:i,fields:o}=n,a="function"==typeof i?i(r):e.getShape(i);if(a){if(!o){this.scaleEntireElement(e.id,a,t);return}o.forEach(n=>{let r=this.getOriginalFieldValue(e.id,a,n);(0,rq.Z)(r)&&(a.style[n]=r/t)})}})},this.skipIfExceedViewport=e=>{let{viewport:t}=this.context;return!(null==t?void 0:t.isInViewport(e.getRenderBounds(),!1,30))},this.fixNodeLike=(e,t)=>{let n=ih(e),{element:r,model:i}=this.context,o=r.getElement(n);if(!o||this.skipIfExceedViewport(o))return;let a=i.getRelatedEdgesData(n);a.forEach(e=>this.relatedEdgeToUpdate.add(ih(e)));let s=this.options[o.type];if(!s){this.scaleEntireElement(n,o,t);return}this.scaleSpecificShapes(o,t,s)},this.fixEdge=(e,t)=>{let n=ih(e),r=this.context.element.getElement(n);if(!r||this.skipIfExceedViewport(r))return;let i=this.options.edge;if(!i){r.style.transformOrigin="center",this.scaleEntireElement(n,r,t);return}this.scaleSpecificShapes(r,t,i)},this.updateRelatedEdges=()=>{let{element:e}=this.context;this.relatedEdgeToUpdate.size>0&&this.relatedEdgeToUpdate.forEach(t=>{let n=e.getElement(t);null==n||n.update({})}),this.relatedEdgeToUpdate.clear()},this.resetTransform=e=>sh(this,void 0,void 0,function*(){var t;null!==(t=e.data)&&void 0!==t&&t.firstRender||(this.options.reset?this.restoreCachedStyles():this.fixElementSize({data:{scale:this.zoom}}))}),this.bindEvents()}restoreCachedStyles(){if(this.cachedStyles.size>0){this.cachedStyles.forEach(e=>{e.forEach(({shape:e,style:t})=>{if((0,oS.Z)(t))e.setLocalScale(1);else{if(this.options.state)return;Object.entries(t).forEach(([t,n])=>e.style[t]=n)}})});let{graph:e,element:t}=this.context,n=Object.keys(Object.fromEntries(this.cachedStyles)).filter(t=>t&&"node"===e.getElementType(t));if(n.length>0){let r=new Set;n.forEach(t=>{e.getRelatedEdgesData(t).forEach(e=>r.add(ih(e)))}),r.forEach(e=>{let n=null==t?void 0:t.getElement(e);null==n||n.update({})})}}}bindEvents(){let{graph:e}=this.context;e.on(pw.AFTER_DRAW,this.resetTransform),e.on(pw.AFTER_TRANSFORM,this.fixElementSize)}unbindEvents(){let{graph:e}=this.context;e.off(pw.AFTER_DRAW,this.resetTransform),e.off(pw.AFTER_TRANSFORM,this.fixElementSize)}validate(e){if(this.destroyed)return!1;let{enable:t}=this.options;return(0,r2.Z)(t)?t(e):!!t}destroy(){this.unbindEvents(),super.destroy()}}sf.defaultOptions={enable:e=>e.data.scale<1,nodeFilter:()=>!0,edgeFilter:()=>!0,comboFilter:()=>!0,edge:[{shape:"key",fields:["lineWidth"]},{shape:"halo",fields:["lineWidth"]},{shape:"label"}],reset:!1};class sg extends iO{constructor(e,t){super(e,Object.assign({},sg.defaultOptions,t)),this.focus=e=>{var t,n,r,i;return t=this,n=void 0,r=void 0,i=function*(){if(!this.validate(e))return;let{graph:t}=this.context;yield t.focusElement(e.target.id,this.options.animation)},new(r||(r=Promise))(function(e,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(e){e(n)})).then(a,s)}l((i=i.apply(t,n||[])).next())})},this.bindEvents()}bindEvents(){let{graph:e}=this.context;this.unbindEvents(),on.forEach(t=>{e.on(`${t}:${pS.CLICK}`,this.focus)})}validate(e){if(this.destroyed)return!1;let{enable:t}=this.options;return(0,r2.Z)(t)?t(e):!!t}unbindEvents(){let{graph:e}=this.context;on.forEach(t=>{e.off(`${t}:${pS.CLICK}`,this.focus)})}destroy(){this.unbindEvents(),super.destroy()}}sg.defaultOptions={animation:{easing:"ease-in",duration:500},enable:!0};class sm extends iO{constructor(e,t){super(e,Object.assign({},sm.defaultOptions,t)),this.isFrozen=!1,this.toggleFrozen=e=>{this.isFrozen="dragstart"===e.type},this.hoverElement=e=>{if(!this.validate(e))return;let t=e.type===pS.POINTER_ENTER;this.updateElementsState(e,t);let{onHover:n,onHoverEnd:r}=this.options;t?null==n||n(e):null==r||r(e)},this.updateElementsState=(e,t)=>{if(!this.options.state&&!this.options.inactiveState)return;let{graph:n}=this.context,{state:r,animation:i,inactiveState:o}=this.options,a=this.getActiveIds(e),s={};if(r&&Object.assign(s,this.getElementsState(a,r,t)),o){let e=ig(n.getData(),!0).filter(e=>!a.includes(e));Object.assign(s,this.getElementsState(e,o,t))}n.setElementState(s,i)},this.getElementsState=(e,t,n)=>{let{graph:r}=this.context,i={};return e.forEach(e=>{let o=r.getElementState(e);n?i[e]=o.includes(t)?o:[...o,t]:i[e]=o.filter(e=>e!==t)}),i},this.bindEvents()}bindEvents(){let{graph:e}=this.context;this.unbindEvents(),on.forEach(t=>{e.on(`${t}:${pS.POINTER_ENTER}`,this.hoverElement),e.on(`${t}:${pS.POINTER_LEAVE}`,this.hoverElement)});let t=this.context.canvas.document;t.addEventListener(`${pS.DRAG_START}`,this.toggleFrozen),t.addEventListener(`${pS.DRAG_END}`,this.toggleFrozen)}getActiveIds(e){let{graph:t}=this.context,{degree:n,direction:r}=this.options,i=e.target.id;return n?oi(t,e.targetType,i,"function"==typeof n?n(e):n,r):[i]}validate(e){if(this.destroyed||this.isFrozen||a6(e.target)||this.context.graph.isCollapsingExpanding)return!1;let{enable:t}=this.options;return(0,r2.Z)(t)?t(e):!!t}unbindEvents(){let{graph:e}=this.context;on.forEach(t=>{e.off(`${t}:${pS.POINTER_ENTER}`,this.hoverElement),e.off(`${t}:${pS.POINTER_LEAVE}`,this.hoverElement)});let t=this.context.canvas.document;t.removeEventListener(`${pS.DRAG_START}`,this.toggleFrozen),t.removeEventListener(`${pS.DRAG_END}`,this.toggleFrozen)}destroy(){this.unbindEvents(),super.destroy()}}sm.defaultOptions={animation:!1,enable:!0,degree:0,direction:"both",state:"active",inactiveState:void 0};class sb extends iO{constructor(e,t){super(e,Object.assign({},sb.defaultOptions,t)),this.hiddenShapes=[],this.isVisible=!0,this.setElementsVisibility=(e,t,n)=>{e.filter(Boolean).forEach(e=>{"hidden"!==t||e.isVisible()?"visible"===t&&this.hiddenShapes.includes(e)?this.hiddenShapes.splice(this.hiddenShapes.indexOf(e),1):iA(e,t,n):this.hiddenShapes.push(e)})},this.filterShapes=(e,t)=>{if((0,r2.Z)(t))return n=>!t(e,n);let n=null==t?void 0:t[e];return e=>!e.className||!(null==n?void 0:n.includes(e.className))},this.hideShapes=e=>{if(!this.validate(e)||!this.isVisible)return;let{element:t}=this.context,{shapes:n={}}=this.options;this.setElementsVisibility(t.getNodes(),"hidden",this.filterShapes("node",n)),this.setElementsVisibility(t.getEdges(),"hidden",this.filterShapes("edge",n)),this.setElementsVisibility(t.getCombos(),"hidden",this.filterShapes("combo",n)),this.isVisible=!1},this.showShapes=(0,sn.Z)(e=>{if(!this.validate(e)||this.isVisible)return;let{element:t}=this.context;this.setElementsVisibility(t.getNodes(),"visible"),this.setElementsVisibility(t.getEdges(),"visible"),this.setElementsVisibility(t.getCombos(),"visible"),this.isVisible=!0},this.options.debounce),this.bindEvents()}bindEvents(){let{graph:e}=this.context;e.on(pw.BEFORE_TRANSFORM,this.hideShapes),e.on(pw.AFTER_TRANSFORM,this.showShapes)}unbindEvents(){let{graph:e}=this.context;e.off(pw.BEFORE_TRANSFORM,this.hideShapes),e.off(pw.AFTER_TRANSFORM,this.showShapes)}validate(e){if(this.destroyed)return!1;let{enable:t}=this.options;return(0,r2.Z)(t)?t(e):!!t}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}sb.defaultOptions={enable:!0,debounce:200,shapes:e=>"node"===e};var sv=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class sy extends iO{constructor(e,t){super(e,Object.assign({},sy.defaultOptions,t)),this.onWheel=e=>sv(this,void 0,void 0,function*(){this.options.preventDefault&&e.preventDefault();let t=e.deltaX,n=e.deltaY;yield this.scroll([-t,-n],e)}),this.shortcut=new i9(e.graph),this.bindEvents()}update(e){super.update(e),this.bindEvents()}bindEvents(){var e,t;let{trigger:n}=this.options;if(this.shortcut.unbindAll(),(0,rD.Z)(n)){null===(e=this.graphDom)||void 0===e||e.removeEventListener(pS.WHEEL,this.onWheel);let{up:t=[],down:r=[],left:i=[],right:o=[]}=n;this.shortcut.bind(t,e=>this.scroll([0,-10],e)),this.shortcut.bind(r,e=>this.scroll([0,10],e)),this.shortcut.bind(i,e=>this.scroll([-10,0],e)),this.shortcut.bind(o,e=>this.scroll([10,0],e))}else null===(t=this.graphDom)||void 0===t||t.addEventListener(pS.WHEEL,this.onWheel,{passive:!1})}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}formatDisplacement(e){let{sensitivity:t}=this.options;return e=iN(e,t),e=this.clampByDirection(e),e=this.clampByRange(e)}clampByDirection([e,t]){let{direction:n}=this.options;return"x"===n?t=0:"y"===n&&(e=0),[e,t]}clampByRange([e,t]){let{viewport:n,canvas:r}=this.context,[i,o]=r.getSize(),[a,s,l,c]=r8(this.options.range),u=io(ii(n.getCanvasCenter()),[o*a,i*s,o*l,i*c]),d=ik(n.getViewportCenter(),[e,t,0]);if(!is(d,u)){let{min:[n,r],max:[i,o]}=u;(d[0]<n&&e>0||d[0]>i&&e<0)&&(e=0),(d[1]<r&&t>0||d[1]>o&&t<0)&&(t=0)}return[e,t]}scroll(e,t){return sv(this,void 0,void 0,function*(){if(!this.validate(t))return;let{onFinish:n}=this.options,r=this.context.graph,i=this.formatDisplacement(e);yield r.translateBy(i,!1),null==n||n()})}validate(e){if(this.destroyed)return!1;let{enable:t}=this.options;return(0,r2.Z)(t)?t(e):!!t}destroy(){var e;this.shortcut.destroy(),null===(e=this.graphDom)||void 0===e||e.removeEventListener(pS.WHEEL,this.onWheel),super.destroy()}}sy.defaultOptions={enable:!0,sensitivity:1,preventDefault:!0,range:1/0};var sE=n(63777),s_=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class sT extends iO{constructor(e,t){super(e,Object.assign({},sT.defaultOptions,t)),this.zoom=(e,t,n)=>s_(this,void 0,void 0,function*(){if(!this.validate(t))return;let{graph:r}=this.context,i=this.options.origin;!i&&"viewport"in t&&(i=iK(t.viewport));let{sensitivity:o,onFinish:a}=this.options,s=1+(0,sE.Z)(e,-50,50)*o/100,l=r.getZoom();yield r.zoomTo(l*s,n,i),null==a||a()}),this.onReset=()=>s_(this,void 0,void 0,function*(){yield this.context.graph.zoomTo(1,this.options.animation)}),this.preventDefault=e=>{this.options.preventDefault&&e.preventDefault()},this.shortcut=new i9(e.graph),this.bindEvents()}update(e){super.update(e),this.bindEvents()}bindEvents(){let{trigger:e}=this.options;if(this.shortcut.unbindAll(),Array.isArray(e)){if(e.includes(pS.PINCH))this.shortcut.bind([pS.PINCH],e=>{this.zoom(e.scale,e,!1)});else{let t=this.context.canvas.getContainer();null==t||t.addEventListener(pS.WHEEL,this.preventDefault),this.shortcut.bind([...e,pS.WHEEL],e=>{let{deltaX:t,deltaY:n}=e;this.zoom(-(null!=n?n:t),e,!1)})}}if("object"==typeof e){let{zoomIn:t=[],zoomOut:n=[],reset:r=[]}=e;this.shortcut.bind(t,e=>this.zoom(10,e,this.options.animation)),this.shortcut.bind(n,e=>this.zoom(-10,e,this.options.animation)),this.shortcut.bind(r,this.onReset)}}validate(e){if(this.destroyed)return!1;let{enable:t}=this.options;return(0,r2.Z)(t)?t(e):!!t}destroy(){var e;this.shortcut.destroy(),null===(e=this.context.canvas.getContainer())||void 0===e||e.removeEventListener(pS.WHEEL,this.preventDefault),super.destroy()}}sT.defaultOptions={animation:{duration:200},enable:!0,sensitivity:1,trigger:[],preventDefault:!0};var sx=n(74355),sS=n(6674),sA=n(15486),sC=n(27166),sw=n(95204),sO=n(80414),sI=n(40599),sL=n(86378),sR=n(87355),sk=n(79166),sN=n(66856),sM=n(61711),sD=n(68065),sP=n(27947),sF=n(91391);class sB extends sl{constructor(){super(...arguments),this.id="fishbone"}getRoot(){let e=this.context.model.getRootsData();if(!(0,oS.Z)(e)&&!(e.length>2))return e[0]}formatSize(e){let t="function"==typeof e?e:()=>e;return e=>om(t(e))}doLayout(e,t){let{hGap:n,getRibSep:r,vGap:i,nodeSize:o,height:a}=t,{model:s}=this.context,l=this.formatSize(o),c=l(e)[0]+r(e),u=(e,t=0)=>{var r;return t+=n*((e.children||[]).length+1),null===(r=e.children)||void 0===r||r.forEach(e=>{var n;let r=s.getNodeLikeDatum(e);null===(n=r.children)||void 0===n||n.forEach(e=>{let n=s.getNodeLikeDatum(e);t=u(n,t)})}),t},d=e=>{if(1===e.depth)return c;let t=s.getParentData(e.id,"tree");if(sZ(e)){let r=s.getParentData(t.id,"tree"),o=f(e)-f(r);return d(t)+o*n/i}{let n=(t.children||[]).indexOf(e.id),r=s.getNodeData((t.children||[]).slice(n));return p(t)-r.reduce((e,t)=>e+u(t),0)-l(t)[0]/2}},p=(0,sF.Z)(e=>{if(sz(e))return l(e)[0]/2;let t=s.getParentData(e.id,"tree");if(sZ(e))return d(e)+u(e)+l(e)[0]/2;{let r=f(e)-f(t);return d(e)+r*(n/i)}},e=>e.id),h=e=>f(s.getParentData(e,"tree")),f=(0,sF.Z)(e=>{if(sz(e))return a/2;if(sZ(e)){let t=s.getParentData(e.id,"tree"),n=t.children.indexOf(e.id);if(0===n)return h(t.id)+i;let r=s.getNodeLikeDatum(t.children[n-1]);if((0,oS.Z)(r.children))return f(r)+i;let o=s.getDescendantsData(r.id);return Math.max(...o.map(e=>sZ(e)?h(e.id):f(e)))+i}{if((0,oS.Z)(e.children))return h(e.id)+i;let t=s.getNodeLikeDatum(e.children.slice(-1)[0]);if((0,oS.Z)(t.children))return f(t)+i;let n=s.getDescendantsData(e.id).slice(-1)[0];return(sZ(n)?h(n.id):f(n))+i}},e=>e.id),g=0,m={nodes:[],edges:[]},b=e=>{var t;null===(t=e.children)||void 0===t||t.forEach(e=>b(s.getNodeLikeDatum(e)));let n=f(e),i=p(e);if(m.nodes.push({id:e.id,x:i,y:n}),sz(e))return;let o=s.getRelatedEdgesData(e.id,"in")[0],a=[d(e),sZ(e)?n:h(e.id)];m.edges.push({id:ih(o),controlPoints:[a],relatedNodeId:e.id}),g=Math.max(g,i+r(e)),1===e.depth&&(c=g)};return b(e),m}placeAlterative(e,t){let n=(t.children||[]).filter((e,t)=>t%2!=0);if(0===n.length)return e;let{model:r}=this.context,i=e.nodes.find(e=>e.id===t.id).y,o=e=>{let t=r.getAncestorsData(e,"tree");if((0,oS.Z)(t))return!1;let i=1===t.length?e:t[t.length-2].id;return n.includes(i)};e.nodes.forEach(e=>{o(e.id)&&(e.y=2*i-e.y)}),e.edges.forEach(e=>{o(e.relatedNodeId)&&(e.controlPoints=e.controlPoints.map(e=>[e[0],2*i-e[1]]))})}rightToLeft(e,t){return e.nodes.forEach(e=>e.x=t.width-e.x),e.edges.forEach(e=>{e.controlPoints=e.controlPoints.map(e=>[t.width-e[0],e[1]])}),e}execute(e,t){var n,r,i,o;return n=this,r=void 0,i=void 0,o=function*(){let n=Object.assign(Object.assign(Object.assign({},sB.defaultOptions),this.options),t),{direction:r,nodeSize:i}=n,o=this.getRoot();if(!o)return e;let a=this.formatSize(i);n.vGap||(n.vGap=Math.max(...(e.nodes||[]).map(e=>a(e)[1]))),n.hGap||(n.hGap=Math.max(...(e.nodes||[]).map(e=>a(e)[0])));let s=this.doLayout(o,n);this.placeAlterative(s,o),"RL"===r&&(s=this.rightToLeft(s,n));let{model:l}=this.context,c=[],u=[];return s.nodes.forEach(e=>{let{id:t,x:n,y:r}=e,i=l.getNodeLikeDatum(t);c.push(sU(i,{x:n,y:r}))}),s.edges.forEach(e=>{let{id:t,controlPoints:n}=e,r=l.getEdgeDatum(t);u.push(sU(r,{controlPoints:n}))}),{nodes:c,edges:u}},new(i||(i=Promise))(function(e,t){function a(e){try{l(o.next(e))}catch(e){t(e)}}function s(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof i?n:new i(function(e){e(n)})).then(a,s)}l((o=o.apply(n,r||[])).next())})}}sB.defaultOptions={direction:"RL",getRibSep:()=>60};let sU=(e,t)=>Object.assign(Object.assign({},e),{style:Object.assign(Object.assign({},e.style||{}),t)}),sz=e=>0===e.depth,sZ=e=>(e.depth||(e.depth=0))%2==0;class sj extends sl{constructor(){super(...arguments),this.id="snake"}formatSize(e,t){let n="function"==typeof t?t:()=>t;return e.reduce((e,t)=>{let[r,i]=om(n(t))||[0,0];return[Math.max(e[0],r),Math.max(e[1],i)]},[0,0])}validate(e){let{nodes:t=[],edges:n=[]}=e,r={},i={},o={};t.forEach(e=>{r[e.id]=0,i[e.id]=0,o[e.id]=[]}),n.forEach(e=>{r[e.target]++,i[e.source]++,o[e.source].push(e.target)});let a=new Set,s=e=>{a.has(e)||(a.add(e),o[e].forEach(s))};if(s(t[0].id),a.size!==t.length)return!1;let l=t.filter(e=>0===r[e.id]),c=t.filter(e=>0===i[e.id]);if(1!==l.length||1!==c.length)return!1;let u=t.filter(e=>1===r[e.id]&&1===i[e.id]);return u.length===t.length-2}execute(e,t){var n,r,i,o;return n=this,r=void 0,i=void 0,o=function*(){var n;if(!this.validate(e))return e;let{nodeSize:r,padding:i,sortBy:o,cols:a,colGap:s,rowGap:l,clockwise:c,width:u,height:d}=Object.assign({},sj.defaultOptions,this.options,t),[p,h,f,g]=r8(i),m=this.formatSize(e.nodes||[],r),b=Math.ceil((e.nodes||[]).length/a),v=s||(u-g-h-a*m[0])/(a-1),y=l||(d-p-f-b*m[1])/(b-1);(y===1/0||y<0)&&(y=0),(v===1/0||v<0)&&(v=0);let E=o?null===(n=e.nodes)||void 0===n?void 0:n.sort(o):function(e){let{nodes:t=[],edges:n=[]}=e,r={},i={};t.forEach(e=>{r[e.id]=0,i[e.id]=[]}),n.forEach(e=>{r[e.target]++,i[e.source].push(e.target)});let o=[],a=[];for(t.forEach(e=>{0===r[e.id]&&o.push(e.id)});o.length>0;){let e=o.shift(),n=t.find(t=>t.id===e);a.push(n),i[e].forEach(e=>{r[e]--,0===r[e]&&o.push(e)})}return a}(e),_=(E||[]).map((e,t)=>{let n=Math.floor(t/a),r=t%a,i=g+(c?n%2==0?r:a-1-r:n%2==0?a-1-r:r)*(m[0]+v)+m[0]/2,o=p+n*(m[1]+y)+m[1]/2;return{id:e.id,style:{x:i,y:o}}});return{nodes:_}},new(i||(i=Promise))(function(e,t){function a(e){try{l(o.next(e))}catch(e){t(e)}}function s(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof i?n:new i(function(e){e(n)})).then(a,s)}l((o=o.apply(n,r||[])).next())})}}sj.defaultOptions={padding:0,cols:5,clockwise:!0};var sH=n(73959);class sG extends iw{}function sV(e,t=!0,n){let r=document.createElement("div");return r.setAttribute("class",`g6-${e}`),Object.assign(r.style,{position:"absolute",display:"block"}),t&&Object.assign(r.style,{position:"unset",gridArea:"1 / 1 / 2 / 2",inset:"0px",height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none"}),n&&Object.assign(r.style,n),r}function s$(e,t="div",n={},r="",i=document.body){let o=document.getElementById(e);o&&o.remove();let a=document.createElement(t);return a.innerHTML=r,a.id=e,Object.assign(a.style,n),i.appendChild(a),a}class sW extends sG{constructor(e,t){super(e,Object.assign({},sW.defaultOptions,t)),this.$element=sV("background");let n=this.context.canvas.getContainer();n.prepend(this.$element),this.update(t)}update(e){var t,n,r,i;let o=Object.create(null,{update:{get:()=>super.update}});return t=this,n=void 0,r=void 0,i=function*(){o.update.call(this,e),Object.assign(this.$element.style,(0,sH.Z)(this.options,["key","type"]))},new(r||(r=Promise))(function(e,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(e){e(n)})).then(a,s)}l((i=i.apply(t,n||[])).next())})}destroy(){super.destroy(),this.$element.remove()}}sW.defaultOptions={transition:"background 0.5s",backgroundSize:"cover",zIndex:"-1"};var sY=n(25470),sq=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class sX extends sG{constructor(e,t){super(e,(0,G.Z)({},sX.defaultOptions,t)),this.members=new Map,this.avoidMembers=new Map,this.bubbleSetOptions={},this.drawBubbleSets=()=>{let{style:e,bubbleSetOptions:t}=this.parseOptions();(0,rM.Z)(this.bubbleSetOptions,t)||this.init(),this.bubbleSetOptions=Object.assign({},t);let n=Object.assign(Object.assign({},e),{d:this.getPath()});this.shape?this.shape.update(n):(this.shape=new oM({style:n}),this.context.canvas.appendChild(this.shape))},this.updateBubbleSetsPath=e=>{if(!this.shape)return;let t=ih(e.data);[...this.options.members,...this.options.avoidMembers].includes(t)&&this.shape.update(Object.assign(Object.assign({},this.parseOptions().style),{d:this.getPath(t)}))},this.getPath=e=>{let{graph:t}=this.context,n=this.options.members,r=[...this.members.keys()],i=this.options.avoidMembers,o=[...this.avoidMembers.keys()];if(!e&&(0,rM.Z)(n,r)&&(0,rM.Z)(i,o))return this.path;let{enter:a=[],exit:s=[]}=iS(r,n,e=>e),{enter:l=[],exit:c=[]}=iS(o,i,e=>e);e&&(s.push(e),a.push(e));let u=(e,n,r)=>{e.forEach(e=>{let i=r?this.members:this.avoidMembers;if(n){let n;"edge"===t.getElementType(e)?([n]=sQ(t,e),this.bubbleSets.pushEdge(n)):([n]=sK(t,e),this.bubbleSets[r?"pushMember":"pushNonMember"](n)),i.set(e,n)}else{let n=i.get(e);n&&("edge"===t.getElementType(e)?this.bubbleSets.removeEdge(n):this.bubbleSets[r?"removeMember":"removeNonMember"](n),i.delete(e))}})};u(s,!1,!0),u(a,!0,!0),u(c,!1,!1),u(l,!0,!1);let d=this.bubbleSets.compute(),p=d.sample(8).simplify(0).bSplines().simplify(0);return this.path=ok(p.points.map(iK)),this.path},this.bindEvents(),this.bubbleSets=new sY.CF(this.options)}bindEvents(){this.context.graph.on(pw.AFTER_RENDER,this.drawBubbleSets),this.context.graph.on(pw.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath)}init(){this.bubbleSets=new sY.CF(this.options),this.members=new Map,this.avoidMembers=new Map}parseOptions(){let e=this.options,{type:t,key:n,members:r,avoidMembers:i}=e,o=sq(e,["type","key","members","avoidMembers"]),a=Object.keys(o).reduce((e,t)=>(t in sY.vC?e.bubbleSetOptions[t]=o[t]:e.style[t]=o[t],e),{style:{},bubbleSetOptions:{}});return Object.assign({type:t,key:n,members:r,avoidMembers:i},a)}addMember(e){let t=Array.isArray(e)?e:[e];t.some(e=>this.options.avoidMembers.includes(e))&&(this.options.avoidMembers=this.options.avoidMembers.filter(e=>!t.includes(e))),this.options.members=[...new Set([...this.options.members,...t])],this.drawBubbleSets()}removeMember(e){let t=Array.isArray(e)?e:[e];this.options.members=this.options.members.filter(e=>!t.includes(e)),this.drawBubbleSets()}updateMember(e){this.options.members=(0,r2.Z)(e)?e(this.options.members):e,this.drawBubbleSets()}getMember(){return this.options.members}addAvoidMember(e){let t=Array.isArray(e)?e:[e];t.some(e=>this.options.members.includes(e))&&(this.options.members=this.options.members.filter(e=>!t.includes(e))),this.options.avoidMembers=[...new Set([...this.options.avoidMembers,...t])],this.drawBubbleSets()}removeAvoidMember(e){let t=Array.isArray(e)?e:[e];this.options.avoidMembers.some(e=>t.includes(e))&&(this.options.avoidMembers=this.options.avoidMembers.filter(e=>!t.includes(e)),this.drawBubbleSets())}updateAvoidMember(e){this.options.avoidMembers=Array.isArray(e)?e:[e],this.drawBubbleSets()}getAvoidMember(){return this.options.avoidMembers}destroy(){this.context.graph.off(pw.AFTER_RENDER,this.drawBubbleSets),this.context.graph.off(pw.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath),this.shape.destroy(),super.destroy()}}sX.defaultOptions=Object.assign({members:[],avoidMembers:[],fill:"lightblue",fillOpacity:.2,stroke:"blue",strokeOpacity:.2},sY.vC);let sK=(e,t)=>{let n=Array.isArray(t)?t:[t];return n.map(t=>{let n=e.getElementRenderBounds(t);return new sY.Ae(n.min[0],n.min[1],r9(n),ie(n))})},sQ=(e,t)=>{let n=Array.isArray(t)?t:[t];return n.map(t=>{let n=e.getEdgeData(t),r=e.getElementPosition(n.source),i=e.getElementPosition(n.target);return sY.x1.from({x1:r[0],y1:r[1],x2:i[0],y2:i[1]})})},sJ=`
  .g6-contextmenu {
    font-size: 12px;
    background-color: rgba(255, 255, 255, 0.96);
    border-radius: 4px;
    overflow: hidden;
    box-shadow: rgba(0, 0, 0, 0.12) 0px 6px 12px 0px;
    transition: visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1) 0s, left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s;
  }

  .g6-contextmenu-ul {
    max-width: 256px;
    min-width: 96px;
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .g6-contextmenu-li {
    padding: 8px 12px;
    cursor: pointer;
    user-select: none;
  }

  .g6-contextmenu-li:hover {
    background-color: #f5f5f5;
    cursor: pointer;
  }
`;var s0=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class s1 extends sG{constructor(e,t){super(e,Object.assign({},s1.defaultOptions,t)),this.targetElement=null,this.onTriggerEvent=e=>{var t;null===(t=e.preventDefault)||void 0===t||t.call(e),this.show(e)},this.onMenuItemClick=e=>{let{onClick:t,trigger:n}=this.options;if(e.target instanceof HTMLElement&&e.target.className.includes("g6-contextmenu-li")){let n=e.target.getAttribute("value");null==t||t(n,e.target,this.targetElement),this.hide()}"click"!==n&&this.hide()},this.initElement(),this.update(t)}initElement(){this.$element=sV("contextmenu",!1,{zIndex:"99"});let{className:e}=this.options;e&&this.$element.classList.add(e);let t=this.context.canvas.getContainer();t.appendChild(this.$element),s$("g6-contextmenu-css","style",{},sJ,document.head)}show(e){return s0(this,void 0,void 0,function*(){let{enable:t,offset:n}=this.options;if("function"==typeof t&&!t(e)||!t){this.hide();return}let r=yield this.getDOMContent(e);r instanceof HTMLElement?(this.$element.innerHTML="",this.$element.appendChild(r)):this.$element.innerHTML=r;let i=this.context.graph.getCanvas().getContainer().getBoundingClientRect();this.$element.style.left=`${e.client.x-i.left+n[0]}px`,this.$element.style.top=`${e.client.y-i.top+n[1]}px`,this.$element.style.display="block",this.targetElement=e.target})}hide(){this.$element.style.display="none",this.targetElement=null}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy(),this.$element.remove()}getDOMContent(e){return s0(this,void 0,void 0,function*(){let{getContent:t,getItems:n}=this.options;return n?`
    <ul class="g6-contextmenu-ul">
      ${(yield n(e)).map(e=>`<li  class="g6-contextmenu-li" value="${e.value}">${e.name}</li>`).join("")}
    </ul>
  `:yield t(e)})}bindEvents(){let{graph:e}=this.context,{trigger:t}=this.options;e.on(`canvas:${t}`,this.onTriggerEvent),e.on(`node:${t}`,this.onTriggerEvent),e.on(`edge:${t}`,this.onTriggerEvent),e.on(`combo:${t}`,this.onTriggerEvent),document.addEventListener("click",this.onMenuItemClick)}unbindEvents(){let{graph:e}=this.context,{trigger:t}=this.options;e.off(`canvas:${t}`,this.onTriggerEvent),e.off(`node:${t}`,this.onTriggerEvent),e.off(`edge:${t}`,this.onTriggerEvent),e.off(`combo:${t}`,this.onTriggerEvent),document.removeEventListener("click",this.onMenuItemClick)}}s1.defaultOptions={trigger:"contextmenu",offset:[4,4],loadingContent:'<div class="g6-contextmenu-loading">Loading...</div>',getContent:()=>"It is a empty context menu.",enable:()=>!0};class s2 extends sG{constructor(e,t){super(e,Object.assign({},s2.defaultOptions,t)),this.edgeBundles={},this.edgePoints={},this.onBundle=()=>{let{model:e,element:t}=this.context,n=e.getEdgeData();this.divideEdges(this.options.divisions);let{cycles:r,iterRate:i,divRate:o}=this.options,{lambda:a,divisions:s,iterations:l}=this.options;for(let e=0;e<r;e++){for(let e=0;e<l;e++){let e={};n.forEach(t=>{var n;if(t.source===t.target)return;let r=ih(t);e[r]=this.getEdgeForces(t,s,a);for(let t=0;t<s+1;t++)(n=this.edgePoints)[r]||(n[r]=[]),this.edgePoints[r][t]=iR(this.edgePoints[r][t],e[r][t])})}a/=2,s*=o,l*=i,this.divideEdges(s)}n.forEach(e=>{let n=ih(e),r=t.getElement(n);null==r||r.update({d:af(this.edgePoints[n])})})},this.bindEvents()}get nodeMap(){let e=this.context.model.getNodeData();return Object.fromEntries(e.map(e=>[ih(e),ij(iY(e))]))}divideEdges(e){let t=this.context.model.getEdgeData();t.forEach(t=>{var n;let r=ih(t);(n=this.edgePoints)[r]||(n[r]=[]);let i=this.nodeMap[t.source],o=this.nodeMap[t.target];if(1===e)this.edgePoints[r].push(i),this.edgePoints[r].push(iM(iR(i,o),2)),this.edgePoints[r].push(o);else{let t=0===this.edgePoints[r].length?iP(i,o):s9(this.edgePoints[r]),n=t/(e+1),a=n,s=[i];for(let e=1;e<this.edgePoints[r].length;e++){let t=this.edgePoints[r][e-1],i=this.edgePoints[r][e],o=iP(i,t);for(;o>a;){let e=a/o,r=iR(t,iN(ik(i,t),e));s.push(r),o-=a,a=n}a-=o}s.push(o),this.edgePoints[r]=s}})}getVectorPosition(e){let t=this.nodeMap[e.source],n=this.nodeMap[e.target],[r,i]=ik(n,t),o=iP(t,n);return{source:t,target:n,vx:r,vy:i,length:o}}measureEdgeCompatibility(e,t){let n=this.getVectorPosition(e),r=this.getVectorPosition(t),i=s3(n,r),o=s5(n,r),a=s4(n,r),s=s8(n,r);return i*o*a*s}getEdgeBundles(){let e={},t=this.options.bundleThreshold,n=this.context.model.getEdgeData();return n.forEach((r,i)=>{n.forEach((n,o)=>{var a,s;if(o<=i)return;let l=this.measureEdgeCompatibility(r,n);l>=t&&(e[a=ih(r)]||(e[a]=[]),e[ih(r)].push(n),e[s=ih(n)]||(e[s]=[]),e[ih(n)].push(r))})}),e}getSpringForce(e,t){let{pre:n,cur:r,next:i}=e;return iN(ik(iR(n,i),iN(r,2)),t)}getElectrostaticForce(e,t){(0,oS.Z)(this.edgeBundles)&&(this.edgeBundles=this.getEdgeBundles());let n=this.edgeBundles[ih(t)],r=[0,0];return null==n||n.forEach(n=>{let i=this.edgePoints[ih(n)][e],o=this.edgePoints[ih(t)][e],a=ik(i,o),s=iP(i,o);r=iR(r,iN(a,1/s))}),r}getEdgeForces(e,t,n){let r=this.nodeMap[e.source],i=this.nodeMap[e.target],o=this.options.K/(iP(r,i)*(t+1)),a=[[0,0]],s=ih(e);for(let r=1;r<t;r++){let t=this.getSpringForce({pre:this.edgePoints[s][r-1],cur:this.edgePoints[s][r],next:this.edgePoints[s][r+1]||[0,0]},o),i=this.getElectrostaticForce(r,e);a.push(iN(iR(t,i),n))}return a.push([0,0]),a}bindEvents(){let{graph:e}=this.context;e.on(pw.AFTER_RENDER,this.onBundle)}unbindEvents(){let{graph:e}=this.context;e.off(pw.AFTER_RENDER,this.onBundle)}destroy(){this.unbindEvents(),super.destroy()}}s2.defaultOptions={K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:2/3,bundleThreshold:.6};let s3=(e,t)=>{var n,r;return Math.abs((n=[e.vx,e.vy],r=[t.vx,t.vy],n.reduce((e,t,n)=>e+t*r[n],0)/(e.length*t.length)))},s5=(e,t)=>{let n=(e.length+t.length)/2;return 2/(n/Math.min(e.length,t.length)+Math.max(e.length,t.length)/n)},s4=(e,t)=>{let n=(e.length+t.length)/2,r=iM(iR(e.source,e.target),2),i=iM(iR(t.source,t.target),2);return n/(n+iP(r,i))},s6=(e,t)=>{if(t.source[0]===t.target[0])return[t.source[0],e[1]];if(t.source[1]===t.target[1])return[e[0],t.source[1]];let n=(t.source[1]-t.target[1])/(t.source[0]-t.target[0]),r=(n*n*t.source[0]+n*(e[1]-t.source[1])+e[0])/(n*n+1),i=n*(r-t.source[0])+t.source[1];return[r,i]},s7=(e,t)=>{let n=s6(t.source,e),r=s6(t.target,e),i=iM(iR(n,r),2),o=iM(iR(e.source,e.target),2);return 0===iP(n,r)?0:Math.max(0,1-2*iP(o,i)/iP(n,r))},s8=(e,t)=>Math.min(s7(e,t),s7(t,e)),s9=e=>{let t=0;for(let n=1;n<e.length;n++)t+=iP(e[n],e[n-1]);return t},le={fill:"#fff",fillOpacity:1,lineWidth:1,stroke:"#000",strokeOpacity:.8,zIndex:-1/0};class lt extends sG{constructor(e,t){super(e,Object.assign({},lt.defaultOptions,t)),this.shapes=new Map,this.r=this.options.r,this.onEdgeFilter=e=>{if("drag"===this.options.trigger&&this.isLensOn)return;let t=iK(e.canvas);this.renderLens(t),this.renderFocusElements()},this.renderLens=e=>{let t=Object.assign({},le,this.options.style);this.isLensOn||(this.lens=new oG({style:t}),this.canvas.appendChild(this.lens)),Object.assign(t,iQ(e),{size:2*this.r}),this.lens.update(t)},this.getFilterData=()=>{let{filter:e}=this.options,{model:t}=this.context,n=t.getData();if(!e)return n;let{nodes:r,edges:i,combos:o}=n;return{nodes:r.filter(t=>e(ih(t),"node")),edges:i.filter(t=>e(ih(t),"edge")),combos:o.filter(t=>e(ih(t),"combo"))}},this.getFocusElements=e=>{let{nodes:t,edges:n}=this.getFilterData(),r=t.filter(t=>iP(iY(t),e)<this.r),i=r.map(e=>ih(e)),o=n.filter(e=>{let{source:t,target:n}=e,r=i.includes(t),o=i.includes(n);switch(this.options.nodeType){case"both":return r&&o;case"either":return r!==o;case"source":return r&&!o;case"target":return!r&&o;default:return!1}});return{nodes:r,edges:o}},this.renderFocusElements=()=>{let{element:e,graph:t}=this.context;if(!this.isLensOn)return;let n=this.lens.getCenter(),{nodes:r,edges:i}=this.getFocusElements(n),o=new Set,a=n=>{let r=ih(n);o.add(r);let i=e.getElement(r);if(!i)return;let a=this.shapes.get(r)||i.cloneNode();a.setPosition(i.getPosition()),a.id=i.id,this.shapes.has(r)?Object.entries(i.attributes).forEach(([e,t])=>{a.style[e]!==t&&(a.style[e]=t)}):(this.canvas.appendChild(a),this.shapes.set(r,a));let s=t.getElementType(r),l=this.getElementStyle(s,n);a.update(l)};r.forEach(a),i.forEach(a),this.shapes.forEach((e,t)=>{o.has(t)||(e.destroy(),this.shapes.delete(t))})},this.scaleRByWheel=e=>{var t;this.options.preventDefault&&e.preventDefault();let{clientX:n,clientY:r,deltaX:i,deltaY:o}=e,{graph:a,canvas:s}=this.context,l=a.getCanvasByClient([n,r]),c=null===(t=this.lens)||void 0===t?void 0:t.getCenter();if(!this.isLensOn||iP(l,c)>this.r)return;let{maxR:u,minR:d}=this.options,p=Math.min(...s.getSize())/2;this.r=Math.max(d||0,Math.min(u||p,this.r*(i+o>0?1/.95:.95))),this.renderLens(c),this.renderFocusElements()},this.isLensDragging=!1,this.onDragStart=e=>{var t;let n=iK(e.canvas),r=null===(t=this.lens)||void 0===t?void 0:t.getCenter();!this.isLensOn||iP(n,r)>this.r||(this.isLensDragging=!0)},this.onDrag=e=>{if(!this.isLensDragging)return;let t=iK(e.canvas);this.renderLens(t),this.renderFocusElements()},this.onDragEnd=()=>{this.isLensDragging=!1},this.bindEvents()}get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}getElementStyle(e,t){let n="node"===e?this.options.nodeStyle:this.options.edgeStyle;return"function"==typeof n?n(t):n}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}bindEvents(){var e;let{graph:t}=this.context,{trigger:n,scaleRBy:r}=this.options,i=t.getCanvas().getLayer();["click","drag"].includes(n)&&i.addEventListener(pS.CLICK,this.onEdgeFilter),"pointermove"===n?i.addEventListener(pS.POINTER_MOVE,this.onEdgeFilter):"drag"===n&&(i.addEventListener(pS.DRAG_START,this.onDragStart),i.addEventListener(pS.DRAG,this.onDrag),i.addEventListener(pS.DRAG_END,this.onDragEnd)),"wheel"===r&&(null===(e=this.graphDom)||void 0===e||e.addEventListener(pS.WHEEL,this.scaleRByWheel,{passive:!1}))}unbindEvents(){var e;let{graph:t}=this.context,{trigger:n,scaleRBy:r}=this.options,i=t.getCanvas().getLayer();["click","drag"].includes(n)&&i.removeEventListener(pS.CLICK,this.onEdgeFilter),"pointermove"===n?i.removeEventListener(pS.POINTER_MOVE,this.onEdgeFilter):"drag"===n&&(i.removeEventListener(pS.DRAG_START,this.onDragStart),i.removeEventListener(pS.DRAG,this.onDrag),i.removeEventListener(pS.DRAG_END,this.onDragEnd)),"wheel"===r&&(null===(e=this.graphDom)||void 0===e||e.removeEventListener(pS.WHEEL,this.scaleRByWheel))}update(e){var t;this.unbindEvents(),super.update(e),this.r=null!==(t=e.r)&&void 0!==t?t:this.r,this.bindEvents()}destroy(){this.unbindEvents(),this.isLensOn&&this.lens.destroy(),this.shapes.forEach((e,t)=>{e.destroy(),this.shapes.delete(t)}),super.destroy()}}lt.defaultOptions={trigger:"pointermove",r:60,nodeType:"both",filter:()=>!0,style:{lineWidth:2},nodeStyle:{label:!1},edgeStyle:{label:!0},scaleRBy:"wheel",preventDefault:!0};let ln={fill:"#ccc",fillOpacity:.1,lineWidth:2,stroke:"#000",strokeOpacity:.8,labelFontSize:12};class lr extends sG{constructor(e,t){super(e,Object.assign({},lr.defaultOptions,t)),this.r=this.options.r,this.d=this.options.d,this.onCreateFisheye=e=>{if("drag"===this.options.trigger&&this.isLensOn)return;let t=iK(e.canvas);this.onMagnify(t)},this.onMagnify=e=>{e.some(isNaN)||(this.renderLens(e),this.renderFocusElements())},this.renderLens=e=>{let t=Object.assign({},ln,this.options.style);this.isLensOn||(this.lens=new oG({style:t}),this.canvas.appendChild(this.lens)),Object.assign(t,iQ(e),{size:2*this.r,label:this.options.showDPercent,labelText:this.getDPercent()}),this.lens.update(t)},this.getDPercent=()=>{let{minD:e,maxD:t}=this.options,n=Math.round((this.d-e)/(t-e)*100);return`${n}%`},this.prevMagnifiedStyleMap=new Map,this.prevOriginStyleMap=new Map,this.renderFocusElements=()=>{if(!this.isLensOn)return;let{graph:e}=this.context,t=this.lens.getCenter(),n=(this.d+1)*this.r,r=new Map,i=new Map,o=e.getNodeData();o.forEach(o=>{let a=iY(o),s=iP(a,t);if(s>this.r)return;let l=n*s/(this.d*s+this.r),[c,u]=a,[d,p]=t,h=ih(o),f=this.getNodeStyle(o),g=(0,j.Z)(e.getElementRenderStyle(h),Object.keys(f));r.set(h,Object.assign(Object.assign({},iQ([d+l*((c-d)/s),p+l*((u-p)/s)])),f)),i.set(h,Object.assign(Object.assign({},iQ(a)),g))}),this.updateStyle(r,i)},this.getNodeStyle=e=>{let{nodeStyle:t}=this.options;return"function"==typeof t?t(e):t},this.updateStyle=(e,t)=>{let{graph:n,element:r}=this.context,{enter:i,exit:o,keep:a}=iS(Array.from(this.prevMagnifiedStyleMap.keys()),Array.from(e.keys()),e=>e),s=new Set,l=(e,t)=>{let i=r.getElement(e);null==i||i.update(t),n.getRelatedEdgesData(e).forEach(e=>{s.add(ih(e))})};[...i,...a].forEach(t=>{l(t,e.get(t))}),o.forEach(e=>{l(e,this.prevOriginStyleMap.get(e)),this.prevOriginStyleMap.delete(e)}),s.forEach(e=>{let t=r.getElement(e);null==t||t.update({})}),this.prevMagnifiedStyleMap=e,t.forEach((e,t)=>{this.prevOriginStyleMap.has(t)||this.prevOriginStyleMap.set(t,e)})},this.isWheelValid=e=>{if(this.options.preventDefault&&e.preventDefault(),!this.isLensOn)return!1;let{clientX:t,clientY:n}=e,r=this.context.graph.getCanvasByClient([t,n]),i=this.lens.getCenter();return!(iP(r,i)>this.r)},this.scaleR=e=>{let{maxR:t,minR:n}=this.options,r=Math.min(...this.context.canvas.getSize())/2;this.r=Math.max(n||0,Math.min(t||r,this.r*(e?1/.95:.95)))},this.scaleD=e=>{let{maxD:t,minD:n}=this.options,r=e?this.d+.1:this.d-.1;this.d=Math.max(n,Math.min(t,r))},this.scaleRByWheel=e=>{if(!this.isWheelValid(e))return;let{deltaX:t,deltaY:n}=e;this.scaleR(t+n>0);let r=this.lens.getCenter();this.onMagnify(r)},this.scaleDByWheel=e=>{if(!this.isWheelValid(e))return;let{deltaX:t,deltaY:n}=e;this.scaleD(t+n>0);let r=this.lens.getCenter();this.onMagnify(r)},this.isDragValid=e=>{if(this.options.preventDefault&&e.preventDefault(),!this.isLensOn)return!1;let t=iK(e.canvas),n=this.lens.getCenter();return!(iP(t,n)>this.r)},this.isLensDragging=!1,this.onDragStart=e=>{this.isDragValid(e)&&(this.isLensDragging=!0)},this.onDrag=e=>{if(!this.isLensDragging)return;let t=iK(e.canvas);this.onMagnify(t)},this.onDragEnd=()=>{this.isLensDragging=!1},this.scaleRByDrag=e=>{if(!this.isLensDragging)return;let{dx:t,dy:n}=e;this.scaleR(t-n>0);let r=this.lens.getCenter();this.onMagnify(r)},this.scaleDByDrag=e=>{if(!this.isLensDragging)return;let{dx:t,dy:n}=e;this.scaleD(t-n>0);let r=this.lens.getCenter();this.onMagnify(r)},this.bindEvents()}get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}bindEvents(){var e;let{graph:t}=this.context,{trigger:n,scaleRBy:r,scaleDBy:i}=this.options,o=t.getCanvas().getLayer();if(["click","drag"].includes(n)&&o.addEventListener(pS.CLICK,this.onCreateFisheye),"pointermove"===n&&o.addEventListener(pS.POINTER_MOVE,this.onCreateFisheye),"drag"===n||"drag"===r||"drag"===i){o.addEventListener(pS.DRAG_START,this.onDragStart),o.addEventListener(pS.DRAG_END,this.onDragEnd);let e="drag"===n?this.onDrag:"drag"===r?this.scaleRByDrag:this.scaleDByDrag;o.addEventListener(pS.DRAG,e)}if("wheel"===r||"wheel"===i){let t="wheel"===r?this.scaleRByWheel:this.scaleDByWheel;null===(e=this.graphDom)||void 0===e||e.addEventListener(pS.WHEEL,t,{passive:!1})}}unbindEvents(){var e;let{graph:t}=this.context,{trigger:n,scaleRBy:r,scaleDBy:i}=this.options,o=t.getCanvas().getLayer();if(["click","drag"].includes(n)&&o.removeEventListener(pS.CLICK,this.onCreateFisheye),"pointermove"===n&&o.removeEventListener(pS.POINTER_MOVE,this.onCreateFisheye),"drag"===n||"drag"===r||"drag"===i){o.removeEventListener(pS.DRAG_START,this.onDragStart),o.removeEventListener(pS.DRAG_END,this.onDragEnd);let e="drag"===n?this.onDrag:"drag"===r?this.scaleRByDrag:this.scaleDByDrag;o.removeEventListener(pS.DRAG,e)}if("wheel"===r||"wheel"===i){let t="wheel"===r?this.scaleRByWheel:this.scaleDByWheel;null===(e=this.graphDom)||void 0===e||e.removeEventListener(pS.WHEEL,t)}}update(e){var t,n;this.unbindEvents(),super.update(e),this.r=null!==(t=e.r)&&void 0!==t?t:this.r,this.d=null!==(n=e.d)&&void 0!==n?n:this.d,this.bindEvents()}destroy(){var e;this.unbindEvents(),this.isLensOn&&(null===(e=this.lens)||void 0===e||e.destroy()),this.prevMagnifiedStyleMap.clear(),this.prevOriginStyleMap.clear(),super.destroy()}}lr.defaultOptions={trigger:"pointermove",r:120,d:1.5,maxD:5,minD:0,showDPercent:!0,style:{},nodeStyle:{label:!0},preventDefault:!0};class li extends sG{constructor(e,t){super(e,Object.assign({},li.defaultOptions,t)),this.$el=this.context.canvas.getContainer(),this.graphSize=[0,0],this.onFullscreenChange=()=>{var e,t,n,r;let i=!!document.fullscreenElement;this.options.autoFit&&this.setGraphSize(i),i?null===(t=(e=this.options).onEnter)||void 0===t||t.call(e):null===(r=(n=this.options).onExit)||void 0===r||r.call(n)},this.shortcut=new i9(e.graph),this.bindEvents(),this.style=document.createElement("style"),document.head.appendChild(this.style),this.style.innerHTML=`
      :not(:root):fullscreen::backdrop {
        background: transparent;
      }
    `}bindEvents(){this.unbindEvents(),this.shortcut.unbindAll();let{request:e=[],exit:t=[]}=this.options.trigger;this.shortcut.bind(e,this.request),this.shortcut.bind(t,this.exit),["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach(e=>{document.addEventListener(e,this.onFullscreenChange,!1)})}unbindEvents(){this.shortcut.unbindAll(),["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach(e=>{document.removeEventListener(e,this.onFullscreenChange,!1)})}setGraphSize(e=!0){var t,n;let r,i;e?(r=(null===(t=globalThis.screen)||void 0===t?void 0:t.width)||0,i=(null===(n=globalThis.screen)||void 0===n?void 0:n.height)||0,this.graphSize=this.context.graph.getSize()):[r,i]=this.graphSize,this.context.graph.setSize(r,i),this.context.graph.render()}request(){!document.fullscreenElement&&(document.fullscreenEnabled||Reflect.get(document,"webkitFullscreenEnabled")||Reflect.get(document,"mozFullscreenEnabled")||Reflect.get(document,"msFullscreenEnabled"))&&this.$el.requestFullscreen().catch(e=>{rH.warn(`Error attempting to enable full-screen: ${e.message} (${e.name})`)})}exit(){document.fullscreenElement&&document.exitFullscreen()}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}destroy(){this.exit(),this.style.remove(),super.destroy()}}li.defaultOptions={trigger:{},autoFit:!0};var lo=n(29348);class la extends sG{constructor(e,t){super(e,Object.assign({},la.defaultOptions,t)),this.$element=sV("grid-line",!0),this.offset=[0,0],this.currentScale=1,this.followZoom=e=>{let{data:{scale:t,origin:n}}=e;if(!t)return;let r=this.currentScale;this.currentScale=t;let i=t/r,o=iN(n||this.context.graph.getCanvasCenter(),1-i),a=this.baseSize*t,s=iN(this.offset,i),l=iZ(s,a),c=iR(l,o);this.$element.style.backgroundSize=`${a}px ${a}px`,this.$element.style.backgroundPosition=`${c[0]}px ${c[1]}px`,this.offset=iZ(c,a)},this.followTranslate=e=>{if(!this.options.follow)return;let{data:{translate:t}}=e;t&&this.updateOffset(t)},this.onTransform=e=>{let t=this.parseFollow(this.options.follow);t.zoom&&this.followZoom(e),t.translate&&this.followTranslate(e)};let n=this.context.canvas.getContainer();n.prepend(this.$element),this.baseSize=this.options.size,this.updateStyle(),this.bindEvents()}update(e){super.update(e),void 0!==e.size&&(this.baseSize=e.size),this.updateStyle()}bindEvents(){let{graph:e}=this.context;e.on(pw.AFTER_TRANSFORM,this.onTransform)}updateStyle(){let{stroke:e,lineWidth:t,border:n,borderLineWidth:r,borderStroke:i,borderStyle:o}=this.options,a=this.baseSize*this.currentScale;Object.assign(this.$element.style,{border:n?`${r}px ${o} ${i}`:"none",backgroundImage:`linear-gradient(${e} ${t}px, transparent ${t}px), linear-gradient(90deg, ${e} ${t}px, transparent ${t}px)`,backgroundSize:`${a}px ${a}px`,backgroundRepeat:"repeat"})}updateOffset(e){let t=this.baseSize*this.currentScale;this.offset=iZ(iR(this.offset,e),t),this.$element.style.backgroundPosition=`${this.offset[0]}px ${this.offset[1]}px`}parseFollow(e){var t,n;return(0,lo.Z)(e)?{translate:e,zoom:e}:{translate:null!==(t=null==e?void 0:e.translate)&&void 0!==t&&t,zoom:null!==(n=null==e?void 0:e.zoom)&&void 0!==n&&n}}destroy(){this.context.graph.off(pw.AFTER_TRANSFORM,this.onTransform),this.$element.remove(),super.destroy()}}function ls(e){let t={Added:new Map,Updated:new Map,Removed:new Map};return e.forEach(e=>{let{type:n,value:r}=e,i=ih(r);if("NodeAdded"===n||"EdgeAdded"===n||"ComboAdded"===n)t.Added.set(i,e);else if("NodeUpdated"===n||"EdgeUpdated"===n||"ComboUpdated"===n){if(t.Added.has(i))t.Added.set(i,{type:n.replace("Updated","Added"),value:r});else if(t.Updated.has(i)){let{original:e}=t.Updated.get(i);t.Updated.set(i,{type:n,value:r,original:e})}else t.Removed.has(i)||t.Updated.set(i,e)}else("NodeRemoved"===n||"EdgeRemoved"===n||"ComboRemoved"===n)&&(t.Added.has(i)?t.Added.delete(i):(t.Updated.has(i)&&t.Updated.delete(i),t.Removed.set(i,e)))}),[...Array.from(t.Added.values()),...Array.from(t.Updated.values()),...Array.from(t.Removed.values())]}function ll(e){let{NodeAdded:t=[],NodeUpdated:n=[],NodeRemoved:r=[],EdgeAdded:i=[],EdgeUpdated:o=[],EdgeRemoved:a=[],ComboAdded:s=[],ComboUpdated:l=[],ComboRemoved:c=[]}=(0,r3.Z)(e,e=>e.type);return{add:{nodes:t,edges:i,combos:s},update:{nodes:n,edges:o,combos:l},remove:{nodes:r,edges:a,combos:c}}}la.defaultOptions={border:!0,borderLineWidth:1,borderStroke:"#eee",borderStyle:"solid",lineWidth:1,size:20,stroke:"#eee"};class lc extends sG{constructor(e,t){super(e,Object.assign({},lc.defaultOptions,t)),this.batchChanges=null,this.batchAnimation=!1,this.undoStack=[],this.redoStack=[],this.freezed=!1,this.executeCommand=(e,t=!0)=>{var n,r,i;this.freezed=!0,null===(r=(n=this.options).executeCommand)||void 0===r||r.call(n,e);let o=t?e.original:e.current;this.context.graph.addData(o.add),this.context.graph.updateData(o.update),this.context.graph.removeData(ig(o.remove,!1)),null===(i=this.context.element)||void 0===i||i.draw({silence:!0,animation:e.animation}),this.freezed=!1},this.addCommand=e=>{var t;if(!this.freezed){if(e.type===pw.AFTER_DRAW){let{dataChanges:n=[],animation:r=!0}=e.data;if(null===(t=this.context.batch)||void 0===t?void 0:t.isBatching){if(!this.batchChanges)return;this.batchChanges.push(n),this.batchAnimation&&(this.batchAnimation=r);return}this.batchChanges=[n],this.batchAnimation=r}this.undoStackPush(function(e,t=!1,n){let r={animation:t,current:{add:{},update:{},remove:{}},original:{add:{},update:{},remove:{}}},{add:i,update:o,remove:a}=ll(ls(e));return["nodes","edges","combos"].forEach(e=>{o[e]&&o[e].forEach(t=>{var i,o;let a=Object.assign({},t.value),s=Object.assign({},t.original);if(n){let e=n.graph.getElementType(ih(t.original)),r="edge"===e?"stroke":"fill",i=n.element.getElementComputedStyle(e,t.original);s=Object.assign(Object.assign({},t.original),{style:Object.assign({[r]:i[r]},t.original.style)})}(function e(t,n){for(let r in t)(0,rD.Z)(t[r])&&!Array.isArray(t[r])&&null!==t[r]?(n[r]||(n[r]={}),e(t[r],n[r])):void 0===n[r]&&(n[r]=rW(r))})(a,s),(i=r.current.update)[e]||(i[e]=[]),r.current.update[e].push(a),(o=r.original.update)[e]||(o[e]=[]),r.original.update[e].push(s)}),i[e]&&i[e].forEach(t=>{var n,i;let o=Object.assign({},t.value);(n=r.current.add)[e]||(n[e]=[]),r.current.add[e].push(o),(i=r.original.remove)[e]||(i[e]=[]),r.original.remove[e].push(o)}),a[e]&&a[e].forEach(t=>{var n,i;let o=Object.assign({},t.value);(n=r.current.remove)[e]||(n[e]=[]),r.current.remove[e].push(o),(i=r.original.add)[e]||(i[e]=[]),r.original.add[e].push(o)})}),r}(this.batchChanges.flat(),this.batchAnimation,this.context)),this.notify(pO.ADD,this.undoStack[this.undoStack.length-1])}},this.initBatchCommand=e=>{let{initiate:t}=e.data;if(this.batchAnimation=!1,t)this.batchChanges=[];else{let e=this.undoStack.pop();e||(this.batchChanges=null)}},this.emitter=new z.Z;let{graph:n}=this.context;n.on(pw.AFTER_DRAW,this.addCommand),n.on(pw.BATCH_START,this.initBatchCommand),n.on(pw.BATCH_END,this.addCommand)}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}undo(){var e,t,n,r;let i=this.undoStack.pop();if(i){this.executeCommand(i);let o=null===(t=(e=this.options).beforeAddCommand)||void 0===t?void 0:t.call(e,i,!1);if(!1===o)return;this.redoStack.push(i),null===(r=(n=this.options).afterAddCommand)||void 0===r||r.call(n,i,!1),this.notify(pO.UNDO,i)}return this}redo(){let e=this.redoStack.pop();return e&&(this.executeCommand(e,!1),this.undoStackPush(e),this.notify(pO.REDO,e)),this}undoAndCancel(){let e=this.undoStack.pop();return e&&(this.executeCommand(e,!1),this.redoStack=[],this.notify(pO.CANCEL,e)),this}undoStackPush(e){var t,n,r,i;let{stackSize:o}=this.options;0!==o&&this.undoStack.length>=o&&this.undoStack.shift();let a=null===(n=(t=this.options).beforeAddCommand)||void 0===n?void 0:n.call(t,e,!0);!1!==a&&(this.undoStack.push(e),null===(i=(r=this.options).afterAddCommand)||void 0===i||i.call(r,e,!0))}clear(){this.undoStack=[],this.redoStack=[],this.batchChanges=null,this.batchAnimation=!1,this.notify(pO.CLEAR,null)}notify(e,t){this.emitter.emit(e,{cmd:t}),this.emitter.emit(pO.CHANGE,{cmd:t})}on(e,t){this.emitter.on(e,t)}destroy(){let{graph:e}=this.context;e.off(pw.AFTER_DRAW,this.addCommand),e.off(pw.BATCH_START,this.initBatchCommand),e.off(pw.BATCH_END,this.addCommand),this.emitter.off(),super.destroy(),this.undoStack=[],this.redoStack=[]}}lc.defaultOptions={stackSize:0};let lu={toXy(e,t){if(!t)return[...e];let n=t[0].slice(1),r=t[1].slice(1);return e.map(e=>[e[n],e[r]])},fromXy(e,t){if(!t)return[...e];let n=t[0].slice(1),r=t[1].slice(1);return e.map(([e,t])=>({[n]:e,[r]:t}))}};class ld{constructor(e,t){for(let n of(this._cells=[],this._cellSize=t,this._reverseCellSize=1/t,e)){let e=this.coordToCellNum(n[0]),t=this.coordToCellNum(n[1]);this._cells[e]||(this._cells[e]=[]),this._cells[e][t]||(this._cells[e][t]=[]),this._cells[e][t].push(n)}}cellPoints(e,t){var n;return(null===(n=this._cells[e])||void 0===n?void 0:n[t])||[]}rangePoints(e){let t=this.coordToCellNum(e[0]),n=this.coordToCellNum(e[1]),r=this.coordToCellNum(e[2]),i=this.coordToCellNum(e[3]),o=[];for(let e=t;e<=r;e++)for(let t=n;t<=i;t++){let n=this.cellPoints(e,t);for(let e of n)o.push(e)}return o}removePoint(e){let t=this.coordToCellNum(e[0]),n=this.coordToCellNum(e[1]),r=this._cells[t][n],i=r.findIndex(([t,n])=>t===e[0]&&n===e[1]);return i>-1&&r.splice(i,1),r}trunc(e){return Math.trunc(e)}coordToCellNum(e){return this.trunc(e*this._reverseCellSize)}extendBbox(e,t){return[e[0]-t*this._cellSize,e[1]-t*this._cellSize,e[2]+t*this._cellSize,e[3]+t*this._cellSize]}}function lp(e,t,n){let r=e*t,i=134217729*e,o=i-(i-e),a=e-o,s=134217729*t,l=s-(s-t),c=t-l,u=a*c-(r-o*l-a*l-o*c);return n?(n[0]=u,n[1]=r,n):[u,r]}function lh(e,t){let n=e.length;if(1===n){let n=lp(e[0],t);return n[0]?n:[n[1]]}let r=Array(2*n),i=[.1,.1],o=[.1,.1],a=0;lp(e[0],t,i),i[0]&&(r[a++]=i[0]);for(let s=1;s<n;++s){lp(e[s],t,o);let n=i[1];!function(e,t,n){let r=e+t,i=r-e,o=t-i,a=e-(r-i);n&&(n[0]=a+o,n[1]=r)}(n,o[0],i),i[0]&&(r[a++]=i[0]);let l=o[1],c=i[1],u=l+c,d=u-l,p=c-d;i[1]=u,p&&(r[a++]=p)}return i[1]&&(r[a++]=i[1]),0===a&&(r[a++]=0),r.length=a,r}function lf(e,t){let n,r,i,o,a,s;let l=0|e.length,c=0|t.length;if(1===l&&1===c)return function(e,t){let n=e+t,r=n-e,i=e-(n-r)+(t-r);return i?[i,n]:[n]}(e[0],-t[0]);let u=Array(l+c),d=0,p=0,h=0,f=Math.abs,g=e[p],m=f(g),b=-t[h],v=f(b);m<v?(r=g,(p+=1)<l&&(m=f(g=e[p]))):(r=b,(h+=1)<c&&(v=f(b=-t[h]))),p<l&&m<v||h>=c?(n=g,(p+=1)<l&&(m=f(g=e[p]))):(n=b,(h+=1)<c&&(v=f(b=-t[h])));let y=n+r,E=y-n,_=r-E,x=_,S=y;for(;p<l&&h<c;)m<v?(n=g,(p+=1)<l&&(m=f(g=e[p]))):(n=b,(h+=1)<c&&(v=f(b=-t[h]))),E=(y=n+(r=x))-n,(_=r-E)&&(u[d++]=_),o=(i=S+y)-S,x=S-(i-o)+(y-o),S=i;for(;p<l;)E=(y=(n=g)+(r=x))-n,(_=r-E)&&(u[d++]=_),o=(i=S+y)-S,x=S-(i-o)+(y-o),S=i,(p+=1)<l&&(g=e[p]);for(;h<c;)E=(y=(n=b)+(r=x))-n,(_=r-E)&&(u[d++]=_),o=(i=S+y)-S,x=S-(i-o)+(y-o),S=i,(h+=1)<c&&(b=-t[h]);return x&&(u[d++]=x),S&&(u[d++]=S),d||(u[d++]=0),u.length=d,u}function lg(e,t){let n,r,i,o,a,s;let l=0|e.length,c=0|t.length;if(1===l&&1===c)return function(e,t){let n=e+t,r=n-e,i=e-(n-r)+(t-r);return i?[i,n]:[n]}(e[0],t[0]);let u=Array(l+c),d=0,p=0,h=0,f=Math.abs,g=e[p],m=f(g),b=t[h],v=f(b);m<v?(r=g,(p+=1)<l&&(m=f(g=e[p]))):(r=b,(h+=1)<c&&(v=f(b=t[h]))),p<l&&m<v||h>=c?(n=g,(p+=1)<l&&(m=f(g=e[p]))):(n=b,(h+=1)<c&&(v=f(b=t[h])));let y=n+r,E=y-n,_=r-E,x=_,S=y;for(;p<l&&h<c;)m<v?(n=g,(p+=1)<l&&(m=f(g=e[p]))):(n=b,(h+=1)<c&&(v=f(b=t[h]))),E=(y=n+(r=x))-n,(_=r-E)&&(u[d++]=_),o=(i=S+y)-S,x=S-(i-o)+(y-o),S=i;for(;p<l;)E=(y=(n=g)+(r=x))-n,(_=r-E)&&(u[d++]=_),o=(i=S+y)-S,x=S-(i-o)+(y-o),S=i,(p+=1)<l&&(g=e[p]);for(;h<c;)E=(y=(n=b)+(r=x))-n,(_=r-E)&&(u[d++]=_),o=(i=S+y)-S,x=S-(i-o)+(y-o),S=i,(h+=1)<c&&(b=t[h]);return x&&(u[d++]=x),S&&(u[d++]=S),d||(u[d++]=0),u.length=d,u}function lm(e,t,n,r){return function(n,i,o){let a=e(e(t(i[1],o[0]),t(-o[1],i[0])),e(t(n[1],i[0]),t(-i[1],n[0]))),s=e(t(n[1],o[0]),t(-o[1],n[0])),l=r(a,s);return l[l.length-1]}}function lb(e,t,n,r){return function(i,o,a,s){let l=e(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),o[2]),e(n(e(t(o[1],s[0]),t(-s[1],o[0])),-a[2]),n(e(t(o[1],a[0]),t(-a[1],o[0])),s[2]))),e(n(e(t(o[1],s[0]),t(-s[1],o[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),s[2])))),c=e(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),s[2]))),e(n(e(t(o[1],a[0]),t(-a[1],o[0])),i[2]),e(n(e(t(i[1],a[0]),t(-a[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),a[2])))),u=r(l,c);return u[u.length-1]}}function lv(e,t,n,r){return function(i,o,a,s,l){let c=e(e(e(n(e(n(e(t(s[1],l[0]),t(-l[1],s[0])),a[2]),e(n(e(t(a[1],l[0]),t(-l[1],a[0])),-s[2]),n(e(t(a[1],s[0]),t(-s[1],a[0])),l[2]))),o[3]),e(n(e(n(e(t(s[1],l[0]),t(-l[1],s[0])),o[2]),e(n(e(t(o[1],l[0]),t(-l[1],o[0])),-s[2]),n(e(t(o[1],s[0]),t(-s[1],o[0])),l[2]))),-a[3]),n(e(n(e(t(a[1],l[0]),t(-l[1],a[0])),o[2]),e(n(e(t(o[1],l[0]),t(-l[1],o[0])),-a[2]),n(e(t(o[1],a[0]),t(-a[1],o[0])),l[2]))),s[3]))),e(n(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),o[2]),e(n(e(t(o[1],s[0]),t(-s[1],o[0])),-a[2]),n(e(t(o[1],a[0]),t(-a[1],o[0])),s[2]))),-l[3]),e(n(e(n(e(t(s[1],l[0]),t(-l[1],s[0])),o[2]),e(n(e(t(o[1],l[0]),t(-l[1],o[0])),-s[2]),n(e(t(o[1],s[0]),t(-s[1],o[0])),l[2]))),i[3]),n(e(n(e(t(s[1],l[0]),t(-l[1],s[0])),i[2]),e(n(e(t(i[1],l[0]),t(-l[1],i[0])),-s[2]),n(e(t(i[1],s[0]),t(-s[1],i[0])),l[2]))),-o[3])))),e(e(n(e(n(e(t(o[1],l[0]),t(-l[1],o[0])),i[2]),e(n(e(t(i[1],l[0]),t(-l[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),l[2]))),s[3]),e(n(e(n(e(t(o[1],s[0]),t(-s[1],o[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),s[2]))),-l[3]),n(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),o[2]),e(n(e(t(o[1],s[0]),t(-s[1],o[0])),-a[2]),n(e(t(o[1],a[0]),t(-a[1],o[0])),s[2]))),i[3]))),e(n(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),s[2]))),-o[3]),e(n(e(n(e(t(o[1],s[0]),t(-s[1],o[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),s[2]))),a[3]),n(e(n(e(t(o[1],a[0]),t(-a[1],o[0])),i[2]),e(n(e(t(i[1],a[0]),t(-a[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),a[2]))),-s[3]))))),u=e(e(e(n(e(n(e(t(s[1],l[0]),t(-l[1],s[0])),a[2]),e(n(e(t(a[1],l[0]),t(-l[1],a[0])),-s[2]),n(e(t(a[1],s[0]),t(-s[1],a[0])),l[2]))),i[3]),n(e(n(e(t(s[1],l[0]),t(-l[1],s[0])),i[2]),e(n(e(t(i[1],l[0]),t(-l[1],i[0])),-s[2]),n(e(t(i[1],s[0]),t(-s[1],i[0])),l[2]))),-a[3])),e(n(e(n(e(t(a[1],l[0]),t(-l[1],a[0])),i[2]),e(n(e(t(i[1],l[0]),t(-l[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),l[2]))),s[3]),n(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),s[2]))),-l[3]))),e(e(n(e(n(e(t(a[1],l[0]),t(-l[1],a[0])),o[2]),e(n(e(t(o[1],l[0]),t(-l[1],o[0])),-a[2]),n(e(t(o[1],a[0]),t(-a[1],o[0])),l[2]))),i[3]),n(e(n(e(t(a[1],l[0]),t(-l[1],a[0])),i[2]),e(n(e(t(i[1],l[0]),t(-l[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),l[2]))),-o[3])),e(n(e(n(e(t(o[1],l[0]),t(-l[1],o[0])),i[2]),e(n(e(t(i[1],l[0]),t(-l[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),l[2]))),a[3]),n(e(n(e(t(o[1],a[0]),t(-a[1],o[0])),i[2]),e(n(e(t(i[1],a[0]),t(-a[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),a[2]))),-l[3])))),d=r(c,u);return d[d.length-1]}}function ly(e){return(3===e?lm:4===e?lb:lv)(lg,lp,lh,lf)}let lE=ly(3),l_=ly(4),lT=[function(){return 0},function(){return 0},function(e,t){return t[0]-e[0]},function(e,t,n){let r;let i=(e[1]-n[1])*(t[0]-n[0]),o=(e[0]-n[0])*(t[1]-n[1]),a=i-o;if(i>0){if(o<=0)return a;r=i+o}else{if(!(i<0)||o>=0)return a;r=-(i+o)}let s=33306690738754716e-32*r;return a>=s||a<=-s?a:lE(e,t,n)},function(e,t,n,r){let i=e[0]-r[0],o=t[0]-r[0],a=n[0]-r[0],s=e[1]-r[1],l=t[1]-r[1],c=n[1]-r[1],u=e[2]-r[2],d=t[2]-r[2],p=n[2]-r[2],h=o*c,f=a*l,g=a*s,m=i*c,b=i*l,v=o*s,y=u*(h-f)+d*(g-m)+p*(b-v),E=(Math.abs(h)+Math.abs(f))*Math.abs(u)+(Math.abs(g)+Math.abs(m))*Math.abs(d)+(Math.abs(b)+Math.abs(v))*Math.abs(p),_=7771561172376103e-31*E;return y>_||-y>_?y:l_(e,t,n,r)}];var lx=function(){for(;lT.length<=5;)lT.push(ly(lT.length));let e=function(e,t,n,r,i,o,a){return function(...t){switch(t.length){case 0:case 1:return 0;case 2:return r(t[0],t[1]);case 3:return i(t[0],t[1],t[2]);case 4:return o(t[0],t[1],t[2],t[3]);case 5:return a(t[0],t[1],t[2],t[3],t[4])}return e(t)}}(void 0,0,...lT);for(let t=0;t<=5;++t)e[t]=lT[t];return e}();let lS=lx[3];function lA(e,t){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function lC(e,t,n){let r=[t[0]-e[0],t[1]-e[1]],i=[n[0]-e[0],n[1]-e[1]],o=lA(e,t),a=lA(e,n),s=r[0]*i[0]+r[1]*i[1];return s/Math.sqrt(o*a)}function lw(e,t){for(let n=0;n<t.length-1;n++){let r=[t[n],t[n+1]];if((e[0][0]!==r[0][0]||e[0][1]!==r[0][1])&&(e[0][0]!==r[1][0]||e[0][1]!==r[1][1])&&function(e,t,n,r){let i=lx(e,n,r),o=lx(t,n,r);if(i>0&&o>0||i<0&&o<0)return!1;let a=lx(n,e,t),s=lx(r,e,t);return(!(a>0)||!(s>0))&&(!(a<0)||!(s<0))&&(0!==i||0!==o||0!==a||0!==s||function(e,t,n,r){for(let i=0;i<2;++i){let o=e[i],a=t[i],[s,l]=[Math.min(o,a),Math.max(o,a)],c=n[i],u=r[i],[d,p]=[Math.min(c,u),Math.max(c,u)];if(p<s||l<d)return!1}return!0}(e,t,n,r))}(e[0],e[1],r[0],r[1]))return!0}return!1}let lO=Math.cos(90/(180/Math.PI)),lI=(e,t,n)=>{if("sharp"===n)return[["M",e[0]-t,e[1]-t],["L",e[0]+t,e[1]-t],["L",e[0]+t,e[1]+t],["L",e[0]-t,e[1]+t],["Z"]];let r=[t,t,0,0,0];return[["M",e[0],e[1]-t],["A",...r,e[0],e[1]+t],["A",...r,e[0],e[1]-t]]},lL=(e,t,n)=>{let r=[t,t,0,0,0],i="sharp"===n?iR(e[0],iD(iB(ik(e[0],e[1])),t)):e[0],o="sharp"===n?iR(e[1],iD(iB(ik(e[1],e[0])),t)):e[1],a=iD(iB(iz(ik(i,o),!1)),t),s=iD(a,-1),l=iR(i,a),c=iR(o,a),u=iR(o,s),d=iR(i,s);return"sharp"===n?[["M",l[0],l[1]],["L",c[0],c[1]],["L",u[0],u[1]],["L",d[0],d[1]],["Z"]]:[["M",l[0],l[1]],["L",c[0],c[1]],["A",...r,u[0],u[1]],["L",d[0],d[1]],["A",...r,l[0],l[1]]]},lR=(e,t)=>{let n=i4(e).map((n,r)=>{let i=(r-2+e.length)%e.length,o=(r-1+e.length)%e.length,a=(r+1)%e.length,s=e[i],l=e[o],c=e[a],u=ik(s,l),d=ik(l,n),p=ik(n,c),h=(e,t)=>iU(e,t,!0)<Math.PI,f=h(u,d),g=h(d,p),m=e=>iD(iB(iz(e,!1)),t),b=m(d);return[{p:ij(f?iR(l,m(u)):iR(l,b)),concave:f&&l},{p:ij(g?iR(n,m(p)):iR(n,b)),concave:g&&n}]}),r=[t,t,0,0,0],i=n.findIndex((e,t)=>!n[(t-1+n.length)%n.length][0].concave&&!n[(t-1+n.length)%n.length][1].concave&&!e[0].concave&&!e[0].concave&&!e[1].concave),o=n.slice(i).concat(n.slice(0,i)),a=[];return o.flatMap((e,t)=>{let i=[],s=o[n.length-1];return 0===t&&i.push(["M",...s[1].p]),e[0].concave?a.push(e[0].p,e[1].p):i.push(["A",...r,...e[0].p]),e[1].concave?a.unshift(e[1].p):i.push(["L",...e[1].p]),3===a.length&&(i.pop(),i.push(["C",...a.flat()]),a=[]),i})},lk=(e,t)=>{let n=i4(e).map((t,n)=>{let r=e[(n+1)%e.length];return{p:t,v:iB(ik(r,t))}});return n.forEach((r,i)=>{let o=i>0?i-1:e.length-1,a=n[o].v,s=iB(iR(a,iD(r.v,iU(a,r.v,!0)<Math.PI?1:-1)));r.p=iR(r.p,iD(s,t))}),ok(n.map(e=>e.p))},lN=(e,t)=>{let n=e.map((n,r)=>{let i=e[0===r?e.length-1:r-1],o=iH(iD(iB(iz(ik(i,n),!1)),t));return[iR(i,o),iR(n,o)]}),r=n.flat(),i=r.map((e,t)=>{if(t%2==0)return null;let n=[r[(t-1)%r.length],r[t%r.length]],i=[r[(t+1)%r.length],r[(t+2)%r.length]];return i$(n,i,!0)}).filter(Boolean);return i.map((e,t)=>[0===t?"M":"L",e[0],e[1]]).concat([["Z"]])};var lM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class lD extends sG{constructor(e,t){super(e,Object.assign({},lD.defaultOptions,t)),this.hullMemberIds=[],this.drawHull=()=>{if(this.shape){let e=!(0,rM.Z)(this.optionsCache,this.options);this.shape.update(this.getHullStyle(e))}else this.shape=new oM({style:this.getHullStyle()}),this.context.canvas.appendChild(this.shape);this.optionsCache=Object.assign({},this.options)},this.updateHullPath=e=>{this.shape&&this.options.members.includes(ih(e.data))&&this.shape.update({d:this.getHullPath(!0)})},this.getHullPath=(e=!1)=>{let{graph:t}=this.context,n=this.getMember();if(0===n.length)return"";let r=n.map(e=>t.getNodeData(e)),i=(function(e,t,n){let r=function(e){let t=[e[0]],n=e[0];for(let r=1;r<e.length;r++){let i=e[r];(n[0]!==i[0]||n[1]!==i[1])&&t.push(i),n=i}return t}(lu.toXy(e,n).sort(function(e,t){return e[0]-t[0]||e[1]-t[1]}));if(r.length<4){let e=r.concat([r[0]]);return n?lu.fromXy(e,n):e}let i=function(e){let t=1/0,n=1/0,r=-1/0,i=-1/0;for(let o=e.length-1;o>=0;o--)e[o][0]<t&&(t=e[o][0]),e[o][1]<n&&(n=e[o][1]),e[o][0]>r&&(r=e[o][0]),e[o][1]>i&&(i=e[o][1]);return[r-t,i-n]}(r),o=[.6*i[0],.6*i[1]],a=(function(e){let t=e.length;if(t<3){let n=Array(t);for(let e=0;e<t;++e)n[e]=e;return 2===t&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]?[0]:n}let n=Array(t);for(let e=0;e<t;++e)n[e]=e;n.sort((t,n)=>{let r=e[t][0]-e[n][0];return r||e[t][1]-e[n][1]});let r=[n[0],n[1]],i=[n[0],n[1]];for(let o=2;o<t;++o){let t=n[o],a=e[t],s=r.length;for(;s>1&&0>=lS(e[r[s-2]],e[r[s-1]],a);)s-=1,r.pop();for(r.push(t),s=i.length;s>1&&lS(e[i[s-2]],e[i[s-1]],a)>=0;)s-=1,i.pop();i.push(t)}let o=Array(i.length+r.length-2),a=0;for(let e=0,t=r.length;e<t;++e)o[a++]=r[e];for(let e=i.length-2;e>0;--e)o[a++]=i[e];return o})(r).reverse().map(e=>r[e]);a.push(a[0]);let s=r.filter(function(e){return 0>a.indexOf(e)}),l=Math.ceil(1/(r.length/(i[0]*i[1]))),c=function e(t,n,r,i,o){let a=!1;for(let e=0;e<t.length-1;e++){let s,l,c;let u=[t[e],t[e+1]],d=u[0][0]+","+u[0][1]+","+u[1][0]+","+u[1][1];if(lA(u[0],u[1])<n||o.has(d))continue;let p=0,h=[Math.min(u[0][0],u[1][0]),Math.min(u[0][1],u[1][1]),Math.max(u[0][0],u[1][0]),Math.max(u[0][1],u[1][1])];do s=(h=i.extendBbox(h,p))[2]-h[0],l=h[3]-h[1],c=function(e,t,n){let r=null,i=lO,o=lO,a,s;for(let l=0;l<t.length;l++)a=lC(e[0],e[1],t[l]),s=lC(e[1],e[0],t[l]),a>i&&s>o&&!lw([e[0],t[l]],n)&&!lw([e[1],t[l]],n)&&(i=a,o=s,r=t[l]);return r}(u,i.rangePoints(h),t),p++;while(null===c&&(r[0]>s||r[1]>l));s>=r[0]&&l>=r[1]&&o.add(d),null!==c&&(t.splice(e+1,0,c),i.removePoint(c),a=!0)}return a?e(t,n,r,i,o):t}(a,Math.pow(t||20,2),o,new ld(s,l),new Set);return n?lu.fromXy(c,n):c})(r.map(iY),this.options.concavity).slice(1).reverse(),o=i.flatMap(e=>r.filter(t=>(0,rM.Z)(iY(t),e)).map(ih));return(0,rM.Z)(o,this.hullMemberIds)&&!e||(this.hullMemberIds=o,this.path=function(e,t,n){if(1===e.length)return lI(e[0],t,n);if(2===e.length)return lL(e,t,n);if(3===e.length){let[r,i,o]=i4(e);if(iV([r,i],[i,o]))return lL([r,o],t,n)}switch(n){case"smooth":return lk(e,t);case"sharp":return lN(e,t);default:return lR(e,t)}}(i,this.getPadding(),this.options.corner)),this.path},this.bindEvents()}bindEvents(){this.context.graph.on(pw.AFTER_RENDER,this.drawHull),this.context.graph.on(pw.AFTER_ELEMENT_UPDATE,this.updateHullPath)}getHullStyle(e){let t=this.options,{members:n,padding:r,corner:i}=t,o=lM(t,["members","padding","corner"]);return Object.assign(Object.assign({},o),{d:this.getHullPath(e)})}getPadding(){let{graph:e}=this.context,t=this.hullMemberIds.reduce((t,n)=>{let{halfExtents:r}=e.getElementRenderBounds(n),i=Math.max(r[0],r[1]);return Math.max(t,i)},0);return t+this.options.padding}addMember(e){let t=Array.isArray(e)?e:[e];this.options.members=[...new Set([...this.options.members,...t])],this.shape.update({d:this.getHullPath()})}removeMember(e){let t=Array.isArray(e)?e:[e];this.options.members=this.options.members.filter(e=>!t.includes(e)),t.some(e=>this.hullMemberIds.includes(e))&&this.shape.update({d:this.getHullPath()})}updateMember(e){this.options.members=(0,r2.Z)(e)?e(this.options.members):e,this.shape.update(this.getHullStyle(!0))}getMember(){return this.options.members}destroy(){this.context.graph.off(pw.AFTER_DRAW,this.drawHull),this.shape.destroy(),this.hullMemberIds=[],super.destroy()}}lD.defaultOptions={members:[],padding:10,corner:"rounded",concavity:1/0,fill:"lightblue",fillOpacity:.2,labelOpacity:1,stroke:"blue",strokeOpacity:.2};var lP=n(43522);function lF(e){let{width:t,height:n,renderer:r}=e,i=function(e){var t;let{container:n,className:r,graphCanvas:i}=e;if(n)return"string"==typeof n?document.getElementById(n):n;let o=sV(r,!1),{width:a,height:s,containerStyle:l}=e,[c,u]=function(e){let{width:t,height:n,placement:r,graphCanvas:i}=e,[o,a]=i.getSize(),[s,l]=iW(r);return[s*(o-t),l*(a-n)]}(e);return Object.assign(o.style,Object.assign({position:"absolute",left:c+"px",top:u+"px",width:a+"px",height:s+"px"},l)),null===(t=i.getContainer())||void 0===t||t.appendChild(o),o}(e),o=new ew.Xz({width:t,height:n,container:i,renderer:r||new oJ.Th});return[i,o]}var lB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class lU extends sG{constructor(e,t){super(e,Object.assign({},lU.defaultOptions,t)),this.typePrefix="__data__",this.draw=!1,this.fieldMap={node:new Map,edge:new Map,combo:new Map},this.selectedItems=[],this.bindEvents=()=>{let{graph:e}=this.context;e.on(pw.AFTER_DRAW,this.createElement)},this.changeState=(e,t)=>{let{graph:n}=this.context,{typePrefix:r}=this,i=(0,H.Z)(e,[r,"id"]),o=(0,H.Z)(e,[r,"style","labelText"]),[a]=i.split("__"),s=this.fieldMap[a].get(o)||[];n.setElementState(Object.fromEntries(null==s?void 0:s.map(e=>[e,t])))},this.click=e=>{if("hover"===this.options.trigger)return;let t=(0,H.Z)(e,[this.typePrefix,"id"]);this.selectedItems.includes(t)?(this.selectedItems=this.selectedItems.filter(e=>e!==t),this.changeState(e,[])):(this.selectedItems.push(t),this.changeState(e,"selected"))},this.mouseleave=e=>{"click"!==this.options.trigger&&(this.selectedItems=[],this.changeState(e,[]))},this.mouseenter=e=>{if("click"===this.options.trigger)return;let t=(0,H.Z)(e,[this.typePrefix,"id"]);this.selectedItems.includes(t)?this.selectedItems=this.selectedItems.filter(e=>e!==t):(this.selectedItems.push(t),this.changeState(e,"active"))},this.setFieldMap=(e,t,n)=>{if(!e)return;let r=this.fieldMap[n];if(r){if(r.has(e)){let n=r.get(e);n&&(n.push(t),r.set(e,n))}else r.set(e,[t])}},this.getEvents=()=>({mouseenter:this.mouseenter,mouseleave:this.mouseleave,click:this.click}),this.getMarkerData=(e,t)=>{if(!e)return[];let{model:n,element:r}=this.context,{nodes:i,edges:o,combos:a}=n.getData(),s={},l=t=>(0,r2.Z)(e)?e(t):e,c={node:"circle",edge:"line",combo:"rect"},u={circle:"circle",ellipse:"circle",image:"bowtie",rect:"square",star:"cross",triangle:"triangle",diamond:"diamond",cubic:"dot",line:"hyphen",polyline:"hyphen",quadratic:"hv","cubic-horizontal":"hyphen","cubic-vertical":"line"},d=(e,t)=>{let n=null==r?void 0:r.getElementComputedStyle(e,t);return n},p=(e,t)=>{e.forEach(e=>{let{id:n}=e,i=(0,H.Z)(e,["data",l(e)]),o=(null==r?void 0:r.getElementType(t,e))||"circle",a=d(t,e),p=("edge"===t?null==a?void 0:a.stroke:null==a?void 0:a.fill)||"#1783ff";n&&i&&i.replace(/\s+/g,"")&&(this.setFieldMap(i,n,t),s[i]||(s[i]={id:`${t}__${n}`,label:i,marker:u[o]||c[t],elementType:t,lineWidth:1,stroke:p,fill:p}))})};switch(t){case"node":p(i,"node");break;case"edge":p(o,"edge");break;case"combo":p(a,"combo");break;default:return[]}return Object.values(s)},this.createElement=()=>{if(this.draw){this.updateElement();return}let e=this.options,{width:t,height:n,nodeField:r,edgeField:i,comboField:o,trigger:a,position:s,container:l,containerStyle:c,className:u}=e,d=lB(e,["width","height","nodeField","edgeField","comboField","trigger","position","container","containerStyle","className"]),p=this.getMarkerData(r,"node"),h=this.getMarkerData(i,"edge"),f=this.getMarkerData(o,"combo"),g=[...p,...f,...h],m=Object.assign({width:t,height:n,data:g,itemMarkerLineWidth:({lineWidth:e})=>e,itemMarker:({marker:e})=>e,itemMarkerStroke:({stroke:e})=>e,itemMarkerFill:({fill:e})=>e,gridCol:p.length},d,this.getEvents()),b=new lP.W({className:"legend",style:m});this.category=b;let v=this.upsertCanvas();v.appendChild(b),this.draw=!0},this.bindEvents()}update(e){super.update(e),this.clear(),this.createElement()}clear(){var e,t;null===(e=this.canvas)||void 0===e||e.destroy(),null===(t=this.container)||void 0===t||t.remove(),this.canvas=void 0,this.container=void 0,this.draw=!1}updateElement(){this.category&&this.category.update({itemMarkerOpacity:({id:e})=>!this.selectedItems.length||this.selectedItems.includes(e)?1:.5,itemLabelOpacity:({id:e})=>!this.selectedItems.length||this.selectedItems.includes(e)?1:.5})}upsertCanvas(){if(this.canvas)return this.canvas;let e=this.context.canvas,[t,n]=e.getSize(),{width:r=t,height:i=n,position:o,container:a,containerStyle:s,className:l}=this.options,[c,u]=lF({width:r,height:i,graphCanvas:e,container:a,containerStyle:s,placement:o,className:"legend"});return this.container=c,l&&c.classList.add(l),this.canvas=u,this.canvas}destroy(){this.clear(),this.context.graph.off(pw.AFTER_DRAW,this.createElement),super.destroy()}}lU.defaultOptions={position:"bottom",trigger:"hover",orientation:"horizontal",layout:"flex",itemSpacing:4,rowPadding:10,colPadding:10,itemMarkerSize:16,itemLabelFontSize:16,width:240,height:160};class lz extends sG{constructor(e,t){super(e,Object.assign({},lz.defaultOptions,t)),this.onDraw=e=>{var t;null!==(t=null==e?void 0:e.data)&&void 0!==t&&t.render||this.onRender()},this.shapes=new Map,this.landmarkMap=new Map,this.mask=null,this.isMaskDragging=!1,this.onMaskDragStart=e=>{this.mask&&(this.isMaskDragging=!0,this.mask.setPointerCapture(e.pointerId),this.mask.addEventListener("pointermove",this.onMaskDrag),this.mask.addEventListener("pointerup",this.onMaskDragEnd),this.mask.addEventListener("pointercancel",this.onMaskDragEnd))},this.onMaskDrag=e=>{if(!this.mask||!this.isMaskDragging)return;let{size:[t,n]}=this.options,{movementX:r,movementY:i}=e,{left:o,top:a,width:s,height:l}=this.mask.style,[,,c,u]=this.maskBBox,d=parseInt(o)+r,p=parseInt(a)+i,h=parseInt(s),f=parseInt(l);d<0&&(d=0),p<0&&(p=0),d+h>t&&(d=lj(t-h,0)),p+f>n&&(p=lj(n-f,0)),h<c&&(r>0?(d=lj(d-r,0),h=lZ(h+r,t)):r<0&&(h=lZ(h-r,t))),f<u&&(i>0?(p=lj(p-i,0),f=lZ(f+i,n)):i<0&&(f=lZ(f-i,n))),Object.assign(this.mask.style,{left:d+"px",top:p+"px",width:h+"px",height:f+"px"});let g=parseInt(o)-d,m=parseInt(a)-p;if(0===g&&0===m)return;let b=this.context.canvas.getCamera().getZoom(),v=this.canvas.getCamera().getZoom(),y=b/v;this.context.graph.translateBy([g*y,m*y],!1)},this.onMaskDragEnd=e=>{this.mask&&(this.isMaskDragging=!1,this.mask.releasePointerCapture(e.pointerId),this.mask.removeEventListener("pointermove",this.onMaskDrag),this.mask.removeEventListener("pointerup",this.onMaskDragEnd),this.mask.removeEventListener("pointercancel",this.onMaskDragEnd))},this.onTransform=(0,r5.Z)(()=>{this.isMaskDragging||(this.updateMask(),this.setCamera())},32,{leading:!0}),this.setOnRender(),this.bindEvents()}update(e){this.unbindEvents(),super.update(e),"delay"in e&&this.setOnRender(),this.bindEvents()}setOnRender(){this.onRender=(0,sn.Z)(()=>{this.renderMinimap(),this.renderMask()},this.options.delay)}bindEvents(){let{graph:e}=this.context;e.on(pw.AFTER_DRAW,this.onDraw),e.on(pw.AFTER_RENDER,this.onRender),e.on(pw.AFTER_TRANSFORM,this.onTransform)}unbindEvents(){let{graph:e}=this.context;e.off(pw.AFTER_DRAW,this.onDraw),e.off(pw.AFTER_RENDER,this.onRender),e.off(pw.AFTER_TRANSFORM,this.onTransform)}renderMinimap(){let e=this.getElements(),t=this.initCanvas();this.setShapes(t,e)}getElements(){let{filter:e}=this.options,{model:t}=this.context,n=t.getData();if(!e)return n;let{nodes:r,edges:i,combos:o}=n;return{nodes:r.filter(t=>e(ih(t),"node")),edges:i.filter(t=>e(ih(t),"edge")),combos:o.filter(t=>e(ih(t),"combo"))}}setShapes(e,t){let{nodes:n,edges:r,combos:i}=t,{shape:o}=this.options,{element:a}=this.context;if("key"===o){let t=new Set,o=n=>{let r=ih(n);t.add(r);let i=a.getElement(r);if(!i)return;let o=i.getShape("key"),s=this.shapes.get(r)||o.cloneNode();s.setPosition(o.getPosition()),i.style.zIndex&&(s.style.zIndex=i.style.zIndex),s.id=i.id,this.shapes.has(r)?Object.entries(o.attributes).forEach(([e,t])=>{s.style[e]!==t&&(s.style[e]=t)}):(e.appendChild(s),this.shapes.set(r,s))};r.forEach(o),i.forEach(o),n.forEach(o),this.shapes.forEach((n,r)=>{t.has(r)||(e.removeChild(n),this.shapes.delete(r))});return}let s=(e,t)=>{let n=a.getElement(e),r=n.getPosition();return t.setPosition(r),t};e.removeChildren(),r.forEach(t=>e.appendChild(o(ih(t),"edge"))),i.forEach(t=>{e.appendChild(s(ih(t),o(ih(t),"combo")))}),n.forEach(t=>{e.appendChild(s(ih(t),o(ih(t),"node")))})}initCanvas(){let{renderer:e,size:[t,n]}=this.options;if(this.canvas){let{width:r,height:i}=this.canvas.getConfig();(t!==r||n!==i)&&this.canvas.resize(t,n),e&&this.canvas.setRenderer(e)}else{let{className:r,position:i,container:o,containerStyle:a}=this.options,[s,l]=lF({renderer:e,width:t,height:n,placement:i,className:"minimap",container:o,containerStyle:a,graphCanvas:this.context.canvas});r&&s.classList.add(r),this.container=s,this.canvas=l}return this.setCamera(),this.canvas}createLandmark(e,t,n){let r=`${e.join(",")}-${t.join(",")}-${n}`;if(this.landmarkMap.has(r))return this.landmarkMap.get(r);let i=this.canvas.getCamera(),o=i.createLandmark(r,{position:e,focalPoint:t,zoom:n});return this.landmarkMap.set(r,o),o}setCamera(){var e;let{canvas:t}=this.context,n=null===(e=this.canvas)||void 0===e?void 0:e.getCamera();if(!n)return;let{size:[r,i],padding:o}=this.options,[a,s,l,c]=r8(o),{min:u,max:d,center:p}=t.getBounds("elements"),h=d[0]-u[0],f=d[1]-u[1],g=Math.min((r-c-s)/h,(i-a-l)/f),m=this.createLandmark(p,p,g);n.gotoLandmark(m,0)}get maskBBox(){let{canvas:e}=this.context,t=e.getSize(),n=e.getCanvasByViewport([0,0]),r=e.getCanvasByViewport(t),i=this.canvas.canvas2Viewport(iQ(n)),o=this.canvas.canvas2Viewport(iQ(r)),a=o.x-i.x,s=o.y-i.y;return[i.x,i.y,a,s]}calculateMaskBBox(){let{size:[e,t]}=this.options,[n,r,i,o]=this.maskBBox;return n<0&&(i=lZ(i+n,e),n=0),r<0&&(o=lZ(o+r,t),r=0),n+i>e&&(i=lj(e-n,0)),r+o>t&&(o=lj(t-r,0)),[lZ(n,e),lZ(r,t),lj(i,0),lj(o,0)]}renderMask(){let{maskStyle:e}=this.options;this.mask||(this.mask=document.createElement("div"),this.mask.addEventListener("pointerdown",this.onMaskDragStart),this.mask.draggable=!0,this.mask.addEventListener("dragstart",e=>e.preventDefault&&e.preventDefault())),this.container.appendChild(this.mask),Object.assign(this.mask.style,Object.assign(Object.assign({},e),{cursor:"move",position:"absolute",pointerEvents:"auto"})),this.updateMask()}updateMask(){if(!this.mask)return;let[e,t,n,r]=this.calculateMaskBBox();Object.assign(this.mask.style,{top:t+"px",left:e+"px",width:n+"px",height:r+"px"})}destroy(){var e;this.unbindEvents(),this.canvas.destroy(),null===(e=this.mask)||void 0===e||e.remove(),super.destroy()}}lz.defaultOptions={size:[240,160],shape:"key",padding:10,position:"right-bottom",maskStyle:{border:"1px solid #ddd",background:"rgba(0, 0, 0, 0.1)"},containerStyle:{border:"1px solid #ddd",background:"#fff"},delay:128};let lZ=(e,t)=>Math.min(e,t),lj=(e,t)=>Math.max(e,t);var lH=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};let lG={x1:0,y1:0,x2:0,y2:0,visibility:"hidden"};class lV extends sG{constructor(e,t){super(e,Object.assign({},lV.defaultOptions,t)),this.initSnapline=()=>{let e=this.context.canvas.getLayer("transient");this.horizontalLine||(this.horizontalLine=e.appendChild(new ew.x1({style:Object.assign(Object.assign({},lG),this.options.horizontalLineStyle)}))),this.verticalLine||(this.verticalLine=e.appendChild(new ew.x1({style:Object.assign(Object.assign({},lG),this.options.verticalLineStyle)})))},this.isHorizontalSticking=!1,this.isVerticalSticking=!1,this.enableStick=!0,this.autoSnapToLine=(e,t,n)=>lH(this,void 0,void 0,function*(){let{verticalX:r,horizontalY:i}=n,{tolerance:o}=this.options,{min:[a,s],max:[l,c],center:[u,d]}=t,p=0,h=0;null!==r&&(l$(l,r)<o&&(p=r-l),l$(a,r)<o&&(p=r-a),l$(u,r)<o&&(p=r-u),0!==p&&(this.isVerticalSticking=!0)),null!==i&&(l$(c,i)<o&&(h=i-c),l$(s,i)<o&&(h=i-s),l$(d,i)<o&&(h=i-d),0!==h&&(this.isHorizontalSticking=!0)),(0!==p||0!==h)&&(yield this.context.graph.translateElementBy({[e]:[p,h]},!1))}),this.enableSnap=e=>{let{target:t}=e;if(this.isHorizontalSticking||this.isVerticalSticking){let[n,r]=this.getDelta(e);if(this.isHorizontalSticking&&this.isVerticalSticking&&.5>=Math.abs(n)&&.5>=Math.abs(r))return this.context.graph.translateElementBy({[t.id]:[-n,-r]},!1),!1;if(this.isHorizontalSticking&&.5>=Math.abs(r))return this.context.graph.translateElementBy({[t.id]:[0,-r]},!1),!1;if(this.isVerticalSticking&&.5>=Math.abs(n))return this.context.graph.translateElementBy({[t.id]:[-n,0]},!1),!1;this.isHorizontalSticking=!1,this.isVerticalSticking=!1,this.enableStick=!1,setTimeout(()=>{this.enableStick=!0},200)}return this.enableStick},this.calcSnaplineMetadata=(e,t)=>{let{tolerance:n,shape:r}=this.options,{min:[i,o],max:[a,s],center:[l,c]}=t,u=null,d=null,p=null,h=null,f=null,g=null;return this.getNodes().some(t=>{if((0,rM.Z)(e.id,t.id))return!1;let m=lW(t,r).getRenderBounds(),{min:[b,v],max:[y,E],center:[_,x]}=m;return null===u&&(l$(_,l)<n?u=_:l$(b,i)<n?u=b:l$(b,a)<n?u=b:l$(y,a)<n?u=y:l$(y,i)<n&&(u=y),null!==u&&(d=Math.min(v,o),p=Math.max(E,s))),null===h&&(l$(x,c)<n?h=x:l$(v,o)<n?h=v:l$(v,s)<n?h=v:l$(E,s)<n?h=E:l$(E,o)<n&&(h=E),null!==h&&(f=Math.min(b,i),g=Math.max(y,a))),null!==u&&null!==h}),{verticalX:u,verticalMinY:d,verticalMaxY:p,horizontalY:h,horizontalMinX:f,horizontalMaxX:g}},this.onDragStart=()=>{this.initSnapline()},this.onDrag=e=>lH(this,void 0,void 0,function*(){let{target:t}=e;if(this.options.autoSnap){let t=this.enableSnap(e);if(!t)return}let n=lW(t,this.options.shape).getRenderBounds(),r=this.calcSnaplineMetadata(t,n);this.hideSnapline(),(null!==r.verticalX||null!==r.horizontalY)&&this.updateSnapline(r),this.options.autoSnap&&(yield this.autoSnapToLine(t.id,n,r))}),this.onDragEnd=()=>{this.hideSnapline()},this.bindEvents()}getNodes(){var e;let{filter:t}=this.options,n=(null===(e=this.context.element)||void 0===e?void 0:e.getNodes())||[],r=n.filter(e=>{var t;return"hidden"!==(0,H.Z)(e,["style","visibility"])&&(null===(t=this.context.viewport)||void 0===t?void 0:t.isInViewport(e.getRenderBounds()))});return t?r.filter(e=>t(e)):r}hideSnapline(){this.horizontalLine.style.visibility="hidden",this.verticalLine.style.visibility="hidden"}getLineWidth(e){let{lineWidth:t}=this.options[`${e}LineStyle`];return+(t||lG.lineWidth||1)/this.context.graph.getZoom()}updateSnapline(e){let{verticalX:t,verticalMinY:n,verticalMaxY:r,horizontalY:i,horizontalMinX:o,horizontalMaxX:a}=e,[s,l]=this.context.canvas.getSize(),{offset:c}=this.options;null!==i?Object.assign(this.horizontalLine.style,{x1:c===1/0?0:o-c,y1:i,x2:c===1/0?s:a+c,y2:i,visibility:"visible",lineWidth:this.getLineWidth("horizontal")}):this.horizontalLine.style.visibility="hidden",null!==t?Object.assign(this.verticalLine.style,{x1:t,y1:c===1/0?0:n-c,x2:t,y2:c===1/0?l:r+c,visibility:"visible",lineWidth:this.getLineWidth("vertical")}):this.verticalLine.style.visibility="hidden"}getDelta(e){let t=this.context.graph.getZoom();return iM([e.dx,e.dy],t)}bindEvents(){return lH(this,void 0,void 0,function*(){let{graph:e}=this.context;e.on(pI.DRAG_START,this.onDragStart),e.on(pI.DRAG,this.onDrag),e.on(pI.DRAG_END,this.onDragEnd)})}unbindEvents(){let{graph:e}=this.context;e.off(pI.DRAG_START,this.onDragStart),e.off(pI.DRAG,this.onDrag),e.off(pI.DRAG_END,this.onDragEnd)}destroyElements(){var e,t;null===(e=this.horizontalLine)||void 0===e||e.destroy(),null===(t=this.verticalLine)||void 0===t||t.destroy()}destroy(){this.destroyElements(),this.unbindEvents(),super.destroy()}}lV.defaultOptions={tolerance:5,offset:20,autoSnap:!0,shape:"key",verticalLineStyle:{stroke:"#1783FF"},horizontalLineStyle:{stroke:"#1783FF"},filter:()=>!0};let l$=(e,t)=>Math.abs(e-t),lW=(e,t)=>"function"==typeof t?t(e):e.getShape(t);var lY=n(17135),lq=n(85381),lX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let lK=["timestamp","time","date","datetime"];class lQ extends sG{get padding(){return r8(this.options.padding)}constructor(e,t){super(e,Object.assign({},lQ.defaultOptions,t)),this.backup(),this.upsertTimebar()}play(){var e;null===(e=this.timebar)||void 0===e||e.play()}pause(){var e;null===(e=this.timebar)||void 0===e||e.pause()}forward(){var e;null===(e=this.timebar)||void 0===e||e.forward()}backward(){var e;null===(e=this.timebar)||void 0===e||e.backward()}reset(){var e;null===(e=this.timebar)||void 0===e||e.reset()}update(e){super.update(e),this.backup(),this.upsertTimebar()}backup(){this.originalData=lJ(this.context.graph.getData())}upsertTimebar(){let{canvas:e}=this.context,t=this.options,{onChange:n,timebarType:r,data:i,x:o,y:a,width:s,height:l,mode:c}=t,u=lX(t,["onChange","timebarType","data","x","y","width","height","mode"]),d=e.getSize(),[p]=this.padding;this.upsertCanvas().ready.then(()=>{var e;let t=Object.assign(Object.assign({x:d[0]/2-s/2,y:p,onChange:e=>{let t=((0,q.Z)(e)?e:[e,e]).map(e=>(0,lq.Z)(e)?e.getTime():e);"modify"===this.options.mode?this.filterElements(t):this.hiddenElements(t),null==n||n(t)}},u),{data:i.map(e=>(0,rq.Z)(e)?{time:e,value:0}:e),width:s,height:l,type:r});this.timebar?this.timebar.update(t):(this.timebar=new lY.s({style:t}),null===(e=this.canvas)||void 0===e||e.appendChild(this.timebar))})}upsertCanvas(){if(this.canvas)return this.canvas;let{className:e,height:t,position:n}=this.options,r=this.context.canvas,[i]=r.getSize(),[o,,a]=this.padding,[s,l]=lF({width:i,height:t+o+a,graphCanvas:r,className:"timebar",placement:n});return this.container=s,e&&s.classList.add(e),this.canvas=l,this.canvas}filterElements(e){var t,n,r,i;return t=this,n=void 0,r=void 0,i=function*(){var t;if(!this.originalData)return;let{elementTypes:n,getTime:r}=this.options,{graph:i,element:o}=this.context,a=lJ(this.originalData);n.forEach(t=>{let n=`${t}s`;a[n]=(this.originalData[n]||[]).filter(t=>{let n=r(t);return!!l0(n,e)})});let s=[...a.nodes,...a.combos].map(e=>ih(e));a.edges=a.edges.filter(e=>{let t=e.source,n=e.target;return s.includes(t)&&s.includes(n)}),i.setData(a),yield null===(t=o.draw({animation:!1,silence:!0}))||void 0===t?void 0:t.finished},new(r||(r=Promise))(function(e,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(e){e(n)})).then(a,s)}l((i=i.apply(t,n||[])).next())})}hiddenElements(e){let{graph:t}=this.context,{elementTypes:n,getTime:r}=this.options,i=[],o=[];n.forEach(t=>{var n;let a=`${t}s`,s=(null===(n=this.originalData)||void 0===n?void 0:n[a])||[];s.forEach(t=>{let n=ih(t),a=r(t);l0(a,e)?o.push(n):i.push(n)})}),t.hideElement(i,!1),t.showElement(o,!1)}destroy(){var e,t,n;let{graph:r}=this.context;this.originalData&&r.setData(Object.assign({},this.originalData)),null===(e=this.timebar)||void 0===e||e.destroy(),null===(t=this.canvas)||void 0===t||t.destroy(),null===(n=this.container)||void 0===n||n.remove(),this.originalData=void 0,this.container=void 0,this.timebar=void 0,this.canvas=void 0,super.destroy()}}lQ.defaultOptions={position:"bottom",enable:!0,timebarType:"time",className:"g6-timebar",width:450,height:60,zIndex:3,elementTypes:["node"],padding:10,mode:"modify",getTime:e=>l1(e,lK,void 0),loop:!1};let lJ=e=>{let{nodes:t=[],edges:n=[],combos:r=[]}=e;return{nodes:[...t],edges:[...n],combos:[...r]}},l0=(e,t)=>{if((0,rq.Z)(t))return e===t;let[n,r]=t;return e>=n&&e<=r},l1=(e,t,n)=>{var r;for(let n=0;n<t.length;n++){let i=t[n],o=null===(r=e.data)||void 0===r?void 0:r[i];if(o)return o}return n},l2=`
  .g6-toolbar {
    position: absolute;
    z-index: 100;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.1);
    opacity: 0.65;
  }
  .g6-toolbar .g6-toolbar-item {
    display: inline-block;
    width: 16px;
    height: 16px;
    padding: 4px;
    cursor: pointer;
    box-sizing: content-box;
  }

  .g6-toolbar .g6-toolbar-item:hover {
    background-color: #f0f0f0;
  }

  .g6-toolbar .g6-toolbar-item svg {
    display: inline-block;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }
`,l3=`
  <svg>
    <symbol id="zoom-in" viewBox="64 64 896 896">
      <path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>
    </symbol>
    <symbol id="zoom-out" viewBox="64 64 896 896">
      <path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>
    </symbol>
    <symbol id="edit" viewBox="64 64 896 896">
      <path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"></path>
    </symbol>
    <symbol id="delete" viewBox="64 64 896 896">
      <path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"></path>
    </symbol>
    <symbol id="redo" viewBox="64 64 896 896">
      <path d="M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"></path>
    </symbol>
    <symbol id="undo" viewBox="64 64 896 896">
      <path d="M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"></path>
    </symbol>
    <symbol id="export" viewBox="64 64 896 896">
      <path d="M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"></path>
    </symbol>
    <symbol id="auto-fit" viewBox="64 64 896 896">
      <path d="M952 474H829.8C812.5 327.6 696.4 211.5 550 194.2V72c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v122.2C327.6 211.5 211.5 327.6 194.2 474H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h122.2C211.5 696.4 327.6 812.5 474 829.8V952c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V829.8C696.4 812.5 812.5 696.4 829.8 550H952c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM512 756c-134.8 0-244-109.2-244-244s109.2-244 244-244 244 109.2 244 244-109.2 244-244 244z"></path>
      <path d="M512 392c-32.1 0-62.1 12.4-84.8 35.2-22.7 22.7-35.2 52.7-35.2 84.8s12.5 62.1 35.2 84.8C449.9 619.4 480 632 512 632s62.1-12.5 84.8-35.2C619.4 574.1 632 544 632 512s-12.5-62.1-35.2-84.8A118.57 118.57 0 00512 392z"></path>
    </symbol>
    <symbol id="reset" viewBox="64 64 896 896">
      <path d="M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"></path>
    </symbol>
    <symbol id="exit-fullscreen" viewBox="0 0 1024 1024">
      <path d="M418.13333333 361.43786666c0 0.2048-0.13653333 0.4096-0.13653334 0.68266667C417.99679999 362.32533333 418.13333333 362.53013333 418.13333333 362.73493333 418.13333333 371.54133333 414.44693333 379.392 408.78079999 385.39946666 408.43946666 385.7408 408.30293333 386.21866666 408.02986666 386.49173333c-1.09226667 1.09226667-2.59413333 1.77493333-3.82293333 2.73066667C398.40426666 393.65973333 391.64586666 396.8 383.93173333 396.8 383.72693333 396.8 383.59039999 396.73173333 383.38559999 396.73173333S382.97599999 396.8 382.77119999 396.8L112.29866666 396.8C92.50133333 396.8 76.79999999 381.50826666 76.79999999 362.66666666 76.66346666 343.89333333 92.63786666 328.53333333 112.16213333 328.53333333l189.44 0L87.44959999 114.51733333C73.59146666 100.59093333 73.25013333 78.5408 86.63039999 65.29706666c13.17546667-13.44853333 35.36213333-12.97066667 49.152 0.88746667l214.08426667 214.08426667L349.86666666 90.89706666C349.79839999 71.23626666 365.22666666 55.46666666 383.99999999 55.46666666 402.77333333 55.33013333 418.13333333 71.30453333 418.13333333 90.8288L418.13333333 361.43786666zM928.90453333 328.53333333l-189.44 0 214.15253333-214.08426667c13.85813333-13.9264 14.19946667-35.90826667 0.88746667-49.22026666-13.17546667-13.44853333-35.36213333-12.97066667-49.152 0.88746666l-214.08426667 214.08426667L691.26826666 90.89706666C691.26826666 71.23626666 675.83999999 55.46666666 657.06666666 55.46666666 638.29333333 55.33013333 622.93333333 71.30453333 622.93333333 90.8288l0 270.60906666c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 362.32533333 622.93333333 362.53013333 622.93333333 362.73493333 622.93333333 371.54133333 626.61973333 379.392 632.28586666 385.39946666c0.34133333 0.34133333 0.47786667 0.8192 0.8192 1.09226667 1.09226667 1.09226667 2.59413333 1.77493333 3.8912 2.73066667C642.66239999 393.65973333 649.42079999 396.8 657.13493333 396.8c0.2048 0 0.34133333-0.06826667 0.54613333-0.06826667S658.09066666 396.8 658.29546666 396.8l270.5408 0C948.56533333 396.8 964.26666666 381.50826666 964.26666666 362.66666666 964.40319999 343.89333333 948.42879999 328.53333333 928.90453333 328.53333333zM418.13333333 635.73333333c0-8.8064-3.6864-16.5888-9.35253334-22.66453333C408.43946666 612.72746666 408.30293333 612.2496 408.02986666 611.90826666 406.86933333 610.88426666 405.43573333 610.2016 404.20693333 609.24586666 398.47253333 604.80853333 391.64586666 601.6 383.93173333 601.6 383.72693333 601.6 383.59039999 601.73653333 383.38559999 601.73653333S382.97599999 601.6 382.77119999 601.6L112.29866666 601.6C92.50133333 601.6 76.79999999 616.96 76.79999999 635.73333333 76.66346666 654.50666666 92.63786666 669.86666666 112.16213333 669.86666666l189.44 0-214.15253334 214.15253334c-13.85813333 13.85813333-14.19946667 35.84-0.88746666 49.22026666 13.17546667 13.44853333 35.36213333 12.9024 49.152-0.95573333l214.08426666-214.08426667 0 189.37173334c0 19.59253333 15.42826667 35.49866667 34.2016 35.36213333C402.77333333 943.2064 418.13333333 927.232 418.13333333 907.5712L418.13333333 637.09866666c0-0.27306667-0.13653333-0.47786667-0.13653334-0.68266666C417.99679999 636.14293333 418.13333333 635.93813333 418.13333333 635.73333333zM739.46453333 669.86666666l189.44 0c19.456 0 35.49866667-15.36 35.36213333-34.13333333C964.26666666 616.96 948.56533333 601.6 928.76799999 601.6L658.29546666 601.6C658.09066666 601.6 657.88586666 601.73653333 657.68106666 601.73653333S657.33973333 601.6 657.13493333 601.6C649.42079999 601.6 642.59413333 604.80853333 636.85973333 609.24586666 635.63093333 610.2016 634.19733333 610.88426666 633.03679999 611.90826666 632.76373333 612.2496 632.62719999 612.72746666 632.28586666 613.0688 626.61973333 619.14453333 622.93333333 626.92693333 622.93333333 635.73333333c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 636.6208 622.93333333 636.8256 622.93333333 637.09866666l0 270.5408C622.93333333 927.232 638.29333333 943.2064 657.06666666 942.93333333c18.77333333 0.13653333 34.2016-15.70133333 34.2016-35.36213333l0-189.37173334 214.08426667 214.08426667c13.78986667 13.85813333 35.90826667 14.40426667 49.152 0.95573333 13.312-13.312 12.97066667-35.36213333-0.88746667-49.22026666L739.46453333 669.86666666z"  ></path></symbol>
    <symbol id="request-fullscreen" viewBox="0 0 1024 1024">
      <path d="M69.818182 87.598545v273.128728a34.909091 34.909091 0 0 0 69.818182 0V163.653818l221.928727 222.021818a33.512727 33.512727 0 0 0 47.383273-47.383272L186.926545 116.363636h197.073455a34.909091 34.909091 0 0 0 0-69.818181H110.871273C85.364364 46.545455 69.818182 59.671273 69.818182 87.598545zM938.542545 46.545455H665.413818a34.909091 34.909091 0 0 0 0 69.818181h197.073455L640.465455 338.292364a33.512727 33.512727 0 0 0 47.383272 47.383272l221.928728-222.021818v197.073455a34.909091 34.909091 0 0 0 69.818181 0V87.598545c0-27.927273-15.453091-41.053091-40.96-41.05309z m-827.671272 907.636363h273.128727a34.909091 34.909091 0 0 0 0-69.818182H186.926545l222.021819-221.928727a33.512727 33.512727 0 0 0-47.383273-47.383273L139.636364 837.073455V640a34.909091 34.909091 0 0 0-69.818182 0v273.128727c0 27.927273 15.546182 41.053091 41.053091 41.053091z m868.724363-41.053091V640a34.909091 34.909091 0 0 0-69.818181 0v197.073455L687.941818 615.051636a33.512727 33.512727 0 0 0-47.383273 47.383273L862.487273 884.363636H665.413818a34.909091 34.909091 0 0 0 0 69.818182h273.128727c25.6 0 41.053091-13.125818 41.053091-41.053091z"  ></path></symbol>
  </svg>
`;var l5=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class l4 extends sG{constructor(e,t){super(e,Object.assign({},l4.defaultOptions,t)),this.$element=sV("toolbar",!1),this.onToolbarItemClick=e=>{let{onClick:t}=this.options;if(e.target instanceof Element&&e.target.className.includes("g6-toolbar-item")){let n=e.target.getAttribute("value");null==t||t(n,e.target)}};let n=this.context.canvas.getContainer();this.$element.style.display="flex",n.appendChild(this.$element),s$("g6-toolbar-css","style",{},l2,document.head),s$("g6-toolbar-svgicon","div",{display:"none"},l3),this.$element.addEventListener("click",this.onToolbarItemClick),this.update(t)}update(e){let t=Object.create(null,{update:{get:()=>super.update}});return l5(this,void 0,void 0,function*(){t.update.call(this,e);let{className:n,position:r,style:i}=this.options;this.$element.className=`g6-toolbar ${n||""}`,Object.assign(this.$element.style,i,function(e){let t={top:"unset",right:"unset",bottom:"unset",left:"unset"},n=e.split("-");return n.forEach(e=>{t[e]="8px"}),t.flexDirection=e.startsWith("top")||e.startsWith("bottom")?"row":"column",t}(r)),this.$element.innerHTML=yield this.getDOMContent()})}destroy(){this.$element.removeEventListener("click",this.onToolbarItemClick),this.$element.remove(),super.destroy()}getDOMContent(){return l5(this,void 0,void 0,function*(){let e=yield this.options.getItems();return e.map(e=>{var t;return`
          <div class="g6-toolbar-item" value="${e.value}" title="${null!==(t=e.title)&&void 0!==t?t:""}">
            <svg aria-hidden="true" focusable="false">
              <use xlink:href="#${e.id}"></use>
            </svg>
          </div>`}).join("")})}}l4.defaultOptions={position:"top-left"};var l6=n(35242),l7=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class l8 extends sG{constructor(e,t){super(e,Object.assign({},l8.defaultOptions,t)),this.currentTarget=null,this.tooltipElement=null,this.container=null,this.isEnable=(e,t)=>{let{enable:n}=this.options;return"function"==typeof n?n(e,t):n},this.onClick=e=>{let{target:{id:t}}=e;this.currentTarget===t?this.hide(e):this.show(e)},this.onPointerMove=e=>{let{target:t}=e;this.currentTarget&&t.id!==this.currentTarget&&this.show(e)},this.onPointerLeave=e=>{this.hide(e)},this.onCanvasMove=e=>{this.hide(e)},this.onPointerEnter=e=>{this.show(e)},this.showById=e=>l7(this,void 0,void 0,function*(){yield this.show({target:{id:e}})}),this.getElementData=(e,t)=>{let{model:n}=this.context;switch(t){case"node":return n.getNodeData([e]);case"edge":return n.getEdgeData([e]);case"combo":return n.getComboData([e]);default:return[]}},this.show=e=>l7(this,void 0,void 0,function*(){var t,n;let r,i;let{client:o,target:{id:a}}=e;if(a6(e.target))return;let s=this.context.graph.getElementType(a),{getContent:l,title:c}=this.options,u=this.getElementData(a,s);if(!this.tooltipElement||!this.isEnable(e,u))return;let d={};if(l){if(d.content=yield l(e,u),!d.content)return}else{let e=this.context.graph.getElementRenderStyle(a),t="node"===s?e.fill:e.stroke;d={title:c||s,data:u.map(e=>({name:"ID",value:e.id||`${e.source} -> ${e.target}`,color:t}))}}if(this.currentTarget=a,o)r=o.x,i=o.y;else{let e=(0,H.Z)(u,"0.style",{x:0,y:0});r=e.x,i=e.y}null===(n=(t=this.options).onOpenChange)||void 0===n||n.call(t,!0),this.tooltipElement.update(Object.assign(Object.assign(Object.assign({},this.tooltipStyleProps),{x:r,y:i,style:{".tooltip":{visibility:"visible"}}}),d))}),this.hide=e=>{var t,n,r,i,o;if(!e){null===(n=(t=this.options).onOpenChange)||void 0===n||n.call(t,!1),null===(r=this.tooltipElement)||void 0===r||r.hide(),this.currentTarget=null;return}if(!this.tooltipElement||!this.currentTarget)return;let{client:{x:a,y:s}}=e;null===(o=(i=this.options).onOpenChange)||void 0===o||o.call(i,!1),this.tooltipElement.hide(a,s),this.currentTarget=null},this.initTooltip=()=>{var e;let t=new l6.u({className:"tooltip",style:this.tooltipStyleProps});return null===(e=this.container)||void 0===e||e.appendChild(t.HTMLTooltipElement),t},this.render(),this.bindEvents()}getEvents(){return"click"===this.options.trigger?{"node:click":this.onClick,"edge:click":this.onClick,"combo:click":this.onClick,"canvas:click":this.onPointerLeave,contextmenu:this.onPointerLeave,drag:this.onPointerLeave}:{"node:pointerenter":this.onPointerEnter,"node:pointermove":this.onPointerMove,"canvas:pointermove":this.onCanvasMove,"edge:pointerenter":this.onPointerEnter,"edge:pointermove":this.onPointerMove,"combo:pointerenter":this.onPointerEnter,"combo:pointermove":this.onPointerMove,contextmenu:this.onPointerLeave,"node:drag":this.onPointerLeave}}update(e){var t;this.unbindEvents(),super.update(e),this.tooltipElement&&(null===(t=this.container)||void 0===t||t.removeChild(this.tooltipElement.HTMLTooltipElement)),this.tooltipElement=this.initTooltip(),this.bindEvents()}render(){let{canvas:e}=this.context,t=e.getContainer();t&&(this.container=t,this.tooltipElement=this.initTooltip())}unbindEvents(){let{graph:e}=this.context,t=this.getEvents();Object.keys(t).forEach(n=>{e.off(n,t[n])})}bindEvents(){let{graph:e}=this.context,t=this.getEvents();Object.keys(t).forEach(n=>{e.on(n,t[n])})}get tooltipStyleProps(){let{canvas:e}=this.context,{center:t}=e.getBounds(),n=e.getContainer(),{top:r,left:i}=n.getBoundingClientRect(),{style:o,position:a,enterable:s,container:l={x:-i,y:-r},title:c,offset:u}=this.options,[d,p]=t,[h,f]=e.getSize();return{x:d,y:p,container:l,title:c,bounding:{x:0,y:0,width:h,height:f},position:a,enterable:s,offset:u,style:o}}destroy(){var e;this.unbindEvents(),this.tooltipElement&&(null===(e=this.container)||void 0===e||e.removeChild(this.tooltipElement.HTMLTooltipElement)),super.destroy()}}l8.defaultOptions={trigger:"hover",position:"top-right",enterable:!1,enable:!0,offset:[10,10],style:{".tooltip":{visibility:"hidden"}}};var l9=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};function ce(e,t){r||(r=document.createElement("canvas")),r.width=e,r.height=t;let n=r.getContext("2d");return n.clearRect(0,0,e,t),r}var ct=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class cn extends sG{constructor(e,t){super(e,Object.assign({},cn.defaultOptions,t)),this.$element=sV("watermark");let n=this.context.canvas.getContainer();n.appendChild(this.$element),this.update(t)}update(e){var t,n,r,i;let o=Object.create(null,{update:{get:()=>super.update}});return t=this,n=void 0,r=void 0,i=function*(){o.update.call(this,e);let t=this.options,{width:n,height:r,text:i,imageURL:a}=t,s=ct(t,["width","height","text","imageURL"]);Object.keys(s).forEach(t=>{t.startsWith("background")&&(this.$element.style[t]=e[t])});let l=a?yield function(e,t,n,r){return l9(this,void 0,void 0,function*(){let i=ce(e,t),o=i.getContext("2d"),{rotate:a,opacity:s}=r;a&&o.rotate(a),s&&(o.globalAlpha=s);let l=new Image;return l.crossOrigin="anonymous",l.src=n,new Promise(n=>{l.onload=function(){let r=e>l.width?(e-l.width)/2:0,a=t>l.height?(t-l.height)/2:0;o.drawImage(l,0,0,l.width,l.height,r,a,e-2*r,t-2*a),n(i.toDataURL())}})})}(n,r,a,s):yield function(e,t,n,r){return l9(this,void 0,void 0,function*(){let i=ce(e,t),o=i.getContext("2d"),{rotate:a,opacity:s,textFill:l,textFontSize:c,textFontFamily:u,textFontVariant:d,textFontWeight:p,textAlign:h,textBaseline:f}=r;return o.textAlign=h,o.textBaseline=f,o.translate(e/2,t/2),o.font=`${c}px ${u} ${d} ${p}`,a&&o.rotate(a),s&&(o.globalAlpha=s),l&&(o.fillStyle=l,o.fillText(`${n}`,0,0)),i.toDataURL()})}(n,r,i,s);this.$element.style.backgroundImage=`url(${l})`},new(r||(r=Promise))(function(e,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(e){e(n)})).then(a,s)}l((i=i.apply(t,n||[])).next())})}destroy(){super.destroy(),this.$element.remove()}}cn.defaultOptions={width:200,height:100,opacity:.2,rotate:Math.PI/12,text:"",textFill:"#000",textFontSize:16,textAlign:"center",textBaseline:"middle",backgroundRepeat:"repeat"};let cr=["#7E92B5","#F4664A","#FFBE3A"],ci={type:"group",color:["#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]},co={type:"group",color:["#99ADD1","#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]};function ca(e){let{bgColor:t,textColor:n,nodeColor:r,nodeColorDisabled:i,nodeStroke:o,nodeHaloStrokeOpacityActive:a=.15,nodeHaloStrokeOpacitySelected:s=.25,nodeOpacityDisabled:l=.06,nodeIconOpacityInactive:c=.85,nodeOpacityInactive:u=.25,nodeBadgePalette:d=cr,nodePaletteOptions:p=ci,edgeColor:h,edgeColorDisabled:f,edgePaletteOptions:g=co,comboColor:m,comboColorDisabled:b,comboStroke:v,comboStrokeDisabled:y,edgeColorInactive:E}=e;return{background:t,node:{palette:p,style:{donutOpacity:1,badgeBackgroundOpacity:1,badgeFill:"#fff",badgeFontSize:8,badgePadding:[0,4],badgePalette:d,fill:r,fillOpacity:1,halo:!1,iconFill:"#fff",iconOpacity:1,labelBackground:!1,labelBackgroundFill:t,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelFill:n,labelFillOpacity:.85,labelLineHeight:16,labelPadding:[0,2],labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelOffsetY:2,lineWidth:0,portFill:r,portLineWidth:1,portStroke:o,portStrokeOpacity:.65,size:32,stroke:o,strokeOpacity:1,zIndex:2},state:{selected:{halo:!0,haloLineWidth:24,haloStrokeOpacity:s,labelFontSize:12,labelFontWeight:"bold",lineWidth:4,stroke:o},active:{halo:!0,haloLineWidth:12,haloStrokeOpacity:a},highlight:{labelFontWeight:"bold",lineWidth:4,stroke:o,strokeOpacity:.85},inactive:{badgeBackgroundOpacity:u,donutOpacity:u,fillOpacity:u,iconOpacity:c,labelFill:n,labelFillOpacity:u,strokeOpacity:u},disabled:{badgeBackgroundOpacity:.25,donutOpacity:l,fill:i,fillOpacity:l,iconFill:i,iconOpacity:.25,labelFill:n,labelFillOpacity:.25,strokeOpacity:l}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"node-expand",collapse:"node-collapse",update:[{fields:["x","y","fill","stroke"]}],translate:[{fields:["x","y"]}]}},edge:{palette:g,style:{badgeBackgroundFill:h,badgeFill:"#fff",badgeFontSize:8,badgeOffsetX:10,fillOpacity:1,halo:!1,haloLineWidth:12,haloStrokeOpacity:1,increasedLineWidthForHitTesting:2,labelBackground:!1,labelBackgroundFill:t,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[4,4,4,4],labelFill:n,labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelPlacement:"center",labelTextBaseline:"middle",lineWidth:1,stroke:h,strokeOpacity:1,zIndex:1},state:{selected:{halo:!0,haloStrokeOpacity:.25,labelFontSize:14,labelFontWeight:"bold",lineWidth:3},active:{halo:!0,haloStrokeOpacity:.15},highlight:{labelFontWeight:"bold",lineWidth:3},inactive:{stroke:E,fillOpacity:.08,labelOpacity:.25,strokeOpacity:.08,badgeBackgroundOpacity:.25},disabled:{stroke:f,fillOpacity:.45,strokeOpacity:.45,labelOpacity:.25,badgeBackgroundOpacity:.45}},animation:{enter:"fade",exit:"fade",expand:"path-in",collapse:"path-out",show:"fade",hide:"fade",update:[{fields:["sourceNode","targetNode"]},{fields:["stroke"],shape:"key"}],translate:[{fields:["sourceNode","targetNode"]}]}},combo:{style:{collapsedMarkerFill:t,collapsedMarkerFontSize:12,collapsedMarkerFillOpacity:1,collapsedSize:32,collapsedFillOpacity:1,fill:m,halo:!1,haloLineWidth:12,haloStroke:v,haloStrokeOpacity:.25,labelBackground:!1,labelBackgroundFill:t,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[2,4,2,4],labelFill:n,labelFontSize:12,labelFontWeight:400,labelOpacity:1,lineDash:0,lineWidth:1,fillOpacity:.04,strokeOpacity:1,padding:10,stroke:v},state:{selected:{halo:!0,labelFontSize:14,labelFontWeight:700,lineWidth:4},active:{halo:!0},highlight:{labelFontWeight:700,lineWidth:4},inactive:{fillOpacity:.65,labelOpacity:.25,strokeOpacity:.65},disabled:{fill:b,fillOpacity:.25,labelOpacity:.25,stroke:y,strokeOpacity:.25}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"combo-expand",collapse:"combo-collapse",update:[{fields:["x","y"]},{fields:["fill","stroke","lineWidth"],shape:"key"}],translate:[{fields:["x","y"]}]}}}}let cs=ca({bgColor:"#000000",comboColor:"#fdfdfd",comboColorDisabled:"#d0e4ff",comboStroke:"#99add1",comboStrokeDisabled:"#969696",edgeColor:"#637088",edgeColorDisabled:"#637088",edgeColorInactive:"#D0E4FF",edgePaletteOptions:{type:"group",color:["#637088","#0F55A6","#008383","#9C5D38","#8B53A6","#4E40A6","#8F6608","#3E801D","#A65383","#175E75","#0F8248"]},nodeColor:"#1783ff",nodeColorDisabled:"#D0E4FF",nodeHaloStrokeOpacityActive:.25,nodeHaloStrokeOpacitySelected:.45,nodeIconOpacityInactive:.45,nodeOpacityDisabled:.25,nodeOpacityInactive:.45,nodeStroke:"#d0e4ff",textColor:"#ffffff"}),cl=ca({bgColor:"#ffffff",comboColor:"#99ADD1",comboColorDisabled:"#f0f0f0",comboStroke:"#99add1",comboStrokeDisabled:"#d9d9d9",edgeColor:"#99add1",edgeColorDisabled:"#d9d9d9",edgeColorInactive:"#1B324F",nodeColor:"#1783ff",nodeColorDisabled:"#1B324F",nodeHaloStrokeOpacityActive:.15,nodeHaloStrokeOpacitySelected:.25,nodeIconOpacityInactive:.85,nodeOpacityDisabled:.06,nodeOpacityInactive:.25,nodeStroke:"#000000",textColor:"#000000"});class cc extends iw{beforeDraw(e,t){return e}afterLayout(e,t){}}function cu(e,t,n,r,i){let o=ih(r),a=`${n}s`,s=i?r:e.add[a].get(o)||e.update[a].get(o)||e.remove[a].get(o)||r;Object.entries(e).forEach(([e,n])=>{t===e?n[a].set(o,s):n[a].delete(o)})}function cd(e,t){return Object.keys(e).every(n=>e[n]===t[n])}let cp=(e,t,n,r)=>{let i=`${n}s`,o=ih(r);e.add[i].has(o)||e.update[i].has(o)||e[t][i].set(ih(r),r)};new WeakMap;let ch=(e,t,n=2)=>{if("object"!=typeof e||"object"!=typeof t)return e===t;let r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(let i of r){let r=e[i],o=t[i];if(n>1&&"object"==typeof r&&"object"==typeof o){if(!ch(r,o,n-1))return!1}else if(r!==o)return!1}return!0};function cf(e,t,n){let r=rz[e][t];r&&rH.warn(`The extension ${t} of ${e} has been registered before, and will be overridden.`),Object.assign(rz[e],{[t]:n})}var cg=n(74768),cm=n(30853),cb=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})},cv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let cy=["main"],cE=["background","main","label","transient"];class c_{getConfig(){return this.config}getLayer(e="main"){return this.extends.layers[e]||this.getLayers().main}getLayers(){return this.extends.layers}getRenderer(e){return this.extends.renderers[e]}getCamera(e="main"){return this.getLayer(e).getCamera()}getRoot(e="main"){return this.getLayer(e).getRoot()}getContextService(e="main"){return this.getLayer(e).getContextService()}setCursor(e){this.config.cursor=e,this.getLayer().setCursor(e)}get document(){return this.getLayer().document}get context(){return this.getLayer().context}constructor(e){this.config={enableMultiLayer:!0},Object.assign(this.config,e);let t=this.config,{renderer:n,background:r,cursor:i,enableMultiLayer:o}=t,a=cv(t,["renderer","background","cursor","enableMultiLayer"]),s=o?cE:cy,l=cT(n,s),c=Object.fromEntries(s.map(e=>{let t=new ew.Xz(Object.assign(Object.assign({},a),{supportsMutipleCanvasesInOneContainer:o,renderer:l[e],background:o?"background"===e?r:void 0:r}));return[e,t]}));cx(c),this.extends={config:this.config,renderer:n,renderers:l,layers:c}}get ready(){return Promise.all(Object.entries(this.getLayers()).map(([,e])=>e.ready))}resize(e,t){Object.assign(this.extends.config,{width:e,height:t}),Object.values(this.getLayers()).forEach(n=>{let r=n.getCamera(),i=r.getPosition(),o=r.getFocalPoint();n.resize(e,t),r.setPosition(i),r.setFocalPoint(o)})}getBounds(e){return ia(Object.values(this.getLayers()).map(t=>{let n=e?t.getRoot().childNodes.find(t=>t.classList.includes(e)):t.getRoot();return n}).filter(e=>(null==e?void 0:e.childNodes.length)>0).map(e=>e.getBounds()))}getContainer(){let e=this.extends.config.container;return"string"==typeof e?document.getElementById(e):e}getSize(){return[this.extends.config.width||0,this.extends.config.height||0]}appendChild(e,t){var n;let r=(null===(n=e.style)||void 0===n?void 0:n.$layer)||"main";return this.getLayer(r).appendChild(e,t)}setRenderer(e){if(e===this.extends.renderer)return;let t=cT(e,this.config.enableMultiLayer?cE:cy);this.extends.renderers=t,Object.entries(t).forEach(([e,t])=>this.getLayer(e).setRenderer(t)),cx(this.getLayers())}getCanvasByViewport(e){return iK(this.getLayer().viewport2Canvas(iQ(e)))}getViewportByCanvas(e){return iK(this.getLayer().canvas2Viewport(iQ(e)))}getViewportByClient(e){return iK(this.getLayer().client2Viewport(iQ(e)))}getClientByViewport(e){return iK(this.getLayer().viewport2Client(iQ(e)))}getClientByCanvas(e){return this.getClientByViewport(this.getViewportByCanvas(e))}getCanvasByClient(e){let t=this.getLayer(),n=t.client2Viewport(iQ(e));return iK(t.viewport2Canvas(n))}toDataURL(){return cb(this,arguments,void 0,function*(e={}){let t=globalThis.devicePixelRatio||1,{mode:n="viewport"}=e,r=cv(e,["mode"]),[i,o,a,s]=[0,0,0,0];if("viewport"===n)[a,s]=this.getSize();else if("overall"===n){let e=this.getBounds(),t=it(e);[i,o]=e.min,[a,s]=t}let l=(0,cm.L)('<div id="virtual-image"></div>'),c=new ew.Xz({width:a,height:s,renderer:new oJ.Th,devicePixelRatio:t,container:l,background:this.extends.config.background});yield c.ready,c.appendChild(this.getLayer("background").getRoot().cloneNode(!0)),c.appendChild(this.getRoot().cloneNode(!0));let u=this.getLayer("label").getRoot().cloneNode(!0),d=c.viewport2Canvas({x:0,y:0}),p=this.getCanvasByViewport([0,0]);u.translate([p[0]-d.x,p[1]-d.y]),u.scale(1/this.getCamera().getZoom()),c.appendChild(u),c.appendChild(this.getLayer("transient").getRoot().cloneNode(!0));let h=this.getCamera(),f=c.getCamera();if("viewport"===n)f.setZoom(h.getZoom()),f.setPosition(h.getPosition()),f.setFocalPoint(h.getFocalPoint());else if("overall"===n){let[e,t,n]=f.getPosition(),[r,a,s]=f.getFocalPoint();f.setPosition([e+i,t+o,n]),f.setFocalPoint([r+i,a+o,s])}let g=c.getContextService();return new Promise(e=>{c.addEventListener(ew.$6.RERENDER,()=>cb(this,void 0,void 0,function*(){yield new Promise(e=>setTimeout(e,300));let t=yield g.toDataURL(r);e(t)}))})})}destroy(){Object.values(this.getLayers()).forEach(e=>{let t=e.getCamera();t.cancelLandmarkAnimation(),e.destroy()})}}function cT(e,t){return Object.fromEntries(t.map(t=>{let n=(null==e?void 0:e(t))||new oJ.Th;return n instanceof oJ.Th&&n.setConfig({enableDirtyRectangleRendering:!1}),"main"===t?n.registerPlugin(new cg.S({isDocumentDraggable:!0,isDocumentDroppable:!0,dragstartDistanceThreshold:10,dragstartTimeThreshold:100})):n.unregisterPlugin(n.getPlugin("dom-interaction")),[t,n]}))}function cx(e){Object.entries(e).forEach(([e,t])=>{let n=t.getContextService().getDomElement();(null==n?void 0:n.style)&&(n.style.gridArea="1 / 1 / 2 / 2",n.style.outline="none",n.tabIndex=1,"main"!==e&&(n.style.pointerEvents="none")),(null==n?void 0:n.parentElement)&&(n.parentElement.style.display="grid")})}let cS=e=>e?parseInt(e):0;function cA(e){if(!e)return[0,0];let t=640,n=480,[r,i]=function(e){let t=getComputedStyle(e),n=e.clientWidth||cS(t.width),r=e.clientHeight||cS(t.height),i=cS(t.paddingLeft)+cS(t.paddingRight),o=cS(t.paddingTop)+cS(t.paddingBottom);return[n-i,r-o]}(e);return t=r||t,n=i||n,[Math.max((0,rq.Z)(t)?t:1,1),Math.max((0,rq.Z)(n)?n:1,1)]}class cC{constructor(e){this.type=e}}class cw extends cC{constructor(e,t){super(e),this.data=t}}class cO extends cC{constructor(e,t,n,r){super(e),this.animationType=t,this.animation=n,this.data=r}}class cI extends cC{constructor(e,t,n){super(e),this.elementType=t,this.data=n}}class cL extends cC{constructor(e,t){super(e),this.data=t}}function cR(e,t){e.emit(t.type,t)}function ck(e){var t;return(null===(t=null==e?void 0:e.style)||void 0===t?void 0:t.zIndex)||0}let cN="cachedStyle",cM=e=>`__${e}__`;function cD(e,t){return(0,H.Z)(e,[cN,cM(t)])}class cP{constructor(e){this.tasks=[],this.animations=new Set,this.context=e}getTasks(){let e=[...this.tasks];return this.tasks=[],e}add(e,t){this.tasks.push([e,t])}animate(e,t,n){var r,i,o;null===(r=null==t?void 0:t.before)||void 0===r||r.call(t);let a=this.getTasks().map(([t,r])=>{var i,o,a;let{element:s,elementType:l,stage:c}=t,u=function(e,t,n,r){var i,o;let{animation:a}=e;if(!1===a||!1===r)return[];let s=null===(i=null==e?void 0:e[t])||void 0===i?void 0:i.animation;if(!1===s)return[];let l=null==s?void 0:s[n];if(!1===l)return[];let c=null===(o=rG(e)[t])||void 0===o?void 0:o.animation,u=(e=[])=>(function(e){if("string"==typeof e){let t=rZ(pL.ANIMATION,e);return t||(rH.warn(`The animation of ${e} is not registered.`),[])}return e})(e).map(e=>Object.assign(Object.assign(Object.assign(Object.assign({},rF),(0,rD.Z)(a)&&a),e),(0,rD.Z)(r)&&r));if(l)return u(l);if(!c)return[];let d=c[n];return!1===d?[]:u(d)}(this.context.options,l,c,e);null===(i=null==r?void 0:r.before)||void 0===i||i.call(r);let d=u.length?rQ(s,this.inferStyle(t,n),u):null;return d?(null===(o=null==r?void 0:r.beforeAnimate)||void 0===o||o.call(r,d),d.finished.then(()=>{var e,t;null===(e=null==r?void 0:r.afterAnimate)||void 0===e||e.call(r,d),null===(t=null==r?void 0:r.after)||void 0===t||t.call(r),this.animations.delete(d)})):null===(a=null==r?void 0:r.after)||void 0===a||a.call(r),d}).filter(Boolean);a.forEach(e=>this.animations.add(e));let s=rV(a);return s?(null===(i=null==t?void 0:t.beforeAnimate)||void 0===i||i.call(t,s),s.finished.then(()=>{var e,n;null===(e=null==t?void 0:t.afterAnimate)||void 0===e||e.call(t,s),null===(n=null==t?void 0:t.after)||void 0===n||n.call(t),this.release()})):null===(o=null==t?void 0:t.after)||void 0===o||o.call(t),s}inferStyle(e,t){var n,r;let{element:i,elementType:o,stage:a,originalStyle:s,updatedStyle:l={}}=e;e.modifiedStyle||(e.modifiedStyle=Object.assign(Object.assign({},s),l));let{modifiedStyle:c}=e,u={},d={};if("enter"===a)Object.assign(u,{opacity:0});else if("exit"===a)Object.assign(d,{opacity:0});else if("show"===a)Object.assign(u,{opacity:0}),Object.assign(d,{opacity:null!==(n=cD(i,"opacity"))&&void 0!==n?n:rW("opacity")});else if("hide"===a)Object.assign(u,{opacity:null!==(r=cD(i,"opacity"))&&void 0!==r?r:rW("opacity")}),Object.assign(d,{opacity:0});else if("collapse"===a){let{collapse:e}=t||{},{target:n,descendants:r,position:a}=e;if("node"===o){if(r.includes(i.id)){let[e,t,n]=a;Object.assign(d,{x:e,y:t,z:n})}}else if("combo"===o){if(i.id===n||r.includes(i.id)){let[e,t]=a;Object.assign(d,{x:e,y:t,childrenNode:s.childrenNode})}}else"edge"===o&&Object.assign(d,{sourceNode:c.sourceNode,targetNode:c.targetNode})}else if("expand"===a){let{expand:e}=t||{},{target:n,descendants:r,position:a}=e;if("node"===o){if(i.id===n||r.includes(i.id)){let[e,t,n]=a;Object.assign(u,{x:e,y:t,z:n})}}else if("combo"===o){if(i.id===n||r.includes(i.id)){let[e,t,n]=a;Object.assign(u,{x:e,y:t,z:n,childrenNode:c.childrenNode})}}else"edge"===o&&Object.assign(u,{sourceNode:c.sourceNode,targetNode:c.targetNode})}return[Object.keys(u).length>0?Object.assign({},s,u):s,Object.keys(d).length>0?Object.assign({},c,d):c]}stop(){this.animations.forEach(e=>e.cancel())}clear(){this.tasks=[]}release(){var e,t;let{canvas:n}=this.context,r=null===(t=null===(e=n.document)||void 0===e?void 0:e.timeline)||void 0===t?void 0:t.animationsWithPromises;r&&(n.document.timeline.animationsWithPromises=r.filter(e=>"finished"!==e.playState))}destroy(){this.stop(),this.animations.clear(),this.tasks=[]}}class cF{constructor(e){this.batchCount=0,this.context=e}emit(e){let{graph:t}=this.context;t.emit(e.type,e)}startBatch(e=!0){this.batchCount++,1===this.batchCount&&this.emit(new cw(pw.BATCH_START,{initiate:e}))}endBatch(){this.batchCount--,0===this.batchCount&&this.emit(new cw(pw.BATCH_END))}get isBatching(){return this.batchCount>0}destroy(){this.context=null}}class cB extends iC{constructor(e){super(e),this.currentTarget=null,this.currentTargetType=null,this.category="behavior",this.forwardCanvasEvents=e=>{let{target:t}=e,n=function(e){if(!e)return null;if(e instanceof ew.BB)return{type:"canvas",element:e};let t=e;for(;t;){if(a$(t))return{type:"node",element:t};if(aW(t))return{type:"edge",element:t};if(aY(t))return{type:"combo",element:t};t=t.parentElement}return null}(t);if(!n)return;let{graph:r,canvas:i}=this.context,{type:o,element:a}=n;if("destroyed"in a&&(a6(a)||a.destroyed))return;let{type:s,detail:l,button:c}=e,u=Object.assign(Object.assign({},e),{target:a,targetType:o,originalTarget:t});s===pS.POINTER_MOVE&&(this.currentTarget!==a&&(this.currentTarget&&r.emit(`${this.currentTargetType}:${pS.POINTER_LEAVE}`,Object.assign(Object.assign({},u),{type:pS.POINTER_LEAVE,target:this.currentTarget,targetType:this.currentTargetType})),a&&(Object.assign(u,{type:pS.POINTER_ENTER}),r.emit(`${o}:${pS.POINTER_ENTER}`,u))),this.currentTarget=a,this.currentTargetType=o),s===pS.CLICK&&2===c||(r.emit(`${o}:${s}`,u),r.emit(s,u)),s===pS.CLICK&&2===l&&(Object.assign(u,{type:pS.DBLCLICK}),r.emit(`${o}:${pS.DBLCLICK}`,u),r.emit(pS.DBLCLICK,u)),s===pS.POINTER_DOWN&&2===c&&(Object.assign(u,{type:pS.CONTEXT_MENU,preventDefault:()=>{var e;null===(e=i.getContainer())||void 0===e||e.addEventListener(pS.CONTEXT_MENU,e=>e.preventDefault(),{once:!0})}}),r.emit(`${o}:${pS.CONTEXT_MENU}`,u),r.emit(pS.CONTEXT_MENU,u))},this.forwardContainerEvents=e=>{this.context.graph.emit(e.type,e)},this.forwardEvents(),this.setBehaviors(this.context.options.behaviors||[])}setBehaviors(e){this.setExtensions(e)}forwardEvents(){let e=this.context.canvas.getContainer();e&&[pA.KEY_DOWN,pA.KEY_UP].forEach(t=>{e.addEventListener(t,this.forwardContainerEvents)});let t=this.context.canvas.document;t&&[pS.CLICK,pS.DBLCLICK,pS.POINTER_OVER,pS.POINTER_LEAVE,pS.POINTER_ENTER,pS.POINTER_MOVE,pS.POINTER_OUT,pS.POINTER_DOWN,pS.POINTER_UP,pS.CONTEXT_MENU,pS.DRAG_START,pS.DRAG,pS.DRAG_END,pS.DRAG_ENTER,pS.DRAG_OVER,pS.DRAG_LEAVE,pS.DROP,pS.WHEEL].forEach(e=>{t.addEventListener(e,this.forwardCanvasEvents)})}destroy(){let e=this.context.canvas.getContainer();e&&[pA.KEY_DOWN,pA.KEY_UP].forEach(t=>{e.removeEventListener(t,this.forwardContainerEvents)}),this.context.canvas.document.removeAllEventListeners(),super.destroy()}}var cU=n(90630),cz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function cZ(e,t){let{data:n,style:r}=e,i=cz(e,["data","style"]),{data:o,style:a}=t,s=cz(t,["data","style"]),l=Object.assign(Object.assign({},i),s);return(n||o)&&Object.assign(l,{data:Object.assign(Object.assign({},n),o)}),(r||a)&&Object.assign(l,{style:Object.assign(Object.assign({},r),a)}),l}function cj(e){let{data:t,style:n}=e,r=cz(e,["data","style"]);return t&&(r.data=Object.assign({},t)),n&&(r.style=Object.assign({},n)),r}function cH(e={},t={}){let{states:n=[],data:r={},style:i={},children:o=[]}=e,a=cz(e,["states","data","style","children"]),{states:s=[],data:l={},style:c={},children:u=[]}=t,d=cz(t,["states","data","style","children"]),p=(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]),h=(e,t)=>{let n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(n=>e[n]===t[n])};return!!(h(a,d)&&p(o,u)&&p(n,s)&&h(r,l)&&h(i,c))}var cG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function cV(e){let{id:t=ih(e),style:n,data:r}=e,i=cG(e,["id","style","data"]),o=Object.assign(Object.assign({},e),{style:Object.assign({},n),data:Object.assign({},r)});return"source"in e&&"target"in e?Object.assign({id:t,data:o},i):{id:t,data:o}}function c$(e){return e.data}class cW{constructor(){this.latestRemovedComboIds=new Set,this.comboIds=new Set,this.changes=[],this.batchCount=0,this.isTraceless=!1,this.enableUpdateNodeLikeHierarchy=!0,this.model=new ss.k}pushChange(e){if(this.isTraceless)return;let{type:t}=e;if(t===pE.NodeUpdated||t===pE.EdgeUpdated||t===pE.ComboUpdated){let{value:n,original:r}=e;this.changes.push({value:cj(n),original:cj(r),type:t})}else this.changes.push({value:cj(e.value),type:t})}getChanges(){return this.changes}clearChanges(){this.changes=[]}batch(e){this.batchCount++,this.model.batch(e),this.batchCount--}isBatching(){return this.batchCount>0}silence(e){this.isTraceless=!0,e(),this.isTraceless=!1}isCombo(e){return this.comboIds.has(e)||this.latestRemovedComboIds.has(e)}getData(){return{nodes:this.getNodeData(),edges:this.getEdgeData(),combos:this.getComboData()}}getNodeData(e){return this.model.getAllNodes().reduce((t,n)=>{let r=c$(n);return this.isCombo(ih(r))||(void 0===e?t.push(r):e.includes(ih(r))&&t.push(r)),t},[])}getEdgeDatum(e){return c$(this.model.getEdge(e))}getEdgeData(e){return this.model.getAllEdges().reduce((t,n)=>{let r=c$(n);return void 0===e?t.push(r):e.includes(ih(r))&&t.push(r),t},[])}getComboData(e){return this.model.getAllNodes().reduce((t,n)=>{let r=c$(n);return this.isCombo(ih(r))&&(void 0===e?t.push(r):e.includes(ih(r))&&t.push(r)),t},[])}getRootsData(e=rU){return this.model.getRoots(e).map(c$)}getAncestorsData(e,t){let{model:n}=this;return n.hasNode(e)&&n.hasTreeStructure(t)?n.getAncestors(e,t).map(c$):[]}getDescendantsData(e){let t=this.getElementDataById(e),n=[];return or(t,e=>{e!==t&&n.push(e)},e=>this.getChildrenData(ih(e)),"TB"),n}getParentData(e,t){let{model:n}=this;if(!t){rH.warn("The hierarchy structure key is not specified");return}if(!n.hasNode(e)||!n.hasTreeStructure(t))return;let r=n.getParent(e,t);return r?c$(r):void 0}getChildrenData(e){let t="node"===this.getElementType(e)?rU:rB,{model:n}=this;return n.hasNode(e)&&n.hasTreeStructure(t)?n.getChildren(e,t).map(c$):[]}getElementsDataByType(e){return"node"===e?this.getNodeData():"edge"===e?this.getEdgeData():"combo"===e?this.getComboData():[]}getElementDataById(e){let t=this.getElementType(e);return"edge"===t?this.getEdgeDatum(e):this.getNodeLikeDatum(e)}getNodeLikeDatum(e){let t=this.model.getNode(e);return c$(t)}getNodeLikeData(e){return this.model.getAllNodes().reduce((t,n)=>{let r=c$(n);return e?e.includes(ih(r))&&t.push(r):t.push(r),t},[])}getElementDataByState(e,t){let n=this.getElementsDataByType(e);return n.filter(e=>{var n;return null===(n=e.states)||void 0===n?void 0:n.includes(t)})}getElementState(e){var t;return(null===(t=this.getElementDataById(e))||void 0===t?void 0:t.states)||[]}hasNode(e){return this.model.hasNode(e)&&!this.isCombo(e)}hasEdge(e){return this.model.hasEdge(e)}hasCombo(e){return this.model.hasNode(e)&&this.isCombo(e)}getRelatedEdgesData(e,t="both"){return this.model.getRelatedEdges(e,t).map(c$)}getNeighborNodesData(e){return this.model.getNeighbors(e).map(c$)}setData(e){let{nodes:t=[],edges:n=[],combos:r=[]}=e,{nodes:i,edges:o,combos:a}=this.getData(),s=iS(i,t,e=>ih(e),cH),l=iS(o,n,e=>ih(e),cH),c=iS(a,r,e=>ih(e),cH);this.batch(()=>{let e={nodes:s.enter,edges:l.enter,combos:c.enter};this.addData(e),this.computeZIndex(e,"add",!0);let t={nodes:s.update,edges:l.update,combos:c.update};this.updateData(t),this.computeZIndex(t,"update",!0);let n={nodes:s.exit.map(ih),edges:l.exit.map(ih),combos:c.exit.map(ih)};this.removeData(n)})}addData(e){let{nodes:t,edges:n,combos:r}=e;this.batch(()=>{this.addComboData(r),this.addNodeData(t),this.addEdgeData(n)}),this.computeZIndex(e,"add")}addNodeData(e=[]){e.length&&(this.model.addNodes(e.map(e=>(this.pushChange({value:e,type:pE.NodeAdded}),cV(e)))),this.updateNodeLikeHierarchy(e),this.computeZIndex({nodes:e},"add"))}addEdgeData(e=[]){e.length&&(this.model.addEdges(e.map(e=>(this.pushChange({value:e,type:pE.EdgeAdded}),cV(e)))),this.computeZIndex({edges:e},"add"))}addComboData(e=[]){if(!e.length)return;let{model:t}=this;t.hasTreeStructure(rB)||t.attachTreeStructure(rB),t.addNodes(e.map(e=>(this.comboIds.add(ih(e)),this.pushChange({value:e,type:pE.ComboAdded}),cV(e)))),this.updateNodeLikeHierarchy(e),this.computeZIndex({combos:e},"add")}addChildrenData(e,t){let n=this.getNodeLikeDatum(e),r=t.map(ih);this.addNodeData(t),this.updateNodeData([{id:e,children:[...n.children||[],...r]}]),this.addEdgeData(r.map(t=>({source:e,target:t})))}computeZIndex(e,t,n=!1){!n&&this.isBatching()||this.batch(()=>{let{nodes:n=[],edges:r=[],combos:i=[]}=e;i.forEach(e=>{var n,r,i;let o=ih(e);if("add"===t&&(0,rq.Z)(null===(n=e.style)||void 0===n?void 0:n.zIndex)||"update"===t&&!("combo"in e))return;let a=this.getParentData(o,rB),s=a?(null!==(i=null===(r=a.style)||void 0===r?void 0:r.zIndex)&&void 0!==i?i:0)+1:0;this.preventUpdateNodeLikeHierarchy(()=>{this.updateComboData([{id:o,style:{zIndex:s}}])})}),n.forEach(e=>{var n,r,i;let o=ih(e);if("add"===t&&(0,rq.Z)(null===(n=e.style)||void 0===n?void 0:n.zIndex)||"update"===t&&!("combo"in e)&&!("children"in e))return;let a=0,s=this.getParentData(o,rB);if(s)a=((null===(r=s.style)||void 0===r?void 0:r.zIndex)||0)+1;else{let e=this.getParentData(o,rU);e&&(a=(null===(i=null==e?void 0:e.style)||void 0===i?void 0:i.zIndex)||0)}this.preventUpdateNodeLikeHierarchy(()=>{this.updateNodeData([{id:o,style:{zIndex:a}}])})}),r.forEach(e=>{var t,n,r,i,o;if((0,rq.Z)(null===(t=e.style)||void 0===t?void 0:t.zIndex))return;let{id:a,source:s,target:l}=e;if(a){let e=this.getEdgeDatum(a);s=e.source,l=e.target}else a=ih(e);if(!s||!l)return;let c=(null===(r=null===(n=this.getNodeLikeDatum(s))||void 0===n?void 0:n.style)||void 0===r?void 0:r.zIndex)||0,u=(null===(o=null===(i=this.getNodeLikeDatum(l))||void 0===i?void 0:i.style)||void 0===o?void 0:o.zIndex)||0;this.updateEdgeData([{id:ih(e),style:{zIndex:Math.max(c,u)-1}}])})})}getFrontZIndex(e){var t;let n=this.getElementType(e),r=this.getElementDataById(e),i=this.getData();if(Object.assign(i,{[`${n}s`]:i[`${n}s`].filter(t=>ih(t)!==e)}),"combo"===n&&!oc(r)){let t=new Set(this.getAncestorsData(e,rB).map(ih));i.nodes=i.nodes.filter(e=>!t.has(ih(e))),i.combos=i.combos.filter(e=>!t.has(ih(e))),i.edges=i.edges.filter(({source:e,target:n})=>!t.has(e)&&!t.has(n))}return Math.max((null===(t=r.style)||void 0===t?void 0:t.zIndex)||0,0,...Object.values(i).flat().map(e=>{var t;return((null===(t=null==e?void 0:e.style)||void 0===t?void 0:t.zIndex)||0)+1}))}updateNodeLikeHierarchy(e){if(!this.enableUpdateNodeLikeHierarchy)return;let{model:t}=this;e.forEach(e=>{let n=ih(e),r=e.combo;void 0!==r&&(t.hasTreeStructure(rB)||t.attachTreeStructure(rB),null===r&&this.refreshComboData(n),this.setParent(n,e.combo,rB));let i=e.children||[];if(i.length){t.hasTreeStructure(rU)||t.attachTreeStructure(rU);let e=i.filter(e=>t.hasNode(e));e.forEach(e=>this.setParent(e,n,rU)),e.length!==i.length&&this.updateNodeData([{id:n,children:e}])}})}preventUpdateNodeLikeHierarchy(e){this.enableUpdateNodeLikeHierarchy=!1,e(),this.enableUpdateNodeLikeHierarchy=!0}updateData(e){let{nodes:t,edges:n,combos:r}=e;this.batch(()=>{this.updateNodeData(t),this.updateComboData(r),this.updateEdgeData(n)}),this.computeZIndex(e,"update")}updateNodeData(e=[]){if(!e.length)return;let{model:t}=this;this.batch(()=>{let n=[];e.forEach(e=>{let r=ih(e),i=c$(t.getNode(r));if(cH(i,e))return;let o=cZ(i,e);this.pushChange({value:o,original:i,type:pE.NodeUpdated}),t.mergeNodeData(r,o),n.push(o)}),this.updateNodeLikeHierarchy(n)}),this.computeZIndex({nodes:e},"update")}refreshData(){let{nodes:e,edges:t,combos:n}=this.getData();e.forEach(e=>{this.pushChange({value:e,original:e,type:pE.NodeUpdated})}),t.forEach(e=>{this.pushChange({value:e,original:e,type:pE.EdgeUpdated})}),n.forEach(e=>{this.pushChange({value:e,original:e,type:pE.ComboUpdated})})}syncNodeLikeDatum(e){let{model:t}=this,n=ih(e);if(!t.hasNode(n))return;let r=c$(t.getNode(n)),i=cZ(r,e);t.mergeNodeData(n,i)}syncEdgeDatum(e){let{model:t}=this,n=ih(e);if(!t.hasEdge(n))return;let r=c$(t.getEdge(n)),i=cZ(r,e);t.mergeEdgeData(n,i)}updateEdgeData(e=[]){if(!e.length)return;let{model:t}=this;this.batch(()=>{e.forEach(e=>{let n=ih(e),r=c$(t.getEdge(n));if(cH(r,e))return;e.source&&r.source!==e.source&&t.updateEdgeSource(n,e.source),e.target&&r.target!==e.target&&t.updateEdgeTarget(n,e.target);let i=cZ(r,e);this.pushChange({value:i,original:r,type:pE.EdgeUpdated}),t.mergeEdgeData(n,i)})}),this.computeZIndex({edges:e},"update")}updateComboData(e=[]){if(!e.length)return;let{model:t}=this;t.batch(()=>{let n=[];e.forEach(e=>{let r=ih(e),i=c$(t.getNode(r));if(cH(i,e))return;let o=cZ(i,e);this.pushChange({value:o,original:i,type:pE.ComboUpdated}),t.mergeNodeData(r,o),n.push(o)}),this.updateNodeLikeHierarchy(n)}),this.computeZIndex({combos:e},"update")}setParent(e,t,n,r=!0){if(e===t)return;let i=this.getNodeLikeDatum(e),o=i.combo;o!==t&&n===rB&&(this.isCombo(e),this.syncNodeLikeDatum({id:e,combo:t})),this.model.setParent(e,t,n),r&&n===rB&&(0,cU.Z)([o,t]).forEach(e=>{void 0!==e&&this.refreshComboData(e)})}refreshComboData(e){let t=this.getComboData([e])[0],n=this.getAncestorsData(e,rB);t&&this.pushChange({value:t,original:t,type:pE.ComboUpdated}),n.forEach(e=>{this.pushChange({value:e,original:e,type:pE.ComboUpdated})})}getElementPosition(e){let t=this.getElementDataById(e);return iY(t)}translateNodeLikeBy(e,t){this.isCombo(e)?this.translateComboBy(e,t):this.translateNodeBy(e,t)}translateNodeLikeTo(e,t){this.isCombo(e)?this.translateComboTo(e,t):this.translateNodeTo(e,t)}translateNodeBy(e,t){let n=this.getElementPosition(e),r=iR(n,[...t,0].slice(0,3));this.translateNodeTo(e,r)}translateNodeTo(e,t){let[n=0,r=0,i=0]=t;this.preventUpdateNodeLikeHierarchy(()=>{this.updateNodeData([{id:e,style:{x:n,y:r,z:i}}])})}translateComboBy(e,t){let[n=0,r=0,i=0]=t;if([n,r,i].some(isNaN)||[n,r,i].every(e=>0===e))return;let o=this.getComboData([e])[0];if(!o)return;let a=new Set;or(o,e=>{let t=ih(e);if(a.has(t))return;a.add(t);let[o,s,l]=iY(e),c=cZ(e,{style:{x:o+n,y:s+r,z:l+i}});this.pushChange({value:c,original:e,type:this.isCombo(t)?pE.ComboUpdated:pE.NodeUpdated}),this.model.mergeNodeData(t,c)},e=>this.getChildrenData(ih(e)),"BT")}translateComboTo(e,t){var n;if(t.some(isNaN))return;let[r=0,i=0,o=0]=t,a=null===(n=this.getComboData([e]))||void 0===n?void 0:n[0];if(!a)return;let[s,l,c]=iY(a),u=r-s,d=i-l,p=o-c;or(a,e=>{let t=ih(e),[n,r,i]=iY(e),o=cZ(e,{style:{x:n+u,y:r+d,z:i+p}});this.pushChange({value:o,original:e,type:this.isCombo(t)?pE.ComboUpdated:pE.NodeUpdated}),this.model.mergeNodeData(t,o)},e=>this.getChildrenData(ih(e)),"BT")}removeData(e){let{nodes:t,edges:n,combos:r}=e;this.batch(()=>{this.removeEdgeData(n),this.removeNodeData(t),this.removeComboData(r),this.latestRemovedComboIds=new Set(r)})}removeNodeData(e=[]){e.length&&this.batch(()=>{e.forEach(e=>{this.removeEdgeData(this.getRelatedEdgesData(e).map(ih)),this.pushChange({value:this.getNodeData([e])[0],type:pE.NodeRemoved}),this.removeNodeLikeHierarchy(e)}),this.model.removeNodes(e)})}removeEdgeData(e=[]){e.length&&(e.forEach(e=>this.pushChange({value:this.getEdgeData([e])[0],type:pE.EdgeRemoved})),this.model.removeEdges(e))}removeComboData(e=[]){e.length&&this.batch(()=>{e.forEach(e=>{this.pushChange({value:this.getComboData([e])[0],type:pE.ComboRemoved}),this.removeNodeLikeHierarchy(e),this.comboIds.delete(e)}),this.model.removeNodes(e)})}removeNodeLikeHierarchy(e){if(this.model.hasTreeStructure(rB)){let t=this.getNodeLikeDatum(e).combo;this.setParent(e,void 0,rB,!1),this.model.getChildren(e,rB).forEach(e=>{let n=c$(e),r=ih(n);this.setParent(ih(n),t,rB,!1);let i=cZ(n,{id:ih(n),combo:t});this.pushChange({value:i,original:n,type:this.isCombo(r)?pE.ComboUpdated:pE.NodeUpdated}),this.model.mergeNodeData(ih(n),i)}),(0,rN.Z)(t)||this.refreshComboData(t)}}getElementType(e){if(this.model.hasNode(e))return this.isCombo(e)?"combo":"node";if(this.model.hasEdge(e))return"edge";throw Error(rj(`Unknown element type of id: ${e}`))}destroy(){let{model:e}=this,t=e.getAllNodes(),n=e.getAllEdges();e.removeEdges(n.map(e=>e.id)),e.removeNodes(t.map(e=>e.id)),this.context={}}}var cY=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class cq{constructor(e){this.elementMap={},this.shapeTypeMap={},this.paletteStyle={},this.defaultStyle={},this.stateStyle={},this.visibilityCache=new WeakMap,this.context=e}init(){this.initContainer()}initContainer(){if(!this.container||this.container.destroyed){let{canvas:e}=this.context;this.container=e.appendChild(new ew.ZA({className:"elements"}))}}emit(e,t){t.silence||cR(this.context.graph,e)}forEachElementData(e){on.forEach(t=>{let n=this.context.model.getElementsDataByType(t);e(t,n)})}getElementType(e,t){var n;let{options:r,graph:i}=this.context,o=(null===(n=r[e])||void 0===n?void 0:n.type)||t.type;return o?"string"==typeof o?o:o.call(i,t):"edge"===e?"line":"circle"}getTheme(e){return rG(this.context.options)[e]||{}}getThemeStyle(e){return this.getTheme(e).style||{}}getThemeStateStyle(e,t){let{state:n={}}=this.getTheme(e);return Object.assign({},...t.map(e=>n[e]||{}))}computePaletteStyle(){let{options:e}=this.context;this.paletteStyle={},this.forEachElementData((t,n)=>{var r,i;let o=Object.assign({},oE(null===(r=this.getTheme(t))||void 0===r?void 0:r.palette),oE(null===(i=e[t])||void 0===i?void 0:i.palette));(null==o?void 0:o.field)&&Object.assign(this.paletteStyle,function(e,t){if(!t)return{};let{type:n,color:r,field:i,invert:o}=t,a=e=>{let t="string"==typeof r?rZ("palette",r):r;if("function"==typeof t){let n={};return e.forEach(([e,r])=>{n[e]=t(o?1-r:r)}),n}if(Array.isArray(t)){let n=o?[...t].reverse():t,r={};return e.forEach(([e,i])=>{r[e]=n[i%t.length]}),r}return{}},s=(e,t)=>{var n;return"string"==typeof e?null===(n=t.data)||void 0===n?void 0:n[e]:null==e?void 0:e(t)};if("group"===n){let t=(0,r3.Z)(e,e=>{if(!i)return"default";let t=s(i,e);return t?String(t):"default"}),n=Object.keys(t),r=a(n.map((e,t)=>[e,t])),o={};return Object.entries(t).forEach(([e,t])=>{t.forEach(t=>{o[ih(t)]=r[e]})}),o}if("value"===n){let[t,n]=e.reduce(([e,t],n)=>{let r=s(i,n);if("number"!=typeof r)throw Error(rj(`Palette field ${i} is not a number`));return[Math.min(e,r),Math.max(t,r)]},[1/0,-1/0]),r=n-t;return a(e.map(e=>[e.id,(s(i,e)-t)/r]))}}(n,o))})}getPaletteStyle(e,t){let n=this.paletteStyle[t];return n?"edge"===e?{stroke:n}:{fill:n}:{}}computeElementDefaultStyle(e,t){var n;let{options:r}=this.context,i=(null===(n=r[e])||void 0===n?void 0:n.style)||{};"transform"in i&&Array.isArray(i.transform)&&(i.transform=[...i.transform]),this.defaultStyle[ih(t.datum)]=ov(i,t)}computeElementsDefaultStyle(e){let{graph:t}=this.context;this.forEachElementData((n,r)=>{let i=r.length;for(let o=0;o<i;o++){let i=r[o];(void 0===e||e.includes(ih(i)))&&this.computeElementDefaultStyle(n,{datum:i,graph:t})}})}getDefaultStyle(e){return this.defaultStyle[e]||{}}getElementState(e){try{let{model:t}=this.context;return t.getElementState(e)}catch(e){return[]}}getElementStateStyle(e,t,n){var r,i;let{options:o}=this.context,a=(null===(i=null===(r=o[e])||void 0===r?void 0:r.state)||void 0===i?void 0:i[t])||{};return ov(a,n)}computeElementStatesStyle(e,t,n){this.stateStyle[ih(n.datum)]=Object.assign({},...t.map(t=>this.getElementStateStyle(e,t,n)))}computeElementsStatesStyle(e){let{graph:t}=this.context;this.forEachElementData((n,r)=>{let i=r.length;for(let o=0;o<i;o++){let i=r[o];if(void 0===e||e.includes(ih(i))){let e=this.getElementState(ih(i));this.computeElementStatesStyle(n,e,{datum:i,graph:t})}}})}getStateStyle(e){return this.stateStyle[e]||{}}computeStyle(e,t){e&&["translate","zIndex"].includes(e)||(this.computePaletteStyle(),this.computeElementsDefaultStyle(t),this.computeElementsStatesStyle(t))}getElement(e){return this.elementMap[e]}getNodes(){return this.context.model.getNodeData().map(({id:e})=>this.elementMap[e])}getEdges(){return this.context.model.getEdgeData().map(e=>this.elementMap[ih(e)])}getCombos(){return this.context.model.getComboData().map(({id:e})=>this.elementMap[e])}getElementComputedStyle(e,t){let n=ih(t),r=this.getThemeStyle(e),i=this.getPaletteStyle(e,n),o=t.style||{},a=this.getDefaultStyle(n),s=this.getThemeStateStyle(e,this.getElementState(n)),l=this.getStateStyle(n),c=Object.assign({},r,i,o,a,s,l);if("combo"===e){let e=this.context.model.getChildrenData(n),t=!!c.collapsed,r=t?[]:e.map(ih).filter(e=>this.getElement(e));Object.assign(c,{childrenNode:r,childrenData:e})}return c}getDrawData(e){this.init();let t=this.computeChangesAndDrawData(e);if(!t)return null;let{type:n="draw",stage:r=n}=e;return this.markDestroyElement(t.drawData),this.computeStyle(r),{type:n,stage:r,data:t}}draw(e={animation:!0}){let t=this.getDrawData(e);if(!t)return;let{data:{drawData:{add:n,update:r,remove:i}}}=t;return this.destroyElements(i,e),this.createElements(n,e),this.updateElements(r,e),this.setAnimationTask(e,t)}preLayoutDraw(){return cY(this,arguments,void 0,function*(e={animation:!0}){var t,n;let r=this.getDrawData(e);if(!r)return;let{data:{drawData:i}}=r;yield null===(n=null===(t=this.context.layout)||void 0===t?void 0:t.preLayout)||void 0===n?void 0:n.call(t,i);let{add:o,update:a,remove:s}=i;return this.destroyElements(s,e),this.createElements(o,e),this.updateElements(a,e),this.setAnimationTask(e,r)})}setAnimationTask(e,t){let{animation:n,silence:r}=e,{data:{dataChanges:i,drawData:o},stage:a,type:s}=t;return this.context.animation.animate(n,r?{}:{before:()=>this.emit(new cw(pw.BEFORE_DRAW,{dataChanges:i,animation:n,stage:a,render:"render"===s}),e),beforeAnimate:t=>this.emit(new cO(pw.BEFORE_ANIMATE,p_.DRAW,t,o),e),afterAnimate:t=>this.emit(new cO(pw.AFTER_ANIMATE,p_.DRAW,t,o),e),after:()=>this.emit(new cw(pw.AFTER_DRAW,{dataChanges:i,animation:n,stage:a,render:"render"===s,firstRender:!1===this.context.graph.rendered}),e)})}computeChangesAndDrawData(e){let{model:t}=this.context,n=t.getChanges(),r=ls(n);if(0===r.length)return null;let{NodeAdded:i=[],NodeUpdated:o=[],NodeRemoved:a=[],EdgeAdded:s=[],EdgeUpdated:l=[],EdgeRemoved:c=[],ComboAdded:u=[],ComboUpdated:d=[],ComboRemoved:p=[]}=(0,r3.Z)(r,e=>e.type),h=e=>new Map(e.map(e=>{let t=e.value;return[ih(t),t]})),f={add:{nodes:h(i),edges:h(s),combos:h(u)},update:{nodes:h(o),edges:h(l),combos:h(d)},remove:{nodes:h(a),edges:h(c),combos:h(p)}},g=this.transformData(f,e);return t.clearChanges(),{dataChanges:n,drawData:g}}transformData(e,t){let n=this.context.transform.getTransformInstance();return Object.values(n).reduce((e,n)=>n.beforeDraw(e,t),e)}createElement(e,t,n){var r;let i=ih(t),o=this.getElement(i);if(o)return;let a=this.getElementType(e,t),s=this.getElementComputedStyle(e,t),l=rZ(e,a);if(!l)return rH.warn(`The element ${a} of ${e} is not registered.`);this.emit(new cI(pw.BEFORE_ELEMENT_CREATE,e,t),n);let c=this.container.appendChild(new l({id:i,context:this.context,style:s}));this.shapeTypeMap[i]=a,this.elementMap[i]=c;let{stage:u="enter"}=n;null===(r=this.context.animation)||void 0===r||r.add({element:c,elementType:e,stage:u,originalStyle:Object.assign({},c.attributes),updatedStyle:s},{after:()=>{var r;this.emit(new cI(pw.AFTER_ELEMENT_CREATE,e,t),n),null===(r=c.onCreate)||void 0===r||r.call(c)}})}createElements(e,t){let{nodes:n,edges:r,combos:i}=e;[["node",n],["combo",i],["edge",r]].forEach(([e,n])=>{n.forEach(n=>this.createElement(e,n,t))})}getUpdateStageStyle(e,t,n){let{stage:r="update"}=n;if("translate"===r){if("node"!==e&&"combo"!==e)return{};{let{style:{x:e=0,y:n=0,z:r=0}={}}=t;return{x:e,y:n,z:r}}}return this.getElementComputedStyle(e,t)}updateElement(e,t,n){var r;let i=ih(t),{stage:o="update"}=n,a=this.getElement(i);if(!a)return()=>null;this.emit(new cI(pw.BEFORE_ELEMENT_UPDATE,e,t),n);let s=this.getElementType(e,t),l=this.getUpdateStageStyle(e,t,n);this.shapeTypeMap[i]!==s&&(a.destroy(),delete this.shapeTypeMap[i],delete this.elementMap[i],this.createElement(e,t,{animation:!1,silence:!0}));let c="visibility"!==o?o:"hidden"===l.visibility?"hide":"show";"hide"===c&&delete l.visibility,null===(r=this.context.animation)||void 0===r||r.add({element:a,elementType:e,stage:c,originalStyle:Object.assign({},a.attributes),updatedStyle:l},{before:()=>{let e=this.elementMap[i];"collapse"!==o&&a4(e,l),"visibility"===o&&(cM("opacity") in((0,H.Z)(e,cN)||{})||function(e,t){let n=Array.isArray(t)?t:[t];(0,H.Z)(e,cN)||(0,ou.Z)(e,cN,{}),n.forEach(t=>{(0,ou.Z)((0,H.Z)(e,cN),cM(t),e.attributes[t])})}(e,"opacity"),this.visibilityCache.set(e,"show"===c?"visible":"hidden"),"show"===c&&iA(e,"visible"))},after:()=>{var r;let a=this.elementMap[i];"collapse"===o&&a4(a,l),"hide"===c&&iA(a,this.visibilityCache.get(a)),this.emit(new cI(pw.AFTER_ELEMENT_UPDATE,e,t),n),null===(r=a.onUpdate)||void 0===r||r.call(a)}})}updateElements(e,t){let{nodes:n,edges:r,combos:i}=e;[["node",n],["combo",i],["edge",r]].forEach(([e,n])=>{n.forEach(n=>this.updateElement(e,n,t))})}markDestroyElement(e){Object.values(e.remove).forEach(e=>{e.forEach(e=>{let t=ih(e),n=this.getElement(t);n&&(0,ou.Z)(n,"__to_be_destroyed__",!0)})})}destroyElement(e,t,n){var r;let{stage:i="exit"}=n,o=ih(t),a=this.elementMap[o];if(!a)return()=>null;this.emit(new cI(pw.BEFORE_ELEMENT_DESTROY,e,t),n),null===(r=this.context.animation)||void 0===r||r.add({element:a,elementType:e,stage:i,originalStyle:Object.assign({},a.attributes),updatedStyle:{}},{after:()=>{var r;this.clearElement(o),a.destroy(),null===(r=a.onDestroy)||void 0===r||r.call(a),this.emit(new cI(pw.AFTER_ELEMENT_DESTROY,e,t),n)}})}destroyElements(e,t){let{nodes:n,edges:r,combos:i}=e;[["combo",i],["edge",r],["node",n]].forEach(([e,n])=>{n.forEach(n=>this.destroyElement(e,n,t))})}clearElement(e){delete this.paletteStyle[e],delete this.defaultStyle[e],delete this.stateStyle[e],delete this.elementMap[e],delete this.shapeTypeMap[e]}alignLayoutResultToElement(e,t){var n,r;let i=null===(n=e.nodes)||void 0===n?void 0:n.find(e=>ih(e)===t);if(i){let n=iY(this.context.model.getNodeLikeDatum(t)),o=iY(i),a=ik(n,o);null===(r=e.nodes)||void 0===r||r.forEach(e=>{var t,n,r;(null===(t=e.style)||void 0===t?void 0:t.x)&&(e.style.x+=a[0]),(null===(n=e.style)||void 0===n?void 0:n.y)&&(e.style.y+=a[1]),(null===(r=e.style)||void 0===r?void 0:r.z)&&(e.style.z+=a[2]||0)})}}collapseNode(e,t){return cY(this,void 0,void 0,function*(){var n;let{animation:r,align:i}=t,{model:o,layout:a}=this.context,s=this.computeChangesAndDrawData({stage:"collapse",animation:r});if(!s)return;this.markDestroyElement(s.drawData);let l=yield a.simulate();i&&this.alignLayoutResultToElement(l,e),o.updateData(l);let c=this.computeChangesAndDrawData({stage:"collapse",animation:r});if(!c)return;let{drawData:u}=c,{add:d,remove:p,update:h}=u;this.markDestroyElement(u);let f={animation:r,stage:"collapse",data:u};this.destroyElements(p,f),this.createElements(d,f),this.updateElements(h,f),yield null===(n=this.context.animation.animate(r,{beforeAnimate:e=>this.emit(new cO(pw.BEFORE_ANIMATE,p_.COLLAPSE,e,u),f),afterAnimate:e=>this.emit(new cO(pw.AFTER_ANIMATE,p_.COLLAPSE,e,u),f)},{collapse:{target:e,descendants:Array.from(p.nodes).map(([,e])=>ih(e)),position:iY(h.nodes.get(e))}}))||void 0===n?void 0:n.finished})}expandNode(e,t){return cY(this,void 0,void 0,function*(){var n;let{model:r,layout:i}=this.context,{animation:o,align:a}=t,s=iY(r.getNodeData([e])[0]),l=this.computeChangesAndDrawData({stage:"expand",animation:o});if(!l)return;let{drawData:{add:c}}=l;this.createElements(c,{animation:!1,stage:"expand",target:e}),this.context.animation.clear();let u=yield i.simulate();a&&this.alignLayoutResultToElement(u,e),r.updateData(u),this.computeStyle("expand");let d=this.computeChangesAndDrawData({stage:"collapse",animation:o});if(!d)return;let{drawData:p}=d,{update:h}=p,f={animation:o,stage:"expand",data:p};c.edges.forEach(e=>h.edges.set(ih(e),e)),c.nodes.forEach(e=>h.nodes.set(ih(e),e)),this.updateElements(h,f),yield null===(n=this.context.animation.animate(o,{beforeAnimate:e=>this.emit(new cO(pw.BEFORE_ANIMATE,p_.EXPAND,e,p),f),afterAnimate:e=>this.emit(new cO(pw.AFTER_ANIMATE,p_.EXPAND,e,p),f)},{expand:{target:e,descendants:Array.from(c.nodes).map(([,e])=>ih(e)),position:s}}))||void 0===n?void 0:n.finished})}collapseCombo(e,t){return cY(this,void 0,void 0,function*(){var n;let{model:r,element:i}=this.context;if(r.getAncestorsData(e,rB).some(e=>oc(e)))return;let o=i.getElement(e),a=o.getComboPosition(Object.assign(Object.assign({},o.attributes),{collapsed:!0})),s=this.computeChangesAndDrawData({stage:"collapse",animation:t});if(!s)return;let{dataChanges:l,drawData:c}=s;this.markDestroyElement(c);let{update:u,remove:d}=c,p={animation:t,stage:"collapse",data:c};this.destroyElements(d,p),this.updateElements(u,p);let h=e=>Array.from(e).map(([,e])=>ih(e));yield null===(n=this.context.animation.animate(t,{before:()=>this.emit(new cw(pw.BEFORE_DRAW,{dataChanges:l,animation:t}),p),beforeAnimate:e=>this.emit(new cO(pw.BEFORE_ANIMATE,p_.COLLAPSE,e,c),p),afterAnimate:e=>this.emit(new cO(pw.AFTER_ANIMATE,p_.COLLAPSE,e,c),p),after:()=>this.emit(new cw(pw.AFTER_DRAW,{dataChanges:l,animation:t}),p)},{collapse:{target:e,descendants:[...h(d.nodes),...h(d.combos)],position:a}}))||void 0===n?void 0:n.finished})}expandCombo(e,t){return cY(this,void 0,void 0,function*(){var n;let{model:r}=this.context,i=iY(r.getComboData([e])[0]);this.computeStyle("expand");let o=this.computeChangesAndDrawData({stage:"expand",animation:t});if(!o)return;let{dataChanges:a,drawData:s}=o,{add:l,update:c}=s,u={animation:t,stage:"expand",data:s,target:e};this.createElements(l,u),this.updateElements(c,u);let d=e=>Array.from(e).map(([,e])=>ih(e));yield null===(n=this.context.animation.animate(t,{before:()=>this.emit(new cw(pw.BEFORE_DRAW,{dataChanges:a,animation:t}),u),beforeAnimate:e=>this.emit(new cO(pw.BEFORE_ANIMATE,p_.EXPAND,e,s),u),afterAnimate:e=>this.emit(new cO(pw.AFTER_ANIMATE,p_.EXPAND,e,s),u),after:()=>this.emit(new cw(pw.AFTER_DRAW,{dataChanges:a,animation:t}),u)},{expand:{target:e,descendants:[...d(l.nodes),...d(l.combos)],position:i}}))||void 0===n?void 0:n.finished})}clear(){this.container.destroy(),this.initContainer(),this.elementMap={},this.shapeTypeMap={},this.defaultStyle={},this.stateStyle={},this.paletteStyle={}}destroy(){this.clear(),this.container.destroy(),this.context={}}}var cX=n(15767),cK=n(80345);class cQ extends z.Z{constructor(e,t,n){super(),this.graph=e,this.layout=t,this.options=n,this.spawnWorker()}spawnWorker(){this.proxy=cK.Ud(new Worker(n.tu(new URL(n.p+n.u(9243),n.b)),{type:void 0})),this.running&&(this.running=!1,this.execute())}execute(){var e;return(0,cX.mG)(this,void 0,void 0,function*(){if(this.running)return this;this.running=!0;let t=this.layout.options,{onTick:n}=t,r=(0,cX._T)(t,["onTick"]),i={};Object.keys(r).forEach(e=>{(0,r2.Z)(r[e])||(i[e]=r[e])});let o={layout:{id:this.layout.id,options:i,iterations:null===(e=this.options)||void 0===e?void 0:e.iterations},nodes:this.graph.getAllNodes(),edges:this.graph.getAllEdges()},a=new Float32Array([0]),[s]=yield this.proxy.calculateLayout(o,[a]);return s})}stop(){return this.running=!1,this.proxy.stopLayout(),this}kill(){this.proxy[cK.Yy]()}isRunning(){return this.running}}var cJ=n(9226),c0=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})},c1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class c2{get presetOptions(){return{animation:!!rY(this.context.options,!0)}}get options(){let{options:e}=this.context;return e.layout}constructor(e){this.instances=[],this.context=e}getLayoutInstance(){return this.instances}preLayout(e){return c0(this,void 0,void 0,function*(){var t,n,r,i;let{graph:o,model:a}=this.context,{add:s}=e;cR(o,new cw(pw.BEFORE_LAYOUT,{type:"pre"}));let l=yield null===(t=this.context.layout)||void 0===t?void 0:t.simulate();null===(n=null==l?void 0:l.nodes)||void 0===n||n.forEach(e=>{let t=ih(e),n=s.nodes.get(t);a.syncNodeLikeDatum(e),n&&Object.assign(n.style,e.style)}),null===(r=null==l?void 0:l.edges)||void 0===r||r.forEach(e=>{let t=ih(e),n=s.edges.get(t);a.syncEdgeDatum(e),n&&Object.assign(n.style,e.style)}),null===(i=null==l?void 0:l.combos)||void 0===i||i.forEach(e=>{let t=ih(e),n=s.combos.get(t);a.syncNodeLikeDatum(e),n&&Object.assign(n.style,e.style)}),cR(o,new cw(pw.AFTER_LAYOUT,{type:"pre"})),this.transformDataAfterLayout("pre",e)})}postLayout(){return c0(this,arguments,void 0,function*(e=this.options){if(!e)return;let t=Array.isArray(e)?e:[e],{graph:n}=this.context;cR(n,new cw(pw.BEFORE_LAYOUT,{type:"post"}));for(let e=0;e<t.length;e++){let r=t[e],i=this.getLayoutData(r),o=Object.assign(Object.assign({},this.presetOptions),r);cR(n,new cw(pw.BEFORE_STAGE_LAYOUT,{options:o,index:e}));let a=yield this.stepLayout(i,o,e);cR(n,new cw(pw.AFTER_STAGE_LAYOUT,{options:o,index:e})),r.animation||this.updateElementPosition(a,!1)}cR(n,new cw(pw.AFTER_LAYOUT,{type:"post"})),this.transformDataAfterLayout("post")})}transformDataAfterLayout(e,t){let n=this.context.transform.getTransformInstance();Object.values(n).forEach(n=>n.afterLayout(e,t))}simulate(){return c0(this,void 0,void 0,function*(){if(!this.options)return{};let e=Array.isArray(this.options)?this.options:[this.options],t={};for(let n=0;n<e.length;n++){let r=e[n],i=this.getLayoutData(r),o=yield this.stepLayout(i,Object.assign(Object.assign(Object.assign({},this.presetOptions),r),{animation:!1}),n);t=o}return t})}stepLayout(e,t,n){return c0(this,void 0,void 0,function*(){return!function(e){let{type:t}=e;return["compact-box","mindmap","dendrogram","indented"].includes(t)}(t)?yield this.graphLayout(e,t,n):yield this.treeLayout(e,t,n)})}graphLayout(e,t,n){return c0(this,void 0,void 0,function*(){let{animation:r,enableWorker:i,iterations:o=300}=t,a=this.initGraphLayout(t);if(!a)return{};if(this.instances[n]=a,this.instance=a,i)return this.supervisor=new cQ(a.graphData2LayoutModel(e),a.instance,{iterations:o}),su((yield this.supervisor.execute()));if((0,cJ.h)(a))return r?yield a.execute(e,{onTick:e=>{this.updateElementPosition(e,!1)}}):(a.execute(e),a.stop(),a.tick(o));let s=yield a.execute(e);if(r){let e=this.updateElementPosition(s,r);yield null==e?void 0:e.finished}return s})}treeLayout(e,t,n){return c0(this,void 0,void 0,function*(){let{type:n,animation:r}=t,i=rZ("layout",n);if(!i)return{};let{nodes:o=[],edges:a=[]}=e,s=new ss.k({nodes:o.map(e=>({id:ih(e),data:e.data||{}})),edges:a.map(e=>({id:ih(e),source:e.source,target:e.target,data:e.data||{}}))});!function(e){if(e.hasTreeStructure(rU))return;e.attachTreeStructure(rU);let t=e.getAllEdges();for(let n of t){let{source:t,target:r}=n;e.setParent(r,t,rU)}}(s);let l={nodes:[],edges:[]},c={nodes:[],edges:[]},u=s.getRoots(rU);u.forEach(e=>{or(e,e=>{e.children=s.getSuccessors(e.id)},e=>s.getSuccessors(e.id),"TB");let n=i(e,t),{x:r,y:o,z:a=0}=n;or(n,e=>{let{id:t,x:n,y:i,z:s=0}=e;l.nodes.push({id:t,style:{x:r,y:o,z:a}}),c.nodes.push({id:t,style:{x:n,y:i,z:s}})},e=>e.children,"TB")});let d=this.inferTreeLayoutOffset(c);if(c3(c,d),r){c3(l,d),this.updateElementPosition(l,!1);let e=this.updateElementPosition(c,r);yield null==e?void 0:e.finished}return c})}inferTreeLayoutOffset(e){var t;let[n,r]=[1/0,-1/0],[i,o]=[1/0,-1/0];null===(t=e.nodes)||void 0===t||t.forEach(e=>{let{x:t=0,y:a=0}=e.style||{};n=Math.min(n,t),r=Math.max(r,t),i=Math.min(i,a),o=Math.max(o,a)});let{canvas:a}=this.context,s=a.getSize(),[l,c]=a.getCanvasByViewport([0,0]),[u,d]=a.getCanvasByViewport(s);return n>=l&&r<=u&&i>=c&&o<=d?[0,0]:[(l+u)/2-(n+r)/2,(c+d)/2-(i+o)/2]}stopLayout(){this.instance&&(0,cJ.h)(this.instance)&&(this.instance.stop(),this.instance=void 0),this.supervisor&&(this.supervisor.stop(),this.supervisor=void 0),this.animationResult&&(this.animationResult.finish(),this.animationResult=void 0)}getLayoutData(e){let{nodeFilter:t=()=>!0,preLayout:n=!1,isLayoutInvisibleNodes:r=!1}=e,{nodes:i,edges:o,combos:a}=this.context.model.getData(),{element:s,model:l}=this.context,c=e=>s.getElement(e),u=n?e=>{var n;return!(!r&&((null===(n=e.style)||void 0===n?void 0:n.visibility)==="hidden"||l.getAncestorsData(e.id,rU).some(oc)||l.getAncestorsData(e.id,rB).some(oc)))&&t(e)}:e=>{let n=ih(e),r=c(n);return!(!r||a6(r))&&t(e)},d=i.filter(u),p=new Map(d.map(e=>[ih(e),e]));a.forEach(e=>p.set(ih(e),e));let h=o.filter(({source:e,target:t})=>p.has(e)&&p.has(t));return{nodes:d,edges:h,combos:a}}initGraphLayout(e){var t,n;let{element:r,viewport:i}=this.context,{type:o,enableWorker:a,animation:s,iterations:l}=e,c=c1(e,["type","enableWorker","animation","iterations"]),[u,d]=i.getCanvasSize(),p=[u/2,d/2],h=null!==(t=null==e?void 0:e.nodeSize)&&void 0!==t?t:e=>{let t=null==r?void 0:r.getElement(e.id);return t?t.attributes.size:null==r?void 0:r.getElementComputedStyle("node",e).size},f=rZ("layout",o);if(!f)return rH.warn(`The layout of ${o} is not registered.`);let g=Object.getPrototypeOf(f.prototype)===sl.prototype?f:(n=this.context,class extends sl{constructor(e,t){if(super(e,t),this.instance=new f({}),this.id=this.instance.id,"stop"in this.instance&&"tick"in this.instance){let e=this.instance;this.stop=e.stop.bind(e),this.tick=t=>{let n=e.tick(t);return su(n)}}}execute(e,t){var n,r,i,o;return n=this,r=void 0,i=void 0,o=function*(){return su((yield this.instance.execute(this.graphData2LayoutModel(e),this.transformOptions((0,G.Z)({},this.options,t)))))},new(i||(i=Promise))(function(e,t){function a(e){try{l(o.next(e))}catch(e){t(e)}}function s(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof i?n:new i(function(e){e(n)})).then(a,s)}l((o=o.apply(n,r||[])).next())})}transformOptions(e){let{onTick:t}=e;return t&&(e.onTick=e=>t(su(e))),e}graphData2LayoutModel(e){let{nodes:t=[],edges:r=[],combos:i=[]}=e,o=t.map(e=>{let t=ih(e),{data:n,style:r,combo:i}=e,o=sc(e,["data","style","combo"]),a={id:t,data:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),{data:n}),i?{parentId:i}:{}),{style:r}),o)};return(null==r?void 0:r.x)&&Object.assign(a.data,{x:r.x}),(null==r?void 0:r.y)&&Object.assign(a.data,{y:r.y}),(null==r?void 0:r.z)&&Object.assign(a.data,{z:r.z}),a}),a=new Map(o.map(e=>[e.id,e])),s=r.filter(e=>{let{source:t,target:n}=e;return a.has(t)&&a.has(n)}).map(e=>{let{source:t,target:n,data:r,style:i}=e;return{id:ih(e),source:t,target:n,data:Object.assign({},r),style:Object.assign({},i)}}),l=i.map(e=>({id:ih(e),data:Object.assign({_isCombo:!0},e.data),style:Object.assign({},e.style)})),c=new ss.k({nodes:[...o,...l],edges:s});return n.model.model.hasTreeStructure(rB)&&(c.attachTreeStructure(rB),o.forEach(e=>{let t=n.model.model.getParent(e.id,rB);t&&c.hasNode(t.id)&&c.setParent(e.id,t.id,rB)})),c}}),m=new g(this.context),b={nodeSize:h,width:u,height:d,center:p};switch(m.id){case"d3-force":case"d3-force-3d":Object.assign(b,{center:{x:u/2,y:d/2,z:0}})}return(0,G.Z)(m.options,b,c),m}updateElementPosition(e,t){let{model:n,element:r}=this.context;return r?(n.updateData(e),r.draw({animation:t,silence:!0})):null}destroy(){var e;this.stopLayout(),this.context={},null===(e=this.supervisor)||void 0===e||e.kill(),this.supervisor=void 0,this.instance=void 0,this.instances=[],this.animationResult=void 0}}let c3=(e,t)=>{var n;let[r,i]=t;null===(n=e.nodes)||void 0===n||n.forEach(e=>{if(e.style){let{x:t=0,y:n=0}=e.style;e.style.x=t+r,e.style.y=n+i}else e.style={x:r,y:i}})};function c5(e){return!e.layout||Array.isArray(e.layout)||"preLayout"in e.layout||["antv-dagre","combo-combined","compact-box","circular","concentric","dagre","fishbone","grid","indented","mds","radial","random","snake","dendrogram","mindmap"].includes(e.layout.type)&&(e.layout.preLayout=!0),e}class c4 extends iC{constructor(e){super(e),this.category="plugin",this.setPlugins(this.context.options.plugins||[])}setPlugins(e){this.setExtensions(e)}getPluginInstance(e){let t=this.extensionMap[e];if(t)return t;rH.warn(`Cannot find the plugin ${e}, will try to find it by type.`);let n=this.extensions.find(t=>t.type===e);if(n)return this.extensionMap[n.key]}}let c6=["update-related-edges","collapse-expand-node","collapse-expand-combo","get-edge-actual-ends","arrange-draw-order"];class c7 extends iC{constructor(e){super(e),this.category="transform",this.setTransforms(this.context.options.transforms||[])}getTransforms(){}setTransforms(e){this.setExtensions([...c6.slice(0,c6.length-1),...e,c6[c6.length-1]])}getTransformInstance(e){return e?this.extensionMap[e]:this.extensionMap}}var c8=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class c9{get padding(){return r8(this.context.options.padding)}get paddingOffset(){let[e,t,n,r]=this.padding,[i,o,a]=[(r-t)/2,(e-n)/2,0];return[i,o,a]}constructor(e){this.landmarkCounter=0,this.context=e;let[t,n]=this.paddingOffset,{zoom:r,rotation:i,x:o=t,y:a=n}=e.options;this.transform({mode:"absolute",scale:r,translate:[o,a],rotate:i},!1)}get camera(){let{canvas:e}=this.context;return new Proxy(e.getCamera(),{get:(t,n)=>{let r=Object.entries(e.getLayers()).filter(([e])=>!["main"].includes(e)),i=r.map(([,e])=>e.getCamera()),o=t[n];if("function"==typeof o)return(...e)=>{let r=o.apply(t,e);return i.forEach(t=>{t[n].apply(t,e)}),r}}})}createLandmark(e){return this.camera.createLandmark(`landmark-${this.landmarkCounter++}`,e)}getAnimation(e){let t=rY(this.context.options,e);return!!t&&(0,j.Z)(Object.assign({},t),["easing","duration"])}getCanvasSize(){let{canvas:e}=this.context,{width:t=0,height:n=0}=e.getConfig();return[t,n]}getCanvasCenter(){let{canvas:e}=this.context,{width:t=0,height:n=0}=e.getConfig();return[t/2,n/2,0]}getViewportCenter(){let[e,t]=this.camera.getPosition();return[e,t,0]}getGraphCenter(){return this.context.graph.getViewportByCanvas(this.getCanvasCenter())}getZoom(){return this.camera.getZoom()}getRotation(){return this.camera.getRoll()}getTranslateOptions(e){let{camera:t}=this,{mode:n,translate:r=[]}=e,i=this.getZoom(),o=t.getPosition(),a=t.getFocalPoint(),[s,l]=this.getCanvasCenter(),[c=0,u=0,d=0]=r,p=iM([-c,-u,-d],i);return"relative"===n?{position:iR(o,p),focalPoint:iR(a,p)}:{position:iR([s,l,o[2]],p),focalPoint:iR([s,l,a[2]],p)}}getRotateOptions(e){let{mode:t,rotate:n=0}=e,r="relative"===t?this.camera.getRoll()+n:n;return{roll:r}}getZoomOptions(e){let{zoomRange:t}=this.context.options,n=this.camera.getZoom(),{mode:r,scale:i=1}=e;return(0,sE.Z)("relative"===r?n*i:i,...t)}transform(e,t){return c8(this,void 0,void 0,function*(){let{graph:n}=this.context,{translate:r,rotate:i,scale:o,origin:a}=e;this.cancelAnimation();let s=this.getAnimation(t);if(cR(n,new cL(pw.BEFORE_TRANSFORM,e)),!i&&o&&!r&&a&&!s){this.camera.setZoomByViewportPoint(this.getZoomOptions(e),a),cR(n,new cL(pw.AFTER_TRANSFORM,e));return}let l={};if(r&&Object.assign(l,this.getTranslateOptions(e)),(0,rq.Z)(i)&&Object.assign(l,this.getRotateOptions(e)),(0,rq.Z)(o)&&Object.assign(l,{zoom:this.getZoomOptions(e)}),s)return cR(n,new cO(pw.BEFORE_ANIMATE,p_.TRANSFORM,null,e)),new Promise(t=>{this.transformResolver=t,this.camera.gotoLandmark(this.createLandmark(l),Object.assign(Object.assign({},s),{onfinish:()=>{cR(n,new cO(pw.AFTER_ANIMATE,p_.TRANSFORM,null,e)),cR(n,new cL(pw.AFTER_TRANSFORM,e)),this.transformResolver=void 0,t()}}))});this.camera.gotoLandmark(this.createLandmark(l),{duration:0}),cR(n,new cL(pw.AFTER_TRANSFORM,e))})}fitView(e,t){return c8(this,void 0,void 0,function*(){let[n,r,i,o]=this.padding,{when:a="always",direction:s="both"}=e||{},[l,c]=this.context.canvas.getSize(),u=l-o-r,d=c-n-i,p=this.context.canvas.getBounds(),h=this.getBBoxInViewport(p),[f,g]=it(h);if("overflow"===a&&!("x"===s&&f>=u||"y"===s&&g>=d||"both"===s&&f>=u&&g>=d))return yield this.fitCenter({animation:t});let m=u/f,b=d/g,v="x"===s?m:"y"===s?b:Math.min(m,b),y=this.getAnimation(t);yield this.transform({mode:"relative",scale:v,translate:iR(ik(this.getCanvasCenter(),this.getBBoxInViewport(p).center),iM(this.paddingOffset,v))},y)})}fitCenter(e){return c8(this,void 0,void 0,function*(){let t=this.context.canvas.getBounds();yield this.focus(t,e)})}focusElements(e){return c8(this,arguments,void 0,function*(e,t={}){let{element:n}=this.context;if(!n)return;let r=e=>t.shapes?e.getShape(t.shapes).getRenderBounds():e.getRenderBounds(),i=ia(e.map(e=>r(n.getElement(e))));yield this.focus(i,t)})}focus(e,t){return c8(this,void 0,void 0,function*(){let n=this.context.graph.getViewportByCanvas(e.center),r=t.position||this.getCanvasCenter(),i=ik(r,n);yield this.transform({mode:"relative",translate:iR(i,this.paddingOffset)},t.animation)})}getBBoxInViewport(e){let{min:t,max:n}=e,{graph:r}=this.context,[i,o]=r.getViewportByCanvas(t),[a,s]=r.getViewportByCanvas(n),l=new ew.mN;return l.setMinMax([i,o,0],[a,s,0]),l}isInViewport(e,t=!1,n=0){let{graph:r}=this.context,i=this.getCanvasSize(),[o,a]=r.getCanvasByViewport([0,0]),[s,l]=r.getCanvasByViewport(i),c=new ew.mN;return c.setMinMax([o,a,0],[s,l,0]),n&&(c=io(c,n)),r6(e)?is(e,c):t?function(e,t){let[n,r]=e.min,[i,o]=e.max,[a,s]=t.min,[l,c]=t.max;return n>=a&&i<=l&&r>=s&&o<=c}(e,c):c.intersects(e)}cancelAnimation(){var e,t;(null===(e=this.camera.landmarks)||void 0===e?void 0:e.length)&&this.camera.cancelLandmarkAnimation(),null===(t=this.transformResolver)||void 0===t||t.call(this)}}var ue=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class ut extends z.Z{constructor(e){var t;super(),this.options={},this.rendered=!1,this.destroyed=!1,this.context={model:new cW},this.isCollapsingExpanding=!1,this.onResize=(0,sn.Z)(()=>{this.resize()},300),this._setOptions(Object.assign({},ut.defaultOptions,e),!0),this.context.graph=this,this.options.autoResize&&(null===(t=globalThis.addEventListener)||void 0===t||t.call(globalThis,"resize",this.onResize))}getOptions(){return this.options}setOptions(e){this._setOptions(e,!1)}_setOptions(e,t){if(this.updateCanvas(e),Object.assign(this.options,[c5].reduce((e,t)=>t(e),e)),t){let{data:t}=e;t&&this.addData(t);return}let{behaviors:n,combo:r,data:i,edge:o,layout:a,node:s,plugins:l,theme:c,transforms:u}=e;n&&this.setBehaviors(n),i&&this.setData(i),s&&this.setNode(s),o&&this.setEdge(o),r&&this.setCombo(r),a&&this.setLayout(a),c&&this.setTheme(c),l&&this.setPlugins(l),u&&this.setTransforms(u)}getSize(){return this.context.canvas?this.context.canvas.getSize():[this.options.width||0,this.options.height||0]}setSize(e,t){e&&(this.options.width=e),t&&(this.options.height=t),this.resize(e,t)}setZoomRange(e){this.options.zoomRange=e}getZoomRange(){return this.options.zoomRange}setNode(e){this.options.node=e,this.context.model.refreshData()}setEdge(e){this.options.edge=e,this.context.model.refreshData()}setCombo(e){this.options.combo=e,this.context.model.refreshData()}getTheme(){return this.options.theme}setTheme(e){this.options.theme=(0,r2.Z)(e)?e(this.getTheme()):e}setLayout(e){this.options.layout=(0,r2.Z)(e)?e(this.getLayout()):e}getLayout(){return this.options.layout}setBehaviors(e){var t;this.options.behaviors=(0,r2.Z)(e)?e(this.getBehaviors()):e,null===(t=this.context.behavior)||void 0===t||t.setBehaviors(this.options.behaviors)}updateBehavior(e){this.setBehaviors(t=>t.map(t=>"object"==typeof t&&t.key===e.key?Object.assign(Object.assign({},t),e):t))}getBehaviors(){return this.options.behaviors||[]}setPlugins(e){var t;this.options.plugins=(0,r2.Z)(e)?e(this.getPlugins()):e,null===(t=this.context.plugin)||void 0===t||t.setPlugins(this.options.plugins)}updatePlugin(e){this.setPlugins(t=>t.map(t=>"object"==typeof t&&t.key===e.key?Object.assign(Object.assign({},t),e):t))}getPlugins(){return this.options.plugins||[]}getPluginInstance(e){return this.context.plugin.getPluginInstance(e)}setTransforms(e){var t;this.options.transforms=(0,r2.Z)(e)?e(this.getTransforms()):e,null===(t=this.context.transform)||void 0===t||t.setTransforms(this.options.transforms)}updateTransform(e){this.setTransforms(t=>t.map(t=>"object"==typeof t&&t.key===e.key?Object.assign(Object.assign({},t),e):t)),this.context.model.refreshData()}getTransforms(){return this.options.transforms||[]}getData(){return this.context.model.getData()}getElementData(e){return Array.isArray(e)?e.map(e=>this.context.model.getElementDataById(e)):this.context.model.getElementDataById(e)}getNodeData(e){return void 0===e?this.context.model.getNodeData():Array.isArray(e)?this.context.model.getNodeData(e):this.context.model.getNodeLikeDatum(e)}getEdgeData(e){return void 0===e?this.context.model.getEdgeData():Array.isArray(e)?this.context.model.getEdgeData(e):this.context.model.getEdgeDatum(e)}getComboData(e){return void 0===e?this.context.model.getComboData():Array.isArray(e)?this.context.model.getComboData(e):this.context.model.getNodeLikeDatum(e)}setData(e){this.context.model.setData((0,r2.Z)(e)?e(this.getData()):e)}addData(e){this.context.model.addData((0,r2.Z)(e)?e(this.getData()):e)}addNodeData(e){this.context.model.addNodeData((0,r2.Z)(e)?e(this.getNodeData()):e)}addEdgeData(e){this.context.model.addEdgeData((0,r2.Z)(e)?e(this.getEdgeData()):e)}addComboData(e){this.context.model.addComboData((0,r2.Z)(e)?e(this.getComboData()):e)}addChildrenData(e,t){this.context.model.addChildrenData(e,t)}updateData(e){this.context.model.updateData((0,r2.Z)(e)?e(this.getData()):e)}updateNodeData(e){this.context.model.updateNodeData((0,r2.Z)(e)?e(this.getNodeData()):e)}updateEdgeData(e){this.context.model.updateEdgeData((0,r2.Z)(e)?e(this.getEdgeData()):e)}updateComboData(e){this.context.model.updateComboData((0,r2.Z)(e)?e(this.getComboData()):e)}removeData(e){this.context.model.removeData((0,r2.Z)(e)?e(this.getData()):e)}removeNodeData(e){this.context.model.removeNodeData((0,r2.Z)(e)?e(this.getNodeData()):e)}removeEdgeData(e){this.context.model.removeEdgeData((0,r2.Z)(e)?e(this.getEdgeData()):e)}removeComboData(e){this.context.model.removeComboData((0,r2.Z)(e)?e(this.getComboData()):e)}getElementType(e){return this.context.model.getElementType(e)}getRelatedEdgesData(e,t="both"){return this.context.model.getRelatedEdgesData(e,t)}getNeighborNodesData(e){return this.context.model.getNeighborNodesData(e)}getAncestorsData(e,t){return this.context.model.getAncestorsData(e,t)}getParentData(e,t){return this.context.model.getParentData(e,t)}getChildrenData(e){return this.context.model.getChildrenData(e)}getDescendantsData(e){return this.context.model.getDescendantsData(e)}getElementDataByState(e,t){return this.context.model.getElementDataByState(e,t)}initCanvas(){return ue(this,void 0,void 0,function*(){var e;if(this.context.canvas)return yield this.context.canvas.ready;let{container:t="container",width:n,height:r,renderer:i,cursor:o,background:a,canvas:s,devicePixelRatio:l=null!==(e=globalThis.devicePixelRatio)&&void 0!==e?e:1}=this.options;if(t instanceof c_)this.context.canvas=t,o&&t.setCursor(o),i&&t.setRenderer(i),yield t.ready;else{let e=(0,Y.Z)(t)?document.getElementById(t):t,c=cA(e);this.emit(pw.BEFORE_CANVAS_INIT,{container:e,width:n,height:r});let u=Object.assign(Object.assign({},s),{container:e,width:n||c[0],height:r||c[1],background:a,renderer:i,cursor:o,devicePixelRatio:l}),d=new c_(u);this.context.canvas=d,yield d.ready,this.emit(pw.AFTER_CANVAS_INIT,{canvas:d})}})}updateCanvas(e){var t,n;let{renderer:r,cursor:i,height:o,width:a}=e,s=this.context.canvas;s&&(r&&(this.emit(pw.BEFORE_RENDERER_CHANGE,{renderer:this.options.renderer}),s.setRenderer(r),this.emit(pw.AFTER_RENDERER_CHANGE,{renderer:r})),i&&s.setCursor(i),((0,rq.Z)(a)||(0,rq.Z)(o))&&this.setSize(null!==(t=null!=a?a:this.options.width)&&void 0!==t?t:0,null!==(n=null!=o?o:this.options.height)&&void 0!==n?n:0))}initRuntime(){this.context.options=this.options,this.context.batch||(this.context.batch=new cF(this.context)),this.context.plugin||(this.context.plugin=new c4(this.context)),this.context.viewport||(this.context.viewport=new c9(this.context)),this.context.transform||(this.context.transform=new c7(this.context)),this.context.element||(this.context.element=new cq(this.context)),this.context.animation||(this.context.animation=new cP(this.context)),this.context.layout||(this.context.layout=new c2(this.context)),this.context.behavior||(this.context.behavior=new cB(this.context))}prepare(){return ue(this,void 0,void 0,function*(){if(yield Promise.resolve(),this.destroyed){console.error(rj("The graph instance has been destroyed"));return}yield this.initCanvas(),this.initRuntime()})}render(){return ue(this,void 0,void 0,function*(){if(yield this.prepare(),cR(this,new cw(pw.BEFORE_RENDER)),this.options.layout){var e;if(!this.rendered&&!Array.isArray(e=this.options.layout)&&(null==e?void 0:e.preLayout)){let e=yield this.context.element.preLayoutDraw({type:"render"});yield Promise.all([null==e?void 0:e.finished,this.autoFit()])}else{let e=this.context.element.draw({type:"render"});yield Promise.all([null==e?void 0:e.finished,this.context.layout.postLayout()]),yield this.autoFit()}}else{let e=this.context.element.draw({type:"render"});yield Promise.all([null==e?void 0:e.finished,this.autoFit()])}this.rendered=!0,cR(this,new cw(pw.AFTER_RENDER))})}draw(){return ue(this,void 0,void 0,function*(){var e;yield this.prepare(),yield null===(e=this.context.element.draw())||void 0===e?void 0:e.finished})}layout(e){return ue(this,void 0,void 0,function*(){yield this.context.layout.postLayout(e)})}stopLayout(){this.context.layout.stopLayout()}clear(){return ue(this,void 0,void 0,function*(){let{model:e,element:t}=this.context;e.setData({}),e.clearChanges(),null==t||t.clear()})}destroy(){var e;cR(this,new cw(pw.BEFORE_DESTROY));let{layout:t,animation:n,element:r,model:i,canvas:o,behavior:a,plugin:s}=this.context;null==s||s.destroy(),null==a||a.destroy(),null==t||t.destroy(),null==n||n.destroy(),null==r||r.destroy(),i.destroy(),null==o||o.destroy(),this.options={},this.context={},this.off(),null===(e=globalThis.removeEventListener)||void 0===e||e.call(globalThis,"resize",this.onResize),this.destroyed=!0,cR(this,new cw(pw.AFTER_DESTROY))}getCanvas(){return this.context.canvas}resize(e,t){var n;let r=cA(null===(n=this.context.canvas)||void 0===n?void 0:n.getContainer()),i=[e||r[0],t||r[1]];if(!this.context.canvas)return;let o=this.context.canvas.getSize();(0,rM.Z)(i,o)||(cR(this,new cw(pw.BEFORE_SIZE_CHANGE,{size:i})),this.context.canvas.resize(...i),cR(this,new cw(pw.AFTER_SIZE_CHANGE,{size:i})))}fitView(e,t){return ue(this,void 0,void 0,function*(){var n;yield null===(n=this.context.viewport)||void 0===n?void 0:n.fitView(e,t)})}fitCenter(e){return ue(this,void 0,void 0,function*(){var t;yield null===(t=this.context.viewport)||void 0===t?void 0:t.fitCenter({animation:e})})}autoFit(){return ue(this,void 0,void 0,function*(){let{autoFit:e}=this.context.options;if(e){if((0,Y.Z)(e))"view"===e?yield this.fitView():"center"===e&&(yield this.fitCenter());else{let{type:t,animation:n}=e;"view"===t?yield this.fitView(e.options,n):"center"===t&&(yield this.fitCenter(n))}}})}focusElement(e,t){return ue(this,void 0,void 0,function*(){var n;yield null===(n=this.context.viewport)||void 0===n?void 0:n.focusElements(Array.isArray(e)?e:[e],{animation:t})})}zoomBy(e,t,n){return ue(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",scale:e,origin:n},t)})}zoomTo(e,t,n){return ue(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",scale:e,origin:n},t)})}getZoom(){return this.context.viewport.getZoom()}rotateBy(e,t,n){return ue(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",rotate:e,origin:n},t)})}rotateTo(e,t,n){return ue(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",rotate:e,origin:n},t)})}getRotation(){return this.context.viewport.getRotation()}translateBy(e,t){return ue(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",translate:e},t)})}translateTo(e,t){return ue(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",translate:e},t)})}getPosition(){return ik([0,0],this.getCanvasByViewport([0,0]))}translateElementBy(e,t){return ue(this,arguments,void 0,function*(e,t,n=!0){var r;let[i,o]=(0,rD.Z)(e)?[e,null==t||t]:[{[e]:t},n];Object.entries(i).forEach(([e,t])=>this.context.model.translateNodeLikeBy(e,t)),yield null===(r=this.context.element.draw({animation:o,stage:"translate"}))||void 0===r?void 0:r.finished})}translateElementTo(e,t){return ue(this,arguments,void 0,function*(e,t,n=!0){var r;let[i,o]=(0,rD.Z)(e)?[e,null==t||t]:[{[e]:t},n];Object.entries(i).forEach(([e,t])=>this.context.model.translateNodeLikeTo(e,t)),yield null===(r=this.context.element.draw({animation:o,stage:"translate"}))||void 0===r?void 0:r.finished})}getElementPosition(e){return this.context.model.getElementPosition(e)}getElementRenderStyle(e){return(0,sH.Z)(this.context.element.getElement(e).attributes,["context"])}setElementVisibility(e,t){return ue(this,arguments,void 0,function*(e,t,n=!0){var r;let[i,o]=(0,rD.Z)(e)?[e,null==t||t]:[{[e]:t},n],a={nodes:[],edges:[],combos:[]};Object.entries(i).forEach(([e,t])=>{let n=this.getElementType(e);a[`${n}s`].push({id:e,style:{visibility:t}})});let{model:s,element:l}=this.context;s.preventUpdateNodeLikeHierarchy(()=>{s.updateData(a)}),yield null===(r=l.draw({animation:o,stage:"visibility"}))||void 0===r?void 0:r.finished})}showElement(e,t){return ue(this,void 0,void 0,function*(){let n=Array.isArray(e)?e:[e];yield this.setElementVisibility(Object.fromEntries(n.map(e=>[e,"visible"])),t)})}hideElement(e,t){return ue(this,void 0,void 0,function*(){let n=Array.isArray(e)?e:[e];yield this.setElementVisibility(Object.fromEntries(n.map(e=>[e,"hidden"])),t)})}getElementVisibility(e){var t,n;let r=this.context.element.getElement(e);return null!==(n=null===(t=null==r?void 0:r.style)||void 0===t?void 0:t.visibility)&&void 0!==n?n:"visible"}setElementZIndex(e,t){return ue(this,void 0,void 0,function*(){var n;let r={nodes:[],edges:[],combos:[]},i=(0,rD.Z)(e)?e:{[e]:t};Object.entries(i).forEach(([e,t])=>{let n=this.getElementType(e);r[`${n}s`].push({id:e,style:{zIndex:t}})});let{model:o,element:a}=this.context;o.preventUpdateNodeLikeHierarchy(()=>o.updateData(r)),yield null===(n=a.draw({animation:!1,stage:"zIndex"}))||void 0===n?void 0:n.finished})}frontElement(e){return ue(this,void 0,void 0,function*(){let t=Array.isArray(e)?e:[e],{model:n}=this.context,r={};t.map(e=>{let t=n.getFrontZIndex(e),i=n.getElementType(e);if("combo"===i){let i=n.getAncestorsData(e,rB).at(-1)||this.getComboData(e),o=[i,...n.getDescendantsData(ih(i))],a=t-ck(i);o.forEach(e=>{r[ih(e)]=this.getElementZIndex(ih(e))+a});let{internal:s}=ab(o.map(ih),e=>n.getRelatedEdgesData(e));s.forEach(e=>{let t=ih(e);r[t]=this.getElementZIndex(t)+a})}else r[e]=t}),yield this.setElementZIndex(r)})}getElementZIndex(e){return ck(this.context.model.getElementDataById(e))}setElementState(e,t){return ue(this,arguments,void 0,function*(e,t,n=!0){var r;let[i,o]=(0,rD.Z)(e)?[e,null==t||t]:[{[e]:t},n],a=e=>e?Array.isArray(e)?e:[e]:[],s={nodes:[],edges:[],combos:[]};Object.entries(i).forEach(([e,t])=>{let n=this.getElementType(e);s[`${n}s`].push({id:e,states:a(t)})}),this.updateData(s),yield null===(r=this.context.element.draw({animation:o,stage:"state"}))||void 0===r?void 0:r.finished})}getElementState(e){return this.context.model.getElementState(e)}getElementRenderBounds(e){return this.context.element.getElement(e).getRenderBounds()}collapseElement(e){return ue(this,arguments,void 0,function*(e,t=!0){let{model:n,element:r}=this.context;if(oc(n.getNodeLikeData([e])[0])||this.isCollapsingExpanding)return;"boolean"==typeof t&&(t={animation:t,align:!0});let i=n.getElementType(e);yield this.frontElement(e),this.isCollapsingExpanding=!0,this.setElementCollapsibility(e,!0),"node"===i?yield r.collapseNode(e,t):"combo"===i&&(yield r.collapseCombo(e,!!t.animation)),this.isCollapsingExpanding=!1})}expandElement(e){return ue(this,arguments,void 0,function*(e,t=!0){let{model:n,element:r}=this.context;if(!oc(n.getNodeLikeData([e])[0])||this.isCollapsingExpanding)return;"boolean"==typeof t&&(t={animation:t,align:!0});let i=n.getElementType(e);this.isCollapsingExpanding=!0,this.setElementCollapsibility(e,!1),"node"===i?yield r.expandNode(e,t):"combo"===i&&(yield r.expandCombo(e,!!t.animation)),this.isCollapsingExpanding=!1})}setElementCollapsibility(e,t){let n=this.getElementType(e);"node"===n?this.updateNodeData([{id:e,style:{collapsed:t}}]):"combo"===n&&this.updateComboData([{id:e,style:{collapsed:t}}])}toDataURL(){return ue(this,arguments,void 0,function*(e={}){return this.context.canvas.toDataURL(e)})}getCanvasByViewport(e){return this.context.canvas.getCanvasByViewport(e)}getViewportByCanvas(e){return this.context.canvas.getViewportByCanvas(e)}getClientByCanvas(e){return this.context.canvas.getClientByCanvas(e)}getCanvasByClient(e){return this.context.canvas.getCanvasByClient(e)}getViewportCenter(){return this.context.viewport.getViewportCenter()}getCanvasCenter(){return this.context.viewport.getCanvasCenter()}on(e,t,n){return super.on(e,t,n)}once(e,t){return super.once(e,t)}off(e,t){return super.off(e,t)}}ut.defaultOptions={autoResize:!1,theme:"light",rotation:0,zoom:1,zoomRange:[.01,10]};var un=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function ur(e,t){let{getNodeData:n=(e,t)=>{if(e.depth=t,!e.children)return e;let{children:n}=e,r=un(e,["children"]);return Object.assign(Object.assign({},r),{children:n.map(e=>e.id)})},getEdgeData:r=(e,t)=>({source:e.id,target:t.id}),getChildren:i=e=>e.children||[]}=t||{},o=[],a=[];return or(e,(e,t)=>{o.push(n(e,t));let s=i(e);for(let t of s)a.push(r(e,t))},e=>i(e),"TB"),{nodes:o,edges:a}}let ui=(e,t)=>{let{source:n,target:r}=t,i=e.getElementDataById(n),o=e.getElementDataById(r),a=av(i,t=>e.getParentData(t,rB)),s=av(o,t=>e.getParentData(t,rB)),l=ih(a),c=ih(s),u={sourceNode:l,targetNode:c};return t.style?Object.assign(t.style,u):t.style=u,t},uo=(e,t,n)=>{let[r,i]=t,[o,a]=n;return i===r?o:o+(e-r)/(i-r)*(a-o)},ua=(e,t,n)=>{let[r,i]=t,[o,a]=n,s=Math.log(e-r+1)/Math.log(i-r+1);return o+s*(a-o)},us=(e,t,n,r=2)=>{let[i,o]=t,[a,s]=n,l=Math.pow((e-i)/(o-i),r);return a+l*(s-a)},ul=(e,t,n)=>{let[r,i]=t,[o,a]=n,s=Math.sqrt((e-r)/(i-r));return o+s*(a-o)};class uc extends cc{constructor(e,t){super(e,(0,G.Z)({},uc.defaultOptions,t)),this.assignSizeByCentrality=(e,t,n,r,i,o)=>{let a=[t,n],s=[r[0],i[0]],l=[r[1],i[1]],c=[r[2],i[2]],u=(e,t)=>{if("function"==typeof o)return o(e,a,t);switch(o){case"linear":return uo(e,a,t);case"log":return ua(e,a,t);case"pow":return us(e,a,t,2);case"sqrt":return ul(e,a,t);default:return t[0]}};return[u(e,s),u(e,l),u(e,c)]}}beforeDraw(e){let{model:t}=this.context,n=t.getNodeData(),r=om(this.options.maxSize),i=om(this.options.minSize),o=this.getCentralities(this.options.centrality),a=o.size>0?Math.max(...o.values()):0,s=o.size>0?Math.min(...o.values()):0;return n.forEach(t=>{var n;let l=this.assignSizeByCentrality(o.get(ih(t))||0,s,a,i,r,this.options.scale),c=null===(n=this.context.element)||void 0===n?void 0:n.getElement(ih(t)),u={size:l};this.assignLabelStyle(u,l,t,c),c&&cd(u,c.attributes)||cu(e,c?"update":"add","node",(0,G.Z)(t,{style:u}),!0)}),e}assignLabelStyle(e,t,n,r){var i;let o=r?r.config.style:null===(i=this.context.element)||void 0===i?void 0:i.getElementComputedStyle("node",n);if(Object.assign(e,(0,j.Z)(o,["labelFontSize","labelLineHeight"])),this.options.mapLabelSize){let n=this.getLabelSizeByNodeSize(t,1/0,Number(e.labelFontSize));Object.assign(e,{labelFontSize:n,labelLineHeight:n+function(e=0){let t=r8(e);return t[0]+t[2]}(e.labelPadding)})}return e}getLabelSizeByNodeSize(e,t,n){let r=Math.min(...e)/2,[i,o]=Array.isArray(this.options.mapLabelSize)?this.options.mapLabelSize:[n,t];return Math.min(o,Math.max(r,i))}getCentralities(e){let{model:t}=this.context,n=t.getData();if("function"==typeof e)return e(n);let r=t.getRelatedEdgesData.bind(t);return im(n,r,e)}}uc.defaultOptions={centrality:{type:"degree"},maxSize:80,minSize:20,scale:"linear",mapLabelSize:!1};class uu extends cc{constructor(e,t){super(e,Object.assign({},uu.defaultOptions,t))}get ref(){return this.context.model.getRootsData()[0]}afterLayout(){var e;let t=iY(this.ref),{graph:n,model:r}=this.context,i=r.getData();null===(e=i.nodes)||void 0===e||e.forEach(e=>{var i;if(ih(e)===ih(this.ref))return;let o=iG(ik(iY(e),t)),a=Math.abs(o)>Math.PI/2,s=!e.children||0===e.children.length,l=ih(e),c=null===(i=this.context.element)||void 0===i?void 0:i.getElement(l);if(!c||!c.isVisible())return;let u=om(n.getElementRenderStyle(l).size)[0]/2,d=(s?1:-1)*(u+this.options.offset),p=[["translate",d*Math.cos(o),d*Math.sin(o)],["rotate",a?(0,ew.BV)(o)+180:(0,ew.BV)(o)]];r.updateNodeData([{id:ih(e),style:{labelTextAlign:a===s?"right":"left",labelTextBaseline:"middle",labelTransform:p}}])}),n.draw()}}uu.defaultOptions={offset:5};let ud=["top","top-right","right","right-bottom","bottom","bottom-left","left","left-top"];class up extends cc{constructor(e,t){super(e,Object.assign({},up.defaultOptions,t)),this.cacheMergeStyle=new Map,this.getAffectedParallelEdges=e=>{let{add:{edges:t},update:{nodes:n,edges:r,combos:i},remove:{edges:o}}=e,{model:a}=this.context,s=new Map,l=(e,t)=>{let n=a.getRelatedEdgesData(t);n.forEach(e=>!s.has(ih(e))&&s.set(ih(e),e))};n.forEach(l),i.forEach(l);let c=e=>{let t=a.getEdgeData().map(e=>ui(a,e)),n=uf(e,t,!0);n.forEach(e=>!s.has(ih(e))&&s.set(ih(e),e))};if(o.size&&o.forEach(c),t.size&&t.forEach(c),r.size){let e=ll(ls(a.getChanges())).update.edges;r.forEach(t=>{var n;c(t);let r=null===(n=e.find(e=>ih(e.value)===ih(t)))||void 0===n?void 0:n.original;r&&!ug(t,r)&&c(r)})}(0,oS.Z)(this.options.edges)||s.forEach((e,t)=>!this.options.edges.includes(t)&&s.delete(t));let u=a.getEdgeData().map(ih);return new Map([...s].sort((e,t)=>u.indexOf(e[0])-u.indexOf(t[0])))},this.applyBundlingStyle=(e,t,n)=>{let{edgeMap:r,reverses:i}=uh(t);r.forEach(t=>{t.forEach((t,r,o)=>{var a;let s=o.length,l=t.style||{};if(t.source===t.target){let e=ud.length;l.loopPlacement=ud[r%e],l.loopDist=Math.floor(r/e)*n+50}else if(1===s)l.curveOffset=0;else{let e=(r%2==0?1:-1)*(i[`${t.source}|${t.target}|${r}`]?-1:1);l.curveOffset=s%2==1?e*Math.ceil(r/2)*n*2:e*(Math.floor(r/2)*n*2+n)}let c=Object.assign(t,{type:"quadratic",style:l}),u=null===(a=this.context.element)||void 0===a?void 0:a.getElement(ih(t));u&&cd(c.style,u.attributes)||cu(e,u?"update":"add","edge",c,!0)})})},this.resetEdgeStyle=e=>{let t=e.style||{},n=this.cacheMergeStyle.get(ih(e))||{};return Object.keys(n).forEach(r=>{(0,rM.Z)(t[r],n[r])&&(e[r]?t[r]=e[r]:delete t[r])}),Object.assign(e,{style:t})},this.applyMergingStyle=(e,t)=>{let{edgeMap:n,reverses:r}=uh(t);n.forEach(t=>{var n;if(1===t.length){let r=t[0],i=null===(n=this.context.element)||void 0===n?void 0:n.getElement(ih(r)),o=this.resetEdgeStyle(r);i&&cd(o,i.attributes)||cu(e,i?"update":"add","edge",o);return}let i=t.map(({source:e,target:t,style:n={}},i)=>{let{startArrow:o,endArrow:a}=n,s={},[l,c]=r[`${e}|${t}|${i}`]?["endArrow","startArrow"]:["startArrow","endArrow"];return(0,lo.Z)(o)&&(s[l]=o),(0,lo.Z)(a)&&(s[c]=a),s}).reduce((e,t)=>Object.assign(Object.assign({},e),t),{});t.forEach((t,n,r)=>{var o;if(0!==n){cu(e,"remove","edge",t);return}let a=Object.assign({},(0,r2.Z)(this.options.style)?this.options.style(r):this.options.style,{childrenData:r});this.cacheMergeStyle.set(ih(t),a);let s=Object.assign(Object.assign({},t),{type:"line",style:Object.assign(Object.assign(Object.assign({},t.style),i),a)}),l=null===(o=this.context.element)||void 0===o?void 0:o.getElement(ih(t));l&&cd(s.style,l.attributes)||cu(e,l?"update":"add","edge",s,!0)})})}}beforeDraw(e){let t=this.getAffectedParallelEdges(e);return 0===t.size||("bundle"===this.options.mode?this.applyBundlingStyle(e,t,this.options.distance):this.applyMergingStyle(e,t)),e}}up.defaultOptions={mode:"bundle",distance:15};let uh=e=>{let t=new Map,n=new Set,r={},i=new Map;for(let[o,a]of e){if(n.has(o))continue;let{source:s,target:l}=a,c=`${s}-${l}`;t.has(c)||(t.set(c,[]),i.set(c,new Set));let u=t.get(c),d=i.get(c);for(let[p,h]of(u&&d&&!d.has(o)&&(u.push(a),d.add(o),n.add(o)),e))if(!n.has(p)&&p!==o&&ug(a,h)){let e=t.get(c),o=i.get(c);e&&o&&!o.has(p)&&(e.push(h),o.add(p),s===h.target&&l===h.source&&(r[`${h.source}|${h.target}|${e.length-1}`]=!0),n.add(p))}}return{edgeMap:t,reverses:r}},uf=(e,t,n)=>t.filter(t=>(n||ih(t)!==ih(e))&&ug(t,e)),ug=(e,t)=>{let{sourceNode:n,targetNode:r}=e.style||{},{sourceNode:i,targetNode:o}=t.style||{};return n===i&&r===o||n===o&&r===i},um={animation:{"combo-collapse":r1,"combo-expand":r1,"node-collapse":rJ,"node-expand":rJ,"path-in":r0,"path-out":r0,fade:[{fields:["opacity"]}],translate:[{fields:["x","y"]}]},behavior:{"brush-select":oe,"click-select":ol,"collapse-expand":a7,"create-edge":st,"drag-canvas":si,"drag-element-force":class extends sa{get forceLayoutInstance(){return this.context.layout.getLayoutInstance().find(e=>["d3-force","d3-force-3d"].includes(null==e?void 0:e.id))}validate(e){return!!this.context.layout&&(this.forceLayoutInstance?super.validate(e):(rH.warn("DragElementForce only works with d3-force or d3-force-3d layout"),!1))}moveElement(e,t){var n,r,i,o;return n=this,r=void 0,i=void 0,o=function*(){let n=this.forceLayoutInstance;this.context.graph.getNodeData(e).forEach((r,i)=>{let{x:o=0,y:a=0}=r.style||{};n&&sd(n,"setFixedPosition",e[i],[...iR([+o,+a],t)])})},new(i||(i=Promise))(function(e,t){function a(e){try{l(o.next(e))}catch(e){t(e)}}function s(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof i?n:new i(function(e){e(n)})).then(a,s)}l((o=o.apply(n,r||[])).next())})}onDragStart(e){if(this.enable=this.validate(e),!this.enable)return;this.target=this.getSelectedNodeIDs([e.target.id]),this.hideEdge(),this.context.graph.frontElement(this.target);let t=this.forceLayoutInstance;t&&sp(t,"simulation").alphaTarget(.3).restart(),this.context.graph.getNodeData(this.target).forEach(e=>{let{x:n=0,y:r=0}=e.style||{};t&&sd(t,"setFixedPosition",ih(e),[+n,+r])})}onDrag(e){if(!this.enable)return;let t=this.getDelta(e);this.moveElement(this.target,t)}onDragEnd(){let e=this.forceLayoutInstance;e&&sp(e,"simulation").alphaTarget(0),this.options.fixed||this.context.graph.getNodeData(this.target).forEach(t=>{e&&sd(e,"setFixedPosition",ih(t),[null,null,null])})}},"drag-element":sa,"fix-element-size":sf,"focus-element":sg,"hover-activate":sm,"lasso-select":class extends oe{onPointerDown(e){if(!super.validate(e)||!super.isKeydown()||this.points)return;let{canvas:t}=this.context;this.pathShape=new ew.y$({id:"g6-lasso-select",style:this.options.style}),t.appendChild(this.pathShape),this.points=[ot(e)]}onPointerMove(e){var t;if(!this.points)return;let{immediately:n,mode:r}=this.options;this.points.push(ot(e)),null===(t=this.pathShape)||void 0===t||t.setAttribute("d",function(e,t=!0){let n=[];return e.forEach((e,t)=>{n.push([0===t?"M":"L",...e])}),t&&n.push(["Z"]),n}(this.points)),n&&"default"===r&&this.points.length>2&&super.updateElementsStates(this.points)}onPointerUp(){if(this.points){if(this.points.length<2){this.clearLasso();return}super.updateElementsStates(this.points),this.clearLasso()}}clearLasso(){var e;null===(e=this.pathShape)||void 0===e||e.remove(),this.pathShape=void 0,this.points=void 0}},"auto-adapt-label":iI,"optimize-viewport-transform":sb,"scroll-canvas":sy,"zoom-canvas":sT},combo:{circle:class extends o7{constructor(e){super(e)}drawKeyShape(e,t){return this.upsert("key",ew.Cd,this.getKeyStyle(e),t)}getKeyStyle(e){let{collapsed:t}=e,n=super.getKeyStyle(e),[r]=this.getKeySize(e);return Object.assign(Object.assign(Object.assign({},n),t&&oh(n,"collapsed")),{r:r/2})}getCollapsedKeySize(e){let[t,n]=om(e.collapsedSize),r=Math.max(t,n)/2;return[2*r,2*r,0]}getExpandedKeySize(e){let t=this.getContentBBox(e),[n,r]=it(t),i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2))/2;return[2*i,2*i,0]}getIntersectPoint(e,t=!1){let n=this.getShape("key").getBounds();return i3(e,n,t)}},rect:class extends o7{constructor(e){super(e)}drawKeyShape(e,t){return this.upsert("key",ew.UL,this.getKeyStyle(e),t)}getKeyStyle(e){let t=super.getKeyStyle(e),[n,r]=this.getKeySize(e);return Object.assign(Object.assign(Object.assign({},t),e.collapsed&&oh(t,"collapsed")),{width:n,height:r,x:-n/2,y:-r/2})}}},edge:{cubic:aO,line:ak,polyline:aH,quadratic:aG,"cubic-horizontal":aI,"cubic-radial":aL,"cubic-vertical":aR},layout:{"antv-dagre":sS.b,"combo-combined":sC.u,"compact-box":sx.compactBox,"d3-force":sO.j,"force-atlas2":sL.E,circular:sA.S,concentric:sw.W,dagre:sI.V,dendrogram:sx.dendrogram,fishbone:sB,force:sR.y,fruchterman:sk.O,grid:sN.M,indented:sx.indented,mds:sM.A,mindmap:sx.mindmap,radial:sD.D,random:sP._,snake:sj},node:{circle:oG,diamond:class extends oV{constructor(e){super(e)}getPoints(e){let[t,n]=this.getSize(e);return[[0,-n/2],[t/2,0],[0,n/2],[-t/2,0]]}},ellipse:oQ,hexagon:class extends oV{constructor(e){super(e)}getOuterR(e){return e.outerR||Math.min(...this.getSize(e))/2}getPoints(e){var t;return[[0,t=this.getOuterR(e)],[t*Math.sqrt(3)/2,t/2],[t*Math.sqrt(3)/2,-t/2],[0,-t],[-t*Math.sqrt(3)/2,-t/2],[-t*Math.sqrt(3)/2,t/2]]}getIconStyle(e){let t=super.getIconStyle(e),n=.8*this.getOuterR(e);return!!t&&Object.assign({width:n,height:n},t)}},html:o2,image:o5,rect:class extends oH{constructor(e){super(e)}getKeyStyle(e){let[t,n]=this.getSize(e);return Object.assign(Object.assign({},super.getKeyStyle(e)),{width:t,height:n,x:-t/2,y:-n/2})}getIconStyle(e){let t=super.getIconStyle(e),{width:n,height:r}=this.getShape("key").attributes;return!!t&&Object.assign({width:.8*n,height:.8*r},t)}drawKeyShape(e,t){return this.upsert("key",ew.UL,this.getKeyStyle(e),t)}},star:class extends oV{constructor(e){super(e)}getInnerR(e){return e.innerR||3*this.getOuterR(e)/8}getOuterR(e){return Math.min(...this.getSize(e))/2}getPoints(e){var t,n;return[[0,-(t=this.getOuterR(e))],[(n=this.getInnerR(e))*Math.cos(3*Math.PI/10),-n*Math.sin(3*Math.PI/10)],[t*Math.cos(Math.PI/10),-t*Math.sin(Math.PI/10)],[n*Math.cos(Math.PI/10),n*Math.sin(Math.PI/10)],[t*Math.cos(3*Math.PI/10),t*Math.sin(3*Math.PI/10)],[0,n],[-t*Math.cos(3*Math.PI/10),t*Math.sin(3*Math.PI/10)],[-n*Math.cos(Math.PI/10),n*Math.sin(Math.PI/10)],[-t*Math.cos(Math.PI/10),-t*Math.sin(Math.PI/10)],[-n*Math.cos(3*Math.PI/10),-n*Math.sin(3*Math.PI/10)]]}getIconStyle(e){let t=super.getIconStyle(e),n=2*this.getInnerR(e)*.8;return!!t&&Object.assign({width:n,height:n},t)}getPortXY(e,t){let{placement:n="top"}=t,r=this.getShape("key").getLocalBounds(),i=function(e,t){let n={};return n.top=[0,-e],n.left=[-e*Math.cos(Math.PI/10),-e*Math.sin(Math.PI/10)],n["left-bottom"]=[-e*Math.cos(3*Math.PI/10),e*Math.sin(3*Math.PI/10)],n.bottom=[0,t],n["right-bottom"]=[e*Math.cos(3*Math.PI/10),e*Math.sin(3*Math.PI/10)],n.right=n.default=[e*Math.cos(Math.PI/10),-e*Math.sin(Math.PI/10)],n}(this.getOuterR(e),this.getInnerR(e));return aX(r,n,i,!1)}},donut:oW,triangle:o4},palette:{spectral:["rgb(158, 1, 66)","rgb(213, 62, 79)","rgb(244, 109, 67)","rgb(253, 174, 97)","rgb(254, 224, 139)","rgb(255, 255, 191)","rgb(230, 245, 152)","rgb(171, 221, 164)","rgb(102, 194, 165)","rgb(50, 136, 189)","rgb(94, 79, 162)"],tableau:["rgb(78, 121, 167)","rgb(242, 142, 44)","rgb(225, 87, 89)","rgb(118, 183, 178)","rgb(89, 161, 79)","rgb(237, 201, 73)","rgb(175, 122, 161)","rgb(255, 157, 167)","rgb(156, 117, 95)","rgb(186, 176, 171)"],oranges:["rgb(255, 245, 235)","rgb(254, 230, 206)","rgb(253, 208, 162)","rgb(253, 174, 107)","rgb(253, 141, 60)","rgb(241, 105, 19)","rgb(217, 72, 1)","rgb(166, 54, 3)","rgb(127, 39, 4)"],greens:["rgb(247, 252, 245)","rgb(229, 245, 224)","rgb(199, 233, 192)","rgb(161, 217, 155)","rgb(116, 196, 118)","rgb(65, 171, 93)","rgb(35, 139, 69)","rgb(0, 109, 44)","rgb(0, 68, 27)"],blues:["rgb(247, 251, 255)","rgb(222, 235, 247)","rgb(198, 219, 239)","rgb(158, 202, 225)","rgb(107, 174, 214)","rgb(66, 146, 198)","rgb(33, 113, 181)","rgb(8, 81, 156)","rgb(8, 48, 107)"]},theme:{dark:cs,light:cl},plugin:{"bubble-sets":sX,"edge-bundling":s2,"edge-filter-lens":lt,"grid-line":la,background:sW,contextmenu:s1,fisheye:lr,fullscreen:li,history:lc,hull:lD,legend:lU,minimap:lz,snapline:lV,timebar:lQ,toolbar:l4,tooltip:l8,watermark:cn},transform:{"arrange-draw-order":class extends cc{beforeDraw(e){let{model:t}=this.context,n=e.add.combos,r=e=>{let n=[];return e.forEach((e,r)=>{let i=t.getAncestorsData(r,"combo"),o=i.map(e=>ih(e)).reverse();n.push([r,e,o.length])}),new Map(n.sort(([,,e],[,,t])=>t-e).map(([e,t])=>[e,t]))};return e.add.combos=r(n),e.update.combos=r(e.update.combos),e}},"collapse-expand-combo":class extends cc{beforeDraw(e,t){if("visibility"===t.stage||!this.context.model.model.hasTreeStructure(rB))return e;let{model:n}=this.context,{add:r,update:i}=e,o=[...e.update.combos.entries(),...e.add.combos.entries()];for(;o.length;){let[t,a]=o.pop();if(oc(a)){let a=n.getDescendantsData(t),s=a.map(ih),{internal:l,external:c}=ab(s,e=>n.getRelatedEdgesData(e));a.forEach(t=>{let r=ih(t),i=o.findIndex(([e])=>e===r);-1!==i&&o.splice(i,1);let a=n.getElementType(r);cu(e,"remove",a,t)}),l.forEach(t=>cu(e,"remove","edge",t)),c.forEach(e=>{var t;let n=ih(e),o=null===(t=this.context.element)||void 0===t?void 0:t.getElement(n);o?i.edges.set(n,e):r.edges.set(n,e)})}else{let r=n.getChildrenData(t),i=r.map(ih),{edges:a}=ab(i,e=>n.getRelatedEdgesData(e));[...r,...a].forEach(t=>{var r;let i=ih(t),a=n.getElementType(i),s=null===(r=this.context.element)||void 0===r?void 0:r.getElement(i);s?cu(e,"update",a,t):cu(e,"add",a,t),"combo"===a&&o.push([i,t])})}}return e}},"collapse-expand-node":class extends cc{getElement(e){return this.context.element.getElement(e)}handleExpand(e,t){if(cp(t,"add","node",e),oc(e))return;let n=ih(e);cp(t,"add","node",e);let r=this.context.model.getRelatedEdgesData(n,"out");r.forEach(e=>{cu(t,"add","edge",e)});let i=this.context.model.getChildrenData(n);i.forEach(e=>{this.handleExpand(e,t)})}beforeDraw(e){let{graph:t,model:n}=this.context;if(!n.model.hasTreeStructure(rU))return e;let{add:{nodes:r,edges:i},update:{nodes:o}}=e,a=new Map,s=new Map;r.forEach((e,t)=>{oc(e)&&a.set(t,e)}),i.forEach(e=>{if("node"!==t.getElementType(e.source))return;let n=t.getNodeData(e.source);oc(n)&&a.set(e.source,n)}),o.forEach((e,t)=>{let n=this.getElement(t);if(!n)return;let r=n.attributes.collapsed;oc(e)?r||a.set(t,e):r&&s.set(t,e)});let l=new Set;return a.forEach((t,r)=>{let i=n.getDescendantsData(r);i.forEach(t=>{let r=ih(t);if(l.has(r))return;cu(e,"remove","node",t);let i=n.getRelatedEdgesData(r);i.forEach(t=>{cu(e,"remove","edge",t)}),l.add(r)})}),s.forEach((t,r)=>{let i=n.getAncestorsData(r,rU);if(i.some(oc)){cu(e,"remove","node",t);return}this.handleExpand(t,e)}),e}},"get-edge-actual-ends":class extends cc{beforeDraw(e){let{add:t,update:n}=e,{model:r}=this.context;return[...t.edges.entries(),...n.edges.entries()].forEach(([,e])=>{ui(r,e)}),e}},"map-node-size":uc,"place-radial-labels":uu,"process-parallel-edges":up,"update-related-edges":class extends cc{beforeDraw(e,t){let{stage:n}=t;if("visibility"===n)return e;let{model:r}=this.context,{update:{nodes:i,edges:o,combos:a}}=e,s=(e,t)=>{let n=r.getRelatedEdgesData(t);n.forEach(e=>!o.has(ih(e))&&o.set(ih(e),e))};return i.forEach(s),a.forEach(s),e}}},shape:{circle:ew.Cd,ellipse:ew.Pj,group:ew.ZA,html:ew.k9,image:oD,line:ew.x1,path:ew.y$,polygon:ew.mg,polyline:ew.aH,rect:ew.UL,text:ew.xv,label:oI,badge:oL}};Object.entries(um).forEach(([e,t])=>{Object.entries(t).forEach(([t,n])=>{cf(e,t,n)})});var ub=n(30967),uv=n.t(ub,2),uy=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};let uE=Object.assign({},uv),{version:u_,render:uT,unmountComponentAtNode:ux}=uE;function uS(){return uy(this,void 0,void 0,function*(){if(i)return;let e=Number((u_||"").split(".")[0]);if(e>=18)try{let e=yield Promise.resolve().then(n.t.bind(n,38751,19));e.createRoot&&(i=e.createRoot)}catch(e){}})}function uA(e){let{__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:t}=uE;t&&"object"==typeof t&&(t.usingClientEntryPoint=e)}let uC="__rc_react_root__";function uw(e,t){return uy(this,void 0,void 0,function*(){(yield uS(),i)?function(e,t){uA(!0);let n=t[uC]||i(t);uA(!1),n.render(e),t[uC]=n}(e,t):uT(e,t)})}class uO extends cc{static defaultOptions={colors:["#1783FF","#F08F56","#D580FF","#00C9C9","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]};constructor(e,t){super(e,Object.assign({},uO.defaultOptions,t))}beforeDraw(e){let t=this.context.model.getNodeData();if(0===t.length)return e;let n=0,r=(e,i)=>{let o=t.find(t=>t.id==e);o&&(o.style||={},o.style.color=i||this.options.colors[n++%this.options.colors.length],o.children?.forEach(e=>r(e,o.style?.color)))};return t.filter(e=>1===e.depth).forEach(e=>r(e.id)),e}}var uI=function(){return(uI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function uL(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var uR=n(50631),uk=n.n(uR),uN="-ms-",uM="-moz-",uD="-webkit-",uP="comm",uF="rule",uB="decl",uU="@keyframes",uz=Math.abs,uZ=String.fromCharCode,uj=Object.assign;function uH(e,t){return(e=t.exec(e))?e[0]:e}function uG(e,t,n){return e.replace(t,n)}function uV(e,t,n){return e.indexOf(t,n)}function u$(e,t){return 0|e.charCodeAt(t)}function uW(e,t,n){return e.slice(t,n)}function uY(e){return e.length}function uq(e,t){return t.push(e),e}function uX(e,t){return e.filter(function(e){return!uH(e,t)})}var uK=1,uQ=1,uJ=0,u0=0,u1=0,u2="";function u3(e,t,n,r,i,o,a,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:uK,column:uQ,length:a,return:"",siblings:s}}function u5(e,t){return uj(u3("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function u4(e){for(;e.root;)e=u5(e.root,{children:[e]});uq(e,e.siblings)}function u6(){return u1=u0<uJ?u$(u2,u0++):0,uQ++,10===u1&&(uQ=1,uK++),u1}function u7(){return u$(u2,u0)}function u8(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function u9(e){var t,n;return(t=u0-1,n=function e(t){for(;u6();)switch(u1){case t:return u0;case 34:case 39:34!==t&&39!==t&&e(u1);break;case 40:41===t&&e(t);break;case 92:u6()}return u0}(91===e?e+2:40===e?e+1:e),uW(u2,t,n)).trim()}function de(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function dt(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case uB:return e.return=e.return||e.value;case uP:return"";case uU:return e.return=e.value+"{"+de(e.children,r)+"}";case uF:if(!uY(e.value=e.props.join(",")))return""}return uY(n=de(e.children,r))?e.return=e.value+"{"+n+"}":""}function dn(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case uB:e.return=function e(t,n,r){var i;switch(i=n,45^u$(t,0)?(((i<<2^u$(t,0))<<2^u$(t,1))<<2^u$(t,2))<<2^u$(t,3):0){case 5103:return uD+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return uD+t+t;case 4789:return uM+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return uD+t+uM+t+uN+t+t;case 5936:switch(u$(t,n+11)){case 114:return uD+t+uN+uG(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return uD+t+uN+uG(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return uD+t+uN+uG(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return uD+t+uN+t+t;case 6165:return uD+t+uN+"flex-"+t+t;case 5187:return uD+t+uG(t,/(\w+).+(:[^]+)/,uD+"box-$1$2"+uN+"flex-$1$2")+t;case 5443:return uD+t+uN+"flex-item-"+uG(t,/flex-|-self/g,"")+(uH(t,/flex-|baseline/)?"":uN+"grid-row-"+uG(t,/flex-|-self/g,""))+t;case 4675:return uD+t+uN+"flex-line-pack"+uG(t,/align-content|flex-|-self/g,"")+t;case 5548:return uD+t+uN+uG(t,"shrink","negative")+t;case 5292:return uD+t+uN+uG(t,"basis","preferred-size")+t;case 6060:return uD+"box-"+uG(t,"-grow","")+uD+t+uN+uG(t,"grow","positive")+t;case 4554:return uD+uG(t,/([^-])(transform)/g,"$1"+uD+"$2")+t;case 6187:return uG(uG(uG(t,/(zoom-|grab)/,uD+"$1"),/(image-set)/,uD+"$1"),t,"")+t;case 5495:case 3959:return uG(t,/(image-set\([^]*)/,uD+"$1$`$1");case 4968:return uG(uG(t,/(.+:)(flex-)?(.*)/,uD+"box-pack:$3"+uN+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+uD+t+t;case 4200:if(!uH(t,/flex-|baseline/))return uN+"grid-column-align"+uW(t,n)+t;break;case 2592:case 3360:return uN+uG(t,"template-","")+t;case 4384:case 3616:if(r&&r.some(function(e,t){return n=t,uH(e.props,/grid-\w+-end/)}))return~uV(t+(r=r[n].value),"span",0)?t:uN+uG(t,"-start","")+t+uN+"grid-row-span:"+(~uV(r,"span",0)?uH(r,/\d+/):+uH(r,/\d+/)-+uH(t,/\d+/))+";";return uN+uG(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(e){return uH(e.props,/grid-\w+-start/)})?t:uN+uG(uG(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return uG(t,/(.+)-inline(.+)/,uD+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(uY(t)-1-n>6)switch(u$(t,n+1)){case 109:if(45!==u$(t,n+4))break;case 102:return uG(t,/(.+:)(.+)-([^]+)/,"$1"+uD+"$2-$3$1"+uM+(108==u$(t,n+3)?"$3":"$2-$3"))+t;case 115:return~uV(t,"stretch",0)?e(uG(t,"stretch","fill-available"),n,r)+t:t}break;case 5152:case 5920:return uG(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(e,n,r,i,o,a,s){return uN+n+":"+r+s+(i?uN+n+"-span:"+(o?a:+a-+r)+s:"")+t});case 4949:if(121===u$(t,n+6))return uG(t,":",":"+uD)+t;break;case 6444:switch(u$(t,45===u$(t,14)?18:11)){case 120:return uG(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+uD+(45===u$(t,14)?"inline-":"")+"box$3$1"+uD+"$2$3$1"+uN+"$2box$3")+t;case 100:return uG(t,":",":"+uN)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return uG(t,"scroll-","scroll-snap-")+t}return t}(e.value,e.length,n);return;case uU:return de([u5(e,{value:uG(e.value,"@","@"+uD)})],r);case uF:if(e.length)return(n=e.props).map(function(t){switch(uH(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":u4(u5(e,{props:[uG(t,/:(read-\w+)/,":"+uM+"$1")]})),u4(u5(e,{props:[t]})),uj(e,{props:uX(n,r)});break;case"::placeholder":u4(u5(e,{props:[uG(t,/:(plac\w+)/,":"+uD+"input-$1")]})),u4(u5(e,{props:[uG(t,/:(plac\w+)/,":"+uM+"$1")]})),u4(u5(e,{props:[uG(t,/:(plac\w+)/,uN+"input-$1")]})),u4(u5(e,{props:[t]})),uj(e,{props:uX(n,r)})}return""}).join("")}}function dr(e,t,n,r,i,o,a,s,l,c,u,d){for(var p=i-1,h=0===i?o:[""],f=h.length,g=0,m=0,b=0;g<r;++g)for(var v=0,y=uW(e,p+1,p=uz(m=a[g])),E=e;v<f;++v)(E=(m>0?h[v]+" "+y:uG(y,/&\f/g,h[v])).trim())&&(l[b++]=E);return u3(e,t,n,0===i?uF:s,l,c,u,d)}function di(e,t,n,r,i){return u3(e,t,n,uB,uW(e,0,r),uW(e,r+1,-1),r,i)}var da={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ds=n(2433),dl=void 0!==ds&&void 0!==ds.env&&(ds.env.REACT_APP_SC_ATTR||ds.env.SC_ATTR)||"data-styled",dc="active",du="data-styled-version",dd="6.1.18",dp="/*!sc*/\n",dh="undefined"!=typeof window&&"undefined"!=typeof document,df=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==ds&&void 0!==ds.env&&void 0!==ds.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==ds.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==ds.env.REACT_APP_SC_DISABLE_SPEEDY&&ds.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==ds&&void 0!==ds.env&&void 0!==ds.env.SC_DISABLE_SPEEDY&&""!==ds.env.SC_DISABLE_SPEEDY&&"false"!==ds.env.SC_DISABLE_SPEEDY&&ds.env.SC_DISABLE_SPEEDY),dg={},dm=Object.freeze([]),db=Object.freeze({});function dv(e,t,n){return void 0===n&&(n=db),e.theme!==n.theme&&e.theme||t||n.theme}var dy=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),dE=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,d_=/(^-|-$)/g;function dT(e){return e.replace(dE,"-").replace(d_,"")}var dx=/(a)(d)/gi,dS=function(e){return String.fromCharCode(e+(e>25?39:97))};function dA(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=dS(t%52)+n;return(dS(t%52)+n).replace(dx,"$1-$2")}var dC,dw,dO,dI,dL,dR,dk,dN,dM,dD,dP,dF,dB,dU,dz,dZ,dj,dH,dG,dV,d$,dW,dY,dq,dX,dK,dQ,dJ,d0,d1,d2,d3,d5,d4,d6,d7,d8,d9,pe,pt,pn,pr,pi,po,pa,ps,pl,pc,pu,pd,pp,ph,pf,pg,pm,pb,pv,py,pE,p_,pT,px,pS,pA,pC,pw,pO,pI,pL,pR,pk=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},pN=function(e){return pk(5381,e)};function pM(e){return"string"==typeof e}var pD="function"==typeof Symbol&&Symbol.for,pP=pD?Symbol.for("react.memo"):60115,pF=pD?Symbol.for("react.forward_ref"):60112,pB={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},pU={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},pz={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pZ=((pR={})[pF]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},pR[pP]=pz,pR);function pj(e){return("type"in e&&e.type.$$typeof)===pP?pz:"$$typeof"in e?pZ[e.$$typeof]:pB}var pH=Object.defineProperty,pG=Object.getOwnPropertyNames,pV=Object.getOwnPropertySymbols,p$=Object.getOwnPropertyDescriptor,pW=Object.getPrototypeOf,pY=Object.prototype;function pq(e){return"function"==typeof e}function pX(e){return"object"==typeof e&&"styledComponentId"in e}function pK(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function pQ(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function pJ(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function p0(e,t){Object.defineProperty(e,"toString",{value:t})}function p1(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var p2=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw p1(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=(o=0,t.length);o<s;o++)this.tag.insertRule(a,t[o])&&(this.groupSizes[e]++,a++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+="".concat(this.tag.getRule(o)).concat(dp);return t},e}(),p3=new Map,p5=new Map,p4=1,p6=function(e){if(p3.has(e))return p3.get(e);for(;p5.has(p4);)p4++;var t=p4++;return p3.set(e,t),p5.set(t,e),t},p7=function(e,t){p4=t+1,p3.set(e,t),p5.set(t,e)},p8="style[".concat(dl,"][").concat(du,'="').concat(dd,'"]'),p9=new RegExp("^".concat(dl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),he=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},ht=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(dp),i=[],o=0,a=r.length;o<a;o++){var s=r[o].trim();if(s){var l=s.match(p9);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(p7(u,c),he(e,u,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(s)}}},hn=function(e){for(var t=document.querySelectorAll(p8),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(dl)!==dc&&(ht(e,i),i.parentNode&&i.parentNode.removeChild(i))}},hr=function(e){var t,r=document.head,i=e||r,o=document.createElement("style"),a=(t=Array.from(i.querySelectorAll("style[".concat(dl,"]"))))[t.length-1],s=void 0!==a?a.nextSibling:null;o.setAttribute(dl,dc),o.setAttribute(du,dd);var l=n.nc;return l&&o.setAttribute("nonce",l),i.insertBefore(o,s),o},hi=function(){function e(e){this.element=hr(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw p1(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),ho=function(){function e(e){this.element=hr(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),ha=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),hs=dh,hl={isServer:!dh,useCSSOMInjection:!df},hc=function(){function e(e,t,n){void 0===e&&(e=db),void 0===t&&(t={});var r=this;this.options=uI(uI({},hl),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&dh&&hs&&(hs=!1,hn(this)),p0(this,function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++)(function(n){var i=p5.get(n);if(void 0!==i){var o=e.names.get(i),a=t.getGroup(n);if(void 0!==o&&o.size&&0!==a.length){var s="".concat(dl,".g").concat(n,'[id="').concat(i,'"]'),l="";void 0!==o&&o.forEach(function(e){e.length>0&&(l+="".concat(e,","))}),r+="".concat(a).concat(s,'{content:"').concat(l,'"}').concat(dp)}}})(i);return r}(r)})}return e.registerId=function(e){return p6(e)},e.prototype.rehydrate=function(){!this.server&&dh&&hn(this)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(uI(uI({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){var e,t,n,r;return this.tag||(this.tag=(n=(t=this.options).useCSSOMInjection,r=t.target,e=t.isServer?new ha(r):n?new hi(r):new ho(r),new p2(e)))},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(p6(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(p6(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(p6(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),hu=/&/g,hd=/^\s*\/\/.*$/gm;function hp(e){var t,n,r,i=void 0===e?db:e,o=i.options,a=void 0===o?db:o,s=i.plugins,l=void 0===s?dm:s,c=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},u=l.slice();u.push(function(e){e.type===uF&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(hu,n).replace(r,c))}),a.prefix&&u.push(dn),u.push(dt);var d=function(e,i,o,s){void 0===i&&(i=""),void 0===o&&(o=""),void 0===s&&(s="&"),t=s,n=i,r=RegExp("\\".concat(n,"\\b"),"g");var l,c,d,p,h,f=e.replace(hd,""),g=(h=function e(t,n,r,i,o,a,s,l,c){for(var u,d=0,p=0,h=s,f=0,g=0,m=0,b=1,v=1,y=1,E=0,_="",x=o,S=a,A=i,C=_;v;)switch(m=E,E=u6()){case 40:if(108!=m&&58==u$(C,h-1)){-1!=uV(C+=uG(u9(E),"&","&\f"),"&\f",uz(d?l[d-1]:0))&&(y=-1);break}case 34:case 39:case 91:C+=u9(E);break;case 9:case 10:case 13:case 32:C+=function(e){for(;u1=u7();)if(u1<33)u6();else break;return u8(e)>2||u8(u1)>3?"":" "}(m);break;case 92:C+=function(e,t){for(var n;--t&&u6()&&!(u1<48)&&!(u1>102)&&(!(u1>57)||!(u1<65))&&(!(u1>70)||!(u1<97)););return n=u0+(t<6&&32==u7()&&32==u6()),uW(u2,e,n)}(u0-1,7);continue;case 47:switch(u7()){case 42:case 47:uq(u3(u=function(e,t){for(;u6();)if(e+u1===57)break;else if(e+u1===84&&47===u7())break;return"/*"+uW(u2,t,u0-1)+"*"+uZ(47===e?e:u6())}(u6(),u0),n,r,uP,uZ(u1),uW(u,2,-2),0,c),c);break;default:C+="/"}break;case 123*b:l[d++]=uY(C)*y;case 125*b:case 59:case 0:switch(E){case 0:case 125:v=0;case 59+p:-1==y&&(C=uG(C,/\f/g,"")),g>0&&uY(C)-h&&uq(g>32?di(C+";",i,r,h-1,c):di(uG(C," ","")+";",i,r,h-2,c),c);break;case 59:C+=";";default:if(uq(A=dr(C,n,r,d,p,o,l,_,x=[],S=[],h,a),a),123===E){if(0===p)e(C,n,A,A,x,a,h,l,S);else switch(99===f&&110===u$(C,3)?100:f){case 100:case 108:case 109:case 115:e(t,A,A,i&&uq(dr(t,A,A,0,0,o,l,_,o,x=[],h,S),S),o,S,h,l,i?x:S);break;default:e(C,A,A,A,[""],S,0,l,S)}}}d=p=g=0,b=y=1,_=C="",h=s;break;case 58:h=1+uY(C),g=m;default:if(b<1){if(123==E)--b;else if(125==E&&0==b++&&125==(u1=u0>0?u$(u2,--u0):0,uQ--,10===u1&&(uQ=1,uK--),u1))continue}switch(C+=uZ(E),E*b){case 38:y=p>0?1:(C+="\f",-1);break;case 44:l[d++]=(uY(C)-1)*y,y=1;break;case 64:45===u7()&&(C+=u9(u6())),f=u7(),p=h=uY(_=C+=function(e){for(;!u8(u7());)u6();return uW(u2,e,u0)}(u0)),E++;break;case 45:45===m&&2==uY(C)&&(b=0)}}return a}("",null,null,null,[""],(p=d=o||i?"".concat(o," ").concat(i," { ").concat(f," }"):f,uK=uQ=1,uJ=uY(u2=p),u0=0,d=[]),0,[0],d),u2="",h);a.namespace&&(g=function e(t,n){return t.map(function(t){return"rule"===t.type&&(t.value="".concat(n," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(n," ")),t.props=t.props.map(function(e){return"".concat(n," ").concat(e)})),Array.isArray(t.children)&&"@keyframes"!==t.type&&(t.children=e(t.children,n)),t})}(g,a.namespace));var m=[];return de(g,(c=(l=u.concat(function(e){var t;!e.root&&(e=e.return)&&(t=e,m.push(t))})).length,function(e,t,n,r){for(var i="",o=0;o<c;o++)i+=l[o](e,t,n,r)||"";return i})),m};return d.hash=l.length?l.reduce(function(e,t){return t.name||p1(15),pk(e,t.name)},5381).toString():"",d}var hh=new hc,hf=hp(),hg=C.createContext({shouldForwardProp:void 0,styleSheet:hh,stylis:hf}),hm=(hg.Consumer,C.createContext(void 0));function hb(){return(0,C.useContext)(hg)}function hv(e){var t=(0,C.useState)(e.stylisPlugins),n=t[0],r=t[1],i=hb().styleSheet,o=(0,C.useMemo)(function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t},[e.disableCSSOMInjection,e.sheet,e.target,i]),a=(0,C.useMemo)(function(){return hp({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})},[e.enableVendorPrefixes,e.namespace,n]);(0,C.useEffect)(function(){uk()(n,e.stylisPlugins)||r(e.stylisPlugins)},[e.stylisPlugins]);var s=(0,C.useMemo)(function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:o,stylis:a}},[e.shouldForwardProp,o,a]);return C.createElement(hg.Provider,{value:s},C.createElement(hm.Provider,{value:a},e.children))}var hy=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=hf);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,p0(this,function(){throw p1(12,String(n.name))})}return e.prototype.getName=function(e){return void 0===e&&(e=hf),this.name+e.hash},e}();function hE(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;r>="A"&&r<="Z"?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var h_=function(e){return null==e||!1===e||""===e},hT=function(e){var t=[];for(var n in e){var r=e[n];e.hasOwnProperty(n)&&!h_(r)&&(Array.isArray(r)&&r.isCss||pq(r)?t.push("".concat(hE(n),":"),r,";"):pJ(r)?t.push.apply(t,uL(uL(["".concat(n," {")],hT(r),!1),["}"],!1)):t.push("".concat(hE(n),": ").concat(null==r||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||n in da||n.startsWith("--")?String(r).trim():"".concat(r,"px"),";")))}return t};function hx(e,t,n,r){return h_(e)?[]:pX(e)?[".".concat(e.styledComponentId)]:pq(e)?!pq(e)||e.prototype&&e.prototype.isReactComponent||!t?[e]:hx(e(t),t,n,r):e instanceof hy?n?(e.inject(n,r),[e.getName(r)]):[e]:pJ(e)?hT(e):Array.isArray(e)?Array.prototype.concat.apply(dm,e.map(function(e){return hx(e,t,n,r)})):[e.toString()]}function hS(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(pq(n)&&!pX(n))return!1}return!0}var hA=pN(dd),hC=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&hS(e),this.componentId=t,this.baseHash=pk(hA,t),this.baseStyle=n,hc.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash){if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=pK(r,this.staticRulesId);else{var i=pQ(hx(this.rules,e,t,n)),o=dA(pk(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,o)){var a=n(i,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,a)}r=pK(r,o),this.staticRulesId=o}}else{for(var s=pk(this.baseHash,n.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var d=pQ(hx(u,e,t,n));s=pk(s,d+c),l+=d}}if(l){var p=dA(s>>>0);t.hasNameForId(this.componentId,p)||t.insertRules(this.componentId,p,n(l,".".concat(p),void 0,this.componentId)),r=pK(r,p)}}return r},e}(),hw=C.createContext(void 0);hw.Consumer;var hO={};function hI(e,t,n){var r,i,o,a,s=pX(e),l=!pM(e),c=t.attrs,u=void 0===c?dm:c,d=t.componentId,p=void 0===d?(r=t.displayName,i=t.parentComponentId,hO[o="string"!=typeof r?"sc":dT(r)]=(hO[o]||0)+1,a="".concat(o,"-").concat(dA(pN(dd+o+hO[o])>>>0)),i?"".concat(i,"-").concat(a):a):d,h=t.displayName,f=void 0===h?pM(e)?"styled.".concat(e):"Styled(".concat(e.displayName||e.name||"Component",")"):h,g=t.displayName&&t.componentId?"".concat(dT(t.displayName),"-").concat(t.componentId):t.componentId||p,m=s&&e.attrs?e.attrs.concat(u).filter(Boolean):u,b=t.shouldForwardProp;if(s&&e.shouldForwardProp){var v=e.shouldForwardProp;if(t.shouldForwardProp){var y=t.shouldForwardProp;b=function(e,t){return v(e,t)&&y(e,t)}}else b=v}var E=new hC(n,g,s?e.componentStyle:void 0);function _(e,t){return function(e,t,n){var r,i=e.attrs,o=e.componentStyle,a=e.defaultProps,s=e.foldedComponentIds,l=e.styledComponentId,c=e.target,u=C.useContext(hw),d=hb(),p=e.shouldForwardProp||d.shouldForwardProp,h=dv(t,u,a)||db,f=function(e,t,n){for(var r,i=uI(uI({},t),{className:void 0,theme:n}),o=0;o<e.length;o+=1){var a=pq(r=e[o])?r(i):r;for(var s in a)i[s]="className"===s?pK(i[s],a[s]):"style"===s?uI(uI({},i[s]),a[s]):a[s]}return t.className&&(i.className=pK(i.className,t.className)),i}(i,t,h),g=f.as||c,m={};for(var b in f)void 0===f[b]||"$"===b[0]||"as"===b||"theme"===b&&f.theme===h||("forwardedAs"===b?m.as=f.forwardedAs:p&&!p(b,g)||(m[b]=f[b]));var v=(r=hb(),o.generateAndInjectStyles(f,r.styleSheet,r.stylis)),y=pK(s,l);return v&&(y+=" "+v),f.className&&(y+=" "+f.className),m[pM(g)&&!dy.has(g)?"class":"className"]=y,n&&(m.ref=n),(0,C.createElement)(g,m)}(x,e,t)}_.displayName=f;var x=C.forwardRef(_);return x.attrs=m,x.componentStyle=E,x.displayName=f,x.shouldForwardProp=b,x.foldedComponentIds=s?pK(e.foldedComponentIds,e.styledComponentId):"",x.styledComponentId=g,x.target=s?e.target:e,Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=s?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)(function e(t,n,r){if(void 0===r&&(r=!1),!r&&!pJ(t)&&!Array.isArray(t))return n;if(Array.isArray(n))for(var i=0;i<n.length;i++)t[i]=e(t[i],n[i]);else if(pJ(n))for(var i in n)t[i]=e(t[i],n[i]);return t})(e,t[r],!0);return e}({},e.defaultProps,t):t}}),p0(x,function(){return".".concat(x.styledComponentId)}),l&&function e(t,n,r){if("string"!=typeof n){if(pY){var i=pW(n);i&&i!==pY&&e(t,i,r)}var o=pG(n);pV&&(o=o.concat(pV(n)));for(var a=pj(t),s=pj(n),l=0;l<o.length;++l){var c=o[l];if(!(c in pU||r&&r[c]||s&&c in s||a&&c in a)){var u=p$(n,c);try{pH(t,c,u)}catch(e){}}}}return t}(x,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),x}function hL(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var hR=function(e){return Object.assign(e,{isCss:!0})};function hk(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return pq(e)||pJ(e)?hR(hx(hL(dm,uL([e],t,!0)))):0===t.length&&1===e.length&&"string"==typeof e[0]?hx(e):hR(hx(hL(e,t)))}var hN=function(e){return function e(t,n,r){if(void 0===r&&(r=db),!n)throw p1(1,n);var i=function(e){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return t(n,r,hk.apply(void 0,uL([e],i,!1)))};return i.attrs=function(i){return e(t,n,uI(uI({},r),{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i.withConfig=function(i){return e(t,n,uI(uI({},r),i))},i}(hI,e)};dy.forEach(function(e){hN[e]=hN(e)});var hM=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=hS(e),hc.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,n,r){var i=r(pQ(hx(this.rules,t,n,r)),""),o=this.componentId+e;n.insertRules(o,o,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&hc.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var r=n.nc,i=pQ([r&&'nonce="'.concat(r,'"'),"".concat(dl,'="true"'),"".concat(du,'="').concat(dd,'"')].filter(Boolean)," ");return"<style ".concat(i,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw p1(2);return e._emitSheetCSS()},this.getStyleElement=function(){if(e.sealed)throw p1(2);var t,r=e.instance.toString();if(!r)return[];var i=((t={})[dl]="",t[du]=dd,t.dangerouslySetInnerHTML={__html:r},t),o=n.nc;return o&&(i.nonce=o),[C.createElement("style",uI({},i,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new hc({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw p1(2);return C.createElement(hv,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw p1(3)}}();let hD=hN.div`
  ${({$placement:e})=>{switch(e){case"top":return"transform: translate(-50%, -100%); flex-direction: column-reverse;";case"right":return"transform: translate(0, -50%);";case"left":return"transform: translate(-100%, -50%); flex-direction: row-reverse;";default:return"transform: translate(-50%, 0); flex-direction: column;"}}}

  .arrow-count-icon-bar {
    ${({$placement:e})=>"top"===e||"bottom"===e?"width: 3px; height: 8px; margin: 0 7px;":"width: 8px; height: 3px; margin: 7px 0;"}
    background-color: ${({$color:e})=>e};
  }

  .arrow-count-icon-circle {
    width: 16px;
    height: 16px;
    color: #fff;
    font-weight: 600;
    font-size: 10px;
    line-height: ${({$isCollapsed:e})=>e?"16px":"14px"};
    text-align: center;
    background-color: ${({$color:e})=>e};
    border-radius: 50%;
  }

  .arrow-count-icon-circle-arrow {
    width: 16px;
    height: 16px;
    transform: ${({$isCollapsed:e,$placement:t})=>{if(e)return"none";switch(t){case"top":return"translateY(1px) rotate(-90deg)";case"right":return"translateX(-1px) rotate(0deg)";case"left":return"translateX(1px) rotate(180deg)";default:return"translateY(-1px) rotate(90deg)"}}};
  }

  display: ${({$isCollapsed:e})=>e?"flex":"none"};

  .collapsible-node-wrapper:hover & {
    display: flex;
  }
`,hP=e=>{let{className:t,style:n,graph:r,data:i,isCollapsed:o,countType:a="descendant",placement:s="bottom"}=e,l=r.getNodeData(i.id).style?.color||"#99ADD1",c=("descendant"===a?r.getDescendantsData(i.id):r.getChildrenData(i.id)).length;return C.createElement(hD,{$color:l,$isCollapsed:o,$placement:s,className:`arrow-count-icon ${o?"arrow-count-icon-collapsed":""} ${t||""}`,style:n},C.createElement("div",{className:"arrow-count-icon-bar"}),C.createElement("div",{className:"arrow-count-icon-circle"},o?c:C.createElement("div",{className:"arrow-count-icon-circle-arrow"},C.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},C.createElement("path",{d:"M11,4 L5.5,8 L11,12",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})))))},hF=hN.div`
  height: 16px;
  width: 16px;
  transform: translate(-50%, -50%);
  background: #fff;
  border-radius: 50%;
  border: 2px solid #99add1;
  color: #99add1;
  font-weight: 800;
  line-height: 14px;
  text-align: center;
  box-sizing: content-box;
`,hB=e=>{let{isCollapsed:t,style:n,className:r}=e;return C.createElement(hF,{className:r,style:n},t?"+":"-")};hN.div`
  height: inherit;
  width: inherit;
  border-radius: 8px;
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.12), 0 2px 4px 0 rgba(0, 0, 0, 0.1);
  position: relative;
  border: none;
  background-color: #fff;
  box-sizing: content-box;

  ${e=>e.$isActive&&hk`
      transform: translate(-3px, -3px);
      border: 2px solid #1783ff;
    `}

  .org-chart-node-line {
    width: 100%;
    height: 6px;
    background-color: ${e=>e.$color};
    border-radius: 8px 8px 0 0;
  }

  .org-chart-node-content {
    height: calc(100% - 6px);
    margin: 0 16px 3px;
    display: flex;
    align-items: center;

    &-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      margin-right: 16px;
      background-color: ${e=>e.$color};
      font-weight: 600;
      font-size: 18px;
      text-align: center;
      line-height: 40px;
      color: #fff;
    }

    &-detail {
      width: calc(100% - 56px);
    }

    &-name {
      color: #242424;
      font-weight: 600;
      font-size: 18px;
      margin-bottom: 5px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    &-post {
      color: #616161;
      font-size: 14px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
  }
`;var hU=function(){return(hU=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},hz=hU({},uv),hZ=hz.version;hz.render,hz.unmountComponentAtNode;try{Number((hZ||"").split(".")[0])>=18&&hz.createRoot}catch(e){}var hj=new Map;"undefined"!=typeof document&&hj.set("tooltip",document.createElement("div"));var hH=function(e){if("undefined"==typeof document)return"loading";var t=e.attachShadow({mode:"open"}),n=document.createElement("div"),r=document.createElement("style");r.innerHTML=".loading {\n    display: inline-block;\n    position: relative;\n    width: 80px;\n    height: 80px;\n  }\n  .loading div {\n    position: absolute;\n    top: 33px;\n    width: 13px;\n    height: 13px;\n    border-radius: 50%;\n    background: #ccc;\n    animation-timing-function: cubic-bezier(0, 1, 1, 0);\n  }\n  .loading div:nth-child(1) {\n    left: 8px;\n    animation: loading1 0.6s infinite;\n  }\n  .loading div:nth-child(2) {\n    left: 8px;\n    animation: loading2 0.6s infinite;\n  }\n  .loading div:nth-child(3) {\n    left: 32px;\n    animation: loading2 0.6s infinite;\n  }\n  .loading div:nth-child(4) {\n    left: 56px;\n    animation: loading3 0.6s infinite;\n  }\n  @keyframes loading1 {\n    0% {\n      transform: scale(0);\n    }\n    100% {\n      transform: scale(1);\n    }\n  }\n  @keyframes loading3 {\n    0% {\n      transform: scale(1);\n    }\n    100% {\n      transform: scale(0);\n    }\n  }\n  @keyframes loading2 {\n    0% {\n      transform: translate(0, 0);\n    }\n    100% {\n      transform: translate(24px, 0);\n    }\n  }\n  ",n.classList.add("loading"),n.innerHTML="<div></div><div></div><div></div><div></div>",t.appendChild(r),t.appendChild(n)},hG=function(e){var t=e.loadingTemplate,n=e.theme,r=C.useRef(null);return C.useEffect(function(){!t&&r.current&&hH(r.current)},[]),C.createElement("div",{className:"charts-loading-container",style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:"dark"===(void 0===n?"light":n)?"rgb(20, 20, 20)":"rgb(255, 255, 255)"}},t||C.createElement("div",{ref:r}))},hV=(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h$=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasError:!1},t.renderError=function(e){var n=t.props.errorTemplate;return"function"==typeof n?n(e):n||C.createElement("h5",null,"组件出错了，请核查后重试： ",e.message)},t}return hV(t,e),t.getDerivedStateFromError=function(e){return{hasError:!0,error:e}},t.getDerivedStateFromProps=function(e,t){return t.children!==e.children?{children:e.children,hasError:!1,error:void 0}:null},t.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):C.createElement(C.Fragment,null,this.props.children)},t}(C.Component),hW=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},hY=(0,A.memoize)(function(e,t){void 0===t&&(t={});var n=t.fontSize,r=t.fontFamily,i=t.fontWeight,o=t.fontStyle,a=t.fontVariant,s=(h||(h=document.createElement("canvas").getContext("2d")),h);return s.font=[o,i,a,"".concat(n,"px"),void 0===r?"sans-serif":r].join(" "),s.measureText((0,A.isString)(e)?e:"")},function(e,t){return void 0===t&&(t={}),hW([e],(0,A.values)(t),!0).join("")}),hq=function(e,t){return void 0===t&&(t={}),hY(e,t).width},hX=function(e,t){void 0===t&&(t={});var n=hY(e,t);return n.actualBoundingBoxAscent+n.actualBoundingBoxDescent};let hK=hN.div`
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow-wrap: anywhere;
  line-height: 1.5em;
  text-align: center;
  height: inherit;
  width: inherit;
  box-sizing: content-box;
  font-size: 14px;

  ${({$type:e,$color:t,$borderWidth:n})=>{switch(e){case"normal":return`
          color: ${t};
        `;case"filled":return hk`
          color: #fff;
          background-color: ${t};
          border-radius: 8px;
        `;case"outlined":return hk`
          height: calc(100% - 2 * ${n}px);
          width: calc(100% - 2 * ${n}px);
          color: ${t};
          background-color: #fff;
          border: ${n}px solid ${t};
          border-radius: 8px;
        `;case"underlined":return hk`
          height: calc(100% - ${n}px / 2);
          width: inherit;
          border-bottom: ${n}px solid ${t};
          background-color: #fff;
          color: ${t};
        `}}}

  ${({$isActive:e,$isSelected:t,$borderWidth:n,$color:r})=>{let i,o,a;return(e||t)&&hk`
      height: calc(100% - 2 * ${n}px);
      width: calc(100% - 2 * ${n}px);
      border: ${n}px solid ${function(e,t){let n=0,r=0,i=0;4===e.length?(n=parseInt(e[1]+e[1],16),r=parseInt(e[2]+e[2],16),i=parseInt(e[3]+e[3],16)):7===e.length&&(n=parseInt(e[1]+e[2],16),r=parseInt(e[3]+e[4],16),i=parseInt(e[5]+e[6],16)),n=Math.max(0,n-t),r=Math.max(0,r-t),i=Math.max(0,i-t);let o=e=>e.toString(16).padStart(2,"0");return`#${o(n)}${o(r)}${o(i)}`}(r,100)};
      ${t&&`box-shadow: 0 0 0 2px ${i=0,o=0,a=0,4===r.length?(i=parseInt(r[1]+r[1],16),o=parseInt(r[2]+r[2],16),a=parseInt(r[3]+r[3],16)):7===r.length&&(i=parseInt(r[1]+r[2],16),o=parseInt(r[3]+r[4],16),a=parseInt(r[5]+r[6],16)),`rgba(${i}, ${o}, ${a}, 0.1)`};`}
    `}}
`,hQ=e=>{let{className:t,style:n={},type:r="normal",text:i="",font:o,color:a="#1783ff",borderWidth:s=3,maxWidth:l=1/0,isActive:c=!1,isSelected:u=!1}=e,d=hq(i,o)>l;return C.createElement(hK,{$type:r,$color:a,$borderWidth:s,$isActive:c,$isSelected:u,className:`text-node text-node-${r} ${t||""}`,style:{...n,...o}},C.createElement("div",{style:d?{width:"calc(100% - 12px)"}:{}},i))},hJ=hN.div`
  position: relative;
  height: inherit;
  width: inherit;
`,h0=hN.div`
  position: absolute;
  z-index: 10;

  &:hover {
    cursor: pointer;
  }

  ${({$placement:e,$offsetX:t,$offsetY:n})=>{let r={top:`left: calc(50% + ${t}px); top: ${n}px;`,bottom:`left: calc(50% + ${t}px); top: calc(100% + ${n}px);`,right:`left: calc(100% + ${t}px); top: calc(50% + ${n}px);`,left:`left: ${t}px; top: calc(50% + ${n}px);`};return hk`
      ${r[e]}
    `}}
`,h1=e=>t=>{let{data:n,graph:r,trigger:i,iconRender:o,iconPlacement:a,iconOffsetX:s,iconOffsetY:l,iconClassName:c,iconStyle:u,refreshLayout:d}=t,[p,h]=(0,C.useState)((0,A.get)(n,"style.collapsed",!1)),f=(0,C.useRef)(null),g=(0,C.useRef)(null),m="icon"===i&&!(0,A.isEmpty)(n.children),b=async e=>{e.stopPropagation();let t=p?"expandElement":"collapseElement";await r[t](ih(n)),h(e=>!e),d&&await r.layout()};(0,C.useEffect)(()=>{let e="icon"===i?g.current:"node"===i?f.current:i;return e?.addEventListener("click",b),()=>{e?.removeEventListener("click",b)}},[i,p]);let v=e=>"function"==typeof e?e.call(r,n):e;return C.createElement(hJ,{ref:f,className:"collapsible-node-wrapper"},m&&C.createElement(h0,{ref:g,$placement:v(a),$offsetX:v(s),$offsetY:v(l),className:c,style:u},o?.call(r,p,n)),e.call(r,n))},h2=(e,t,n)=>{let r=(n=!1)=>{let[r,i]=n?["target","source"]:["source","target"];return t.filter(t=>t[r]===e).map(e=>e[i])};return"out"===n?r():"in"===n?r(!0):r().concat(r(!0))},h3={nodes:[],edges:[]};function h5(e){if("object"!=typeof e||null===e||!Object.keys(e).every(e=>["nodes","edges","combos"].includes(e)))return!1;let{nodes:t=[],edges:n=[],combos:r=[]}=e;if(!Array.isArray(t)||!Array.isArray(n)||!Array.isArray(r))return!1;let i=new Set(t.map(e=>e.id));return!!(t.every(e=>"object"==typeof e&&null!==e&&"id"in e)&&n.every(e=>i.has(e.source)&&i.has(e.target)))}function h4(e,t){if(!e)return h3;let n=h5(e)?function(e){if(!h5(e))return;let{nodes:t=[],edges:n=[]}=e,r=Object.fromEntries(t.map(e=>[e.id,e])),i=Object.fromEntries(t.map(e=>[e.id,0])),o=Object.fromEntries(t.map(e=>[e.id,[]]));for(let{source:e,target:t}of n)o[e].push(t),i[t]=(i[t]||0)+1;let a=Object.entries(i).filter(([e,t])=>0===t).map(([e])=>e);if(1!==a.length)return;let s=e=>{let t=r[e];return{...t,children:o[e].map(s)}};return s(a[0])}(e):e;return n?!function e(t){if("object"!=typeof t||null===t||!("id"in t))return!1;if("children"in t){if(!Array.isArray(t.children))return!1;for(let n of t.children)if(!e(n))return!1}return!0}(n)?h3:ur(n,{getNodeData:(e,n)=>{if(e.depth=n,e.style||={},t&&(e.style.collapsed=n>=t),!e.children)return e;let{children:r,...i}=e;return{...i,children:r.map(e=>e.id)}}}):h3}let{PlusMinusIcon:h6}=y;class h7 extends cc{static defaultOptions={enable:!0,trigger:"icon",direction:"out",iconRender:e=>C.createElement(h6,{isCollapsed:e}),iconPlacement:"bottom",iconOffsetX:0,iconOffsetY:0,iconClassName:"",iconStyle:{},refreshLayout:!1};constructor(e,t){super(e,Object.assign({},h7.defaultOptions,t))}afterLayout(){let{graph:e,element:t,model:n}=this.context,{nodes:r=[],edges:i=[]}=e.getData(),{enable:o,...a}=this.options;r.forEach(e=>{let r=ih(e),o=t.getElement(r);if(!o||e.children&&e.children.length>0)return;let a=h2(r,i,this.options.direction);0!==a.length&&n.updateNodeData([{id:r,children:a}])});let s=e.getOptions().node;if((0,A.has)(s,"style.component")){let t=(0,A.get)(s,"style.component");(0,A.set)(s,"style.component",n=>{if(!("function"==typeof o?o(n):o))return t.call(e,n);let r=h1(t);return C.createElement(r,{data:n,graph:e,...a})})}e.setNode(s),e.draw()}}let h8=(e,t,n)=>{let[r,i]=t,[o,a]=n;return i===r?o:o+(e-r)/(i-r)*(a-o)},h9=(e,t,n)=>{let[r,i]=t,[o,a]=n,s=Math.log(e-r+1)/Math.log(i-r+1);return o+s*(a-o)},fe=(e,t,n,r=2)=>{let[i,o]=t,[a,s]=n,l=Math.pow((e-i)/(o-i),r);return a+l*(s-a)},ft=(e,t,n)=>{let[r,i]=t,[o,a]=n,s=Math.sqrt((e-r)/(i-r));return o+s*(a-o)};class fn extends cc{static defaultOptions={minValue:(e,t)=>Math.min(...Object.values(t)),maxValue:(e,t)=>Math.max(...Object.values(t)),minLineWidth:1,maxLineWidth:10,scale:"linear"};constructor(e,t){super(e,Object.assign({},fn.defaultOptions,t))}beforeDraw(e){let{maxValue:t,minValue:n,maxLineWidth:r,minLineWidth:i,scale:o,value:a}=this.options,s=this.context.model.getEdgeData(),l="function"==typeof a?a:()=>a,c=Object.fromEntries(s.map(e=>[ih(e),l(e)])),{add:{edges:u},update:{edges:d}}=e;return[...u.values(),...d.values()].forEach(e=>{let a=this.assignLineWidthByValue(c[ih(e)]||0,"function"==typeof n?n(e,c):n,"function"==typeof t?t(e,c):t,"function"==typeof i?i(e):i,"function"==typeof r?r(e):r,o);e.style||={},e.style.lineWidth=a}),e}assignLineWidthByValue=(e,t,n,r,i,o)=>{let a=[t,n],s=[r,i];if(e<t||e>n||t===n)return s[0];if("function"==typeof o)return o(e,a,s);switch(o){case"linear":return h8(e,a,s);case"log":return h9(e,a,s);case"pow":return fe(e,a,s,2);case"sqrt":return ft(e,a,s);default:return s[0]}}}Object.entries({node:{react:class extends o2{getKeyStyle(e){return Object.assign({},super.getKeyStyle(e))}constructor(e){super(e)}update(e){super.update(e)}connectedCallback(){super.connectedCallback();let{component:e}=this.attributes;uw(e,this.getDomElement())}attributeChangedCallback(e,t,n){super.attributeChangedCallback(e,t,n),"component"===e&&t!==n&&uw(this.attributes.component,this.getDomElement())}destroy(){!function(e){uy(this,void 0,void 0,function*(){if(yield uS(),i)return function(e){return uy(this,void 0,void 0,function*(){return Promise.resolve().then(()=>{var t;null===(t=e[uC])||void 0===t||t.unmount(),delete e[uC]})})}(e);ux(e)})}(this.getDomElement()),super.destroy()}}},edge:{indented:class extends aH{getControlPoints(e){let[t,n]=this.getEndpoints(e,!1),[r]=t,[,i]=n;return[[r,i]]}}},behavior:{"hover-activate-neighbors":class extends sm{getActiveIds(e){let{model:t,graph:n}=this.context,r=e.target.id,i=n.getElementType(r),o=[r];if("edge"===i){let e=t.getEdgeDatum(r);o.push(e.source,e.target)}else"node"===i&&o.push(...t.getRelatedEdgesData(r).map(ih));return n.frontElement(o),o}},"hover-activate-chain":class extends sm{getActiveIds(e){let{model:t,graph:n}=this.context,r=e.target.id,i=n.getElementType(r),o=[r];if("edge"===i){let e=t.getEdgeDatum(r);this.collectChainNodes(e.source,"in",o),this.collectChainNodes(e.target,"out",o)}else"node"===i&&this.collectChainNodes(r,"both",o);return n.frontElement(o),o}collectChainNodes(e,t,n){let{model:r}=this.context,i=r.getRelatedEdgesData(e,t);i.forEach(e=>{n.includes(ih(e))||n.push(ih(e)),n.includes(e.source)||(n.push(e.source),this.collectChainNodes(e.source,"in",n)),n.includes(e.target)||(n.push(e.target),this.collectChainNodes(e.target,"out",n))})}}},transform:{"translate-react-node-origin":class extends cc{beforeDraw(e){let{graph:t,element:n}=this.context,{add:{nodes:r},update:{nodes:i}}=e;return[...r.values(),...i.values()].forEach(e=>{n.computeElementDefaultStyle("node",{graph:t,datum:e});let r=n.getDefaultStyle(e.id),[i,o]=om(r.size);e.style||(e.style={}),e.style.dx=-i/2,e.style.dy=-o/2}),e}},"collapse-expand-react-node":h7,"assign-color-by-branch":uO,"map-edge-line-width":fn,"arrange-edge-z-index":class extends cc{beforeDraw(e){let{model:t}=this.context,{nodes:n,edges:r}=t.getData(),i=n.filter(e=>1===e.depth),o=i.map(e=>e.id);return r.forEach(e=>{o.includes(e.target)&&(e.style||={},e.style.zIndex=i.length-i.findIndex(t=>t.id===e.target))}),e}}}}).forEach(([e,t])=>{Object.entries(t).forEach(([t,n])=>{cf(e,t,n)})});var fr=C.createContext({graph:null,isReady:!1}),fi=function(){return(fi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},fo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},fa=function(){return(fa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},fs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},fl=(0,C.forwardRef)(function(e,t){var n,r,i,o,a,s,l,c,u,d,p=e.style,h=e.children,f=(r=(n=fs(e,["style","children"])).onInit,i=n.onReady,o=n.onDestroy,a=n.options,l=(s=fo((0,C.useState)(!1),2))[0],c=s[1],u=(0,C.useRef)(null),d=(0,C.useRef)(null),(0,C.useEffect)(function(){if(!u.current&&d.current){var e=new ut(fi({container:d.current},a));return u.current=e,c(!0),null==r||r(u.current),function(){var e=u.current;e&&(e.destroy(),null==o||o(),u.current=null)}}},[]),(0,C.useEffect)(function(){var e=d.current,t=u.current;a&&e&&t&&!t.destroyed&&(t.setOptions(a),t.render().then(function(){return null==i?void 0:i(t)}))},[a]),{graph:u.current,containerRef:d,isReady:l}),g=f.graph,m=f.containerRef,b=f.isReady;(0,C.useImperativeHandle)(t,function(){return g},[g]);var v=fa({height:"inherit",position:"relative"},p);return h?C.createElement(fr.Provider,{value:{graph:g,isReady:b}},C.createElement("div",{ref:m,style:v},b&&h)):C.createElement("div",{ref:m,style:v})}),fc=(0,C.memo)(fl);let fu=(0,C.forwardRef)(({children:e,...t},n)=>{let{containerStyle:r,className:i,onInit:o,onReady:a,onDestroy:s,errorTemplate:l,loading:c,loadingTemplate:u,...d}=t,p=(0,C.useRef)(null);return(0,C.useImperativeHandle)(n,()=>p.current),C.createElement(h$,{errorTemplate:l},c&&C.createElement(hG,{loadingTemplate:u}),!(0,A.isEmpty)(d.data)&&C.createElement(fc,{ref:e=>{p.current=e},className:i,style:r,options:d,onInit:o,onReady:a,onDestroy:s},e))}),fd={autoResize:!0,behaviors:[{key:"zoom-canvas",type:"zoom-canvas"},{key:"drag-canvas",type:"drag-canvas"}]};function fp(...e){if(0===e.length)return{};let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let e in r)if(r.hasOwnProperty(e)){let n=r[e],i=t[e];["component","data"].includes(e)?t[e]=n:"function"==typeof n?["plugins","behaviors","transforms"].includes(e)?t[e]=n(i||[]):t[e]=function(e){let t=n.call(this,e);return(0,A.isPlainObject)(t)?fp(i,t):t}:(0,A.isPlainObject)(n)&&(0,A.isPlainObject)(i)?t[e]=fp(i,n):t[e]=n}}return t}let fh={node:{type:"circle",style:{labelText:e=>e.id}}},ff=({direction:e,compact:t})=>{let n=e=>(0,A.isEmpty)(e.children),r=t?"compact-box":"dendrogram";return"vertical"===e?{node:{style:{labelBackground:!0,labelPlacement:"right",labelTransform:e=>n(e)?"rotate(90deg) translate(18px)":"translate(18px)",ports:[{placement:"top"},{placement:"bottom"}]}},edge:{type:"cubic-vertical"},layout:{type:r,direction:"TB",nodeSep:40,rankSep:140,getVGap:()=>80,getHGap:()=>20}}:"horizontal"===e?{node:{style:{labelBackground:!0,labelPlacement:e=>n(e)?"right":"left",ports:[{placement:"left"},{placement:"right"}]}},edge:{type:"cubic-horizontal"},layout:{type:r,direction:"LR",nodeSep:40,rankSep:200,getVGap:()=>5,getHGap:()=>100}}:{node:{style:{labelBackground:!0}},edge:{type:"cubic-radial"},layout:{type:r,direction:"RL",radial:!0,nodeSep:40,rankSep:200,getVGap:()=>30,getHGap:()=>60},transforms:e=>[...e,"place-radial-labels"]}};function fg(e,t){let n=t?"function"==typeof t?t(e):(0,A.get)(e,`data.${t}`,e.id):e.id;return String(n)}function fm(e,t=[0,0],n={fontSize:16,fontFamily:"PingFang SC"},r=0,i=1/0){let o=hX(e,n),a=hq(e,n)+4,s=i===1/0?1:Math.ceil(a/i),[l,c]=t;return[Math.max(r,Math.min(i,a))+l,c+o+1.5*o*(s-1)]}(0,C.forwardRef)(({children:e,...t},n)=>{let r=(0,C.useMemo)(()=>{let{data:e,defaultExpandLevel:n,direction:r="horizontal",compact:i=!1,...o}=t;return fp(fd,fh,{data:h4(e,n)},ff({direction:r,compact:i}),o)},[t]);return C.createElement(fu,{...r,ref:n},e)});let fb={node:{style:{size:10,labelPlacement:"center"}},edge:{type:"polyline"},layout:{type:"fishbone",hGap:40,vGap:60},animation:!1},fv="system-ui, sans-serif",fy=(e,t)=>0===t?fm(e,[80,48],{fontSize:24,fontWeight:600,fontFamily:fv}):1===t?fm(e,[80,30],{fontSize:18,fontFamily:fv}):[2,30],fE=e=>{let t=e.depth;return 0===t?"#EFF0F0":1===t?e.style?.color||"#EFF0F0":"transparent"};(0,C.forwardRef)(({children:e,...t},n)=>{let{data:r,defaultExpandLevel:i,type:o="cause",labelField:a,...s}=t,l=(0,C.useMemo)(()=>fp(fd,fb,{data:h4(r)},function({type:e,labelField:t}){let n={node:{type:"rect",style:{fill:e=>fE(e),labelFill:e=>1===e.depth?"#fff":"#262626",labelFillOpacity:1,labelFontSize:e=>0===e.depth?24:1===e.depth?18:16,labelFontWeight:e=>0===e.depth?600:400,labelLineHeight:e=>0===e.depth?26:1===e.depth?20:18,labelText:e=>fg(e,t),radius:8,size:e=>fy(e.id,e.depth)}},edge:{type:"polyline",style:{lineWidth:3,stroke:function(e){let t=this.getNodeData(e.target);return(0,A.get)(t,"style.color","#99ADD1")}}},transforms:e=>[...e,{type:"assign-color-by-branch",key:"assign-color-by-branch"},{type:"arrange-edge-z-index",key:"arrange-edge-z-index"}]};return n.layout||={},"decision"===e?(n.node.style.labelPlacement=e=>0===e.depth||1===e.depth?"center":"right",Object.assign(n.layout,{direction:"LR"})):"cause"===e&&(n.node.style.labelPlacement=e=>0===e.depth||1===e.depth?"center":"left",Object.assign(n.layout,{direction:"RL"})),n}({type:o,labelField:a}),s),[t]);return C.createElement(fu,{...l,ref:n},e)});let{TextNode:f_}=E,fT={node:{type:"react",state:{active:{halo:!1},selected:{halo:!1}}},edge:{type:"cubic-horizontal",style:{strokeOpacity:.5},state:{active:{strokeOpacity:1}}},layout:{type:"dagre",rankdir:"LR",animation:!1},transforms:["translate-react-node-origin"]},fx=({labelField:e})=>({node:{style:{component:t=>{let n=fg(t,e);return C.createElement(f_,{type:"filled",text:n})},size:[100,40],ports:[{placement:"left"},{placement:"right"}]}}});(0,C.forwardRef)(({children:e,...t},n)=>{let{labelField:r,...i}=t,o=(0,C.useMemo)(()=>fp(fd,fT,fx({labelField:r}),i),[t]);return C.createElement(fu,{...o,ref:n},e)});let{TextNode:fS}=E,fA={node:{type:"react",state:{active:{halo:!1},selected:{halo:!1}}},edge:{type:"polyline",style:{lineWidth:2,endArrow:!0,radius:8,router:{type:"orth"}}},layout:{type:"dagre",animation:!1},transforms:["translate-react-node-origin"]},fC=({direction:e,labelField:t})=>({node:{style:{component:e=>{let n=fg(e,t);return C.createElement(fS,{type:"filled",text:n})},size:[100,40],ports:"vertical"===e?[{placement:"top"},{placement:"bottom"}]:[{placement:"left"},{placement:"right"}]}},layout:{type:"dagre",rankdir:"vertical"===e?"TB":"LR"}}),fw=(0,C.forwardRef)(({children:e,...t},n)=>{let r=(0,C.useMemo)(()=>{let{direction:e="horizontal",labelField:n,...r}=t;return fp(fd,fA,fC({direction:e,labelField:n}),r)},[t]);return C.createElement(fu,{...r,ref:n},e)}),fO=(0,A.memoize)((e,t)=>{if(!t)return"center";let n=iY(e)[0],r=iY(t)[0];return r>n?"left":"right"},(e,t)=>t?[iY(e),iY(t)].flat().join("-"):"center"),fI=(e,t)=>{let n=e.getParentData(ih(t),"tree");return fO(t,n)},fL=(0,A.memoize)((e,t,n,r=0)=>{let i={fontWeight:0===r?600:400,fontSize:0===r?24:16},o=fm(e,0===r?[64,30]:[12,12],i,t,n);return{font:i,size:o}}),fR=(0,A.memoize)((e,t,n,r=0)=>{let i={fontWeight:0===r||1===r?600:400,fontSize:0===r?24:16},o=fm(e,0===r?[64,30]:[36,24],i,t,n);return{font:i,size:o}}),{ArrowCountIcon:fk}=y,{TextNode:fN}=E,fM={node:{type:"react",state:{active:{halo:!1},selected:{halo:!1}}},edge:{type:"indented",style:{lineWidth:3}},transforms:e=>[...e,{type:"collapse-expand-react-node",key:"collapse-expand-react-node",enable:!1,trigger:"icon",iconRender:function(e,t){return C.createElement(fk,{graph:this,data:t,isCollapsed:e})}}],layout:{type:"indented",direction:"LR",indent:e=>fD(e,20),getVGap:()=>14,preLayout:!1},animation:{duration:500}},fD=(e,t)=>{if(0===e.depth)return 0;let n=t,r=e.parent;for(;r;)n+=r.width/2,r=r.parent;return n/e.depth},fP=(e,t)=>{let n=fI(e,t);return"left"===n?"right":"center"===n?"center":"left"},fF=({type:e,nodeMinWidth:t,nodeMaxWidth:n,direction:r,labelField:i})=>{let o={},a=t||0,s=n||300;if("boxed"===e)o={node:{style:{component:function(e){let t=e.depth,n=e.style?.color,r=fg(e,i),{font:o}=fR(r,a,s,t),l={type:0===t||1===t?"filled":"outlined",text:r,color:0===t?"#f1f4f5":n,maxWidth:s,font:o,style:{textAlign:fP(this,e),...0===t?{color:"#252525"}:{}}};return C.createElement(fN,{...l})},size:e=>{let t=fg(e,i);return fR(t,a,s,e.depth).size}}},edge:{style:{stroke:function(e){let t=this.getNodeData(e.source);return(0,A.get)(t,"style.color","#99ADD1")},radius:16}},transforms:e=>[...e,{type:"assign-color-by-branch",key:"assign-color-by-branch"}],layout:{type:"indented",getWidth:e=>{let t=fg(e,i),[n]=fR(t,a,s,e.depth).size;return n},getHeight:e=>{let t=fg(e,i),[,n]=fR(t,a,s,e.depth).size;return n}}};else if("linear"===e)o={node:{style:{component:function(e){let t=e.depth,n=e.style?.color,r=fg(e,i),{font:o}=fL(r,a,s,t),l={text:r,color:n,maxWidth:s,font:o};return Object.assign(l,0===t?{type:"filled",color:"#f1f4f5",style:{color:"#252525"}}:{type:"underlined",style:{textAlign:fP(this,e)}}),C.createElement(fN,{...l})},size:e=>{let t=fg(e,i);return fL(t,a,s,e.depth).size},ports:function(e){let t=fI(this,e);return"left"===t?[{placement:"bottom"},{placement:"bottom-right"}]:"center"===t?[{placement:"bottom"}]:[{placement:"bottom"},{placement:"bottom-left"}]}}},edge:{style:{stroke:function(e){let t=this.getNodeData(e.target);return(0,A.get)(t,"style.color","#99ADD1")},radius:24}},layout:{type:"indented",getWidth:e=>{let t=fg(e,i),[n]=fL(t,a,s,e.depth).size;return n},getHeight:e=>{let t=fg(e,i),[,n]=fL(t,a,s,e.depth).size;return n},getVGap:()=>12},transforms:e=>[...e,{type:"assign-color-by-branch",key:"assign-color-by-branch"},{type:"arrange-edge-z-index",key:"arrange-edge-z-index"}]};else{let e=[24,16];o={node:{style:{component:e=>{let t=fg(e,i);return C.createElement(fN,{type:"filled",text:t})},size:t=>{let n=fg(t,i);return fm(n,e)}}},layout:{type:"indented",getWidth:t=>{let n=fg(t,i),[r]=fm(n,e);return r},getHeight:t=>{let n=fg(t,i),[,r]=fm(n,e);return r}}}}return r&&(o.layout||={},Object.assign(o.layout,{direction:"alternate"===r?"H":"left"===r?"RL":"LR"})),o};(0,C.forwardRef)(({children:e,...t},n)=>{let{data:r,defaultExpandLevel:i,type:o="default",nodeMinWidth:a,nodeMaxWidth:s,direction:l="right",labelField:c,...u}=t,d=(0,C.useMemo)(()=>fp(fd,fM,{data:h4(r,i)},fF({type:o,nodeMinWidth:a,nodeMaxWidth:s,direction:l,labelField:c}),u),[t]);return C.createElement(fu,{...d,ref:n},e)});let{ArrowCountIcon:fB}=y,{TextNode:fU}=E,fz={node:{type:"react",state:{active:{halo:!1},selected:{halo:!1}}},edge:{type:"cubic-horizontal",style:{lineWidth:3}},transforms:e=>[...e,{type:"collapse-expand-react-node",key:"collapse-expand-react-node",enable:!1,trigger:"icon",iconRender:function(e,t){let n=fI(this,t);return C.createElement(fB,{graph:this,data:t,isCollapsed:e,placement:"left"===n?"left":"right"})},iconPlacement:function(e){let t=fI(this,e);return"left"===t?"left":"right"}}],layout:{type:"mindmap",direction:"H",preLayout:!1,getWidth:()=>120,getHGap:()=>64},animation:{duration:500}},fZ=(0,C.forwardRef)(({children:e,...t},n)=>{let r=(0,C.useMemo)(()=>{let{data:e,type:n="default",nodeMinWidth:r,nodeMaxWidth:i,direction:o="alternate",labelField:a,defaultExpandLevel:s,...l}=t,c=fp(fd,fz,{data:h4(e,s)},function({type:e,direction:t,nodeMinWidth:n,nodeMaxWidth:r,labelField:i}){let o={};if("boxed"===e){let e=n||120,t=r||300;o={node:{style:{component:n=>{let r=n.depth,o=n.style?.color,a=fg(n,i),{font:s}=fR(a,e,t,r),l={text:a,color:o,maxWidth:t,font:s};return Object.assign(l,0===r?{type:"filled",color:"#f1f4f5",style:{color:"#252525"}}:1===r?{type:"filled"}:{type:"outlined"}),C.createElement(fU,{...l})},size:n=>{let r=fg(n,i);return fR(r,e,t,n.depth).size},dx:function(n){let r=fI(this,n),o=fg(n,i),[a]=fR(o,e,t,n.depth).size;return"left"===r?-a:"center"===r?-a/2:0},ports:[{placement:"left"},{placement:"right"}]}},edge:{style:{stroke:function(e){let t=this.getNodeData(e.source);return(0,A.get)(t,"style.color","#99ADD1")}}},transforms:e=>[...e,{type:"assign-color-by-branch",key:"assign-color-by-branch"}],layout:{type:"mindmap",getHeight:n=>{let r=fg(n,i),[,o]=fR(r,e,t,n.depth).size;return o},getVGap:()=>14}}}else if("linear"===e){let e=n||0,t=r||300;o={node:{style:{component:function(n){let r=fI(this,n),o=n.depth,a=n.style?.color,s=fg(n,i),{font:l}=fL(s,e,t,o),c={text:s,color:a,maxWidth:t,font:l};return Object.assign(c,0===o?{type:"filled",color:"#f1f4f5",style:{color:"#252525"}}:{type:"underlined",style:"left"===r?{textAlign:"right"}:"center"===r?{textAlign:"center"}:{}}),C.createElement(fU,{...c})},size:n=>{let r=fg(n,i);return fL(r,e,t,n.depth).size},dx:function(n){let r=fI(this,n),o=fg(n,i),[a]=fL(o,e,t,n.depth).size;return"left"===r?-a:"center"===r?-a/2:0},dy:function(n){let r=fg(n,i),[,o]=fL(r,e,t,n.depth).size;return o/2},ports:function(e){let t=fI(this,e);return"center"===t?[{placement:"left"},{placement:"right"}]:[{placement:"left-bottom"},{placement:"right-bottom"}]}}},edge:{style:{stroke:function(e){let t=this.getNodeData(e.target);return(0,A.get)(t,"style.color","#99ADD1")}}},layout:{type:"mindmap",getHeight:n=>{let r=fg(n,i),[,o]=fL(r,e,t,n.depth).size;return o},getVGap:()=>12},transforms:n=>[...n.filter(e=>"collapse-expand-react-node"!==e.key),{type:"assign-color-by-branch",key:"assign-color-by-branch"},{...n.find(e=>"collapse-expand-react-node"===e.key),iconOffsetY:n=>{if(0===n.depth)return 0;let r=fg(n,i),[,o]=fL(r,e,t,n.depth).size;return o/2}}]}}else{let e=[24,16];o={node:{style:{component:e=>{let t=fg(e,i);return C.createElement(fU,{type:"filled",text:t})},size:t=>{let n=fg(t,i);return fm(n,e)},dx:function(t){let n=fI(this,t),r=fg(t,i),[o]=fm(r,e);return"left"===n?-o:"center"===n?-o/2:0},ports:[{placement:"left"},{placement:"right"}]}},layout:{type:"mindmap",getHeight:t=>{let n=fg(t,i),[,r]=fm(n,e);return r}}}}return t&&(o.layout||={},o.layout.direction="alternate"===t?"H":"left"===t?"RL":"LR"),o}({type:n,nodeMinWidth:r,nodeMaxWidth:i,direction:o,labelField:a}),l);return c},[t]);return C.createElement(fu,{...r,ref:n},e)}),fj={node:{type:"circle"},layout:{type:"d3-force",link:{distance:128},collide:{radius:32},manyBody:{strength:-704},x:{},y:{}}},fH=(0,C.forwardRef)(({children:e,...t},n)=>{let r=(0,C.useMemo)(()=>fp(fd,fj,t),[t]);return C.createElement(fu,{...r,ref:n},e)}),{TextNode:fG}=E,fV={node:{type:"react",state:{active:{halo:!1},selected:{halo:!1}}},edge:{type:"polyline",style:{lineWidth:2,router:{type:"orth"}}},layout:{type:"dagre",animation:!1},transforms:["translate-react-node-origin"]};(0,C.forwardRef)(({children:e,...t},n)=>{let r=(0,C.useMemo)(()=>{let{direction:e="vertical",labelField:n,...r}=t,i=fp(fd,fV,function({direction:e,labelField:t}){return{node:{style:{component:e=>{let n=fg(e,t);return C.createElement(fG,{type:"filled",text:n})},size:[100,40],ports:"vertical"===e?[{placement:"top"},{placement:"bottom"}]:[{placement:"left"},{placement:"right"}]}},transforms:t=>[...t,{type:"collapse-expand-react-node",key:"collapse-expand-react-node",iconPlacement:"vertical"===e?"bottom":"right",enable:!1,refreshLayout:!0}],layout:{type:"dagre",rankdir:"vertical"===e?"TB":"LR"}}}({direction:e,labelField:n}),r);return i},[t]);return C.createElement(fu,{...r,ref:n},e)});var f$=["children"];function fW(e){return{nodes:e.nodes.map(function(e){return{id:e.name,style:{labelText:e.name}}}),edges:e.edges.map(function(e){return{source:e.source,target:e.target,style:{labelText:e.name}}})}}var fY=["data"],fq={autoResize:!0,autoFit:"view",node:{style:{component:function(e){var t,n=null===(t=e.states)||void 0===t?void 0:t.includes("active");return C.createElement(hQ,{text:e.id,isActive:n,type:"filled",style:{fontSize:12},borderWidth:2})},size:[140,32]}},edge:{style:{endArrow:!0,labelBackground:!0,labelMaxLines:2,labelMaxWidth:"40%",labelWordWrap:!0},state:{active:{halo:!1,labelWordWrap:!1,stroke:"#001f98"}}},behaviors:function(e){return[].concat((0,rn.Z)(e),[{type:"hover-activate-neighbors",onHover:function(e){e.view.setCursor("pointer")},onHoverEnd:function(e){e.view.setCursor("default")}}])}},fX=["data"],fK={type:"boxed",autoFit:"view",autoResize:!0,padding:2,node:{animation:{translate:!1,update:!1}},edge:{animation:{translate:!1,update:!1}},transforms:function(e){return[].concat((0,rn.Z)(e.filter(function(e){return"collapse-expand-react-node"!==e.type})),[(0,_.Z)((0,_.Z)({},e.find(function(e){return"collapse-expand-react-node"===e.type})),{},{enable:!0})])}},fQ=["data"],fJ={autoResize:!0,node:{style:{size:28,labelFontSize:10,labelBackground:!0},animation:{enter:!1}},edge:{style:{labelFontSize:10,labelBackground:!0,endArrow:!0},animation:{enter:!1}},behaviors:function(e){return[].concat((0,rn.Z)(e),[{key:"hover-activate",type:"hover-activate",degree:1}])},transforms:function(e){return[].concat((0,rn.Z)(e),["process-parallel-edges"])},layout:{type:"force",animation:!1}},f0=n(94162),f1=n(84964),f2=n(89706),f3=n(31223),f5=n.n(f3),f4=(a=C.useEffect,function(e,t){var n,r,i=(0,C.useRef)(),o=(0,C.useRef)(0);void 0!==t&&(n=t,r=i.current,void 0===n&&(n=[]),void 0===r&&(r=[]),f5()(n,r))||(i.current=t,o.current+=1),a(e,[o.current])}),f6=n(84875),f7=n.n(f6),f8="object"==typeof global&&global&&global.Object===Object&&global,f9="object"==typeof self&&self&&self.Object===Object&&self,ge=f8||f9||Function("return this")(),gt=ge.Symbol,gn=Object.prototype,gr=gn.hasOwnProperty,gi=gn.toString,go=gt?gt.toStringTag:void 0,ga=function(e){var t=gr.call(e,go),n=e[go];try{e[go]=void 0;var r=!0}catch(e){}var i=gi.call(e);return r&&(t?e[go]=n:delete e[go]),i},gs=Object.prototype.toString,gl=gt?gt.toStringTag:void 0,gc=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":gl&&gl in Object(e)?ga(e):gs.call(e)},gu=function(e){return null!=e&&"object"==typeof e},gd=function(e){return"number"==typeof e||gu(e)&&"[object Number]"==gc(e)};function gp(e){return(gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function gf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gy(r.key),r)}}function gg(e,t){return(gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function gm(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gb(e){return(gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gv(e,t,n){return(t=gy(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gy(e){var t=function(e,t){if("object"!=gp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gp(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gp(t)?t:String(t)}var gE=0,g_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gg(e,t)}(o,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=gb(o);if(t){var r=gb(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===gp(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return gm(e)}(this,e)});function o(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),gv(gm(t=i.call(this)),"scene",void 0),gv(gm(t),"options",void 0),gv(gm(t),"layerMap",new Map),t.scene=e.scene,t.options=e,t}return n=[{key:"hasLayer",value:function(e){return this.layerMap.has(e)}},{key:"addLayer",value:function(e){var t=this.getLayerId(e);this.layerMap.set(t,e),e.addTo(this.scene),this.emit("add",e)}},{key:"addLayers",value:function(e){var t=this;e.forEach(function(e){t.addLayer(e)})}},{key:"removeLayer",value:function(e){var t="string"==typeof e?e:this.getLayerId(e),n=this.layerMap.get(t);return!!n&&(this.layerMap.delete(t),n.remove(),this.emit("remove",t),!0)}},{key:"getLayers",value:function(){return Array.from(this.layerMap.values())}},{key:"getLayerById",value:function(e){return this.layerMap.get(e)}},{key:"getLayer",value:function(e){return this.getLayerById(e)}},{key:"removeAllLayer",value:function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return gh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gh(e,t)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.layerMap.values());try{for(t.s();!(e=t.n()).done;)e.value.remove()}catch(e){t.e(e)}finally{t.f()}this.layerMap.clear()}},{key:"isEmpty",value:function(){return 0===this.layerMap.size}},{key:"getLayerId",value:function(e){return"id"in e?e.id:"".concat(gE++)}},{key:"destroy",value:function(){this.removeAllLayer()}}],gf(o.prototype,n),r&&gf(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(z.Z);function gT(e){return(gT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gx(){gx=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(t,n,r,o){var a,s,l=Object.create((n&&n.prototype instanceof m?n:m).prototype);return i(l,"_invoke",{value:(a=new O(o||[]),s=p,function(n,i){if(s===h)throw Error("Generator is already running");if(s===f){if("throw"===n)throw i;return{value:e,done:!0}}for(a.method=n,a.arg=i;;){var o=a.delegate;if(o){var l=function t(n,r){var i=r.method,o=n.iterator[i];if(o===e)return r.delegate=null,"throw"===i&&n.iterator.return&&(r.method="return",r.arg=e,t(n,r),"throw"===r.method)||"return"!==i&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+i+"' method")),g;var a=d(o,n.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var s=a.arg;return s?s.done?(r[n.resultName]=s.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,g)}(o,a);if(l){if(l===g)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===p)throw s=f,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=h;var c=d(t,r,a);if("normal"===c.type){if(s=a.done?f:"suspendedYield",c.arg===g)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(s=f,a.method="throw",a.arg=c.arg)}})}),l}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",h="executing",f="completed",g={};function m(){}function b(){}function v(){}var y={};c(y,a,function(){return this});var E=Object.getPrototypeOf,_=E&&E(E(I([])));_&&_!==n&&r.call(_,a)&&(y=_);var x=v.prototype=m.prototype=Object.create(y);function S(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function A(e,t){var n;i(this,"_invoke",{value:function(i,o){function a(){return new t(function(n,a){!function n(i,o,a,s){var l=d(e[i],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==gT(u)&&r.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(u).then(function(e){c.value=e,a(c)},function(e){return n("throw",e,a,s)})}s(l.arg)}(i,o,n,a)})}return n=n?n.then(a,a):a()}})}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw TypeError(gT(t)+" is not iterable")}return b.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:b,configurable:!0}),b.displayName=c(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},S(A.prototype),c(A.prototype,s,function(){return this}),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},S(x),c(x,l,"Generator"),c(x,a,function(){return this}),c(x,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function gS(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}var gA=(s=gx().mark(function e(t,r){return gx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Map"!==t){e.next=2;break}return e.abrupt("return",new f2.Map(r));case 2:if("Gaode"!==t){e.next=6;break}return e.abrupt("return",new f2.GaodeMap(r));case 6:if("GaodeV1"!==t){e.next=10;break}return e.abrupt("return",new f2.GaodeMapV1(r));case 10:if("GaodeV2"!==t){e.next=12;break}return e.abrupt("return",new f2.GaodeMapV2(r));case 12:if("Tencent"!==t){e.next=14;break}return e.abrupt("return",new f2.TencentMap(r));case 14:if("Baidu"!==t){e.next=16;break}return e.abrupt("return",new f2.BaiduMap(r));case 16:return e.abrupt("return",Promise.resolve(Promise.resolve().then(n.bind(n,89706))).then(function(e){return new e.Mapbox(r)}));case 17:case"end":return e.stop()}},e)}),l=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=s.apply(e,t);function o(e){gS(i,n,r,o,a,"next",e)}function a(e){gS(i,n,r,o,a,"throw",e)}o(void 0)})},function(e,t){return l.apply(this,arguments)}),gC=function(e,t){var n=(0,C.useRef)();(0,C.useEffect)(function(){var r,i=(r=n.current)?r.map(function(e,n){return Object.is(r[n],null==t?void 0:t[n])?-1:n}).filter(function(e){return e>=0}):t?t.map(function(e,t){return t}):[],o=n.current;return n.current=t,e(i,o,t)},t)},gw=n(28853),gO={onLoaded:"loaded",onDestroy:"destroy",onResize:"resize",onMapMove:"mapmove",onMoveStart:"movestart",onMoveEnd:"moveend",onZoomChange:"zoomchange",onZoomStart:"zoomstart",onZoomEnd:"zoomend",onClick:"click",onDblclick:"dblclick",onContextMenu:"contextmenu",onMouseMove:"mousemove",onMouseWheel:"mousewheel",onMouseDown:"mousedown",onMouseOver:"mouseover",onMouseOut:"mouseout",onMouseUp:"mouseup",onDragStart:"dragstart",onDragging:"dragging",onDragEnd:"dragend"},gI=Object.keys(gO);function gL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var gR=function(e,t){var n;gC(function(t,n,r){if(e){var i=t.filter(function(e){return!!e}).map(function(e){return e-1});t.includes(0)&&(i=gI.map(function(e,t){return t})),i.forEach(function(t){var i=gO[gI[t]],o=n[t+1],a=r[t+1];o&&e.off(i,o),a&&e.on(i,a)})}},[e].concat(function(e){if(Array.isArray(e))return gL(e)}(n=gI.map(function(e){return t[e]}))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return gL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gL(e,t)}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),(0,gw.Z)(function(){e&&gI.forEach(function(n){var r=gO[n],i=t[n];r&&i&&e.off(r,i)})})};function gk(e){return(gk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var gN=["id","style","className","map","mapType","mapOptions","onLayerManagerCreated","onSceneLoaded","children"];function gM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gM(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=gk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gk(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gk(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var gF=C.createContext(null),gB=(0,C.memo)((0,C.forwardRef)(function(e,t){var n,r=e.id,i=e.style,o=e.className,a=e.map,s=e.mapType,l=void 0===s?"Gaode":s,c=e.mapOptions,u=void 0===c?{}:c,d=e.onLayerManagerCreated,p=e.onSceneLoaded,h=e.children,f=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,gN),g=(0,C.useRef)(),m=function(e){if(Array.isArray(e))return e}(n=(0,C.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(n,2)||function(e,t){if(e){if("string"==typeof e)return gP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gP(e,t)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=m[0],v=m[1],y=(0,C.useRef)({scene:null,layerManager:null}).current;(0,C.useEffect)(function(){var e,t=!0;return Promise.resolve(void 0===a?gA(l,u):"function"==typeof a?a():a).then(function(n){if(t){e=new f2.Scene(gD(gD({},f),{},{id:g.current,map:n}));var r=new g_({scene:e});y.scene=e,y.layerManager=r,e.once("loaded",function(){p&&p(e),d&&d(r),v(e)})}}).catch(function(e){console.error(e)}),function(){t=!1,e&&(y.scene=null,y.layerManager=null,e.destroy())}},[]),gR(b,e),(0,C.useImperativeHandle)(t,function(){return{getScene:function(){return b},getMap:function(){return b.map}}},[b]),(0,C.useEffect)(function(){b&&u.style&&b.setMapStyle(u.style)},[u.style]),f4(function(){null!==b&&(u.center&&gd(u.zoom)?b.setZoomAndCenter(u.zoom,u.center):gd(u.zoom)?b.setZoom(u.zoom):u.center&&b.setCenter(u.center))},[u.zoom,u.center]),(0,C.useEffect)(function(){b&&gd(u.pitch)&&b.setPitch(u.pitch)},[u.pitch]),(0,C.useEffect)(function(){b&&gd(u.rotation)&&b.setRotation(u.rotation)},[u.rotation]);var E=(0,C.useMemo)(function(){return gD({position:"relative"},i)},[i]);return C.createElement("div",{id:r,ref:g,style:E,className:f7()("larkmap",o)},b&&C.createElement(gF.Provider,{value:y},h))})),gU=["label","id"],gz={mapOptions:{center:[120.210792,30.246026],zoom:16,maxZoom:18,pitch:0,rotation:0,zoomEnable:!0,pitchEnable:!0}},gZ={width:12,anchorX:0,anchorY:1,label:{content:"",color:"#000000",fontSize:10,borderRadius:5,bgColor:"#ffffff",padding:5},iconPath:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*3XdDTbsQ84QAAAAAAAAAAAAADmJ7AQ/original"},gj=function(e,t){var n=Object.assign({},gZ.label,null==t?void 0:t.label);return e.map(function(e,r){var i=e.label,o=e.id,a=(0,S.Z)(e,gU);return(0,_.Z)((0,_.Z)((0,_.Z)((0,_.Z)({},gZ),t),a),{},{label:(0,_.Z)((0,_.Z)({},n),(0,A.isObject)(i)?i:{content:i}),id:o||r.toString()})})},gH=function(){var e=(0,C.useContext)(gF);if(!e)throw Error("The useScene must be used in the LarkMap container");return e.scene};function gG(e,t,n){if(1===e.length)t.setCenter([e[0].longitude,e[0].latitude]);else{var r=[180,90,-180,-90];e.forEach(function(e){r[0]>e.longitude&&(r[0]=e.longitude),r[1]>e.latitude&&(r[1]=e.latitude),r[2]<e.longitude&&(r[2]=e.longitude),r[3]<e.latitude&&(r[3]=e.latitude)});var i=n||{},o=i.left,a=i.right,s=i.bottom,l=i.top;t.map.setBounds(r,!1,[void 0===o?20:o,void 0===l?20:l,void 0===a?20:a,void 0===s?20:s])}}var gV=function(e,t){g$(e,t),gW(e,t)},g$=function(e,t){var n;if(null!==(n=e.includePoints)&&void 0!==n&&n.length)gG(e.includePoints,t,e.includePadding);else{var r=[];e.markers&&e.markers.forEach(function(e){r.push({longitude:e.longitude,latitude:e.latitude})}),e.polyline&&e.polyline.forEach(function(e){e.points.forEach(function(e){r.push({longitude:e.longitude,latitude:e.latitude})})}),r.length&&gG(r,t,e.includePadding)}},gW=function(e,t){void 0!==e.enableZoom&&t.setMapStatus({zoomEnable:e.enableZoom}),void 0!==e.enableRotate&&t.setMapStatus({rotateEnable:e.enableRotate}),void 0!==e.enableScroll&&t.setMapStatus({dragEnable:e.enableScroll})};function gY(e){var t=gH();return(0,C.useEffect)(function(){gV(e,t)},[]),(0,C.useEffect)(function(){gW(e,t)},[e.enableRotate,e.enableScroll,e.enableZoom]),(0,C.useEffect)(function(){g$(e,t)},[e.includePoints,e.markers,e.polyline,e.includePadding]),null}function gq(e){var t=0;if(e.length>0)for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;var r=Math.abs(t%1e4).toString().padStart(4,"0");return"marker-".concat(r)}function gX(e){var t=gH(),n=(0,C.useState)([]),r=(0,n4.Z)(n,2),i=r[0],o=r[1],a=function(){i.forEach(function(e){t.removeLayer(e)})};return(0,C.useEffect)(function(){var n;if(e.markers)return null===(n=function(e,t){if(e.markers){var n;return Promise.all(Array.from(new Set(e.markers.filter(function(e){return void 0!==e.iconPath}).map(function(e){return e.iconPath})).values()).map((n=(0,f1.Z)((0,f0.Z)().mark(function e(n){var r;return(0,f0.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gq(n),!t.hasImage(r)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.addImage(r,n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})))}}(e,t))||void 0===n||n.then(function(){var n=function(e){var t=e.map(function(e){var t,n,r;return(0,_.Z)((0,_.Z)({},e),{},{label:(0,A.isObject)(e.label)?e.label.content:e.label,color:null===(t=e.label)||void 0===t?void 0:t.color,bgColor:null===(n=e.label)||void 0===n?void 0:n.bgColor,fontSize:null===(r=e.label)||void 0===r?void 0:r.fontSize,offsets:[e.anchorX||0,e.anchorY||-1],iconPath:e.iconPath?gq(e.iconPath):void 0})}),n=t.filter(function(e){return void 0!==e.iconPath}),r=t.filter(function(e){return void 0!==e.label}),i=[];if(r.length>0){var o=r[0].offsets,a=r[0].fontSize||10,s=new f2.PointLayer({zIndex:2}).source(r,{parser:{type:"json",x:"longitude",y:"latitude"}}).shape("label","text").size("fontSize").color("color").style({opacity:1,textOffset:[o[0],-2*o[1]*a],fontWeight:600,textAnchor:"center",stroke:r[0].bgColor||"#ffffff",strokeWidth:2,strokeOpacity:1,padding:[10,10]});i.push(s)}if(0!==n.length){var l=n[0].offsets,c=n[0].width||10,u=new f2.PointLayer().source(n,{parser:{type:"json",x:"longitude",y:"latitude"}}).shape("iconPath").size("width").style({offsets:[l[0],l[1]*c]});i.push(u)}return i}(e.markers||[]);a(),n.forEach(function(e){t.addLayer(e)}),o(n)}),function(){a()}},[e.markers]),null}function gK(e){var t=gH(),n=(0,C.useState)([]),r=(0,n4.Z)(n,2),i=r[0],o=r[1],a=function(){i.forEach(function(e){t.removeLayer(e)})};return(0,C.useEffect)(function(){if(e.polyline){var n,r,i=(r=(n=(e.polyline||[]).map(function(e){var t=e.points.map(function(e){return[e.longitude,e.latitude]});return(0,_.Z)((0,_.Z)({},e),{},{coordinates:t,color:e.color,width:e.width})}))[0].dottedLine,[new f2.LineLayer().source(n,{parser:{type:"json",coordinates:"coordinates"}}).size("width").shape("line").color("color").style({opacity:1,lineType:r?"dash":"solid",dashArray:[3,1]})]);return a(),i.forEach(function(e){t.addLayer(e)}),o(i),function(){a()}}},[e.polyline]),null}var gQ=function(e){var t,n=e.className,r=e.containerStyle,i=e.style,o=e.children,a=(0,C.useMemo)(function(){return{mapOptions:(0,_.Z)((0,_.Z)({},gz.mapOptions),{},{center:e.longitude&&e.latitude?[e.longitude,e.latitude]:gz.mapOptions.center,zoom:e.scale||gz.mapOptions.zoom,pitch:e.skew||gz.mapOptions.pitch,rotation:e.rotate||gz.mapOptions.rotation,zoomEnable:e.enableZoom||gz.mapOptions.zoomEnable,pitchEnable:e.enableRotate||gz.mapOptions.pitchEnable,style:null==e?void 0:e.mapType,token:null==e?void 0:e.token}),logoVisible:!1}},[e]),s=(t=(0,f1.Z)((0,f0.Z)().mark(function t(){return(0,f0.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.onInitComplete&&e.onInitComplete();case 1:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)});return C.createElement(gB,(0,x.Z)({className:n,style:(0,_.Z)((0,_.Z)({height:300},r),i)},a,{onSceneLoaded:s}),C.createElement(gY,e),C.createElement(gX,e),C.createElement(gK,e),o)},gJ=["data","markerStyle"],g0=n(69499);function g1(e,t){return(...n)=>{let r={};return e.forEach((e,t)=>{r[e]=n[t]}),delete r.undefined,t(r)}}class g2{static shape(e,t){if((0,g0.HD)(t))e.shape(t);else if((0,g0.mf)(t)){let n=[];e.shape(n.join("*"),g1(n,t))}else if((0,g0.Kn)(t)){let n=t.field?t.field:"";if((0,g0.mf)(t.value)){let r=(0,g0.kJ)(n)?n:n.split("*");e.shape(n,g1(r,t.value))}else e.shape(n,t.value);(0,g0.HD)(n)&&t.scale&&g2.scale(e,n,t.scale)}}static size(e,t){if((0,g0.hj)(t))e.size(t);else if((0,g0.kJ)(t))e.size(t);else if((0,g0.mf)(t)){let n=[];e.size(n.join("*"),g1(n,t))}else if((0,g0.Kn)(t)){let n=t.field?t.field:"";if((0,g0.mf)(t.value)){let r=(0,g0.kJ)(n)?n:n.split("*");e.size(n,g1(r,t.value))}else e.size(n,t.value);(0,g0.HD)(n)&&t.scale&&g2.scale(e,n,t.scale)}}static color(e,t){if((0,g0.HD)(t))e.color(t);else if((0,g0.mf)(t)){let n=[];e.color(n.join("*"),g1(n,t))}else if((0,g0.Kn)(t)){let n=t.field?t.field:"";if((0,g0.mf)(t.value)){let r=(0,g0.kJ)(n)?n:n.split("*");e.color(n,g1(r,t.value))}else e.color(n,t.value);(0,g0.HD)(n)&&t.scale&&g2.scale(e,n,t.scale)}}static scale(e,t,n){e.scale(t,n)}static rotate(e,t){(0,g0.HD)(t)||(0,g0.mf)(t)||(0,g0.Kn)(t)}static texture(e,t){(0,g0.HD)(t)&&e.texture(t)}static animate(e,t){((0,g0.jn)(t)||(0,g0.Kn)(t))&&e.animate(t)}static filter(e,t){let n=t.field?t.field:"",r=(0,g0.kJ)(n)?n:n.split("*");e.filter(r.join("*"),g1(r,t.value))}static style(e,t){t&&e.style(t)}static state(e,t){let{active:n,select:r}=t;n&&e.active(n),r&&e.select(r)}}let g3=(e,...t)=>{for(let n=0;n<t.length;n+=1)!function e(t,n,r=0,i=5){for(let o in n)if(Object.prototype.hasOwnProperty.call(n,o)){let a=n[o];null!==a&&(0,g0.PO)(a)?((0,g0.PO)(t[o])||(t[o]={}),r<i?e(t[o],a,r+1,i):t[o]=n[o]):Array.isArray(a)?(t[o]=[],t[o]=t[o].concat(a)):void 0!==a&&(t[o]=a)}}(e,t[n],0,1);return e},g5=(e,t)=>{let{source:n}=e,r=(0,cX._T)(e,["source"]),{source:i}=t,o=(0,cX._T)(t,["source"]),a=g3({},r,o);return i instanceof f2.Source?a.source=i:n instanceof f2.Source?a.source=n:a.source=Object.assign(Object.assign({},n),i),a},g4=(e,t)=>{if(e instanceof f2.Source&&t instanceof f2.Source)return e!==t;let{data:n}=e,r=(0,cX._T)(e,["data"]),{data:i}=t,o=(0,cX._T)(t,["data"]),a=n!==i||!(0,g0.Xy)(r,o);return a},g6=["show","hide","dataUpdate","destroy","legend","legend:color","legend:size","click","dblclick","unclick","undblclick","contextmenu","uncontextmenu","mouseenter","unmouseenter","mousemove","unmousemove","mouseout","mouseup","unmouseup","mousedown","unpick"];(c=f||(f={})).CREATED="created",c.INITED="inited",c.ADD="add",c.REMOVE="remove",(u=g||(g={})).CREATED="created",u.INITED="inited",u.ADD="add",u.REMOVE="remove",(d=m||(m={})).INITED_LAYER="inited-layer",d.INITED_LAYERS="inited-layers";class g7 extends z.Z{get inited(){return this.layer.inited}get source(){return this.layer.getSource()}constructor(e){super(),this.isComposite=!1;let{id:t,name:n,source:r,interaction:i=!1}=e;this.id=t||(0,g0.EL)("core-layer"),this.name=n||this.id,this.interaction=i,this.options=g5(this.getDefaultOptions(),e),this.lastOptions=this.options,this.layer=this.createLayer(),this.adaptorLayerAttr(!1),this.setSource(r),this.emit(f.CREATED,this)}getDefaultOptions(){return g7.DefaultOptions}getLayerConfig(){let e=(0,g0.CE)(this.options,["source","shape","color","size","scale","texture","style","animate","state"]);return e}adaptorAttrOptions(e){return e}adaptorLayerAttr(e=!0){let t=["shape","color","size","scale","texture","filter","style","animate","state"],n=this.adaptorAttrOptions(this.options),r=this.adaptorAttrOptions(this.lastOptions);for(let i=0;i<t.length;i++){let o=t[i],a=n[o],s=r[o];(0,g0.o8)(a)||e&&(0,g0.Xy)(a,s)||g2[o](this.layer,a)}}setSource(e){if(e instanceof f2.Source)this.layer.setSource(e);else{let{data:t}=e,n=(0,cX._T)(e,["data"]),r=this.layer.getSource();r?this.layer.setData(t,n):this.layer.source(t,n)}}getSource(){return this.source}addTo(e){this.scene=e,this.layer.once(f.INITED,()=>{this.emit(f.INITED,this)}),this.layer.once(f.ADD,()=>{this.emit(f.ADD,this)}),e.addLayer(this.layer)}remove(){this.scene&&(this.scene.removeLayer(this.layer),this.emit(f.REMOVE))}update(e,t=!0){var n,r;this.updateOption(e),this.updateConfig(e),t&&(null===(n=this.scene)||void 0===n||n.setEnableRender(!1)),((0,g0.o8)(this.options.visible)||this.options.visible)&&this.adaptorLayerAttr(),e.source&&g4(e.source,this.lastOptions.source)&&this.changeData(e.source),t&&(null===(r=this.scene)||void 0===r||r.setEnableRender(!0),this.render())}updateOption(e){this.lastOptions=this.options,this.options=g5(this.options,e)}updateConfig(e){(0,g0.o8)(e.zIndex)||(0,g0.Xy)(this.lastOptions.zIndex,this.options.zIndex)||this.setIndex(e.zIndex),(0,g0.o8)(e.blend)||(0,g0.Xy)(this.lastOptions.blend,this.options.blend)||this.setBlend(e.blend),(0,g0.o8)(e.minZoom)||(0,g0.Xy)(this.lastOptions.minZoom,this.options.minZoom)||this.setMinZoom(e.minZoom),(0,g0.o8)(e.maxZoom)||(0,g0.Xy)(this.lastOptions.maxZoom,this.options.maxZoom)||this.setMaxZoom(e.maxZoom),(0,g0.o8)(e.visible)||(0,g0.Xy)(this.lastOptions.visible,this.options.visible)||(e.visible?this.show():this.hide())}render(){this.scene&&this.scene.render()}changeData(e){this.setSource(e)}setIndex(e){this.layer.setIndex(e)}setBlend(e){this.layer.setBlend(e)}setMinZoom(e){this.layer.setMinZoom(e)}setMaxZoom(e){this.layer.setMaxZoom(e)}show(){this.layer.inited&&this.layer.show()}hide(){this.layer.inited&&this.layer.hide()}toggleVisible(){this.isVisible()?this.hide():this.show()}isVisible(){return this.layer.inited?this.layer.isVisible():!!(0,g0.o8)(this.options.visible)||this.options.visible}boxSelect(e,t){this.layer.boxSelect(e,t)}fitBounds(e){this.layer.fitBounds(e)}getLegend(e){return this.layer.getLegend(e)}getLegendItems(e){return this.layer.getLegendItems(e)}on(e,t,n){return -1!==g6.indexOf(e)?this.layer.on(e,t):super.on(e,t,n),this}once(e,t){return -1!==g6.indexOf(e)?this.layer.once(e,t):super.once(e,t),this}off(e,t){return -1!==g6.indexOf(e)?this.layer.off(e,t):super.off(e,t),this}destroy(){this.layer.destroy()}}g7.DefaultOptions={};class g8 extends g7{constructor(){super(...arguments),this.type="heatmapLayer"}createLayer(){let e=this.getLayerConfig(),t=new f2.HeatmapLayer(e);return t}}var g9=n(28286),me=function(e,t){return e===t||e!=e&&t!=t},mt=function(e,t){for(var n=e.length;n--;)if(me(e[n][0],t))return n;return -1},mn=Array.prototype.splice;function mr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}mr.prototype.clear=function(){this.__data__=[],this.size=0},mr.prototype.delete=function(e){var t=this.__data__,n=mt(t,e);return!(n<0)&&(n==t.length-1?t.pop():mn.call(t,n,1),--this.size,!0)},mr.prototype.get=function(e){var t=this.__data__,n=mt(t,e);return n<0?void 0:t[n][1]},mr.prototype.has=function(e){return mt(this.__data__,e)>-1},mr.prototype.set=function(e,t){var n=this.__data__,r=mt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var mi=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},mo=function(e){if(!mi(e))return!1;var t=gc(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ma=ge["__core-js_shared__"],ms=(p=/[^.]+$/.exec(ma&&ma.keys&&ma.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",ml=Function.prototype.toString,mc=function(e){if(null!=e){try{return ml.call(e)}catch(e){}try{return e+""}catch(e){}}return""},mu=/^\[object .+?Constructor\]$/,md=Object.prototype,mp=Function.prototype.toString,mh=md.hasOwnProperty,mf=RegExp("^"+mp.call(mh).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mg=function(e,t){var n,r=null==e?void 0:e[t];return mi(n=r)&&(!ms||!(ms in n))&&(mo(n)?mf:mu).test(mc(n))?r:void 0},mm=mg(ge,"Map"),mb=mg(Object,"create"),mv=Object.prototype.hasOwnProperty,mE=Object.prototype.hasOwnProperty;function m_(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}m_.prototype.clear=function(){this.__data__=mb?mb(null):{},this.size=0},m_.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},m_.prototype.get=function(e){var t=this.__data__;if(mb){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return mv.call(t,e)?t[e]:void 0},m_.prototype.has=function(e){var t=this.__data__;return mb?void 0!==t[e]:mE.call(t,e)},m_.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=mb&&void 0===t?"__lodash_hash_undefined__":t,this};var mT=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},mx=function(e,t){var n=e.__data__;return mT(t)?n["string"==typeof t?"string":"hash"]:n.map};function mS(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function mA(e){var t=this.__data__=new mr(e);this.size=t.size}function mC(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new mS;++t<n;)this.add(e[t])}mS.prototype.clear=function(){this.size=0,this.__data__={hash:new m_,map:new(mm||mr),string:new m_}},mS.prototype.delete=function(e){var t=mx(this,e).delete(e);return this.size-=t?1:0,t},mS.prototype.get=function(e){return mx(this,e).get(e)},mS.prototype.has=function(e){return mx(this,e).has(e)},mS.prototype.set=function(e,t){var n=mx(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},mA.prototype.clear=function(){this.__data__=new mr,this.size=0},mA.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},mA.prototype.get=function(e){return this.__data__.get(e)},mA.prototype.has=function(e){return this.__data__.has(e)},mA.prototype.set=function(e,t){var n=this.__data__;if(n instanceof mr){var r=n.__data__;if(!mm||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new mS(r)}return n.set(e,t),this.size=n.size,this},mC.prototype.add=mC.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},mC.prototype.has=function(e){return this.__data__.has(e)};var mw=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},mO=function(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,p=!0,h=2&n?new mC:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var f=e[d],g=t[d];if(r)var m=a?r(g,f,d,t,e,o):r(f,g,d,e,t,o);if(void 0!==m){if(m)continue;p=!1;break}if(h){if(!mw(t,function(e,t){if(!h.has(t)&&(f===e||i(f,e,n,r,o)))return h.push(t)})){p=!1;break}}else if(!(f===g||i(f,g,n,r,o))){p=!1;break}}return o.delete(e),o.delete(t),p},mI=ge.Uint8Array,mL=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},mR=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},mk=gt?gt.prototype:void 0,mN=mk?mk.valueOf:void 0,mM=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!o(new mI(e),new mI(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return me(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=mL;case"[object Set]":var l=1&r;if(s||(s=mR),e.size!=t.size&&!l)break;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var u=mO(s(e),s(t),r,i,o,a);return a.delete(e),u;case"[object Symbol]":if(mN)return mN.call(e)==mN.call(t)}return!1},mD=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},mP=Array.isArray,mF=function(e,t,n){var r=t(e);return mP(e)?r:mD(r,n(e))},mB=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},mU=function(){return[]},mz=Object.prototype.propertyIsEnumerable,mZ=Object.getOwnPropertySymbols,mj=mZ?function(e){return null==e?[]:mB(mZ(e=Object(e)),function(t){return mz.call(e,t)})}:mU,mH=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},mG=function(e){return gu(e)&&"[object Arguments]"==gc(e)},mV=Object.prototype,m$=mV.hasOwnProperty,mW=mV.propertyIsEnumerable,mY=mG(function(){return arguments}())?mG:function(e){return gu(e)&&m$.call(e,"callee")&&!mW.call(e,"callee")},mq="object"==typeof exports&&exports&&!exports.nodeType&&exports,mX=mq&&"object"==typeof module&&module&&!module.nodeType&&module,mK=mX&&mX.exports===mq?ge.Buffer:void 0,mQ=(mK?mK.isBuffer:void 0)||function(){return!1},mJ=/^(?:0|[1-9]\d*)$/,m0=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&mJ.test(e))&&e>-1&&e%1==0&&e<t},m1=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},m2={};m2["[object Float32Array]"]=m2["[object Float64Array]"]=m2["[object Int8Array]"]=m2["[object Int16Array]"]=m2["[object Int32Array]"]=m2["[object Uint8Array]"]=m2["[object Uint8ClampedArray]"]=m2["[object Uint16Array]"]=m2["[object Uint32Array]"]=!0,m2["[object Arguments]"]=m2["[object Array]"]=m2["[object ArrayBuffer]"]=m2["[object Boolean]"]=m2["[object DataView]"]=m2["[object Date]"]=m2["[object Error]"]=m2["[object Function]"]=m2["[object Map]"]=m2["[object Number]"]=m2["[object Object]"]=m2["[object RegExp]"]=m2["[object Set]"]=m2["[object String]"]=m2["[object WeakMap]"]=!1;var m3=function(e){return function(t){return e(t)}},m5="object"==typeof exports&&exports&&!exports.nodeType&&exports,m4=m5&&"object"==typeof module&&module&&!module.nodeType&&module,m6=m4&&m4.exports===m5&&f8.process,m7=function(){try{var e=m4&&m4.require&&m4.require("util").types;if(e)return e;return m6&&m6.binding&&m6.binding("util")}catch(e){}}(),m8=m7&&m7.isTypedArray,m9=m8?m3(m8):function(e){return gu(e)&&m1(e.length)&&!!m2[gc(e)]},be=Object.prototype.hasOwnProperty,bt=function(e,t){var n=mP(e),r=!n&&mY(e),i=!n&&!r&&mQ(e),o=!n&&!r&&!i&&m9(e),a=n||r||i||o,s=a?mH(e.length,String):[],l=s.length;for(var c in e)(t||be.call(e,c))&&!(a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||m0(c,l)))&&s.push(c);return s},bn=Object.prototype,br=function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||bn;return e===n},bi=function(e,t){return function(n){return e(t(n))}},bo=bi(Object.keys,Object),ba=Object.prototype.hasOwnProperty,bs=function(e){if(!br(e))return bo(e);var t=[];for(var n in Object(e))ba.call(e,n)&&"constructor"!=n&&t.push(n);return t},bl=function(e){return null!=e&&m1(e.length)&&!mo(e)},bc=function(e){return bl(e)?bt(e):bs(e)},bu=function(e){return mF(e,bc,mj)},bd=Object.prototype.hasOwnProperty,bp=function(e,t,n,r,i,o){var a=1&n,s=bu(e),l=s.length;if(l!=bu(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:bd.call(t,u)))return!1}var d=o.get(e),p=o.get(t);if(d&&p)return d==t&&p==e;var h=!0;o.set(e,t),o.set(t,e);for(var f=a;++c<l;){var g=e[u=s[c]],m=t[u];if(r)var b=a?r(m,g,u,t,e,o):r(g,m,u,e,t,o);if(!(void 0===b?g===m||i(g,m,n,r,o):b)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var v=e.constructor,y=t.constructor;v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(h=!1)}return o.delete(e),o.delete(t),h},bh=mg(ge,"DataView"),bf=mg(ge,"Promise"),bg=mg(ge,"Set"),bm=mg(ge,"WeakMap"),bb="[object Map]",bv="[object Promise]",by="[object Set]",bE="[object WeakMap]",b_="[object DataView]",bT=mc(bh),bx=mc(mm),bS=mc(bf),bA=mc(bg),bC=mc(bm),bw=gc;(bh&&bw(new bh(new ArrayBuffer(1)))!=b_||mm&&bw(new mm)!=bb||bf&&bw(bf.resolve())!=bv||bg&&bw(new bg)!=by||bm&&bw(new bm)!=bE)&&(bw=function(e){var t=gc(e),n="[object Object]"==t?e.constructor:void 0,r=n?mc(n):"";if(r)switch(r){case bT:return b_;case bx:return bb;case bS:return bv;case bA:return by;case bC:return bE}return t});var bO=bw,bI="[object Arguments]",bL="[object Array]",bR="[object Object]",bk=Object.prototype.hasOwnProperty,bN=function(e,t,n,r,i,o){var a=mP(e),s=mP(t),l=a?bL:bO(e),c=s?bL:bO(t);l=l==bI?bR:l,c=c==bI?bR:c;var u=l==bR,d=c==bR,p=l==c;if(p&&mQ(e)){if(!mQ(t))return!1;a=!0,u=!1}if(p&&!u)return o||(o=new mA),a||m9(e)?mO(e,t,n,r,i,o):mM(e,t,l,n,r,i,o);if(!(1&n)){var h=u&&bk.call(e,"__wrapped__"),f=d&&bk.call(t,"__wrapped__");if(h||f){var g=h?e.value():e,m=f?t.value():t;return o||(o=new mA),i(g,m,n,r,o)}}return!!p&&(o||(o=new mA),bp(e,t,n,r,i,o))},bM=function(e,t){return function e(t,n,r,i,o){return t===n||(null!=t&&null!=n&&(gu(t)||gu(n))?bN(t,n,r,i,e,o):t!=t&&n!=n)}(e,t)},bD=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},bP=function(){try{var e=mg(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),bF=function(e,t,n){"__proto__"==t&&bP?bP(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},bB=Object.prototype.hasOwnProperty,bU=function(e,t,n){var r=e[t];bB.call(e,t)&&me(r,n)&&(void 0!==n||t in e)||bF(e,t,n)},bz=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?bF(n,s,l):bU(n,s,l)}return n},bZ=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},bj=Object.prototype.hasOwnProperty,bH=function(e){if(!mi(e))return bZ(e);var t=br(e),n=[];for(var r in e)"constructor"==r&&(t||!bj.call(e,r))||n.push(r);return n},bG=function(e){return bl(e)?bt(e,!0):bH(e)},bV="object"==typeof exports&&exports&&!exports.nodeType&&exports,b$=bV&&"object"==typeof module&&module&&!module.nodeType&&module,bW=b$&&b$.exports===bV?ge.Buffer:void 0,bY=bW?bW.allocUnsafe:void 0,bq=function(e,t){if(t)return e.slice();var n=e.length,r=bY?bY(n):new e.constructor(n);return e.copy(r),r},bX=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},bK=bi(Object.getPrototypeOf,Object),bQ=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)mD(t,mj(e)),e=bK(e);return t}:mU,bJ=function(e){return mF(e,bG,bQ)},b0=Object.prototype.hasOwnProperty,b1=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&b0.call(e,"index")&&(n.index=e.index,n.input=e.input),n},b2=function(e){var t=new e.constructor(e.byteLength);return new mI(t).set(new mI(e)),t},b3=function(e,t){var n=t?b2(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},b5=/\w*$/,b4=function(e){var t=new e.constructor(e.source,b5.exec(e));return t.lastIndex=e.lastIndex,t},b6=gt?gt.prototype:void 0,b7=b6?b6.valueOf:void 0,b8=function(e,t){var n=t?b2(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},b9=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return b2(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return b3(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return b8(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return b4(e);case"[object Symbol]":return b7?Object(b7.call(e)):{}}},ve=Object.create,vt=function(){function e(){}return function(t){if(!mi(t))return{};if(ve)return ve(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),vn=m7&&m7.isMap,vr=vn?m3(vn):function(e){return gu(e)&&"[object Map]"==bO(e)},vi=m7&&m7.isSet,vo=vi?m3(vi):function(e){return gu(e)&&"[object Set]"==bO(e)},va="[object Arguments]",vs="[object Function]",vl="[object Object]",vc={};vc[va]=vc["[object Array]"]=vc["[object ArrayBuffer]"]=vc["[object DataView]"]=vc["[object Boolean]"]=vc["[object Date]"]=vc["[object Float32Array]"]=vc["[object Float64Array]"]=vc["[object Int8Array]"]=vc["[object Int16Array]"]=vc["[object Int32Array]"]=vc["[object Map]"]=vc["[object Number]"]=vc[vl]=vc["[object RegExp]"]=vc["[object Set]"]=vc["[object String]"]=vc["[object Symbol]"]=vc["[object Uint8Array]"]=vc["[object Uint8ClampedArray]"]=vc["[object Uint16Array]"]=vc["[object Uint32Array]"]=!0,vc["[object Error]"]=vc[vs]=vc["[object WeakMap]"]=!1;var vu=function e(t,n,r,i,o,a){var s,l=1&n,c=2&n,u=4&n;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!mi(t))return t;var d=mP(t);if(d){if(s=b1(t),!l)return bX(t,s)}else{var p,h,f,g,m=bO(t),b=m==vs||"[object GeneratorFunction]"==m;if(mQ(t))return bq(t,l);if(m==vl||m==va||b&&!o){if(s=c||b?{}:"function"!=typeof t.constructor||br(t)?{}:vt(bK(t)),!l)return c?(h=(p=s)&&bz(t,bG(t),p),bz(t,bQ(t),h)):(g=(f=s)&&bz(t,bc(t),f),bz(t,mj(t),g))}else{if(!vc[m])return o?t:{};s=b9(t,m,l)}}a||(a=new mA);var v=a.get(t);if(v)return v;a.set(t,s),vo(t)?t.forEach(function(i){s.add(e(i,n,r,i,t,a))}):vr(t)&&t.forEach(function(i,o){s.set(o,e(i,n,r,o,t,a))});var y=u?c?bJ:bu:c?bG:bc,E=d?void 0:y(t);return bD(E||t,function(i,o){E&&(i=t[o=i]),bU(s,o,e(i,n,r,o,t,a))}),s},vd=function(){var e=(0,C.useContext)(gF);if(!e)throw Error("The useLayerManager must be used in the LarkMap container");return e.layerManager};function vp(e){return(vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var vh=["onCreated","source"],vf=["data"],vg=["data"];function vm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vb(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var vv=function(e,t){var n=t.onCreated,r=t.source,i=vb(t,vh),o=vd(),a=(0,C.useRef)(),s=(0,C.useRef)(i),l=(0,C.useRef)(r);return a.current||(a.current=new e(t),n&&a.current.once("inited",function(){return n(a.current)}),o.addLayer(a.current)),(0,g9.Z)(function(){a.current&&!bM(s.current,i)&&(a.current.update(i),s.current=vu(i,5))},[i]),(0,g9.Z)(function(){if(a.current){var e=r.data,t=vb(r,vf),n=l.current,i=n.data,o=vb(n,vg);e===i&&bM(t,o)||(a.current.changeData(r),l.current=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vm(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=vp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vp(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vp(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},r))}},[r]),(0,C.useEffect)(function(){return function(){a.current&&(o.removeLayer(a.current),a.current=null)}},[]),a},vy={onRemove:"remove",onShow:"show",onHide:"hide",onDataUpdate:"dataUpdate",onLegend:"legend",onLegendColor:"legend:color",onLegendSize:"legend:size",onClick:"click",onUnClick:"unclick",onDblClick:"dblclick",onUndblclick:"undblclick",onContextMenu:"contextmenu",onUnContextMenu:"uncontextmenu",onMouseEnter:"mouseenter",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseUp:"mouseup",onMouseDown:"mousedown",onUnMousemove:"unmousemove",onUnMouseup:"unmouseup",onUnMousedown:"unmousedown",onUnPick:"unpick"},vE=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vy,r=(0,C.useMemo)(function(){return Object.keys(n)},[n]),i=function(i){r.forEach(function(r){var o=n[r],a=t[r];r&&a&&e[i](o,a)})},o=function(){return i("on")},a=function(){return i("off")},s=(0,C.useRef)(!0);s.current&&o(),(0,C.useEffect)(function(){return s.current?s.current=!1:o(),function(){a()}},r.map(function(e){return t[e]})),(0,gw.Z)(function(){a()})},v_=(0,C.memo)((0,C.forwardRef)(function(e,t){var n=vv(g8,e);return vE(n.current,e),(0,C.useImperativeHandle)(t,function(){return n.current}),null})),vT=["children","data"],vx={autoFit:!0,shape:"heatmap",size:{field:"value",value:[0,1]},style:{intensity:3,radius:20,opacity:1,rampColors:{colors:["#FF4818","#F7B74A","#FFF598","#F27DEB","#8C1EB2","#421EB2"],positions:[0,.2,.4,.6,.8,1]}}},vS=(b={},(0,w.Z)((0,w.Z)((0,w.Z)((0,w.Z)((0,w.Z)((0,w.Z)((0,w.Z)((0,w.Z)((0,w.Z)((0,w.Z)(b,O.Line,function(e){var t=rh("Line",rA,e);return C.createElement(rS,t)}),O.Column,function(e){var t=rh("Column",rT,e);return C.createElement(r_,t)}),O.Pie,function(e){var t=rh("Pie",rO,e);return C.createElement(rw,t)}),O.Bar,function(e){var t=rh("Bar",ry,e);return C.createElement(rv,t)}),O.Area,function(e){var t=rh("Area",rm,e);return C.createElement(n1,t)}),O.Scatter,function(e){var t=rh("Scatter",rR,e);return C.createElement(rL,t)}),O.PinMap,function(e){var t=rf("PinMap",e),n=t.data,r=t.markerStyle,i=(0,S.Z)(t,gJ),o=(0,C.useMemo)(function(){return gj(n||[],r)},[n,r]);return C.createElement(gQ,(0,x.Z)({markers:o,includePoints:o},i))}),O.HeatMap,function(e){var t=rf("HeatMap",e),n=t.children,r=t.data,i=(0,S.Z)(t,vT),o=(0,C.useMemo)(function(){return{data:r||[],parser:{type:"json",x:"longitude",y:"latitude"}}},[r]);return C.createElement(C.Fragment,null,C.createElement(gQ,i,C.createElement(v_,(0,x.Z)({},vx,{source:o})),n))}),O.MindMap,function(e){var t=e.data,n=(0,S.Z)(e,fX),r=(0,C.useMemo)(function(){return ur(t,{getNodeData:function(e,t){if(e.id=e.name,e.depth=t,!e.children)return e;var n=e.children,r=(0,S.Z)(e,f$);return(0,_.Z)((0,_.Z)({},r),{},{children:n.map(function(e){return e.name})})},getEdgeData:function(e,t){return{source:e.name,target:t.name}}})},[t]),i=rg("MindMap",fK,n);return C.createElement(fZ,(0,x.Z)({data:r},i))}),O.FlowDiagram,function(e){var t=e.data,n=(0,S.Z)(e,fY),r=(0,C.useMemo)(function(){return fW(t)},[t]),i=rg("FlowDiagram",n2(fq,!function(e){var t=e.nodes,n=void 0===t?[]:t,r=e.edges,i={},o={},a={};n.forEach(function(e){i[e.id]=0,o[e.id]=0,a[e.id]=[]}),(void 0===r?[]:r).forEach(function(e){i[e.target]++,o[e.source]++,a[e.source].push(e.target)});var s=new Set;if(function e(t){s.has(t)||(s.add(t),a[t].forEach(e))}(n[0].id),s.size!==n.length)return!1;var l=n.filter(function(e){return 0===i[e.id]}),c=n.filter(function(e){return 0===o[e.id]});return 1===l.length&&1===c.length&&n.filter(function(e){return 1===i[e.id]&&1===o[e.id]}).length===n.length-2}(r)?{}:{node:{style:{ports:[{placement:"right"},{placement:"left"},{placement:"top"},{placement:"bottom"}]}},layout:{type:"snake",cols:3,rowGap:40}}),n);return C.createElement(fw,(0,x.Z)({data:r},i))}),(0,w.Z)(b,O.NetworkGraph,function(e){var t=e.data,n=(0,S.Z)(e,fQ),r=(0,C.useMemo)(function(){return fW(t)},[t]),i=rg("NetworkGraph",fJ,n);return C.createElement(fH,(0,x.Z)({data:r},i))})),vA=n(34230),vC=hN.div.withConfig({displayName:"StyledLoading",componentId:"gpt-vis-c7ef__sc-4x7w8p-0"})(["display:flex;align-items:center;justify-content:center;flex-direction:column;height:300px;background-image:linear-gradient(135deg,#e3f3ff 0%,#f1eeff 100%);color:rgba(0,0,0,88%);&-icon{margin-bottom:6px;}"]),vw=function(){return C.createElement(vC,{className:"gpt-vis-loading"},C.createElement("div",{className:"gpt-vis-loading-icon"},C.createElement(vA.Z,{style:{fontSize:"24px",color:"rgb(56, 177, 246)"}})),C.createElement("p",null,"数据生成中"))},vO=["type"],vI=hN.div.withConfig({displayName:"StyledGPTVis",componentId:"gpt-vis-c7ef__sc-1f5p953-0"})(["min-width:300px;height:300px;max-width:100%;"]),vL=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=hk.apply(void 0,uL([e],t,!1)),i="sc-global-".concat(dA(pN(JSON.stringify(r))>>>0)),o=new hM(r,i),a=function(e){var t=hb(),n=C.useContext(hw),r=C.useRef(t.styleSheet.allocateGSInstance(i)).current;return t.styleSheet.server&&s(r,e,t.styleSheet,n,t.stylis),C.useLayoutEffect(function(){if(!t.styleSheet.server)return s(r,e,t.styleSheet,n,t.stylis),function(){return o.removeStyles(r,t.styleSheet)}},[r,e,t.styleSheet,n,t.stylis]),null};function s(e,t,n,r,i){if(o.isStatic)o.renderStyles(e,dg,n,i);else{var s=uI(uI({},t),{theme:dv(t,r,a.defaultProps)});o.renderStyles(e,s,n,i)}}return C.memo(a)}(["pre:has(.gpt-vis){overflow:hidden;}"]),vR=(0,C.memo)(function(e){var t,n=e.style,r=e.content,i=e.components,o=e.debug,a=e.loadingTimeout,s=(0,C.useRef)(),l=(0,C.useState)(!0),c=(0,n4.Z)(l,2),u=c[0],d=c[1];try{t=JSON.parse(r)}catch(e){if(s.current&&(clearTimeout(s.current),o&&console.warn("GPT-Vis withChartCode parse content timeout")),s.current=setTimeout(function(){d(!1)},a),u)return C.createElement(vI,{className:"gpt-vis",style:n},C.createElement(vw,null));return C.createElement("p",null,"Chart generation timeout.")}var p=t,h=p.type,f=(0,S.Z)(p,vO),g=i[h];return(o&&console.log("GPT-Vis withChartCode get chartJson parse from vis-chart code block",t),g)?C.createElement(vI,{className:"gpt-vis",style:n},C.createElement(vL,null),C.createElement(g,f)):C.createElement("p",null,'Chart type "'.concat(h,'" is not supported.'))}),vk=["children","className","node"],vN=function(e){var t=e.children,n=e.className,r=(e.node,(0,S.Z)(e,vk));return C.createElement("code",(0,x.Z)({},r,{className:void 0===n?"":n}),t)},vM=function(e){var t;return t=(0,_.Z)((0,_.Z)({},e),{},{components:(0,_.Z)((0,_.Z)({},vS),(0,A.get)(e,"components",{}))}),function(e){var n,r=e.children,i=e.className,o=void 0===i?"":i,a=String(r).trim(),s=o.includes("language-vis-chart"),l=t.components,c=t.languageRenderers,u=t.defaultRenderer,d=t.debug,p=t.loadingTimeout,h=t.style;if(s)return C.createElement(vR,{style:h,content:a,components:l,debug:d,loadingTimeout:void 0===p?5e3:p});var f=(null===(n=o.match(/language-(.*)/))||void 0===n?void 0:n[1])||"",g=c&&c[f];return g?C.createElement(g,e):u?C.createElement(u,e):C.createElement(vN,e)}}},56275:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(29911),i=n(55443),o=n(35245),a=n(75271),s=n(41849),l=n(35979),c=n(80216),u=n(79842),d=n(94016),p=n(83699),h=a.createContext(null),f=["children","components","rehypePlugins","remarkPlugins","eventSubs"],g=(0,a.memo)(function(e){var t=e.children,n=e.components,i=e.rehypePlugins,s=e.remarkPlugins,g=e.eventSubs,m=(0,o.Z)(e,f),b=(0,a.useMemo)(function(){return new c.Z},[]),v=(0,a.useMemo)(function(){return{eventBus:b}},[b]);return(0,a.useEffect)(function(){if(g){for(var e=Object.keys(g),t=0;t<e.length;t++){var n=e[t];b.on(n,g[n])}return function(){for(var t=0;t<e.length;t++){var n=e[t];b.off(n,g[n])}}}},[b,g]),a.createElement(h.Provider,{value:v},a.createElement(u.UG,(0,r.Z)({components:n,rehypePlugins:[d.Z].concat((0,l.Z)(i||[])),remarkPlugins:[p.Z].concat((0,l.Z)(s||[]))},m),t))}),m=["children","components"],b=(0,s.r)(),v=(0,a.memo)(function(e){var t=e.children,n=e.components,s=(0,o.Z)(e,m);return a.createElement(g,(0,r.Z)({components:(0,i.Z)({code:b},n)},s),t)})},99474:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r,i,o=n(35245),a=n(35979),s=n(35576),l=n(75271),c=n(29911);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p={},h=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=/\n/g;function b(e){var t,n,r,i,o=e.codeString,a=e.codeStyle,s=e.containerStyle,c=void 0===s?{float:"left",paddingRight:"10px"}:s,u=e.numberStyle,d=e.startingLineNumber;return l.createElement("code",{style:Object.assign({},a,c)},(n=(t={lines:o.replace(/\n$/,"").split("\n"),style:void 0===u?{}:u,startingLineNumber:d}).lines,r=t.startingLineNumber,i=t.style,n.map(function(e,t){var n=t+r;return l.createElement("span",{key:"line-".concat(t),className:"react-syntax-highlighter-line-number",style:"function"==typeof i?i(n):i},"".concat(n,"\n"))})))}function v(e,t){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(e),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:t},children:[{type:"text",value:e}]}}function y(e,t,n){var r={display:"inline-block",minWidth:"".concat(n.toString().length,".25em"),paddingRight:"1em",textAlign:"right",userSelect:"none"},i="function"==typeof e?e(t):e;return g(g({},r),i)}function E(e){var t=e.children,n=e.lineNumber,r=e.lineNumberStyle,i=e.largestLineNumber,o=e.showInlineLineNumbers,a=e.lineProps,s=void 0===a?{}:a,l=e.className,c=e.showLineNumbers,u=e.wrapLongLines,d="function"==typeof s?s(n):s;if(d.className=void 0===l?[]:l,n&&o){var p=y(r,n,i);t.unshift(v(n,p))}return u&c&&(d.style=g(g({},d.style),{},{display:"flex"})),{type:"element",tagName:"span",properties:d,children:t}}function _(e){var t=e.rows,n=e.stylesheet,r=e.useInlineStyles;return t.map(function(e,t){return function e(t){var n=t.node,r=t.stylesheet,i=t.style,o=t.useInlineStyles,a=t.key,s=n.properties,u=n.type,h=n.tagName,f=n.value;if("text"===u)return f;if(h){var g,m,b=(g=0,function(t){return g+=1,t.map(function(t,n){return e({node:t,stylesheet:r,useInlineStyles:o,key:"code-segment-".concat(g,"-").concat(n)})})});if(o){var v=Object.keys(r).reduce(function(e,t){return t.split(".").forEach(function(t){e.includes(t)||e.push(t)}),e},[]),y=s.className&&s.className.includes("token")?["token"]:[],E=s.className&&y.concat(s.className.filter(function(e){return!v.includes(e)}));m=d(d({},s),{},{className:E.join(" ")||void 0,style:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return(function(e){if(0===e.length||1===e.length)return e;var t,n=e.join(".");return p[n]||(p[n]=0===(t=e.length)||1===t?e:2===t?[e[0],e[1],"".concat(e[0],".").concat(e[1]),"".concat(e[1],".").concat(e[0])]:3===t?[e[0],e[1],e[2],"".concat(e[0],".").concat(e[1]),"".concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[0]),"".concat(e[1],".").concat(e[2]),"".concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[1],".").concat(e[0])]:t>=4?[e[0],e[1],e[2],e[3],"".concat(e[0],".").concat(e[1]),"".concat(e[0],".").concat(e[2]),"".concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[0]),"".concat(e[1],".").concat(e[2]),"".concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[1]),"".concat(e[2],".").concat(e[3]),"".concat(e[3],".").concat(e[0]),"".concat(e[3],".").concat(e[1]),"".concat(e[3],".").concat(e[2]),"".concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[1],".").concat(e[3]),"".concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[2],".").concat(e[3]),"".concat(e[0],".").concat(e[3],".").concat(e[1]),"".concat(e[0],".").concat(e[3],".").concat(e[2]),"".concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[1],".").concat(e[2],".").concat(e[3]),"".concat(e[1],".").concat(e[3],".").concat(e[0]),"".concat(e[1],".").concat(e[3],".").concat(e[2]),"".concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[0],".").concat(e[3]),"".concat(e[2],".").concat(e[1],".").concat(e[0]),"".concat(e[2],".").concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[3],".").concat(e[0]),"".concat(e[2],".").concat(e[3],".").concat(e[1]),"".concat(e[3],".").concat(e[0],".").concat(e[1]),"".concat(e[3],".").concat(e[0],".").concat(e[2]),"".concat(e[3],".").concat(e[1],".").concat(e[0]),"".concat(e[3],".").concat(e[1],".").concat(e[2]),"".concat(e[3],".").concat(e[2],".").concat(e[0]),"".concat(e[3],".").concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[1],".").concat(e[2],".").concat(e[3]),"".concat(e[0],".").concat(e[1],".").concat(e[3],".").concat(e[2]),"".concat(e[0],".").concat(e[2],".").concat(e[1],".").concat(e[3]),"".concat(e[0],".").concat(e[2],".").concat(e[3],".").concat(e[1]),"".concat(e[0],".").concat(e[3],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[3],".").concat(e[2],".").concat(e[1]),"".concat(e[1],".").concat(e[0],".").concat(e[2],".").concat(e[3]),"".concat(e[1],".").concat(e[0],".").concat(e[3],".").concat(e[2]),"".concat(e[1],".").concat(e[2],".").concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[2],".").concat(e[3],".").concat(e[0]),"".concat(e[1],".").concat(e[3],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[3],".").concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[0],".").concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[0],".").concat(e[3],".").concat(e[1]),"".concat(e[2],".").concat(e[1],".").concat(e[0],".").concat(e[3]),"".concat(e[2],".").concat(e[1],".").concat(e[3],".").concat(e[0]),"".concat(e[2],".").concat(e[3],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[3],".").concat(e[1],".").concat(e[0]),"".concat(e[3],".").concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[3],".").concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[3],".").concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[3],".").concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[3],".").concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[3],".").concat(e[2],".").concat(e[1],".").concat(e[0])]:void 0),p[n]})(e.filter(function(e){return"token"!==e})).reduce(function(e,t){return d(d({},e),n[t])},t)}(s.className,Object.assign({},s.style,void 0===i?{}:i),r)})}else m=d(d({},s),{},{className:s.className.join(" ")});var _=b(n.children);return l.createElement(h,(0,c.Z)({key:a},m),_)}}({node:e,stylesheet:n,useInlineStyles:r,key:"code-segement".concat(t)})})}function x(e){return e&&void 0!==e.highlightAuto}var S=n(92726),A=(r=n.n(S)(),i={'code[class*="language-"]':{color:"black",background:"none",textShadow:"0 1px white",fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",fontSize:"1em",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{color:"black",background:"#f5f2f0",textShadow:"0 1px white",fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",fontSize:"1em",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:".5em 0",overflow:"auto"},'pre[class*="language-"]::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'pre[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"]::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'pre[class*="language-"]::selection':{textShadow:"none",background:"#b3d4fc"},'pre[class*="language-"] ::selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"]::selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"] ::selection':{textShadow:"none",background:"#b3d4fc"},':not(pre) > code[class*="language-"]':{background:"#f5f2f0",padding:".1em",borderRadius:".3em",whiteSpace:"normal"},comment:{color:"slategray"},prolog:{color:"slategray"},doctype:{color:"slategray"},cdata:{color:"slategray"},punctuation:{color:"#999"},namespace:{Opacity:".7"},property:{color:"#905"},tag:{color:"#905"},boolean:{color:"#905"},number:{color:"#905"},constant:{color:"#905"},symbol:{color:"#905"},deleted:{color:"#905"},selector:{color:"#690"},"attr-name":{color:"#690"},string:{color:"#690"},char:{color:"#690"},builtin:{color:"#690"},inserted:{color:"#690"},operator:{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},entity:{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)",cursor:"help"},url:{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},".language-css .token.string":{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},".style .token.string":{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},atrule:{color:"#07a"},"attr-value":{color:"#07a"},keyword:{color:"#07a"},function:{color:"#DD4A68"},"class-name":{color:"#DD4A68"},regex:{color:"#e90"},important:{color:"#e90",fontWeight:"bold"},variable:{color:"#e90"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"}},function(e){var t=e.language,n=e.children,s=e.style,c=void 0===s?i:s,u=e.customStyle,d=void 0===u?{}:u,p=e.codeTagProps,f=void 0===p?{className:t?"language-".concat(t):void 0,style:g(g({},c['code[class*="language-"]']),c['code[class*="language-'.concat(t,'"]')])}:p,S=e.useInlineStyles,A=void 0===S||S,C=e.showLineNumbers,w=void 0!==C&&C,O=e.showInlineLineNumbers,I=void 0===O||O,L=e.startingLineNumber,R=void 0===L?1:L,k=e.lineNumberContainerStyle,N=e.lineNumberStyle,M=void 0===N?{}:N,D=e.wrapLines,P=e.wrapLongLines,F=void 0!==P&&P,B=e.lineProps,U=void 0===B?{}:B,z=e.renderer,Z=e.PreTag,j=void 0===Z?"pre":Z,H=e.CodeTag,G=void 0===H?"code":H,V=e.code,$=void 0===V?(Array.isArray(n)?n[0]:n)||"":V,W=e.astGenerator,Y=(0,o.Z)(e,h);W=W||r;var q=w?l.createElement(b,{containerStyle:k,codeStyle:f.style||{},numberStyle:M,startingLineNumber:R,codeString:$}):null,X=c.hljs||c['pre[class*="language-"]']||{backgroundColor:"#fff"},K=x(W)?"hljs":"prismjs",Q=A?Object.assign({},Y,{style:Object.assign({},X,d)}):Object.assign({},Y,{className:Y.className?"".concat(K," ").concat(Y.className):K,style:Object.assign({},d)});if(F?f.style=g(g({},f.style),{},{whiteSpace:"pre-wrap"}):f.style=g(g({},f.style),{},{whiteSpace:"pre"}),!W)return l.createElement(j,Q,q,l.createElement(G,f,$));(void 0===D&&z||F)&&(D=!0),z=z||_;var J=[{type:"text",value:$}],ee=function(e){var t=e.astGenerator,n=e.language,r=e.code,i=e.defaultCodeValue;if(x(t)){var o=-1!==t.listLanguages().indexOf(n);return"text"===n?{value:i,language:"text"}:o?t.highlight(n,r):t.highlightAuto(r)}try{return n&&"text"!==n?{value:t.highlight(r,n)}:{value:i}}catch(e){return{value:i}}}({astGenerator:W,language:t,code:$,defaultCodeValue:J});null===ee.language&&(ee.value=J);var et=ee.value.length+R,en=function(e,t,n,r,i,o,s,l,c){var u,d=function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=0;i<t.length;i++){var o=t[i];if("text"===o.type)r.push(E({children:[o],className:(0,a.Z)(new Set(n))}));else if(o.children){var s=n.concat(o.properties.className);e(o.children,s).forEach(function(e){return r.push(e)})}}return r}(e.value),p=[],h=-1,f=0;function g(e,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t||a.length>0?function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return E({children:e,lineNumber:t,lineNumberStyle:l,largestLineNumber:s,showInlineLineNumbers:i,lineProps:n,className:o,showLineNumbers:r,wrapLongLines:c})}(e,o,a):function(e,t){if(r&&t&&i){var n=y(l,t,s);e.unshift(v(t,n))}return e}(e,o)}for(;f<d.length;)!function(){var e=d[f],t=e.children[0].value;if(t.match(m)){var n=t.split("\n");n.forEach(function(t,i){var a=r&&p.length+o,s={type:"text",value:"".concat(t,"\n")};if(0===i){var l=g(d.slice(h+1,f).concat(E({children:[s],className:e.properties.className})),a);p.push(l)}else if(i===n.length-1){var c=d[f+1]&&d[f+1].children&&d[f+1].children[0],u={type:"text",value:"".concat(t)};if(c){var m=E({children:[u],className:e.properties.className});d.splice(f+1,0,m)}else{var b=g([u],a,e.properties.className);p.push(b)}}else{var v=g([s],a,e.properties.className);p.push(v)}}),h=f}f++}();if(h!==d.length-1){var b=d.slice(h+1,d.length);if(b&&b.length){var _=g(b,r&&p.length+o);p.push(_)}}return t?p:(u=[]).concat.apply(u,p)}(ee,D,U,w,I,R,et,M,F);return l.createElement(j,Q,l.createElement(G,f,!I&&q,z({rows:en,stylesheet:c,useInlineStyles:A})))});A.supportedLanguages=["abap","abnf","actionscript","ada","agda","al","antlr4","apacheconf","apex","apl","applescript","aql","arduino","arff","asciidoc","asm6502","asmatmel","aspnet","autohotkey","autoit","avisynth","avro-idl","bash","basic","batch","bbcode","bicep","birb","bison","bnf","brainfuck","brightscript","bro","bsl","c","cfscript","chaiscript","cil","clike","clojure","cmake","cobol","coffeescript","concurnas","coq","cpp","crystal","csharp","cshtml","csp","css-extras","css","csv","cypher","d","dart","dataweave","dax","dhall","diff","django","dns-zone-file","docker","dot","ebnf","editorconfig","eiffel","ejs","elixir","elm","erb","erlang","etlua","excel-formula","factor","false","firestore-security-rules","flow","fortran","fsharp","ftl","gap","gcode","gdscript","gedcom","gherkin","git","glsl","gml","gn","go-module","go","graphql","groovy","haml","handlebars","haskell","haxe","hcl","hlsl","hoon","hpkp","hsts","http","ichigojam","icon","icu-message-format","idris","iecst","ignore","inform7","ini","io","j","java","javadoc","javadoclike","javascript","javastacktrace","jexl","jolie","jq","js-extras","js-templates","jsdoc","json","json5","jsonp","jsstacktrace","jsx","julia","keepalived","keyman","kotlin","kumir","kusto","latex","latte","less","lilypond","liquid","lisp","livescript","llvm","log","lolcode","lua","magma","makefile","markdown","markup-templating","markup","matlab","maxscript","mel","mermaid","mizar","mongodb","monkey","moonscript","n1ql","n4js","nand2tetris-hdl","naniscript","nasm","neon","nevod","nginx","nim","nix","nsis","objectivec","ocaml","opencl","openqasm","oz","parigp","parser","pascal","pascaligo","pcaxis","peoplecode","perl","php-extras","php","phpdoc","plsql","powerquery","powershell","processing","prolog","promql","properties","protobuf","psl","pug","puppet","pure","purebasic","purescript","python","q","qml","qore","qsharp","r","racket","reason","regex","rego","renpy","rest","rip","roboconf","robotframework","ruby","rust","sas","sass","scala","scheme","scss","shell-session","smali","smalltalk","smarty","sml","solidity","solution-file","soy","sparql","splunk-spl","sqf","sql","squirrel","stan","stylus","swift","systemd","t4-cs","t4-templating","t4-vb","tap","tcl","textile","toml","tremor","tsx","tt2","turtle","twig","typescript","typoscript","unrealscript","uorazor","uri","v","vala","vbnet","velocity","verilog","vhdl","vim","visual-basic","warpscript","wasm","web-idl","wiki","wolfram","wren","xeora","xml-doc","xojo","xquery","yaml","yang","zig"];var C=A},24146:function(e,t){"use strict";t.Z={'code[class*="language-"]':{color:"#e3eaf2",background:"none",fontFamily:'Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace',textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{color:"#e3eaf2",background:"#111b27",fontFamily:'Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace',textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:"0.5em 0",overflow:"auto"},'pre[class*="language-"]::-moz-selection':{background:"#3c526d"},'pre[class*="language-"] ::-moz-selection':{background:"#3c526d"},'code[class*="language-"]::-moz-selection':{background:"#3c526d"},'code[class*="language-"] ::-moz-selection':{background:"#3c526d"},'pre[class*="language-"]::selection':{background:"#3c526d"},'pre[class*="language-"] ::selection':{background:"#3c526d"},'code[class*="language-"]::selection':{background:"#3c526d"},'code[class*="language-"] ::selection':{background:"#3c526d"},':not(pre) > code[class*="language-"]':{background:"#111b27",padding:"0.1em 0.3em",borderRadius:"0.3em",whiteSpace:"normal"},comment:{color:"#8da1b9"},prolog:{color:"#8da1b9"},doctype:{color:"#8da1b9"},cdata:{color:"#8da1b9"},punctuation:{color:"#e3eaf2"},"delimiter.important":{color:"#66cccc",fontWeight:"inherit"},"selector.parent":{color:"#66cccc"},tag:{color:"#66cccc"},"tag.punctuation":{color:"#66cccc"},"attr-name":{color:"#e6d37a"},boolean:{color:"#e6d37a"},"boolean.important":{color:"#e6d37a"},number:{color:"#e6d37a"},constant:{color:"#e6d37a"},"selector.attribute":{color:"#e6d37a"},"class-name":{color:"#6cb8e6"},key:{color:"#6cb8e6"},parameter:{color:"#6cb8e6"},property:{color:"#6cb8e6"},"property-access":{color:"#6cb8e6"},variable:{color:"#6cb8e6"},"attr-value":{color:"#91d076"},inserted:{color:"#91d076"},color:{color:"#91d076"},"selector.value":{color:"#91d076"},string:{color:"#91d076"},"string.url-link":{color:"#91d076"},builtin:{color:"#f4adf4"},"keyword-array":{color:"#f4adf4"},package:{color:"#f4adf4"},regex:{color:"#f4adf4"},function:{color:"#c699e3"},"selector.class":{color:"#c699e3"},"selector.id":{color:"#c699e3"},"atrule.rule":{color:"#e9ae7e"},combinator:{color:"#e9ae7e"},keyword:{color:"#e9ae7e"},operator:{color:"#e9ae7e"},"pseudo-class":{color:"#e9ae7e"},"pseudo-element":{color:"#e9ae7e"},selector:{color:"#e9ae7e"},unit:{color:"#e9ae7e"},deleted:{color:"#cd6660"},important:{color:"#cd6660",fontWeight:"bold"},"keyword-this":{color:"#6cb8e6",fontWeight:"bold"},this:{color:"#6cb8e6",fontWeight:"bold"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},entity:{cursor:"help"},".language-markdown .token.title":{color:"#6cb8e6",fontWeight:"bold"},".language-markdown .token.title .token.punctuation":{color:"#6cb8e6",fontWeight:"bold"},".language-markdown .token.blockquote.punctuation":{color:"#f4adf4"},".language-markdown .token.code":{color:"#66cccc"},".language-markdown .token.hr.punctuation":{color:"#6cb8e6"},".language-markdown .token.url .token.content":{color:"#91d076"},".language-markdown .token.url-link":{color:"#e6d37a"},".language-markdown .token.list.punctuation":{color:"#f4adf4"},".language-markdown .token.table-header":{color:"#e3eaf2"},".language-json .token.operator":{color:"#e3eaf2"},".language-scss .token.variable":{color:"#66cccc"},"token.tab:not(:empty):before":{color:"#8da1b9"},"token.cr:before":{color:"#8da1b9"},"token.lf:before":{color:"#8da1b9"},"token.space:before":{color:"#8da1b9"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a":{color:"#111b27",background:"#6cb8e6"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button":{color:"#111b27",background:"#6cb8e6"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:hover":{color:"#111b27",background:"#6cb8e6da",textDecoration:"none"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:focus":{color:"#111b27",background:"#6cb8e6da",textDecoration:"none"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:hover":{color:"#111b27",background:"#6cb8e6da",textDecoration:"none"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:focus":{color:"#111b27",background:"#6cb8e6da",textDecoration:"none"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span":{color:"#111b27",background:"#8da1b9"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:hover":{color:"#111b27",background:"#8da1b9"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:focus":{color:"#111b27",background:"#8da1b9"},".line-highlight.line-highlight":{background:"linear-gradient(to right, #3c526d5f 70%, #3c526d55)"},".line-highlight.line-highlight:before":{backgroundColor:"#8da1b9",color:"#111b27",boxShadow:"0 1px #3c526d"},".line-highlight.line-highlight[data-end]:after":{backgroundColor:"#8da1b9",color:"#111b27",boxShadow:"0 1px #3c526d"},"pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows > span:hover:before":{backgroundColor:"#8da1b918"},".line-numbers.line-numbers .line-numbers-rows":{borderRight:"1px solid #0b121b",background:"#0b121b7a"},".line-numbers .line-numbers-rows > span:before":{color:"#8da1b9da"},".rainbow-braces .token.token.punctuation.brace-level-1":{color:"#e6d37a"},".rainbow-braces .token.token.punctuation.brace-level-5":{color:"#e6d37a"},".rainbow-braces .token.token.punctuation.brace-level-9":{color:"#e6d37a"},".rainbow-braces .token.token.punctuation.brace-level-2":{color:"#f4adf4"},".rainbow-braces .token.token.punctuation.brace-level-6":{color:"#f4adf4"},".rainbow-braces .token.token.punctuation.brace-level-10":{color:"#f4adf4"},".rainbow-braces .token.token.punctuation.brace-level-3":{color:"#6cb8e6"},".rainbow-braces .token.token.punctuation.brace-level-7":{color:"#6cb8e6"},".rainbow-braces .token.token.punctuation.brace-level-11":{color:"#6cb8e6"},".rainbow-braces .token.token.punctuation.brace-level-4":{color:"#c699e3"},".rainbow-braces .token.token.punctuation.brace-level-8":{color:"#c699e3"},".rainbow-braces .token.token.punctuation.brace-level-12":{color:"#c699e3"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)":{backgroundColor:"#cd66601f"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)":{backgroundColor:"#cd66601f"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)":{backgroundColor:"#91d0761f"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)":{backgroundColor:"#91d0761f"},".command-line .command-line-prompt":{borderRight:"1px solid #0b121b"},".command-line .command-line-prompt > span:before":{color:"#8da1b9da"}}},59261:function(e,t){"use strict";t.Z={'code[class*="language-"]':{background:"hsl(220, 13%, 18%)",color:"hsl(220, 14%, 71%)",textShadow:"0 1px rgba(0, 0, 0, 0.3)",fontFamily:'"Fira Code", "Fira Mono", Menlo, Consolas, "DejaVu Sans Mono", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{background:"hsl(220, 13%, 18%)",color:"hsl(220, 14%, 71%)",textShadow:"0 1px rgba(0, 0, 0, 0.3)",fontFamily:'"Fira Code", "Fira Mono", Menlo, Consolas, "DejaVu Sans Mono", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:"0.5em 0",overflow:"auto",borderRadius:"0.3em"},'code[class*="language-"]::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"] *::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'pre[class*="language-"] *::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"]::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"] *::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'pre[class*="language-"] *::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},':not(pre) > code[class*="language-"]':{padding:"0.2em 0.3em",borderRadius:"0.3em",whiteSpace:"normal"},comment:{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},prolog:{color:"hsl(220, 10%, 40%)"},cdata:{color:"hsl(220, 10%, 40%)"},doctype:{color:"hsl(220, 14%, 71%)"},punctuation:{color:"hsl(220, 14%, 71%)"},entity:{color:"hsl(220, 14%, 71%)",cursor:"help"},"attr-name":{color:"hsl(29, 54%, 61%)"},"class-name":{color:"hsl(29, 54%, 61%)"},boolean:{color:"hsl(29, 54%, 61%)"},constant:{color:"hsl(29, 54%, 61%)"},number:{color:"hsl(29, 54%, 61%)"},atrule:{color:"hsl(29, 54%, 61%)"},keyword:{color:"hsl(286, 60%, 67%)"},property:{color:"hsl(355, 65%, 65%)"},tag:{color:"hsl(355, 65%, 65%)"},symbol:{color:"hsl(355, 65%, 65%)"},deleted:{color:"hsl(355, 65%, 65%)"},important:{color:"hsl(355, 65%, 65%)"},selector:{color:"hsl(95, 38%, 62%)"},string:{color:"hsl(95, 38%, 62%)"},char:{color:"hsl(95, 38%, 62%)"},builtin:{color:"hsl(95, 38%, 62%)"},inserted:{color:"hsl(95, 38%, 62%)"},regex:{color:"hsl(95, 38%, 62%)"},"attr-value":{color:"hsl(95, 38%, 62%)"},"attr-value > .token.punctuation":{color:"hsl(95, 38%, 62%)"},variable:{color:"hsl(207, 82%, 66%)"},operator:{color:"hsl(207, 82%, 66%)"},function:{color:"hsl(207, 82%, 66%)"},url:{color:"hsl(187, 47%, 55%)"},"attr-value > .token.punctuation.attr-equals":{color:"hsl(220, 14%, 71%)"},"special-attr > .token.attr-value > .token.value.css":{color:"hsl(220, 14%, 71%)"},".language-css .token.selector":{color:"hsl(355, 65%, 65%)"},".language-css .token.property":{color:"hsl(220, 14%, 71%)"},".language-css .token.function":{color:"hsl(187, 47%, 55%)"},".language-css .token.url > .token.function":{color:"hsl(187, 47%, 55%)"},".language-css .token.url > .token.string.url":{color:"hsl(95, 38%, 62%)"},".language-css .token.important":{color:"hsl(286, 60%, 67%)"},".language-css .token.atrule .token.rule":{color:"hsl(286, 60%, 67%)"},".language-javascript .token.operator":{color:"hsl(286, 60%, 67%)"},".language-javascript .token.template-string > .token.interpolation > .token.interpolation-punctuation.punctuation":{color:"hsl(5, 48%, 51%)"},".language-json .token.operator":{color:"hsl(220, 14%, 71%)"},".language-json .token.null.keyword":{color:"hsl(29, 54%, 61%)"},".language-markdown .token.url":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url > .token.operator":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url-reference.url > .token.string":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url > .token.content":{color:"hsl(207, 82%, 66%)"},".language-markdown .token.url > .token.url":{color:"hsl(187, 47%, 55%)"},".language-markdown .token.url-reference.url":{color:"hsl(187, 47%, 55%)"},".language-markdown .token.blockquote.punctuation":{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},".language-markdown .token.hr.punctuation":{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},".language-markdown .token.code-snippet":{color:"hsl(95, 38%, 62%)"},".language-markdown .token.bold .token.content":{color:"hsl(29, 54%, 61%)"},".language-markdown .token.italic .token.content":{color:"hsl(286, 60%, 67%)"},".language-markdown .token.strike .token.content":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.strike .token.punctuation":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.list.punctuation":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.title.important > .token.punctuation":{color:"hsl(355, 65%, 65%)"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},namespace:{Opacity:"0.8"},"token.tab:not(:empty):before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.cr:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.lf:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.space:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item":{marginRight:"0.4em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},".line-highlight.line-highlight":{background:"hsla(220, 100%, 80%, 0.04)"},".line-highlight.line-highlight:before":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 14%, 71%)",padding:"0.1em 0.6em",borderRadius:"0.3em",boxShadow:"0 2px 0 0 rgba(0, 0, 0, 0.2)"},".line-highlight.line-highlight[data-end]:after":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 14%, 71%)",padding:"0.1em 0.6em",borderRadius:"0.3em",boxShadow:"0 2px 0 0 rgba(0, 0, 0, 0.2)"},"pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows > span:hover:before":{backgroundColor:"hsla(220, 100%, 80%, 0.04)"},".line-numbers.line-numbers .line-numbers-rows":{borderRightColor:"hsla(220, 14%, 71%, 0.15)"},".command-line .command-line-prompt":{borderRightColor:"hsla(220, 14%, 71%, 0.15)"},".line-numbers .line-numbers-rows > span:before":{color:"hsl(220, 14%, 45%)"},".command-line .command-line-prompt > span:before":{color:"hsl(220, 14%, 45%)"},".rainbow-braces .token.token.punctuation.brace-level-1":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-5":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-9":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-2":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-6":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-10":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-3":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-7":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-11":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-4":{color:"hsl(286, 60%, 67%)"},".rainbow-braces .token.token.punctuation.brace-level-8":{color:"hsl(286, 60%, 67%)"},".rainbow-braces .token.token.punctuation.brace-level-12":{color:"hsl(286, 60%, 67%)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)":{backgroundColor:"hsla(353, 100%, 66%, 0.15)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)":{backgroundColor:"hsla(353, 100%, 66%, 0.15)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix) *::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix) *::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)":{backgroundColor:"hsla(137, 100%, 55%, 0.15)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)":{backgroundColor:"hsla(137, 100%, 55%, 0.15)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix) *::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix) *::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},".prism-previewer.prism-previewer:before":{borderColor:"hsl(224, 13%, 17%)"},".prism-previewer-gradient.prism-previewer-gradient div":{borderColor:"hsl(224, 13%, 17%)",borderRadius:"0.3em"},".prism-previewer-color.prism-previewer-color:before":{borderRadius:"0.3em"},".prism-previewer-easing.prism-previewer-easing:before":{borderRadius:"0.3em"},".prism-previewer.prism-previewer:after":{borderTopColor:"hsl(224, 13%, 17%)"},".prism-previewer-flipped.prism-previewer-flipped.after":{borderBottomColor:"hsl(224, 13%, 17%)"},".prism-previewer-angle.prism-previewer-angle:before":{background:"hsl(219, 13%, 22%)"},".prism-previewer-time.prism-previewer-time:before":{background:"hsl(219, 13%, 22%)"},".prism-previewer-easing.prism-previewer-easing":{background:"hsl(219, 13%, 22%)"},".prism-previewer-angle.prism-previewer-angle circle":{stroke:"hsl(220, 14%, 71%)",strokeOpacity:"1"},".prism-previewer-time.prism-previewer-time circle":{stroke:"hsl(220, 14%, 71%)",strokeOpacity:"1"},".prism-previewer-easing.prism-previewer-easing circle":{stroke:"hsl(220, 14%, 71%)",fill:"transparent"},".prism-previewer-easing.prism-previewer-easing path":{stroke:"hsl(220, 14%, 71%)"},".prism-previewer-easing.prism-previewer-easing line":{stroke:"hsl(220, 14%, 71%)"}}},20722:function(e,t){"use strict";t.Z={'code[class*="language-"]':{background:"hsl(230, 1%, 98%)",color:"hsl(230, 8%, 24%)",fontFamily:'"Fira Code", "Fira Mono", Menlo, Consolas, "DejaVu Sans Mono", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{background:"hsl(230, 1%, 98%)",color:"hsl(230, 8%, 24%)",fontFamily:'"Fira Code", "Fira Mono", Menlo, Consolas, "DejaVu Sans Mono", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:"0.5em 0",overflow:"auto",borderRadius:"0.3em"},'code[class*="language-"]::-moz-selection':{background:"hsl(230, 1%, 90%)",color:"inherit"},'code[class*="language-"] *::-moz-selection':{background:"hsl(230, 1%, 90%)",color:"inherit"},'pre[class*="language-"] *::-moz-selection':{background:"hsl(230, 1%, 90%)",color:"inherit"},'code[class*="language-"]::selection':{background:"hsl(230, 1%, 90%)",color:"inherit"},'code[class*="language-"] *::selection':{background:"hsl(230, 1%, 90%)",color:"inherit"},'pre[class*="language-"] *::selection':{background:"hsl(230, 1%, 90%)",color:"inherit"},':not(pre) > code[class*="language-"]':{padding:"0.2em 0.3em",borderRadius:"0.3em",whiteSpace:"normal"},comment:{color:"hsl(230, 4%, 64%)",fontStyle:"italic"},prolog:{color:"hsl(230, 4%, 64%)"},cdata:{color:"hsl(230, 4%, 64%)"},doctype:{color:"hsl(230, 8%, 24%)"},punctuation:{color:"hsl(230, 8%, 24%)"},entity:{color:"hsl(230, 8%, 24%)",cursor:"help"},"attr-name":{color:"hsl(35, 99%, 36%)"},"class-name":{color:"hsl(35, 99%, 36%)"},boolean:{color:"hsl(35, 99%, 36%)"},constant:{color:"hsl(35, 99%, 36%)"},number:{color:"hsl(35, 99%, 36%)"},atrule:{color:"hsl(35, 99%, 36%)"},keyword:{color:"hsl(301, 63%, 40%)"},property:{color:"hsl(5, 74%, 59%)"},tag:{color:"hsl(5, 74%, 59%)"},symbol:{color:"hsl(5, 74%, 59%)"},deleted:{color:"hsl(5, 74%, 59%)"},important:{color:"hsl(5, 74%, 59%)"},selector:{color:"hsl(119, 34%, 47%)"},string:{color:"hsl(119, 34%, 47%)"},char:{color:"hsl(119, 34%, 47%)"},builtin:{color:"hsl(119, 34%, 47%)"},inserted:{color:"hsl(119, 34%, 47%)"},regex:{color:"hsl(119, 34%, 47%)"},"attr-value":{color:"hsl(119, 34%, 47%)"},"attr-value > .token.punctuation":{color:"hsl(119, 34%, 47%)"},variable:{color:"hsl(221, 87%, 60%)"},operator:{color:"hsl(221, 87%, 60%)"},function:{color:"hsl(221, 87%, 60%)"},url:{color:"hsl(198, 99%, 37%)"},"attr-value > .token.punctuation.attr-equals":{color:"hsl(230, 8%, 24%)"},"special-attr > .token.attr-value > .token.value.css":{color:"hsl(230, 8%, 24%)"},".language-css .token.selector":{color:"hsl(5, 74%, 59%)"},".language-css .token.property":{color:"hsl(230, 8%, 24%)"},".language-css .token.function":{color:"hsl(198, 99%, 37%)"},".language-css .token.url > .token.function":{color:"hsl(198, 99%, 37%)"},".language-css .token.url > .token.string.url":{color:"hsl(119, 34%, 47%)"},".language-css .token.important":{color:"hsl(301, 63%, 40%)"},".language-css .token.atrule .token.rule":{color:"hsl(301, 63%, 40%)"},".language-javascript .token.operator":{color:"hsl(301, 63%, 40%)"},".language-javascript .token.template-string > .token.interpolation > .token.interpolation-punctuation.punctuation":{color:"hsl(344, 84%, 43%)"},".language-json .token.operator":{color:"hsl(230, 8%, 24%)"},".language-json .token.null.keyword":{color:"hsl(35, 99%, 36%)"},".language-markdown .token.url":{color:"hsl(230, 8%, 24%)"},".language-markdown .token.url > .token.operator":{color:"hsl(230, 8%, 24%)"},".language-markdown .token.url-reference.url > .token.string":{color:"hsl(230, 8%, 24%)"},".language-markdown .token.url > .token.content":{color:"hsl(221, 87%, 60%)"},".language-markdown .token.url > .token.url":{color:"hsl(198, 99%, 37%)"},".language-markdown .token.url-reference.url":{color:"hsl(198, 99%, 37%)"},".language-markdown .token.blockquote.punctuation":{color:"hsl(230, 4%, 64%)",fontStyle:"italic"},".language-markdown .token.hr.punctuation":{color:"hsl(230, 4%, 64%)",fontStyle:"italic"},".language-markdown .token.code-snippet":{color:"hsl(119, 34%, 47%)"},".language-markdown .token.bold .token.content":{color:"hsl(35, 99%, 36%)"},".language-markdown .token.italic .token.content":{color:"hsl(301, 63%, 40%)"},".language-markdown .token.strike .token.content":{color:"hsl(5, 74%, 59%)"},".language-markdown .token.strike .token.punctuation":{color:"hsl(5, 74%, 59%)"},".language-markdown .token.list.punctuation":{color:"hsl(5, 74%, 59%)"},".language-markdown .token.title.important > .token.punctuation":{color:"hsl(5, 74%, 59%)"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},namespace:{Opacity:"0.8"},"token.tab:not(:empty):before":{color:"hsla(230, 8%, 24%, 0.2)"},"token.cr:before":{color:"hsla(230, 8%, 24%, 0.2)"},"token.lf:before":{color:"hsla(230, 8%, 24%, 0.2)"},"token.space:before":{color:"hsla(230, 8%, 24%, 0.2)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item":{marginRight:"0.4em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button":{background:"hsl(230, 1%, 90%)",color:"hsl(230, 6%, 44%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a":{background:"hsl(230, 1%, 90%)",color:"hsl(230, 6%, 44%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span":{background:"hsl(230, 1%, 90%)",color:"hsl(230, 6%, 44%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:hover":{background:"hsl(230, 1%, 78%)",color:"hsl(230, 8%, 24%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:focus":{background:"hsl(230, 1%, 78%)",color:"hsl(230, 8%, 24%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:hover":{background:"hsl(230, 1%, 78%)",color:"hsl(230, 8%, 24%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:focus":{background:"hsl(230, 1%, 78%)",color:"hsl(230, 8%, 24%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:hover":{background:"hsl(230, 1%, 78%)",color:"hsl(230, 8%, 24%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:focus":{background:"hsl(230, 1%, 78%)",color:"hsl(230, 8%, 24%)"},".line-highlight.line-highlight":{background:"hsla(230, 8%, 24%, 0.05)"},".line-highlight.line-highlight:before":{background:"hsl(230, 1%, 90%)",color:"hsl(230, 8%, 24%)",padding:"0.1em 0.6em",borderRadius:"0.3em",boxShadow:"0 2px 0 0 rgba(0, 0, 0, 0.2)"},".line-highlight.line-highlight[data-end]:after":{background:"hsl(230, 1%, 90%)",color:"hsl(230, 8%, 24%)",padding:"0.1em 0.6em",borderRadius:"0.3em",boxShadow:"0 2px 0 0 rgba(0, 0, 0, 0.2)"},"pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows > span:hover:before":{backgroundColor:"hsla(230, 8%, 24%, 0.05)"},".line-numbers.line-numbers .line-numbers-rows":{borderRightColor:"hsla(230, 8%, 24%, 0.2)"},".command-line .command-line-prompt":{borderRightColor:"hsla(230, 8%, 24%, 0.2)"},".line-numbers .line-numbers-rows > span:before":{color:"hsl(230, 1%, 62%)"},".command-line .command-line-prompt > span:before":{color:"hsl(230, 1%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-1":{color:"hsl(5, 74%, 59%)"},".rainbow-braces .token.token.punctuation.brace-level-5":{color:"hsl(5, 74%, 59%)"},".rainbow-braces .token.token.punctuation.brace-level-9":{color:"hsl(5, 74%, 59%)"},".rainbow-braces .token.token.punctuation.brace-level-2":{color:"hsl(119, 34%, 47%)"},".rainbow-braces .token.token.punctuation.brace-level-6":{color:"hsl(119, 34%, 47%)"},".rainbow-braces .token.token.punctuation.brace-level-10":{color:"hsl(119, 34%, 47%)"},".rainbow-braces .token.token.punctuation.brace-level-3":{color:"hsl(221, 87%, 60%)"},".rainbow-braces .token.token.punctuation.brace-level-7":{color:"hsl(221, 87%, 60%)"},".rainbow-braces .token.token.punctuation.brace-level-11":{color:"hsl(221, 87%, 60%)"},".rainbow-braces .token.token.punctuation.brace-level-4":{color:"hsl(301, 63%, 40%)"},".rainbow-braces .token.token.punctuation.brace-level-8":{color:"hsl(301, 63%, 40%)"},".rainbow-braces .token.token.punctuation.brace-level-12":{color:"hsl(301, 63%, 40%)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)":{backgroundColor:"hsla(353, 100%, 66%, 0.15)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)":{backgroundColor:"hsla(353, 100%, 66%, 0.15)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix) *::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix) *::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)":{backgroundColor:"hsla(137, 100%, 55%, 0.15)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)":{backgroundColor:"hsla(137, 100%, 55%, 0.15)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix) *::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix) *::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},".prism-previewer.prism-previewer:before":{borderColor:"hsl(0, 0, 95%)"},".prism-previewer-gradient.prism-previewer-gradient div":{borderColor:"hsl(0, 0, 95%)",borderRadius:"0.3em"},".prism-previewer-color.prism-previewer-color:before":{borderRadius:"0.3em"},".prism-previewer-easing.prism-previewer-easing:before":{borderRadius:"0.3em"},".prism-previewer.prism-previewer:after":{borderTopColor:"hsl(0, 0, 95%)"},".prism-previewer-flipped.prism-previewer-flipped.after":{borderBottomColor:"hsl(0, 0, 95%)"},".prism-previewer-angle.prism-previewer-angle:before":{background:"hsl(0, 0%, 100%)"},".prism-previewer-time.prism-previewer-time:before":{background:"hsl(0, 0%, 100%)"},".prism-previewer-easing.prism-previewer-easing":{background:"hsl(0, 0%, 100%)"},".prism-previewer-angle.prism-previewer-angle circle":{stroke:"hsl(230, 8%, 24%)",strokeOpacity:"1"},".prism-previewer-time.prism-previewer-time circle":{stroke:"hsl(230, 8%, 24%)",strokeOpacity:"1"},".prism-previewer-easing.prism-previewer-easing circle":{stroke:"hsl(230, 8%, 24%)",fill:"transparent"},".prism-previewer-easing.prism-previewer-easing path":{stroke:"hsl(230, 8%, 24%)"},".prism-previewer-easing.prism-previewer-easing line":{stroke:"hsl(230, 8%, 24%)"}}},14425:function(e,t,n){"use strict";var r=n(52676),i=n(32133),o=n(25377),a=n(84875),s=n.n(a),l=n(24841);t.Z=function(e){let{className:t,error:n,description:a,refresh:c}=e,{t:u}=(0,l.$G)();return(0,r.jsx)(i.Z,{image:"/empty.png",imageStyle:{width:320,height:196,margin:"0 auto",maxWidth:"100%",maxHeight:"100%"},className:s()("flex items-center justify-center flex-col h-full w-full",t),description:n?(0,r.jsx)(o.ZP,{type:"primary",onClick:c,children:u("try_again")}):null!=a?a:u("no_data")})}},17847:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(52676),i=n(25675),o=n(63688),a=n(53362),s=n(77004),l=n(5783),c=n(75271),u=e=>{let{parentName:t,fields:n,form:u}=e,[d,p]=(0,c.useState)(null);(0,c.useEffect)(()=>{let e=u.getFieldValue(t);(null==e?void 0:e.type)&&!d&&p(e.type)},[u,t]);let h=e=>{let n;let c=e.param_type.toLowerCase(),u=[t,e.param_name];return n="str"===c||"string"===c?e.valid_values?(0,r.jsx)(i.default,{children:e.valid_values.map(e=>(0,r.jsx)(i.default.Option,{value:e,children:e},e))}):(0,r.jsx)(o.default,{}):"int"===c||"integer"===c||"number"===c||"float"===c?(0,r.jsx)(a.Z,{className:"w-full"}):"bool"===c||"boolean"===c?(0,r.jsx)(s.Z,{}):(0,r.jsx)(o.default,{}),(0,r.jsx)(l.Z.Item,{label:e.label||e.param_name,name:u,valuePropName:"bool"===c||"boolean"===c?"checked":"value",tooltip:e.description,rules:d&&e.required?[{required:!0,message:"Please input ".concat(e.param_name)}]:[],children:n},e.param_name)};return(0,r.jsxs)("div",{className:"space-y-4 border rounded-md p-4",children:[(0,r.jsx)(l.Z.Item,{label:"Type",name:[t,"type"],children:(0,r.jsx)(i.default,{onChange:e=>{p(e);let r=n[e]||[],i={type:e};r.forEach(e=>{i[e.param_name]=e.default_value}),u.setFieldsValue({[t]:i})},placeholder:"Select a type",children:Object.keys(n).map(e=>(0,r.jsx)(i.default.Option,{value:e,children:e},e))})}),d&&n[d]&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("h4",{className:"mb-4 text-base font-medium",children:[d," Configuration"]}),(0,r.jsx)("div",{className:"space-y-4",children:n[d].map(e=>h(e))})]})]})};let d=e=>!!Array.isArray(e)&&0!==e.length&&"object"==typeof e[0]&&null!==e[0]&&"key"in e[0]&&"label"in e[0];var p=function(e){let{params:t,form:n}=e;if((0,c.useEffect)(()=>{if(t){let e={};t.forEach(t=>{if(!t.nested_fields){let r=n.getFieldValue(t.param_name);void 0===r&&(e[t.param_name]=t.default_value)}}),n.setFieldsValue(e)}},[t,n]),!t||(null==t?void 0:t.length)<1)return null;let p=e=>{let n={...e};return null==t||t.forEach(e=>{if(e.nested_fields&&n[e.param_name]){let t=n[e.param_name];if(t.type){let r=e.nested_fields[t.type]||[],i={};r.forEach(e=>{void 0!==t[e.param_name]&&(i[e.param_name]=t[e.param_name])}),n[e.param_name]={type:t.type,...i}}}}),n},h=n.submit;return n.submit=()=>{let e=n.getFieldsValue(),t=p(e);n.setFieldsValue(t),h.call(n)},(0,r.jsx)("div",{className:"space-y-4",children:null==t?void 0:t.map(e=>(0,r.jsx)(l.Z.Item,{label:(0,r.jsx)("p",{className:"whitespace-normal overflow-wrap-break-word",children:e.label||e.param_name}),name:e.param_name,initialValue:e.default_value,valuePropName:"bool"===e.param_type.toLowerCase()||"boolean"===e.param_type.toLowerCase()?"checked":"value",tooltip:e.description,rules:e.required?[{required:!0,message:"Please input ".concat(e.label||e.param_name)}]:[],children:function(e){var t,l,c,p;if(e.nested_fields)return(0,r.jsx)(u,{parentName:e.param_name,fields:e.nested_fields,form:n});let h=e.param_type.toLowerCase(),f=null===(t=e.ext_metadata)||void 0===t?void 0:null===(l=t.tags)||void 0===l?void 0:l.includes("fixed"),g=null===(c=e.ext_metadata)||void 0===c?void 0:null===(p=c.tags)||void 0===p?void 0:p.includes("privacy");return"str"===h||"string"===h?e.valid_values?d(e.valid_values)?(0,r.jsx)(i.default,{disabled:f,children:e.valid_values.map(e=>(0,r.jsx)(i.default.Option,{value:e.key,children:e.label},e.key))}):(0,r.jsx)(i.default,{disabled:f,children:e.valid_values.map(e=>(0,r.jsx)(i.default.Option,{value:e,children:e},e))}):g?(0,r.jsx)(o.default.Password,{disabled:f,autoComplete:"new-password",placeholder:"请输入密码"}):(0,r.jsx)(o.default,{disabled:f}):"int"===h||"integer"===h||"number"===h||"float"===h?(0,r.jsx)(a.Z,{className:"w-full",disabled:f}):"bool"===h||"boolean"===h?(0,r.jsx)(s.Z,{disabled:f}):(0,r.jsx)(o.default,{disabled:f})}(e)},e.param_name))})}},76657:function(e,t,n){"use strict";var r=n(14059);t.Z=()=>{var e;return JSON.parse(null!==(e=localStorage.getItem(r.C9))&&void 0!==e?e:"")}},46501:function(e,t,n){"use strict";var r=n(52676),i=n(22877),o=n(97858),a=n.n(o),s=n(75271);t.Z=(0,s.memo)(e=>{let{width:t,height:n,model:o}=e,l=(0,s.useMemo)(()=>(0,i.ab)(o||"huggingface"),[o]);return o?(0,r.jsx)(a(),{className:"rounded-full border border-gray-200 object-contain bg-white inline-block",width:t||24,height:n||24,src:l,alt:"llm",priority:!0}):null})},47671:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{noSSR:function(){return a},default:function(){return s}});let r=n(8266),i=(n(75271),r._(n(6147)));function o(e){return{default:(null==e?void 0:e.default)||e}}function a(e,t){return delete t.webpack,delete t.modules,e(t)}function s(e,t){let n=i.default,r={loading:e=>{let{error:t,isLoading:n,pastDelay:r}=e;return null}};e instanceof Promise?r.loader=()=>e:"function"==typeof e?r.loader=e:"object"==typeof e&&(r={...r,...e}),r={...r,...t};let s=r.loader;return(r.loadableGenerated&&(r={...r,...r.loadableGenerated},delete r.loadableGenerated),"boolean"!=typeof r.ssr||r.ssr)?n({...r,loader:()=>null!=s?s().then(o):Promise.resolve(o(()=>null))}):(delete r.webpack,delete r.modules,a(n,r))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},78834:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return o}});let r=n(8266),i=r._(n(75271)),o=i.default.createContext(null)},6147:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return h}});let r=n(8266),i=r._(n(75271)),o=n(78834),a=[],s=[],l=!1;function c(e){let t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(e=>(n.loading=!1,n.loaded=e,e)).catch(e=>{throw n.loading=!1,n.error=e,e}),n}class u{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function d(e){return function(e,t){let n=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),r=null;function a(){if(!r){let t=new u(e,n);r={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return r.promise()}if(!l){let e=n.webpack?n.webpack():n.modules;e&&s.push(t=>{for(let n of e)if(t.includes(n))return a()})}function c(e,t){!function(){a();let e=i.default.useContext(o.LoadableContext);e&&Array.isArray(n.modules)&&n.modules.forEach(t=>{e(t)})}();let s=i.default.useSyncExternalStore(r.subscribe,r.getCurrentValue,r.getCurrentValue);return i.default.useImperativeHandle(t,()=>({retry:r.retry}),[]),i.default.useMemo(()=>{var t;return s.loading||s.error?i.default.createElement(n.loading,{isLoading:s.loading,pastDelay:s.pastDelay,timedOut:s.timedOut,error:s.error,retry:r.retry}):s.loaded?i.default.createElement((t=s.loaded)&&t.default?t.default:t,e):null},[e,s])}return c.preload=()=>a(),c.displayName="LoadableComponent",i.default.forwardRef(c)}(c,e)}function p(e,t){let n=[];for(;e.length;){let r=e.pop();n.push(r(t))}return Promise.all(n).then(()=>{if(e.length)return p(e,t)})}d.preloadAll=()=>new Promise((e,t)=>{p(a).then(e,t)}),d.preloadReady=e=>(void 0===e&&(e=[]),new Promise(t=>{let n=()=>(l=!0,t());p(s,e).then(n,n)})),window.__NEXT_PRELOADREADY=d.preloadReady;let h=d},39419:function(e,t,n){"use strict";n.r(t);var r=n(52676),i=n(16019),o=n(25331),a=n(98124),s=n(10901),l=n(25675),c=n(83958),u=n(5783),d=n(84875),p=n.n(d),h=n(75271),f=n(24841),g=n(5185),m=n(45466);let b=e=>{let{value:t,onChange:n,promptList:i}=e,[s,u]=(0,h.useState)(!1),[d,p]=(0,h.useState)(),{t:g}=(0,f.$G)();return(0,h.useEffect)(()=>{if(t){let e=null==i?void 0:i.filter(e=>e.prompt_code===t)[0];p(e)}},[i,t]),(0,r.jsxs)("div",{className:"w-2/5 flex items-center gap-2",children:[(0,r.jsx)(l.default,{className:"w-1/2",placeholder:g("please_select_prompt"),options:i,fieldNames:{label:"prompt_name",value:"prompt_code"},onChange:e=>{let t=null==i?void 0:i.filter(t=>t.prompt_code===e)[0];p(t),null==n||n(e)},value:t,allowClear:!0,showSearch:!0}),d&&(0,r.jsxs)("span",{className:"text-sm text-blue-500 cursor-pointer",onClick:()=>u(!0),children:[(0,r.jsx)(a.Z,{className:"mr-1"}),g("View_details")]}),(0,r.jsx)(c.default,{title:"Prompt ".concat(g("details")),open:s,footer:!1,width:"60%",onCancel:()=>u(!1),children:(0,r.jsx)(o.default,{children:null==d?void 0:d.content})})]})};t.default=e=>{var t,n;let{name:o,initValue:a,modelStrategyOptions:c,resourceTypeOptions:d,updateData:v,classNames:y,promptList:E}=e,{t:_}=(0,f.$G)(),[x]=u.Z.useForm(),S=u.Z.useWatch("prompt_template",x),A=u.Z.useWatch("llm_strategy",x),C=u.Z.useWatch("llm_strategy_value",x),w=(0,h.useMemo)(()=>(null==a?void 0:a.find(e=>e.agent_name===o))||[],[a,o]),O=(0,h.useRef)([]),{run:I,loading:L,data:R}=(0,s.Z)(async()=>{var e;let[,t]=await (0,i.Vx)((0,i.m9)("priority"));return null!==(e=null==t?void 0:t.map(e=>({label:e,value:e})))&&void 0!==e?e:[]},{manual:!0});return(0,h.useEffect)(()=>{"priority"===A&&I()},[I,A]),(0,h.useEffect)(()=>{var e;let t=x.getFieldsValue();v({agent_name:o,...t,llm_strategy_value:null==t?void 0:null===(e=t.llm_strategy_value)||void 0===e?void 0:e.join(","),resources:O.current})},[x,L,o,S,A,C,v]),(0,r.jsx)("div",{className:p()(y),children:(0,r.jsxs)(u.Z,{style:{width:"100%"},labelCol:{span:4},form:x,initialValues:{llm_strategy:"default",...w,llm_strategy_value:null==w?void 0:null===(t=w.llm_strategy_value)||void 0===t?void 0:t.split(",")},children:[(0,r.jsx)(u.Z.Item,{label:_("Prompt"),name:"prompt_template",children:(0,r.jsx)(b,{promptList:E})}),(0,r.jsx)(u.Z.Item,{label:_("LLM_strategy"),required:!0,name:"llm_strategy",children:(0,r.jsx)(l.default,{className:"w-1/5",placeholder:_("please_select_LLM_strategy"),options:c,allowClear:!0})}),"priority"===A&&(0,r.jsx)(u.Z.Item,{label:_("LLM_strategy_value"),required:!0,name:"llm_strategy_value",children:(0,r.jsx)(l.default,{mode:"multiple",className:"w-2/5",placeholder:_("please_select_LLM_strategy_value"),options:R,allowClear:!0})}),(0,r.jsx)(u.Z.Item,{label:_("available_resources"),name:"resources",children:(0,r.jsx)(m.default,{resourceTypeOptions:d,initValue:null==w?void 0:null===(n=w.resources)||void 0===n?void 0:n.map(e=>({...e,uid:(0,g.Z)()})),updateData:e=>{O.current=null==e?void 0:e[1],v({agent_name:o,resources:O.current})},name:o})})]})})}},91487:function(e,t,n){"use strict";n.r(t);var r=n(52676),i=n(16019),o=n(17847),a=n(5783),s=n(7806),l=n(25675),c=n(87514),u=n(84875),d=n.n(u),p=n(75271),h=n(24841);let f=e=>{if(!e)return{};if("string"==typeof e)try{let t=JSON.parse(e),n={};return Object.keys(t).forEach(e=>{let r=t[e];r&&"object"==typeof r&&null!==r&&"key"in r?n[e]=r.key:n[e]=r}),n}catch(e){return console.error("Failed to parse resource value:",e),{}}if("object"==typeof e){let t={};return Object.keys(e).forEach(n=>{let r=e[n];r&&"object"==typeof r&&null!==r&&"key"in r?t[n]=r.key:t[n]=r}),t}return{}};t.default=e=>{let{uid:t,initValue:n,updateData:u,classNames:g,resourceType:m,resourceTypeOptions:b,setCurIcon:v}=e,[y]=a.Z.useForm(),E=a.Z.useWatch("is_dynamic",y),_=a.Z.useWatch("resource_type",y),{t:x}=(0,h.$G)(),[S,A]=(0,p.useState)(!1),[C,w]=(0,p.useState)(null),O=(0,p.useRef)(null),I=(0,p.useRef)(""),L=(0,p.useRef)(!1),R=b.filter(e=>"all"!==e.value),k=e=>{e!==_&&(y.resetFields(["is_dynamic"]),v({uid:t,icon:e}),N(e),setTimeout(()=>{M(!0)},800))},N=async e=>{A(!0);try{let[t,n]=await (0,i.Vx)((0,i.i1)({type:e}));if(!t&&n){if(w(n),n.length>0){let t=y.getFieldValue("resource_type"),n=y.getFieldValue("is_dynamic");y.resetFields(),y.setFieldsValue({resource_type:t||e,is_dynamic:n||!1})}}else w(null),console.error("Failed to fetch resource params:",t)}catch(e){console.error("Error fetching resource params:",e),w(null)}finally{A(!1),e!==_&&_||setTimeout(()=>{M(!0)},500)}};(0,p.useEffect)(()=>{C&&L.current&&_&&setTimeout(()=>{M(!0)},300)},[C,_]),(0,p.useEffect)(()=>{m&&(y.setFieldsValue({resource_type:m}),N(m),v({uid:t,icon:m}))},[m,t,v]),(0,p.useEffect)(()=>{if(C&&n&&!L.current)try{let e=f(n.value);y.setFields(Object.entries({resource_type:m,is_dynamic:n.is_dynamic,...e}).map(e=>{let[t,n]=e;return{name:t,value:n,touched:!1,validating:!1}})),L.current=!0,setTimeout(()=>{M(!0)},500)}catch(e){console.error("Error setting initial values:",e)}},[C,n,y,m]);let M=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];O.current&&(clearTimeout(O.current),O.current=null),O.current=setTimeout(()=>{let r=y.getFieldsValue(),i=r.resource_type;if(!i)return;let o={...r};C&&C.forEach(e=>{if(e.valid_values&&Array.isArray(e.valid_values)&&e.valid_values.length>0&&"object"==typeof e.valid_values[0]&&o[e.param_name]){let t=o[e.param_name];"string"!=typeof t&&(o[e.param_name]=t.key||t)}});let{resource_type:a,is_dynamic:s,...l}=o,c=E?"":JSON.stringify(l),d=JSON.stringify({type:i,is_dynamic:!!E,value:c});(e||d!==I.current)&&(I.current=d,u({uid:t,type:i,is_dynamic:!!E,value:c,name:(null==n?void 0:n.name)||x("resource")}))},300)};return(0,r.jsx)("div",{className:d()("flex flex-1",g),children:(0,r.jsx)(s.Z,{spinning:S,children:(0,r.jsxs)(a.Z,{style:{width:"100%"},form:y,labelCol:{span:7},initialValues:{resource_type:m,is_dynamic:(null==n?void 0:n.is_dynamic)||!1},onValuesChange:e=>{if("resource_type"in e){k(e.resource_type);return}if("is_dynamic"in e){M(!0);return}let t=Object.keys(e);t.length>0?y.validateFields(t).then(()=>{console.log("Field validation success"),M()}).catch(e=>{console.log("Field validation error, but still updating:",e),M()}):M()},children:[(0,r.jsx)(a.Z.Item,{label:x("resource_type"),name:"resource_type",rules:[{required:!0,message:x("please_select_resource_type")}],children:(0,r.jsx)(l.default,{options:R,placeholder:x("please_select_resource_type")})}),(0,r.jsx)(a.Z.Item,{label:x("resource_dynamic"),name:"is_dynamic",valuePropName:"checked",children:(0,r.jsx)(c.Z,{style:{background:E?"#1677ff":"#ccc"}})}),!E&&C&&(0,r.jsx)(o.Z,{params:C,form:y})]})})})}},45466:function(e,t,n){"use strict";n.r(t);var r=n(52676),i=n(14425),o=n(83500),a=n(42508),s=n(25675),l=n(30191),c=n(24128),u=n(25377),d=n(84875),p=n.n(d),h=n(32699),f=n(75271),g=n(24841),m=n(5185),b=n(26014),v=n(91487);t.default=e=>{var t;let{name:n,updateData:d,resourceTypeOptions:y,initValue:E}=e,{t:_}=(0,g.$G)(),x=(0,f.useRef)(E||[]),[S,A]=(0,f.useState)({uid:"",icon:""}),C=(0,f.useRef)(""),[w,O]=(0,f.useState)((null==E?void 0:E.map(e=>({...e,icon:e.type,initVal:e})))||[]),[I,L]=(0,f.useState)([...w]),[R,k]=(0,f.useState)((null==w?void 0:null===(t=w[0])||void 0===t?void 0:t.uid)||""),[N,M]=(0,f.useState)(""),D=(e,t)=>{null==e||e.stopPropagation();let r=w.findIndex(e=>e.uid===R),i=null==w?void 0:w.filter(e=>e.uid!==t.uid);x.current=x.current.filter(e=>e.uid!==t.uid)||[];let o=[n,x.current],a=JSON.stringify(o);if(a!==C.current&&(C.current=a,d(o)),O(i),t.uid===R){var s,l;if(r===w.length-1&&0!==r)k((null==i?void 0:null===(s=i[i.length-1])||void 0===s?void 0:s.uid)||"");else{let e=Math.min(r,i.length-1);k((null==i?void 0:null===(l=i[e])||void 0===l?void 0:l.uid)||"")}}};return(0,f.useEffect)(()=>{S.uid&&S.icon&&O(w.map(e=>(null==S?void 0:S.uid)===e.uid?{...e,icon:S.icon,type:S.icon}:e))},[S]),(0,f.useEffect)(()=>{L([...w])},[w]),(0,r.jsxs)("div",{className:"flex flex-1 px-3 py-4 border border-[#d6d8da] rounded-md",style:{minHeight:"450px"},children:[(0,r.jsxs)("div",{className:"flex flex-col w-40 h-full",children:[(0,r.jsx)(s.default,{options:y,className:"w-full h-8",variant:"borderless",defaultValue:"all",onChange:e=>{var t,n;if("all"===e)L(w),k((null==w?void 0:null===(t=w[0])||void 0===t?void 0:t.uid)||"");else{let t=null==w?void 0:w.filter(t=>(null==t?void 0:t.icon)===e);k((null==t?void 0:null===(n=t[0])||void 0===n?void 0:n.uid)||""),L(t)}}}),(0,r.jsx)("div",{className:"flex flex-1 flex-col gap-1 overflow-y-auto",children:null==I?void 0:I.map(e=>(0,r.jsxs)("div",{className:p()("flex h-8 items-center px-3 pl-[0.6rem] rounded-md hover:bg-[#f5faff] hover:dark:bg-[#606264] cursor-pointer relative",{"bg-[#f5faff] dark:bg-[#606264]":e.uid===R}),onClick:()=>{k(e.uid||"")},onMouseEnter:()=>{M(e.uid||"")},onMouseLeave:()=>{M("")},children:[b.resourceTypeIcon[e.icon||""],(0,r.jsx)(l.Z.Text,{className:p()("flex flex-1 items-center text-sm p-0 m-0 mx-2 line-clamp-1",{"text-[#0c75fc]":e.uid===R}),editable:{autoSize:{maxRows:1},onChange:t=>{let r=w.map(n=>n.uid===e.uid?{...n,name:t}:n);O(r),x.current=x.current.map(n=>n.uid===e.uid?{...n,name:t}:n);let i=[n,x.current],o=JSON.stringify(i);o!==C.current&&(C.current=o,d(i))}},ellipsis:{tooltip:!0},children:e.name}),(0,r.jsx)(c.Z,{title:_("want_delete"),onConfirm:t=>{D(t,e)},onCancel:e=>null==e?void 0:e.stopPropagation(),children:(0,r.jsx)(o.Z,{className:"text-sm cursor-pointer absolute right-2 ".concat(N===e.uid?"opacity-100":"opacity-0"),style:{top:"50%",transform:"translateY(-50%)"},onClick:e=>e.stopPropagation()})})]},e.uid))}),(0,r.jsx)(u.ZP,{className:"w-full h-8",type:"dashed",block:!0,icon:(0,r.jsx)(a.Z,{}),onClick:()=>{var e,t;let r=(0,m.Z)(),i=(null===(e=null==y?void 0:y.filter(e=>"all"!==e.value))||void 0===e?void 0:null===(t=e[0])||void 0===t?void 0:t.value)||"",o={is_dynamic:!1,type:i,value:"",uid:r,name:_("resource")+" ".concat(x.current.length+1)};x.current=(0,h.concat)(x.current,[o]);let a=[n,x.current],s=JSON.stringify(a);s!==C.current&&(C.current=s,d(a)),O(e=>[...e,{icon:i,type:i,uid:r,initVal:o,name:_("resource")+" ".concat(e.length+1)}]),k(r),A({uid:r,icon:i})},children:_("add_resource")})]}),(0,r.jsx)("div",{className:"flex flex-1 ml-6",style:{minHeight:"430px",overflowY:"auto"},children:I&&(null==I?void 0:I.length)>0?(0,r.jsx)("div",{className:"flex flex-1",children:null==I?void 0:I.map(e=>(0,r.jsx)(v.default,{classNames:e.uid===R?"block":"hidden",initValue:e.initVal,resourceType:e.icon||"",resourceTypeOptions:y,setCurIcon:A,updateData:e=>{var t;x.current=null===(t=x.current)||void 0===t?void 0:t.map(t=>(null==t?void 0:t.uid)===(null==e?void 0:e.uid)?{...t,...e}:t);let r=[n,x.current],i=JSON.stringify(r);i!==C.current&&(C.current=i,d(r))},uid:e.uid||""},e.uid))}):(0,r.jsx)(i.Z,{className:"w-40 h-40"})})]})}},26014:function(e,t,n){"use strict";n.r(t),n.d(t,{agentIcon:function(){return E},resourceTypeIcon:function(){return _}});var r=n(52676),i=n(23794),o=n(69811),a=n(99466),s=n(59718),l=n(4629),c=n(5195),u=n(85042),d=n(25334),p=n(80944),h=n(86607),f=n(79530),g=n(73760),m=n(29916),b=n(99869),v=n(89046),y=n(8194);n(75271);let E={CodeEngineer:(0,r.jsx)(o.Z,{}),Reporter:(0,r.jsx)(a.Z,{}),DataScientist:(0,r.jsx)(s.Z,{}),Summarizer:(0,r.jsx)(l.Z,{}),ToolExpert:(0,r.jsx)(i.Z,{type:"icon-plugin",style:{fontSize:17.25,marginTop:2}}),Indicator:(0,r.jsx)(c.Z,{}),Dbass:(0,r.jsx)(u.Z,{})},_={all:(0,r.jsx)(d.ProductOutlined,{}),database:(0,r.jsx)(p.Z,{}),knowledge:(0,r.jsx)(h.Z,{}),internet:(0,r.jsx)(f.Z,{}),plugin:(0,r.jsx)(g.Z,{}),text_file:(0,r.jsx)(m.Z,{}),excel_file:(0,r.jsx)(b.Z,{}),image_file:(0,r.jsx)(v.Z,{}),awel_flow:(0,r.jsx)(y.Z,{})};t.default=()=>(0,r.jsx)(r.Fragment,{})},14113:function(e,t,n){"use strict";n.r(t);var r=n(52676),i=n(270),o=n(44741),a=n(62621),s=n(30191),l=n(874),c=n.n(l),u=n(75271),d=n(21201);t.default=(0,u.memo)(()=>{var e;let{appInfo:t}=(0,u.useContext)(d.MobileChatContext),{message:n}=a.Z.useApp(),[l,p]=(0,u.useState)(0);if(!(null==t?void 0:t.app_code))return null;let h=async()=>{let e=c()("dingtalk://dingtalkclient/page/link?url=".concat(encodeURIComponent(location.href),"&pc_slide=true"));n[e?"success":"error"](e?"复制成功":"复制失败")};return l>6&&n.info(JSON.stringify(window.navigator.userAgent),2,()=>{p(0)}),(0,r.jsxs)("header",{className:"flex w-full items-center justify-between bg-[rgba(255,255,255,0.9)] border dark:bg-black dark:border-[rgba(255,255,255,0.6)] rounded-xl mx-auto px-4 py-2 mb-4 sticky top-4 z-50 mt-4 shadow-md",children:[(0,r.jsxs)("div",{className:"flex gap-2 items-center",onClick:()=>p(l+1),children:[(0,r.jsx)(i.Z,{scene:(null==t?void 0:null===(e=t.team_context)||void 0===e?void 0:e.chat_scene)||"chat_agent",width:8,height:8}),(0,r.jsxs)("div",{className:"flex flex-col ml-2",children:[(0,r.jsx)(s.Z.Text,{className:"text-md font-bold line-clamp-2",children:null==t?void 0:t.app_name}),(0,r.jsx)(s.Z.Text,{className:"text-sm line-clamp-2",children:null==t?void 0:t.app_describe})]})]}),(0,r.jsx)("div",{onClick:h,className:"flex items-center justify-center w-10 h-10 bg-[#ffffff99] dark:bg-[rgba(255,255,255,0.2)] border border-white dark:border-[rgba(255,255,255,0.2)] rounded-[50%] cursor-pointer",children:(0,r.jsx)(o.Z,{className:"text-lg"})})]})})},49484:function(e,t,n){"use strict";n.r(t);var r=n(52676),i=n(16019),o=n(51921),a=n(14059),s=n(37903),l=n(59849),c=n(77547),u=n(39150),d=n(83058),p=n(63464),h=n(10901),f=n(19652),g=n(69208),m=n(7806),b=n(63688),v=n(25377),y=n(84875),E=n.n(y),_=n(98844),x=n(75271),S=n(21201),A=n(84663),C=n(72717),w=n(6656),O=n(2433);let I=["magenta","orange","geekblue","purple","cyan","green"];t.default=()=>{var e,t;let n=(0,_.useSearchParams)(),y=null!==(t=null==n?void 0:n.get("ques"))&&void 0!==t?t:"",{history:L,model:R,scene:k,temperature:N,resource:M,conv_uid:D,appInfo:P,scrollViewRef:F,order:B,userInput:U,ctrl:z,canAbort:Z,canNewChat:j,setHistory:H,setCanNewChat:G,setCarAbort:V,setUserInput:$}=(0,x.useContext)(S.MobileChatContext),[W,Y]=(0,x.useState)(!1),[q,X]=(0,x.useState)(!1),K=async e=>{var t,n,r;$(""),z.current=new AbortController;let i={chat_mode:k,model_name:R,user_input:e||U,conv_uid:D,temperature:N,app_code:null==P?void 0:P.app_code,...M&&{select_param:JSON.stringify(M)}};if(L&&L.length>0){let e=null==L?void 0:L.filter(e=>"view"===e.role);B.current=e[e.length-1].order+1}let s=[{role:"human",context:e||U,model_name:R,order:B.current,time_stamp:0},{role:"view",context:"",model_name:R,order:B.current,time_stamp:0,thinking:!0}],l=s.length-1;H([...L,...s]),G(!1);try{await (0,p.L)("".concat(null!==(t=O.env.API_BASE_URL)&&void 0!==t?t:"","/api/v1/chat/completions"),{method:"POST",headers:{"Content-Type":"application/json",[a.gp]:null!==(n=(0,o.n5)())&&void 0!==n?n:""},signal:z.current.signal,body:JSON.stringify(i),openWhenHidden:!0,async onopen(e){if(e.ok&&e.headers.get("content-type")===p.a)return},onclose(){var e;null===(e=z.current)||void 0===e||e.abort(),G(!0),V(!1)},onerror(e){throw Error(e)},onmessage:e=>{let t=e.data;try{t=JSON.parse(t).vis}catch(e){t.replaceAll("\\n","\n")}"[DONE]"===t?(G(!0),V(!1)):(null==t?void 0:t.startsWith("[ERROR]"))?(s[l].context=null==t?void 0:t.replace("[ERROR]",""),s[l].thinking=!1,H([...L,...s]),G(!0),V(!1)):(V(!0),s[l].context=t,s[l].thinking=!1,H([...L,...s]))}})}catch(e){null===(r=z.current)||void 0===r||r.abort(),s[l].context="Sorry, we meet some error, please try again later.",s[l].thinking=!1,H([...s]),G(!0),V(!1)}},Q=async()=>{U.trim()&&j&&await K()};(0,x.useEffect)(()=>{var e,t;null===(e=F.current)||void 0===e||e.scrollTo({top:null===(t=F.current)||void 0===t?void 0:t.scrollHeight,behavior:"auto"})},[L,F]);let J=(0,x.useMemo)(()=>{if(!P)return[];let{param_need:e=[]}=P;return null==e?void 0:e.map(e=>e.type)},[P]),ee=(0,x.useMemo)(()=>{var e;return 0===L.length&&P&&!!(null==P?void 0:null===(e=P.recommend_questions)||void 0===e?void 0:e.length)},[L,P]),{run:et,loading:en}=(0,h.Z)(async()=>await (0,i.Vx)((0,i.zR)(D)),{manual:!0,onSuccess:()=>{H([])}});return(0,x.useEffect)(()=>{y&&R&&D&&P&&K(y)},[P,D,R,y]),(0,r.jsxs)("div",{className:"flex flex-col",children:[ee&&(0,r.jsx)("ul",{children:null==P?void 0:null===(e=P.recommend_questions)||void 0===e?void 0:e.map((e,t)=>(0,r.jsx)("li",{className:"mb-3",children:(0,r.jsx)(f.Z,{color:I[t],className:"p-2 rounded-xl",onClick:async()=>{K(e.question)},children:e.question})},e.id))}),(0,r.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,r.jsxs)("div",{className:"flex gap-2 mb-1 w-full overflow-x-auto",children:[(null==J?void 0:J.includes("model"))&&(0,r.jsx)(A.default,{}),(null==J?void 0:J.includes("resource"))&&(0,r.jsx)(C.default,{}),(null==J?void 0:J.includes("temperature"))&&(0,r.jsx)(w.default,{})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-lg font-bold",children:[(0,r.jsx)(g.Z,{content:"暂停回复",trigger:["hover"],children:(0,r.jsx)(s.Z,{className:E()("p-2 cursor-pointer",{"text-[#0c75fc]":Z,"text-gray-400":!Z}),onClick:()=>{var e;Z&&(null===(e=z.current)||void 0===e||e.abort(),setTimeout(()=>{V(!1),G(!0)},100))}})}),(0,r.jsx)(g.Z,{content:"再来一次",trigger:["hover"],children:(0,r.jsx)(l.Z,{className:E()("p-2 cursor-pointer",{"text-gray-400":!L.length||!j}),onClick:()=>{var e,t;if(!j||0===L.length)return;let n=null===(e=null===(t=L.filter(e=>"human"===e.role))||void 0===t?void 0:t.slice(-1))||void 0===e?void 0:e[0];K((null==n?void 0:n.context)||"")}})}),en?(0,r.jsx)(m.Z,{spinning:en,indicator:(0,r.jsx)(c.Z,{style:{fontSize:18},spin:!0}),className:"p-2"}):(0,r.jsx)(g.Z,{content:"清除历史",trigger:["hover"],children:(0,r.jsx)(u.Z,{className:E()("p-2 cursor-pointer",{"text-gray-400":!L.length||!j}),onClick:()=>{j&&et()}})})]})]}),(0,r.jsxs)("div",{className:E()("flex py-2 px-3 items-center justify-between bg-white dark:bg-[#242733] dark:border-[#6f7f95] rounded-xl border",{"border-[#0c75fc] dark:border-[rgba(12,117,252,0.8)]":W}),children:[(0,r.jsx)(b.default.TextArea,{placeholder:"可以问我任何问题",className:"w-full resize-none border-0 p-0 focus:shadow-none",value:U,autoSize:{minRows:1},onKeyDown:e=>{if("Enter"===e.key&&!e.shiftKey){if(q){e.preventDefault();return}U.trim()&&(e.preventDefault(),Q())}},onChange:e=>{$(e.target.value)},onFocus:()=>{Y(!0)},onBlur:()=>Y(!1),onCompositionStartCapture:()=>{X(!0)},onCompositionEndCapture:()=>{setTimeout(()=>{X(!1)},0)}}),(0,r.jsx)(v.ZP,{type:"primary",className:E()("flex items-center justify-center rounded-lg bg-button-gradient border-0 ml-2",{"opacity-40 cursor-not-allowed":!U.trim()||!j}),onClick:Q,children:j?(0,r.jsx)(d.Z,{}):(0,r.jsx)(m.Z,{indicator:(0,r.jsx)(c.Z,{className:"text-white"})})})]})]})}},84663:function(e,t,n){"use strict";n.r(t);var r=n(52676),i=n(40330),o=n(46501),a=n(67629),s=n(42962),l=n(69208),c=n(75271),u=n(21201);t.default=()=>{let{modelList:e}=(0,c.useContext)(i.p),{model:t,setModel:n}=(0,c.useContext)(u.MobileChatContext),d=(0,c.useMemo)(()=>e.length>0?e.map(e=>({label:(0,r.jsxs)("div",{className:"flex items-center gap-2",onClick:()=>{n(e)},children:[(0,r.jsx)(o.Z,{width:14,height:14,model:e}),(0,r.jsx)("span",{className:"text-xs",children:e})]}),key:e})):[],[e,n]);return(0,r.jsx)(s.Z,{menu:{items:d},placement:"top",trigger:["click"],children:(0,r.jsx)(l.Z,{content:t,children:(0,r.jsxs)("div",{className:"flex items-center gap-1 border rounded-xl bg-white dark:bg-black p-2 flex-shrink-0",children:[(0,r.jsx)(o.Z,{width:16,height:16,model:t}),(0,r.jsx)("span",{className:"text-xs font-medium line-clamp-1",style:{maxWidth:96},children:t}),(0,r.jsx)(a.Z,{rotate:90})]})})})}},95873:function(e,t,n){"use strict";n.r(t);var r=n(52676),i=n(97858),o=n.n(i),a=n(75271);t.default=(0,a.memo)(e=>{let{width:t,height:n,src:i,label:a}=e;return(0,r.jsx)(o(),{width:t||14,height:n||14,src:i,alt:a||"db-icon",priority:!0})})},72717:function(e,t,n){"use strict";n.r(t);var r=n(52676),i=n(16019),o=n(15543),a=n(51921),s=n(77547),l=n(67629),c=n(85408),u=n(10901),d=n(7806),p=n(45467),h=n(42962),f=n(75271),g=n(21201),m=n(95873);t.default=()=>{let{appInfo:e,resourceList:t,scene:n,model:b,conv_uid:v,getChatHistoryRun:y,setResource:E,resource:_}=(0,f.useContext)(g.MobileChatContext),{temperatureValue:x,maxNewTokensValue:S}=(0,f.useContext)(o.ChatContentContext),[A,C]=(0,f.useState)(null),w=(0,f.useMemo)(()=>{var t,n,r;return null===(t=null==e?void 0:null===(n=e.param_need)||void 0===n?void 0:n.filter(e=>"resource"===e.type))||void 0===t?void 0:null===(r=t[0])||void 0===r?void 0:r.value},[e]),O=(0,f.useMemo)(()=>t&&t.length>0?t.map(e=>({label:(0,r.jsxs)("div",{className:"flex items-center gap-2",onClick:()=>{C(e),E(e.space_id||e.param)},children:[(0,r.jsx)(m.default,{width:14,height:14,src:a.S$[e.type].icon,label:a.S$[e.type].label}),(0,r.jsx)("span",{className:"text-xs",children:e.param})]}),key:e.space_id||e.param})):[],[t,E]),{run:I,loading:L}=(0,u.Z)(async e=>{let[,t]=await (0,i.Vx)((0,i.qn)({convUid:v,chatMode:n,data:e,model:b,temperatureValue:x,maxNewTokensValue:S,config:{timeout:36e5}}));return E(t),t},{manual:!0,onSuccess:async()=>{await y()}}),R=async e=>{let t=new FormData;t.append("doc_file",null==e?void 0:e.file),await I(t)},k=(0,f.useMemo)(()=>L?(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(d.Z,{size:"small",indicator:(0,r.jsx)(s.Z,{spin:!0})}),(0,r.jsx)("span",{className:"text-xs",children:"上传中"})]}):_?(0,r.jsxs)("div",{className:"flex gap-1",children:[(0,r.jsx)("span",{className:"text-xs",children:_.file_name}),(0,r.jsx)(l.Z,{rotate:90})]}):(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(c.Z,{className:"text-base"}),(0,r.jsx)("span",{className:"text-xs",children:"上传文件"})]}),[L,_]);return(0,r.jsx)(r.Fragment,{children:(()=>{switch(w){case"excel_file":case"text_file":case"image_file":return(0,r.jsx)("div",{className:"flex items-center justify-center gap-1 border rounded-xl bg-white dark:bg-black px-2 flex-shrink-0",children:(0,r.jsx)(p.default,{name:"file",accept:".xlsx,.xls",maxCount:1,showUploadList:!1,beforeUpload:()=>!1,onChange:R,className:"flex h-full w-full items-center justify-center",children:k})});case"database":case"knowledge":case"plugin":case"awel_flow":var e,n,i,o,s;if(!(null==t?void 0:t.length))return null;return(0,r.jsx)(h.Z,{menu:{items:O},placement:"top",trigger:["click"],children:(0,r.jsxs)("div",{className:"flex items-center gap-1 border rounded-xl bg-white dark:bg-black p-2 flex-shrink-0",children:[(0,r.jsx)(m.default,{width:14,height:14,src:null===(e=a.S$[(null==A?void 0:A.type)||(null==t?void 0:null===(n=t[0])||void 0===n?void 0:n.type)])||void 0===e?void 0:e.icon,label:null===(i=a.S$[(null==A?void 0:A.type)||(null==t?void 0:null===(o=t[0])||void 0===o?void 0:o.type)])||void 0===i?void 0:i.label}),(0,r.jsx)("span",{className:"text-xs font-medium",children:(null==A?void 0:A.param)||(null==t?void 0:null===(s=t[0])||void 0===s?void 0:s.param)}),(0,r.jsx)(l.Z,{rotate:90})]})})}})()})}},6656:function(e,t,n){"use strict";n.r(t);var r=n(52676),i=n(23794),o=n(42962),a=n(73810),s=n(75271),l=n(21201);t.default=()=>{let{temperature:e,setTemperature:t}=(0,s.useContext)(l.MobileChatContext),n=e=>{isNaN(e)||t(e)};return(0,r.jsx)(o.Z,{trigger:["click"],dropdownRender:()=>(0,r.jsx)("div",{className:"flex h-28 bg-white dark:bg-[rgba(255,255,255,0.5)] items-center justify-center rounded-xl py-3",children:(0,r.jsx)(a.Z,{defaultValue:.5,max:1,min:0,step:.1,vertical:!0,onChange:n,value:e})}),placement:"top",children:(0,r.jsxs)("div",{className:"flex items-center justify-between border rounded-xl bg-white dark:bg-black w-14 p-2 flex-shrink-0",children:[(0,r.jsx)(i.Z,{type:"icon-icons-temperature",className:"text-sm"}),(0,r.jsx)("span",{className:"text-xs font-medium",children:e})]})})}},21201:function(e,t,n){"use strict";n.r(t),n.d(t,{MobileChatContext:function(){return E}});var r=n(52676),i=n(40330),o=n(16019),a=n(76657),s=n(51921),l=n(14059),c=n(63464),u=n(10901),d=n(7806),p=n(52373),h=n.n(p),f=n(98844),g=n(75271),m=n(14113),b=n(49484),v=n(2433);let y=h()(()=>Promise.all([n.e(8201),n.e(3732),n.e(4130),n.e(4521),n.e(7475),n.e(5745),n.e(9066),n.e(5675),n.e(3894),n.e(7004),n.e(1502),n.e(2763),n.e(8226),n.e(3769),n.e(7827),n.e(9842),n.e(653),n.e(4186),n.e(7365),n.e(9658),n.e(4593),n.e(1917),n.e(2486),n.e(3431)]).then(n.bind(n,83431)),{loadableGenerated:{webpack:()=>[83431]},ssr:!1}),E=(0,g.createContext)({model:"",temperature:.5,resource:null,setModel:()=>{},setTemperature:()=>{},setResource:()=>{},scene:"",history:[],setHistory:()=>{},scrollViewRef:{current:null},appInfo:{},conv_uid:"",resourceList:[],order:{current:1},handleChat:()=>Promise.resolve(),canAbort:!1,setCarAbort:()=>{},canNewChat:!1,setCanNewChat:()=>{},ctrl:{current:void 0},userInput:"",setUserInput:()=>{},getChatHistoryRun:()=>{}});t.default=()=>{var e,t;let n=(0,f.useSearchParams)(),p=null!==(e=null==n?void 0:n.get("chat_scene"))&&void 0!==e?e:"",h=null!==(t=null==n?void 0:n.get("app_code"))&&void 0!==t?t:"",{modelList:_}=(0,g.useContext)(i.p),[x,S]=(0,g.useState)([]),[A,C]=(0,g.useState)(""),[w,O]=(0,g.useState)(.5),[I,L]=(0,g.useState)(null),R=(0,g.useRef)(null),[k,N]=(0,g.useState)(""),[M,D]=(0,g.useState)(!1),[P,F]=(0,g.useState)(!0),B=(0,g.useRef)(),U=(0,g.useRef)(1),z=(0,a.Z)(),Z=(0,g.useMemo)(()=>"".concat(null==z?void 0:z.user_no,"_").concat(h),[h,z]),{run:j,loading:H}=(0,u.Z)(async()=>await (0,o.Vx)((0,o.$i)("".concat(null==z?void 0:z.user_no,"_").concat(h))),{manual:!0,onSuccess:e=>{let[,t]=e,n=null==t?void 0:t.filter(e=>"view"===e.role);n&&n.length>0&&(U.current=n[n.length-1].order+1),S(t||[])}}),{data:G,run:V,loading:$}=(0,u.Z)(async e=>{let[,t]=await (0,o.Vx)((0,o.BN)(e));return null!=t?t:{}},{manual:!0}),{run:W,data:Y,loading:q}=(0,u.Z)(async()=>{var e,t;let[,n]=await (0,o.Vx)((0,o.vD)(p));return L((null==n?void 0:null===(e=n[0])||void 0===e?void 0:e.space_id)||(null==n?void 0:null===(t=n[0])||void 0===t?void 0:t.param)),null!=n?n:[]},{manual:!0}),{run:X,loading:K}=(0,u.Z)(async()=>{let[,e]=await (0,o.Vx)((0,o.iP)());return null!=e?e:[]},{manual:!0,onSuccess:e=>{var t;let n=null===(t=null==e?void 0:e.filter(e=>e.conv_uid===Z))||void 0===t?void 0:t[0];(null==n?void 0:n.select_param)&&L(JSON.parse(null==n?void 0:n.select_param))}});(0,g.useEffect)(()=>{p&&h&&_.length&&V({chat_scene:p,app_code:h})},[h,p,V,_]),(0,g.useEffect)(()=>{h&&j()},[h]),(0,g.useEffect)(()=>{if(_.length>0){var e,t,n;let r=null===(e=null==G?void 0:null===(t=G.param_need)||void 0===t?void 0:t.filter(e=>"model"===e.type))||void 0===e?void 0:null===(n=e[0])||void 0===n?void 0:n.value;C(r||_[0])}},[_,G]),(0,g.useEffect)(()=>{var e,t,n;let r=null===(e=null==G?void 0:null===(t=G.param_need)||void 0===t?void 0:t.filter(e=>"temperature"===e.type))||void 0===e?void 0:null===(n=e[0])||void 0===n?void 0:n.value;O(r||.5)},[G]),(0,g.useEffect)(()=>{if(p&&(null==G?void 0:G.app_code)){var e,t,n,r,i,o;let a=null===(e=null==G?void 0:null===(t=G.param_need)||void 0===t?void 0:t.filter(e=>"resource"===e.type))||void 0===e?void 0:null===(n=e[0])||void 0===n?void 0:n.value,s=null===(r=null==G?void 0:null===(i=G.param_need)||void 0===i?void 0:i.filter(e=>"resource"===e.type))||void 0===r?void 0:null===(o=r[0])||void 0===o?void 0:o.bind_value;s&&L(s),["database","knowledge","plugin","awel_flow"].includes(a)&&!s&&W()}},[G,p,W]);let Q=async e=>{var t,n,r;N(""),B.current=new AbortController;let i={chat_mode:p,model_name:A,user_input:e||k,conv_uid:Z,temperature:w,app_code:null==G?void 0:G.app_code,...I&&{select_param:I}};if(x&&x.length>0){let e=null==x?void 0:x.filter(e=>"view"===e.role);U.current=e[e.length-1].order+1}let o=[{role:"human",context:e||k,model_name:A,order:U.current,time_stamp:0},{role:"view",context:"",model_name:A,order:U.current,time_stamp:0,thinking:!0}],a=o.length-1;S([...x,...o]),F(!1);try{await (0,c.L)("".concat(null!==(t=v.env.API_BASE_URL)&&void 0!==t?t:"","/api/v1/chat/completions"),{method:"POST",headers:{"Content-Type":"application/json",[l.gp]:null!==(n=(0,s.n5)())&&void 0!==n?n:""},signal:B.current.signal,body:JSON.stringify(i),openWhenHidden:!0,async onopen(e){if(e.ok&&e.headers.get("content-type")===c.a)return},onclose(){var e;null===(e=B.current)||void 0===e||e.abort(),F(!0),D(!1)},onerror(e){throw Error(e)},onmessage:e=>{let t=e.data;try{t=JSON.parse(t).vis}catch(e){t.replaceAll("\\n","\n")}"[DONE]"===t?(F(!0),D(!1)):(null==t?void 0:t.startsWith("[ERROR]"))?(o[a].context=null==t?void 0:t.replace("[ERROR]",""),o[a].thinking=!1,S([...x,...o]),F(!0),D(!1)):(D(!0),o[a].context=t,o[a].thinking=!1,S([...x,...o]))}})}catch(e){null===(r=B.current)||void 0===r||r.abort(),o[a].context="Sorry, we meet some error, please try again later.",o[a].thinking=!1,S([...o]),F(!0),D(!1)}};return(0,g.useEffect)(()=>{p&&"chat_agent"!==p&&X()},[p,X]),(0,r.jsx)(E.Provider,{value:{model:A,resource:I,setModel:C,setTemperature:O,setResource:L,temperature:w,appInfo:G,conv_uid:Z,scene:p,history:x,scrollViewRef:R,setHistory:S,resourceList:Y,order:U,handleChat:Q,setCanNewChat:F,ctrl:B,canAbort:M,setCarAbort:D,canNewChat:P,userInput:k,setUserInput:N,getChatHistoryRun:j},children:(0,r.jsx)(d.Z,{size:"large",className:"flex h-screen w-screen justify-center items-center max-h-screen",spinning:H||$||q||K,children:(0,r.jsxs)("div",{className:"flex flex-col h-screen bg-gradient-light dark:bg-gradient-dark p-4 pt-0",children:[(0,r.jsxs)("div",{ref:R,className:"flex flex-col flex-1 overflow-y-auto mb-3",children:[(0,r.jsx)(m.default,{}),(0,r.jsx)(y,{})]}),(null==G?void 0:G.app_code)&&(0,r.jsx)(b.default,{})]})})})}},16615:function(){},52373:function(e,t,n){e.exports=n(47671)},93026:function(e){"use strict";var t;e.exports=function(e){var n,r="&"+e+";";return(t=t||document.createElement("i")).innerHTML=r,(59!==(n=t.textContent).charCodeAt(n.length-1)||"semi"===e)&&n!==r&&n}},3177:function(e,t,n){"use strict";var r=n(27102),i=n(71701),o=n(8451),a=n(29401),s=n(21831),l=n(93026);e.exports=function(e,t){var n,o,a={};for(o in t||(t={}),p)n=t[o],a[o]=null==n?p[o]:n;return(a.position.indent||a.position.start)&&(a.indent=a.position.indent||[],a.position=a.position.start),function(e,t){var n,o,a,p,y,E,_,x,S,A,C,w,O,I,L,R,k,N,M,D,P,F=t.additional,B=t.nonTerminated,U=t.text,z=t.reference,Z=t.warning,j=t.textContext,H=t.referenceContext,G=t.warningContext,V=t.position,$=t.indent||[],W=e.length,Y=0,q=-1,X=V.column||1,K=V.line||1,Q="",J=[];for("string"==typeof F&&(F=F.charCodeAt(0)),N=ee(),A=Z?function(e,t){var n=ee();n.column+=t,n.offset+=t,Z.call(G,v[e],n,e)}:d,Y--,W++;++Y<W;)if(10===_&&(X=$[q]||1),38===(_=e.charCodeAt(Y))){if(9===(S=e.charCodeAt(Y+1))||10===S||12===S||32===S||38===S||60===S||S!=S||F&&S===F){Q+=u(_),X++;continue}for(I=L=Y+1,P=L,35===S?(P=++I,88===(S=e.charCodeAt(P))||120===S?(R=f,P=++I):R=g):R=h,a="",O="",E="",k=b[R],P--;++P<W&&k(S=e.charCodeAt(P));)E+=u(S),R===h&&c.call(r,E)&&(a=E,O=r[E]);(y=59===e.charCodeAt(P))&&(P++,(p=R===h&&l(E))&&(a=E,O=p)),D=1+P-L,(y||B)&&(E?R===h?(y&&!O?A(5,1):(a!==E&&(D=1+(P=I+a.length)-I,y=!1),y||(C=a?1:3,t.attribute?61===(S=e.charCodeAt(P))?(A(C,D),O=null):s(S)?O=null:A(C,D):A(C,D))),x=O):(y||A(2,D),(n=x=parseInt(E,m[R]))>=55296&&n<=57343||n>1114111?(A(7,D),x=u(65533)):x in i?(A(6,D),x=i[x]):(w="",((o=x)>=1&&o<=8||11===o||o>=13&&o<=31||o>=127&&o<=159||o>=64976&&o<=65007||(65535&o)==65535||(65535&o)==65534)&&A(6,D),x>65535&&(x-=65536,w+=u(x>>>10|55296),x=56320|1023&x),x=w+u(x))):R!==h&&A(4,D)),x?(et(),N=ee(),Y=P-1,X+=P-L+1,J.push(x),M=ee(),M.offset++,z&&z.call(H,x,{start:N,end:M},e.slice(L-1,P)),N=M):(Q+=E=e.slice(L-1,P),X+=E.length,Y=P-1)}else 10===_&&(K++,q++,X=0),_==_?(Q+=u(_),X++):et();return J.join("");function ee(){return{line:K,column:X,offset:Y+(V.offset||0)}}function et(){Q&&(J.push(Q),U&&U.call(j,Q,{start:N,end:ee()}),Q="")}}(e,a)};var c={}.hasOwnProperty,u=String.fromCharCode,d=Function.prototype,p={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},h="named",f="hexadecimal",g="decimal",m={};m[f]=16,m[g]=10;var b={};b[h]=s,b[g]=o,b[f]=a;var v={};v[1]="Named character references must be terminated by a semicolon",v[2]="Numeric character references must be terminated by a semicolon",v[3]="Named character references cannot be empty",v[4]="Numeric character references cannot be empty",v[5]="Named character references must be known",v[6]="Numeric character references cannot be disallowed",v[7]="Numeric character references cannot be outside the permissible Unicode range"},51663:function(e,t,n){"use strict";e.exports=i;var r=n(30551);function i(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var o="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8");function a(e){return e.type===i.Bytes?e.readVarint()+e.pos:e.pos+1}function s(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function l(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function c(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function u(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function d(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function h(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function f(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function g(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function m(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function b(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function v(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function y(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}i.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=b(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=y(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=b(this.buf,this.pos)+4294967296*b(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=b(this.buf,this.pos)+4294967296*y(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return(t=127&(n=r[this.pos++]),n<128)?t:(t|=(127&(n=r[this.pos++]))<<7,n<128)?t:(t|=(127&(n=r[this.pos++]))<<14,n<128)?t:(t|=(127&(n=r[this.pos++]))<<21,n<128)?t:function(e,t,n){var r,i,o,a,s=n.buf;if(o=(112&(a=s[n.pos++]))>>4,a<128||(o|=(127&(a=s[n.pos++]))<<3,a<128)||(o|=(127&(a=s[n.pos++]))<<10,a<128)||(o|=(127&(a=s[n.pos++]))<<17,a<128)||(o|=(127&(a=s[n.pos++]))<<24,a<128)||(o|=(1&(a=s[n.pos++]))<<31,a<128)){return r=e,i=o,t?4294967296*i+(r>>>0):(i>>>0)*4294967296+(r>>>0)}throw Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?-((e+1)/2):e/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var e,t=this.readVarint()+this.pos,n=this.pos;return(this.pos=t,t-n>=12&&o)?(e=this.buf,o.decode(e.subarray(n,t))):function(e,t,n){for(var r="",i=t;i<n;){var o,a,s,l=e[i],c=null,u=l>239?4:l>223?3:l>191?2:1;if(i+u>n)break;1===u?l<128&&(c=l):2===u?(192&(o=e[i+1]))==128&&(c=(31&l)<<6|63&o)<=127&&(c=null):3===u?(o=e[i+1],a=e[i+2],(192&o)==128&&(192&a)==128&&((c=(15&l)<<12|(63&o)<<6|63&a)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(o=e[i+1],a=e[i+2],s=e[i+3],(192&o)==128&&(192&a)==128&&(192&s)==128&&((c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,r+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),r+=String.fromCharCode(c),i+=u}return r}(this.buf,n,t)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==i.Bytes)return e.push(this.readVarint(t));var n=a(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==i.Bytes)return e.push(this.readSVarint());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==i.Bytes)return e.push(this.readBoolean());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==i.Bytes)return e.push(this.readFloat());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==i.Bytes)return e.push(this.readDouble());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed32());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed32());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed64());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed64());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===i.Varint)for(;this.buf[this.pos++]>127;);else if(t===i.Bytes)this.pos=this.readVarint()+this.pos;else if(t===i.Fixed32)this.pos+=4;else if(t===i.Fixed64)this.pos+=8;else throw Error("Unimplemented type: "+t)},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),v(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),v(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),v(this.buf,-1&e,this.pos),v(this.buf,Math.floor(23283064365386963e-26*e),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),v(this.buf,-1&e,this.pos),v(this.buf,Math.floor(23283064365386963e-26*e),this.pos+4),this.pos+=8},writeVarint:function(e){if((e=+e||0)>268435455||e<0){!function(e,t){var n,r,i,o,a,s;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(n=~(-e%4294967296),r=~(-e/4294967296),4294967295^n?n=n+1|0:(n=0,r=r+1|0)),e>=18446744073709552e3||e<-18446744073709552e3)throw Error("Given varint doesn't fit into 10 bytes");t.realloc(10),i=n,t.buf[t.pos++]=127&i|128,i>>>=7,t.buf[t.pos++]=127&i|128,i>>>=7,t.buf[t.pos++]=127&i|128,i>>>=7,t.buf[t.pos++]=127&i|128,i>>>=7,t.buf[t.pos]=127&i,o=r,a=t,s=(7&o)<<4,a.buf[a.pos++]|=s|((o>>>=3)?128:0),!o||(a.buf[a.pos++]=127&o|((o>>>=7)?128:0),!o)||(a.buf[a.pos++]=127&o|((o>>>=7)?128:0),!o)||(a.buf[a.pos++]=127&o|((o>>>=7)?128:0),o&&(a.buf[a.pos++]=127&o|((o>>>=7)?128:0),o&&(a.buf[a.pos++]=127&o)))}(e,this);return}this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127)))},writeSVarint:function(e){this.writeVarint(e<0?-(2*e)-1:2*e)},writeBoolean:function(e){this.writeVarint(!!e)},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(i){if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else{r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&s(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),r.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),r.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&s(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,i.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,l,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,c,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,p,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,u,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,d,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,h,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,f,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,g,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,m,t)},writeBytesField:function(e,t){this.writeTag(e,i.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,i.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,i.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,i.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,!!t)}}},41227:function(e,t,n){var r=n(2433);e.exports=function(){"use strict";var e=function(e,t){this.next=null,this.key=e,this.data=t,this.left=null,this.right=null};function t(e,t){return e>t?1:e<t?-1:0}function n(t,n,r){for(var i=new e(null,null),o=i,a=i;;){var s=r(t,n.key);if(s<0){if(null===n.left)break;if(0>r(t,n.left.key)){var l=n.left;if(n.left=l.right,l.right=n,null===(n=l).left)break}a.left=n,a=n,n=n.left}else if(s>0){if(null===n.right)break;if(r(t,n.right.key)>0){var l=n.right;if(n.right=l.left,l.left=n,null===(n=l).right)break}o.right=n,o=n,n=n.right}else break}return o.right=n.left,a.left=n.right,n.left=i.right,n.right=i.left,n}function i(t,r,i,o){var a=new e(t,r);if(null===i)return a.left=a.right=null,a;i=n(t,i,o);var s=o(t,i.key);return s<0?(a.left=i.left,a.right=i,i.left=null):s>=0&&(a.right=i.right,a.left=i,i.right=null),a}function o(e,t,r){var i=null,o=null;if(t){t=n(e,t,r);var a=r(t.key,e);0===a?(i=t.left,o=t.right):a<0?(o=t.right,t.right=null,i=t):(i=t.left,t.left=null,o=t)}return{left:i,right:o}}var a=function(){function r(e){void 0===e&&(e=t),this._root=null,this._size=0,this._comparator=e}return r.prototype.insert=function(e,t){return this._size++,this._root=i(e,t,this._root,this._comparator)},r.prototype.add=function(t,r){var i=new e(t,r);null===this._root&&(i.left=i.right=null,this._size++,this._root=i);var o=this._comparator,a=n(t,this._root,o),s=o(t,a.key);return 0===s?this._root=a:(s<0?(i.left=a.left,i.right=a,a.left=null):s>0&&(i.right=a.right,i.left=a,a.right=null),this._size++,this._root=i),this._root},r.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator)},r.prototype._remove=function(e,t,r){var i;return null===t?null:(t=n(e,t,r),0===r(e,t.key))?(null===t.left?i=t.right:(i=n(e,t.left,r)).right=t.right,this._size--,i):t},r.prototype.pop=function(){var e=this._root;if(e){for(;e.left;)e=e.left;return this._root=n(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data}}return null},r.prototype.findStatic=function(e){for(var t=this._root,n=this._comparator;t;){var r=n(e,t.key);if(0===r)return t;t=r<0?t.left:t.right}return null},r.prototype.find=function(e){return this._root&&(this._root=n(e,this._root,this._comparator),0!==this._comparator(e,this._root.key))?null:this._root},r.prototype.contains=function(e){for(var t=this._root,n=this._comparator;t;){var r=n(e,t.key);if(0===r)return!0;t=r<0?t.left:t.right}return!1},r.prototype.forEach=function(e,t){for(var n=this._root,r=[],i=!1;!i;)null!==n?(r.push(n),n=n.left):0!==r.length?(n=r.pop(),e.call(t,n),n=n.right):i=!0;return this},r.prototype.range=function(e,t,n,r){for(var i=[],o=this._comparator,a=this._root;0!==i.length||a;)if(a)i.push(a),a=a.left;else{if(o((a=i.pop()).key,t)>0)break;if(o(a.key,e)>=0&&n.call(r,a))return this;a=a.right}return this},r.prototype.keys=function(){var e=[];return this.forEach(function(t){var n=t.key;return e.push(n)}),e},r.prototype.values=function(){var e=[];return this.forEach(function(t){var n=t.data;return e.push(n)}),e},r.prototype.min=function(){return this._root?this.minNode(this._root).key:null},r.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},r.prototype.minNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.left;)e=e.left;return e},r.prototype.maxNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.right;)e=e.right;return e},r.prototype.at=function(e){for(var t=this._root,n=!1,r=0,i=[];!n;)if(t)i.push(t),t=t.left;else if(i.length>0){if(t=i.pop(),r===e)return t;r++,t=t.right}else n=!0;return null},r.prototype.next=function(e){var t=this._root,n=null;if(e.right){for(n=e.right;n.left;)n=n.left;return n}for(var r=this._comparator;t;){var i=r(e.key,t.key);if(0===i)break;i<0?(n=t,t=t.left):t=t.right}return n},r.prototype.prev=function(e){var t=this._root,n=null;if(null!==e.left){for(n=e.left;n.right;)n=n.right;return n}for(var r=this._comparator;t;){var i=r(e.key,t.key);if(0===i)break;i<0?t=t.left:(n=t,t=t.right)}return n},r.prototype.clear=function(){return this._root=null,this._size=0,this},r.prototype.toList=function(){return function(t){for(var n=t,r=[],i=!1,o=new e(null,null),a=o;!i;)n?(r.push(n),n=n.left):r.length>0?n=(n=a=a.next=r.pop()).right:i=!0;return a.next=null,o.next}(this._root)},r.prototype.load=function(t,n,r){void 0===n&&(n=[]),void 0===r&&(r=!1);var i=t.length,o=this._comparator;if(r&&function e(t,n,r,i,o){if(!(r>=i)){for(var a=t[r+i>>1],s=r-1,l=i+1;;){do s++;while(0>o(t[s],a));do l--;while(o(t[l],a)>0);if(s>=l)break;var c=t[s];t[s]=t[l],t[l]=c,c=n[s],n[s]=n[l],n[l]=c}e(t,n,r,l,o),e(t,n,l+1,i,o)}}(t,n,0,i-1,o),null===this._root)this._root=function t(n,r,i,o){var a=o-i;if(a>0){var s=i+Math.floor(a/2),l=n[s],c=r[s],u=new e(l,c);return u.left=t(n,r,i,s),u.right=t(n,r,s+1,o),u}return null}(t,n,0,i),this._size=i;else{var a=function(t,n,r){for(var i=new e(null,null),o=i,a=t,s=n;null!==a&&null!==s;)0>r(a.key,s.key)?(o.next=a,a=a.next):(o.next=s,s=s.next),o=o.next;return null!==a?o.next=a:null!==s&&(o.next=s),i.next}(this.toList(),function(t,n){for(var r=new e(null,null),i=r,o=0;o<t.length;o++)i=i.next=new e(t[o],n[o]);return i.next=null,r.next}(t,n),o);i=this._size+i,this._root=function e(t,n,r){var i=r-n;if(i>0){var o=n+Math.floor(i/2),a=e(t,n,o),s=t.head;return s.left=a,t.head=t.head.next,s.right=e(t,o+1,r),s}return null}({head:a},0,i)}return this},r.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(r.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),r.prototype.toString=function(e){void 0===e&&(e=function(e){return String(e.key)});var t=[];return function e(t,n,r,i,o){if(t){i(""+n+(r?"└── ":"├── ")+o(t)+"\n");var a=n+(r?"    ":"│   ");t.left&&e(t.left,a,!1,i,o),t.right&&e(t.right,a,!0,i,o)}}(this._root,"",!0,function(e){return t.push(e)},e),t.join("")},r.prototype.update=function(e,t,r){var a,s,l=this._comparator,c=o(e,this._root,l),u=c.left,d=c.right;0>l(e,t)?d=i(t,r,d,l):u=i(t,r,u,l),this._root=(a=u,null===(s=d)?a:(null===a||((s=n(a.key,s,l)).left=a),s))},r.prototype.split=function(e){return o(e,this._root,this._comparator)},r.prototype[Symbol.iterator]=function(){var e,t,n;return(/**
     * splaytree v3.1.2
     * Fast Splay tree for Node and browser
     *
     * @author Alexander Milevski <info@w8r.name>
     * @license MIT
     * @preserve
     *//*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(r){switch(r.label){case 0:e=this._root,t=[],n=!1,r.label=1;case 1:if(n)return[3,6];if(!(null!==e))return[3,2];return t.push(e),e=e.left,[3,5];case 2:if(!(0!==t.length))return[3,4];return[4,e=t.pop()];case 3:return r.sent(),e=e.right,[3,5];case 4:n=!0,r.label=5;case 5:return[3,1];case 6:return[2]}}))},r}();let s=(e,t)=>e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y,l=(e,t)=>{if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;let n=e.ll.x<t.ll.x?t.ll.x:e.ll.x,r=e.ur.x<t.ur.x?e.ur.x:t.ur.x,i=e.ll.y<t.ll.y?t.ll.y:e.ll.y,o=e.ur.y<t.ur.y?e.ur.y:t.ur.y;return{ll:{x:n,y:i},ur:{x:r,y:o}}},c=Number.EPSILON;void 0===c&&(c=2220446049250313e-31);let u=c*c,d=(e,t)=>{if(-c<e&&e<c&&-c<t&&t<c)return 0;let n=e-t;return n*n<u*e*t?0:e<t?-1:1};class p{constructor(){this.tree=new a,this.round(0)}round(e){let t=this.tree.add(e),n=this.tree.prev(t);if(null!==n&&0===d(t.key,n.key))return this.tree.remove(e),n.key;let r=this.tree.next(t);return null!==r&&0===d(t.key,r.key)?(this.tree.remove(e),r.key):e}}let h=new class{constructor(){this.reset()}reset(){this.xRounder=new p,this.yRounder=new p}round(e,t){return{x:this.xRounder.round(e),y:this.yRounder.round(t)}}},f=(3+8881784197001252e-31)*11102230246251565e-32;function g(e,t,n,r,i){let o,a,s,l;let c=t[0],u=r[0],d=0,p=0;u>c==u>-c?(o=c,c=t[++d]):(o=u,u=r[++p]);let h=0;if(d<e&&p<n)for(u>c==u>-c?(a=c+o,s=o-(a-c),c=t[++d]):(a=u+o,s=o-(a-u),u=r[++p]),o=a,0!==s&&(i[h++]=s);d<e&&p<n;)u>c==u>-c?(l=(a=o+c)-o,s=o-(a-l)+(c-l),c=t[++d]):(l=(a=o+u)-o,s=o-(a-l)+(u-l),u=r[++p]),o=a,0!==s&&(i[h++]=s);for(;d<e;)l=(a=o+c)-o,s=o-(a-l)+(c-l),c=t[++d],o=a,0!==s&&(i[h++]=s);for(;p<n;)l=(a=o+u)-o,s=o-(a-l)+(u-l),u=r[++p],o=a,0!==s&&(i[h++]=s);return(0!==o||0===h)&&(i[h++]=o),h}function m(e){return new Float64Array(e)}let b=(3+17763568394002505e-31)*11102230246251565e-32,v=(2+13322676295501878e-31)*11102230246251565e-32,y=(9+7105427357601002e-30)*11102230246251565e-32*11102230246251565e-32,E=m(4),_=m(8),x=m(12),S=m(16),A=m(4),C=(e,t)=>e.x*t.y-e.y*t.x,w=(e,t)=>e.x*t.x+e.y*t.y,O=(e,t,n)=>{let r=function(e,t,n,r,i,o){let a=(t-o)*(n-i),s=(e-i)*(r-o),l=a-s,c=Math.abs(a+s);return Math.abs(l)>=b*c?l:-function(e,t,n,r,i,o,a){let s,l,c,u,d,p,h,m,b,C,w,O,I,L,R,k,N,M;let D=e-i,P=n-i,F=t-o,B=r-o;L=D*B,h=(p=134217729*D)-(p-D),m=D-h,b=(p=134217729*B)-(p-B),R=m*(C=B-b)-(L-h*b-m*b-h*C),k=F*P,h=(p=134217729*F)-(p-F),m=F-h,b=(p=134217729*P)-(p-P),w=R-(N=m*(C=P-b)-(k-h*b-m*b-h*C)),d=R-w,E[0]=R-(w+d)+(d-N),d=(O=L+w)-L,w=(I=L-(O-d)+(w-d))-k,d=I-w,E[1]=I-(w+d)+(d-k),d=(M=O+w)-O,E[2]=O-(M-d)+(w-d),E[3]=M;let U=function(e,t){let n=t[0];for(let e=1;e<4;e++)n+=t[e];return n}(0,E),z=v*a;if(U>=z||-U>=z||(d=e-D,s=e-(D+d)+(d-i),d=n-P,c=n-(P+d)+(d-i),d=t-F,l=t-(F+d)+(d-o),d=r-B,u=r-(B+d)+(d-o),0===s&&0===l&&0===c&&0===u)||(z=y*a+f*Math.abs(U),(U+=D*u+B*s-(F*c+P*l))>=z||-U>=z))return U;L=s*B,h=(p=134217729*s)-(p-s),m=s-h,b=(p=134217729*B)-(p-B),R=m*(C=B-b)-(L-h*b-m*b-h*C),k=l*P,h=(p=134217729*l)-(p-l),m=l-h,b=(p=134217729*P)-(p-P),w=R-(N=m*(C=P-b)-(k-h*b-m*b-h*C)),d=R-w,A[0]=R-(w+d)+(d-N),d=(O=L+w)-L,w=(I=L-(O-d)+(w-d))-k,d=I-w,A[1]=I-(w+d)+(d-k),d=(M=O+w)-O,A[2]=O-(M-d)+(w-d),A[3]=M;let Z=g(4,E,4,A,_);L=D*u,h=(p=134217729*D)-(p-D),m=D-h,b=(p=134217729*u)-(p-u),R=m*(C=u-b)-(L-h*b-m*b-h*C),k=F*c,h=(p=134217729*F)-(p-F),m=F-h,b=(p=134217729*c)-(p-c),w=R-(N=m*(C=c-b)-(k-h*b-m*b-h*C)),d=R-w,A[0]=R-(w+d)+(d-N),d=(O=L+w)-L,w=(I=L-(O-d)+(w-d))-k,d=I-w,A[1]=I-(w+d)+(d-k),d=(M=O+w)-O,A[2]=O-(M-d)+(w-d),A[3]=M;let j=g(Z,_,4,A,x);L=s*u,h=(p=134217729*s)-(p-s),m=s-h,b=(p=134217729*u)-(p-u),R=m*(C=u-b)-(L-h*b-m*b-h*C),k=l*c,h=(p=134217729*l)-(p-l),m=l-h,b=(p=134217729*c)-(p-c),w=R-(N=m*(C=c-b)-(k-h*b-m*b-h*C)),d=R-w,A[0]=R-(w+d)+(d-N),d=(O=L+w)-L,w=(I=L-(O-d)+(w-d))-k,d=I-w,A[1]=I-(w+d)+(d-k),d=(M=O+w)-O,A[2]=O-(M-d)+(w-d),A[3]=M;let H=g(j,x,4,A,S);return S[H-1]}(e,t,n,r,i,o,c)}(e.x,e.y,t.x,t.y,n.x,n.y);return r>0?-1:r<0?1:0},I=e=>Math.sqrt(w(e,e)),L=(e,t,n)=>{let r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y};return C(i,r)/I(i)/I(r)},R=(e,t,n)=>{let r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y};return w(i,r)/I(i)/I(r)},k=(e,t,n)=>0===t.y?null:{x:e.x+t.x/t.y*(n-e.y),y:n},N=(e,t,n)=>0===t.x?null:{x:n,y:e.y+t.y/t.x*(n-e.x)},M=(e,t,n,r)=>{if(0===t.x)return N(n,r,e.x);if(0===r.x)return N(e,t,n.x);if(0===t.y)return k(n,r,e.y);if(0===r.y)return k(e,t,n.y);let i=C(t,r);if(0==i)return null;let o={x:n.x-e.x,y:n.y-e.y},a=C(o,t)/i,s=C(o,r)/i,l=e.x+s*t.x,c=n.x+a*r.x,u=e.y+s*t.y,d=n.y+a*r.y;return{x:(l+c)/2,y:(u+d)/2}};class D{static compare(e,t){let n=D.comparePoints(e.point,t.point);return 0!==n?n:(e.point!==t.point&&e.link(t),e.isLeft!==t.isLeft)?e.isLeft?1:-1:F.compare(e.segment,t.segment)}static comparePoints(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}constructor(e,t){void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=t}link(e){if(e.point===this.point)throw Error("Tried to link already linked events");let t=e.point.events;for(let e=0,n=t.length;e<n;e++){let n=t[e];this.point.events.push(n),n.point=this.point}this.checkForConsuming()}checkForConsuming(){let e=this.point.events.length;for(let t=0;t<e;t++){let n=this.point.events[t];if(void 0===n.segment.consumedBy)for(let r=t+1;r<e;r++){let e=this.point.events[r];void 0===e.consumedBy&&n.otherSE.point.events===e.otherSE.point.events&&n.segment.consume(e.segment)}}}getAvailableLinkedEvents(){let e=[];for(let t=0,n=this.point.events.length;t<n;t++){let n=this.point.events[t];n!==this&&!n.segment.ringOut&&n.segment.isInResult()&&e.push(n)}return e}getLeftmostComparator(e){let t=new Map,n=n=>{let r=n.otherSE;t.set(n,{sine:L(this.point,e.point,r.point),cosine:R(this.point,e.point,r.point)})};return(e,r)=>{t.has(e)||n(e),t.has(r)||n(r);let{sine:i,cosine:o}=t.get(e),{sine:a,cosine:s}=t.get(r);return i>=0&&a>=0?o<s?1:o>s?-1:0:i<0&&a<0?o<s?-1:o>s?1:0:a<i?-1:a>i?1:0}}}let P=0;class F{static compare(e,t){let n=e.leftSE.point.x,r=t.leftSE.point.x,i=e.rightSE.point.x,o=t.rightSE.point.x;if(o<n)return 1;if(i<r)return -1;let a=e.leftSE.point.y,s=t.leftSE.point.y,l=e.rightSE.point.y,c=t.rightSE.point.y;if(n<r){if(s<a&&s<l)return 1;if(s>a&&s>l)return -1;let n=e.comparePoint(t.leftSE.point);if(n<0)return 1;if(n>0)return -1;let r=t.comparePoint(e.rightSE.point);return 0!==r?r:-1}if(n>r){if(a<s&&a<c)return -1;if(a>s&&a>c)return 1;let n=t.comparePoint(e.leftSE.point);if(0!==n)return n;let r=e.comparePoint(t.rightSE.point);return r<0?1:r>0?-1:1}if(a<s)return -1;if(a>s)return 1;if(i<o){let n=t.comparePoint(e.rightSE.point);if(0!==n)return n}if(i>o){let n=e.comparePoint(t.rightSE.point);if(n<0)return 1;if(n>0)return -1}if(i!==o){let e=l-a,t=i-n,u=c-s,d=o-r;if(e>t&&u<d)return 1;if(e<t&&u>d)return -1}return i>o?1:i<o||l<c?-1:l>c?1:e.id<t.id?-1:e.id>t.id?1:0}constructor(e,t,n,r){this.id=++P,this.leftSE=e,e.segment=this,e.otherSE=t,this.rightSE=t,t.segment=this,t.otherSE=e,this.rings=n,this.windings=r}static fromRing(e,t,n){let r,i,o;let a=D.comparePoints(e,t);if(a<0)r=e,i=t,o=1;else if(a>0)r=t,i=e,o=-1;else throw Error(`Tried to create degenerate segment at [${e.x}, ${e.y}]`);let s=new D(r,!0),l=new D(i,!1);return new F(s,l,[n],[o])}replaceRightSE(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<t?e:t},ur:{x:this.rightSE.point.x,y:e>t?e:t}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y}comparePoint(e){if(this.isAnEndpoint(e))return 0;let t=this.leftSE.point,n=this.rightSE.point,r=this.vector();if(t.x===n.x)return e.x===t.x?0:e.x<t.x?1:-1;let i=(e.y-t.y)/r.y,o=t.x+i*r.x;if(e.x===o)return 0;let a=(e.x-t.x)/r.x,s=t.y+a*r.y;return e.y===s?0:e.y<s?-1:1}getIntersection(e){let t=this.bbox(),n=e.bbox(),r=l(t,n);if(null===r)return null;let i=this.leftSE.point,o=this.rightSE.point,a=e.leftSE.point,c=e.rightSE.point,u=s(t,a)&&0===this.comparePoint(a),d=s(n,i)&&0===e.comparePoint(i),p=s(t,c)&&0===this.comparePoint(c),f=s(n,o)&&0===e.comparePoint(o);if(d&&u)return f&&!p?o:!f&&p?c:null;if(d)return p&&i.x===c.x&&i.y===c.y?null:i;if(u)return f&&o.x===a.x&&o.y===a.y?null:a;if(f&&p)return null;if(f)return o;if(p)return c;let g=M(i,this.vector(),a,e.vector());return null!==g&&s(r,g)?h.round(g.x,g.y):null}split(e){let t=[],n=void 0!==e.events,r=new D(e,!0),i=new D(e,!1),o=this.rightSE;this.replaceRightSE(i),t.push(i),t.push(r);let a=new F(r,o,this.rings.slice(),this.windings.slice());return D.comparePoints(a.leftSE.point,a.rightSE.point)>0&&a.swapEvents(),D.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(r.checkForConsuming(),i.checkForConsuming()),t}swapEvents(){let e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let e=0,t=this.windings.length;e<t;e++)this.windings[e]*=-1}consume(e){let t=this,n=e;for(;t.consumedBy;)t=t.consumedBy;for(;n.consumedBy;)n=n.consumedBy;let r=F.compare(t,n);if(0!==r){if(r>0){let e=t;t=n,n=e}if(t.prev===n){let e=t;t=n,n=e}for(let e=0,r=n.rings.length;e<r;e++){let r=n.rings[e],i=n.windings[e],o=t.rings.indexOf(r);-1===o?(t.rings.push(r),t.windings.push(i)):t.windings[o]+=i}n.rings=null,n.windings=null,n.consumedBy=t,n.leftSE.consumedBy=t.leftSE,n.rightSE.consumedBy=t.rightSE}}prevInResult(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}beforeState(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){let e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}afterState(){if(void 0!==this._afterState)return this._afterState;let e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};let t=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys;for(let e=0,r=this.rings.length;e<r;e++){let r=this.rings[e],i=this.windings[e],o=t.indexOf(r);-1===o?(t.push(r),n.push(i)):n[o]+=i}let i=[],o=[];for(let e=0,r=t.length;e<r;e++){if(0===n[e])continue;let r=t[e],a=r.poly;if(-1===o.indexOf(a)){if(r.isExterior)i.push(a);else{-1===o.indexOf(a)&&o.push(a);let e=i.indexOf(r.poly);-1!==e&&i.splice(e,1)}}}for(let e=0,t=i.length;e<t;e++){let t=i[e].multiPoly;-1===r.indexOf(t)&&r.push(t)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;let e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(W.type){case"union":{let n=0===e.length,r=0===t.length;this._isInResult=n!==r;break}case"intersection":{let n,r;e.length<t.length?(n=e.length,r=t.length):(n=t.length,r=e.length),this._isInResult=r===W.numMultiPolys&&n<r;break}case"xor":{let n=Math.abs(e.length-t.length);this._isInResult=n%2==1;break}case"difference":this._isInResult=(1===e.length&&e[0].isSubject)!==(1===t.length&&t[0].isSubject);break;default:throw Error(`Unrecognized operation type found ${W.type}`)}return this._isInResult}}class B{constructor(e,t,n){if(!Array.isArray(e)||0===e.length||(this.poly=t,this.isExterior=n,this.segments=[],"number"!=typeof e[0][0]||"number"!=typeof e[0][1]))throw Error("Input geometry is not a valid Polygon or MultiPolygon");let r=h.round(e[0][0],e[0][1]);this.bbox={ll:{x:r.x,y:r.y},ur:{x:r.x,y:r.y}};let i=r;for(let t=1,n=e.length;t<n;t++){if("number"!=typeof e[t][0]||"number"!=typeof e[t][1])throw Error("Input geometry is not a valid Polygon or MultiPolygon");let n=h.round(e[t][0],e[t][1]);(n.x!==i.x||n.y!==i.y)&&(this.segments.push(F.fromRing(i,n,this)),n.x<this.bbox.ll.x&&(this.bbox.ll.x=n.x),n.y<this.bbox.ll.y&&(this.bbox.ll.y=n.y),n.x>this.bbox.ur.x&&(this.bbox.ur.x=n.x),n.y>this.bbox.ur.y&&(this.bbox.ur.y=n.y),i=n)}(r.x!==i.x||r.y!==i.y)&&this.segments.push(F.fromRing(i,r,this))}getSweepEvents(){let e=[];for(let t=0,n=this.segments.length;t<n;t++){let n=this.segments[t];e.push(n.leftSE),e.push(n.rightSE)}return e}}class U{constructor(e,t){if(!Array.isArray(e))throw Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new B(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let t=1,n=e.length;t<n;t++){let n=new B(e[t],this,!1);n.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=n.bbox.ll.x),n.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=n.bbox.ll.y),n.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=n.bbox.ur.x),n.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=n.bbox.ur.y),this.interiorRings.push(n)}this.multiPoly=t}getSweepEvents(){let e=this.exteriorRing.getSweepEvents();for(let t=0,n=this.interiorRings.length;t<n;t++){let n=this.interiorRings[t].getSweepEvents();for(let t=0,r=n.length;t<r;t++)e.push(n[t])}return e}}class z{constructor(e,t){if(!Array.isArray(e))throw Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof e[0][0][0]&&(e=[e])}catch(e){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let t=0,n=e.length;t<n;t++){let n=new U(e[t],this);n.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=n.bbox.ll.x),n.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=n.bbox.ll.y),n.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=n.bbox.ur.x),n.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=n.bbox.ur.y),this.polys.push(n)}this.isSubject=t}getSweepEvents(){let e=[];for(let t=0,n=this.polys.length;t<n;t++){let n=this.polys[t].getSweepEvents();for(let t=0,r=n.length;t<r;t++)e.push(n[t])}return e}}class Z{static factory(e){let t=[];for(let n=0,r=e.length;n<r;n++){let r=e[n];if(!r.isInResult()||r.ringOut)continue;let i=null,o=r.leftSE,a=r.rightSE,s=[o],l=o.point,c=[];for(;i=o,o=a,s.push(o),o.point!==l;)for(;;){let e=o.getAvailableLinkedEvents();if(0===e.length){let e=s[0].point,t=s[s.length-1].point;throw Error(`Unable to complete output ring starting at [${e.x}, ${e.y}]. Last matching segment found ends at [${t.x}, ${t.y}].`)}if(1===e.length){a=e[0].otherSE;break}let n=null;for(let e=0,t=c.length;e<t;e++)if(c[e].point===o.point){n=e;break}if(null!==n){let e=c.splice(n)[0],r=s.splice(e.index);r.unshift(r[0].otherSE),t.push(new Z(r.reverse()));continue}c.push({index:s.length,point:o.point});let r=o.getLeftmostComparator(i);a=e.sort(r)[0].otherSE;break}t.push(new Z(s))}return t}constructor(e){this.events=e;for(let t=0,n=e.length;t<n;t++)e[t].segment.ringOut=this;this.poly=null}getGeom(){let e=this.events[0].point,t=[e];for(let n=1,r=this.events.length-1;n<r;n++){let r=this.events[n].point,i=this.events[n+1].point;0!==O(r,e,i)&&(t.push(r),e=r)}if(1===t.length)return null;let n=t[0],r=t[1];0===O(n,e,r)&&t.shift(),t.push(t[0]);let i=this.isExteriorRing()?1:-1,o=this.isExteriorRing()?0:t.length-1,a=this.isExteriorRing()?t.length:-1,s=[];for(let e=o;e!=a;e+=i)s.push([t[e].x,t[e].y]);return s}isExteriorRing(){if(void 0===this._isExteriorRing){let e=this.enclosingRing();this._isExteriorRing=!e||!e.isExteriorRing()}return this._isExteriorRing}enclosingRing(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let e=this.events[0];for(let t=1,n=this.events.length;t<n;t++){let n=this.events[t];D.compare(e,n)>0&&(e=n)}let t=e.segment.prevInResult(),n=t?t.prevInResult():null;for(;;){if(!t)return null;if(!n)return t.ringOut;if(n.ringOut!==t.ringOut){if(n.ringOut.enclosingRing()!==t.ringOut)return t.ringOut;return t.ringOut.enclosingRing()}n=(t=n.prevInResult())?t.prevInResult():null}}}class j{constructor(e){this.exteriorRing=e,e.poly=this,this.interiorRings=[]}addInterior(e){this.interiorRings.push(e),e.poly=this}getGeom(){let e=[this.exteriorRing.getGeom()];if(null===e[0])return null;for(let t=0,n=this.interiorRings.length;t<n;t++){let n=this.interiorRings[t].getGeom();null!==n&&e.push(n)}return e}}class H{constructor(e){this.rings=e,this.polys=this._composePolys(e)}getGeom(){let e=[];for(let t=0,n=this.polys.length;t<n;t++){let n=this.polys[t].getGeom();null!==n&&e.push(n)}return e}_composePolys(e){let t=[];for(let n=0,r=e.length;n<r;n++){let r=e[n];if(!r.poly){if(r.isExteriorRing())t.push(new j(r));else{let e=r.enclosingRing();e.poly||t.push(new j(e)),e.poly.addInterior(r)}}}return t}}class G{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F.compare;this.queue=e,this.tree=new a(t),this.segments=[]}process(e){let t,n;let r=e.segment,i=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(r),i;let o=e.isLeft?this.tree.add(r):this.tree.find(r);if(!o)throw Error(`Unable to find segment #${r.id} [${r.leftSE.point.x}, ${r.leftSE.point.y}] -> [${r.rightSE.point.x}, ${r.rightSE.point.y}] in SweepLine tree.`);let a=o,s=o;for(;void 0===t;)null===(a=this.tree.prev(a))?t=null:void 0===a.key.consumedBy&&(t=a.key);for(;void 0===n;)null===(s=this.tree.next(s))?n=null:void 0===s.key.consumedBy&&(n=s.key);if(e.isLeft){let o=null;if(t){let e=t.getIntersection(r);if(null!==e&&(r.isAnEndpoint(e)||(o=e),!t.isAnEndpoint(e))){let n=this._splitSafely(t,e);for(let e=0,t=n.length;e<t;e++)i.push(n[e])}}let a=null;if(n){let e=n.getIntersection(r);if(null!==e&&(r.isAnEndpoint(e)||(a=e),!n.isAnEndpoint(e))){let t=this._splitSafely(n,e);for(let e=0,n=t.length;e<n;e++)i.push(t[e])}}if(null!==o||null!==a){let e=null;if(null===o)e=a;else if(null===a)e=o;else{let t=D.comparePoints(o,a);e=t<=0?o:a}this.queue.remove(r.rightSE),i.push(r.rightSE);let t=r.split(e);for(let e=0,n=t.length;e<n;e++)i.push(t[e])}i.length>0?(this.tree.remove(r),i.push(e)):(this.segments.push(r),r.prev=t)}else{if(t&&n){let e=t.getIntersection(n);if(null!==e){if(!t.isAnEndpoint(e)){let n=this._splitSafely(t,e);for(let e=0,t=n.length;e<t;e++)i.push(n[e])}if(!n.isAnEndpoint(e)){let t=this._splitSafely(n,e);for(let e=0,n=t.length;e<n;e++)i.push(t[e])}}}this.tree.remove(r)}return i}_splitSafely(e,t){this.tree.remove(e);let n=e.rightSE;this.queue.remove(n);let r=e.split(t);return r.push(n),void 0===e.consumedBy&&this.tree.add(e),r}}let V=void 0!==r&&r.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,$=void 0!==r&&r.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,W=new class{run(e,t,n){W.type=e,h.reset();let r=[new z(t,!0)];for(let e=0,t=n.length;e<t;e++)r.push(new z(n[e],!1));if(W.numMultiPolys=r.length,"difference"===W.type){let e=r[0],t=1;for(;t<r.length;)null!==l(r[t].bbox,e.bbox)?t++:r.splice(t,1)}if("intersection"===W.type)for(let e=0,t=r.length;e<t;e++){let t=r[e];for(let n=e+1,i=r.length;n<i;n++)if(null===l(t.bbox,r[n].bbox))return[]}let i=new a(D.compare);for(let e=0,t=r.length;e<t;e++){let t=r[e].getSweepEvents();for(let e=0,n=t.length;e<n;e++)if(i.insert(t[e]),i.size>V)throw Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}let o=new G(i),s=i.size,c=i.pop();for(;c;){let e=c.key;if(i.size===s){let t=e.segment;throw Error(`Unable to pop() ${e.isLeft?"left":"right"} SweepEvent [${e.point.x}, ${e.point.y}] from segment #${t.id} [${t.leftSE.point.x}, ${t.leftSE.point.y}] -> [${t.rightSE.point.x}, ${t.rightSE.point.y}] from queue.`)}if(i.size>V)throw Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(o.segments.length>$)throw Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");let t=o.process(e);for(let e=0,n=t.length;e<n;e++){let n=t[e];void 0===n.consumedBy&&i.insert(n)}s=i.size,c=i.pop()}h.reset();let u=Z.factory(o.segments),d=new H(u);return d.getGeom()}};return{union:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W.run("union",e,n)},intersection:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W.run("intersection",e,n)},xor:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W.run("xor",e,n)},difference:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W.run("difference",e,n)}}}()},58925:function(e,t,n){/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var r=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},i={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof o?new o(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,o;switch(n=n||{},i.util.type(t)){case"Object":if(n[o=i.util.objId(t)])return n[o];for(var a in r={},n[o]=r,t)t.hasOwnProperty(a)&&(r[a]=e(t[a],n));return r;case"Array":if(n[o=i.util.objId(t)])return n[o];return r=[],n[o]=r,t.forEach(function(t,i){r[i]=e(t,n)}),r;default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw Error()}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var i=e.classList;if(i.contains(t))return!0;if(i.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=i.util.clone(i.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var o=(r=r||i.languages)[e],a={};for(var s in o)if(o.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(a[l]=n[l]);n.hasOwnProperty(s)||(a[s]=o[s])}var c=r[e];return r[e]=a,i.languages.DFS(i.languages,function(t,n){n===c&&t!=e&&(this[t]=a)}),a},DFS:function e(t,n,r,o){o=o||{};var a=i.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],r||s);var l=t[s],c=i.util.type(l);"Object"!==c||o[a(l)]?"Array"!==c||o[a(l)]||(o[a(l)]=!0,e(l,n,s,o)):(o[a(l)]=!0,e(l,n,null,o))}}},plugins:{},highlightAll:function(e,t){i.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),i.hooks.run("before-all-elements-highlight",r);for(var o,a=0;o=r.elements[a++];)i.highlightElement(o,!0===t,r.callback)},highlightElement:function(t,n,r){var o=i.util.getLanguage(t),a=i.languages[o];i.util.setLanguage(t,o);var s=t.parentElement;s&&"pre"===s.nodeName.toLowerCase()&&i.util.setLanguage(s,o);var l=t.textContent,c={element:t,language:o,grammar:a,code:l};function u(e){c.highlightedCode=e,i.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,i.hooks.run("after-highlight",c),i.hooks.run("complete",c),r&&r.call(c.element)}if(i.hooks.run("before-sanity-check",c),(s=c.element.parentElement)&&"pre"===s.nodeName.toLowerCase()&&!s.hasAttribute("tabindex")&&s.setAttribute("tabindex","0"),!c.code){i.hooks.run("complete",c),r&&r.call(c.element);return}if(i.hooks.run("before-highlight",c),!c.grammar){u(i.util.encode(c.code));return}if(n&&e.Worker){var d=new Worker(i.filename);d.onmessage=function(e){u(e.data)},d.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else u(i.highlight(c.code,c.grammar,c.language))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(i.hooks.run("before-tokenize",r),!r.grammar)throw Error('The language "'+r.language+'" has no grammar.');return r.tokens=i.tokenize(r.code,r.grammar),i.hooks.run("after-tokenize",r),o.stringify(i.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var c=new s;return l(c,c.head,e),function e(t,n,r,s,c,u){for(var d in r)if(r.hasOwnProperty(d)&&r[d]){var p=r[d];p=Array.isArray(p)?p:[p];for(var h=0;h<p.length;++h){if(u&&u.cause==d+","+h)return;var f=p[h],g=f.inside,m=!!f.lookbehind,b=!!f.greedy,v=f.alias;if(b&&!f.pattern.global){var y=f.pattern.toString().match(/[imsuy]*$/)[0];f.pattern=RegExp(f.pattern.source,y+"g")}for(var E=f.pattern||f,_=s.next,x=c;_!==n.tail&&(!u||!(x>=u.reach));x+=_.value.length,_=_.next){var S,A=_.value;if(n.length>t.length)return;if(!(A instanceof o)){var C=1;if(b){if(!(S=a(E,x,t,m))||S.index>=t.length)break;var w=S.index,O=S.index+S[0].length,I=x;for(I+=_.value.length;w>=I;)I+=(_=_.next).value.length;if(I-=_.value.length,x=I,_.value instanceof o)continue;for(var L=_;L!==n.tail&&(I<O||"string"==typeof L.value);L=L.next)C++,I+=L.value.length;C--,A=t.slice(x,I),S.index-=x}else if(!(S=a(E,0,A,m)))continue;var w=S.index,R=S[0],k=A.slice(0,w),N=A.slice(w+R.length),M=x+A.length;u&&M>u.reach&&(u.reach=M);var D=_.prev;k&&(D=l(n,D,k),x+=k.length),function(e,t,n){for(var r=t.next,i=0;i<n&&r!==e.tail;i++)r=r.next;t.next=r,r.prev=t,e.length-=i}(n,D,C);var P=new o(d,g?i.tokenize(R,g):R,v,R);if(_=l(n,D,P),N&&l(n,_,N),C>1){var F={cause:d+","+h,reach:M};e(t,n,r,_.prev,x,F),u&&F.reach>u.reach&&(u.reach=F.reach)}}}}}}(e,c,t,c.head,0),function(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}(c)},hooks:{all:{},add:function(e,t){var n=i.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=i.hooks.all[e];if(n&&n.length)for(var r,o=0;r=n[o++];)r(t)}},Token:o};function o(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function a(e,t,n,r){e.lastIndex=t;var i=e.exec(n);if(i&&r&&i[1]){var o=i[1].length;i.index+=o,i[0]=i[0].slice(o)}return i}function s(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function l(e,t,n){var r=t.next,i={value:n,prev:t,next:r};return t.next=i,r.prev=i,e.length++,i}if(e.Prism=i,o.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach(function(t){r+=e(t,n)}),r}var o={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},a=t.alias;a&&(Array.isArray(a)?Array.prototype.push.apply(o.classes,a):o.classes.push(a)),i.hooks.run("wrap",o);var s="";for(var l in o.attributes)s+=" "+l+'="'+(o.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+s+">"+o.content+"</"+o.tag+">"},!e.document)return e.addEventListener&&(i.disableWorkerMessageHandler||e.addEventListener("message",function(t){var n=JSON.parse(t.data),r=n.language,o=n.code,a=n.immediateClose;e.postMessage(i.highlight(o,i.languages[r],r)),a&&e.close()},!1)),i;var c=i.util.currentScript();function u(){i.manual||i.highlightAll()}if(c&&(i.filename=c.src,c.hasAttribute("data-manual")&&(i.manual=!0)),!i.manual){var d=document.readyState;"loading"===d||"interactive"===d&&c&&c.defer?document.addEventListener("DOMContentLoaded",u):window.requestAnimationFrame?window.requestAnimationFrame(u):window.setTimeout(u,16)}return i}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=r),void 0!==n.g&&(n.g.Prism=r)},46613:function(e,t,n){"use strict";var r=n(75678),i=n(17038),o=n(22929),a="data";e.exports=function(e,t){var n,p,h,f=r(t),g=t,m=o;return f in e.normal?e.property[e.normal[f]]:(f.length>4&&f.slice(0,4)===a&&s.test(t)&&("-"===t.charAt(4)?g=a+(n=t.slice(5).replace(l,d)).charAt(0).toUpperCase()+n.slice(1):(h=(p=t).slice(4),t=l.test(h)?p:("-"!==(h=h.replace(c,u)).charAt(0)&&(h="-"+h),a+h)),m=i),new m(g,t))};var s=/^data[-\w.:]+$/i,l=/-[a-z]/g,c=/[A-Z]/g;function u(e){return"-"+e.toLowerCase()}function d(e){return e.charAt(1).toUpperCase()}},86621:function(e,t,n){"use strict";var r=n(13725),i=n(46522),o=n(17941),a=n(56933),s=n(60051),l=n(75812);e.exports=r([o,i,a,s,l])},60051:function(e,t,n){"use strict";var r=n(97949),i=n(45998),o=r.booleanish,a=r.number,s=r.spaceSeparated;e.exports=i({transform:function(e,t){return"role"===t?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:o,ariaAutoComplete:null,ariaBusy:o,ariaChecked:o,ariaColCount:a,ariaColIndex:a,ariaColSpan:a,ariaControls:s,ariaCurrent:null,ariaDescribedBy:s,ariaDetails:null,ariaDisabled:o,ariaDropEffect:s,ariaErrorMessage:null,ariaExpanded:o,ariaFlowTo:s,ariaGrabbed:o,ariaHasPopup:null,ariaHidden:o,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:s,ariaLevel:a,ariaLive:null,ariaModal:o,ariaMultiLine:o,ariaMultiSelectable:o,ariaOrientation:null,ariaOwns:s,ariaPlaceholder:null,ariaPosInSet:a,ariaPressed:o,ariaReadOnly:o,ariaRelevant:null,ariaRequired:o,ariaRoleDescription:s,ariaRowCount:a,ariaRowIndex:a,ariaRowSpan:a,ariaSelected:o,ariaSetSize:a,ariaSort:null,ariaValueMax:a,ariaValueMin:a,ariaValueNow:a,ariaValueText:null,role:null}})},75812:function(e,t,n){"use strict";var r=n(97949),i=n(45998),o=n(2160),a=r.boolean,s=r.overloadedBoolean,l=r.booleanish,c=r.number,u=r.spaceSeparated,d=r.commaSeparated;e.exports=i({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:o,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:d,acceptCharset:u,accessKey:u,action:null,allow:null,allowFullScreen:a,allowPaymentRequest:a,allowUserMedia:a,alt:null,as:null,async:a,autoCapitalize:null,autoComplete:u,autoFocus:a,autoPlay:a,capture:a,charSet:null,checked:a,cite:null,className:u,cols:c,colSpan:null,content:null,contentEditable:l,controls:a,controlsList:u,coords:c|d,crossOrigin:null,data:null,dateTime:null,decoding:null,default:a,defer:a,dir:null,dirName:null,disabled:a,download:s,draggable:l,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:a,formTarget:null,headers:u,height:c,hidden:a,high:c,href:null,hrefLang:null,htmlFor:u,httpEquiv:u,id:null,imageSizes:null,imageSrcSet:d,inputMode:null,integrity:null,is:null,isMap:a,itemId:null,itemProp:u,itemRef:u,itemScope:a,itemType:u,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:a,low:c,manifest:null,max:null,maxLength:c,media:null,method:null,min:null,minLength:c,multiple:a,muted:a,name:null,nonce:null,noModule:a,noValidate:a,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:a,optimum:c,pattern:null,ping:u,placeholder:null,playsInline:a,poster:null,preload:null,readOnly:a,referrerPolicy:null,rel:u,required:a,reversed:a,rows:c,rowSpan:c,sandbox:u,scope:null,scoped:a,seamless:a,selected:a,shape:null,size:c,sizes:null,slot:null,span:c,spellCheck:l,src:null,srcDoc:null,srcLang:null,srcSet:d,start:c,step:null,style:null,tabIndex:c,target:null,title:null,translate:null,type:null,typeMustMatch:a,useMap:null,value:l,width:c,wrap:null,align:null,aLink:null,archive:u,axis:null,background:null,bgColor:null,border:c,borderColor:null,bottomMargin:c,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:a,declare:a,event:null,face:null,frame:null,frameBorder:null,hSpace:c,leftMargin:c,link:null,longDesc:null,lowSrc:null,marginHeight:c,marginWidth:c,noResize:a,noHref:a,noShade:a,noWrap:a,object:null,profile:null,prompt:null,rev:null,rightMargin:c,rules:null,scheme:null,scrolling:l,standby:null,summary:null,text:null,topMargin:c,valueType:null,version:null,vAlign:null,vLink:null,vSpace:c,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:a,disableRemotePlayback:a,prefix:null,property:null,results:c,security:null,unselectable:null}})},2160:function(e,t,n){"use strict";var r=n(82874);e.exports=function(e,t){return r(e,t.toLowerCase())}},82874:function(e){"use strict";e.exports=function(e,t){return t in e?e[t]:t}},45998:function(e,t,n){"use strict";var r=n(75678),i=n(39131),o=n(17038);e.exports=function(e){var t,n,a=e.space,s=e.mustUseProperty||[],l=e.attributes||{},c=e.properties,u=e.transform,d={},p={};for(t in c)n=new o(t,u(l,t),c[t],a),-1!==s.indexOf(t)&&(n.mustUseProperty=!0),d[t]=n,p[r(t)]=t,p[r(n.attribute)]=t;return new i(d,p,a)}},17038:function(e,t,n){"use strict";var r=n(22929),i=n(97949);e.exports=s,s.prototype=new r,s.prototype.defined=!0;var o=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],a=o.length;function s(e,t,n,s){var l,c,u,d=-1;for(s&&(this.space=s),r.call(this,e,t);++d<a;)l=u=o[d],(c=(n&i[u])===i[u])&&(this[l]=c)}},22929:function(e){"use strict";e.exports=n;var t=n.prototype;function n(e,t){this.property=e,this.attribute=t}t.space=null,t.attribute=null,t.property=null,t.boolean=!1,t.booleanish=!1,t.overloadedBoolean=!1,t.number=!1,t.commaSeparated=!1,t.spaceSeparated=!1,t.commaOrSpaceSeparated=!1,t.mustUseProperty=!1,t.defined=!1},13725:function(e,t,n){"use strict";var r=n(26192),i=n(39131);e.exports=function(e){for(var t,n,o=e.length,a=[],s=[],l=-1;++l<o;)t=e[l],a.push(t.property),s.push(t.normal),n=t.space;return new i(r.apply(null,a),r.apply(null,s),n)}},39131:function(e){"use strict";e.exports=n;var t=n.prototype;function n(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}t.space=null,t.normal={},t.property={}},97949:function(e,t){"use strict";var n=0;function r(){return Math.pow(2,++n)}t.boolean=r(),t.booleanish=r(),t.overloadedBoolean=r(),t.number=r(),t.spaceSeparated=r(),t.commaSeparated=r(),t.commaOrSpaceSeparated=r()},46522:function(e,t,n){"use strict";var r=n(45998);e.exports=r({space:"xlink",transform:function(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}})},17941:function(e,t,n){"use strict";var r=n(45998);e.exports=r({space:"xml",transform:function(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}})},56933:function(e,t,n){"use strict";var r=n(45998),i=n(2160);e.exports=r({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:i,properties:{xmlns:null,xmlnsXLink:null}})},75678:function(e){"use strict";e.exports=function(e){return e.toLowerCase()}},44678:function(e,t,n){"use strict";var r,i,o="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{},a=(i=(r="Prism"in o)?o.Prism:void 0,function(){r?o.Prism=i:delete o.Prism,r=void 0,i=void 0});o.Prism={manual:!0,disableWorkerMessageHandler:!0};var s=n(86675),l=n(3177),c=n(58925),u=n(21042),d=n(40579),p=n(21625),h=n(57600);a();var f={}.hasOwnProperty;function g(){}g.prototype=c;var m=new g;function b(e){if("function"!=typeof e||!e.displayName)throw Error("Expected `function` for `grammar`, got `"+e+"`");void 0===m.languages[e.displayName]&&e(m)}e.exports=m,m.highlight=function(e,t){var n,r=c.highlight;if("string"!=typeof e)throw Error("Expected `string` for `value`, got `"+e+"`");if("Object"===m.util.type(t))n=t,t=null;else{if("string"!=typeof t)throw Error("Expected `string` for `name`, got `"+t+"`");if(f.call(m.languages,t))n=m.languages[t];else throw Error("Unknown language: `"+t+"` is not registered")}return r.call(this,e,n,t)},m.register=b,m.alias=function(e,t){var n,r,i,o,a=m.languages,s=e;for(n in t&&((s={})[e]=t),s)for(i=(r="string"==typeof(r=s[n])?[r]:r).length,o=-1;++o<i;)a[r[o]]=a[n]},m.registered=function(e){if("string"!=typeof e)throw Error("Expected `string` for `language`, got `"+e+"`");return f.call(m.languages,e)},m.listLanguages=function(){var e,t=m.languages,n=[];for(e in t)f.call(t,e)&&"object"==typeof t[e]&&n.push(e);return n},b(u),b(d),b(p),b(h),m.util.encode=function(e){return e},m.Token.stringify=function(e,t,n){var r;return"string"==typeof e?{type:"text",value:e}:"Array"===m.util.type(e)?function(e,t){for(var n,r=[],i=e.length,o=-1;++o<i;)""!==(n=e[o])&&null!=n&&r.push(n);for(o=-1,i=r.length;++o<i;)n=r[o],r[o]=m.Token.stringify(n,t,r);return r}(e,t):(r={type:e.type,content:m.Token.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n},e.alias&&(r.classes=r.classes.concat(e.alias)),m.hooks.run("wrap",r),s(r.tag+"."+r.classes.join("."),function(e){var t;for(t in e)e[t]=l(e[t]);return e}(r.attributes),r.content))}},92726:function(e,t,n){"use strict";var r=n(44678);e.exports=r,r.register(n(29378)),r.register(n(37844)),r.register(n(45626)),r.register(n(92755)),r.register(n(94994)),r.register(n(73502)),r.register(n(31434)),r.register(n(18939)),r.register(n(8809)),r.register(n(75206)),r.register(n(77165)),r.register(n(47185)),r.register(n(85848)),r.register(n(59881)),r.register(n(22981)),r.register(n(50039)),r.register(n(3274)),r.register(n(53386)),r.register(n(99662)),r.register(n(7593)),r.register(n(46172)),r.register(n(40162)),r.register(n(83536)),r.register(n(14032)),r.register(n(28949)),r.register(n(12833)),r.register(n(27054)),r.register(n(83578)),r.register(n(18548)),r.register(n(66696)),r.register(n(96402)),r.register(n(75711)),r.register(n(23485)),r.register(n(32944)),r.register(n(22838)),r.register(n(37007)),r.register(n(22466)),r.register(n(42497)),r.register(n(77183)),r.register(n(39184)),r.register(n(59808)),r.register(n(645)),r.register(n(34471)),r.register(n(37712)),r.register(n(2932)),r.register(n(56658)),r.register(n(82025)),r.register(n(14226)),r.register(n(16205)),r.register(n(11605)),r.register(n(64382)),r.register(n(21322)),r.register(n(91285)),r.register(n(70307)),r.register(n(89344)),r.register(n(3459)),r.register(n(13758)),r.register(n(22318)),r.register(n(42741)),r.register(n(84633)),r.register(n(51589)),r.register(n(27467)),r.register(n(22079)),r.register(n(88165)),r.register(n(30101)),r.register(n(65265)),r.register(n(78816)),r.register(n(81679)),r.register(n(67574)),r.register(n(81191)),r.register(n(15170)),r.register(n(94547)),r.register(n(55359)),r.register(n(85088)),r.register(n(40558)),r.register(n(38805)),r.register(n(60590)),r.register(n(67365)),r.register(n(38943)),r.register(n(84268)),r.register(n(73990)),r.register(n(84748)),r.register(n(7039)),r.register(n(2288)),r.register(n(64262)),r.register(n(39437)),r.register(n(1510)),r.register(n(45665)),r.register(n(21957)),r.register(n(86250)),r.register(n(33526)),r.register(n(44230)),r.register(n(96361)),r.register(n(79922)),r.register(n(32997)),r.register(n(59078)),r.register(n(90822)),r.register(n(94897)),r.register(n(20578)),r.register(n(69915)),r.register(n(64070)),r.register(n(354)),r.register(n(42047)),r.register(n(77593)),r.register(n(4771)),r.register(n(9227)),r.register(n(76722)),r.register(n(50318)),r.register(n(57849)),r.register(n(23211)),r.register(n(56518)),r.register(n(55345)),r.register(n(75257)),r.register(n(71613)),r.register(n(90491)),r.register(n(52705)),r.register(n(77271)),r.register(n(76117)),r.register(n(27205)),r.register(n(70152)),r.register(n(91580)),r.register(n(21024)),r.register(n(41171)),r.register(n(90906)),r.register(n(19688)),r.register(n(51665)),r.register(n(82961)),r.register(n(36389)),r.register(n(76)),r.register(n(86838)),r.register(n(84062)),r.register(n(86200)),r.register(n(95429)),r.register(n(61802)),r.register(n(28827)),r.register(n(76313)),r.register(n(56907)),r.register(n(20680)),r.register(n(99008)),r.register(n(32398)),r.register(n(96541)),r.register(n(32108)),r.register(n(91953)),r.register(n(75644)),r.register(n(87328)),r.register(n(48111)),r.register(n(19009)),r.register(n(47305)),r.register(n(3722)),r.register(n(94845)),r.register(n(34349)),r.register(n(82558)),r.register(n(97276)),r.register(n(76818)),r.register(n(48021)),r.register(n(93613)),r.register(n(44626)),r.register(n(66121)),r.register(n(21399)),r.register(n(75187)),r.register(n(72823)),r.register(n(810)),r.register(n(68120)),r.register(n(46281)),r.register(n(25689)),r.register(n(17749)),r.register(n(7565)),r.register(n(44269)),r.register(n(95268)),r.register(n(30606)),r.register(n(67389)),r.register(n(99623)),r.register(n(78286)),r.register(n(33240)),r.register(n(50178)),r.register(n(14478)),r.register(n(4768)),r.register(n(45847)),r.register(n(32694)),r.register(n(9032)),r.register(n(79902)),r.register(n(75483)),r.register(n(46529)),r.register(n(67512)),r.register(n(75934)),r.register(n(91855)),r.register(n(57378)),r.register(n(68233)),r.register(n(79739)),r.register(n(19581)),r.register(n(65526)),r.register(n(58423)),r.register(n(24997)),r.register(n(33047)),r.register(n(39303)),r.register(n(37922)),r.register(n(80678)),r.register(n(93927)),r.register(n(33497)),r.register(n(14756)),r.register(n(69449)),r.register(n(1939)),r.register(n(81557)),r.register(n(88295)),r.register(n(34537)),r.register(n(80792)),r.register(n(79247)),r.register(n(71434)),r.register(n(35705)),r.register(n(98557)),r.register(n(67796)),r.register(n(22816)),r.register(n(25250)),r.register(n(83413)),r.register(n(70054)),r.register(n(93930)),r.register(n(13290)),r.register(n(22271)),r.register(n(33998)),r.register(n(84687)),r.register(n(63443)),r.register(n(10463)),r.register(n(46383)),r.register(n(93817)),r.register(n(35221)),r.register(n(64684)),r.register(n(190)),r.register(n(31936)),r.register(n(3495)),r.register(n(13880)),r.register(n(88845)),r.register(n(69103)),r.register(n(43415)),r.register(n(49838)),r.register(n(58245)),r.register(n(60753)),r.register(n(76249)),r.register(n(50877)),r.register(n(7482)),r.register(n(69730)),r.register(n(30390)),r.register(n(72451)),r.register(n(35321)),r.register(n(72663)),r.register(n(70345)),r.register(n(6918)),r.register(n(50955)),r.register(n(66409)),r.register(n(25826)),r.register(n(80395)),r.register(n(51473)),r.register(n(18436)),r.register(n(67671)),r.register(n(62295)),r.register(n(77242)),r.register(n(26293)),r.register(n(26051)),r.register(n(66205)),r.register(n(60603)),r.register(n(67557)),r.register(n(76034)),r.register(n(48978)),r.register(n(31681)),r.register(n(32009)),r.register(n(43247)),r.register(n(59667)),r.register(n(57914)),r.register(n(48989)),r.register(n(58005)),r.register(n(5963)),r.register(n(88237)),r.register(n(37223)),r.register(n(38432))},29378:function(e){"use strict";function t(e){e.languages.abap={comment:/^\*.*/m,string:/(`|')(?:\\.|(?!\1)[^\\\r\n])*\1/,"string-template":{pattern:/([|}])(?:\\.|[^\\|{\r\n])*(?=[|{])/,lookbehind:!0,alias:"string"},"eol-comment":{pattern:/(^|\s)".*/m,lookbehind:!0,alias:"comment"},keyword:{pattern:/(\s|\.|^)(?:SCIENTIFIC_WITH_LEADING_ZERO|SCALE_PRESERVING_SCIENTIFIC|RMC_COMMUNICATION_FAILURE|END-ENHANCEMENT-SECTION|MULTIPLY-CORRESPONDING|SUBTRACT-CORRESPONDING|VERIFICATION-MESSAGE|DIVIDE-CORRESPONDING|ENHANCEMENT-SECTION|CURRENCY_CONVERSION|RMC_SYSTEM_FAILURE|START-OF-SELECTION|MOVE-CORRESPONDING|RMC_INVALID_STATUS|CUSTOMER-FUNCTION|END-OF-DEFINITION|ENHANCEMENT-POINT|SYSTEM-EXCEPTIONS|ADD-CORRESPONDING|SCALE_PRESERVING|SELECTION-SCREEN|CURSOR-SELECTION|END-OF-SELECTION|LOAD-OF-PROGRAM|SCROLL-BOUNDARY|SELECTION-TABLE|EXCEPTION-TABLE|IMPLEMENTATIONS|PARAMETER-TABLE|RIGHT-JUSTIFIED|UNIT_CONVERSION|AUTHORITY-CHECK|LIST-PROCESSING|SIGN_AS_POSTFIX|COL_BACKGROUND|IMPLEMENTATION|INTERFACE-POOL|TRANSFORMATION|IDENTIFICATION|ENDENHANCEMENT|LINE-SELECTION|INITIALIZATION|LEFT-JUSTIFIED|SELECT-OPTIONS|SELECTION-SETS|COMMUNICATION|CORRESPONDING|DECIMAL_SHIFT|PRINT-CONTROL|VALUE-REQUEST|CHAIN-REQUEST|FUNCTION-POOL|FIELD-SYMBOLS|FUNCTIONALITY|INVERTED-DATE|SELECTION-SET|CLASS-METHODS|OUTPUT-LENGTH|CLASS-CODING|COL_NEGATIVE|ERRORMESSAGE|FIELD-GROUPS|HELP-REQUEST|NO-EXTENSION|NO-TOPOFPAGE|REDEFINITION|DISPLAY-MODE|ENDINTERFACE|EXIT-COMMAND|FIELD-SYMBOL|NO-SCROLLING|SHORTDUMP-ID|ACCESSPOLICY|CLASS-EVENTS|COL_POSITIVE|DECLARATIONS|ENHANCEMENTS|FILTER-TABLE|SWITCHSTATES|SYNTAX-CHECK|TRANSPORTING|ASYNCHRONOUS|SYNTAX-TRACE|TOKENIZATION|USER-COMMAND|WITH-HEADING|ABAP-SOURCE|BREAK-POINT|CHAIN-INPUT|COMPRESSION|FIXED-POINT|NEW-SECTION|NON-UNICODE|OCCURRENCES|RESPONSIBLE|SYSTEM-CALL|TRACE-TABLE|ABBREVIATED|CHAR-TO-HEX|END-OF-FILE|ENDFUNCTION|ENVIRONMENT|ASSOCIATION|COL_HEADING|EDITOR-CALL|END-OF-PAGE|ENGINEERING|IMPLEMENTED|INTENSIFIED|RADIOBUTTON|SYSTEM-EXIT|TOP-OF-PAGE|TRANSACTION|APPLICATION|CONCATENATE|DESTINATION|ENHANCEMENT|IMMEDIATELY|NO-GROUPING|PRECOMPILED|REPLACEMENT|TITLE-LINES|ACTIVATION|BYTE-ORDER|CLASS-POOL|CONNECTION|CONVERSION|DEFINITION|DEPARTMENT|EXPIRATION|INHERITING|MESSAGE-ID|NO-HEADING|PERFORMING|QUEUE-ONLY|RIGHTSPACE|SCIENTIFIC|STATUSINFO|STRUCTURES|SYNCPOINTS|WITH-TITLE|ATTRIBUTES|BOUNDARIES|CLASS-DATA|COL_NORMAL|DD\/MM\/YYYY|DESCENDING|INTERFACES|LINE-COUNT|MM\/DD\/YYYY|NON-UNIQUE|PRESERVING|SELECTIONS|STATEMENTS|SUBROUTINE|TRUNCATION|TYPE-POOLS|ARITHMETIC|BACKGROUND|ENDPROVIDE|EXCEPTIONS|IDENTIFIER|INDEX-LINE|OBLIGATORY|PARAMETERS|PERCENTAGE|PUSHBUTTON|RESOLUTION|COMPONENTS|DEALLOCATE|DISCONNECT|DUPLICATES|FIRST-LINE|HEAD-LINES|NO-DISPLAY|OCCURRENCE|RESPECTING|RETURNCODE|SUBMATCHES|TRACE-FILE|ASCENDING|BYPASSING|ENDMODULE|EXCEPTION|EXCLUDING|EXPORTING|INCREMENT|MATCHCODE|PARAMETER|PARTIALLY|PREFERRED|REFERENCE|REPLACING|RETURNING|SELECTION|SEPARATED|SPECIFIED|STATEMENT|TIMESTAMP|TYPE-POOL|ACCEPTING|APPENDAGE|ASSIGNING|COL_GROUP|COMPARING|CONSTANTS|DANGEROUS|IMPORTING|INSTANCES|LEFTSPACE|LOG-POINT|QUICKINFO|READ-ONLY|SCROLLING|SQLSCRIPT|STEP-LOOP|TOP-LINES|TRANSLATE|APPENDING|AUTHORITY|CHARACTER|COMPONENT|CONDITION|DIRECTORY|DUPLICATE|MESSAGING|RECEIVING|SUBSCREEN|ACCORDING|COL_TOTAL|END-LINES|ENDMETHOD|ENDSELECT|EXPANDING|EXTENSION|INCLUDING|INFOTYPES|INTERFACE|INTERVALS|LINE-SIZE|PF-STATUS|PROCEDURE|PROTECTED|REQUESTED|RESUMABLE|RIGHTPLUS|SAP-SPOOL|SECONDARY|STRUCTURE|SUBSTRING|TABLEVIEW|NUMOFCHAR|ADJACENT|ANALYSIS|ASSIGNED|BACKWARD|CHANNELS|CHECKBOX|CONTINUE|CRITICAL|DATAINFO|DD\/MM\/YY|DURATION|ENCODING|ENDCLASS|FUNCTION|LEFTPLUS|LINEFEED|MM\/DD\/YY|OVERFLOW|RECEIVED|SKIPPING|SORTABLE|STANDARD|SUBTRACT|SUPPRESS|TABSTRIP|TITLEBAR|TRUNCATE|UNASSIGN|WHENEVER|ANALYZER|COALESCE|COMMENTS|CONDENSE|DECIMALS|DEFERRED|ENDWHILE|EXPLICIT|KEYWORDS|MESSAGES|POSITION|PRIORITY|RECEIVER|RENAMING|TIMEZONE|TRAILING|ALLOCATE|CENTERED|CIRCULAR|CONTROLS|CURRENCY|DELETING|DESCRIBE|DISTANCE|ENDCATCH|EXPONENT|EXTENDED|GENERATE|IGNORING|INCLUDES|INTERNAL|MAJOR-ID|MODIFIER|NEW-LINE|OPTIONAL|PROPERTY|ROLLBACK|STARTING|SUPPLIED|ABSTRACT|CHANGING|CONTEXTS|CREATING|CUSTOMER|DATABASE|DAYLIGHT|DEFINING|DISTINCT|DIVISION|ENABLING|ENDCHAIN|ESCAPING|HARMLESS|IMPLICIT|INACTIVE|LANGUAGE|MINOR-ID|MULTIPLY|NEW-PAGE|NO-TITLE|POS_HIGH|SEPARATE|TEXTPOOL|TRANSFER|SELECTOR|DBMAXLEN|ITERATOR|ARCHIVE|BIT-XOR|BYTE-CO|COLLECT|COMMENT|CURRENT|DEFAULT|DISPLAY|ENDFORM|EXTRACT|LEADING|LISTBOX|LOCATOR|MEMBERS|METHODS|NESTING|POS_LOW|PROCESS|PROVIDE|RAISING|RESERVE|SECONDS|SUMMARY|VISIBLE|BETWEEN|BIT-AND|BYTE-CS|CLEANUP|COMPUTE|CONTROL|CONVERT|DATASET|ENDCASE|FORWARD|HEADERS|HOTSPOT|INCLUDE|INVERSE|KEEPING|NO-ZERO|OBJECTS|OVERLAY|PADDING|PATTERN|PROGRAM|REFRESH|SECTION|SUMMING|TESTING|VERSION|WINDOWS|WITHOUT|BIT-NOT|BYTE-CA|BYTE-NA|CASTING|CONTEXT|COUNTRY|DYNAMIC|ENABLED|ENDLOOP|EXECUTE|FRIENDS|HANDLER|HEADING|INITIAL|\*-INPUT|LOGFILE|MAXIMUM|MINIMUM|NO-GAPS|NO-SIGN|PRAGMAS|PRIMARY|PRIVATE|REDUCED|REPLACE|REQUEST|RESULTS|UNICODE|WARNING|ALIASES|BYTE-CN|BYTE-NS|CALLING|COL_KEY|COLUMNS|CONNECT|ENDEXEC|ENTRIES|EXCLUDE|FILTERS|FURTHER|HELP-ID|LOGICAL|MAPPING|MESSAGE|NAMETAB|OPTIONS|PACKAGE|PERFORM|RECEIVE|STATICS|VARYING|BINDING|CHARLEN|GREATER|XSTRLEN|ACCEPT|APPEND|DETAIL|ELSEIF|ENDING|ENDTRY|FORMAT|FRAMES|GIVING|HASHED|HEADER|IMPORT|INSERT|MARGIN|MODULE|NATIVE|OBJECT|OFFSET|REMOTE|RESUME|SAVING|SIMPLE|SUBMIT|TABBED|TOKENS|UNIQUE|UNPACK|UPDATE|WINDOW|YELLOW|ACTUAL|ASPECT|CENTER|CURSOR|DELETE|DIALOG|DIVIDE|DURING|ERRORS|EVENTS|EXTEND|FILTER|HANDLE|HAVING|IGNORE|LITTLE|MEMORY|NO-GAP|OCCURS|OPTION|PERSON|PLACES|PUBLIC|REDUCE|REPORT|RESULT|SINGLE|SORTED|SWITCH|SYNTAX|TARGET|VALUES|WRITER|ASSERT|BLOCKS|BOUNDS|BUFFER|CHANGE|COLUMN|COMMIT|CONCAT|COPIES|CREATE|DDMMYY|DEFINE|ENDIAN|ESCAPE|EXPAND|KERNEL|LAYOUT|LEGACY|LEVELS|MMDDYY|NUMBER|OUTPUT|RANGES|READER|RETURN|SCREEN|SEARCH|SELECT|SHARED|SOURCE|STABLE|STATIC|SUBKEY|SUFFIX|TABLES|UNWIND|YYMMDD|ASSIGN|BACKUP|BEFORE|BINARY|BIT-OR|BLANKS|CLIENT|CODING|COMMON|DEMAND|DYNPRO|EXCEPT|EXISTS|EXPORT|FIELDS|GLOBAL|GROUPS|LENGTH|LOCALE|MEDIUM|METHOD|MODIFY|NESTED|OTHERS|REJECT|SCROLL|SUPPLY|SYMBOL|ENDFOR|STRLEN|ALIGN|BEGIN|BOUND|ENDAT|ENTRY|EVENT|FINAL|FLUSH|GRANT|INNER|SHORT|USING|WRITE|AFTER|BLACK|BLOCK|CLOCK|COLOR|COUNT|DUMMY|EMPTY|ENDDO|ENDON|GREEN|INDEX|INOUT|LEAVE|LEVEL|LINES|MODIF|ORDER|OUTER|RANGE|RESET|RETRY|RIGHT|SMART|SPLIT|STYLE|TABLE|THROW|UNDER|UNTIL|UPPER|UTF-8|WHERE|ALIAS|BLANK|CLEAR|CLOSE|EXACT|FETCH|FIRST|FOUND|GROUP|LLANG|LOCAL|OTHER|REGEX|SPOOL|TITLE|TYPES|VALID|WHILE|ALPHA|BOXED|CATCH|CHAIN|CHECK|CLASS|COVER|ENDIF|EQUIV|FIELD|FLOOR|FRAME|INPUT|LOWER|MATCH|NODES|PAGES|PRINT|RAISE|ROUND|SHIFT|SPACE|SPOTS|STAMP|STATE|TASKS|TIMES|TRMAC|ULINE|UNION|VALUE|WIDTH|EQUAL|LOG10|TRUNC|BLOB|CASE|CEIL|CLOB|COND|EXIT|FILE|GAPS|HOLD|INCL|INTO|KEEP|KEYS|LAST|LINE|LONG|LPAD|MAIL|MODE|OPEN|PINK|READ|ROWS|TEST|THEN|ZERO|AREA|BACK|BADI|BYTE|CAST|EDIT|EXEC|FAIL|FIND|FKEQ|FONT|FREE|GKEQ|HIDE|INIT|ITNO|LATE|LOOP|MAIN|MARK|MOVE|NEXT|NULL|RISK|ROLE|UNIT|WAIT|ZONE|BASE|CALL|CODE|DATA|DATE|FKGE|GKGE|HIGH|KIND|LEFT|LIST|MASK|MESH|NAME|NODE|PACK|PAGE|POOL|SEND|SIGN|SIZE|SOME|STOP|TASK|TEXT|TIME|USER|VARY|WITH|WORD|BLUE|CONV|COPY|DEEP|ELSE|FORM|FROM|HINT|ICON|JOIN|LIKE|LOAD|ONLY|PART|SCAN|SKIP|SORT|TYPE|UNIX|VIEW|WHEN|WORK|ACOS|ASIN|ATAN|COSH|EACH|FRAC|LESS|RTTI|SINH|SQRT|TANH|AVG|BIT|DIV|ISO|LET|OUT|PAD|SQL|ALL|CI_|CPI|END|LOB|LPI|MAX|MIN|NEW|OLE|RUN|SET|\?TO|YES|ABS|ADD|AND|BIG|FOR|HDB|JOB|LOW|NOT|SAP|TRY|VIA|XML|ANY|GET|IDS|KEY|MOD|OFF|PUT|RAW|RED|REF|SUM|TAB|XSD|CNT|COS|EXP|LOG|SIN|TAN|XOR|AT|CO|CP|DO|GT|ID|IF|NS|OR|BT|CA|CS|GE|NA|NB|EQ|IN|LT|NE|NO|OF|ON|PF|TO|AS|BY|CN|IS|LE|NP|UP|E|I|M|O|Z|C|X)\b/i,lookbehind:!0},number:/\b\d+\b/,operator:{pattern:/(\s)(?:\*\*?|<[=>]?|>=?|\?=|[-+\/=])(?=\s)/,lookbehind:!0},"string-operator":{pattern:/(\s)&&?(?=\s)/,lookbehind:!0,alias:"keyword"},"token-operator":[{pattern:/(\w)(?:->?|=>|[~|{}])(?=\w)/,lookbehind:!0,alias:"punctuation"},{pattern:/[|{}]/,alias:"punctuation"}],punctuation:/[,.:()]/}}e.exports=t,t.displayName="abap",t.aliases=[]},37844:function(e){"use strict";function t(e){var t;t="(?:ALPHA|BIT|CHAR|CR|CRLF|CTL|DIGIT|DQUOTE|HEXDIG|HTAB|LF|LWSP|OCTET|SP|VCHAR|WSP)",e.languages.abnf={comment:/;.*/,string:{pattern:/(?:%[is])?"[^"\n\r]*"/,greedy:!0,inside:{punctuation:/^%[is]/}},range:{pattern:/%(?:b[01]+-[01]+|d\d+-\d+|x[A-F\d]+-[A-F\d]+)/i,alias:"number"},terminal:{pattern:/%(?:b[01]+(?:\.[01]+)*|d\d+(?:\.\d+)*|x[A-F\d]+(?:\.[A-F\d]+)*)/i,alias:"number"},repetition:{pattern:/(^|[^\w-])(?:\d*\*\d*|\d+)/,lookbehind:!0,alias:"operator"},definition:{pattern:/(^[ \t]*)(?:[a-z][\w-]*|<[^<>\r\n]*>)(?=\s*=)/m,lookbehind:!0,alias:"keyword",inside:{punctuation:/<|>/}},"core-rule":{pattern:RegExp("(?:(^|[^<\\w-])"+t+"|<"+t+">)(?![\\w-])","i"),lookbehind:!0,alias:["rule","constant"],inside:{punctuation:/<|>/}},rule:{pattern:/(^|[^<\w-])[a-z][\w-]*|<[^<>\r\n]*>/i,lookbehind:!0,inside:{punctuation:/<|>/}},operator:/=\/?|\//,punctuation:/[()\[\]]/}}e.exports=t,t.displayName="abnf",t.aliases=[]},45626:function(e){"use strict";function t(e){e.languages.actionscript=e.languages.extend("javascript",{keyword:/\b(?:as|break|case|catch|class|const|default|delete|do|dynamic|each|else|extends|final|finally|for|function|get|if|implements|import|in|include|instanceof|interface|internal|is|namespace|native|new|null|override|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|use|var|void|while|with)\b/,operator:/\+\+|--|(?:[+\-*\/%^]|&&?|\|\|?|<<?|>>?>?|[!=]=?)=?|[~?@]/}),e.languages.actionscript["class-name"].alias="function",delete e.languages.actionscript.parameter,delete e.languages.actionscript["literal-property"],e.languages.markup&&e.languages.insertBefore("actionscript","string",{xml:{pattern:/(^|[^.])<\/?\w+(?:\s+[^\s>\/=]+=("|')(?:\\[\s\S]|(?!\2)[^\\])*\2)*\s*\/?>/,lookbehind:!0,inside:e.languages.markup}})}e.exports=t,t.displayName="actionscript",t.aliases=[]},92755:function(e){"use strict";function t(e){e.languages.ada={comment:/--.*/,string:/"(?:""|[^"\r\f\n])*"/,number:[{pattern:/\b\d(?:_?\d)*#[\dA-F](?:_?[\dA-F])*(?:\.[\dA-F](?:_?[\dA-F])*)?#(?:E[+-]?\d(?:_?\d)*)?/i},{pattern:/\b\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:E[+-]?\d(?:_?\d)*)?\b/i}],"attr-name":/\b'\w+/,keyword:/\b(?:abort|abs|abstract|accept|access|aliased|all|and|array|at|begin|body|case|constant|declare|delay|delta|digits|do|else|elsif|end|entry|exception|exit|for|function|generic|goto|if|in|interface|is|limited|loop|mod|new|not|null|of|others|out|overriding|package|pragma|private|procedure|protected|raise|range|record|rem|renames|requeue|return|reverse|select|separate|some|subtype|synchronized|tagged|task|terminate|then|type|until|use|when|while|with|xor)\b/i,boolean:/\b(?:false|true)\b/i,operator:/<[=>]?|>=?|=>?|:=|\/=?|\*\*?|[&+-]/,punctuation:/\.\.?|[,;():]/,char:/'.'/,variable:/\b[a-z](?:\w)*\b/i}}e.exports=t,t.displayName="ada",t.aliases=[]},94994:function(e){"use strict";function t(e){e.languages.agda={comment:/\{-[\s\S]*?(?:-\}|$)|--.*/,string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},punctuation:/[(){}⦃⦄.;@]/,"class-name":{pattern:/((?:data|record) +)\S+/,lookbehind:!0},function:{pattern:/(^[ \t]*)(?!\s)[^:\r\n]+(?=:)/m,lookbehind:!0},operator:{pattern:/(^\s*|\s)(?:[=|:∀→λ\\?_]|->)(?=\s)/,lookbehind:!0},keyword:/\b(?:Set|abstract|constructor|data|eta-equality|field|forall|hiding|import|in|inductive|infix|infixl|infixr|instance|let|macro|module|mutual|no-eta-equality|open|overlap|pattern|postulate|primitive|private|public|quote|quoteContext|quoteGoal|quoteTerm|record|renaming|rewrite|syntax|tactic|unquote|unquoteDecl|unquoteDef|using|variable|where|with)\b/}}e.exports=t,t.displayName="agda",t.aliases=[]},73502:function(e){"use strict";function t(e){e.languages.al={comment:/\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/'(?:''|[^'\r\n])*'(?!')|"(?:""|[^"\r\n])*"(?!")/,greedy:!0},function:{pattern:/(\b(?:event|procedure|trigger)\s+|(?:^|[^.])\.\s*)[a-z_]\w*(?=\s*\()/i,lookbehind:!0},keyword:[/\b(?:array|asserterror|begin|break|case|do|downto|else|end|event|exit|for|foreach|function|if|implements|in|indataset|interface|internal|local|of|procedure|program|protected|repeat|runonclient|securityfiltering|suppressdispose|temporary|then|to|trigger|until|var|while|with|withevents)\b/i,/\b(?:action|actions|addafter|addbefore|addfirst|addlast|area|assembly|chartpart|codeunit|column|controladdin|cuegroup|customizes|dataitem|dataset|dotnet|elements|enum|enumextension|extends|field|fieldattribute|fieldelement|fieldgroup|fieldgroups|fields|filter|fixed|grid|group|key|keys|label|labels|layout|modify|moveafter|movebefore|movefirst|movelast|page|pagecustomization|pageextension|part|profile|query|repeater|report|requestpage|schema|separator|systempart|table|tableelement|tableextension|textattribute|textelement|type|usercontrol|value|xmlport)\b/i],number:/\b(?:0x[\da-f]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)(?:F|LL?|U(?:LL?)?)?\b/i,boolean:/\b(?:false|true)\b/i,variable:/\b(?:Curr(?:FieldNo|Page|Report)|x?Rec|RequestOptionsPage)\b/,"class-name":/\b(?:automation|biginteger|bigtext|blob|boolean|byte|char|clienttype|code|completiontriggererrorlevel|connectiontype|database|dataclassification|datascope|date|dateformula|datetime|decimal|defaultlayout|dialog|dictionary|dotnetassembly|dotnettypedeclaration|duration|errorinfo|errortype|executioncontext|executionmode|fieldclass|fieldref|fieldtype|file|filterpagebuilder|guid|httpclient|httpcontent|httpheaders|httprequestmessage|httpresponsemessage|instream|integer|joker|jsonarray|jsonobject|jsontoken|jsonvalue|keyref|list|moduledependencyinfo|moduleinfo|none|notification|notificationscope|objecttype|option|outstream|pageresult|record|recordid|recordref|reportformat|securityfilter|sessionsettings|tableconnectiontype|tablefilter|testaction|testfield|testfilterfield|testpage|testpermissions|testrequestpage|text|textbuilder|textconst|textencoding|time|transactionmodel|transactiontype|variant|verbosity|version|view|views|webserviceactioncontext|webserviceactionresultcode|xmlattribute|xmlattributecollection|xmlcdata|xmlcomment|xmldeclaration|xmldocument|xmldocumenttype|xmlelement|xmlnamespacemanager|xmlnametable|xmlnode|xmlnodelist|xmlprocessinginstruction|xmlreadoptions|xmltext|xmlwriteoptions)\b/i,operator:/\.\.|:[=:]|[-+*/]=?|<>|[<>]=?|=|\b(?:and|div|mod|not|or|xor)\b/i,punctuation:/[()\[\]{}:.;,]/}}e.exports=t,t.displayName="al",t.aliases=[]},31434:function(e){"use strict";function t(e){e.languages.antlr4={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,string:{pattern:/'(?:\\.|[^\\'\r\n])*'/,greedy:!0},"character-class":{pattern:/\[(?:\\.|[^\\\]\r\n])*\]/,greedy:!0,alias:"regex",inside:{range:{pattern:/([^[]|(?:^|[^\\])(?:\\\\)*\\\[)-(?!\])/,lookbehind:!0,alias:"punctuation"},escape:/\\(?:u(?:[a-fA-F\d]{4}|\{[a-fA-F\d]+\})|[pP]\{[=\w-]+\}|[^\r\nupP])/,punctuation:/[\[\]]/}},action:{pattern:/\{(?:[^{}]|\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*\}/,greedy:!0,inside:{content:{pattern:/(\{)[\s\S]+(?=\})/,lookbehind:!0},punctuation:/[{}]/}},command:{pattern:/(->\s*(?!\s))(?:\s*(?:,\s*)?\b[a-z]\w*(?:\s*\([^()\r\n]*\))?)+(?=\s*;)/i,lookbehind:!0,inside:{function:/\b\w+(?=\s*(?:[,(]|$))/,punctuation:/[,()]/}},annotation:{pattern:/@\w+(?:::\w+)*/,alias:"keyword"},label:{pattern:/#[ \t]*\w+/,alias:"punctuation"},keyword:/\b(?:catch|channels|finally|fragment|grammar|import|lexer|locals|mode|options|parser|returns|throws|tokens)\b/,definition:[{pattern:/\b[a-z]\w*(?=\s*:)/,alias:["rule","class-name"]},{pattern:/\b[A-Z]\w*(?=\s*:)/,alias:["token","constant"]}],constant:/\b[A-Z][A-Z_]*\b/,operator:/\.\.|->|[|~]|[*+?]\??/,punctuation:/[;:()=]/},e.languages.g4=e.languages.antlr4}e.exports=t,t.displayName="antlr4",t.aliases=["g4"]},18939:function(e){"use strict";function t(e){e.languages.apacheconf={comment:/#.*/,"directive-inline":{pattern:/(^[\t ]*)\b(?:AcceptFilter|AcceptPathInfo|AccessFileName|Action|Add(?:Alt|AltByEncoding|AltByType|Charset|DefaultCharset|Description|Encoding|Handler|Icon|IconByEncoding|IconByType|InputFilter|Language|ModuleInfo|OutputFilter|OutputFilterByType|Type)|Alias|AliasMatch|Allow(?:CONNECT|EncodedSlashes|Methods|Override|OverrideList)?|Anonymous(?:_LogEmail|_MustGiveEmail|_NoUserID|_VerifyEmail)?|AsyncRequestWorkerFactor|Auth(?:BasicAuthoritative|BasicFake|BasicProvider|BasicUseDigestAlgorithm|DBDUserPWQuery|DBDUserRealmQuery|DBMGroupFile|DBMType|DBMUserFile|Digest(?:Algorithm|Domain|NonceLifetime|Provider|Qop|ShmemSize)|Form(?:Authoritative|Body|DisableNoStore|FakeBasicAuth|Location|LoginRequiredLocation|LoginSuccessLocation|LogoutLocation|Method|Mimetype|Password|Provider|SitePassphrase|Size|Username)|GroupFile|LDAP(?:AuthorizePrefix|BindAuthoritative|BindDN|BindPassword|CharsetConfig|CompareAsUser|CompareDNOnServer|DereferenceAliases|GroupAttribute|GroupAttributeIsDN|InitialBindAsUser|InitialBindPattern|MaxSubGroupDepth|RemoteUserAttribute|RemoteUserIsDN|SearchAsUser|SubGroupAttribute|SubGroupClass|Url)|Merging|Name|nCache(?:Context|Enable|ProvideFor|SOCache|Timeout)|nzFcgiCheckAuthnProvider|nzFcgiDefineProvider|Type|UserFile|zDBDLoginToReferer|zDBDQuery|zDBDRedirectQuery|zDBMType|zSendForbiddenOnFailure)|BalancerGrowth|BalancerInherit|BalancerMember|BalancerPersist|BrowserMatch|BrowserMatchNoCase|BufferedLogs|BufferSize|Cache(?:DefaultExpire|DetailHeader|DirLength|DirLevels|Disable|Enable|File|Header|IgnoreCacheControl|IgnoreHeaders|IgnoreNoLastMod|IgnoreQueryString|IgnoreURLSessionIdentifiers|KeyBaseURL|LastModifiedFactor|Lock|LockMaxAge|LockPath|MaxExpire|MaxFileSize|MinExpire|MinFileSize|NegotiatedDocs|QuickHandler|ReadSize|ReadTime|Root|Socache(?:MaxSize|MaxTime|MinTime|ReadSize|ReadTime)?|StaleOnError|StoreExpired|StoreNoStore|StorePrivate)|CGIDScriptTimeout|CGIMapExtension|CharsetDefault|CharsetOptions|CharsetSourceEnc|CheckCaseOnly|CheckSpelling|ChrootDir|ContentDigest|CookieDomain|CookieExpires|CookieName|CookieStyle|CookieTracking|CoreDumpDirectory|CustomLog|Dav|DavDepthInfinity|DavGenericLockDB|DavLockDB|DavMinTimeout|DBDExptime|DBDInitSQL|DBDKeep|DBDMax|DBDMin|DBDParams|DBDPersist|DBDPrepareSQL|DBDriver|DefaultIcon|DefaultLanguage|DefaultRuntimeDir|DefaultType|Define|Deflate(?:BufferSize|CompressionLevel|FilterNote|InflateLimitRequestBody|InflateRatio(?:Burst|Limit)|MemLevel|WindowSize)|Deny|DirectoryCheckHandler|DirectoryIndex|DirectoryIndexRedirect|DirectorySlash|DocumentRoot|DTracePrivileges|DumpIOInput|DumpIOOutput|EnableExceptionHook|EnableMMAP|EnableSendfile|Error|ErrorDocument|ErrorLog|ErrorLogFormat|Example|ExpiresActive|ExpiresByType|ExpiresDefault|ExtendedStatus|ExtFilterDefine|ExtFilterOptions|FallbackResource|FileETag|FilterChain|FilterDeclare|FilterProtocol|FilterProvider|FilterTrace|ForceLanguagePriority|ForceType|ForensicLog|GprofDir|GracefulShutdownTimeout|Group|Header|HeaderName|Heartbeat(?:Address|Listen|MaxServers|Storage)|HostnameLookups|IdentityCheck|IdentityCheckTimeout|ImapBase|ImapDefault|ImapMenu|Include|IncludeOptional|Index(?:HeadInsert|Ignore|IgnoreReset|Options|OrderDefault|StyleSheet)|InputSed|ISAPI(?:AppendLogToErrors|AppendLogToQuery|CacheFile|FakeAsync|LogNotSupported|ReadAheadBuffer)|KeepAlive|KeepAliveTimeout|KeptBodySize|LanguagePriority|LDAP(?:CacheEntries|CacheTTL|ConnectionPoolTTL|ConnectionTimeout|LibraryDebug|OpCacheEntries|OpCacheTTL|ReferralHopLimit|Referrals|Retries|RetryDelay|SharedCacheFile|SharedCacheSize|Timeout|TrustedClientCert|TrustedGlobalCert|TrustedMode|VerifyServerCert)|Limit(?:InternalRecursion|Request(?:Body|Fields|FieldSize|Line)|XMLRequestBody)|Listen|ListenBackLog|LoadFile|LoadModule|LogFormat|LogLevel|LogMessage|LuaAuthzProvider|LuaCodeCache|Lua(?:Hook(?:AccessChecker|AuthChecker|CheckUserID|Fixups|InsertFilter|Log|MapToStorage|TranslateName|TypeChecker)|Inherit|InputFilter|MapHandler|OutputFilter|PackageCPath|PackagePath|QuickHandler|Root|Scope)|Max(?:ConnectionsPerChild|KeepAliveRequests|MemFree|RangeOverlaps|RangeReversals|Ranges|RequestWorkers|SpareServers|SpareThreads|Threads)|MergeTrailers|MetaDir|MetaFiles|MetaSuffix|MimeMagicFile|MinSpareServers|MinSpareThreads|MMapFile|ModemStandard|ModMimeUsePathInfo|MultiviewsMatch|Mutex|NameVirtualHost|NoProxy|NWSSLTrustedCerts|NWSSLUpgradeable|Options|Order|OutputSed|PassEnv|PidFile|PrivilegesMode|Protocol|ProtocolEcho|Proxy(?:AddHeaders|BadHeader|Block|Domain|ErrorOverride|ExpressDBMFile|ExpressDBMType|ExpressEnable|FtpDirCharset|FtpEscapeWildcards|FtpListOnWildcard|HTML(?:BufSize|CharsetOut|DocType|Enable|Events|Extended|Fixups|Interp|Links|Meta|StripComments|URLMap)|IOBufferSize|MaxForwards|Pass(?:Inherit|InterpolateEnv|Match|Reverse|ReverseCookieDomain|ReverseCookiePath)?|PreserveHost|ReceiveBufferSize|Remote|RemoteMatch|Requests|SCGIInternalRedirect|SCGISendfile|Set|SourceAddress|Status|Timeout|Via)|ReadmeName|ReceiveBufferSize|Redirect|RedirectMatch|RedirectPermanent|RedirectTemp|ReflectorHeader|RemoteIP(?:Header|InternalProxy|InternalProxyList|ProxiesHeader|TrustedProxy|TrustedProxyList)|RemoveCharset|RemoveEncoding|RemoveHandler|RemoveInputFilter|RemoveLanguage|RemoveOutputFilter|RemoveType|RequestHeader|RequestReadTimeout|Require|Rewrite(?:Base|Cond|Engine|Map|Options|Rule)|RLimitCPU|RLimitMEM|RLimitNPROC|Satisfy|ScoreBoardFile|Script(?:Alias|AliasMatch|InterpreterSource|Log|LogBuffer|LogLength|Sock)?|SecureListen|SeeRequestTail|SendBufferSize|Server(?:Admin|Alias|Limit|Name|Path|Root|Signature|Tokens)|Session(?:Cookie(?:Name|Name2|Remove)|Crypto(?:Cipher|Driver|Passphrase|PassphraseFile)|DBD(?:CookieName|CookieName2|CookieRemove|DeleteLabel|InsertLabel|PerUser|SelectLabel|UpdateLabel)|Env|Exclude|Header|Include|MaxAge)?|SetEnv|SetEnvIf|SetEnvIfExpr|SetEnvIfNoCase|SetHandler|SetInputFilter|SetOutputFilter|SSIEndTag|SSIErrorMsg|SSIETag|SSILastModified|SSILegacyExprParser|SSIStartTag|SSITimeFormat|SSIUndefinedEcho|SSL(?:CACertificateFile|CACertificatePath|CADNRequestFile|CADNRequestPath|CARevocationCheck|CARevocationFile|CARevocationPath|CertificateChainFile|CertificateFile|CertificateKeyFile|CipherSuite|Compression|CryptoDevice|Engine|FIPS|HonorCipherOrder|InsecureRenegotiation|OCSP(?:DefaultResponder|Enable|OverrideResponder|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|UseRequestNonce)|OpenSSLConfCmd|Options|PassPhraseDialog|Protocol|Proxy(?:CACertificateFile|CACertificatePath|CARevocation(?:Check|File|Path)|CheckPeer(?:CN|Expire|Name)|CipherSuite|Engine|MachineCertificate(?:ChainFile|File|Path)|Protocol|Verify|VerifyDepth)|RandomSeed|RenegBufferSize|Require|RequireSSL|Session(?:Cache|CacheTimeout|TicketKeyFile|Tickets)|SRPUnknownUserSeed|SRPVerifierFile|Stapling(?:Cache|ErrorCacheTimeout|FakeTryLater|ForceURL|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|ReturnResponderErrors|StandardCacheTimeout)|StrictSNIVHostCheck|UserName|UseStapling|VerifyClient|VerifyDepth)|StartServers|StartThreads|Substitute|Suexec|SuexecUserGroup|ThreadLimit|ThreadsPerChild|ThreadStackSize|TimeOut|TraceEnable|TransferLog|TypesConfig|UnDefine|UndefMacro|UnsetEnv|Use|UseCanonicalName|UseCanonicalPhysicalPort|User|UserDir|VHostCGIMode|VHostCGIPrivs|VHostGroup|VHostPrivs|VHostSecure|VHostUser|Virtual(?:DocumentRoot|ScriptAlias)(?:IP)?|WatchdogInterval|XBitHack|xml2EncAlias|xml2EncDefault|xml2StartParse)\b/im,lookbehind:!0,alias:"property"},"directive-block":{pattern:/<\/?\b(?:Auth[nz]ProviderAlias|Directory|DirectoryMatch|Else|ElseIf|Files|FilesMatch|If|IfDefine|IfModule|IfVersion|Limit|LimitExcept|Location|LocationMatch|Macro|Proxy|Require(?:All|Any|None)|VirtualHost)\b.*>/i,inside:{"directive-block":{pattern:/^<\/?\w+/,inside:{punctuation:/^<\/?/},alias:"tag"},"directive-block-parameter":{pattern:/.*[^>]/,inside:{punctuation:/:/,string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}}},alias:"attr-value"},punctuation:/>/},alias:"tag"},"directive-flags":{pattern:/\[(?:[\w=],?)+\]/,alias:"keyword"},string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}},variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/,regex:/\^?.*\$|\^.*\$?/}}e.exports=t,t.displayName="apacheconf",t.aliases=[]},8809:function(e,t,n){"use strict";var r=n(13880);function i(e){e.register(r),function(e){var t=/\b(?:(?:after|before)(?=\s+[a-z])|abstract|activate|and|any|array|as|asc|autonomous|begin|bigdecimal|blob|boolean|break|bulk|by|byte|case|cast|catch|char|class|collect|commit|const|continue|currency|date|datetime|decimal|default|delete|desc|do|double|else|end|enum|exception|exit|export|extends|final|finally|float|for|from|get(?=\s*[{};])|global|goto|group|having|hint|if|implements|import|in|inner|insert|instanceof|int|integer|interface|into|join|like|limit|list|long|loop|map|merge|new|not|null|nulls|number|object|of|on|or|outer|override|package|parallel|pragma|private|protected|public|retrieve|return|rollback|select|set|short|sObject|sort|static|string|super|switch|synchronized|system|testmethod|then|this|throw|time|transaction|transient|trigger|try|undelete|update|upsert|using|virtual|void|webservice|when|where|while|(?:inherited|with|without)\s+sharing)\b/i,n=/\b(?:(?=[a-z_]\w*\s*[<\[])|(?!<keyword>))[A-Z_]\w*(?:\s*\.\s*[A-Z_]\w*)*\b(?:\s*(?:\[\s*\]|<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>))*/.source.replace(/<keyword>/g,function(){return t.source});function r(e){return RegExp(e.replace(/<CLASS-NAME>/g,function(){return n}),"i")}var i={keyword:t,punctuation:/[()\[\]{};,:.<>]/};e.languages.apex={comment:e.languages.clike.comment,string:e.languages.clike.string,sql:{pattern:/((?:[=,({:]|\breturn)\s*)\[[^\[\]]*\]/i,lookbehind:!0,greedy:!0,alias:"language-sql",inside:e.languages.sql},annotation:{pattern:/@\w+\b/,alias:"punctuation"},"class-name":[{pattern:r(/(\b(?:class|enum|extends|implements|instanceof|interface|new|trigger\s+\w+\s+on)\s+)<CLASS-NAME>/.source),lookbehind:!0,inside:i},{pattern:r(/(\(\s*)<CLASS-NAME>(?=\s*\)\s*[\w(])/.source),lookbehind:!0,inside:i},{pattern:r(/<CLASS-NAME>(?=\s*\w+\s*[;=,(){:])/.source),inside:i}],trigger:{pattern:/(\btrigger\s+)\w+\b/i,lookbehind:!0,alias:"class-name"},keyword:t,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/i,number:/(?:\B\.\d+|\b\d+(?:\.\d+|L)?)\b/i,operator:/[!=](?:==?)?|\?\.?|&&|\|\||--|\+\+|[-+*/^&|]=?|:|<<?=?|>{1,3}=?/,punctuation:/[()\[\]{};,.]/}}(e)}e.exports=i,i.displayName="apex",i.aliases=[]},75206:function(e){"use strict";function t(e){e.languages.apl={comment:/(?:⍝|#[! ]).*$/m,string:{pattern:/'(?:[^'\r\n]|'')*'/,greedy:!0},number:/¯?(?:\d*\.?\b\d+(?:e[+¯]?\d+)?|¯|∞)(?:j¯?(?:(?:\d+(?:\.\d+)?|\.\d+)(?:e[+¯]?\d+)?|¯|∞))?/i,statement:/:[A-Z][a-z][A-Za-z]*\b/,"system-function":{pattern:/⎕[A-Z]+/i,alias:"function"},constant:/[⍬⌾#⎕⍞]/,function:/[-+×÷⌈⌊∣|⍳⍸?*⍟○!⌹<≤=>≥≠≡≢∊⍷∪∩~∨∧⍱⍲⍴,⍪⌽⊖⍉↑↓⊂⊃⊆⊇⌷⍋⍒⊤⊥⍕⍎⊣⊢⍁⍂≈⍯↗¤→]/,"monadic-operator":{pattern:/[\\\/⌿⍀¨⍨⌶&∥]/,alias:"operator"},"dyadic-operator":{pattern:/[.⍣⍠⍤∘⌸@⌺⍥]/,alias:"operator"},assignment:{pattern:/←/,alias:"keyword"},punctuation:/[\[;\]()◇⋄]/,dfn:{pattern:/[{}⍺⍵⍶⍹∇⍫:]/,alias:"builtin"}}}e.exports=t,t.displayName="apl",t.aliases=[]},77165:function(e){"use strict";function t(e){e.languages.applescript={comment:[/\(\*(?:\(\*(?:[^*]|\*(?!\)))*\*\)|(?!\(\*)[\s\S])*?\*\)/,/--.+/,/#.+/],string:/"(?:\\.|[^"\\\r\n])*"/,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e-?\d+)?\b/i,operator:[/[&=≠≤≥*+\-\/÷^]|[<>]=?/,/\b(?:(?:begin|end|start)s? with|(?:contains?|(?:does not|doesn't) contain)|(?:is|isn't|is not) (?:contained by|in)|(?:(?:is|isn't|is not) )?(?:greater|less) than(?: or equal)?(?: to)?|(?:comes|(?:does not|doesn't) come) (?:after|before)|(?:is|isn't|is not) equal(?: to)?|(?:(?:does not|doesn't) equal|equal to|equals|is not|isn't)|(?:a )?(?:ref(?: to)?|reference to)|(?:and|as|div|mod|not|or))\b/],keyword:/\b(?:about|above|after|against|apart from|around|aside from|at|back|before|beginning|behind|below|beneath|beside|between|but|by|considering|continue|copy|does|eighth|else|end|equal|error|every|exit|false|fifth|first|for|fourth|from|front|get|given|global|if|ignoring|in|instead of|into|is|it|its|last|local|me|middle|my|ninth|of|on|onto|out of|over|prop|property|put|repeat|return|returning|second|set|seventh|since|sixth|some|tell|tenth|that|the|then|third|through|thru|timeout|times|to|transaction|true|try|until|where|while|whose|with|without)\b/,"class-name":/\b(?:POSIX file|RGB color|alias|application|boolean|centimeters|centimetres|class|constant|cubic centimeters|cubic centimetres|cubic feet|cubic inches|cubic meters|cubic metres|cubic yards|date|degrees Celsius|degrees Fahrenheit|degrees Kelvin|feet|file|gallons|grams|inches|integer|kilograms|kilometers|kilometres|list|liters|litres|meters|metres|miles|number|ounces|pounds|quarts|real|record|reference|script|square feet|square kilometers|square kilometres|square meters|square metres|square miles|square yards|text|yards)\b/,punctuation:/[{}():,¬«»《》]/}}e.exports=t,t.displayName="applescript",t.aliases=[]},47185:function(e){"use strict";function t(e){e.languages.aql={comment:/\/\/.*|\/\*[\s\S]*?\*\//,property:{pattern:/([{,]\s*)(?:(?!\d)\w+|(["'´`])(?:(?!\2)[^\\\r\n]|\\.)*\2)(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\.)*\1/,greedy:!0},identifier:{pattern:/([´`])(?:(?!\1)[^\\\r\n]|\\.)*\1/,greedy:!0},variable:/@@?\w+/,keyword:[{pattern:/(\bWITH\s+)COUNT(?=\s+INTO\b)/i,lookbehind:!0},/\b(?:AGGREGATE|ALL|AND|ANY|ASC|COLLECT|DESC|DISTINCT|FILTER|FOR|GRAPH|IN|INBOUND|INSERT|INTO|K_PATHS|K_SHORTEST_PATHS|LET|LIKE|LIMIT|NONE|NOT|NULL|OR|OUTBOUND|REMOVE|REPLACE|RETURN|SHORTEST_PATH|SORT|UPDATE|UPSERT|WINDOW|WITH)\b/i,{pattern:/(^|[^\w.[])(?:KEEP|PRUNE|SEARCH|TO)\b/i,lookbehind:!0},{pattern:/(^|[^\w.[])(?:CURRENT|NEW|OLD)\b/,lookbehind:!0},{pattern:/\bOPTIONS(?=\s*\{)/i}],function:/\b(?!\d)\w+(?=\s*\()/,boolean:/\b(?:false|true)\b/i,range:{pattern:/\.\./,alias:"operator"},number:[/\b0b[01]+/i,/\b0x[0-9a-f]+/i,/(?:\B\.\d+|\b(?:0|[1-9]\d*)(?:\.\d+)?)(?:e[+-]?\d+)?/i],operator:/\*{2,}|[=!]~|[!=<>]=?|&&|\|\||[-+*/%]/,punctuation:/::|[?.:,;()[\]{}]/}}e.exports=t,t.displayName="aql",t.aliases=[]},85848:function(e,t,n){"use strict";var r=n(2932);function i(e){e.register(r),e.languages.arduino=e.languages.extend("cpp",{keyword:/\b(?:String|array|bool|boolean|break|byte|case|catch|continue|default|do|double|else|finally|for|function|goto|if|in|instanceof|int|integer|long|loop|new|null|return|setup|string|switch|throw|try|void|while|word)\b/,constant:/\b(?:ANALOG_MESSAGE|DEFAULT|DIGITAL_MESSAGE|EXTERNAL|FIRMATA_STRING|HIGH|INPUT|INPUT_PULLUP|INTERNAL|INTERNAL1V1|INTERNAL2V56|LED_BUILTIN|LOW|OUTPUT|REPORT_ANALOG|REPORT_DIGITAL|SET_PIN_MODE|SYSEX_START|SYSTEM_RESET)\b/,builtin:/\b(?:Audio|BSSID|Bridge|Client|Console|EEPROM|Esplora|EsploraTFT|Ethernet|EthernetClient|EthernetServer|EthernetUDP|File|FileIO|FileSystem|Firmata|GPRS|GSM|GSMBand|GSMClient|GSMModem|GSMPIN|GSMScanner|GSMServer|GSMVoiceCall|GSM_SMS|HttpClient|IPAddress|IRread|Keyboard|KeyboardController|LiquidCrystal|LiquidCrystal_I2C|Mailbox|Mouse|MouseController|PImage|Process|RSSI|RobotControl|RobotMotor|SD|SPI|SSID|Scheduler|Serial|Server|Servo|SoftwareSerial|Stepper|Stream|TFT|Task|USBHost|WiFi|WiFiClient|WiFiServer|WiFiUDP|Wire|YunClient|YunServer|abs|addParameter|analogRead|analogReadResolution|analogReference|analogWrite|analogWriteResolution|answerCall|attach|attachGPRS|attachInterrupt|attached|autoscroll|available|background|beep|begin|beginPacket|beginSD|beginSMS|beginSpeaker|beginTFT|beginTransmission|beginWrite|bit|bitClear|bitRead|bitSet|bitWrite|blink|blinkVersion|buffer|changePIN|checkPIN|checkPUK|checkReg|circle|cityNameRead|cityNameWrite|clear|clearScreen|click|close|compassRead|config|connect|connected|constrain|cos|countryNameRead|countryNameWrite|createChar|cursor|debugPrint|delay|delayMicroseconds|detach|detachInterrupt|digitalRead|digitalWrite|disconnect|display|displayLogos|drawBMP|drawCompass|encryptionType|end|endPacket|endSMS|endTransmission|endWrite|exists|exitValue|fill|find|findUntil|flush|gatewayIP|get|getAsynchronously|getBand|getButton|getCurrentCarrier|getIMEI|getKey|getModifiers|getOemKey|getPINUsed|getResult|getSignalStrength|getSocket|getVoiceCallStatus|getXChange|getYChange|hangCall|height|highByte|home|image|interrupts|isActionDone|isDirectory|isListening|isPIN|isPressed|isValid|keyPressed|keyReleased|keyboardRead|knobRead|leftToRight|line|lineFollowConfig|listen|listenOnLocalhost|loadImage|localIP|lowByte|macAddress|maintain|map|max|messageAvailable|micros|millis|min|mkdir|motorsStop|motorsWrite|mouseDragged|mouseMoved|mousePressed|mouseReleased|move|noAutoscroll|noBlink|noBuffer|noCursor|noDisplay|noFill|noInterrupts|noListenOnLocalhost|noStroke|noTone|onReceive|onRequest|open|openNextFile|overflow|parseCommand|parseFloat|parseInt|parsePacket|pauseMode|peek|pinMode|playFile|playMelody|point|pointTo|position|pow|prepare|press|print|printFirmwareVersion|printVersion|println|process|processInput|pulseIn|put|random|randomSeed|read|readAccelerometer|readBlue|readButton|readBytes|readBytesUntil|readGreen|readJoystickButton|readJoystickSwitch|readJoystickX|readJoystickY|readLightSensor|readMessage|readMicrophone|readNetworks|readRed|readSlider|readString|readStringUntil|readTemperature|ready|rect|release|releaseAll|remoteIP|remoteNumber|remotePort|remove|requestFrom|retrieveCallingNumber|rewindDirectory|rightToLeft|rmdir|robotNameRead|robotNameWrite|run|runAsynchronously|runShellCommand|runShellCommandAsynchronously|running|scanNetworks|scrollDisplayLeft|scrollDisplayRight|seek|sendAnalog|sendDigitalPortPair|sendDigitalPorts|sendString|sendSysex|serialEvent|setBand|setBitOrder|setClockDivider|setCursor|setDNS|setDataMode|setFirmwareVersion|setMode|setPINUsed|setSpeed|setTextSize|setTimeout|shiftIn|shiftOut|shutdown|sin|size|sqrt|startLoop|step|stop|stroke|subnetMask|switchPIN|tan|tempoWrite|text|tone|transfer|tuneWrite|turn|updateIR|userNameRead|userNameWrite|voiceCall|waitContinue|width|write|writeBlue|writeGreen|writeJSON|writeMessage|writeMicroseconds|writeRGB|writeRed|yield)\b/}),e.languages.ino=e.languages.arduino}e.exports=i,i.displayName="arduino",i.aliases=["ino"]},59881:function(e){"use strict";function t(e){e.languages.arff={comment:/%.*/,string:{pattern:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/@(?:attribute|data|end|relation)\b/i,number:/\b\d+(?:\.\d+)?\b/,punctuation:/[{},]/}}e.exports=t,t.displayName="arff",t.aliases=[]},22981:function(e){"use strict";function t(e){!function(e){var t={pattern:/(^[ \t]*)\[(?!\[)(?:(["'$`])(?:(?!\2)[^\\]|\\.)*\2|\[(?:[^\[\]\\]|\\.)*\]|[^\[\]\\"'$`]|\\.)*\]/m,lookbehind:!0,inside:{quoted:{pattern:/([$`])(?:(?!\1)[^\\]|\\.)*\1/,inside:{punctuation:/^[$`]|[$`]$/}},interpreted:{pattern:/'(?:[^'\\]|\\.)*'/,inside:{punctuation:/^'|'$/}},string:/"(?:[^"\\]|\\.)*"/,variable:/\w+(?==)/,punctuation:/^\[|\]$|,/,operator:/=/,"attr-value":/(?!^\s+$).+/}},n=e.languages.asciidoc={"comment-block":{pattern:/^(\/{4,})(?:\r?\n|\r)(?:[\s\S]*(?:\r?\n|\r))??\1/m,alias:"comment"},table:{pattern:/^\|={3,}(?:(?:\r?\n|\r(?!\n)).*)*?(?:\r?\n|\r)\|={3,}$/m,inside:{specifiers:{pattern:/(?:(?:(?:\d+(?:\.\d+)?|\.\d+)[+*](?:[<^>](?:\.[<^>])?|\.[<^>])?|[<^>](?:\.[<^>])?|\.[<^>])[a-z]*|[a-z]+)(?=\|)/,alias:"attr-value"},punctuation:{pattern:/(^|[^\\])[|!]=*/,lookbehind:!0}}},"passthrough-block":{pattern:/^(\+{4,})(?:\r?\n|\r)(?:[\s\S]*(?:\r?\n|\r))??\1$/m,inside:{punctuation:/^\++|\++$/}},"literal-block":{pattern:/^(-{4,}|\.{4,})(?:\r?\n|\r)(?:[\s\S]*(?:\r?\n|\r))??\1$/m,inside:{punctuation:/^(?:-+|\.+)|(?:-+|\.+)$/}},"other-block":{pattern:/^(--|\*{4,}|_{4,}|={4,})(?:\r?\n|\r)(?:[\s\S]*(?:\r?\n|\r))??\1$/m,inside:{punctuation:/^(?:-+|\*+|_+|=+)|(?:-+|\*+|_+|=+)$/}},"list-punctuation":{pattern:/(^[ \t]*)(?:-|\*{1,5}|\.{1,5}|(?:[a-z]|\d+)\.|[xvi]+\))(?= )/im,lookbehind:!0,alias:"punctuation"},"list-label":{pattern:/(^[ \t]*)[a-z\d].+(?::{2,4}|;;)(?=\s)/im,lookbehind:!0,alias:"symbol"},"indented-block":{pattern:/((\r?\n|\r)\2)([ \t]+)\S.*(?:(?:\r?\n|\r)\3.+)*(?=\2{2}|$)/,lookbehind:!0},comment:/^\/\/.*/m,title:{pattern:/^.+(?:\r?\n|\r)(?:={3,}|-{3,}|~{3,}|\^{3,}|\+{3,})$|^={1,5} .+|^\.(?![\s.]).*/m,alias:"important",inside:{punctuation:/^(?:\.|=+)|(?:=+|-+|~+|\^+|\++)$/}},"attribute-entry":{pattern:/^:[^:\r\n]+:(?: .*?(?: \+(?:\r?\n|\r).*?)*)?$/m,alias:"tag"},attributes:t,hr:{pattern:/^'{3,}$/m,alias:"punctuation"},"page-break":{pattern:/^<{3,}$/m,alias:"punctuation"},admonition:{pattern:/^(?:CAUTION|IMPORTANT|NOTE|TIP|WARNING):/m,alias:"keyword"},callout:[{pattern:/(^[ \t]*)<?\d*>/m,lookbehind:!0,alias:"symbol"},{pattern:/<\d+>/,alias:"symbol"}],macro:{pattern:/\b[a-z\d][a-z\d-]*::?(?:[^\s\[\]]*\[(?:[^\]\\"']|(["'])(?:(?!\1)[^\\]|\\.)*\1|\\.)*\])/,inside:{function:/^[a-z\d-]+(?=:)/,punctuation:/^::?/,attributes:{pattern:/(?:\[(?:[^\]\\"']|(["'])(?:(?!\1)[^\\]|\\.)*\1|\\.)*\])/,inside:t.inside}}},inline:{pattern:/(^|[^\\])(?:(?:\B\[(?:[^\]\\"']|(["'])(?:(?!\2)[^\\]|\\.)*\2|\\.)*\])?(?:\b_(?!\s)(?: _|[^_\\\r\n]|\\.)+(?:(?:\r?\n|\r)(?: _|[^_\\\r\n]|\\.)+)*_\b|\B``(?!\s).+?(?:(?:\r?\n|\r).+?)*''\B|\B`(?!\s)(?:[^`'\s]|\s+\S)+['`]\B|\B(['*+#])(?!\s)(?: \3|(?!\3)[^\\\r\n]|\\.)+(?:(?:\r?\n|\r)(?: \3|(?!\3)[^\\\r\n]|\\.)+)*\3\B)|(?:\[(?:[^\]\\"']|(["'])(?:(?!\4)[^\\]|\\.)*\4|\\.)*\])?(?:(__|\*\*|\+\+\+?|##|\$\$|[~^]).+?(?:(?:\r?\n|\r).+?)*\5|\{[^}\r\n]+\}|\[\[\[?.+?(?:(?:\r?\n|\r).+?)*\]?\]\]|<<.+?(?:(?:\r?\n|\r).+?)*>>|\(\(\(?.+?(?:(?:\r?\n|\r).+?)*\)?\)\)))/m,lookbehind:!0,inside:{attributes:t,url:{pattern:/^(?:\[\[\[?.+?\]?\]\]|<<.+?>>)$/,inside:{punctuation:/^(?:\[\[\[?|<<)|(?:\]\]\]?|>>)$/}},"attribute-ref":{pattern:/^\{.+\}$/,inside:{variable:{pattern:/(^\{)[a-z\d,+_-]+/,lookbehind:!0},operator:/^[=?!#%@$]|!(?=[:}])/,punctuation:/^\{|\}$|::?/}},italic:{pattern:/^(['_])[\s\S]+\1$/,inside:{punctuation:/^(?:''?|__?)|(?:''?|__?)$/}},bold:{pattern:/^\*[\s\S]+\*$/,inside:{punctuation:/^\*\*?|\*\*?$/}},punctuation:/^(?:``?|\+{1,3}|##?|\$\$|[~^]|\(\(\(?)|(?:''?|\+{1,3}|##?|\$\$|[~^`]|\)?\)\))$/}},replacement:{pattern:/\((?:C|R|TM)\)/,alias:"builtin"},entity:/&#?[\da-z]{1,8};/i,"line-continuation":{pattern:/(^| )\+$/m,lookbehind:!0,alias:"punctuation"}};function r(e){e=e.split(" ");for(var t={},r=0,i=e.length;r<i;r++)t[e[r]]=n[e[r]];return t}t.inside.interpreted.inside.rest=r("macro inline replacement entity"),n["passthrough-block"].inside.rest=r("macro"),n["literal-block"].inside.rest=r("callout"),n.table.inside.rest=r("comment-block passthrough-block literal-block other-block list-punctuation indented-block comment title attribute-entry attributes hr page-break admonition list-label callout macro inline replacement entity line-continuation"),n["other-block"].inside.rest=r("table list-punctuation indented-block comment attribute-entry attributes hr page-break admonition list-label macro inline replacement entity line-continuation"),n.title.inside.rest=r("macro inline replacement entity"),e.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.value.replace(/&amp;/,"&"))}),e.languages.adoc=e.languages.asciidoc}(e)}e.exports=t,t.displayName="asciidoc",t.aliases=["adoc"]},50039:function(e){"use strict";function t(e){e.languages.asm6502={comment:/;.*/,directive:{pattern:/\.\w+(?= )/,alias:"property"},string:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,"op-code":{pattern:/\b(?:ADC|AND|ASL|BCC|BCS|BEQ|BIT|BMI|BNE|BPL|BRK|BVC|BVS|CLC|CLD|CLI|CLV|CMP|CPX|CPY|DEC|DEX|DEY|EOR|INC|INX|INY|JMP|JSR|LDA|LDX|LDY|LSR|NOP|ORA|PHA|PHP|PLA|PLP|ROL|ROR|RTI|RTS|SBC|SEC|SED|SEI|STA|STX|STY|TAX|TAY|TSX|TXA|TXS|TYA|adc|and|asl|bcc|bcs|beq|bit|bmi|bne|bpl|brk|bvc|bvs|clc|cld|cli|clv|cmp|cpx|cpy|dec|dex|dey|eor|inc|inx|iny|jmp|jsr|lda|ldx|ldy|lsr|nop|ora|pha|php|pla|plp|rol|ror|rti|rts|sbc|sec|sed|sei|sta|stx|sty|tax|tay|tsx|txa|txs|tya)\b/,alias:"keyword"},"hex-number":{pattern:/#?\$[\da-f]{1,4}\b/i,alias:"number"},"binary-number":{pattern:/#?%[01]+\b/,alias:"number"},"decimal-number":{pattern:/#?\b\d+\b/,alias:"number"},register:{pattern:/\b[xya]\b/i,alias:"variable"},punctuation:/[(),:]/}}e.exports=t,t.displayName="asm6502",t.aliases=[]},3274:function(e){"use strict";function t(e){e.languages.asmatmel={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},constant:/\b(?:PORT[A-Z]|DDR[A-Z]|(?:DD|P)[A-Z](?:\d|[0-2]\d|3[01]))\b/,directive:{pattern:/\.\w+(?= )/,alias:"property"},"r-register":{pattern:/\br(?:\d|[12]\d|3[01])\b/,alias:"variable"},"op-code":{pattern:/\b(?:ADC|ADD|ADIW|AND|ANDI|ASR|BCLR|BLD|BRBC|BRBS|BRCC|BRCS|BREAK|BREQ|BRGE|BRHC|BRHS|BRID|BRIE|BRLO|BRLT|BRMI|BRNE|BRPL|BRSH|BRTC|BRTS|BRVC|BRVS|BSET|BST|CALL|CBI|CBR|CLC|CLH|CLI|CLN|CLR|CLS|CLT|CLV|CLZ|COM|CP|CPC|CPI|CPSE|DEC|DES|EICALL|EIJMP|ELPM|EOR|FMUL|FMULS|FMULSU|ICALL|IJMP|IN|INC|JMP|LAC|LAS|LAT|LD|LD[A-Za-z0-9]|LPM|LSL|LSR|MOV|MOVW|MUL|MULS|MULSU|NEG|NOP|OR|ORI|OUT|POP|PUSH|RCALL|RET|RETI|RJMP|ROL|ROR|SBC|SBCI|SBI|SBIC|SBIS|SBIW|SBR|SBRC|SBRS|SEC|SEH|SEI|SEN|SER|SES|SET|SEV|SEZ|SLEEP|SPM|ST|ST[A-Z0-9]|SUB|SUBI|SWAP|TST|WDR|XCH|adc|add|adiw|and|andi|asr|bclr|bld|brbc|brbs|brcc|brcs|break|breq|brge|brhc|brhs|brid|brie|brlo|brlt|brmi|brne|brpl|brsh|brtc|brts|brvc|brvs|bset|bst|call|cbi|cbr|clc|clh|cli|cln|clr|cls|clt|clv|clz|com|cp|cpc|cpi|cpse|dec|des|eicall|eijmp|elpm|eor|fmul|fmuls|fmulsu|icall|ijmp|in|inc|jmp|lac|las|lat|ld|ld[a-z0-9]|lpm|lsl|lsr|mov|movw|mul|muls|mulsu|neg|nop|or|ori|out|pop|push|rcall|ret|reti|rjmp|rol|ror|sbc|sbci|sbi|sbic|sbis|sbiw|sbr|sbrc|sbrs|sec|seh|sei|sen|ser|ses|set|sev|sez|sleep|spm|st|st[a-zA-Z0-9]|sub|subi|swap|tst|wdr|xch)\b/,alias:"keyword"},"hex-number":{pattern:/#?\$[\da-f]{2,4}\b/i,alias:"number"},"binary-number":{pattern:/#?%[01]+\b/,alias:"number"},"decimal-number":{pattern:/#?\b\d+\b/,alias:"number"},register:{pattern:/\b[acznvshtixy]\b/i,alias:"variable"},operator:/>>=?|<<=?|&&?|\|\|?|[-+*/%&|^!=<>?]=?/,punctuation:/[(),:]/}}e.exports=t,t.displayName="asmatmel",t.aliases=[]},53386:function(e,t,n){"use strict";var r=n(82025);function i(e){e.register(r),e.languages.aspnet=e.languages.extend("markup",{"page-directive":{pattern:/<%\s*@.*%>/,alias:"tag",inside:{"page-directive":{pattern:/<%\s*@\s*(?:Assembly|Control|Implements|Import|Master(?:Type)?|OutputCache|Page|PreviousPageType|Reference|Register)?|%>/i,alias:"tag"},rest:e.languages.markup.tag.inside}},directive:{pattern:/<%.*%>/,alias:"tag",inside:{directive:{pattern:/<%\s*?[$=%#:]{0,2}|%>/,alias:"tag"},rest:e.languages.csharp}}}),e.languages.aspnet.tag.pattern=/<(?!%)\/?[^\s>\/]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,e.languages.insertBefore("inside","punctuation",{directive:e.languages.aspnet.directive},e.languages.aspnet.tag.inside["attr-value"]),e.languages.insertBefore("aspnet","comment",{"asp-comment":{pattern:/<%--[\s\S]*?--%>/,alias:["asp","comment"]}}),e.languages.insertBefore("aspnet",e.languages.javascript?"script":"tag",{"asp-script":{pattern:/(<script(?=.*runat=['"]?server\b)[^>]*>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,alias:["asp","script"],inside:e.languages.csharp||{}}})}e.exports=i,i.displayName="aspnet",i.aliases=[]},99662:function(e){"use strict";function t(e){e.languages.autohotkey={comment:[{pattern:/(^|\s);.*/,lookbehind:!0},{pattern:/(^[\t ]*)\/\*(?:[\r\n](?![ \t]*\*\/)|[^\r\n])*(?:[\r\n][ \t]*\*\/)?/m,lookbehind:!0,greedy:!0}],tag:{pattern:/^([ \t]*)[^\s,`":]+(?=:[ \t]*$)/m,lookbehind:!0},string:/"(?:[^"\n\r]|"")*"/,variable:/%\w+%/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/\?|\/\/?=?|:=|\|[=|]?|&[=&]?|\+[=+]?|-[=-]?|\*[=*]?|<(?:<=?|>|=)?|>>?=?|[.^!=~]=?|\b(?:AND|NOT|OR)\b/,boolean:/\b(?:false|true)\b/,selector:/\b(?:AutoTrim|BlockInput|Break|Click|ClipWait|Continue|Control|ControlClick|ControlFocus|ControlGet|ControlGetFocus|ControlGetPos|ControlGetText|ControlMove|ControlSend|ControlSendRaw|ControlSetText|CoordMode|Critical|DetectHiddenText|DetectHiddenWindows|Drive|DriveGet|DriveSpaceFree|EnvAdd|EnvDiv|EnvGet|EnvMult|EnvSet|EnvSub|EnvUpdate|Exit|ExitApp|FileAppend|FileCopy|FileCopyDir|FileCreateDir|FileCreateShortcut|FileDelete|FileEncoding|FileGetAttrib|FileGetShortcut|FileGetSize|FileGetTime|FileGetVersion|FileInstall|FileMove|FileMoveDir|FileRead|FileReadLine|FileRecycle|FileRecycleEmpty|FileRemoveDir|FileSelectFile|FileSelectFolder|FileSetAttrib|FileSetTime|FormatTime|GetKeyState|Gosub|Goto|GroupActivate|GroupAdd|GroupClose|GroupDeactivate|Gui|GuiControl|GuiControlGet|Hotkey|ImageSearch|IniDelete|IniRead|IniWrite|Input|InputBox|KeyWait|ListHotkeys|ListLines|ListVars|Loop|Menu|MouseClick|MouseClickDrag|MouseGetPos|MouseMove|MsgBox|OnExit|OutputDebug|Pause|PixelGetColor|PixelSearch|PostMessage|Process|Progress|Random|RegDelete|RegRead|RegWrite|Reload|Repeat|Return|Run|RunAs|RunWait|Send|SendEvent|SendInput|SendMessage|SendMode|SendPlay|SendRaw|SetBatchLines|SetCapslockState|SetControlDelay|SetDefaultMouseSpeed|SetEnv|SetFormat|SetKeyDelay|SetMouseDelay|SetNumlockState|SetRegView|SetScrollLockState|SetStoreCapslockMode|SetTimer|SetTitleMatchMode|SetWinDelay|SetWorkingDir|Shutdown|Sleep|Sort|SoundBeep|SoundGet|SoundGetWaveVolume|SoundPlay|SoundSet|SoundSetWaveVolume|SplashImage|SplashTextOff|SplashTextOn|SplitPath|StatusBarGetText|StatusBarWait|StringCaseSense|StringGetPos|StringLeft|StringLen|StringLower|StringMid|StringReplace|StringRight|StringSplit|StringTrimLeft|StringTrimRight|StringUpper|Suspend|SysGet|Thread|ToolTip|Transform|TrayTip|URLDownloadToFile|WinActivate|WinActivateBottom|WinClose|WinGet|WinGetActiveStats|WinGetActiveTitle|WinGetClass|WinGetPos|WinGetText|WinGetTitle|WinHide|WinKill|WinMaximize|WinMenuSelectItem|WinMinimize|WinMinimizeAll|WinMinimizeAllUndo|WinMove|WinRestore|WinSet|WinSetTitle|WinShow|WinWait|WinWaitActive|WinWaitClose|WinWaitNotActive)\b/i,constant:/\b(?:a_ahkpath|a_ahkversion|a_appdata|a_appdatacommon|a_autotrim|a_batchlines|a_caretx|a_carety|a_computername|a_controldelay|a_cursor|a_dd|a_ddd|a_dddd|a_defaultmousespeed|a_desktop|a_desktopcommon|a_detecthiddentext|a_detecthiddenwindows|a_endchar|a_eventinfo|a_exitreason|a_fileencoding|a_formatfloat|a_formatinteger|a_gui|a_guicontrol|a_guicontrolevent|a_guievent|a_guiheight|a_guiwidth|a_guix|a_guiy|a_hour|a_iconfile|a_iconhidden|a_iconnumber|a_icontip|a_index|a_ipaddress1|a_ipaddress2|a_ipaddress3|a_ipaddress4|a_is64bitos|a_isadmin|a_iscompiled|a_iscritical|a_ispaused|a_issuspended|a_isunicode|a_keydelay|a_language|a_lasterror|a_linefile|a_linenumber|a_loopfield|a_loopfileattrib|a_loopfiledir|a_loopfileext|a_loopfilefullpath|a_loopfilelongpath|a_loopfilename|a_loopfileshortname|a_loopfileshortpath|a_loopfilesize|a_loopfilesizekb|a_loopfilesizemb|a_loopfiletimeaccessed|a_loopfiletimecreated|a_loopfiletimemodified|a_loopreadline|a_loopregkey|a_loopregname|a_loopregsubkey|a_loopregtimemodified|a_loopregtype|a_mday|a_min|a_mm|a_mmm|a_mmmm|a_mon|a_mousedelay|a_msec|a_mydocuments|a_now|a_nowutc|a_numbatchlines|a_ostype|a_osversion|a_priorhotkey|a_priorkey|a_programfiles|a_programs|a_programscommon|a_ptrsize|a_regview|a_screendpi|a_screenheight|a_screenwidth|a_scriptdir|a_scriptfullpath|a_scripthwnd|a_scriptname|a_sec|a_space|a_startmenu|a_startmenucommon|a_startup|a_startupcommon|a_stringcasesense|a_tab|a_temp|a_thisfunc|a_thishotkey|a_thislabel|a_thismenu|a_thismenuitem|a_thismenuitempos|a_tickcount|a_timeidle|a_timeidlephysical|a_timesincepriorhotkey|a_timesincethishotkey|a_titlematchmode|a_titlematchmodespeed|a_username|a_wday|a_windelay|a_windir|a_workingdir|a_yday|a_year|a_yweek|a_yyyy|clipboard|clipboardall|comspec|errorlevel|programfiles)\b/i,builtin:/\b(?:abs|acos|asc|asin|atan|ceil|chr|class|comobjactive|comobjarray|comobjconnect|comobjcreate|comobjerror|comobjflags|comobjget|comobjquery|comobjtype|comobjvalue|cos|dllcall|exp|fileexist|Fileopen|floor|format|il_add|il_create|il_destroy|instr|isfunc|islabel|IsObject|ln|log|ltrim|lv_add|lv_delete|lv_deletecol|lv_getcount|lv_getnext|lv_gettext|lv_insert|lv_insertcol|lv_modify|lv_modifycol|lv_setimagelist|mod|numget|numput|onmessage|regexmatch|regexreplace|registercallback|round|rtrim|sb_seticon|sb_setparts|sb_settext|sin|sqrt|strlen|strreplace|strsplit|substr|tan|tv_add|tv_delete|tv_get|tv_getchild|tv_getcount|tv_getnext|tv_getparent|tv_getprev|tv_getselection|tv_gettext|tv_modify|varsetcapacity|winactive|winexist|__Call|__Get|__New|__Set)\b/i,symbol:/\b(?:alt|altdown|altup|appskey|backspace|browser_back|browser_favorites|browser_forward|browser_home|browser_refresh|browser_search|browser_stop|bs|capslock|ctrl|ctrlbreak|ctrldown|ctrlup|del|delete|down|end|enter|esc|escape|f1|f10|f11|f12|f13|f14|f15|f16|f17|f18|f19|f2|f20|f21|f22|f23|f24|f3|f4|f5|f6|f7|f8|f9|home|ins|insert|joy1|joy10|joy11|joy12|joy13|joy14|joy15|joy16|joy17|joy18|joy19|joy2|joy20|joy21|joy22|joy23|joy24|joy25|joy26|joy27|joy28|joy29|joy3|joy30|joy31|joy32|joy4|joy5|joy6|joy7|joy8|joy9|joyaxes|joybuttons|joyinfo|joyname|joypov|joyr|joyu|joyv|joyx|joyy|joyz|lalt|launch_app1|launch_app2|launch_mail|launch_media|lbutton|lcontrol|lctrl|left|lshift|lwin|lwindown|lwinup|mbutton|media_next|media_play_pause|media_prev|media_stop|numlock|numpad0|numpad1|numpad2|numpad3|numpad4|numpad5|numpad6|numpad7|numpad8|numpad9|numpadadd|numpadclear|numpaddel|numpaddiv|numpaddot|numpaddown|numpadend|numpadenter|numpadhome|numpadins|numpadleft|numpadmult|numpadpgdn|numpadpgup|numpadright|numpadsub|numpadup|pgdn|pgup|printscreen|ralt|rbutton|rcontrol|rctrl|right|rshift|rwin|rwindown|rwinup|scrolllock|shift|shiftdown|shiftup|space|tab|up|volume_down|volume_mute|volume_up|wheeldown|wheelleft|wheelright|wheelup|xbutton1|xbutton2)\b/i,important:/#\b(?:AllowSameLineComments|ClipboardTimeout|CommentFlag|DerefChar|ErrorStdOut|EscapeChar|HotkeyInterval|HotkeyModifierTimeout|Hotstring|If|IfTimeout|IfWinActive|IfWinExist|IfWinNotActive|IfWinNotExist|Include|IncludeAgain|InputLevel|InstallKeybdHook|InstallMouseHook|KeyHistory|MaxHotkeysPerInterval|MaxMem|MaxThreads|MaxThreadsBuffer|MaxThreadsPerHotkey|MenuMaskKey|NoEnv|NoTrayIcon|Persistent|SingleInstance|UseHook|Warn|WinActivateForce)\b/i,keyword:/\b(?:Abort|AboveNormal|Add|ahk_class|ahk_exe|ahk_group|ahk_id|ahk_pid|All|Alnum|Alpha|AltSubmit|AltTab|AltTabAndMenu|AltTabMenu|AltTabMenuDismiss|AlwaysOnTop|AutoSize|Background|BackgroundTrans|BelowNormal|between|BitAnd|BitNot|BitOr|BitShiftLeft|BitShiftRight|BitXOr|Bold|Border|Button|ByRef|Catch|Checkbox|Checked|CheckedGray|Choose|ChooseString|Close|Color|ComboBox|Contains|ControlList|Count|Date|DateTime|Days|DDL|Default|DeleteAll|Delimiter|Deref|Destroy|Digit|Disable|Disabled|DropDownList|Edit|Eject|Else|Enable|Enabled|Error|Exist|Expand|ExStyle|FileSystem|Finally|First|Flash|Float|FloatFast|Focus|Font|for|global|Grid|Group|GroupBox|GuiClose|GuiContextMenu|GuiDropFiles|GuiEscape|GuiSize|Hdr|Hidden|Hide|High|HKCC|HKCR|HKCU|HKEY_CLASSES_ROOT|HKEY_CURRENT_CONFIG|HKEY_CURRENT_USER|HKEY_LOCAL_MACHINE|HKEY_USERS|HKLM|HKU|Hours|HScroll|Icon|IconSmall|ID|IDLast|If|IfEqual|IfExist|IfGreater|IfGreaterOrEqual|IfInString|IfLess|IfLessOrEqual|IfMsgBox|IfNotEqual|IfNotExist|IfNotInString|IfWinActive|IfWinExist|IfWinNotActive|IfWinNotExist|Ignore|ImageList|in|Integer|IntegerFast|Interrupt|is|italic|Join|Label|LastFound|LastFoundExist|Limit|Lines|List|ListBox|ListView|local|Lock|Logoff|Low|Lower|Lowercase|MainWindow|Margin|Maximize|MaximizeBox|MaxSize|Minimize|MinimizeBox|MinMax|MinSize|Minutes|MonthCal|Mouse|Move|Multi|NA|No|NoActivate|NoDefault|NoHide|NoIcon|NoMainWindow|norm|Normal|NoSort|NoSortHdr|NoStandard|Not|NoTab|NoTimers|Number|Off|Ok|On|OwnDialogs|Owner|Parse|Password|Picture|Pixel|Pos|Pow|Priority|ProcessName|Radio|Range|Read|ReadOnly|Realtime|Redraw|Region|REG_BINARY|REG_DWORD|REG_EXPAND_SZ|REG_MULTI_SZ|REG_SZ|Relative|Rename|Report|Resize|Restore|Retry|RGB|Screen|Seconds|Section|Serial|SetLabel|ShiftAltTab|Show|Single|Slider|SortDesc|Standard|static|Status|StatusBar|StatusCD|strike|Style|Submit|SysMenu|Tab2|TabStop|Text|Theme|Throw|Tile|ToggleCheck|ToggleEnable|ToolWindow|Top|Topmost|TransColor|Transparent|Tray|TreeView|Try|TryAgain|Type|UnCheck|underline|Unicode|Unlock|Until|UpDown|Upper|Uppercase|UseErrorLevel|Vis|VisFirst|Visible|VScroll|Wait|WaitClose|WantCtrlA|WantF2|WantReturn|While|Wrap|Xdigit|xm|xp|xs|Yes|ym|yp|ys)\b/i,function:/[^(); \t,\n+*\-=?>:\\\/<&%\[\]]+(?=\()/,punctuation:/[{}[\]():,]/}}e.exports=t,t.displayName="autohotkey",t.aliases=[]},7593:function(e){"use strict";function t(e){e.languages.autoit={comment:[/;.*/,{pattern:/(^[\t ]*)#(?:comments-start|cs)[\s\S]*?^[ \t]*#(?:ce|comments-end)/m,lookbehind:!0}],url:{pattern:/(^[\t ]*#include\s+)(?:<[^\r\n>]+>|"[^\r\n"]+")/m,lookbehind:!0},string:{pattern:/(["'])(?:\1\1|(?!\1)[^\r\n])*\1/,greedy:!0,inside:{variable:/([%$@])\w+\1/}},directive:{pattern:/(^[\t ]*)#[\w-]+/m,lookbehind:!0,alias:"keyword"},function:/\b\w+(?=\()/,variable:/[$@]\w+/,keyword:/\b(?:Case|Const|Continue(?:Case|Loop)|Default|Dim|Do|Else(?:If)?|End(?:Func|If|Select|Switch|With)|Enum|Exit(?:Loop)?|For|Func|Global|If|In|Local|Next|Null|ReDim|Select|Static|Step|Switch|Then|To|Until|Volatile|WEnd|While|With)\b/i,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,boolean:/\b(?:False|True)\b/i,operator:/<[=>]?|[-+*\/=&>]=?|[?^]|\b(?:And|Not|Or)\b/i,punctuation:/[\[\]().,:]/}}e.exports=t,t.displayName="autoit",t.aliases=[]},46172:function(e){"use strict";function t(e){!function(e){function t(e,t,n){return RegExp(e.replace(/<<(\d+)>>/g,function(e,n){return t[+n]}),n||"")}var n=/bool|clip|float|int|string|val/.source,r=[[/is(?:bool|clip|float|int|string)|defined|(?:(?:internal)?function|var)?exists?/.source,/apply|assert|default|eval|import|nop|select|undefined/.source,/opt_(?:allowfloataudio|avipadscanlines|dwchannelmask|enable_(?:b64a|planartopackedrgb|v210|y3_10_10|y3_10_16)|usewaveextensible|vdubplanarhack)|set(?:cachemode|maxcpu|memorymax|planarlegacyalignment|workingdir)/.source,/hex(?:value)?|value/.source,/abs|ceil|continued(?:denominator|numerator)?|exp|floor|fmod|frac|log(?:10)?|max|min|muldiv|pi|pow|rand|round|sign|spline|sqrt/.source,/a?sinh?|a?cosh?|a?tan[2h]?/.source,/(?:bit(?:and|not|x?or|[lr]?shift[aslu]?|sh[lr]|sa[lr]|[lr]rotatel?|ro[rl]|te?st|set(?:count)?|cl(?:ea)?r|ch(?:an)?ge?))/.source,/average(?:[bgr]|chroma[uv]|luma)|(?:[rgb]|chroma[uv]|luma|rgb|[yuv](?=difference(?:fromprevious|tonext)))difference(?:fromprevious|tonext)?|[yuvrgb]plane(?:median|min|max|minmaxdifference)/.source,/getprocessinfo|logmsg|script(?:dir(?:utf8)?|file(?:utf8)?|name(?:utf8)?)|setlogparams/.source,/chr|(?:fill|find|left|mid|replace|rev|right)str|format|[lu]case|ord|str(?:cmpi?|fromutf8|len|toutf8)|time|trim(?:all|left|right)/.source,/isversionorgreater|version(?:number|string)/.source,/buildpixeltype|colorspacenametopixeltype/.source,/addautoloaddir|on(?:cpu|cuda)|prefetch|setfiltermtmode/.source].join("|"),[/has(?:audio|video)/.source,/height|width/.source,/frame(?:count|rate)|framerate(?:denominator|numerator)/.source,/getparity|is(?:field|frame)based/.source,/bitspercomponent|componentsize|hasalpha|is(?:planar(?:rgba?)?|interleaved|rgb(?:24|32|48|64)?|y(?:8|u(?:va?|y2))?|yv(?:12|16|24|411)|420|422|444|packedrgb)|numcomponents|pixeltype/.source,/audio(?:bits|channels|duration|length(?:[fs]|hi|lo)?|rate)|isaudio(?:float|int)/.source].join("|"),[/avi(?:file)?source|directshowsource|image(?:reader|source|sourceanim)|opendmlsource|segmented(?:avisource|directshowsource)|wavsource/.source,/coloryuv|convertbacktoyuy2|convertto(?:RGB(?:24|32|48|64)|(?:planar)?RGBA?|Y8?|YV(?:12|16|24|411)|YUVA?(?:411|420|422|444)|YUY2)|fixluminance|gr[ae]yscale|invert|levels|limiter|mergea?rgb|merge(?:chroma|luma)|rgbadjust|show(?:alpha|blue|green|red)|swapuv|tweak|[uv]toy8?|ytouv/.source,/(?:colorkey|reset)mask|layer|mask(?:hs)?|merge|overlay|subtract/.source,/addborders|(?:bicubic|bilinear|blackman|gauss|lanczos4|lanczos|point|sinc|spline(?:16|36|64))resize|crop(?:bottom)?|flip(?:horizontal|vertical)|(?:horizontal|vertical)?reduceby2|letterbox|skewrows|turn(?:180|left|right)/.source,/blur|fixbrokenchromaupsampling|generalconvolution|(?:spatial|temporal)soften|sharpen/.source,/trim|(?:un)?alignedsplice|(?:assume|assumescaled|change|convert)FPS|(?:delete|duplicate)frame|dissolve|fade(?:in|io|out)[02]?|freezeframe|interleave|loop|reverse|select(?:even|odd|(?:range)?every)/.source,/assume[bt]ff|assume(?:field|frame)based|bob|complementparity|doubleweave|peculiarblend|pulldown|separate(?:columns|fields|rows)|swapfields|weave(?:columns|rows)?/.source,/amplify(?:db)?|assumesamplerate|audiodub(?:ex)?|audiotrim|convertaudioto(?:(?:8|16|24|32)bit|float)|converttomono|delayaudio|ensurevbrmp3sync|get(?:left|right)?channel|kill(?:audio|video)|mergechannels|mixaudio|monotostereo|normalize|resampleaudio|ssrc|supereq|timestretch/.source,/animate|applyrange|conditional(?:filter|reader|select)|frameevaluate|scriptclip|tcp(?:server|source)|writefile(?:end|if|start)?/.source,/imagewriter/.source,/blackness|blankclip|colorbars(?:hd)?|compare|dumpfiltergraph|echo|histogram|info|messageclip|preroll|setgraphanalysis|show(?:framenumber|smpte|time)|showfiveversions|stack(?:horizontal|vertical)|subtitle|tone|version/.source].join("|")].join("|");e.languages.avisynth={comment:[{pattern:/(^|[^\\])\[\*(?:[^\[*]|\[(?!\*)|\*(?!\])|\[\*(?:[^\[*]|\[(?!\*)|\*(?!\]))*\*\])*\*\]/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],argument:{pattern:t(/\b(?:<<0>>)\s+("?)\w+\1/.source,[n],"i"),inside:{keyword:/^\w+/}},"argument-label":{pattern:/([,(][\s\\]*)\w+\s*=(?!=)/,lookbehind:!0,inside:{"argument-name":{pattern:/^\w+/,alias:"punctuation"},punctuation:/=$/}},string:[{pattern:/"""[\s\S]*?"""/,greedy:!0},{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0,inside:{constant:{pattern:/\b(?:DEFAULT_MT_MODE|(?:MAINSCRIPT|PROGRAM|SCRIPT)DIR|(?:MACHINE|USER)_(?:CLASSIC|PLUS)_PLUGINS)\b/}}}],variable:/\b(?:last)\b/i,boolean:/\b(?:false|no|true|yes)\b/i,keyword:/\b(?:catch|else|for|function|global|if|return|try|while|__END__)\b/i,constant:/\bMT_(?:MULTI_INSTANCE|NICE_FILTER|SERIALIZED|SPECIAL_MT)\b/,"builtin-function":{pattern:t(/\b(?:<<0>>)\b/.source,[r],"i"),alias:"function"},"type-cast":{pattern:t(/\b(?:<<0>>)(?=\s*\()/.source,[n],"i"),alias:"keyword"},function:{pattern:/\b[a-z_]\w*(?=\s*\()|(\.)[a-z_]\w*\b/i,lookbehind:!0},"line-continuation":{pattern:/(^[ \t]*)\\|\\(?=[ \t]*$)/m,lookbehind:!0,alias:"punctuation"},number:/\B\$(?:[\da-f]{6}|[\da-f]{8})\b|(?:(?:\b|\B-)\d+(?:\.\d*)?\b|\B\.\d+\b)/i,operator:/\+\+?|[!=<>]=?|&&|\|\||[?:*/%-]/,punctuation:/[{}\[\]();,.]/},e.languages.avs=e.languages.avisynth}(e)}e.exports=t,t.displayName="avisynth",t.aliases=["avs"]},40162:function(e){"use strict";function t(e){e.languages["avro-idl"]={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/(^|[^\\])"(?:[^\r\n"\\]|\\.)*"/,lookbehind:!0,greedy:!0},annotation:{pattern:/@(?:[$\w.-]|`[^\r\n`]+`)+/,greedy:!0,alias:"function"},"function-identifier":{pattern:/`[^\r\n`]+`(?=\s*\()/,greedy:!0,alias:"function"},identifier:{pattern:/`[^\r\n`]+`/,greedy:!0},"class-name":{pattern:/(\b(?:enum|error|protocol|record|throws)\b\s+)[$\w]+/,lookbehind:!0,greedy:!0},keyword:/\b(?:array|boolean|bytes|date|decimal|double|enum|error|false|fixed|float|idl|import|int|local_timestamp_ms|long|map|null|oneway|protocol|record|schema|string|throws|time_ms|timestamp_ms|true|union|uuid|void)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:[{pattern:/(^|[^\w.])-?(?:(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|0x(?:[a-f0-9]+(?:\.[a-f0-9]*)?|\.[a-f0-9]+)(?:p[+-]?\d+)?)[dfl]?(?![\w.])/i,lookbehind:!0},/-?\b(?:Infinity|NaN)\b/],operator:/=/,punctuation:/[()\[\]{}<>.:,;-]/},e.languages.avdl=e.languages["avro-idl"]}e.exports=t,t.displayName="avroIdl",t.aliases=[]},83536:function(e){"use strict";function t(e){!function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},r={bash:n,environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:r},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:r},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:r.entity}}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:r.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=e.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=r.variable[1].inside,a=0;a<i.length;a++)o[i[a]]=e.languages.bash[i[a]];e.languages.shell=e.languages.bash}(e)}e.exports=t,t.displayName="bash",t.aliases=["shell"]},14032:function(e){"use strict";function t(e){e.languages.basic={comment:{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:AS|BEEP|BLOAD|BSAVE|CALL(?: ABSOLUTE)?|CASE|CHAIN|CHDIR|CLEAR|CLOSE|CLS|COM|COMMON|CONST|DATA|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DIM|DO|DOUBLE|ELSE|ELSEIF|END|ENVIRON|ERASE|ERROR|EXIT|FIELD|FILES|FOR|FUNCTION|GET|GOSUB|GOTO|IF|INPUT|INTEGER|IOCTL|KEY|KILL|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|MKDIR|NAME|NEXT|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPTION BASE|OUT|POKE|PUT|READ|REDIM|REM|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SELECT CASE|SHARED|SHELL|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|SUB|SWAP|SYSTEM|THEN|TIMER|TO|TROFF|TRON|TYPE|UNLOCK|UNTIL|USING|VIEW PRINT|WAIT|WEND|WHILE|WRITE)(?:\$|\b)/i,function:/\b(?:ABS|ACCESS|ACOS|ANGLE|AREA|ARITHMETIC|ARRAY|ASIN|ASK|AT|ATN|BASE|BEGIN|BREAK|CAUSE|CEIL|CHR|CLIP|COLLATE|COLOR|CON|COS|COSH|COT|CSC|DATE|DATUM|DEBUG|DECIMAL|DEF|DEG|DEGREES|DELETE|DET|DEVICE|DISPLAY|DOT|ELAPSED|EPS|ERASABLE|EXLINE|EXP|EXTERNAL|EXTYPE|FILETYPE|FIXED|FP|GO|GRAPH|HANDLER|IDN|IMAGE|IN|INT|INTERNAL|IP|IS|KEYED|LBOUND|LCASE|LEFT|LEN|LENGTH|LET|LINE|LINES|LOG|LOG10|LOG2|LTRIM|MARGIN|MAT|MAX|MAXNUM|MID|MIN|MISSING|MOD|NATIVE|NUL|NUMERIC|OF|OPTION|ORD|ORGANIZATION|OUTIN|OUTPUT|PI|POINT|POINTER|POINTS|POS|PRINT|PROGRAM|PROMPT|RAD|RADIANS|RANDOMIZE|RECORD|RECSIZE|RECTYPE|RELATIVE|REMAINDER|REPEAT|REST|RETRY|REWRITE|RIGHT|RND|ROUND|RTRIM|SAME|SEC|SELECT|SEQUENTIAL|SET|SETTER|SGN|SIN|SINH|SIZE|SKIP|SQR|STANDARD|STATUS|STR|STREAM|STYLE|TAB|TAN|TANH|TEMPLATE|TEXT|THERE|TIME|TIMEOUT|TRACE|TRANSFORM|TRUNCATE|UBOUND|UCASE|USE|VAL|VARIABLE|VIEWPORT|WHEN|WINDOW|WITH|ZER|ZONEWIDTH)(?:\$|\b)/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:AND|EQV|IMP|NOT|OR|XOR)\b/i,punctuation:/[,;:()]/}}e.exports=t,t.displayName="basic",t.aliases=[]},28949:function(e){"use strict";function t(e){var t,n,r,i;t=/%%?[~:\w]+%?|!\S+!/,n={pattern:/\/[a-z?]+(?=[ :]|$):?|-[a-z]\b|--[a-z-]+\b/im,alias:"attr-name",inside:{punctuation:/:/}},r=/"(?:[\\"]"|[^"])*"(?!")/,i=/(?:\b|-)\d+\b/,e.languages.batch={comment:[/^::.*/m,{pattern:/((?:^|[&(])[ \t]*)rem\b(?:[^^&)\r\n]|\^(?:\r\n|[\s\S]))*/im,lookbehind:!0}],label:{pattern:/^:.*/m,alias:"property"},command:[{pattern:/((?:^|[&(])[ \t]*)for(?: \/[a-z?](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* \S+ in \([^)]+\) do/im,lookbehind:!0,inside:{keyword:/\b(?:do|in)\b|^for\b/i,string:r,parameter:n,variable:t,number:i,punctuation:/[()',]/}},{pattern:/((?:^|[&(])[ \t]*)if(?: \/[a-z?](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* (?:not )?(?:cmdextversion \d+|defined \w+|errorlevel \d+|exist \S+|(?:"[^"]*"|(?!")(?:(?!==)\S)+)?(?:==| (?:equ|geq|gtr|leq|lss|neq) )(?:"[^"]*"|[^\s"]\S*))/im,lookbehind:!0,inside:{keyword:/\b(?:cmdextversion|defined|errorlevel|exist|not)\b|^if\b/i,string:r,parameter:n,variable:t,number:i,operator:/\^|==|\b(?:equ|geq|gtr|leq|lss|neq)\b/i}},{pattern:/((?:^|[&()])[ \t]*)else\b/im,lookbehind:!0,inside:{keyword:/^else\b/i}},{pattern:/((?:^|[&(])[ \t]*)set(?: \/[a-z](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* (?:[^^&)\r\n]|\^(?:\r\n|[\s\S]))*/im,lookbehind:!0,inside:{keyword:/^set\b/i,string:r,parameter:n,variable:[t,/\w+(?=(?:[*\/%+\-&^|]|<<|>>)?=)/],number:i,operator:/[*\/%+\-&^|]=?|<<=?|>>=?|[!~_=]/,punctuation:/[()',]/}},{pattern:/((?:^|[&(])[ \t]*@?)\w+\b(?:"(?:[\\"]"|[^"])*"(?!")|[^"^&)\r\n]|\^(?:\r\n|[\s\S]))*/m,lookbehind:!0,inside:{keyword:/^\w+\b/,string:r,parameter:n,label:{pattern:/(^\s*):\S+/m,lookbehind:!0,alias:"property"},variable:t,number:i,operator:/\^/}}],operator:/[&@]/,punctuation:/[()']/}}e.exports=t,t.displayName="batch",t.aliases=[]},12833:function(e){"use strict";function t(e){e.languages.bbcode={tag:{pattern:/\[\/?[^\s=\]]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+))?(?:\s+[^\s=\]]+\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+))*\s*\]/,inside:{tag:{pattern:/^\[\/?[^\s=\]]+/,inside:{punctuation:/^\[\/?/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+)/,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\]/,"attr-name":/[^\s=\]]+/}}},e.languages.shortcode=e.languages.bbcode}e.exports=t,t.displayName="bbcode",t.aliases=["shortcode"]},27054:function(e){"use strict";function t(e){e.languages.bicep={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],property:[{pattern:/([\r\n][ \t]*)[a-z_]\w*(?=[ \t]*:)/i,lookbehind:!0},{pattern:/([\r\n][ \t]*)'(?:\\.|\$(?!\{)|[^'\\\r\n$])*'(?=[ \t]*:)/,lookbehind:!0,greedy:!0}],string:[{pattern:/'''[^'][\s\S]*?'''/,greedy:!0},{pattern:/(^|[^\\'])'(?:\\.|\$(?!\{)|[^'\\\r\n$])*'/,lookbehind:!0,greedy:!0}],"interpolated-string":{pattern:/(^|[^\\'])'(?:\\.|\$(?:(?!\{)|\{[^{}\r\n]*\})|[^'\\\r\n$])*'/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}\r\n]*\}/,inside:{expression:{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0},punctuation:/^\$\{|\}$/}},string:/[\s\S]+/}},datatype:{pattern:/(\b(?:output|param)\b[ \t]+\w+[ \t]+)\w+\b/,lookbehind:!0,alias:"class-name"},boolean:/\b(?:false|true)\b/,keyword:/\b(?:existing|for|if|in|module|null|output|param|resource|targetScope|var)\b/,decorator:/@\w+\b/,function:/\b[a-z_]\w*(?=[ \t]*\()/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/,punctuation:/[{}[\];(),.:]/},e.languages.bicep["interpolated-string"].inside.interpolation.inside.expression.inside=e.languages.bicep}e.exports=t,t.displayName="bicep",t.aliases=[]},83578:function(e){"use strict";function t(e){e.languages.birb=e.languages.extend("clike",{string:{pattern:/r?("|')(?:\\.|(?!\1)[^\\])*\1/,greedy:!0},"class-name":[/\b[A-Z](?:[\d_]*[a-zA-Z]\w*)?\b/,/\b(?:[A-Z]\w*|(?!(?:var|void)\b)[a-z]\w*)(?=\s+\w+\s*[;,=()])/],keyword:/\b(?:assert|break|case|class|const|default|else|enum|final|follows|for|grab|if|nest|new|next|noSeeb|return|static|switch|throw|var|void|while)\b/,operator:/\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?|:/,variable:/\b[a-z_]\w*\b/}),e.languages.insertBefore("birb","function",{metadata:{pattern:/<\w+>/,greedy:!0,alias:"symbol"}})}e.exports=t,t.displayName="birb",t.aliases=[]},18548:function(e,t,n){"use strict";var r=n(22838);function i(e){e.register(r),e.languages.bison=e.languages.extend("c",{}),e.languages.insertBefore("bison","comment",{bison:{pattern:/^(?:[^%]|%(?!%))*%%[\s\S]*?%%/,inside:{c:{pattern:/%\{[\s\S]*?%\}|\{(?:\{[^}]*\}|[^{}])*\}/,inside:{delimiter:{pattern:/^%?\{|%?\}$/,alias:"punctuation"},"bison-variable":{pattern:/[$@](?:<[^\s>]+>)?[\w$]+/,alias:"variable",inside:{punctuation:/<|>/}},rest:e.languages.c}},comment:e.languages.c.comment,string:e.languages.c.string,property:/\S+(?=:)/,keyword:/%\w+/,number:{pattern:/(^|[^@])\b(?:0x[\da-f]+|\d+)/i,lookbehind:!0},punctuation:/%[%?]|[|:;\[\]<>]/}}})}e.exports=i,i.displayName="bison",i.aliases=[]},66696:function(e){"use strict";function t(e){e.languages.bnf={string:{pattern:/"[^\r\n"]*"|'[^\r\n']*'/},definition:{pattern:/<[^<>\r\n\t]+>(?=\s*::=)/,alias:["rule","keyword"],inside:{punctuation:/^<|>$/}},rule:{pattern:/<[^<>\r\n\t]+>/,inside:{punctuation:/^<|>$/}},operator:/::=|[|()[\]{}*+?]|\.{3}/},e.languages.rbnf=e.languages.bnf}e.exports=t,t.displayName="bnf",t.aliases=["rbnf"]},96402:function(e){"use strict";function t(e){e.languages.brainfuck={pointer:{pattern:/<|>/,alias:"keyword"},increment:{pattern:/\+/,alias:"inserted"},decrement:{pattern:/-/,alias:"deleted"},branching:{pattern:/\[|\]/,alias:"important"},operator:/[.,]/,comment:/\S+/}}e.exports=t,t.displayName="brainfuck",t.aliases=[]},75711:function(e){"use strict";function t(e){e.languages.brightscript={comment:/(?:\brem|').*/i,"directive-statement":{pattern:/(^[\t ]*)#(?:const|else(?:[\t ]+if)?|end[\t ]+if|error|if).*/im,lookbehind:!0,alias:"property",inside:{"error-message":{pattern:/(^#error).+/,lookbehind:!0},directive:{pattern:/^#(?:const|else(?:[\t ]+if)?|end[\t ]+if|error|if)/,alias:"keyword"},expression:{pattern:/[\s\S]+/,inside:null}}},property:{pattern:/([\r\n{,][\t ]*)(?:(?!\d)\w+|"(?:[^"\r\n]|"")*"(?!"))(?=[ \t]*:)/,lookbehind:!0,greedy:!0},string:{pattern:/"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},"class-name":{pattern:/(\bAs[\t ]+)\w+/i,lookbehind:!0},keyword:/\b(?:As|Dim|Each|Else|Elseif|End|Exit|For|Function|Goto|If|In|Print|Return|Step|Stop|Sub|Then|To|While)\b/i,boolean:/\b(?:false|true)\b/i,function:/\b(?!\d)\w+(?=[\t ]*\()/,number:/(?:\b\d+(?:\.\d+)?(?:[ed][+-]\d+)?|&h[a-f\d]+)\b[%&!#]?/i,operator:/--|\+\+|>>=?|<<=?|<>|[-+*/\\<>]=?|[:^=?]|\b(?:and|mod|not|or)\b/i,punctuation:/[.,;()[\]{}]/,constant:/\b(?:LINE_NUM)\b/i},e.languages.brightscript["directive-statement"].inside.expression.inside=e.languages.brightscript}e.exports=t,t.displayName="brightscript",t.aliases=[]},23485:function(e){"use strict";function t(e){e.languages.bro={comment:{pattern:/(^|[^\\$])#.*/,lookbehind:!0,inside:{italic:/\b(?:FIXME|TODO|XXX)\b/}},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},boolean:/\b[TF]\b/,function:{pattern:/(\b(?:event|function|hook)[ \t]+)\w+(?:::\w+)?/,lookbehind:!0},builtin:/(?:@(?:load(?:-(?:plugin|sigs))?|unload|prefixes|ifn?def|else|(?:end)?if|DIR|FILENAME))|(?:&?(?:add_func|create_expire|default|delete_func|encrypt|error_handler|expire_func|group|log|mergeable|optional|persistent|priority|raw_output|read_expire|redef|rotate_interval|rotate_size|synchronized|type_column|write_expire))/,constant:{pattern:/(\bconst[ \t]+)\w+/i,lookbehind:!0},keyword:/\b(?:add|addr|alarm|any|bool|break|const|continue|count|delete|double|else|enum|event|export|file|for|function|global|hook|if|in|int|interval|local|module|next|of|opaque|pattern|port|print|record|return|schedule|set|string|subnet|table|time|timeout|using|vector|when)\b/,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&|\|\|?|\?|\*|\/|~|\^|%/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,punctuation:/[{}[\];(),.:]/}}e.exports=t,t.displayName="bro",t.aliases=[]},32944:function(e){"use strict";function t(e){e.languages.bsl={comment:/\/\/.*/,string:[{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},{pattern:/'(?:[^'\r\n\\]|\\.)*'/}],keyword:[{pattern:/(^|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:пока|для|новый|прервать|попытка|исключение|вызватьисключение|иначе|конецпопытки|неопределено|функция|перем|возврат|конецфункции|если|иначеесли|процедура|конецпроцедуры|тогда|знач|экспорт|конецесли|из|каждого|истина|ложь|по|цикл|конеццикла|выполнить)(?![\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])/i,lookbehind:!0},{pattern:/\b(?:break|do|each|else|elseif|enddo|endfunction|endif|endprocedure|endtry|except|execute|export|false|for|function|if|in|new|null|procedure|raise|return|then|to|true|try|undefined|val|var|while)\b/i}],number:{pattern:/(^(?=\d)|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:\d+(?:\.\d*)?|\.\d+)(?:E[+-]?\d+)?/i,lookbehind:!0},operator:[/[<>+\-*/]=?|[%=]/,{pattern:/(^|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:и|или|не)(?![\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])/i,lookbehind:!0},{pattern:/\b(?:and|not|or)\b/i}],punctuation:/\(\.|\.\)|[()\[\]:;,.]/,directive:[{pattern:/^([ \t]*)&.*/m,lookbehind:!0,greedy:!0,alias:"important"},{pattern:/^([ \t]*)#.*/gm,lookbehind:!0,greedy:!0,alias:"important"}]},e.languages.oscript=e.languages.bsl}e.exports=t,t.displayName="bsl",t.aliases=[]},22838:function(e){"use strict";function t(e){e.languages.c=e.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),e.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),e.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},e.languages.c.string],char:e.languages.c.char,comment:e.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:e.languages.c}}}}),e.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete e.languages.c.boolean}e.exports=t,t.displayName="c",t.aliases=[]},37007:function(e){"use strict";function t(e){e.languages.cfscript=e.languages.extend("clike",{comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,inside:{annotation:{pattern:/(?:^|[^.])@[\w\.]+/,alias:"punctuation"}}},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],keyword:/\b(?:abstract|break|catch|component|continue|default|do|else|extends|final|finally|for|function|if|in|include|package|private|property|public|remote|required|rethrow|return|static|switch|throw|try|var|while|xml)\b(?!\s*=)/,operator:[/\+\+|--|&&|\|\||::|=>|[!=]==|<=?|>=?|[-+*/%&|^!=<>]=?|\?(?:\.|:)?|[?:]/,/\b(?:and|contains|eq|equal|eqv|gt|gte|imp|is|lt|lte|mod|not|or|xor)\b/],scope:{pattern:/\b(?:application|arguments|cgi|client|cookie|local|session|super|this|variables)\b/,alias:"global"},type:{pattern:/\b(?:any|array|binary|boolean|date|guid|numeric|query|string|struct|uuid|void|xml)\b/,alias:"builtin"}}),e.languages.insertBefore("cfscript","keyword",{"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"}}),delete e.languages.cfscript["class-name"],e.languages.cfc=e.languages.cfscript}e.exports=t,t.displayName="cfscript",t.aliases=[]},22466:function(e,t,n){"use strict";var r=n(2932);function i(e){e.register(r),e.languages.chaiscript=e.languages.extend("clike",{string:{pattern:/(^|[^\\])'(?:[^'\\]|\\[\s\S])*'/,lookbehind:!0,greedy:!0},"class-name":[{pattern:/(\bclass\s+)\w+/,lookbehind:!0},{pattern:/(\b(?:attr|def)\s+)\w+(?=\s*::)/,lookbehind:!0}],keyword:/\b(?:attr|auto|break|case|catch|class|continue|def|default|else|finally|for|fun|global|if|return|switch|this|try|var|while)\b/,number:[e.languages.cpp.number,/\b(?:Infinity|NaN)\b/],operator:/>>=?|<<=?|\|\||&&|:[:=]?|--|\+\+|[=!<>+\-*/%|&^]=?|[?~]|`[^`\r\n]{1,4}`/}),e.languages.insertBefore("chaiscript","operator",{"parameter-type":{pattern:/([,(]\s*)\w+(?=\s+\w)/,lookbehind:!0,alias:"class-name"}}),e.languages.insertBefore("chaiscript","string",{"string-interpolation":{pattern:/(^|[^\\])"(?:[^"$\\]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\}/,lookbehind:!0,inside:{"interpolation-expression":{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.chaiscript},"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"}}},string:/[\s\S]+/}}})}e.exports=i,i.displayName="chaiscript",i.aliases=[]},42497:function(e){"use strict";function t(e){e.languages.cil={comment:/\/\/.*/,string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},directive:{pattern:/(^|\W)\.[a-z]+(?=\s)/,lookbehind:!0,alias:"class-name"},variable:/\[[\w\.]+\]/,keyword:/\b(?:abstract|ansi|assembly|auto|autochar|beforefieldinit|bool|bstr|byvalstr|catch|char|cil|class|currency|date|decimal|default|enum|error|explicit|extends|extern|famandassem|family|famorassem|final(?:ly)?|float32|float64|hidebysig|u?int(?:8|16|32|64)?|iant|idispatch|implements|import|initonly|instance|interface|iunknown|literal|lpstr|lpstruct|lptstr|lpwstr|managed|method|native(?:Type)?|nested|newslot|object(?:ref)?|pinvokeimpl|private|privatescope|public|reqsecobj|rtspecialname|runtime|sealed|sequential|serializable|specialname|static|string|struct|syschar|tbstr|unicode|unmanagedexp|unsigned|value(?:type)?|variant|virtual|void)\b/,function:/\b(?:(?:constrained|no|readonly|tail|unaligned|volatile)\.)?(?:conv\.(?:[iu][1248]?|ovf\.[iu][1248]?(?:\.un)?|r\.un|r4|r8)|ldc\.(?:i4(?:\.\d+|\.[mM]1|\.s)?|i8|r4|r8)|ldelem(?:\.[iu][1248]?|\.r[48]|\.ref|a)?|ldind\.(?:[iu][1248]?|r[48]|ref)|stelem\.?(?:i[1248]?|r[48]|ref)?|stind\.(?:i[1248]?|r[48]|ref)?|end(?:fault|filter|finally)|ldarg(?:\.[0-3s]|a(?:\.s)?)?|ldloc(?:\.\d+|\.s)?|sub(?:\.ovf(?:\.un)?)?|mul(?:\.ovf(?:\.un)?)?|add(?:\.ovf(?:\.un)?)?|stloc(?:\.[0-3s])?|refany(?:type|val)|blt(?:\.un)?(?:\.s)?|ble(?:\.un)?(?:\.s)?|bgt(?:\.un)?(?:\.s)?|bge(?:\.un)?(?:\.s)?|unbox(?:\.any)?|init(?:blk|obj)|call(?:i|virt)?|brfalse(?:\.s)?|bne\.un(?:\.s)?|ldloca(?:\.s)?|brzero(?:\.s)?|brtrue(?:\.s)?|brnull(?:\.s)?|brinst(?:\.s)?|starg(?:\.s)?|leave(?:\.s)?|shr(?:\.un)?|rem(?:\.un)?|div(?:\.un)?|clt(?:\.un)?|alignment|castclass|ldvirtftn|beq(?:\.s)?|ckfinite|ldsflda|ldtoken|localloc|mkrefany|rethrow|cgt\.un|arglist|switch|stsfld|sizeof|newobj|newarr|ldsfld|ldnull|ldflda|isinst|throw|stobj|stfld|ldstr|ldobj|ldlen|ldftn|ldfld|cpobj|cpblk|break|br\.s|xor|shl|ret|pop|not|nop|neg|jmp|dup|cgt|ceq|box|and|or|br)\b/,boolean:/\b(?:false|true)\b/,number:/\b-?(?:0x[0-9a-f]+|\d+)(?:\.[0-9a-f]+)?\b/i,punctuation:/[{}[\];(),:=]|IL_[0-9A-Za-z]+/}}e.exports=t,t.displayName="cil",t.aliases=[]},21625:function(e){"use strict";function t(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}e.exports=t,t.displayName="clike",t.aliases=[]},77183:function(e){"use strict";function t(e){e.languages.clojure={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},char:/\\\w+/,symbol:{pattern:/(^|[\s()\[\]{},])::?[\w*+!?'<>=/.-]+/,lookbehind:!0},keyword:{pattern:/(\()(?:-|->|->>|\.|\.\.|\*|\/|\+|<|<=|=|==|>|>=|accessor|agent|agent-errors|aget|alength|all-ns|alter|and|append-child|apply|array-map|aset|aset-boolean|aset-byte|aset-char|aset-double|aset-float|aset-int|aset-long|aset-short|assert|assoc|await|await-for|bean|binding|bit-and|bit-not|bit-or|bit-shift-left|bit-shift-right|bit-xor|boolean|branch\?|butlast|byte|cast|char|children|class|clear-agent-errors|comment|commute|comp|comparator|complement|concat|cond|conj|cons|constantly|construct-proxy|contains\?|count|create-ns|create-struct|cycle|dec|declare|def|def-|definline|definterface|defmacro|defmethod|defmulti|defn|defn-|defonce|defproject|defprotocol|defrecord|defstruct|deftype|deref|difference|disj|dissoc|distinct|do|doall|doc|dorun|doseq|dosync|dotimes|doto|double|down|drop|drop-while|edit|end\?|ensure|eval|every\?|false\?|ffirst|file-seq|filter|find|find-doc|find-ns|find-var|first|float|flush|fn|fnseq|for|frest|gensym|get|get-proxy-class|hash-map|hash-set|identical\?|identity|if|if-let|if-not|import|in-ns|inc|index|insert-child|insert-left|insert-right|inspect-table|inspect-tree|instance\?|int|interleave|intersection|into|into-array|iterate|join|key|keys|keyword|keyword\?|last|lazy-cat|lazy-cons|left|lefts|let|line-seq|list|list\*|load|load-file|locking|long|loop|macroexpand|macroexpand-1|make-array|make-node|map|map-invert|map\?|mapcat|max|max-key|memfn|merge|merge-with|meta|min|min-key|monitor-enter|name|namespace|neg\?|new|newline|next|nil\?|node|not|not-any\?|not-every\?|not=|ns|ns-imports|ns-interns|ns-map|ns-name|ns-publics|ns-refers|ns-resolve|ns-unmap|nth|nthrest|or|parse|partial|path|peek|pop|pos\?|pr|pr-str|print|print-str|println|println-str|prn|prn-str|project|proxy|proxy-mappings|quot|quote|rand|rand-int|range|re-find|re-groups|re-matcher|re-matches|re-pattern|re-seq|read|read-line|recur|reduce|ref|ref-set|refer|rem|remove|remove-method|remove-ns|rename|rename-keys|repeat|replace|replicate|resolve|rest|resultset-seq|reverse|rfirst|right|rights|root|rrest|rseq|second|select|select-keys|send|send-off|seq|seq-zip|seq\?|set|set!|short|slurp|some|sort|sort-by|sorted-map|sorted-map-by|sorted-set|special-symbol\?|split-at|split-with|str|string\?|struct|struct-map|subs|subvec|symbol|symbol\?|sync|take|take-nth|take-while|test|throw|time|to-array|to-array-2d|tree-seq|true\?|try|union|up|update-proxy|val|vals|var|var-get|var-set|var\?|vector|vector-zip|vector\?|when|when-first|when-let|when-not|with-local-vars|with-meta|with-open|with-out-str|xml-seq|xml-zip|zero\?|zipmap|zipper)(?=[\s)]|$)/,lookbehind:!0},boolean:/\b(?:false|nil|true)\b/,number:{pattern:/(^|[^\w$@])(?:\d+(?:[/.]\d+)?(?:e[+-]?\d+)?|0x[a-f0-9]+|[1-9]\d?r[a-z0-9]+)[lmn]?(?![\w$@])/i,lookbehind:!0},function:{pattern:/((?:^|[^'])\()[\w*+!?'<>=/.-]+(?=[\s)]|$)/,lookbehind:!0},operator:/[#@^`~]/,punctuation:/[{}\[\](),]/}}e.exports=t,t.displayName="clojure",t.aliases=[]},39184:function(e){"use strict";function t(e){e.languages.cmake={comment:/#.*/,string:{pattern:/"(?:[^\\"]|\\.)*"/,greedy:!0,inside:{interpolation:{pattern:/\$\{(?:[^{}$]|\$\{[^{}$]*\})*\}/,inside:{punctuation:/\$\{|\}/,variable:/\w+/}}}},variable:/\b(?:CMAKE_\w+|\w+_(?:(?:BINARY|SOURCE)_DIR|DESCRIPTION|HOMEPAGE_URL|ROOT|VERSION(?:_MAJOR|_MINOR|_PATCH|_TWEAK)?)|(?:ANDROID|APPLE|BORLAND|BUILD_SHARED_LIBS|CACHE|CPACK_(?:ABSOLUTE_DESTINATION_FILES|COMPONENT_INCLUDE_TOPLEVEL_DIRECTORY|ERROR_ON_ABSOLUTE_INSTALL_DESTINATION|INCLUDE_TOPLEVEL_DIRECTORY|INSTALL_DEFAULT_DIRECTORY_PERMISSIONS|INSTALL_SCRIPT|PACKAGING_INSTALL_PREFIX|SET_DESTDIR|WARN_ON_ABSOLUTE_INSTALL_DESTINATION)|CTEST_(?:BINARY_DIRECTORY|BUILD_COMMAND|BUILD_NAME|BZR_COMMAND|BZR_UPDATE_OPTIONS|CHANGE_ID|CHECKOUT_COMMAND|CONFIGURATION_TYPE|CONFIGURE_COMMAND|COVERAGE_COMMAND|COVERAGE_EXTRA_FLAGS|CURL_OPTIONS|CUSTOM_(?:COVERAGE_EXCLUDE|ERROR_EXCEPTION|ERROR_MATCH|ERROR_POST_CONTEXT|ERROR_PRE_CONTEXT|MAXIMUM_FAILED_TEST_OUTPUT_SIZE|MAXIMUM_NUMBER_OF_(?:ERRORS|WARNINGS)|MAXIMUM_PASSED_TEST_OUTPUT_SIZE|MEMCHECK_IGNORE|POST_MEMCHECK|POST_TEST|PRE_MEMCHECK|PRE_TEST|TESTS_IGNORE|WARNING_EXCEPTION|WARNING_MATCH)|CVS_CHECKOUT|CVS_COMMAND|CVS_UPDATE_OPTIONS|DROP_LOCATION|DROP_METHOD|DROP_SITE|DROP_SITE_CDASH|DROP_SITE_PASSWORD|DROP_SITE_USER|EXTRA_COVERAGE_GLOB|GIT_COMMAND|GIT_INIT_SUBMODULES|GIT_UPDATE_CUSTOM|GIT_UPDATE_OPTIONS|HG_COMMAND|HG_UPDATE_OPTIONS|LABELS_FOR_SUBPROJECTS|MEMORYCHECK_(?:COMMAND|COMMAND_OPTIONS|SANITIZER_OPTIONS|SUPPRESSIONS_FILE|TYPE)|NIGHTLY_START_TIME|P4_CLIENT|P4_COMMAND|P4_OPTIONS|P4_UPDATE_OPTIONS|RUN_CURRENT_SCRIPT|SCP_COMMAND|SITE|SOURCE_DIRECTORY|SUBMIT_URL|SVN_COMMAND|SVN_OPTIONS|SVN_UPDATE_OPTIONS|TEST_LOAD|TEST_TIMEOUT|TRIGGER_SITE|UPDATE_COMMAND|UPDATE_OPTIONS|UPDATE_VERSION_ONLY|USE_LAUNCHERS)|CYGWIN|ENV|EXECUTABLE_OUTPUT_PATH|GHS-MULTI|IOS|LIBRARY_OUTPUT_PATH|MINGW|MSVC(?:10|11|12|14|60|70|71|80|90|_IDE|_TOOLSET_VERSION|_VERSION)?|MSYS|PROJECT_(?:BINARY_DIR|DESCRIPTION|HOMEPAGE_URL|NAME|SOURCE_DIR|VERSION|VERSION_(?:MAJOR|MINOR|PATCH|TWEAK))|UNIX|WIN32|WINCE|WINDOWS_PHONE|WINDOWS_STORE|XCODE|XCODE_VERSION))\b/,property:/\b(?:cxx_\w+|(?:ARCHIVE_OUTPUT_(?:DIRECTORY|NAME)|COMPILE_DEFINITIONS|COMPILE_PDB_NAME|COMPILE_PDB_OUTPUT_DIRECTORY|EXCLUDE_FROM_DEFAULT_BUILD|IMPORTED_(?:IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_LANGUAGES|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|NO_SONAME|OBJECTS|SONAME)|INTERPROCEDURAL_OPTIMIZATION|LIBRARY_OUTPUT_DIRECTORY|LIBRARY_OUTPUT_NAME|LINK_FLAGS|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|MAP_IMPORTED_CONFIG|OSX_ARCHITECTURES|OUTPUT_NAME|PDB_NAME|PDB_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_NAME|STATIC_LIBRARY_FLAGS|VS_CSHARP|VS_DOTNET_REFERENCEPROP|VS_DOTNET_REFERENCE|VS_GLOBAL_SECTION_POST|VS_GLOBAL_SECTION_PRE|VS_GLOBAL|XCODE_ATTRIBUTE)_\w+|\w+_(?:CLANG_TIDY|COMPILER_LAUNCHER|CPPCHECK|CPPLINT|INCLUDE_WHAT_YOU_USE|OUTPUT_NAME|POSTFIX|VISIBILITY_PRESET)|ABSTRACT|ADDITIONAL_MAKE_CLEAN_FILES|ADVANCED|ALIASED_TARGET|ALLOW_DUPLICATE_CUSTOM_TARGETS|ANDROID_(?:ANT_ADDITIONAL_OPTIONS|API|API_MIN|ARCH|ASSETS_DIRECTORIES|GUI|JAR_DEPENDENCIES|NATIVE_LIB_DEPENDENCIES|NATIVE_LIB_DIRECTORIES|PROCESS_MAX|PROGUARD|PROGUARD_CONFIG_PATH|SECURE_PROPS_PATH|SKIP_ANT_STEP|STL_TYPE)|ARCHIVE_OUTPUT_DIRECTORY|ATTACHED_FILES|ATTACHED_FILES_ON_FAIL|AUTOGEN_(?:BUILD_DIR|ORIGIN_DEPENDS|PARALLEL|SOURCE_GROUP|TARGETS_FOLDER|TARGET_DEPENDS)|AUTOMOC|AUTOMOC_(?:COMPILER_PREDEFINES|DEPEND_FILTERS|EXECUTABLE|MACRO_NAMES|MOC_OPTIONS|SOURCE_GROUP|TARGETS_FOLDER)|AUTORCC|AUTORCC_EXECUTABLE|AUTORCC_OPTIONS|AUTORCC_SOURCE_GROUP|AUTOUIC|AUTOUIC_EXECUTABLE|AUTOUIC_OPTIONS|AUTOUIC_SEARCH_PATHS|BINARY_DIR|BUILDSYSTEM_TARGETS|BUILD_RPATH|BUILD_RPATH_USE_ORIGIN|BUILD_WITH_INSTALL_NAME_DIR|BUILD_WITH_INSTALL_RPATH|BUNDLE|BUNDLE_EXTENSION|CACHE_VARIABLES|CLEAN_NO_CUSTOM|COMMON_LANGUAGE_RUNTIME|COMPATIBLE_INTERFACE_(?:BOOL|NUMBER_MAX|NUMBER_MIN|STRING)|COMPILE_(?:DEFINITIONS|FEATURES|FLAGS|OPTIONS|PDB_NAME|PDB_OUTPUT_DIRECTORY)|COST|CPACK_DESKTOP_SHORTCUTS|CPACK_NEVER_OVERWRITE|CPACK_PERMANENT|CPACK_STARTUP_SHORTCUTS|CPACK_START_MENU_SHORTCUTS|CPACK_WIX_ACL|CROSSCOMPILING_EMULATOR|CUDA_EXTENSIONS|CUDA_PTX_COMPILATION|CUDA_RESOLVE_DEVICE_SYMBOLS|CUDA_SEPARABLE_COMPILATION|CUDA_STANDARD|CUDA_STANDARD_REQUIRED|CXX_EXTENSIONS|CXX_STANDARD|CXX_STANDARD_REQUIRED|C_EXTENSIONS|C_STANDARD|C_STANDARD_REQUIRED|DEBUG_CONFIGURATIONS|DEFINE_SYMBOL|DEFINITIONS|DEPENDS|DEPLOYMENT_ADDITIONAL_FILES|DEPLOYMENT_REMOTE_DIRECTORY|DISABLED|DISABLED_FEATURES|ECLIPSE_EXTRA_CPROJECT_CONTENTS|ECLIPSE_EXTRA_NATURES|ENABLED_FEATURES|ENABLED_LANGUAGES|ENABLE_EXPORTS|ENVIRONMENT|EXCLUDE_FROM_ALL|EXCLUDE_FROM_DEFAULT_BUILD|EXPORT_NAME|EXPORT_PROPERTIES|EXTERNAL_OBJECT|EchoString|FAIL_REGULAR_EXPRESSION|FIND_LIBRARY_USE_LIB32_PATHS|FIND_LIBRARY_USE_LIB64_PATHS|FIND_LIBRARY_USE_LIBX32_PATHS|FIND_LIBRARY_USE_OPENBSD_VERSIONING|FIXTURES_CLEANUP|FIXTURES_REQUIRED|FIXTURES_SETUP|FOLDER|FRAMEWORK|Fortran_FORMAT|Fortran_MODULE_DIRECTORY|GENERATED|GENERATOR_FILE_NAME|GENERATOR_IS_MULTI_CONFIG|GHS_INTEGRITY_APP|GHS_NO_SOURCE_GROUP_FILE|GLOBAL_DEPENDS_DEBUG_MODE|GLOBAL_DEPENDS_NO_CYCLES|GNUtoMS|HAS_CXX|HEADER_FILE_ONLY|HELPSTRING|IMPLICIT_DEPENDS_INCLUDE_TRANSFORM|IMPORTED|IMPORTED_(?:COMMON_LANGUAGE_RUNTIME|CONFIGURATIONS|GLOBAL|IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_(?:LANGUAGES|LIBRARIES|MULTIPLICITY)|LOCATION|NO_SONAME|OBJECTS|SONAME)|IMPORT_PREFIX|IMPORT_SUFFIX|INCLUDE_DIRECTORIES|INCLUDE_REGULAR_EXPRESSION|INSTALL_NAME_DIR|INSTALL_RPATH|INSTALL_RPATH_USE_LINK_PATH|INTERFACE_(?:AUTOUIC_OPTIONS|COMPILE_DEFINITIONS|COMPILE_FEATURES|COMPILE_OPTIONS|INCLUDE_DIRECTORIES|LINK_DEPENDS|LINK_DIRECTORIES|LINK_LIBRARIES|LINK_OPTIONS|POSITION_INDEPENDENT_CODE|SOURCES|SYSTEM_INCLUDE_DIRECTORIES)|INTERPROCEDURAL_OPTIMIZATION|IN_TRY_COMPILE|IOS_INSTALL_COMBINED|JOB_POOLS|JOB_POOL_COMPILE|JOB_POOL_LINK|KEEP_EXTENSION|LABELS|LANGUAGE|LIBRARY_OUTPUT_DIRECTORY|LINKER_LANGUAGE|LINK_(?:DEPENDS|DEPENDS_NO_SHARED|DIRECTORIES|FLAGS|INTERFACE_LIBRARIES|INTERFACE_MULTIPLICITY|LIBRARIES|OPTIONS|SEARCH_END_STATIC|SEARCH_START_STATIC|WHAT_YOU_USE)|LISTFILE_STACK|LOCATION|MACOSX_BUNDLE|MACOSX_BUNDLE_INFO_PLIST|MACOSX_FRAMEWORK_INFO_PLIST|MACOSX_PACKAGE_LOCATION|MACOSX_RPATH|MACROS|MANUALLY_ADDED_DEPENDENCIES|MEASUREMENT|MODIFIED|NAME|NO_SONAME|NO_SYSTEM_FROM_IMPORTED|OBJECT_DEPENDS|OBJECT_OUTPUTS|OSX_ARCHITECTURES|OUTPUT_NAME|PACKAGES_FOUND|PACKAGES_NOT_FOUND|PARENT_DIRECTORY|PASS_REGULAR_EXPRESSION|PDB_NAME|PDB_OUTPUT_DIRECTORY|POSITION_INDEPENDENT_CODE|POST_INSTALL_SCRIPT|PREDEFINED_TARGETS_FOLDER|PREFIX|PRE_INSTALL_SCRIPT|PRIVATE_HEADER|PROCESSORS|PROCESSOR_AFFINITY|PROJECT_LABEL|PUBLIC_HEADER|REPORT_UNDEFINED_PROPERTIES|REQUIRED_FILES|RESOURCE|RESOURCE_LOCK|RULE_LAUNCH_COMPILE|RULE_LAUNCH_CUSTOM|RULE_LAUNCH_LINK|RULE_MESSAGES|RUNTIME_OUTPUT_DIRECTORY|RUN_SERIAL|SKIP_AUTOGEN|SKIP_AUTOMOC|SKIP_AUTORCC|SKIP_AUTOUIC|SKIP_BUILD_RPATH|SKIP_RETURN_CODE|SOURCES|SOURCE_DIR|SOVERSION|STATIC_LIBRARY_FLAGS|STATIC_LIBRARY_OPTIONS|STRINGS|SUBDIRECTORIES|SUFFIX|SYMBOLIC|TARGET_ARCHIVES_MAY_BE_SHARED_LIBS|TARGET_MESSAGES|TARGET_SUPPORTS_SHARED_LIBS|TESTS|TEST_INCLUDE_FILE|TEST_INCLUDE_FILES|TIMEOUT|TIMEOUT_AFTER_MATCH|TYPE|USE_FOLDERS|VALUE|VARIABLES|VERSION|VISIBILITY_INLINES_HIDDEN|VS_(?:CONFIGURATION_TYPE|COPY_TO_OUT_DIR|DEBUGGER_(?:COMMAND|COMMAND_ARGUMENTS|ENVIRONMENT|WORKING_DIRECTORY)|DEPLOYMENT_CONTENT|DEPLOYMENT_LOCATION|DOTNET_REFERENCES|DOTNET_REFERENCES_COPY_LOCAL|GLOBAL_KEYWORD|GLOBAL_PROJECT_TYPES|GLOBAL_ROOTNAMESPACE|INCLUDE_IN_VSIX|IOT_STARTUP_TASK|KEYWORD|RESOURCE_GENERATOR|SCC_AUXPATH|SCC_LOCALPATH|SCC_PROJECTNAME|SCC_PROVIDER|SDK_REFERENCES|SHADER_(?:DISABLE_OPTIMIZATIONS|ENABLE_DEBUG|ENTRYPOINT|FLAGS|MODEL|OBJECT_FILE_NAME|OUTPUT_HEADER_FILE|TYPE|VARIABLE_NAME)|STARTUP_PROJECT|TOOL_OVERRIDE|USER_PROPS|WINRT_COMPONENT|WINRT_EXTENSIONS|WINRT_REFERENCES|XAML_TYPE)|WILL_FAIL|WIN32_EXECUTABLE|WINDOWS_EXPORT_ALL_SYMBOLS|WORKING_DIRECTORY|WRAP_EXCLUDE|XCODE_(?:EMIT_EFFECTIVE_PLATFORM_NAME|EXPLICIT_FILE_TYPE|FILE_ATTRIBUTES|LAST_KNOWN_FILE_TYPE|PRODUCT_TYPE|SCHEME_(?:ADDRESS_SANITIZER|ADDRESS_SANITIZER_USE_AFTER_RETURN|ARGUMENTS|DISABLE_MAIN_THREAD_CHECKER|DYNAMIC_LIBRARY_LOADS|DYNAMIC_LINKER_API_USAGE|ENVIRONMENT|EXECUTABLE|GUARD_MALLOC|MAIN_THREAD_CHECKER_STOP|MALLOC_GUARD_EDGES|MALLOC_SCRIBBLE|MALLOC_STACK|THREAD_SANITIZER(?:_STOP)?|UNDEFINED_BEHAVIOUR_SANITIZER(?:_STOP)?|ZOMBIE_OBJECTS))|XCTEST)\b/,keyword:/\b(?:add_compile_definitions|add_compile_options|add_custom_command|add_custom_target|add_definitions|add_dependencies|add_executable|add_library|add_link_options|add_subdirectory|add_test|aux_source_directory|break|build_command|build_name|cmake_host_system_information|cmake_minimum_required|cmake_parse_arguments|cmake_policy|configure_file|continue|create_test_sourcelist|ctest_build|ctest_configure|ctest_coverage|ctest_empty_binary_directory|ctest_memcheck|ctest_read_custom_files|ctest_run_script|ctest_sleep|ctest_start|ctest_submit|ctest_test|ctest_update|ctest_upload|define_property|else|elseif|enable_language|enable_testing|endforeach|endfunction|endif|endmacro|endwhile|exec_program|execute_process|export|export_library_dependencies|file|find_file|find_library|find_package|find_path|find_program|fltk_wrap_ui|foreach|function|get_cmake_property|get_directory_property|get_filename_component|get_property|get_source_file_property|get_target_property|get_test_property|if|include|include_directories|include_external_msproject|include_guard|include_regular_expression|install|install_files|install_programs|install_targets|link_directories|link_libraries|list|load_cache|load_command|macro|make_directory|mark_as_advanced|math|message|option|output_required_files|project|qt_wrap_cpp|qt_wrap_ui|remove|remove_definitions|return|separate_arguments|set|set_directory_properties|set_property|set_source_files_properties|set_target_properties|set_tests_properties|site_name|source_group|string|subdir_depends|subdirs|target_compile_definitions|target_compile_features|target_compile_options|target_include_directories|target_link_directories|target_link_libraries|target_link_options|target_sources|try_compile|try_run|unset|use_mangled_mesa|utility_source|variable_requires|variable_watch|while|write_file)(?=\s*\()\b/,boolean:/\b(?:FALSE|OFF|ON|TRUE)\b/,namespace:/\b(?:INTERFACE|PRIVATE|PROPERTIES|PUBLIC|SHARED|STATIC|TARGET_OBJECTS)\b/,operator:/\b(?:AND|DEFINED|EQUAL|GREATER|LESS|MATCHES|NOT|OR|STREQUAL|STRGREATER|STRLESS|VERSION_EQUAL|VERSION_GREATER|VERSION_LESS)\b/,inserted:{pattern:/\b\w+::\w+\b/,alias:"class-name"},number:/\b\d+(?:\.\d+)*\b/,function:/\b[a-z_]\w*(?=\s*\()\b/i,punctuation:/[()>}]|\$[<{]/}}e.exports=t,t.displayName="cmake",t.aliases=[]},59808:function(e){"use strict";function t(e){e.languages.cobol={comment:{pattern:/\*>.*|(^[ \t]*)\*.*/m,lookbehind:!0,greedy:!0},string:{pattern:/[xzgn]?(?:"(?:[^\r\n"]|"")*"(?!")|'(?:[^\r\n']|'')*'(?!'))/i,greedy:!0},level:{pattern:/(^[ \t]*)\d+\b/m,lookbehind:!0,greedy:!0,alias:"number"},"class-name":{pattern:/(\bpic(?:ture)?\s+)(?:(?:[-\w$/,:*+<>]|\.(?!\s|$))(?:\(\d+\))?)+/i,lookbehind:!0,inside:{number:{pattern:/(\()\d+/,lookbehind:!0},punctuation:/[()]/}},keyword:{pattern:/(^|[^\w-])(?:ABORT|ACCEPT|ACCESS|ADD|ADDRESS|ADVANCING|AFTER|ALIGNED|ALL|ALPHABET|ALPHABETIC|ALPHABETIC-LOWER|ALPHABETIC-UPPER|ALPHANUMERIC|ALPHANUMERIC-EDITED|ALSO|ALTER|ALTERNATE|ANY|ARE|AREA|AREAS|AS|ASCENDING|ASCII|ASSIGN|ASSOCIATED-DATA|ASSOCIATED-DATA-LENGTH|AT|ATTRIBUTE|AUTHOR|AUTO|AUTO-SKIP|BACKGROUND-COLOR|BACKGROUND-COLOUR|BASIS|BEEP|BEFORE|BEGINNING|BELL|BINARY|BIT|BLANK|BLINK|BLOCK|BOTTOM|BOUNDS|BY|BYFUNCTION|BYTITLE|CALL|CANCEL|CAPABLE|CCSVERSION|CD|CF|CH|CHAINING|CHANGED|CHANNEL|CHARACTER|CHARACTERS|CLASS|CLASS-ID|CLOCK-UNITS|CLOSE|CLOSE-DISPOSITION|COBOL|CODE|CODE-SET|COL|COLLATING|COLUMN|COM-REG|COMMA|COMMITMENT|COMMON|COMMUNICATION|COMP|COMP-1|COMP-2|COMP-3|COMP-4|COMP-5|COMPUTATIONAL|COMPUTATIONAL-1|COMPUTATIONAL-2|COMPUTATIONAL-3|COMPUTATIONAL-4|COMPUTATIONAL-5|COMPUTE|CONFIGURATION|CONTAINS|CONTENT|CONTINUE|CONTROL|CONTROL-POINT|CONTROLS|CONVENTION|CONVERTING|COPY|CORR|CORRESPONDING|COUNT|CRUNCH|CURRENCY|CURSOR|DATA|DATA-BASE|DATE|DATE-COMPILED|DATE-WRITTEN|DAY|DAY-OF-WEEK|DBCS|DE|DEBUG-CONTENTS|DEBUG-ITEM|DEBUG-LINE|DEBUG-NAME|DEBUG-SUB-1|DEBUG-SUB-2|DEBUG-SUB-3|DEBUGGING|DECIMAL-POINT|DECLARATIVES|DEFAULT|DEFAULT-DISPLAY|DEFINITION|DELETE|DELIMITED|DELIMITER|DEPENDING|DESCENDING|DESTINATION|DETAIL|DFHRESP|DFHVALUE|DISABLE|DISK|DISPLAY|DISPLAY-1|DIVIDE|DIVISION|DONTCARE|DOUBLE|DOWN|DUPLICATES|DYNAMIC|EBCDIC|EGCS|EGI|ELSE|EMI|EMPTY-CHECK|ENABLE|END|END-ACCEPT|END-ADD|END-CALL|END-COMPUTE|END-DELETE|END-DIVIDE|END-EVALUATE|END-IF|END-MULTIPLY|END-OF-PAGE|END-PERFORM|END-READ|END-RECEIVE|END-RETURN|END-REWRITE|END-SEARCH|END-START|END-STRING|END-SUBTRACT|END-UNSTRING|END-WRITE|ENDING|ENTER|ENTRY|ENTRY-PROCEDURE|ENVIRONMENT|EOL|EOP|EOS|ERASE|ERROR|ESCAPE|ESI|EVALUATE|EVENT|EVERY|EXCEPTION|EXCLUSIVE|EXHIBIT|EXIT|EXPORT|EXTEND|EXTENDED|EXTERNAL|FD|FILE|FILE-CONTROL|FILLER|FINAL|FIRST|FOOTING|FOR|FOREGROUND-COLOR|FOREGROUND-COLOUR|FROM|FULL|FUNCTION|FUNCTION-POINTER|FUNCTIONNAME|GENERATE|GIVING|GLOBAL|GO|GOBACK|GRID|GROUP|HEADING|HIGH-VALUE|HIGH-VALUES|HIGHLIGHT|I-O|I-O-CONTROL|ID|IDENTIFICATION|IF|IMPLICIT|IMPORT|IN|INDEX|INDEXED|INDICATE|INITIAL|INITIALIZE|INITIATE|INPUT|INPUT-OUTPUT|INSPECT|INSTALLATION|INTEGER|INTO|INVALID|INVOKE|IS|JUST|JUSTIFIED|KANJI|KEPT|KEY|KEYBOARD|LABEL|LANGUAGE|LAST|LB|LD|LEADING|LEFT|LEFTLINE|LENGTH|LENGTH-CHECK|LIBACCESS|LIBPARAMETER|LIBRARY|LIMIT|LIMITS|LINAGE|LINAGE-COUNTER|LINE|LINE-COUNTER|LINES|LINKAGE|LIST|LOCAL|LOCAL-STORAGE|LOCK|LONG-DATE|LONG-TIME|LOW-VALUE|LOW-VALUES|LOWER|LOWLIGHT|MEMORY|MERGE|MESSAGE|MMDDYYYY|MODE|MODULES|MORE-LABELS|MOVE|MULTIPLE|MULTIPLY|NAMED|NATIONAL|NATIONAL-EDITED|NATIVE|NEGATIVE|NETWORK|NEXT|NO|NO-ECHO|NULL|NULLS|NUMBER|NUMERIC|NUMERIC-DATE|NUMERIC-EDITED|NUMERIC-TIME|OBJECT-COMPUTER|OCCURS|ODT|OF|OFF|OMITTED|ON|OPEN|OPTIONAL|ORDER|ORDERLY|ORGANIZATION|OTHER|OUTPUT|OVERFLOW|OVERLINE|OWN|PACKED-DECIMAL|PADDING|PAGE|PAGE-COUNTER|PASSWORD|PERFORM|PF|PH|PIC|PICTURE|PLUS|POINTER|PORT|POSITION|POSITIVE|PRINTER|PRINTING|PRIVATE|PROCEDURE|PROCEDURE-POINTER|PROCEDURES|PROCEED|PROCESS|PROGRAM|PROGRAM-ID|PROGRAM-LIBRARY|PROMPT|PURGE|QUEUE|QUOTE|QUOTES|RANDOM|RD|READ|READER|REAL|RECEIVE|RECEIVED|RECORD|RECORDING|RECORDS|RECURSIVE|REDEFINES|REEL|REF|REFERENCE|REFERENCES|RELATIVE|RELEASE|REMAINDER|REMARKS|REMOTE|REMOVAL|REMOVE|RENAMES|REPLACE|REPLACING|REPORT|REPORTING|REPORTS|REQUIRED|RERUN|RESERVE|RESET|RETURN|RETURN-CODE|RETURNING|REVERSE-VIDEO|REVERSED|REWIND|REWRITE|RF|RH|RIGHT|ROUNDED|RUN|SAME|SAVE|SCREEN|SD|SEARCH|SECTION|SECURE|SECURITY|SEGMENT|SEGMENT-LIMIT|SELECT|SEND|SENTENCE|SEPARATE|SEQUENCE|SEQUENTIAL|SET|SHARED|SHAREDBYALL|SHAREDBYRUNUNIT|SHARING|SHIFT-IN|SHIFT-OUT|SHORT-DATE|SIGN|SIZE|SORT|SORT-CONTROL|SORT-CORE-SIZE|SORT-FILE-SIZE|SORT-MERGE|SORT-MESSAGE|SORT-MODE-SIZE|SORT-RETURN|SOURCE|SOURCE-COMPUTER|SPACE|SPACES|SPECIAL-NAMES|STANDARD|STANDARD-1|STANDARD-2|START|STATUS|STOP|STRING|SUB-QUEUE-1|SUB-QUEUE-2|SUB-QUEUE-3|SUBTRACT|SUM|SUPPRESS|SYMBOL|SYMBOLIC|SYNC|SYNCHRONIZED|TABLE|TALLY|TALLYING|TAPE|TASK|TERMINAL|TERMINATE|TEST|TEXT|THEN|THREAD|THREAD-LOCAL|THROUGH|THRU|TIME|TIMER|TIMES|TITLE|TO|TODAYS-DATE|TODAYS-NAME|TOP|TRAILING|TRUNCATED|TYPE|TYPEDEF|UNDERLINE|UNIT|UNSTRING|UNTIL|UP|UPON|USAGE|USE|USING|VALUE|VALUES|VARYING|VIRTUAL|WAIT|WHEN|WHEN-COMPILED|WITH|WORDS|WORKING-STORAGE|WRITE|YEAR|YYYYDDD|YYYYMMDD|ZERO-FILL|ZEROES|ZEROS)(?![\w-])/i,lookbehind:!0},boolean:{pattern:/(^|[^\w-])(?:false|true)(?![\w-])/i,lookbehind:!0},number:{pattern:/(^|[^\w-])(?:[+-]?(?:(?:\d+(?:[.,]\d+)?|[.,]\d+)(?:e[+-]?\d+)?|zero))(?![\w-])/i,lookbehind:!0},operator:[/<>|[<>]=?|[=+*/&]/,{pattern:/(^|[^\w-])(?:-|and|equal|greater|less|not|or|than)(?![\w-])/i,lookbehind:!0}],punctuation:/[.:,()]/}}e.exports=t,t.displayName="cobol",t.aliases=[]},645:function(e){"use strict";function t(e){var t,n;t=/#(?!\{).+/,n={pattern:/#\{[^}]+\}/,alias:"variable"},e.languages.coffeescript=e.languages.extend("javascript",{comment:t,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:n}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),e.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:t,interpolation:n}}}),e.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:e.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:n}}]}),e.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete e.languages.coffeescript["template-string"],e.languages.coffee=e.languages.coffeescript}e.exports=t,t.displayName="coffeescript",t.aliases=["coffee"]},34471:function(e){"use strict";function t(e){e.languages.concurnas={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\/\/.*)/,lookbehind:!0,greedy:!0},langext:{pattern:/\b\w+\s*\|\|[\s\S]+?\|\|/,greedy:!0,inside:{"class-name":/^\w+/,string:{pattern:/(^\s*\|\|)[\s\S]+(?=\|\|$)/,lookbehind:!0},punctuation:/\|\|/}},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/,lookbehind:!0},keyword:/\b(?:abstract|actor|also|annotation|assert|async|await|bool|boolean|break|byte|case|catch|changed|char|class|closed|constant|continue|def|default|del|double|elif|else|enum|every|extends|false|finally|float|for|from|global|gpudef|gpukernel|if|import|in|init|inject|int|lambda|local|long|loop|match|new|nodefault|null|of|onchange|open|out|override|package|parfor|parforsync|post|pre|private|protected|provide|provider|public|return|shared|short|single|size_t|sizeof|super|sync|this|throw|trait|trans|transient|true|try|typedef|unchecked|using|val|var|void|while|with)\b/,boolean:/\b(?:false|true)\b/,number:/\b0b[01][01_]*L?\b|\b0x(?:[\da-f_]*\.)?[\da-f_p+-]+\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfls]?/i,punctuation:/[{}[\];(),.:]/,operator:/<==|>==|=>|->|<-|<>|&==|&<>|\?:?|\.\?|\+\+|--|[-+*/=<>]=?|[!^~]|\b(?:and|as|band|bor|bxor|comp|is|isnot|mod|or)\b=?/,annotation:{pattern:/@(?:\w+:)?(?:\w+|\[[^\]]+\])?/,alias:"builtin"}},e.languages.insertBefore("concurnas","langext",{"regex-literal":{pattern:/\br("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:e.languages.concurnas},regex:/[\s\S]+/}},"string-literal":{pattern:/(?:\B|\bs)("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:e.languages.concurnas},string:/[\s\S]+/}}}),e.languages.conc=e.languages.concurnas}e.exports=t,t.displayName="concurnas",t.aliases=["conc"]},37712:function(e){"use strict";function t(e){!function(e){for(var t=/\(\*(?:[^(*]|\((?!\*)|\*(?!\))|<self>)*\*\)/.source,n=0;n<2;n++)t=t.replace(/<self>/g,function(){return t});t=t.replace(/<self>/g,"[]"),e.languages.coq={comment:RegExp(t),string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},attribute:[{pattern:RegExp(/#\[(?:[^\[\]("]|"(?:[^"]|"")*"(?!")|\((?!\*)|<comment>)*\]/.source.replace(/<comment>/g,function(){return t})),greedy:!0,alias:"attr-name",inside:{comment:RegExp(t),string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},operator:/=/,punctuation:/^#\[|\]$|[,()]/}},{pattern:/\b(?:Cumulative|Global|Local|Monomorphic|NonCumulative|Polymorphic|Private|Program)\b/,alias:"attr-name"}],keyword:/\b(?:Abort|About|Add|Admit|Admitted|All|Arguments|As|Assumptions|Axiom|Axioms|Back|BackTo|Backtrace|BinOp|BinOpSpec|BinRel|Bind|Blacklist|Canonical|Case|Cd|Check|Class|Classes|Close|CoFixpoint|CoInductive|Coercion|Coercions|Collection|Combined|Compute|Conjecture|Conjectures|Constant|Constants|Constraint|Constructors|Context|Corollary|Create|CstOp|Custom|Cut|Debug|Declare|Defined|Definition|Delimit|Dependencies|Dependent|Derive|Diffs|Drop|Elimination|End|Entry|Equality|Eval|Example|Existential|Existentials|Existing|Export|Extern|Extraction|Fact|Fail|Field|File|Firstorder|Fixpoint|Flags|Focus|From|Funclass|Function|Functional|GC|Generalizable|Goal|Grab|Grammar|Graph|Guarded|Haskell|Heap|Hide|Hint|HintDb|Hints|Hypotheses|Hypothesis|IF|Identity|Immediate|Implicit|Implicits|Import|Include|Induction|Inductive|Infix|Info|Initial|InjTyp|Inline|Inspect|Instance|Instances|Intro|Intros|Inversion|Inversion_clear|JSON|Language|Left|Lemma|Let|Lia|Libraries|Library|Load|LoadPath|Locate|Ltac|Ltac2|ML|Match|Method|Minimality|Module|Modules|Morphism|Next|NoInline|Notation|Number|OCaml|Obligation|Obligations|Opaque|Open|Optimize|Parameter|Parameters|Parametric|Path|Paths|Prenex|Preterm|Primitive|Print|Profile|Projections|Proof|Prop|PropBinOp|PropOp|PropUOp|Property|Proposition|Pwd|Qed|Quit|Rec|Record|Recursive|Redirect|Reduction|Register|Relation|Remark|Remove|Require|Reserved|Reset|Resolve|Restart|Rewrite|Right|Ring|Rings|SProp|Saturate|Save|Scheme|Scope|Scopes|Search|SearchHead|SearchPattern|SearchRewrite|Section|Separate|Set|Setoid|Show|Signatures|Solve|Solver|Sort|Sortclass|Sorted|Spec|Step|Strategies|Strategy|String|Structure|SubClass|Subgraph|SuchThat|Tactic|Term|TestCompile|Theorem|Time|Timeout|To|Transparent|Type|Typeclasses|Types|Typing|UnOp|UnOpSpec|Undelimit|Undo|Unfocus|Unfocused|Unfold|Universe|Universes|Unshelve|Variable|Variables|Variant|Verbose|View|Visibility|Zify|_|apply|as|at|by|cofix|else|end|exists|exists2|fix|for|forall|fun|if|in|let|match|measure|move|removed|return|struct|then|using|wf|where|with)\b/,number:/\b(?:0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]+)?(?:p[+-]?\d[\d_]*)?|\d[\d_]*(?:\.[\d_]+)?(?:e[+-]?\d[\d_]*)?)\b/i,punct:{pattern:/@\{|\{\||\[=|:>/,alias:"punctuation"},operator:/\/\\|\\\/|\.{2,3}|:{1,2}=|\*\*|[-=]>|<(?:->?|[+:=>]|<:)|>(?:=|->)|\|[-|]?|[-!%&*+/<=>?@^~']/,punctuation:/\.\(|`\(|@\{|`\{|\{\||\[=|:>|[:.,;(){}\[\]]/}}(e)}e.exports=t,t.displayName="coq",t.aliases=[]},2932:function(e,t,n){"use strict";var r=n(22838);function i(e){var t,n;e.register(r),t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return t.source}),e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return n})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}e.exports=i,i.displayName="cpp",i.aliases=[]},56658:function(e,t,n){"use strict";var r=n(22816);function i(e){e.register(r),e.languages.crystal=e.languages.extend("ruby",{keyword:[/\b(?:__DIR__|__END_LINE__|__FILE__|__LINE__|abstract|alias|annotation|as|asm|begin|break|case|class|def|do|else|elsif|end|ensure|enum|extend|for|fun|if|ifdef|include|instance_sizeof|lib|macro|module|next|of|out|pointerof|private|protected|ptr|require|rescue|return|select|self|sizeof|struct|super|then|type|typeof|undef|uninitialized|union|unless|until|when|while|with|yield)\b/,{pattern:/(\.\s*)(?:is_a|responds_to)\?/,lookbehind:!0}],number:/\b(?:0b[01_]*[01]|0o[0-7_]*[0-7]|0x[\da-fA-F_]*[\da-fA-F]|(?:\d(?:[\d_]*\d)?)(?:\.[\d_]*\d)?(?:[eE][+-]?[\d_]*\d)?)(?:_(?:[uif](?:8|16|32|64))?)?\b/,operator:[/->/,e.languages.ruby.operator],punctuation:/[(){}[\].,;\\]/}),e.languages.insertBefore("crystal","string-literal",{attribute:{pattern:/@\[.*?\]/,inside:{delimiter:{pattern:/^@\[|\]$/,alias:"punctuation"},attribute:{pattern:/^(\s*)\w+/,lookbehind:!0,alias:"class-name"},args:{pattern:/\S(?:[\s\S]*\S)?/,inside:e.languages.crystal}}},expansion:{pattern:/\{(?:\{.*?\}|%.*?%)\}/,inside:{content:{pattern:/^(\{.)[\s\S]+(?=.\}$)/,lookbehind:!0,inside:e.languages.crystal},delimiter:{pattern:/^\{[\{%]|[\}%]\}$/,alias:"operator"}}},char:{pattern:/'(?:[^\\\r\n]{1,2}|\\(?:.|u(?:[A-Fa-f0-9]{1,4}|\{[A-Fa-f0-9]{1,6}\})))'/,greedy:!0}})}e.exports=i,i.displayName="crystal",i.aliases=[]},82025:function(e){"use strict";function t(e){!function(e){function t(e,t){return e.replace(/<<(\d+)>>/g,function(e,n){return"(?:"+t[+n]+")"})}function n(e,n,r){return RegExp(t(e,n),r||"")}function r(e,t){for(var n=0;n<t;n++)e=e.replace(/<<self>>/g,function(){return"(?:"+e+")"});return e.replace(/<<self>>/g,"[^\\s\\S]")}var i={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function o(e){return"\\b(?:"+e.trim().replace(/ /g,"|")+")\\b"}var a=o(i.typeDeclaration),s=RegExp(o(i.type+" "+i.typeDeclaration+" "+i.contextual+" "+i.other)),l=o(i.typeDeclaration+" "+i.contextual+" "+i.other),c=o(i.type+" "+i.typeDeclaration+" "+i.other),u=r(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),d=r(/\((?:[^()]|<<self>>)*\)/.source,2),p=/@?\b[A-Za-z_]\w*\b/.source,h=t(/<<0>>(?:\s*<<1>>)?/.source,[p,u]),f=t(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[l,h]),g=/\[\s*(?:,\s*)*\]/.source,m=t(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[f,g]),b=t(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[u,d,g]),v=t(/\(<<0>>+(?:,<<0>>+)+\)/.source,[b]),y=t(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[v,f,g]),E={keyword:s,punctuation:/[<>()?,.:[\]]/},_=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,x=/"(?:\\.|[^\\"\r\n])*"/.source,S=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[S]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[x]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[f]),lookbehind:!0,inside:E},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[p,y]),lookbehind:!0,inside:E},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[p]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[a,h]),lookbehind:!0,inside:E},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[f]),lookbehind:!0,inside:E},{pattern:n(/(\bwhere\s+)<<0>>/.source,[p]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[m]),lookbehind:!0,inside:E},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[y,c,p]),inside:E}],keyword:s,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[p]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[p]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[d]),lookbehind:!0,alias:"class-name",inside:E},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[y,f]),inside:E,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[y]),lookbehind:!0,inside:E,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[p,u]),inside:{function:n(/^<<0>>/.source,[p]),generic:{pattern:RegExp(u),alias:"class-name",inside:E}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[a,h,p,y,s.source,d,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[h,d]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:s,"class-name":{pattern:RegExp(y),greedy:!0,inside:E},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var A=x+"|"+_,C=t(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[A]),w=r(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[C]),2),O=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,I=t(/<<0>>(?:\s*\(<<1>>*\))?/.source,[f,w]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[O,I]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[O]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[w]),inside:e.languages.csharp},"class-name":{pattern:RegExp(f),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var L=/:[^}\r\n]+/.source,R=r(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[C]),2),k=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[R,L]),N=r(t(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[A]),2),M=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[N,L]);function D(t,r){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[t]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[r,L]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[k]),lookbehind:!0,greedy:!0,inside:D(k,R)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[M]),lookbehind:!0,greedy:!0,inside:D(M,N)}],char:{pattern:RegExp(_),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp}(e)}e.exports=t,t.displayName="csharp",t.aliases=["dotnet","cs"]},14226:function(e,t,n){"use strict";var r=n(82025);function i(e){e.register(r),function(e){var t=/\/(?![/*])|\/\/.*[\r\n]|\/\*[^*]*(?:\*(?!\/)[^*]*)*\*\//.source,n=/@(?!")|"(?:[^\r\n\\"]|\\.)*"|@"(?:[^\\"]|""|\\[\s\S])*"(?!")/.source+"|"+/'(?:(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'|(?=[^\\](?!')))/.source;function r(e,r){for(var i=0;i<r;i++)e=e.replace(/<self>/g,function(){return"(?:"+e+")"});return e.replace(/<self>/g,"[^\\s\\S]").replace(/<str>/g,"(?:"+n+")").replace(/<comment>/g,"(?:"+t+")")}var i=r(/\((?:[^()'"@/]|<str>|<comment>|<self>)*\)/.source,2),o=r(/\[(?:[^\[\]'"@/]|<str>|<comment>|<self>)*\]/.source,2),a=r(/\{(?:[^{}'"@/]|<str>|<comment>|<self>)*\}/.source,2),s=r(/<(?:[^<>'"@/]|<str>|<comment>|<self>)*>/.source,2),l=/(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?/.source,c=/(?!\d)[^\s>\/=$<%]+/.source+l+/\s*\/?>/.source,u=/\B@?/.source+"(?:"+/<([a-zA-Z][\w:]*)/.source+l+/\s*>/.source+"(?:"+(/[^<]/.source+"|"+/<\/?(?!\1\b)/.source)+c+"|"+r(/<\1/.source+l+/\s*>/.source+"(?:"+(/[^<]/.source+"|")+/<\/?(?!\1\b)/.source+c+"|<self>)*"+/<\/\1\s*>/.source,2)+")*"+/<\/\1\s*>/.source+"|"+/</.source+c+")";e.languages.cshtml=e.languages.extend("markup",{});var d={pattern:/\S[\s\S]*/,alias:"language-csharp",inside:e.languages.insertBefore("csharp","string",{html:{pattern:RegExp(u),greedy:!0,inside:e.languages.cshtml}},{csharp:e.languages.extend("csharp",{})})};e.languages.insertBefore("cshtml","prolog",{"razor-comment":{pattern:/@\*[\s\S]*?\*@/,greedy:!0,alias:"comment"},block:{pattern:RegExp(/(^|[^@])@/.source+"(?:"+[a,/(?:code|functions)\s*/.source+a,/(?:for|foreach|lock|switch|using|while)\s*/.source+i+/\s*/.source+a,/do\s*/.source+a+/\s*while\s*/.source+i+/(?:\s*;)?/.source,/try\s*/.source+a+/\s*catch\s*/.source+i+/\s*/.source+a+/\s*finally\s*/.source+a,/if\s*/.source+i+/\s*/.source+a+"(?:"+/\s*else/.source+"(?:"+/\s+if\s*/.source+i+")?"+/\s*/.source+a+")*"].join("|")+")"),lookbehind:!0,greedy:!0,inside:{keyword:/^@\w*/,csharp:d}},directive:{pattern:/^([ \t]*)@(?:addTagHelper|attribute|implements|inherits|inject|layout|model|namespace|page|preservewhitespace|removeTagHelper|section|tagHelperPrefix|using)(?=\s).*/m,lookbehind:!0,greedy:!0,inside:{keyword:/^@\w+/,csharp:d}},value:{pattern:RegExp(/(^|[^@])@/.source+/(?:await\b\s*)?/.source+"(?:"+/\w+\b/.source+"|"+i+")(?:"+/[?!]?\.\w+\b/.source+"|"+i+"|"+o+"|"+s+i+")*"),lookbehind:!0,greedy:!0,alias:"variable",inside:{keyword:/^@/,csharp:d}},"delegate-operator":{pattern:/(^|[^@])@(?=<)/,lookbehind:!0,alias:"operator"}}),e.languages.razor=e.languages.cshtml}(e)}e.exports=i,i.displayName="cshtml",i.aliases=["razor"]},16205:function(e){"use strict";function t(e){!function(e){function t(e){return RegExp(/([ \t])/.source+"(?:"+e+")"+/(?=[\s;]|$)/.source,"i")}e.languages.csp={directive:{pattern:/(^|[\s;])(?:base-uri|block-all-mixed-content|(?:child|connect|default|font|frame|img|manifest|media|object|prefetch|script|style|worker)-src|disown-opener|form-action|frame-(?:ancestors|options)|input-protection(?:-(?:clip|selectors))?|navigate-to|plugin-types|policy-uri|referrer|reflected-xss|report-(?:to|uri)|require-sri-for|sandbox|(?:script|style)-src-(?:attr|elem)|upgrade-insecure-requests)(?=[\s;]|$)/i,lookbehind:!0,alias:"property"},scheme:{pattern:t(/[a-z][a-z0-9.+-]*:/.source),lookbehind:!0},none:{pattern:t(/'none'/.source),lookbehind:!0,alias:"keyword"},nonce:{pattern:t(/'nonce-[-+/\w=]+'/.source),lookbehind:!0,alias:"number"},hash:{pattern:t(/'sha(?:256|384|512)-[-+/\w=]+'/.source),lookbehind:!0,alias:"number"},host:{pattern:t(/[a-z][a-z0-9.+-]*:\/\/[^\s;,']*/.source+"|"+/\*[^\s;,']*/.source+"|"+/[a-z0-9-]+(?:\.[a-z0-9-]+)+(?::[\d*]+)?(?:\/[^\s;,']*)?/.source),lookbehind:!0,alias:"url",inside:{important:/\*/}},keyword:[{pattern:t(/'unsafe-[a-z-]+'/.source),lookbehind:!0,alias:"unsafe"},{pattern:t(/'[a-z-]+'/.source),lookbehind:!0,alias:"safe"}],punctuation:/;/}}(e)}e.exports=t,t.displayName="csp",t.aliases=[]},11605:function(e){"use strict";function t(e){!function(e){var t,n=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css.selector={pattern:e.languages.css.selector.pattern,lookbehind:!0,inside:t={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp("\\[(?:[^[\\]\"']|"+n.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[n,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},e.languages.css.atrule.inside["selector-function-argument"].inside=t,e.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}});var r={pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0},i={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};e.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#[\da-f]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:r,number:i,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:r,number:i})}(e)}e.exports=t,t.displayName="cssExtras",t.aliases=[]},40579:function(e){"use strict";function t(e){var t,n;t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css,(n=e.languages.markup)&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}e.exports=t,t.displayName="css",t.aliases=[]},64382:function(e){"use strict";function t(e){e.languages.csv={value:/[^\r\n,"]+|"(?:[^"]|"")*"(?!")/,punctuation:/,/}}e.exports=t,t.displayName="csv",t.aliases=[]},21322:function(e){"use strict";function t(e){e.languages.cypher={comment:/\/\/.*/,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/,greedy:!0},"class-name":{pattern:/(:\s*)(?:\w+|`(?:[^`\\\r\n])*`)(?=\s*[{):])/,lookbehind:!0,greedy:!0},relationship:{pattern:/(-\[\s*(?:\w+\s*|`(?:[^`\\\r\n])*`\s*)?:\s*|\|\s*:\s*)(?:\w+|`(?:[^`\\\r\n])*`)/,lookbehind:!0,greedy:!0,alias:"property"},identifier:{pattern:/`(?:[^`\\\r\n])*`/,greedy:!0},variable:/\$\w+/,keyword:/\b(?:ADD|ALL|AND|AS|ASC|ASCENDING|ASSERT|BY|CALL|CASE|COMMIT|CONSTRAINT|CONTAINS|CREATE|CSV|DELETE|DESC|DESCENDING|DETACH|DISTINCT|DO|DROP|ELSE|END|ENDS|EXISTS|FOR|FOREACH|IN|INDEX|IS|JOIN|KEY|LIMIT|LOAD|MANDATORY|MATCH|MERGE|NODE|NOT|OF|ON|OPTIONAL|OR|ORDER(?=\s+BY)|PERIODIC|REMOVE|REQUIRE|RETURN|SCALAR|SCAN|SET|SKIP|START|STARTS|THEN|UNION|UNIQUE|UNWIND|USING|WHEN|WHERE|WITH|XOR|YIELD)\b/i,function:/\b\w+\b(?=\s*\()/,boolean:/\b(?:false|null|true)\b/i,number:/\b(?:0x[\da-fA-F]+|\d+(?:\.\d+)?(?:[eE][+-]?\d+)?)\b/,operator:/:|<--?|--?>?|<>|=~?|[<>]=?|[+*/%^|]|\.\.\.?/,punctuation:/[()[\]{},;.]/}}e.exports=t,t.displayName="cypher",t.aliases=[]},91285:function(e){"use strict";function t(e){e.languages.d=e.languages.extend("clike",{comment:[{pattern:/^\s*#!.+/,greedy:!0},{pattern:RegExp(/(^|[^\\])/.source+"(?:"+[/\/\+(?:\/\+(?:[^+]|\+(?!\/))*\+\/|(?!\/\+)[\s\S])*?\+\//.source,/\/\/.*/.source,/\/\*[\s\S]*?\*\//.source].join("|")+")"),lookbehind:!0,greedy:!0}],string:[{pattern:RegExp([/\b[rx]"(?:\\[\s\S]|[^\\"])*"[cwd]?/.source,/\bq"(?:\[[\s\S]*?\]|\([\s\S]*?\)|<[\s\S]*?>|\{[\s\S]*?\})"/.source,/\bq"((?!\d)\w+)$[\s\S]*?^\1"/.source,/\bq"(.)[\s\S]*?\2"/.source,/(["`])(?:\\[\s\S]|(?!\3)[^\\])*\3[cwd]?/.source].join("|"),"m"),greedy:!0},{pattern:/\bq\{(?:\{[^{}]*\}|[^{}])*\}/,greedy:!0,alias:"token-string"}],keyword:/\$|\b(?:__(?:(?:DATE|EOF|FILE|FUNCTION|LINE|MODULE|PRETTY_FUNCTION|TIMESTAMP|TIME|VENDOR|VERSION)__|gshared|parameters|traits|vector)|abstract|alias|align|asm|assert|auto|body|bool|break|byte|case|cast|catch|cdouble|cent|cfloat|char|class|const|continue|creal|dchar|debug|default|delegate|delete|deprecated|do|double|dstring|else|enum|export|extern|false|final|finally|float|for|foreach|foreach_reverse|function|goto|idouble|if|ifloat|immutable|import|inout|int|interface|invariant|ireal|lazy|long|macro|mixin|module|new|nothrow|null|out|override|package|pragma|private|protected|ptrdiff_t|public|pure|real|ref|return|scope|shared|short|size_t|static|string|struct|super|switch|synchronized|template|this|throw|true|try|typedef|typeid|typeof|ubyte|ucent|uint|ulong|union|unittest|ushort|version|void|volatile|wchar|while|with|wstring)\b/,number:[/\b0x\.?[a-f\d_]+(?:(?!\.\.)\.[a-f\d_]*)?(?:p[+-]?[a-f\d_]+)?[ulfi]{0,4}/i,{pattern:/((?:\.\.)?)(?:\b0b\.?|\b|\.)\d[\d_]*(?:(?!\.\.)\.[\d_]*)?(?:e[+-]?\d[\d_]*)?[ulfi]{0,4}/i,lookbehind:!0}],operator:/\|[|=]?|&[&=]?|\+[+=]?|-[-=]?|\.?\.\.|=[>=]?|!(?:i[ns]\b|<>?=?|>=?|=)?|\bi[ns]\b|(?:<[<>]?|>>?>?|\^\^|[*\/%^~])=?/}),e.languages.insertBefore("d","string",{char:/'(?:\\(?:\W|\w+)|[^\\])'/}),e.languages.insertBefore("d","keyword",{property:/\B@\w*/}),e.languages.insertBefore("d","function",{register:{pattern:/\b(?:[ABCD][LHX]|E?(?:BP|DI|SI|SP)|[BS]PL|[ECSDGF]S|CR[0234]|[DS]IL|DR[012367]|E[ABCD]X|X?MM[0-7]|R(?:1[0-5]|[89])[BWD]?|R[ABCD]X|R[BS]P|R[DS]I|TR[3-7]|XMM(?:1[0-5]|[89])|YMM(?:1[0-5]|\d))\b|\bST(?:\([0-7]\)|\b)/,alias:"variable"}})}e.exports=t,t.displayName="d",t.aliases=[]},70307:function(e){"use strict";function t(e){var t,n,r;t=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],r={pattern:RegExp((n=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source)+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}},e.languages.dart=e.languages.extend("clike",{"class-name":[r,{pattern:RegExp(n+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:r.inside}],keyword:t,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),e.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:e.languages.dart}}},string:/[\s\S]+/}},string:void 0}),e.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),e.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":r,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})}e.exports=t,t.displayName="dart",t.aliases=[]},89344:function(e){"use strict";function t(e){e.languages.dataweave={url:/\b[A-Za-z]+:\/\/[\w/:.?=&-]+|\burn:[\w:.?=&-]+/,property:{pattern:/(?:\b\w+#)?(?:"(?:\\.|[^\\"\r\n])*"|\b\w+)(?=\s*[:@])/,greedy:!0},string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},"mime-type":/\b(?:application|audio|image|multipart|text|video)\/[\w+-]+/,date:{pattern:/\|[\w:+-]+\|/,greedy:!0},comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],regex:{pattern:/\/(?:[^\\\/\r\n]|\\[^\r\n])+\//,greedy:!0},keyword:/\b(?:and|as|at|case|do|else|fun|if|input|is|match|not|ns|null|or|output|type|unless|update|using|var)\b/,function:/\b[A-Z_]\w*(?=\s*\()/i,number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\];(),.:@]/,operator:/<<|>>|->|[<>~=]=?|!=|--?-?|\+\+?|!|\?/,boolean:/\b(?:false|true)\b/}}e.exports=t,t.displayName="dataweave",t.aliases=[]},3459:function(e){"use strict";function t(e){e.languages.dax={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/).*)/,lookbehind:!0},"data-field":{pattern:/'(?:[^']|'')*'(?!')(?:\[[ \w\xA0-\uFFFF]+\])?|\w+\[[ \w\xA0-\uFFFF]+\]/,alias:"symbol"},measure:{pattern:/\[[ \w\xA0-\uFFFF]+\]/,alias:"constant"},string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},function:/\b(?:ABS|ACOS|ACOSH|ACOT|ACOTH|ADDCOLUMNS|ADDMISSINGITEMS|ALL|ALLCROSSFILTERED|ALLEXCEPT|ALLNOBLANKROW|ALLSELECTED|AND|APPROXIMATEDISTINCTCOUNT|ASIN|ASINH|ATAN|ATANH|AVERAGE|AVERAGEA|AVERAGEX|BETA\.DIST|BETA\.INV|BLANK|CALCULATE|CALCULATETABLE|CALENDAR|CALENDARAUTO|CEILING|CHISQ\.DIST|CHISQ\.DIST\.RT|CHISQ\.INV|CHISQ\.INV\.RT|CLOSINGBALANCEMONTH|CLOSINGBALANCEQUARTER|CLOSINGBALANCEYEAR|COALESCE|COMBIN|COMBINA|COMBINEVALUES|CONCATENATE|CONCATENATEX|CONFIDENCE\.NORM|CONFIDENCE\.T|CONTAINS|CONTAINSROW|CONTAINSSTRING|CONTAINSSTRINGEXACT|CONVERT|COS|COSH|COT|COTH|COUNT|COUNTA|COUNTAX|COUNTBLANK|COUNTROWS|COUNTX|CROSSFILTER|CROSSJOIN|CURRENCY|CURRENTGROUP|CUSTOMDATA|DATATABLE|DATE|DATEADD|DATEDIFF|DATESBETWEEN|DATESINPERIOD|DATESMTD|DATESQTD|DATESYTD|DATEVALUE|DAY|DEGREES|DETAILROWS|DISTINCT|DISTINCTCOUNT|DISTINCTCOUNTNOBLANK|DIVIDE|EARLIER|EARLIEST|EDATE|ENDOFMONTH|ENDOFQUARTER|ENDOFYEAR|EOMONTH|ERROR|EVEN|EXACT|EXCEPT|EXP|EXPON\.DIST|FACT|FALSE|FILTER|FILTERS|FIND|FIRSTDATE|FIRSTNONBLANK|FIRSTNONBLANKVALUE|FIXED|FLOOR|FORMAT|GCD|GENERATE|GENERATEALL|GENERATESERIES|GEOMEAN|GEOMEANX|GROUPBY|HASONEFILTER|HASONEVALUE|HOUR|IF|IF\.EAGER|IFERROR|IGNORE|INT|INTERSECT|ISBLANK|ISCROSSFILTERED|ISEMPTY|ISERROR|ISEVEN|ISFILTERED|ISINSCOPE|ISLOGICAL|ISNONTEXT|ISNUMBER|ISO\.CEILING|ISODD|ISONORAFTER|ISSELECTEDMEASURE|ISSUBTOTAL|ISTEXT|KEEPFILTERS|KEYWORDMATCH|LASTDATE|LASTNONBLANK|LASTNONBLANKVALUE|LCM|LEFT|LEN|LN|LOG|LOG10|LOOKUPVALUE|LOWER|MAX|MAXA|MAXX|MEDIAN|MEDIANX|MID|MIN|MINA|MINUTE|MINX|MOD|MONTH|MROUND|NATURALINNERJOIN|NATURALLEFTOUTERJOIN|NEXTDAY|NEXTMONTH|NEXTQUARTER|NEXTYEAR|NONVISUAL|NORM\.DIST|NORM\.INV|NORM\.S\.DIST|NORM\.S\.INV|NOT|NOW|ODD|OPENINGBALANCEMONTH|OPENINGBALANCEQUARTER|OPENINGBALANCEYEAR|OR|PARALLELPERIOD|PATH|PATHCONTAINS|PATHITEM|PATHITEMREVERSE|PATHLENGTH|PERCENTILE\.EXC|PERCENTILE\.INC|PERCENTILEX\.EXC|PERCENTILEX\.INC|PERMUT|PI|POISSON\.DIST|POWER|PREVIOUSDAY|PREVIOUSMONTH|PREVIOUSQUARTER|PREVIOUSYEAR|PRODUCT|PRODUCTX|QUARTER|QUOTIENT|RADIANS|RAND|RANDBETWEEN|RANK\.EQ|RANKX|RELATED|RELATEDTABLE|REMOVEFILTERS|REPLACE|REPT|RIGHT|ROLLUP|ROLLUPADDISSUBTOTAL|ROLLUPGROUP|ROLLUPISSUBTOTAL|ROUND|ROUNDDOWN|ROUNDUP|ROW|SAMEPERIODLASTYEAR|SAMPLE|SEARCH|SECOND|SELECTCOLUMNS|SELECTEDMEASURE|SELECTEDMEASUREFORMATSTRING|SELECTEDMEASURENAME|SELECTEDVALUE|SIGN|SIN|SINH|SQRT|SQRTPI|STARTOFMONTH|STARTOFQUARTER|STARTOFYEAR|STDEV\.P|STDEV\.S|STDEVX\.P|STDEVX\.S|SUBSTITUTE|SUBSTITUTEWITHINDEX|SUM|SUMMARIZE|SUMMARIZECOLUMNS|SUMX|SWITCH|T\.DIST|T\.DIST\.2T|T\.DIST\.RT|T\.INV|T\.INV\.2T|TAN|TANH|TIME|TIMEVALUE|TODAY|TOPN|TOPNPERLEVEL|TOPNSKIP|TOTALMTD|TOTALQTD|TOTALYTD|TREATAS|TRIM|TRUE|TRUNC|UNICHAR|UNICODE|UNION|UPPER|USERELATIONSHIP|USERNAME|USEROBJECTID|USERPRINCIPALNAME|UTCNOW|UTCTODAY|VALUE|VALUES|VAR\.P|VAR\.S|VARX\.P|VARX\.S|WEEKDAY|WEEKNUM|XIRR|XNPV|YEAR|YEARFRAC)(?=\s*\()/i,keyword:/\b(?:DEFINE|EVALUATE|MEASURE|ORDER\s+BY|RETURN|VAR|START\s+AT|ASC|DESC)\b/i,boolean:{pattern:/\b(?:FALSE|NULL|TRUE)\b/i,alias:"constant"},number:/\b\d+(?:\.\d*)?|\B\.\d+\b/,operator:/:=|[-+*\/=^]|&&?|\|\||<(?:=>?|<|>)?|>[>=]?|\b(?:IN|NOT)\b/i,punctuation:/[;\[\](){}`,.]/}}e.exports=t,t.displayName="dax",t.aliases=[]},13758:function(e){"use strict";function t(e){e.languages.dhall={comment:/--.*|\{-(?:[^-{]|-(?!\})|\{(?!-)|\{-(?:[^-{]|-(?!\})|\{(?!-))*-\})*-\}/,string:{pattern:/"(?:[^"\\]|\\.)*"|''(?:[^']|'(?!')|'''|''\$\{)*''(?!'|\$)/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}]*\}/,inside:{expression:{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0,alias:"language-dhall",inside:null},punctuation:/\$\{|\}/}}}},label:{pattern:/`[^`]*`/,greedy:!0},url:{pattern:/\bhttps?:\/\/[\w.:%!$&'*+;=@~-]+(?:\/[\w.:%!$&'*+;=@~-]*)*(?:\?[/?\w.:%!$&'*+;=@~-]*)?/,greedy:!0},env:{pattern:/\benv:(?:(?!\d)\w+|"(?:[^"\\=]|\\.)*")/,greedy:!0,inside:{function:/^env/,operator:/^:/,variable:/[\s\S]+/}},hash:{pattern:/\bsha256:[\da-fA-F]{64}\b/,inside:{function:/sha256/,operator:/:/,number:/[\da-fA-F]{64}/}},keyword:/\b(?:as|assert|else|forall|if|in|let|merge|missing|then|toMap|using|with)\b|\u2200/,builtin:/\b(?:None|Some)\b/,boolean:/\b(?:False|True)\b/,number:/\bNaN\b|-?\bInfinity\b|[+-]?\b(?:0x[\da-fA-F]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/,operator:/\/\\|\/\/\\\\|&&|\|\||===|[!=]=|\/\/|->|\+\+|::|[+*#@=:?<>|\\\u2227\u2a53\u2261\u2afd\u03bb\u2192]/,punctuation:/\.\.|[{}\[\](),./]/,"class-name":/\b[A-Z]\w*\b/},e.languages.dhall.string.inside.interpolation.inside.expression.inside=e.languages.dhall}e.exports=t,t.displayName="dhall",t.aliases=[]},22318:function(e){"use strict";function t(e){var t;e.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]},Object.keys(t={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"}).forEach(function(n){var r=t[n],i=[];/^\w+$/.test(n)||i.push(/\w+/.exec(n)[0]),"diff"===n&&i.push("bold"),e.languages.diff[n]={pattern:RegExp("^(?:["+r+"].*(?:\r\n?|\n|(?![\\s\\S])))+","m"),alias:i,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(n)[0]}}}}),Object.defineProperty(e.languages.diff,"PREFIXES",{value:t})}e.exports=t,t.displayName="diff",t.aliases=[]},42741:function(e,t,n){"use strict";var r=n(47305);function i(e){var t,n;e.register(r),e.languages.django={comment:/^\{#[\s\S]*?#\}$/,tag:{pattern:/(^\{%[+-]?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%][+-]?|[+-]?[}%]\}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},filter:{pattern:/(\|)\w+/,lookbehind:!0,alias:"function"},test:{pattern:/(\bis\s+(?:not\s+)?)(?!not\b)\w+/,lookbehind:!0,alias:"function"},function:/\b[a-z_]\w+(?=\s*\()/i,keyword:/\b(?:and|as|by|else|for|if|import|in|is|loop|not|or|recursive|with|without)\b/,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,number:/\b\d+(?:\.\d+)?\b/,boolean:/[Ff]alse|[Nn]one|[Tt]rue/,variable:/\b\w+\b/,punctuation:/[{}[\](),.:;]/},t=/\{\{[\s\S]*?\}\}|\{%[\s\S]*?%\}|\{#[\s\S]*?#\}/g,n=e.languages["markup-templating"],e.hooks.add("before-tokenize",function(e){n.buildPlaceholders(e,"django",t)}),e.hooks.add("after-tokenize",function(e){n.tokenizePlaceholders(e,"django")}),e.languages.jinja2=e.languages.django,e.hooks.add("before-tokenize",function(e){n.buildPlaceholders(e,"jinja2",t)}),e.hooks.add("after-tokenize",function(e){n.tokenizePlaceholders(e,"jinja2")})}e.exports=i,i.displayName="django",i.aliases=["jinja2"]},84633:function(e){"use strict";function t(e){e.languages["dns-zone-file"]={comment:/;.*/,string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},variable:[{pattern:/(^\$ORIGIN[ \t]+)\S+/m,lookbehind:!0},{pattern:/(^|\s)@(?=\s|$)/,lookbehind:!0}],keyword:/^\$(?:INCLUDE|ORIGIN|TTL)(?=\s|$)/m,class:{pattern:/(^|\s)(?:CH|CS|HS|IN)(?=\s|$)/,lookbehind:!0,alias:"keyword"},type:{pattern:/(^|\s)(?:A|A6|AAAA|AFSDB|APL|ATMA|CAA|CDNSKEY|CDS|CERT|CNAME|DHCID|DLV|DNAME|DNSKEY|DS|EID|GID|GPOS|HINFO|HIP|IPSECKEY|ISDN|KEY|KX|LOC|MAILA|MAILB|MB|MD|MF|MG|MINFO|MR|MX|NAPTR|NB|NBSTAT|NIMLOC|NINFO|NS|NSAP|NSAP-PTR|NSEC|NSEC3|NSEC3PARAM|NULL|NXT|OPENPGPKEY|PTR|PX|RKEY|RP|RRSIG|RT|SIG|SINK|SMIMEA|SOA|SPF|SRV|SSHFP|TA|TKEY|TLSA|TSIG|TXT|UID|UINFO|UNSPEC|URI|WKS|X25)(?=\s|$)/,lookbehind:!0,alias:"keyword"},punctuation:/[()]/},e.languages["dns-zone"]=e.languages["dns-zone-file"]}e.exports=t,t.displayName="dnsZoneFile",t.aliases=[]},51589:function(e){"use strict";function t(e){!function(e){var t=/\\[\r\n](?:\s|\\[\r\n]|#.*(?!.))*(?![\s#]|\\[\r\n])/.source,n=/(?:[ \t]+(?![ \t])(?:<SP_BS>)?|<SP_BS>)/.source.replace(/<SP_BS>/g,function(){return t}),r=/"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*"|'(?:[^'\\\r\n]|\\(?:\r\n|[\s\S]))*'/.source,i=/--[\w-]+=(?:<STR>|(?!["'])(?:[^\s\\]|\\.)+)/.source.replace(/<STR>/g,function(){return r}),o={pattern:RegExp(r),greedy:!0},a={pattern:/(^[ \t]*)#.*/m,lookbehind:!0,greedy:!0};function s(e,t){return RegExp(e=e.replace(/<OPT>/g,function(){return i}).replace(/<SP>/g,function(){return n}),t)}e.languages.docker={instruction:{pattern:/(^[ \t]*)(?:ADD|ARG|CMD|COPY|ENTRYPOINT|ENV|EXPOSE|FROM|HEALTHCHECK|LABEL|MAINTAINER|ONBUILD|RUN|SHELL|STOPSIGNAL|USER|VOLUME|WORKDIR)(?=\s)(?:\\.|[^\r\n\\])*(?:\\$(?:\s|#.*$)*(?![\s#])(?:\\.|[^\r\n\\])*)*/im,lookbehind:!0,greedy:!0,inside:{options:{pattern:s(/(^(?:ONBUILD<SP>)?\w+<SP>)<OPT>(?:<SP><OPT>)*/.source,"i"),lookbehind:!0,greedy:!0,inside:{property:{pattern:/(^|\s)--[\w-]+/,lookbehind:!0},string:[o,{pattern:/(=)(?!["'])(?:[^\s\\]|\\.)+/,lookbehind:!0}],operator:/\\$/m,punctuation:/=/}},keyword:[{pattern:s(/(^(?:ONBUILD<SP>)?HEALTHCHECK<SP>(?:<OPT><SP>)*)(?:CMD|NONE)\b/.source,"i"),lookbehind:!0,greedy:!0},{pattern:s(/(^(?:ONBUILD<SP>)?FROM<SP>(?:<OPT><SP>)*(?!--)[^ \t\\]+<SP>)AS/.source,"i"),lookbehind:!0,greedy:!0},{pattern:s(/(^ONBUILD<SP>)\w+/.source,"i"),lookbehind:!0,greedy:!0},{pattern:/^\w+/,greedy:!0}],comment:a,string:o,variable:/\$(?:\w+|\{[^{}"'\\]*\})/,operator:/\\$/m}},comment:a},e.languages.dockerfile=e.languages.docker}(e)}e.exports=t,t.displayName="docker",t.aliases=["dockerfile"]},27467:function(e){"use strict";function t(e){!function(e){var t="(?:"+[/[a-zA-Z_\x80-\uFFFF][\w\x80-\uFFFF]*/.source,/-?(?:\.\d+|\d+(?:\.\d*)?)/.source,/"[^"\\]*(?:\\[\s\S][^"\\]*)*"/.source,/<(?:[^<>]|(?!<!--)<(?:[^<>"']|"[^"]*"|'[^']*')+>|<!--(?:[^-]|-(?!->))*-->)*>/.source].join("|")+")",n={markup:{pattern:/(^<)[\s\S]+(?=>$)/,lookbehind:!0,alias:["language-markup","language-html","language-xml"],inside:e.languages.markup}};function r(e,n){return RegExp(e.replace(/<ID>/g,function(){return t}),n)}e.languages.dot={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\/|^#.*/m,greedy:!0},"graph-name":{pattern:r(/(\b(?:digraph|graph|subgraph)[ \t\r\n]+)<ID>/.source,"i"),lookbehind:!0,greedy:!0,alias:"class-name",inside:n},"attr-value":{pattern:r(/(=[ \t\r\n]*)<ID>/.source),lookbehind:!0,greedy:!0,inside:n},"attr-name":{pattern:r(/([\[;, \t\r\n])<ID>(?=[ \t\r\n]*=)/.source),lookbehind:!0,greedy:!0,inside:n},keyword:/\b(?:digraph|edge|graph|node|strict|subgraph)\b/i,"compass-point":{pattern:/(:[ \t\r\n]*)(?:[ewc_]|[ns][ew]?)(?![\w\x80-\uFFFF])/,lookbehind:!0,alias:"builtin"},node:{pattern:r(/(^|[^-.\w\x80-\uFFFF\\])<ID>/.source),lookbehind:!0,greedy:!0,inside:n},operator:/[=:]|-[->]/,punctuation:/[\[\]{};,]/},e.languages.gv=e.languages.dot}(e)}e.exports=t,t.displayName="dot",t.aliases=["gv"]},22079:function(e){"use strict";function t(e){e.languages.ebnf={comment:/\(\*[\s\S]*?\*\)/,string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0},special:{pattern:/\?[^?\r\n]*\?/,greedy:!0,alias:"class-name"},definition:{pattern:/^([\t ]*)[a-z]\w*(?:[ \t]+[a-z]\w*)*(?=\s*=)/im,lookbehind:!0,alias:["rule","keyword"]},rule:/\b[a-z]\w*(?:[ \t]+[a-z]\w*)*\b/i,punctuation:/\([:/]|[:/]\)|[.,;()[\]{}]/,operator:/[-=|*/!]/}}e.exports=t,t.displayName="ebnf",t.aliases=[]},88165:function(e){"use strict";function t(e){e.languages.editorconfig={comment:/[;#].*/,section:{pattern:/(^[ \t]*)\[.+\]/m,lookbehind:!0,alias:"selector",inside:{regex:/\\\\[\[\]{},!?.*]/,operator:/[!?]|\.\.|\*{1,2}/,punctuation:/[\[\]{},]/}},key:{pattern:/(^[ \t]*)[^\s=]+(?=[ \t]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/=.*/,alias:"attr-value",inside:{punctuation:/^=/}}}}e.exports=t,t.displayName="editorconfig",t.aliases=[]},30101:function(e){"use strict";function t(e){e.languages.eiffel={comment:/--.*/,string:[{pattern:/"([^[]*)\[[\s\S]*?\]\1"/,greedy:!0},{pattern:/"([^{]*)\{[\s\S]*?\}\1"/,greedy:!0},{pattern:/"(?:%(?:(?!\n)\s)*\n\s*%|%\S|[^%"\r\n])*"/,greedy:!0}],char:/'(?:%.|[^%'\r\n])+'/,keyword:/\b(?:across|agent|alias|all|and|as|assign|attached|attribute|check|class|convert|create|Current|debug|deferred|detachable|do|else|elseif|end|ensure|expanded|export|external|feature|from|frozen|if|implies|inherit|inspect|invariant|like|local|loop|not|note|obsolete|old|once|or|Precursor|redefine|rename|require|rescue|Result|retry|select|separate|some|then|undefine|until|variant|Void|when|xor)\b/i,boolean:/\b(?:False|True)\b/i,"class-name":/\b[A-Z][\dA-Z_]*\b/,number:[/\b0[xcb][\da-f](?:_*[\da-f])*\b/i,/(?:\b\d(?:_*\d)*)?\.(?:(?:\d(?:_*\d)*)?e[+-]?)?\d(?:_*\d)*\b|\b\d(?:_*\d)*\b\.?/i],punctuation:/:=|<<|>>|\(\||\|\)|->|\.(?=\w)|[{}[\];(),:?]/,operator:/\\\\|\|\.\.\||\.\.|\/[~\/=]?|[><]=?|[-+*^=~]/}}e.exports=t,t.displayName="eiffel",t.aliases=[]},65265:function(e,t,n){"use strict";var r=n(47305);function i(e){e.register(r),e.languages.ejs={delimiter:{pattern:/^<%[-_=]?|[-_]?%>$/,alias:"punctuation"},comment:/^#[\s\S]*/,"language-javascript":{pattern:/[\s\S]+/,inside:e.languages.javascript}},e.hooks.add("before-tokenize",function(t){e.languages["markup-templating"].buildPlaceholders(t,"ejs",/<%(?!%)[\s\S]+?%>/g)}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"ejs")}),e.languages.eta=e.languages.ejs}e.exports=i,i.displayName="ejs",i.aliases=["eta"]},78816:function(e){"use strict";function t(e){e.languages.elixir={doc:{pattern:/@(?:doc|moduledoc)\s+(?:("""|''')[\s\S]*?\1|("|')(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2)/,inside:{attribute:/^@\w+/,string:/['"][\s\S]+/}},comment:{pattern:/#.*/,greedy:!0},regex:{pattern:/~[rR](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|[^\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[uismxfr]*/,greedy:!0},string:[{pattern:/~[cCsSwW](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|#\{[^}]+\}|#(?!\{)|[^#\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[csa]?/,greedy:!0,inside:{}},{pattern:/("""|''')[\s\S]*?\1/,greedy:!0,inside:{}},{pattern:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{}}],atom:{pattern:/(^|[^:]):\w+/,lookbehind:!0,alias:"symbol"},module:{pattern:/\b[A-Z]\w*\b/,alias:"class-name"},"attr-name":/\b\w+\??:(?!:)/,argument:{pattern:/(^|[^&])&\d+/,lookbehind:!0,alias:"variable"},attribute:{pattern:/@\w+/,alias:"variable"},function:/\b[_a-zA-Z]\w*[?!]?(?:(?=\s*(?:\.\s*)?\()|(?=\/\d))/,number:/\b(?:0[box][a-f\d_]+|\d[\d_]*)(?:\.[\d_]+)?(?:e[+-]?[\d_]+)?\b/i,keyword:/\b(?:after|alias|and|case|catch|cond|def(?:callback|delegate|exception|impl|macro|module|n|np|p|protocol|struct)?|do|else|end|fn|for|if|import|not|or|quote|raise|require|rescue|try|unless|unquote|use|when)\b/,boolean:/\b(?:false|nil|true)\b/,operator:[/\bin\b|&&?|\|[|>]?|\\\\|::|\.\.\.?|\+\+?|-[->]?|<[-=>]|>=|!==?|\B!|=(?:==?|[>~])?|[*\/^]/,{pattern:/([^<])<(?!<)/,lookbehind:!0},{pattern:/([^>])>(?!>)/,lookbehind:!0}],punctuation:/<<|>>|[.,%\[\]{}()]/},e.languages.elixir.string.forEach(function(t){t.inside={interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},rest:e.languages.elixir}}}})}e.exports=t,t.displayName="elixir",t.aliases=[]},81679:function(e){"use strict";function t(e){e.languages.elm={comment:/--.*|\{-[\s\S]*?-\}/,char:{pattern:/'(?:[^\\'\r\n]|\\(?:[abfnrtv\\']|\d+|x[0-9a-fA-F]+|u\{[0-9a-fA-F]+\}))'/,greedy:!0},string:[{pattern:/"""[\s\S]*?"""/,greedy:!0},{pattern:/"(?:[^\\"\r\n]|\\.)*"/,greedy:!0}],"import-statement":{pattern:/(^[\t ]*)import\s+[A-Z]\w*(?:\.[A-Z]\w*)*(?:\s+as\s+(?:[A-Z]\w*)(?:\.[A-Z]\w*)*)?(?:\s+exposing\s+)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|exposing|import)\b/}},keyword:/\b(?:alias|as|case|else|exposing|if|in|infixl|infixr|let|module|of|then|type)\b/,builtin:/\b(?:abs|acos|always|asin|atan|atan2|ceiling|clamp|compare|cos|curry|degrees|e|flip|floor|fromPolar|identity|isInfinite|isNaN|logBase|max|min|negate|never|not|pi|radians|rem|round|sin|sqrt|tan|toFloat|toPolar|toString|truncate|turns|uncurry|xor)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0x[0-9a-f]+)\b/i,operator:/\s\.\s|[+\-/*=.$<>:&|^?%#@~!]{2,}|[+\-/*=$<>:&|^?%#@~!]/,hvariable:/\b(?:[A-Z]\w*\.)*[a-z]\w*\b/,constant:/\b(?:[A-Z]\w*\.)*[A-Z]\w*\b/,punctuation:/[{}[\]|(),.:]/}}e.exports=t,t.displayName="elm",t.aliases=[]},67574:function(e,t,n){"use strict";var r=n(22816),i=n(47305);function o(e){e.register(r),e.register(i),e.languages.erb={delimiter:{pattern:/^(\s*)<%=?|%>(?=\s*$)/,lookbehind:!0,alias:"punctuation"},ruby:{pattern:/\s*\S[\s\S]*/,alias:"language-ruby",inside:e.languages.ruby}},e.hooks.add("before-tokenize",function(t){e.languages["markup-templating"].buildPlaceholders(t,"erb",/<%=?(?:[^\r\n]|[\r\n](?!=begin)|[\r\n]=begin\s(?:[^\r\n]|[\r\n](?!=end))*[\r\n]=end)+?%>/g)}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"erb")})}e.exports=o,o.displayName="erb",o.aliases=[]},81191:function(e){"use strict";function t(e){e.languages.erlang={comment:/%.+/,string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},"quoted-function":{pattern:/'(?:\\.|[^\\'\r\n])+'(?=\()/,alias:"function"},"quoted-atom":{pattern:/'(?:\\.|[^\\'\r\n])+'/,alias:"atom"},boolean:/\b(?:false|true)\b/,keyword:/\b(?:after|case|catch|end|fun|if|of|receive|try|when)\b/,number:[/\$\\?./,/\b\d+#[a-z0-9]+/i,/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i],function:/\b[a-z][\w@]*(?=\()/,variable:{pattern:/(^|[^@])(?:\b|\?)[A-Z_][\w@]*/,lookbehind:!0},operator:[/[=\/<>:]=|=[:\/]=|\+\+?|--?|[=*\/!]|\b(?:and|andalso|band|bnot|bor|bsl|bsr|bxor|div|not|or|orelse|rem|xor)\b/,{pattern:/(^|[^<])<(?!<)/,lookbehind:!0},{pattern:/(^|[^>])>(?!>)/,lookbehind:!0}],atom:/\b[a-z][\w@]*/,punctuation:/[()[\]{}:;,.#|]|<<|>>/}}e.exports=t,t.displayName="erlang",t.aliases=[]},15170:function(e,t,n){"use strict";var r=n(75644),i=n(47305);function o(e){e.register(r),e.register(i),e.languages.etlua={delimiter:{pattern:/^<%[-=]?|-?%>$/,alias:"punctuation"},"language-lua":{pattern:/[\s\S]+/,inside:e.languages.lua}},e.hooks.add("before-tokenize",function(t){e.languages["markup-templating"].buildPlaceholders(t,"etlua",/<%[\s\S]+?%>/g)}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"etlua")})}e.exports=o,o.displayName="etlua",o.aliases=[]},94547:function(e){"use strict";function t(e){e.languages["excel-formula"]={comment:{pattern:/(\bN\(\s*)"(?:[^"]|"")*"(?=\s*\))/i,lookbehind:!0,greedy:!0},string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},reference:{pattern:/(?:'[^']*'|(?:[^\s()[\]{}<>*?"';,$&]*\[[^^\s()[\]{}<>*?"']+\])?\w+)!/,greedy:!0,alias:"string",inside:{operator:/!$/,punctuation:/'/,sheet:{pattern:/[^[\]]+$/,alias:"function"},file:{pattern:/\[[^[\]]+\]$/,inside:{punctuation:/[[\]]/}},path:/[\s\S]+/}},"function-name":{pattern:/\b[A-Z]\w*(?=\()/i,alias:"keyword"},range:{pattern:/\$?\b(?:[A-Z]+\$?\d+:\$?[A-Z]+\$?\d+|[A-Z]+:\$?[A-Z]+|\d+:\$?\d+)\b/i,alias:"property",inside:{operator:/:/,cell:/\$?[A-Z]+\$?\d+/i,column:/\$?[A-Z]+/i,row:/\$?\d+/}},cell:{pattern:/\b[A-Z]+\d+\b|\$[A-Za-z]+\$?\d+\b|\b[A-Za-z]+\$\d+\b/,alias:"property"},number:/(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[+-]?\d+)?\b/i,boolean:/\b(?:FALSE|TRUE)\b/i,operator:/[-+*/^%=&,]|<[=>]?|>=?/,punctuation:/[[\]();{}|]/},e.languages.xlsx=e.languages.xls=e.languages["excel-formula"]}e.exports=t,t.displayName="excelFormula",t.aliases=[]},55359:function(e){"use strict";function t(e){var t,n,r,i,o,a;r={comment:[{pattern:/(^|\s)(?:! .*|!$)/,lookbehind:!0,inside:t={function:/\b(?:BUGS?|FIX(?:MES?)?|NOTES?|TODOS?|XX+|HACKS?|WARN(?:ING)?|\?{2,}|!{2,})\b/}},{pattern:/(^|\s)\/\*\s[\s\S]*?\*\/(?=\s|$)/,lookbehind:!0,greedy:!0,inside:t},{pattern:/(^|\s)!\[(={0,6})\[\s[\s\S]*?\]\2\](?=\s|$)/,lookbehind:!0,greedy:!0,inside:t}],number:[{pattern:/(^|\s)[+-]?\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?0(?:b[01]+|o[0-7]+|d\d+|x[\dA-F]+)(?=\s|$)/i,lookbehind:!0},{pattern:/(^|\s)[+-]?\d+\/\d+\.?(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)\+?\d+\+\d+\/\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)-\d+-\d+\/\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?(?:\d*\.\d+|\d+\.\d*|\d+)(?:e[+-]?\d+)?(?=\s|$)/i,lookbehind:!0},{pattern:/(^|\s)NAN:\s+[\da-fA-F]+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?0(?:b1\.[01]*|o1\.[0-7]*|d1\.\d*|x1\.[\dA-F]*)p\d+(?=\s|$)/i,lookbehind:!0}],regexp:{pattern:/(^|\s)R\/\s(?:\\\S|[^\\/])*\/(?:[idmsr]*|[idmsr]+-[idmsr]+)(?=\s|$)/,lookbehind:!0,alias:"number",inside:{variable:/\\\S/,keyword:/[+?*\[\]^$(){}.|]/,operator:{pattern:/(\/)[idmsr]+(?:-[idmsr]+)?/,lookbehind:!0}}},boolean:{pattern:/(^|\s)[tf](?=\s|$)/,lookbehind:!0},"custom-string":{pattern:/(^|\s)[A-Z0-9\-]+"\s(?:\\\S|[^"\\])*"/,lookbehind:!0,greedy:!0,alias:"string",inside:{number:/\\\S|%\w|\//}},"multiline-string":[{pattern:/(^|\s)STRING:\s+\S+(?:\n|\r\n).*(?:\n|\r\n)\s*;(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:{number:(n={number:/\\[^\s']|%\w/}).number,"semicolon-or-setlocal":{pattern:/([\r\n][ \t]*);(?=\s|$)/,lookbehind:!0,alias:"function"}}},{pattern:/(^|\s)HEREDOC:\s+\S+(?:\n|\r\n).*(?:\n|\r\n)\s*\S+(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:n},{pattern:/(^|\s)\[(={0,6})\[\s[\s\S]*?\]\2\](?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:n}],"special-using":{pattern:/(^|\s)USING:(?:\s\S+)*(?=\s+;(?:\s|$))/,lookbehind:!0,alias:"function",inside:{string:{pattern:/(\s)[^:\s]+/,lookbehind:!0}}},"stack-effect-delimiter":[{pattern:/(^|\s)(?:call|eval|execute)?\((?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)--(?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)\)(?=\s|$)/,lookbehind:!0,alias:"operator"}],combinators:{pattern:null,lookbehind:!0,alias:"keyword"},"kernel-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"sequences-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"math-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"constructor-word":{pattern:/(^|\s)<(?!=+>|-+>)\S+>(?=\s|$)/,lookbehind:!0,alias:"keyword"},"other-builtin-syntax":{pattern:null,lookbehind:!0,alias:"operator"},"conventionally-named-word":{pattern:/(^|\s)(?!")(?:(?:change|new|set|with)-\S+|\$\S+|>[^>\s]+|[^:>\s]+>|[^>\s]+>[^>\s]+|\+[^+\s]+\+|[^?\s]+\?|\?[^?\s]+|[^>\s]+>>|>>[^>\s]+|[^<\s]+<<|\([^()\s]+\)|[^!\s]+!|[^*\s]\S*\*|[^.\s]\S*\.)(?=\s|$)/,lookbehind:!0,alias:"keyword"},"colon-syntax":{pattern:/(^|\s)(?:[A-Z0-9\-]+#?)?:{1,2}\s+(?:;\S+|(?!;)\S+)(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"function"},"semicolon-or-setlocal":{pattern:/(\s)(?:;|:>)(?=\s|$)/,lookbehind:!0,alias:"function"},"curly-brace-literal-delimiter":[{pattern:/(^|\s)[a-z]*\{(?=\s)/i,lookbehind:!0,alias:"operator"},{pattern:/(\s)\}(?=\s|$)/,lookbehind:!0,alias:"operator"}],"quotation-delimiter":[{pattern:/(^|\s)\[(?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)\](?=\s|$)/,lookbehind:!0,alias:"operator"}],"normal-word":{pattern:/(^|\s)[^"\s]\S*(?=\s|$)/,lookbehind:!0},string:{pattern:/"(?:\\\S|[^"\\])*"/,greedy:!0,inside:n}},i=function(e){return(e+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")},o=function(e){return RegExp("(^|\\s)(?:"+e.map(i).join("|")+")(?=\\s|$)")},Object.keys(a={"kernel-builtin":["or","2nipd","4drop","tuck","wrapper","nip","wrapper?","callstack>array","die","dupd","callstack","callstack?","3dup","hashcode","pick","4nip","build",">boolean","nipd","clone","5nip","eq?","?","=","swapd","2over","clear","2dup","get-retainstack","not","tuple?","dup","3nipd","call","-rotd","object","drop","assert=","assert?","-rot","execute","boa","get-callstack","curried?","3drop","pickd","overd","over","roll","3nip","swap","and","2nip","rotd","throw","(clone)","hashcode*","spin","reach","4dup","equal?","get-datastack","assert","2drop","<wrapper>","boolean?","identity-hashcode","identity-tuple?","null","composed?","new","5drop","rot","-roll","xor","identity-tuple","boolean"],"other-builtin-syntax":["=======","recursive","flushable",">>","<<<<<<","M\\","B","PRIVATE>","\\","======","final","inline","delimiter","deprecated","<PRIVATE",">>>>>>","<<<<<<<","parse-complex","malformed-complex","read-only",">>>>>>>","call-next-method","<<","foldable","$","$[","${"],"sequences-builtin":["member-eq?","mismatch","append","assert-sequence=","longer","repetition","clone-like","3sequence","assert-sequence?","last-index-from","reversed","index-from","cut*","pad-tail","join-as","remove-eq!","concat-as","but-last","snip","nths","nth","sequence","longest","slice?","<slice>","remove-nth","tail-slice","empty?","tail*","member?","virtual-sequence?","set-length","drop-prefix","iota","unclip","bounds-error?","unclip-last-slice","non-negative-integer-expected","non-negative-integer-expected?","midpoint@","longer?","?set-nth","?first","rest-slice","prepend-as","prepend","fourth","sift","subseq-start","new-sequence","?last","like","first4","1sequence","reverse","slice","virtual@","repetition?","set-last","index","4sequence","max-length","set-second","immutable-sequence","first2","first3","supremum","unclip-slice","suffix!","insert-nth","tail","3append","short","suffix","concat","flip","immutable?","reverse!","2sequence","sum","delete-all","indices","snip-slice","<iota>","check-slice","sequence?","head","append-as","halves","sequence=","collapse-slice","?second","slice-error?","product","bounds-check?","bounds-check","immutable","virtual-exemplar","harvest","remove","pad-head","last","set-fourth","cartesian-product","remove-eq","shorten","shorter","reversed?","shorter?","shortest","head-slice","pop*","tail-slice*","but-last-slice","iota?","append!","cut-slice","new-resizable","head-slice*","sequence-hashcode","pop","set-nth","?nth","second","join","immutable-sequence?","<reversed>","3append-as","virtual-sequence","subseq?","remove-nth!","length","last-index","lengthen","assert-sequence","copy","move","third","first","tail?","set-first","prefix","bounds-error","<repetition>","exchange","surround","cut","min-length","set-third","push-all","head?","subseq-start-from","delete-slice","rest","sum-lengths","head*","infimum","remove!","glue","slice-error","subseq","push","replace-slice","subseq-as","unclip-last"],"math-builtin":["number=","next-power-of-2","?1+","fp-special?","imaginary-part","float>bits","number?","fp-infinity?","bignum?","fp-snan?","denominator","gcd","*","+","fp-bitwise=","-","u>=","/",">=","bitand","power-of-2?","log2-expects-positive","neg?","<","log2",">","integer?","number","bits>double","2/","zero?","bits>float","float?","shift","ratio?","rect>","even?","ratio","fp-sign","bitnot",">fixnum","complex?","/i","integer>fixnum","/f","sgn",">bignum","next-float","u<","u>","mod","recip","rational",">float","2^","integer","fixnum?","neg","fixnum","sq","bignum",">rect","bit?","fp-qnan?","simple-gcd","complex","<fp-nan>","real",">fraction","double>bits","bitor","rem","fp-nan-payload","real-part","log2-expects-positive?","prev-float","align","unordered?","float","fp-nan?","abs","bitxor","integer>fixnum-strict","u<=","odd?","<=","/mod",">integer","real?","rational?","numerator"]}).forEach(function(e){r[e].pattern=o(a[e])}),r.combinators.pattern=o(["2bi","while","2tri","bi*","4dip","both?","same?","tri@","curry","prepose","3bi","?if","tri*","2keep","3keep","curried","2keepd","when","2bi*","2tri*","4keep","bi@","keepdd","do","unless*","tri-curry","if*","loop","bi-curry*","when*","2bi@","2tri@","with","2with","either?","bi","until","3dip","3curry","tri-curry*","tri-curry@","bi-curry","keepd","compose","2dip","if","3tri","unless","tuple","keep","2curry","tri","most","while*","dip","composed","bi-curry@","find-last-from","trim-head-slice","map-as","each-from","none?","trim-tail","partition","if-empty","accumulate*","reject!","find-from","accumulate-as","collector-for-as","reject","map","map-sum","accumulate!","2each-from","follow","supremum-by","map!","unless-empty","collector","padding","reduce-index","replicate-as","infimum-by","trim-tail-slice","count","find-index","filter","accumulate*!","reject-as","map-integers","map-find","reduce","selector","interleave","2map","filter-as","binary-reduce","map-index-as","find","produce","filter!","replicate","cartesian-map","cartesian-each","find-index-from","map-find-last","3map-as","3map","find-last","selector-as","2map-as","2map-reduce","accumulate","each","each-index","accumulate*-as","when-empty","all?","collector-as","push-either","new-like","collector-for","2selector","push-if","2all?","map-reduce","3each","any?","trim-slice","2reduce","change-nth","produce-as","2each","trim","trim-head","cartesian-find","map-index","if-zero","each-integer","unless-zero","(find-integer)","when-zero","find-last-integer","(all-integers?)","times","(each-integer)","find-integer","all-integers?","unless-negative","if-positive","when-positive","when-negative","unless-positive","if-negative","case","2cleave","cond>quot","case>quot","3cleave","wrong-values","to-fixed-point","alist>quot","cond","cleave","call-effect","recursive-hashcode","spread","deep-spread>quot","2||","0||","n||","0&&","2&&","3||","1||","1&&","n&&","3&&","smart-unless*","keep-inputs","reduce-outputs","smart-when*","cleave>array","smart-with","smart-apply","smart-if","inputs/outputs","output>sequence-n","map-outputs","map-reduce-outputs","dropping","output>array","smart-map-reduce","smart-2map-reduce","output>array-n","nullary","input<sequence","append-outputs","drop-inputs","inputs","smart-2reduce","drop-outputs","smart-reduce","preserving","smart-when","outputs","append-outputs-as","smart-unless","smart-if*","sum-outputs","input<sequence-unsafe","output>sequence"]),e.languages.factor=r}e.exports=t,t.displayName="factor",t.aliases=[]},85088:function(e){"use strict";function t(e){e.languages.false={comment:{pattern:/\{[^}]*\}/},string:{pattern:/"[^"]*"/,greedy:!0},"character-code":{pattern:/'(?:[^\r]|\r\n?)/,alias:"number"},"assembler-code":{pattern:/\d+`/,alias:"important"},number:/\d+/,operator:/[-!#$%&'*+,./:;=>?@\\^_`|~ßø]/,punctuation:/\[|\]/,variable:/[a-z]/,"non-standard":{pattern:/[()<BDO®]/,alias:"bold"}}}e.exports=t,t.displayName="$false",t.aliases=[]},40558:function(e){"use strict";function t(e){e.languages["firestore-security-rules"]=e.languages.extend("clike",{comment:/\/\/.*/,keyword:/\b(?:allow|function|if|match|null|return|rules_version|service)\b/,operator:/&&|\|\||[<>!=]=?|[-+*/%]|\b(?:in|is)\b/}),delete e.languages["firestore-security-rules"]["class-name"],e.languages.insertBefore("firestore-security-rules","keyword",{path:{pattern:/(^|[\s(),])(?:\/(?:[\w\xA0-\uFFFF]+|\{[\w\xA0-\uFFFF]+(?:=\*\*)?\}|\$\([\w\xA0-\uFFFF.]+\)))+/,lookbehind:!0,greedy:!0,inside:{variable:{pattern:/\{[\w\xA0-\uFFFF]+(?:=\*\*)?\}|\$\([\w\xA0-\uFFFF.]+\)/,inside:{operator:/=/,keyword:/\*\*/,punctuation:/[.$(){}]/}},punctuation:/\//}},method:{pattern:/(\ballow\s+)[a-z]+(?:\s*,\s*[a-z]+)*(?=\s*[:;])/,lookbehind:!0,alias:"builtin",inside:{punctuation:/,/}}})}e.exports=t,t.displayName="firestoreSecurityRules",t.aliases=[]},38805:function(e){"use strict";function t(e){e.languages.flow=e.languages.extend("javascript",{}),e.languages.insertBefore("flow","keyword",{type:[{pattern:/\b(?:[Bb]oolean|Function|[Nn]umber|[Ss]tring|any|mixed|null|void)\b/,alias:"tag"}]}),e.languages.flow["function-variable"].pattern=/(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=\s*(?:function\b|(?:\([^()]*\)(?:\s*:\s*\w+)?|(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/i,delete e.languages.flow.parameter,e.languages.insertBefore("flow","operator",{"flow-punctuation":{pattern:/\{\||\|\}/,alias:"punctuation"}}),Array.isArray(e.languages.flow.keyword)||(e.languages.flow.keyword=[e.languages.flow.keyword]),e.languages.flow.keyword.unshift({pattern:/(^|[^$]\b)(?:Class|declare|opaque|type)\b(?!\$)/,lookbehind:!0},{pattern:/(^|[^$]\B)\$(?:Diff|Enum|Exact|Keys|ObjMap|PropertyType|Record|Shape|Subtype|Supertype|await)\b(?!\$)/,lookbehind:!0})}e.exports=t,t.displayName="flow",t.aliases=[]},60590:function(e){"use strict";function t(e){e.languages.fortran={"quoted-number":{pattern:/[BOZ](['"])[A-F0-9]+\1/i,alias:"number"},string:{pattern:/(?:\b\w+_)?(['"])(?:\1\1|&(?:\r\n?|\n)(?:[ \t]*!.*(?:\r\n?|\n)|(?![ \t]*!))|(?!\1).)*(?:\1|&)/,inside:{comment:{pattern:/(&(?:\r\n?|\n)\s*)!.*/,lookbehind:!0}}},comment:{pattern:/!.*/,greedy:!0},boolean:/\.(?:FALSE|TRUE)\.(?:_\w+)?/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[ED][+-]?\d+)?(?:_\w+)?/i,keyword:[/\b(?:CHARACTER|COMPLEX|DOUBLE ?PRECISION|INTEGER|LOGICAL|REAL)\b/i,/\b(?:END ?)?(?:BLOCK ?DATA|DO|FILE|FORALL|FUNCTION|IF|INTERFACE|MODULE(?! PROCEDURE)|PROGRAM|SELECT|SUBROUTINE|TYPE|WHERE)\b/i,/\b(?:ALLOCATABLE|ALLOCATE|BACKSPACE|CALL|CASE|CLOSE|COMMON|CONTAINS|CONTINUE|CYCLE|DATA|DEALLOCATE|DIMENSION|DO|END|EQUIVALENCE|EXIT|EXTERNAL|FORMAT|GO ?TO|IMPLICIT(?: NONE)?|INQUIRE|INTENT|INTRINSIC|MODULE PROCEDURE|NAMELIST|NULLIFY|OPEN|OPTIONAL|PARAMETER|POINTER|PRINT|PRIVATE|PUBLIC|READ|RETURN|REWIND|SAVE|SELECT|STOP|TARGET|WHILE|WRITE)\b/i,/\b(?:ASSIGNMENT|DEFAULT|ELEMENTAL|ELSE|ELSEIF|ELSEWHERE|ENTRY|IN|INCLUDE|INOUT|KIND|NULL|ONLY|OPERATOR|OUT|PURE|RECURSIVE|RESULT|SEQUENCE|STAT|THEN|USE)\b/i],operator:[/\*\*|\/\/|=>|[=\/]=|[<>]=?|::|[+\-*=%]|\.[A-Z]+\./i,{pattern:/(^|(?!\().)\/(?!\))/,lookbehind:!0}],punctuation:/\(\/|\/\)|[(),;:&]/}}e.exports=t,t.displayName="fortran",t.aliases=[]},67365:function(e){"use strict";function t(e){e.languages.fsharp=e.languages.extend("clike",{comment:[{pattern:/(^|[^\\])\(\*(?!\))[\s\S]*?\*\)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(?:"""[\s\S]*?"""|@"(?:""|[^"])*"|"(?:\\[\s\S]|[^\\"])*")B?/,greedy:!0},"class-name":{pattern:/(\b(?:exception|inherit|interface|new|of|type)\s+|\w\s*:\s*|\s:\??>\s*)[.\w]+\b(?:\s*(?:->|\*)\s*[.\w]+\b)*(?!\s*[:.])/,lookbehind:!0,inside:{operator:/->|\*/,punctuation:/\./}},keyword:/\b(?:let|return|use|yield)(?:!\B|\b)|\b(?:abstract|and|as|asr|assert|atomic|base|begin|break|checked|class|component|const|constraint|constructor|continue|default|delegate|do|done|downcast|downto|eager|elif|else|end|event|exception|extern|external|false|finally|fixed|for|fun|function|functor|global|if|in|include|inherit|inline|interface|internal|land|lazy|lor|lsl|lsr|lxor|match|member|method|mixin|mod|module|mutable|namespace|new|not|null|object|of|open|or|override|parallel|private|process|protected|public|pure|rec|sealed|select|sig|static|struct|tailcall|then|to|trait|true|try|type|upcast|val|virtual|void|volatile|when|while|with)\b/,number:[/\b0x[\da-fA-F]+(?:LF|lf|un)?\b/,/\b0b[01]+(?:uy|y)?\b/,/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[fm]|e[+-]?\d+)?\b/i,/\b\d+(?:[IlLsy]|UL|u[lsy]?)?\b/],operator:/([<>~&^])\1\1|([*.:<>&])\2|<-|->|[!=:]=|<?\|{1,3}>?|\??(?:<=|>=|<>|[-+*/%=<>])\??|[!?^&]|~[+~-]|:>|:\?>?/}),e.languages.insertBefore("fsharp","keyword",{preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(^#)\b(?:else|endif|if|light|line|nowarn)\b/,lookbehind:!0,alias:"keyword"}}}}),e.languages.insertBefore("fsharp","punctuation",{"computation-expression":{pattern:/\b[_a-z]\w*(?=\s*\{)/i,alias:"keyword"}}),e.languages.insertBefore("fsharp","string",{annotation:{pattern:/\[<.+?>\]/,greedy:!0,inside:{punctuation:/^\[<|>\]$/,"class-name":{pattern:/^\w+$|(^|;\s*)[A-Z]\w*(?=\()/,lookbehind:!0},"annotation-content":{pattern:/[\s\S]+/,inside:e.languages.fsharp}}},char:{pattern:/'(?:[^\\']|\\(?:.|\d{3}|x[a-fA-F\d]{2}|u[a-fA-F\d]{4}|U[a-fA-F\d]{8}))'B?/,greedy:!0}})}e.exports=t,t.displayName="fsharp",t.aliases=[]},38943:function(e,t,n){"use strict";var r=n(47305);function i(e){e.register(r),function(e){for(var t=/[^<()"']|\((?:<expr>)*\)|<(?!#--)|<#--(?:[^-]|-(?!->))*-->|"(?:[^\\"]|\\.)*"|'(?:[^\\']|\\.)*'/.source,n=0;n<2;n++)t=t.replace(/<expr>/g,function(){return t});t=t.replace(/<expr>/g,/[^\s\S]/.source);var r={comment:/<#--[\s\S]*?-->/,string:[{pattern:/\br("|')(?:(?!\1)[^\\]|\\.)*\1/,greedy:!0},{pattern:RegExp(/("|')(?:(?!\1|\$\{)[^\\]|\\.|\$\{(?:(?!\})(?:<expr>))*\})*\1/.source.replace(/<expr>/g,function(){return t})),greedy:!0,inside:{interpolation:{pattern:RegExp(/((?:^|[^\\])(?:\\\\)*)\$\{(?:(?!\})(?:<expr>))*\}/.source.replace(/<expr>/g,function(){return t})),lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:null}}}}],keyword:/\b(?:as)\b/,boolean:/\b(?:false|true)\b/,"builtin-function":{pattern:/((?:^|[^?])\?\s*)\w+/,lookbehind:!0,alias:"function"},function:/\b\w+(?=\s*\()/,number:/\b\d+(?:\.\d+)?\b/,operator:/\.\.[<*!]?|->|--|\+\+|&&|\|\||\?{1,2}|[-+*/%!=<>]=?|\b(?:gt|gte|lt|lte)\b/,punctuation:/[,;.:()[\]{}]/};r.string[1].inside.interpolation.inside.rest=r,e.languages.ftl={"ftl-comment":{pattern:/^<#--[\s\S]*/,alias:"comment"},"ftl-directive":{pattern:/^<[\s\S]+>$/,inside:{directive:{pattern:/(^<\/?)[#@][a-z]\w*/i,lookbehind:!0,alias:"keyword"},punctuation:/^<\/?|\/?>$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:r}}},"ftl-interpolation":{pattern:/^\$\{[\s\S]*\}$/,inside:{punctuation:/^\$\{|\}$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:r}}}},e.hooks.add("before-tokenize",function(n){var r=RegExp(/<#--[\s\S]*?-->|<\/?[#@][a-zA-Z](?:<expr>)*?>|\$\{(?:<expr>)*?\}/.source.replace(/<expr>/g,function(){return t}),"gi");e.languages["markup-templating"].buildPlaceholders(n,"ftl",r)}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"ftl")})}(e)}e.exports=i,i.displayName="ftl",i.aliases=[]},84268:function(e){"use strict";function t(e){e.languages.gap={shell:{pattern:/^gap>[\s\S]*?(?=^gap>|$(?![\s\S]))/m,greedy:!0,inside:{gap:{pattern:/^(gap>).+(?:(?:\r(?:\n|(?!\n))|\n)>.*)*/,lookbehind:!0,inside:null},punctuation:/^gap>/}},comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(^|[^\\'"])(?:'(?:[^\r\n\\']|\\.){1,10}'|"(?:[^\r\n\\"]|\\.)*"(?!")|"""[\s\S]*?""")/,lookbehind:!0,greedy:!0,inside:{continuation:{pattern:/([\r\n])>/,lookbehind:!0,alias:"punctuation"}}},keyword:/\b(?:Assert|Info|IsBound|QUIT|TryNextMethod|Unbind|and|atomic|break|continue|do|elif|else|end|fi|for|function|if|in|local|mod|not|od|or|quit|readonly|readwrite|rec|repeat|return|then|until|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:{pattern:/(^|[^\w.]|\.\.)(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?:_[a-z]?)?(?=$|[^\w.]|\.\.)/,lookbehind:!0},continuation:{pattern:/([\r\n])>/,lookbehind:!0,alias:"punctuation"},operator:/->|[-+*/^~=!]|<>|[<>]=?|:=|\.\./,punctuation:/[()[\]{},;.:]/},e.languages.gap.shell.inside.gap.inside=e.languages.gap}e.exports=t,t.displayName="gap",t.aliases=[]},73990:function(e){"use strict";function t(e){e.languages.gcode={comment:/;.*|\B\(.*?\)\B/,string:{pattern:/"(?:""|[^"])*"/,greedy:!0},keyword:/\b[GM]\d+(?:\.\d+)?\b/,property:/\b[A-Z]/,checksum:{pattern:/(\*)\d+/,lookbehind:!0,alias:"number"},punctuation:/[:*]/}}e.exports=t,t.displayName="gcode",t.aliases=[]},84748:function(e){"use strict";function t(e){e.languages.gdscript={comment:/#.*/,string:{pattern:/@?(?:("|')(?:(?!\1)[^\n\\]|\\[\s\S])*\1(?!"|')|"""(?:[^\\]|\\[\s\S])*?""")/,greedy:!0},"class-name":{pattern:/(^(?:class|class_name|extends)[ \t]+|^export\([ \t]*|\bas[ \t]+|(?:\b(?:const|var)[ \t]|[,(])[ \t]*\w+[ \t]*:[ \t]*|->[ \t]*)[a-zA-Z_]\w*/m,lookbehind:!0},keyword:/\b(?:and|as|assert|break|breakpoint|class|class_name|const|continue|elif|else|enum|export|extends|for|func|if|in|is|master|mastersync|match|not|null|onready|or|pass|preload|puppet|puppetsync|remote|remotesync|return|self|setget|signal|static|tool|var|while|yield)\b/,function:/\b[a-z_]\w*(?=[ \t]*\()/i,variable:/\$\w+/,number:[/\b0b[01_]+\b|\b0x[\da-fA-F_]+\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.[\d_]+)(?:e[+-]?[\d_]+)?\b/,/\b(?:INF|NAN|PI|TAU)\b/],constant:/\b[A-Z][A-Z_\d]*\b/,boolean:/\b(?:false|true)\b/,operator:/->|:=|&&|\|\||<<|>>|[-+*/%&|!<>=]=?|[~^]/,punctuation:/[.:,;()[\]{}]/}}e.exports=t,t.displayName="gdscript",t.aliases=[]},7039:function(e){"use strict";function t(e){e.languages.gedcom={"line-value":{pattern:/(^[\t ]*\d+ +(?:@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@ +)?\w+ ).+/m,lookbehind:!0,inside:{pointer:{pattern:/^@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@$/,alias:"variable"}}},tag:{pattern:/(^[\t ]*\d+ +(?:@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@ +)?)\w+/m,lookbehind:!0,alias:"string"},level:{pattern:/(^[\t ]*)\d+/m,lookbehind:!0,alias:"number"},pointer:{pattern:/@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@/,alias:"variable"}}}e.exports=t,t.displayName="gedcom",t.aliases=[]},2288:function(e){"use strict";function t(e){var t;t=/(?:\r?\n|\r)[ \t]*\|.+\|(?:(?!\|).)*/.source,e.languages.gherkin={pystring:{pattern:/("""|''')[\s\S]+?\1/,alias:"string"},comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},tag:{pattern:/(^[ \t]*)@\S*/m,lookbehind:!0},feature:{pattern:/((?:^|\r?\n|\r)[ \t]*)(?:Ability|Ahoy matey!|Arwedd|Aspekt|Besigheid Behoefte|Business Need|Caracteristica|Característica|Egenskab|Egenskap|Eiginleiki|Feature|Fīča|Fitur|Fonctionnalité|Fonksyonalite|Funcionalidade|Funcionalitat|Functionalitate|Funcţionalitate|Funcționalitate|Functionaliteit|Fungsi|Funkcia|Funkcija|Funkcionalitāte|Funkcionalnost|Funkcja|Funksie|Funktionalität|Funktionalitéit|Funzionalità|Hwaet|Hwæt|Jellemző|Karakteristik|Lastnost|Mak|Mogucnost|laH|Mogućnost|Moznosti|Možnosti|OH HAI|Omadus|Ominaisuus|Osobina|Özellik|Potrzeba biznesowa|perbogh|poQbogh malja'|Požadavek|Požiadavka|Pretty much|Qap|Qu'meH 'ut|Savybė|Tính năng|Trajto|Vermoë|Vlastnosť|Właściwość|Značilnost|Δυνατότητα|Λειτουργία|Могућност|Мөмкинлек|Особина|Свойство|Үзенчәлеклелек|Функционал|Функционалност|Функция|Функціонал|תכונה|خاصية|خصوصیت|صلاحیت|کاروبار کی ضرورت|وِیژگی|रूप लेख|ਖਾਸੀਅਤ|ਨਕਸ਼ ਨੁਹਾਰ|ਮੁਹਾਂਦਰਾ|గుణము|ಹೆಚ್ಚಳ|ความต้องการทางธุรกิจ|ความสามารถ|โครงหลัก|기능|フィーチャ|功能|機能):(?:[^:\r\n]+(?:\r?\n|\r|$))*/,lookbehind:!0,inside:{important:{pattern:/(:)[^\r\n]+/,lookbehind:!0},keyword:/[^:\r\n]+:/}},scenario:{pattern:/(^[ \t]*)(?:Abstract Scenario|Abstrakt Scenario|Achtergrond|Aer|Ær|Agtergrond|All y'all|Antecedentes|Antecedents|Atburðarás|Atburðarásir|Awww, look mate|B4|Background|Baggrund|Bakgrund|Bakgrunn|Bakgrunnur|Beispiele|Beispiller|Bối cảnh|Cefndir|Cenario|Cenário|Cenario de Fundo|Cenário de Fundo|Cenarios|Cenários|Contesto|Context|Contexte|Contexto|Conto|Contoh|Contone|Dæmi|Dasar|Dead men tell no tales|Delineacao do Cenario|Delineação do Cenário|Dis is what went down|Dữ liệu|Dyagram Senaryo|Dyagram senaryo|Egzanp|Ejemplos|Eksempler|Ekzemploj|Enghreifftiau|Esbozo do escenario|Escenari|Escenario|Esempi|Esquema de l'escenari|Esquema del escenario|Esquema do Cenario|Esquema do Cenário|EXAMPLZ|Examples|Exempel|Exemple|Exemples|Exemplos|First off|Fono|Forgatókönyv|Forgatókönyv vázlat|Fundo|Geçmiş|Grundlage|Hannergrond|ghantoH|Háttér|Heave to|Istorik|Juhtumid|Keadaan|Khung kịch bản|Khung tình huống|Kịch bản|Koncept|Konsep skenario|Kontèks|Kontekst|Kontekstas|Konteksts|Kontext|Konturo de la scenaro|Latar Belakang|lut chovnatlh|lut|lutmey|Lýsing Atburðarásar|Lýsing Dæma|MISHUN SRSLY|MISHUN|Menggariskan Senario|mo'|Náčrt Scenára|Náčrt Scénáře|Náčrt Scenáru|Oris scenarija|Örnekler|Osnova|Osnova Scenára|Osnova scénáře|Osnutek|Ozadje|Paraugs|Pavyzdžiai|Példák|Piemēri|Plan du scénario|Plan du Scénario|Plan Senaryo|Plan senaryo|Plang vum Szenario|Pozadí|Pozadie|Pozadina|Príklady|Příklady|Primer|Primeri|Primjeri|Przykłady|Raamstsenaarium|Reckon it's like|Rerefons|Scenár|Scénář|Scenarie|Scenarij|Scenarijai|Scenarijaus šablonas|Scenariji|Scenārijs|Scenārijs pēc parauga|Scenarijus|Scenario|Scénario|Scenario Amlinellol|Scenario Outline|Scenario Template|Scenariomal|Scenariomall|Scenarios|Scenariu|Scenariusz|Scenaro|Schema dello scenario|Se ðe|Se the|Se þe|Senario|Senaryo Deskripsyon|Senaryo deskripsyon|Senaryo|Senaryo taslağı|Shiver me timbers|Situācija|Situai|Situasie Uiteensetting|Situasie|Skenario konsep|Skenario|Skica|Structura scenariu|Structură scenariu|Struktura scenarija|Stsenaarium|Swa hwaer swa|Swa|Swa hwær swa|Szablon scenariusza|Szenario|Szenariogrundriss|Tapaukset|Tapaus|Tapausaihio|Taust|Tausta|Template Keadaan|Template Senario|Template Situai|The thing of it is|Tình huống|Variantai|Voorbeelde|Voorbeelden|Wharrimean is|Yo-ho-ho|You'll wanna|Założenia|Παραδείγματα|Περιγραφή Σεναρίου|Σενάρια|Σενάριο|Υπόβαθρο|Кереш|Контекст|Концепт|Мисаллар|Мисоллар|Основа|Передумова|Позадина|Предистория|Предыстория|Приклади|Пример|Примери|Примеры|Рамка на сценарий|Скица|Структура сценарија|Структура сценария|Структура сценарію|Сценарий|Сценарий структураси|Сценарийның төзелеше|Сценарији|Сценарио|Сценарій|Тарих|Үрнәкләр|דוגמאות|רקע|תבנית תרחיש|תרחיש|الخلفية|الگوی سناریو|امثلة|پس منظر|زمینه|سناریو|سيناريو|سيناريو مخطط|مثالیں|منظر نامے کا خاکہ|منظرنامہ|نمونه ها|उदाहरण|परिदृश्य|परिदृश्य रूपरेखा|पृष्ठभूमि|ਉਦਾਹਰਨਾਂ|ਪਟਕਥਾ|ਪਟਕਥਾ ਢਾਂਚਾ|ਪਟਕਥਾ ਰੂਪ ਰੇਖਾ|ਪਿਛੋਕੜ|ఉదాహరణలు|కథనం|నేపథ్యం|సన్నివేశం|ಉದಾಹರಣೆಗಳು|ಕಥಾಸಾರಾಂಶ|ವಿವರಣೆ|ಹಿನ್ನೆಲೆ|โครงสร้างของเหตุการณ์|ชุดของตัวอย่าง|ชุดของเหตุการณ์|แนวคิด|สรุปเหตุการณ์|เหตุการณ์|배경|시나리오|시나리오 개요|예|サンプル|シナリオ|シナリオアウトライン|シナリオテンプレ|シナリオテンプレート|テンプレ|例|例子|剧本|剧本大纲|劇本|劇本大綱|场景|场景大纲|場景|場景大綱|背景):[^:\r\n]*/m,lookbehind:!0,inside:{important:{pattern:/(:)[^\r\n]*/,lookbehind:!0},keyword:/[^:\r\n]+:/}},"table-body":{pattern:RegExp("("+t+")(?:"+t+")+"),lookbehind:!0,inside:{outline:{pattern:/<[^>]+>/,alias:"variable"},td:{pattern:/\s*[^\s|][^|]*/,alias:"string"},punctuation:/\|/}},"table-head":{pattern:RegExp(t),inside:{th:{pattern:/\s*[^\s|][^|]*/,alias:"variable"},punctuation:/\|/}},atrule:{pattern:/(^[ \t]+)(?:'a|'ach|'ej|7|a|A také|A taktiež|A tiež|A zároveň|Aber|Ac|Adott|Akkor|Ak|Aleshores|Ale|Ali|Allora|Alors|Als|Ama|Amennyiben|Amikor|Ampak|an|AN|Ananging|And y'all|And|Angenommen|Anrhegedig a|An|Apabila|Atès|Atesa|Atunci|Avast!|Aye|A|awer|Bagi|Banjur|Bet|Biết|Blimey!|Buh|But at the end of the day I reckon|But y'all|But|BUT|Cal|Când|Cand|Cando|Ce|Cuando|Če|Ða ðe|Ða|Dadas|Dada|Dados|Dado|DaH ghu' bejlu'|dann|Dann|Dano|Dan|Dar|Dat fiind|Data|Date fiind|Date|Dati fiind|Dati|Daţi fiind|Dați fiind|DEN|Dato|De|Den youse gotta|Dengan|Diberi|Diyelim ki|Donada|Donat|Donitaĵo|Do|Dun|Duota|Ðurh|Eeldades|Ef|Eğer ki|Entao|Então|Entón|E|En|Entonces|Epi|És|Etant donnée|Etant donné|Et|Étant données|Étant donnée|Étant donné|Etant données|Etant donnés|Étant donnés|Fakat|Gangway!|Gdy|Gegeben seien|Gegeben sei|Gegeven|Gegewe|ghu' noblu'|Gitt|Given y'all|Given|Givet|Givun|Ha|Cho|I CAN HAZ|In|Ir|It's just unbelievable|I|Ja|Jeśli|Jeżeli|Kad|Kada|Kadar|Kai|Kaj|Když|Keď|Kemudian|Ketika|Khi|Kiedy|Ko|Kuid|Kui|Kun|Lan|latlh|Le sa a|Let go and haul|Le|Lè sa a|Lè|Logo|Lorsqu'<|Lorsque|mä|Maar|Mais|Mając|Ma|Majd|Maka|Manawa|Mas|Men|Menawa|Mutta|Nalika|Nalikaning|Nanging|Når|När|Nato|Nhưng|Niin|Njuk|O zaman|Och|Og|Oletetaan|Ond|Onda|Oraz|Pak|Pero|Però|Podano|Pokiaľ|Pokud|Potem|Potom|Privzeto|Pryd|Quan|Quand|Quando|qaSDI'|Så|Sed|Se|Siis|Sipoze ke|Sipoze Ke|Sipoze|Si|Şi|Și|Soit|Stel|Tada|Tad|Takrat|Tak|Tapi|Ter|Tetapi|Tha the|Tha|Then y'all|Then|Thì|Thurh|Toda|Too right|Un|Und|ugeholl|Và|vaj|Vendar|Ve|wann|Wanneer|WEN|Wenn|When y'all|When|Wtedy|Wun|Y'know|Yeah nah|Yna|Youse know like when|Youse know when youse got|Y|Za predpokladu|Za předpokladu|Zadan|Zadani|Zadano|Zadate|Zadato|Zakładając|Zaradi|Zatati|Þa þe|Þa|Þá|Þegar|Þurh|Αλλά|Δεδομένου|Και|Όταν|Τότε|А також|Агар|Але|Али|Аммо|А|Әгәр|Әйтик|Әмма|Бирок|Ва|Вә|Дадено|Дано|Допустим|Если|Задате|Задати|Задато|И|І|К тому же|Када|Кад|Когато|Когда|Коли|Ләкин|Лекин|Нәтиҗәдә|Нехай|Но|Онда|Припустимо, що|Припустимо|Пусть|Также|Та|Тогда|Тоді|То|Унда|Һәм|Якщо|אבל|אזי|אז|בהינתן|וגם|כאשר|آنگاه|اذاً|اگر|اما|اور|با فرض|بالفرض|بفرض|پھر|تب|ثم|جب|عندما|فرض کیا|لكن|لیکن|متى|هنگامی|و|अगर|और|कदा|किन्तु|चूंकि|जब|तथा|तदा|तब|परन्तु|पर|यदि|ਅਤੇ|ਜਦੋਂ|ਜਿਵੇਂ ਕਿ|ਜੇਕਰ|ਤਦ|ਪਰ|అప్పుడు|ఈ పరిస్థితిలో|కాని|చెప్పబడినది|మరియు|ಆದರೆ|ನಂತರ|ನೀಡಿದ|ಮತ್ತು|ಸ್ಥಿತಿಯನ್ನು|กำหนดให้|ดังนั้น|แต่|เมื่อ|และ|그러면<|그리고<|단<|만약<|만일<|먼저<|조건<|하지만<|かつ<|しかし<|ただし<|ならば<|もし<|並且<|但し<|但是<|假如<|假定<|假設<|假设<|前提<|同时<|同時<|并且<|当<|當<|而且<|那么<|那麼<)(?=[ \t])/m,lookbehind:!0},string:{pattern:/"(?:\\.|[^"\\\r\n])*"|'(?:\\.|[^'\\\r\n])*'/,inside:{outline:{pattern:/<[^>]+>/,alias:"variable"}}},outline:{pattern:/<[^>]+>/,alias:"variable"}}}e.exports=t,t.displayName="gherkin",t.aliases=[]},64262:function(e){"use strict";function t(e){e.languages.git={comment:/^#.*/m,deleted:/^[-–].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/}},coord:/^@@.*@@$/m,"commit-sha1":/^commit \w{40}$/m}}e.exports=t,t.displayName="git",t.aliases=[]},39437:function(e,t,n){"use strict";var r=n(22838);function i(e){e.register(r),e.languages.glsl=e.languages.extend("c",{keyword:/\b(?:active|asm|atomic_uint|attribute|[ibdu]?vec[234]|bool|break|buffer|case|cast|centroid|class|coherent|common|const|continue|d?mat[234](?:x[234])?|default|discard|do|double|else|enum|extern|external|false|filter|fixed|flat|float|for|fvec[234]|goto|half|highp|hvec[234]|[iu]?sampler2DMS(?:Array)?|[iu]?sampler2DRect|[iu]?samplerBuffer|[iu]?samplerCube|[iu]?samplerCubeArray|[iu]?sampler[123]D|[iu]?sampler[12]DArray|[iu]?image2DMS(?:Array)?|[iu]?image2DRect|[iu]?imageBuffer|[iu]?imageCube|[iu]?imageCubeArray|[iu]?image[123]D|[iu]?image[12]DArray|if|in|inline|inout|input|int|interface|invariant|layout|long|lowp|mediump|namespace|noinline|noperspective|out|output|partition|patch|precise|precision|public|readonly|resource|restrict|return|sample|sampler[12]DArrayShadow|sampler[12]DShadow|sampler2DRectShadow|sampler3DRect|samplerCubeArrayShadow|samplerCubeShadow|shared|short|sizeof|smooth|static|struct|subroutine|superp|switch|template|this|true|typedef|uint|uniform|union|unsigned|using|varying|void|volatile|while|writeonly)\b/})}e.exports=i,i.displayName="glsl",i.aliases=[]},1510:function(e){"use strict";function t(e){e.languages.gamemakerlanguage=e.languages.gml=e.languages.extend("clike",{keyword:/\b(?:break|case|continue|default|do|else|enum|exit|for|globalvar|if|repeat|return|switch|until|var|while)\b/,number:/(?:\b0x[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ulf]{0,4}/i,operator:/--|\+\+|[-+%/=]=?|!=|\*\*?=?|<[<=>]?|>[=>]?|&&?|\^\^?|\|\|?|~|\b(?:and|at|not|or|with|xor)\b/,constant:/\b(?:GM_build_date|GM_version|action_(?:continue|restart|reverse|stop)|all|gamespeed_(?:fps|microseconds)|global|local|noone|other|pi|pointer_(?:invalid|null)|self|timezone_(?:local|utc)|undefined|ev_(?:create|destroy|step|alarm|keyboard|mouse|collision|other|draw|draw_(?:begin|end|post|pre)|keypress|keyrelease|trigger|(?:left|middle|no|right)_button|(?:left|middle|right)_press|(?:left|middle|right)_release|mouse_(?:enter|leave|wheel_down|wheel_up)|global_(?:left|middle|right)_button|global_(?:left|middle|right)_press|global_(?:left|middle|right)_release|joystick(?:1|2)_(?:button1|button2|button3|button4|button5|button6|button7|button8|down|left|right|up)|outside|boundary|game_start|game_end|room_start|room_end|no_more_lives|animation_end|end_of_path|no_more_health|user\d|gui|gui_begin|gui_end|step_(?:begin|end|normal))|vk_(?:alt|anykey|backspace|control|delete|down|end|enter|escape|home|insert|left|nokey|pagedown|pageup|pause|printscreen|return|right|shift|space|tab|up|f\d|numpad\d|add|decimal|divide|lalt|lcontrol|lshift|multiply|ralt|rcontrol|rshift|subtract)|achievement_(?:filter_(?:all_players|favorites_only|friends_only)|friends_info|info|leaderboard_info|our_info|pic_loaded|show_(?:achievement|bank|friend_picker|leaderboard|profile|purchase_prompt|ui)|type_challenge|type_score_challenge)|asset_(?:font|object|path|room|script|shader|sound|sprite|tiles|timeline|unknown)|audio_(?:3d|falloff_(?:exponent_distance|exponent_distance_clamped|inverse_distance|inverse_distance_clamped|linear_distance|linear_distance_clamped|none)|mono|new_system|old_system|stereo)|bm_(?:add|complex|dest_alpha|dest_color|dest_colour|inv_dest_alpha|inv_dest_color|inv_dest_colour|inv_src_alpha|inv_src_color|inv_src_colour|max|normal|one|src_alpha|src_alpha_sat|src_color|src_colour|subtract|zero)|browser_(?:chrome|firefox|ie|ie_mobile|not_a_browser|opera|safari|safari_mobile|tizen|unknown|windows_store)|buffer_(?:bool|f16|f32|f64|fast|fixed|generalerror|grow|invalidtype|network|outofbounds|outofspace|s16|s32|s8|seek_end|seek_relative|seek_start|string|text|u16|u32|u64|u8|vbuffer|wrap)|c_(?:aqua|black|blue|dkgray|fuchsia|gray|green|lime|ltgray|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow)|cmpfunc_(?:always|equal|greater|greaterequal|less|lessequal|never|notequal)|cr_(?:appstart|arrow|beam|cross|default|drag|handpoint|hourglass|none|size_all|size_nesw|size_ns|size_nwse|size_we|uparrow)|cull_(?:clockwise|counterclockwise|noculling)|device_(?:emulator|tablet)|device_ios_(?:ipad|ipad_retina|iphone|iphone5|iphone6|iphone6plus|iphone_retina|unknown)|display_(?:landscape|landscape_flipped|portrait|portrait_flipped)|dll_(?:cdecl|cdel|stdcall)|ds_type_(?:grid|list|map|priority|queue|stack)|ef_(?:cloud|ellipse|explosion|firework|flare|rain|ring|smoke|smokeup|snow|spark|star)|fa_(?:archive|bottom|center|directory|hidden|left|middle|readonly|right|sysfile|top|volumeid)|fb_login_(?:default|fallback_to_webview|forcing_safari|forcing_webview|no_fallback_to_webview|use_system_account)|iap_(?:available|canceled|ev_consume|ev_product|ev_purchase|ev_restore|ev_storeload|failed|purchased|refunded|status_available|status_loading|status_processing|status_restoring|status_unavailable|status_uninitialised|storeload_failed|storeload_ok|unavailable)|leaderboard_type_(?:number|time_mins_secs)|lighttype_(?:dir|point)|matrix_(?:projection|view|world)|mb_(?:any|left|middle|none|right)|network_(?:config_(?:connect_timeout|disable_reliable_udp|enable_reliable_udp|use_non_blocking_socket)|socket_(?:bluetooth|tcp|udp)|type_(?:connect|data|disconnect|non_blocking_connect))|of_challenge_(?:lose|tie|win)|os_(?:android|ios|linux|macosx|ps3|ps4|psvita|unknown|uwp|win32|win8native|windows|winphone|xboxone)|phy_debug_render_(?:aabb|collision_pairs|coms|core_shapes|joints|obb|shapes)|phy_joint_(?:anchor_1_x|anchor_1_y|anchor_2_x|anchor_2_y|angle|angle_limits|damping_ratio|frequency|length_1|length_2|lower_angle_limit|max_force|max_length|max_motor_force|max_motor_torque|max_torque|motor_force|motor_speed|motor_torque|reaction_force_x|reaction_force_y|reaction_torque|speed|translation|upper_angle_limit)|phy_particle_data_flag_(?:category|color|colour|position|typeflags|velocity)|phy_particle_flag_(?:colormixing|colourmixing|elastic|powder|spring|tensile|viscous|wall|water|zombie)|phy_particle_group_flag_(?:rigid|solid)|pr_(?:linelist|linestrip|pointlist|trianglefan|trianglelist|trianglestrip)|ps_(?:distr|shape)_(?:diamond|ellipse|gaussian|invgaussian|line|linear|rectangle)|pt_shape_(?:circle|cloud|disk|explosion|flare|line|pixel|ring|smoke|snow|spark|sphere|square|star)|ty_(?:real|string)|gp_(?:face\d|axislh|axislv|axisrh|axisrv|padd|padl|padr|padu|select|shoulderl|shoulderlb|shoulderr|shoulderrb|start|stickl|stickr)|lb_disp_(?:none|numeric|time_ms|time_sec)|lb_sort_(?:ascending|descending|none)|ov_(?:achievements|community|friends|gamegroup|players|settings)|ugc_(?:filetype_(?:community|microtrans)|list_(?:Favorited|Followed|Published|Subscribed|UsedOrPlayed|VotedDown|VotedOn|VotedUp|WillVoteLater)|match_(?:AllGuides|Artwork|Collections|ControllerBindings|IntegratedGuides|Items|Items_Mtx|Items_ReadyToUse|Screenshots|UsableInGame|Videos|WebGuides)|query_(?:AcceptedForGameRankedByAcceptanceDate|CreatedByFriendsRankedByPublicationDate|FavoritedByFriendsRankedByPublicationDate|NotYetRated)|query_RankedBy(?:NumTimesReported|PublicationDate|TextSearch|TotalVotesAsc|Trend|Vote|VotesUp)|result_success|sortorder_CreationOrder(?:Asc|Desc)|sortorder_(?:ForModeration|LastUpdatedDesc|SubscriptionDateDesc|TitleAsc|VoteScoreDesc)|visibility_(?:friends_only|private|public))|vertex_usage_(?:binormal|blendindices|blendweight|color|colour|depth|fog|normal|position|psize|sample|tangent|texcoord|textcoord)|vertex_type_(?:float\d|color|colour|ubyte4)|input_type|layerelementtype_(?:background|instance|oldtilemap|particlesystem|sprite|tile|tilemap|undefined)|se_(?:chorus|compressor|echo|equalizer|flanger|gargle|none|reverb)|text_type|tile_(?:flip|index_mask|mirror|rotate)|(?:obj|rm|scr|spr)\w+)\b/,variable:/\b(?:alarm|application_surface|async_load|background_(?:alpha|blend|color|colour|foreground|height|hspeed|htiled|index|showcolor|showcolour|visible|vspeed|vtiled|width|x|xscale|y|yscale)|bbox_(?:bottom|left|right|top)|browser_(?:height|width)|caption_(?:health|lives|score)|current_(?:day|hour|minute|month|second|time|weekday|year)|cursor_sprite|debug_mode|delta_time|direction|display_aa|error_(?:last|occurred)|event_(?:action|number|object|type)|fps|fps_real|friction|game_(?:display|project|save)_(?:id|name)|gamemaker_(?:pro|registered|version)|gravity|gravity_direction|(?:h|v)speed|health|iap_data|id|image_(?:alpha|angle|blend|depth|index|number|speed|xscale|yscale)|instance_(?:count|id)|keyboard_(?:key|lastchar|lastkey|string)|layer|lives|mask_index|mouse_(?:button|lastbutton|x|y)|object_index|os_(?:browser|device|type|version)|path_(?:endaction|index|orientation|position|positionprevious|scale|speed)|persistent|phy_(?:rotation|(?:col_normal|collision|com|linear_velocity|position|speed)_(?:x|y)|angular_(?:damping|velocity)|position_(?:x|y)previous|speed|linear_damping|bullet|fixed_rotation|active|mass|inertia|dynamic|kinematic|sleeping|collision_points)|pointer_(?:invalid|null)|room|room_(?:caption|first|height|last|persistent|speed|width)|score|secure_mode|show_(?:health|lives|score)|solid|speed|sprite_(?:height|index|width|xoffset|yoffset)|temp_directory|timeline_(?:index|loop|position|running|speed)|transition_(?:color|kind|steps)|undefined|view_(?:angle|current|enabled|(?:h|v)(?:border|speed)|(?:h|w|x|y)port|(?:h|w|x|y)view|object|surface_id|visible)|visible|webgl_enabled|working_directory|(?:x|y)(?:previous|start)|x|y|argument(?:_relitive|_count|\d)|argument|global|local|other|self)\b/})}e.exports=t,t.displayName="gml",t.aliases=[]},45665:function(e){"use strict";function t(e){e.languages.gn={comment:{pattern:/#.*/,greedy:!0},"string-literal":{pattern:/(^|[^\\"])"(?:[^\r\n"\\]|\\.)*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\{[\s\S]*?\}|[a-zA-Z_]\w*|0x[a-fA-F0-9]{2})/,lookbehind:!0,inside:{number:/^\$0x[\s\S]{2}$/,variable:/^\$\w+$/,"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}},string:/[\s\S]+/}},keyword:/\b(?:else|if)\b/,boolean:/\b(?:false|true)\b/,"builtin-function":{pattern:/\b(?:assert|defined|foreach|import|pool|print|template|tool|toolchain)(?=\s*\()/i,alias:"keyword"},function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:current_cpu|current_os|current_toolchain|default_toolchain|host_cpu|host_os|root_build_dir|root_gen_dir|root_out_dir|target_cpu|target_gen_dir|target_os|target_out_dir)\b/,number:/-?\b\d+\b/,operator:/[-+!=<>]=?|&&|\|\|/,punctuation:/[(){}[\],.]/},e.languages.gn["string-literal"].inside.interpolation.inside.expression.inside=e.languages.gn,e.languages.gni=e.languages.gn}e.exports=t,t.displayName="gn",t.aliases=["gni"]},21957:function(e){"use strict";function t(e){e.languages["go-mod"]=e.languages["go-module"]={comment:{pattern:/\/\/.*/,greedy:!0},version:{pattern:/(^|[\s()[\],])v\d+\.\d+\.\d+(?:[+-][-+.\w]*)?(?![^\s()[\],])/,lookbehind:!0,alias:"number"},"go-version":{pattern:/((?:^|\s)go\s+)\d+(?:\.\d+){1,2}/,lookbehind:!0,alias:"number"},keyword:{pattern:/^([ \t]*)(?:exclude|go|module|replace|require|retract)\b/m,lookbehind:!0},operator:/=>/,punctuation:/[()[\],]/}}e.exports=t,t.displayName="goModule",t.aliases=[]},86250:function(e){"use strict";function t(e){e.languages.go=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),e.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete e.languages.go["class-name"]}e.exports=t,t.displayName="go",t.aliases=[]},33526:function(e){"use strict";function t(e){e.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:e.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/},e.hooks.add("after-tokenize",function(e){if("graphql"===e.language)for(var t=e.tokens.filter(function(e){return"string"!=typeof e&&"comment"!==e.type&&"scalar"!==e.type}),n=0;n<t.length;){var r=t[n++];if("keyword"===r.type&&"mutation"===r.content){var i=[];if(u(["definition-mutation","punctuation"])&&"("===t[n+1].content){n+=2;var o=d(/^\($/,/^\)$/);if(-1===o)continue;for(;n<o;n++){var a=t[n+0];"variable"===a.type&&(p(a,"variable-input"),i.push(a.content))}n=o+1}if(u(["punctuation","property-query"])&&"{"===t[n+0].content&&(p(t[++n+0],"property-mutation"),i.length>0)){var s=d(/^\{$/,/^\}$/);if(-1===s)continue;for(var l=n;l<s;l++){var c=t[l];"variable"===c.type&&i.indexOf(c.content)>=0&&p(c,"variable-input")}}}}function u(e,r){r=r||0;for(var i=0;i<e.length;i++){var o=t[n+(i+r)];if(!o||o.type!==e[i])return!1}return!0}function d(e,r){for(var i=1,o=n;o<t.length;o++){var a=t[o],s=a.content;if("punctuation"===a.type&&"string"==typeof s){if(e.test(s))i++;else if(r.test(s)&&0==--i)return o}}return -1}function p(e,t){var n=e.alias;n?Array.isArray(n)||(e.alias=n=[n]):e.alias=n=[],n.push(t)}})}e.exports=t,t.displayName="graphql",t.aliases=[]},44230:function(e){"use strict";function t(e){e.languages.groovy=e.languages.extend("clike",{string:[{pattern:/("""|''')(?:[^\\]|\\[\s\S])*?\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0},{pattern:/(["'/])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0}],keyword:/\b(?:abstract|as|assert|boolean|break|byte|case|catch|char|class|const|continue|def|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|in|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),e.languages.insertBefore("groovy","string",{shebang:{pattern:/#!.+/,alias:"comment"}}),e.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(?:and|cleanup|expect|given|setup|then|when|where):/}),e.languages.insertBefore("groovy","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),e.hooks.add("wrap",function(t){if("groovy"===t.language&&"string"===t.type){var n=t.content.value[0];if("'"!=n){var r=/([^\\])(?:\$(?:\{.*?\}|[\w.]+))/;"$"===n&&(r=/([^\$])(?:\$(?:\{.*?\}|[\w.]+))/),t.content.value=t.content.value.replace(/&lt;/g,"<").replace(/&amp;/g,"&"),t.content=e.highlight(t.content.value,{expression:{pattern:r,lookbehind:!0,inside:e.languages.groovy}}),t.classes.push("/"===n?"regex":"gstring")}}})}e.exports=t,t.displayName="groovy",t.aliases=[]},96361:function(e,t,n){"use strict";var r=n(22816);function i(e){e.register(r),function(e){e.languages.haml={"multiline-comment":{pattern:/((?:^|\r?\n|\r)([\t ]*))(?:\/|-#).*(?:(?:\r?\n|\r)\2[\t ].+)*/,lookbehind:!0,alias:"comment"},"multiline-code":[{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*,[\t ]*(?:(?:\r?\n|\r)\2[\t ].*,[\t ]*)*(?:(?:\r?\n|\r)\2[\t ].+)/,lookbehind:!0,inside:e.languages.ruby},{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*\|[\t ]*(?:(?:\r?\n|\r)\2[\t ].*\|[\t ]*)*/,lookbehind:!0,inside:e.languages.ruby}],filter:{pattern:/((?:^|\r?\n|\r)([\t ]*)):[\w-]+(?:(?:\r?\n|\r)(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/,lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"}}},markup:{pattern:/((?:^|\r?\n|\r)[\t ]*)<.+/,lookbehind:!0,inside:e.languages.markup},doctype:{pattern:/((?:^|\r?\n|\r)[\t ]*)!!!(?: .+)?/,lookbehind:!0},tag:{pattern:/((?:^|\r?\n|\r)[\t ]*)[%.#][\w\-#.]*[\w\-](?:\([^)]+\)|\{(?:\{[^}]+\}|[^{}])+\}|\[[^\]]+\])*[\/<>]*/,lookbehind:!0,inside:{attributes:[{pattern:/(^|[^#])\{(?:\{[^}]+\}|[^{}])+\}/,lookbehind:!0,inside:e.languages.ruby},{pattern:/\([^)]+\)/,inside:{"attr-value":{pattern:/(=\s*)(?:"(?:\\.|[^\\"\r\n])*"|[^)\s]+)/,lookbehind:!0},"attr-name":/[\w:-]+(?=\s*!?=|\s*[,)])/,punctuation:/[=(),]/}},{pattern:/\[[^\]]+\]/,inside:e.languages.ruby}],punctuation:/[<>]/}},code:{pattern:/((?:^|\r?\n|\r)[\t ]*(?:[~-]|[&!]?=)).+/,lookbehind:!0,inside:e.languages.ruby},interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},ruby:{pattern:/[\s\S]+/,inside:e.languages.ruby}}},punctuation:{pattern:/((?:^|\r?\n|\r)[\t ]*)[~=\-&!]+/,lookbehind:!0}};for(var t=["css",{filter:"coffee",language:"coffeescript"},"erb","javascript","less","markdown","ruby","scss","textile"],n={},r=0,i=t.length;r<i;r++){var o=t[r];o="string"==typeof o?{filter:o,language:o}:o,e.languages[o.language]&&(n["filter-"+o.filter]={pattern:RegExp("((?:^|\\r?\\n|\\r)([\\t ]*)):{{filter_name}}(?:(?:\\r?\\n|\\r)(?:\\2[\\t ].+|\\s*?(?=\\r?\\n|\\r)))+".replace("{{filter_name}}",function(){return o.filter})),lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"},text:{pattern:/[\s\S]+/,alias:[o.language,"language-"+o.language],inside:e.languages[o.language]}}})}e.languages.insertBefore("haml","filter",n)}(e)}e.exports=i,i.displayName="haml",i.aliases=[]},79922:function(e,t,n){"use strict";var r=n(47305);function i(e){e.register(r),e.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:false|true)\b/,block:{pattern:/^(\s*(?:~\s*)?)[#\/]\S+?(?=\s*(?:~\s*)?$|\s)/,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&':()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,\/;<=>@\[\\\]^`{|}~\s]+/},e.hooks.add("before-tokenize",function(t){e.languages["markup-templating"].buildPlaceholders(t,"handlebars",/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g)}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"handlebars")}),e.languages.hbs=e.languages.handlebars}e.exports=i,i.displayName="handlebars",i.aliases=["hbs"]},32997:function(e){"use strict";function t(e){e.languages.haskell={comment:{pattern:/(^|[^-!#$%*+=?&@|~.:<>^\\\/])(?:--(?:(?=.)[^-!#$%*+=?&@|~.:<>^\\\/].*|$)|\{-[\s\S]*?-\})/m,lookbehind:!0},char:{pattern:/'(?:[^\\']|\\(?:[abfnrtv\\"'&]|\^[A-Z@[\]^_]|ACK|BEL|BS|CAN|CR|DC1|DC2|DC3|DC4|DEL|DLE|EM|ENQ|EOT|ESC|ETB|ETX|FF|FS|GS|HT|LF|NAK|NUL|RS|SI|SO|SOH|SP|STX|SUB|SYN|US|VT|\d+|o[0-7]+|x[0-9a-fA-F]+))'/,alias:"string"},string:{pattern:/"(?:[^\\"]|\\(?:\S|\s+\\))*"/,greedy:!0},keyword:/\b(?:case|class|data|deriving|do|else|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b/,"import-statement":{pattern:/(^[\t ]*)import\s+(?:qualified\s+)?(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*(?:\s+as\s+(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import|qualified)\b/,punctuation:/\./}},builtin:/\b(?:abs|acos|acosh|all|and|any|appendFile|approxRational|asTypeOf|asin|asinh|atan|atan2|atanh|basicIORun|break|catch|ceiling|chr|compare|concat|concatMap|const|cos|cosh|curry|cycle|decodeFloat|denominator|digitToInt|div|divMod|drop|dropWhile|either|elem|encodeFloat|enumFrom|enumFromThen|enumFromThenTo|enumFromTo|error|even|exp|exponent|fail|filter|flip|floatDigits|floatRadix|floatRange|floor|fmap|foldl|foldl1|foldr|foldr1|fromDouble|fromEnum|fromInt|fromInteger|fromIntegral|fromRational|fst|gcd|getChar|getContents|getLine|group|head|id|inRange|index|init|intToDigit|interact|ioError|isAlpha|isAlphaNum|isAscii|isControl|isDenormalized|isDigit|isHexDigit|isIEEE|isInfinite|isLower|isNaN|isNegativeZero|isOctDigit|isPrint|isSpace|isUpper|iterate|last|lcm|length|lex|lexDigits|lexLitChar|lines|log|logBase|lookup|map|mapM|mapM_|max|maxBound|maximum|maybe|min|minBound|minimum|mod|negate|not|notElem|null|numerator|odd|or|ord|otherwise|pack|pi|pred|primExitWith|print|product|properFraction|putChar|putStr|putStrLn|quot|quotRem|range|rangeSize|read|readDec|readFile|readFloat|readHex|readIO|readInt|readList|readLitChar|readLn|readOct|readParen|readSigned|reads|readsPrec|realToFrac|recip|rem|repeat|replicate|return|reverse|round|scaleFloat|scanl|scanl1|scanr|scanr1|seq|sequence|sequence_|show|showChar|showInt|showList|showLitChar|showParen|showSigned|showString|shows|showsPrec|significand|signum|sin|sinh|snd|sort|span|splitAt|sqrt|subtract|succ|sum|tail|take|takeWhile|tan|tanh|threadToIOResult|toEnum|toInt|toInteger|toLower|toRational|toUpper|truncate|uncurry|undefined|unlines|until|unwords|unzip|unzip3|userError|words|writeFile|zip|zip3|zipWith|zipWith3)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0o[0-7]+|0x[0-9a-f]+)\b/i,operator:[{pattern:/`(?:[A-Z][\w']*\.)*[_a-z][\w']*`/,greedy:!0},{pattern:/(\s)\.(?=\s)/,lookbehind:!0},/[-!#$%*+=?&@|~:<>^\\\/][-!#$%*+=?&@|~.:<>^\\\/]*|\.[-!#$%*+=?&@|~.:<>^\\\/]+/],hvariable:{pattern:/\b(?:[A-Z][\w']*\.)*[_a-z][\w']*/,inside:{punctuation:/\./}},constant:{pattern:/\b(?:[A-Z][\w']*\.)*[A-Z][\w']*/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:]/},e.languages.hs=e.languages.haskell}e.exports=t,t.displayName="haskell",t.aliases=["hs"]},59078:function(e){"use strict";function t(e){e.languages.haxe=e.languages.extend("clike",{string:{pattern:/"(?:[^"\\]|\\[\s\S])*"/,greedy:!0},"class-name":[{pattern:/(\b(?:abstract|class|enum|extends|implements|interface|new|typedef)\s+)[A-Z_]\w*/,lookbehind:!0},/\b[A-Z]\w*/],keyword:/\bthis\b|\b(?:abstract|as|break|case|cast|catch|class|continue|default|do|dynamic|else|enum|extends|extern|final|for|from|function|if|implements|import|in|inline|interface|macro|new|null|operator|overload|override|package|private|public|return|static|super|switch|throw|to|try|typedef|untyped|using|var|while)(?!\.)\b/,function:{pattern:/\b[a-z_]\w*(?=\s*(?:<[^<>]*>\s*)?\()/i,greedy:!0},operator:/\.{3}|\+\+|--|&&|\|\||->|=>|(?:<<?|>{1,3}|[-+*/%!=&|^])=?|[?:~]/}),e.languages.insertBefore("haxe","string",{"string-interpolation":{pattern:/'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{interpolation:{pattern:/(^|[^\\])\$(?:\w+|\{[^{}]+\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:e.languages.haxe}}},string:/[\s\S]+/}}}),e.languages.insertBefore("haxe","class-name",{regex:{pattern:/~\/(?:[^\/\\\r\n]|\\.)+\/[a-z]*/,greedy:!0,inside:{"regex-flags":/\b[a-z]+$/,"regex-source":{pattern:/^(~\/)[\s\S]+(?=\/$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^~\/|\/$/}}}),e.languages.insertBefore("haxe","keyword",{preprocessor:{pattern:/#(?:else|elseif|end|if)\b.*/,alias:"property"},metadata:{pattern:/@:?[\w.]+/,alias:"symbol"},reification:{pattern:/\$(?:\w+|(?=\{))/,alias:"important"}})}e.exports=t,t.displayName="haxe",t.aliases=[]},90822:function(e){"use strict";function t(e){e.languages.hcl={comment:/(?:\/\/|#).*|\/\*[\s\S]*?(?:\*\/|$)/,heredoc:{pattern:/<<-?(\w+\b)[\s\S]*?^[ \t]*\1/m,greedy:!0,alias:"string"},keyword:[{pattern:/(?:data|resource)\s+(?:"(?:\\[\s\S]|[^\\"])*")(?=\s+"[\w-]+"\s+\{)/i,inside:{type:{pattern:/(resource|data|\s+)(?:"(?:\\[\s\S]|[^\\"])*")/i,lookbehind:!0,alias:"variable"}}},{pattern:/(?:backend|module|output|provider|provisioner|variable)\s+(?:[\w-]+|"(?:\\[\s\S]|[^\\"])*")\s+(?=\{)/i,inside:{type:{pattern:/(backend|module|output|provider|provisioner|variable)\s+(?:[\w-]+|"(?:\\[\s\S]|[^\\"])*")\s+/i,lookbehind:!0,alias:"variable"}}},/[\w-]+(?=\s+\{)/],property:[/[-\w\.]+(?=\s*=(?!=))/,/"(?:\\[\s\S]|[^\\"])+"(?=\s*[:=])/],string:{pattern:/"(?:[^\\$"]|\\[\s\S]|\$(?:(?=")|\$+(?!\$)|[^"${])|\$\{(?:[^{}"]|"(?:[^\\"]|\\[\s\S])*")*\})*"/,greedy:!0,inside:{interpolation:{pattern:/(^|[^$])\$\{(?:[^{}"]|"(?:[^\\"]|\\[\s\S])*")*\}/,lookbehind:!0,inside:{type:{pattern:/(\b(?:count|data|local|module|path|self|terraform|var)\b\.)[\w\*]+/i,lookbehind:!0,alias:"variable"},keyword:/\b(?:count|data|local|module|path|self|terraform|var)\b/i,function:/\w+(?=\()/,string:{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0},number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[!\$#%&'()*+,.\/;<=>@\[\\\]^`{|}~?:]/}}}},number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,boolean:/\b(?:false|true)\b/i,punctuation:/[=\[\]{}]/}}e.exports=t,t.displayName="hcl",t.aliases=[]},94897:function(e,t,n){"use strict";var r=n(22838);function i(e){e.register(r),e.languages.hlsl=e.languages.extend("c",{"class-name":[e.languages.c["class-name"],/\b(?:AppendStructuredBuffer|BlendState|Buffer|ByteAddressBuffer|CompileShader|ComputeShader|ConsumeStructuredBuffer|DepthStencilState|DepthStencilView|DomainShader|GeometryShader|Hullshader|InputPatch|LineStream|OutputPatch|PixelShader|PointStream|RWBuffer|RWByteAddressBuffer|RWStructuredBuffer|RWTexture(?:1D|1DArray|2D|2DArray|3D)|RasterizerState|RenderTargetView|SamplerComparisonState|SamplerState|StructuredBuffer|Texture(?:1D|1DArray|2D|2DArray|2DMS|2DMSArray|3D|Cube|CubeArray)|TriangleStream|VertexShader)\b/],keyword:[/\b(?:asm|asm_fragment|auto|break|case|catch|cbuffer|centroid|char|class|column_major|compile|compile_fragment|const|const_cast|continue|default|delete|discard|do|dynamic_cast|else|enum|explicit|export|extern|for|friend|fxgroup|goto|groupshared|if|in|inline|inout|interface|line|lineadj|linear|long|matrix|mutable|namespace|new|nointerpolation|noperspective|operator|out|packoffset|pass|pixelfragment|point|precise|private|protected|public|register|reinterpret_cast|return|row_major|sample|sampler|shared|short|signed|sizeof|snorm|stateblock|stateblock_state|static|static_cast|string|struct|switch|tbuffer|technique|technique10|technique11|template|texture|this|throw|triangle|triangleadj|try|typedef|typename|uniform|union|unorm|unsigned|using|vector|vertexfragment|virtual|void|volatile|while)\b/,/\b(?:bool|double|dword|float|half|int|min(?:10float|12int|16(?:float|int|uint))|uint)(?:[1-4](?:x[1-4])?)?\b/],number:/(?:(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+)?|\b0x[\da-fA-F]+)[fFhHlLuU]?\b/,boolean:/\b(?:false|true)\b/})}e.exports=i,i.displayName="hlsl",i.aliases=[]},20578:function(e){"use strict";function t(e){e.languages.hoon={comment:{pattern:/::.*/,greedy:!0},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},constant:/%(?:\.[ny]|[\w-]+)/,"class-name":/@(?:[a-z0-9-]*[a-z0-9])?|\*/i,function:/(?:\+[-+] {2})?(?:[a-z](?:[a-z0-9-]*[a-z0-9])?)/,keyword:/\.[\^\+\*=\?]|![><:\.=\?!]|=[>|:,\.\-\^<+;/~\*\?]|\?[>|:\.\-\^<\+&~=@!]|\|[\$_%:\.\-\^~\*=@\?]|\+[|\$\+\*]|:[_\-\^\+~\*]|%[_:\.\-\^\+~\*=]|\^[|:\.\-\+&~\*=\?]|\$[|_%:<>\-\^&~@=\?]|;[:<\+;\/~\*=]|~[>|\$_%<\+\/&=\?!]|--|==/}}e.exports=t,t.displayName="hoon",t.aliases=[]},69915:function(e){"use strict";function t(e){e.languages.hpkp={directive:{pattern:/\b(?:includeSubDomains|max-age|pin-sha256|preload|report-to|report-uri|strict)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/}}e.exports=t,t.displayName="hpkp",t.aliases=[]},64070:function(e){"use strict";function t(e){e.languages.hsts={directive:{pattern:/\b(?:includeSubDomains|max-age|preload)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/}}e.exports=t,t.displayName="hsts",t.aliases=[]},354:function(e){"use strict";function t(e){!function(e){function t(e){return RegExp("(^(?:"+e+"):[ 	]*(?![ 	]))[^]+","i")}e.languages.http={"request-line":{pattern:/^(?:CONNECT|DELETE|GET|HEAD|OPTIONS|PATCH|POST|PRI|PUT|SEARCH|TRACE)\s(?:https?:\/\/|\/)\S*\sHTTP\/[\d.]+/m,inside:{method:{pattern:/^[A-Z]+\b/,alias:"property"},"request-target":{pattern:/^(\s)(?:https?:\/\/|\/)\S*(?=\s)/,lookbehind:!0,alias:"url",inside:e.languages.uri},"http-version":{pattern:/^(\s)HTTP\/[\d.]+/,lookbehind:!0,alias:"property"}}},"response-status":{pattern:/^HTTP\/[\d.]+ \d+ .+/m,inside:{"http-version":{pattern:/^HTTP\/[\d.]+/,alias:"property"},"status-code":{pattern:/^(\s)\d+(?=\s)/,lookbehind:!0,alias:"number"},"reason-phrase":{pattern:/^(\s).+/,lookbehind:!0,alias:"string"}}},header:{pattern:/^[\w-]+:.+(?:(?:\r\n?|\n)[ \t].+)*/m,inside:{"header-value":[{pattern:t(/Content-Security-Policy/.source),lookbehind:!0,alias:["csp","languages-csp"],inside:e.languages.csp},{pattern:t(/Public-Key-Pins(?:-Report-Only)?/.source),lookbehind:!0,alias:["hpkp","languages-hpkp"],inside:e.languages.hpkp},{pattern:t(/Strict-Transport-Security/.source),lookbehind:!0,alias:["hsts","languages-hsts"],inside:e.languages.hsts},{pattern:t(/[^:]+/.source),lookbehind:!0}],"header-name":{pattern:/^[^:]+/,alias:"keyword"},punctuation:/^:/}}};var n,r=e.languages,i={"application/javascript":r.javascript,"application/json":r.json||r.javascript,"application/xml":r.xml,"text/xml":r.xml,"text/html":r.html,"text/css":r.css,"text/plain":r.plain},o={"application/json":!0,"application/xml":!0};for(var a in i)if(i[a]){n=n||{};var s=o[a]?function(e){var t=e.replace(/^[a-z]+\//,"");return"(?:"+e+"|\\w+/(?:[\\w.-]+\\+)+"+t+"(?![+\\w.-]))"}(a):a;n[a.replace(/\//g,"-")]={pattern:RegExp("("+/content-type:\s*/.source+s+/(?:(?:\r\n?|\n)[\w-].*)*(?:\r(?:\n|(?!\n))|\n)/.source+")"+/[^ \t\w-][\s\S]*/.source,"i"),lookbehind:!0,inside:i[a]}}n&&e.languages.insertBefore("http","header",n)}(e)}e.exports=t,t.displayName="http",t.aliases=[]},42047:function(e){"use strict";function t(e){e.languages.ichigojam={comment:/(?:\B'|REM)(?:[^\n\r]*)/i,string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/\B#[0-9A-F]+|\B`[01]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:BEEP|BPS|CASE|CLEAR|CLK|CLO|CLP|CLS|CLT|CLV|CONT|COPY|ELSE|END|FILE|FILES|FOR|GOSUB|GOTO|GSB|IF|INPUT|KBD|LED|LET|LIST|LOAD|LOCATE|LRUN|NEW|NEXT|OUT|PLAY|POKE|PRINT|PWM|REM|RENUM|RESET|RETURN|RIGHT|RTN|RUN|SAVE|SCROLL|SLEEP|SRND|STEP|STOP|SUB|TEMPO|THEN|TO|UART|VIDEO|WAIT)(?:\$|\b)/i,function:/\b(?:ABS|ANA|ASC|BIN|BTN|DEC|END|FREE|HELP|HEX|I2CR|I2CW|IN|INKEY|LEN|LINE|PEEK|RND|SCR|SOUND|STR|TICK|USR|VER|VPEEK|ZER)(?:\$|\b)/i,label:/(?:\B@\S+)/,operator:/<[=>]?|>=?|\|\||&&|[+\-*\/=|&^~!]|\b(?:AND|NOT|OR)\b/i,punctuation:/[\[,;:()\]]/}}e.exports=t,t.displayName="ichigojam",t.aliases=[]},77593:function(e){"use strict";function t(e){e.languages.icon={comment:/#.*/,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n_]|\\.|_(?!\1)(?:\r\n|[\s\S]))*\1/,greedy:!0},number:/\b(?:\d+r[a-z\d]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b|\.\d+\b/i,"builtin-keyword":{pattern:/&(?:allocated|ascii|clock|collections|cset|current|date|dateline|digits|dump|e|error(?:number|text|value)?|errout|fail|features|file|host|input|lcase|letters|level|line|main|null|output|phi|pi|pos|progname|random|regions|source|storage|subject|time|trace|ucase|version)\b/,alias:"variable"},directive:{pattern:/\$\w+/,alias:"builtin"},keyword:/\b(?:break|by|case|create|default|do|else|end|every|fail|global|if|initial|invocable|link|local|next|not|of|procedure|record|repeat|return|static|suspend|then|to|until|while)\b/,function:/\b(?!\d)\w+(?=\s*[({]|\s*!\s*\[)/,operator:/[+-]:(?!=)|(?:[\/?@^%&]|\+\+?|--?|==?=?|~==?=?|\*\*?|\|\|\|?|<(?:->?|<?=?)|>>?=?)(?::=)?|:(?:=:?)?|[!.\\|~]/,punctuation:/[\[\](){},;]/}}e.exports=t,t.displayName="icon",t.aliases=[]},4771:function(e){"use strict";function t(e){!function(e){function t(e,n){return n<=0?/[]/.source:e.replace(/<SELF>/g,function(){return t(e,n-1)})}var n=/'[{}:=,](?:[^']|'')*'(?!')/,r={pattern:/''/,greedy:!0,alias:"operator"},i=t(/\{(?:[^{}']|'(?![{},'])|''|<STR>|<SELF>)*\}/.source.replace(/<STR>/g,function(){return n.source}),8),o={pattern:RegExp(i),inside:{message:{pattern:/^(\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:null},"message-delimiter":{pattern:/./,alias:"punctuation"}}};e.languages["icu-message-format"]={argument:{pattern:RegExp(i),greedy:!0,inside:{content:{pattern:/^(\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:{"argument-name":{pattern:/^(\s*)[^{}:=,\s]+/,lookbehind:!0},"choice-style":{pattern:/^(\s*,\s*choice\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{punctuation:/\|/,range:{pattern:/^(\s*)[+-]?(?:\d+(?:\.\d*)?|\u221e)\s*[<#\u2264]/,lookbehind:!0,inside:{operator:/[<#\u2264]/,number:/\S+/}},rest:null}},"plural-style":{pattern:/^(\s*,\s*(?:plural|selectordinal)\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{offset:/^offset:\s*\d+/,"nested-message":o,selector:{pattern:/=\d+|[^{}:=,\s]+/,inside:{keyword:/^(?:few|many|one|other|two|zero)$/}}}},"select-style":{pattern:/^(\s*,\s*select\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{"nested-message":o,selector:{pattern:/[^{}:=,\s]+/,inside:{keyword:/^other$/}}}},keyword:/\b(?:choice|plural|select|selectordinal)\b/,"arg-type":{pattern:/\b(?:date|duration|number|ordinal|spellout|time)\b/,alias:"keyword"},"arg-skeleton":{pattern:/(,\s*)::[^{}:=,\s]+/,lookbehind:!0},"arg-style":{pattern:/(,\s*)(?:currency|full|integer|long|medium|percent|short)(?=\s*$)/,lookbehind:!0},"arg-style-text":{pattern:RegExp(/(^\s*,\s*(?=\S))/.source+t(/(?:[^{}']|'[^']*'|\{(?:<SELF>)?\})+/.source,8)+"$"),lookbehind:!0,alias:"string"},punctuation:/,/}},"argument-delimiter":{pattern:/./,alias:"operator"}}},escape:r,string:{pattern:n,greedy:!0,inside:{escape:r}}},o.inside.message.inside=e.languages["icu-message-format"],e.languages["icu-message-format"].argument.inside.content.inside["choice-style"].inside.rest=e.languages["icu-message-format"]}(e)}e.exports=t,t.displayName="icuMessageFormat",t.aliases=[]},9227:function(e,t,n){"use strict";var r=n(32997);function i(e){e.register(r),e.languages.idris=e.languages.extend("haskell",{comment:{pattern:/(?:(?:--|\|\|\|).*$|\{-[\s\S]*?-\})/m},keyword:/\b(?:Type|case|class|codata|constructor|corecord|data|do|dsl|else|export|if|implementation|implicit|import|impossible|in|infix|infixl|infixr|instance|interface|let|module|mutual|namespace|of|parameters|partial|postulate|private|proof|public|quoteGoal|record|rewrite|syntax|then|total|using|where|with)\b/,builtin:void 0}),e.languages.insertBefore("idris","keyword",{"import-statement":{pattern:/(^\s*import\s+)(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*/m,lookbehind:!0,inside:{punctuation:/\./}}}),e.languages.idr=e.languages.idris}e.exports=i,i.displayName="idris",i.aliases=["idr"]},76722:function(e){"use strict";function t(e){e.languages.iecst={comment:[{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\(\*[\s\S]*?(?:\*\)|$)|\{[\s\S]*?(?:\}|$))/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:[/\b(?:END_)?(?:PROGRAM|CONFIGURATION|INTERFACE|FUNCTION_BLOCK|FUNCTION|ACTION|TRANSITION|TYPE|STRUCT|(?:INITIAL_)?STEP|NAMESPACE|LIBRARY|CHANNEL|FOLDER|RESOURCE|VAR_(?:ACCESS|CONFIG|EXTERNAL|GLOBAL|INPUT|IN_OUT|OUTPUT|TEMP)|VAR|METHOD|PROPERTY)\b/i,/\b(?:AT|BY|(?:END_)?(?:CASE|FOR|IF|REPEAT|WHILE)|CONSTANT|CONTINUE|DO|ELSE|ELSIF|EXIT|EXTENDS|FROM|GET|GOTO|IMPLEMENTS|JMP|NON_RETAIN|OF|PRIVATE|PROTECTED|PUBLIC|RETAIN|RETURN|SET|TASK|THEN|TO|UNTIL|USING|WITH|__CATCH|__ENDTRY|__FINALLY|__TRY)\b/],"class-name":/\b(?:ANY|ARRAY|BOOL|BYTE|U?(?:D|L|S)?INT|(?:D|L)?WORD|DATE(?:_AND_TIME)?|DT|L?REAL|POINTER|STRING|TIME(?:_OF_DAY)?|TOD)\b/,address:{pattern:/%[IQM][XBWDL][\d.]*|%[IQ][\d.]*/,alias:"symbol"},number:/\b(?:16#[\da-f]+|2#[01_]+|0x[\da-f]+)\b|\b(?:D|DT|T|TOD)#[\d_shmd:]*|\b[A-Z]*#[\d.,_]*|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/,operator:/S?R?:?=>?|&&?|\*\*?|<[=>]?|>=?|[-:^/+#]|\b(?:AND|EQ|EXPT|GE|GT|LE|LT|MOD|NE|NOT|OR|XOR)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,punctuation:/[()[\].,;]/}}e.exports=t,t.displayName="iecst",t.aliases=[]},50318:function(e){"use strict";function t(e){e.languages.ignore={comment:/^#.*/m,entry:{pattern:/\S(?:.*(?:(?:\\ )|\S))?/,alias:"string",inside:{operator:/^!|\*\*?|\?/,regex:{pattern:/(^|[^\\])\[[^\[\]]*\]/,lookbehind:!0},punctuation:/\//}}},e.languages.gitignore=e.languages.ignore,e.languages.hgignore=e.languages.ignore,e.languages.npmignore=e.languages.ignore}e.exports=t,t.displayName="ignore",t.aliases=["gitignore","hgignore","npmignore"]},57849:function(e){"use strict";function t(e){e.languages.inform7={string:{pattern:/"[^"]*"/,inside:{substitution:{pattern:/\[[^\[\]]+\]/,inside:{delimiter:{pattern:/\[|\]/,alias:"punctuation"}}}}},comment:{pattern:/\[[^\[\]]+\]/,greedy:!0},title:{pattern:/^[ \t]*(?:book|chapter|part(?! of)|section|table|volume)\b.+/im,alias:"important"},number:{pattern:/(^|[^-])(?:\b\d+(?:\.\d+)?(?:\^\d+)?(?:(?!\d)\w+)?|\b(?:eight|eleven|five|four|nine|one|seven|six|ten|three|twelve|two))\b(?!-)/i,lookbehind:!0},verb:{pattern:/(^|[^-])\b(?:answering|applying to|are|asking|attacking|be(?:ing)?|burning|buying|called|carries|carry(?! out)|carrying|climbing|closing|conceal(?:ing|s)?|consulting|contain(?:ing|s)?|cutting|drinking|dropping|eating|enclos(?:es?|ing)|entering|examining|exiting|getting|giving|going|ha(?:s|ve|ving)|hold(?:ing|s)?|impl(?:ies|y)|incorporat(?:es?|ing)|inserting|is|jumping|kissing|listening|locking|looking|mean(?:ing|s)?|opening|provid(?:es?|ing)|pulling|pushing|putting|relat(?:es?|ing)|removing|searching|see(?:ing|s)?|setting|showing|singing|sleeping|smelling|squeezing|support(?:ing|s)?|swearing|switching|taking|tasting|telling|thinking|throwing|touching|turning|tying|unlock(?:ing|s)?|var(?:ies|y|ying)|waiting|waking|waving|wear(?:ing|s)?)\b(?!-)/i,lookbehind:!0,alias:"operator"},keyword:{pattern:/(^|[^-])\b(?:after|before|carry out|check|continue the action|definition(?= *:)|do nothing|else|end (?:if|the story|unless)|every turn|if|include|instead(?: of)?|let|move|no|now|otherwise|repeat|report|resume the story|rule for|running through|say(?:ing)?|stop the action|test|try(?:ing)?|understand|unless|use|when|while|yes)\b(?!-)/i,lookbehind:!0},property:{pattern:/(^|[^-])\b(?:adjacent(?! to)|carried|closed|concealed|contained|dark|described|edible|empty|enclosed|enterable|even|female|fixed in place|full|handled|held|improper-named|incorporated|inedible|invisible|lighted|lit|lock(?:able|ed)|male|marked for listing|mentioned|negative|neuter|non-(?:empty|full|recurring)|odd|opaque|open(?:able)?|plural-named|portable|positive|privately-named|proper-named|provided|publically-named|pushable between rooms|recurring|related|rubbing|scenery|seen|singular-named|supported|swinging|switch(?:able|ed(?: off| on)?)|touch(?:able|ed)|transparent|unconcealed|undescribed|unlit|unlocked|unmarked for listing|unmentioned|unopenable|untouchable|unvisited|variable|visible|visited|wearable|worn)\b(?!-)/i,lookbehind:!0,alias:"symbol"},position:{pattern:/(^|[^-])\b(?:above|adjacent to|back side of|below|between|down|east|everywhere|front side|here|in|inside(?: from)?|north(?:east|west)?|nowhere|on(?: top of)?|other side|outside(?: from)?|parts? of|regionally in|south(?:east|west)?|through|up|west|within)\b(?!-)/i,lookbehind:!0,alias:"keyword"},type:{pattern:/(^|[^-])\b(?:actions?|activit(?:ies|y)|actors?|animals?|backdrops?|containers?|devices?|directions?|doors?|holders?|kinds?|lists?|m[ae]n|nobody|nothing|nouns?|numbers?|objects?|people|persons?|player(?:'s holdall)?|regions?|relations?|rooms?|rule(?:book)?s?|scenes?|someone|something|supporters?|tables?|texts?|things?|time|vehicles?|wom[ae]n)\b(?!-)/i,lookbehind:!0,alias:"variable"},punctuation:/[.,:;(){}]/},e.languages.inform7.string.inside.substitution.inside.rest=e.languages.inform7,e.languages.inform7.string.inside.substitution.inside.rest.text={pattern:/\S(?:\s*\S)*/,alias:"comment"}}e.exports=t,t.displayName="inform7",t.aliases=[]},23211:function(e){"use strict";function t(e){e.languages.ini={comment:{pattern:/(^[ \f\t\v]*)[#;][^\n\r]*/m,lookbehind:!0},section:{pattern:/(^[ \f\t\v]*)\[[^\n\r\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f\t\v]*)[^ \f\t\v\]]+(?:[ \f\t\v]+[^ \f\t\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/\[|\]/}},key:{pattern:/(^[ \f\t\v]*)[^ \f\n\r\t\v=]+(?:[ \f\t\v]+[^ \f\n\r\t\v=]+)*(?=[ \f\t\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f\t\v]*)[^ \f\n\r\t\v]+(?:[ \f\t\v]+[^ \f\n\r\t\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^("|').+(?=\1$)/,lookbehind:!0}}},punctuation:/=/}}e.exports=t,t.displayName="ini",t.aliases=[]},56518:function(e){"use strict";function t(e){e.languages.io={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\/\/.*|#.*)/,lookbehind:!0,greedy:!0},"triple-quoted-string":{pattern:/"""(?:\\[\s\S]|(?!""")[^\\])*"""/,greedy:!0,alias:"string"},string:{pattern:/"(?:\\.|[^\\\r\n"])*"/,greedy:!0},keyword:/\b(?:activate|activeCoroCount|asString|block|break|call|catch|clone|collectGarbage|compileString|continue|do|doFile|doMessage|doString|else|elseif|exit|for|foreach|forward|getEnvironmentVariable|getSlot|hasSlot|if|ifFalse|ifNil|ifNilEval|ifTrue|isActive|isNil|isResumable|list|message|method|parent|pass|pause|perform|performWithArgList|print|println|proto|raise|raiseResumable|removeSlot|resend|resume|schedulerSleepSeconds|self|sender|setSchedulerSleepSeconds|setSlot|shallowCopy|slotNames|super|system|then|thisBlock|thisContext|try|type|uniqueId|updateSlot|wait|while|write|yield)\b/,builtin:/\b(?:Array|AudioDevice|AudioMixer|BigNum|Block|Box|Buffer|CFunction|CGI|Color|Curses|DBM|DNSResolver|DOConnection|DOProxy|DOServer|Date|Directory|Duration|DynLib|Error|Exception|FFT|File|Fnmatch|Font|Future|GL|GLE|GLScissor|GLU|GLUCylinder|GLUQuadric|GLUSphere|GLUT|Host|Image|Importer|LinkList|List|Lobby|Locals|MD5|MP3Decoder|MP3Encoder|Map|Message|Movie|Notification|Number|Object|OpenGL|Point|Protos|Random|Regex|SGML|SGMLElement|SGMLParser|SQLite|Sequence|Server|ShowMessage|SleepyCat|SleepyCatCursor|Socket|SocketManager|Sound|Soup|Store|String|Tree|UDPSender|UPDReceiver|URL|User|Warning|WeakLink)\b/,boolean:/\b(?:false|nil|true)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e-?\d+)?/i,operator:/[=!*/%+\-^&|]=|>>?=?|<<?=?|:?:?=|\+\+?|--?|\*\*?|\/\/?|%|\|\|?|&&?|\b(?:and|not|or|return)\b|@@?|\?\??|\.\./,punctuation:/[{}[\];(),.:]/}}e.exports=t,t.displayName="io",t.aliases=[]},55345:function(e){"use strict";function t(e){e.languages.j={comment:{pattern:/\bNB\..*/,greedy:!0},string:{pattern:/'(?:''|[^'\r\n])*'/,greedy:!0},keyword:/\b(?:(?:CR|LF|adverb|conjunction|def|define|dyad|monad|noun|verb)\b|(?:assert|break|case|catch[dt]?|continue|do|else|elseif|end|fcase|for|for_\w+|goto_\w+|if|label_\w+|return|select|throw|try|while|whilst)\.)/,verb:{pattern:/(?!\^:|;\.|[=!][.:])(?:\{(?:\.|::?)?|p(?:\.\.?|:)|[=!\]]|[<>+*\-%$|,#][.:]?|[?^]\.?|[;\[]:?|[~}"i][.:]|[ACeEIjLor]\.|(?:[_\/\\qsux]|_?\d):)/,alias:"keyword"},number:/\b_?(?:(?!\d:)\d+(?:\.\d+)?(?:(?:ad|ar|[ejpx])_?\d+(?:\.\d+)?)*(?:b_?[\da-z]+(?:\.[\da-z]+)?)?|_\b(?!\.))/,adverb:{pattern:/[~}]|[\/\\]\.?|[bfM]\.|t[.:]/,alias:"builtin"},operator:/[=a][.:]|_\./,conjunction:{pattern:/&(?:\.:?|:)?|[.:@][.:]?|[!D][.:]|[;dHT]\.|`:?|[\^LS]:|"/,alias:"variable"},punctuation:/[()]/}}e.exports=t,t.displayName="j",t.aliases=[]},75257:function(e){"use strict";function t(e){var t,n,r;t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,r={pattern:RegExp((n=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source)+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}},e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(n+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:r.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0,inside:{punctuation:/\./}}})}e.exports=t,t.displayName="java",t.aliases=[]},71613:function(e,t,n){"use strict";var r=n(75257),i=n(90491);function o(e){var t,n,o;e.register(r),e.register(i),t=/(^(?:[\t ]*(?:\*\s*)*))[^*\s].*$/m,n=/#\s*\w+(?:\s*\([^()]*\))?/.source,o=/(?:\b[a-zA-Z]\w+\s*\.\s*)*\b[A-Z]\w*(?:\s*<mem>)?|<mem>/.source.replace(/<mem>/g,function(){return n}),e.languages.javadoc=e.languages.extend("javadoclike",{}),e.languages.insertBefore("javadoc","keyword",{reference:{pattern:RegExp(/(@(?:exception|link|linkplain|see|throws|value)\s+(?:\*\s*)?)/.source+"(?:"+o+")"),lookbehind:!0,inside:{function:{pattern:/(#\s*)\w+(?=\s*\()/,lookbehind:!0},field:{pattern:/(#\s*)\w+/,lookbehind:!0},namespace:{pattern:/\b(?:[a-z]\w*\s*\.\s*)+/,inside:{punctuation:/\./}},"class-name":/\b[A-Z]\w*/,keyword:e.languages.java.keyword,punctuation:/[#()[\],.]/}},"class-name":{pattern:/(@param\s+)<[A-Z]\w*>/,lookbehind:!0,inside:{punctuation:/[.<>]/}},"code-section":[{pattern:/(\{@code\s+(?!\s))(?:[^\s{}]|\s+(?![\s}])|\{(?:[^{}]|\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*\})+(?=\s*\})/,lookbehind:!0,inside:{code:{pattern:t,lookbehind:!0,inside:e.languages.java,alias:"language-java"}}},{pattern:/(<(code|pre|tt)>(?!<code>)\s*)\S(?:\S|\s+\S)*?(?=\s*<\/\2>)/,lookbehind:!0,inside:{line:{pattern:t,lookbehind:!0,inside:{tag:e.languages.markup.tag,entity:e.languages.markup.entity,code:{pattern:/.+/,inside:e.languages.java,alias:"language-java"}}}}}],tag:e.languages.markup.tag,entity:e.languages.markup.entity}),e.languages.javadoclike.addSupport("java",e.languages.javadoc)}e.exports=o,o.displayName="javadoc",o.aliases=[]},90491:function(e){"use strict";function t(e){var t;Object.defineProperty(t=e.languages.javadoclike={parameter:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*@(?:arg|arguments|param)\s+)\w+/m,lookbehind:!0},keyword:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,lookbehind:!0},punctuation:/[{}]/},"addSupport",{value:function(t,n){"string"==typeof t&&(t=[t]),t.forEach(function(t){!function(t,n){var r="doc-comment",i=e.languages[t];if(i){var o=i[r];if(!o){var a={};a[r]={pattern:/(^|[^\\])\/\*\*[^/][\s\S]*?(?:\*\/|$)/,lookbehind:!0,alias:"comment"},o=(i=e.languages.insertBefore(t,"comment",a))[r]}if(o instanceof RegExp&&(o=i[r]={pattern:o}),Array.isArray(o))for(var s=0,l=o.length;s<l;s++)o[s]instanceof RegExp&&(o[s]={pattern:o[s]}),n(o[s]);else n(o)}}(t,function(e){e.inside||(e.inside={}),e.inside.rest=n})})}}),t.addSupport(["java","javascript","php"],t)}e.exports=t,t.displayName="javadoclike",t.aliases=[]},57600:function(e){"use strict";function t(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|")+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}e.exports=t,t.displayName="javascript",t.aliases=["js"]},52705:function(e){"use strict";function t(e){e.languages.javastacktrace={summary:{pattern:/^([\t ]*)(?:(?:Caused by:|Suppressed:|Exception in thread "[^"]*")[\t ]+)?[\w$.]+(?::.*)?$/m,lookbehind:!0,inside:{keyword:{pattern:/^([\t ]*)(?:(?:Caused by|Suppressed)(?=:)|Exception in thread)/m,lookbehind:!0},string:{pattern:/^(\s*)"[^"]*"/,lookbehind:!0},exceptions:{pattern:/^(:?\s*)[\w$.]+(?=:|$)/,lookbehind:!0,inside:{"class-name":/[\w$]+$/,namespace:/\b[a-z]\w*\b/,punctuation:/\./}},message:{pattern:/(:\s*)\S.*/,lookbehind:!0,alias:"string"},punctuation:/:/}},"stack-frame":{pattern:/^([\t ]*)at (?:[\w$./]|@[\w$.+-]*\/)+(?:<init>)?\([^()]*\)/m,lookbehind:!0,inside:{keyword:{pattern:/^(\s*)at(?= )/,lookbehind:!0},source:[{pattern:/(\()\w+\.\w+:\d+(?=\))/,lookbehind:!0,inside:{file:/^\w+\.\w+/,punctuation:/:/,"line-number":{pattern:/\b\d+\b/,alias:"number"}}},{pattern:/(\()[^()]*(?=\))/,lookbehind:!0,inside:{keyword:/^(?:Native Method|Unknown Source)$/}}],"class-name":/[\w$]+(?=\.(?:<init>|[\w$]+)\()/,function:/(?:<init>|[\w$]+)(?=\()/,"class-loader":{pattern:/(\s)[a-z]\w*(?:\.[a-z]\w*)*(?=\/[\w@$.]*\/)/,lookbehind:!0,alias:"namespace",inside:{punctuation:/\./}},module:{pattern:/([\s/])[a-z]\w*(?:\.[a-z]\w*)*(?:@[\w$.+-]*)?(?=\/)/,lookbehind:!0,inside:{version:{pattern:/(@)[\s\S]+/,lookbehind:!0,alias:"number"},punctuation:/[@.]/}},namespace:{pattern:/(?:\b[a-z]\w*\.)+/,inside:{punctuation:/\./}},punctuation:/[()/.]/}},more:{pattern:/^([\t ]*)\.{3} \d+ [a-z]+(?: [a-z]+)*/m,lookbehind:!0,inside:{punctuation:/\.{3}/,number:/\d+/,keyword:/\b[a-z]+(?: [a-z]+)*\b/}}}}e.exports=t,t.displayName="javastacktrace",t.aliases=[]},77271:function(e){"use strict";function t(e){e.languages.jexl={string:/(["'])(?:\\[\s\S]|(?!\1)[^\\])*\1/,transform:{pattern:/(\|\s*)[a-zA-Zа-яА-Я_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][\wа-яА-Я\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*/,alias:"function",lookbehind:!0},function:/[a-zA-Zа-яА-Я_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][\wа-яА-Я\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*\s*(?=\()/,number:/\b\d+(?:\.\d+)?\b|\B\.\d+\b/,operator:/[<>!]=?|-|\+|&&|==|\|\|?|\/\/?|[?:*^%]/,boolean:/\b(?:false|true)\b/,keyword:/\bin\b/,punctuation:/[{}[\](),.]/}}e.exports=t,t.displayName="jexl",t.aliases=[]},76117:function(e){"use strict";function t(e){e.languages.jolie=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\[\s\S]|[^"\\])*"/,lookbehind:!0,greedy:!0},"class-name":{pattern:/((?:\b(?:as|courier|embed|in|inputPort|outputPort|service)\b|@)[ \t]*)\w+/,lookbehind:!0},keyword:/\b(?:as|cH|comp|concurrent|constants|courier|cset|csets|default|define|else|embed|embedded|execution|exit|extender|for|foreach|forward|from|global|if|import|in|include|init|inputPort|install|instanceof|interface|is_defined|linkIn|linkOut|main|new|nullProcess|outputPort|over|private|provide|public|scope|sequential|service|single|spawn|synchronized|this|throw|throws|type|undef|until|while|with)\b/,function:/\b[a-z_]\w*(?=[ \t]*[@(])/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?l?/i,operator:/-[-=>]?|\+[+=]?|<[<=]?|[>=*!]=?|&&|\|\||[?\/%^@|]/,punctuation:/[()[\]{},;.:]/,builtin:/\b(?:Byte|any|bool|char|double|enum|float|int|length|long|ranges|regex|string|undefined|void)\b/}),e.languages.insertBefore("jolie","keyword",{aggregates:{pattern:/(\bAggregates\s*:\s*)(?:\w+(?:\s+with\s+\w+)?\s*,\s*)*\w+(?:\s+with\s+\w+)?/,lookbehind:!0,inside:{keyword:/\bwith\b/,"class-name":/\w+/,punctuation:/,/}},redirects:{pattern:/(\bRedirects\s*:\s*)(?:\w+\s*=>\s*\w+\s*,\s*)*(?:\w+\s*=>\s*\w+)/,lookbehind:!0,inside:{punctuation:/,/,"class-name":/\w+/,operator:/=>/}},property:{pattern:/\b(?:Aggregates|[Ii]nterfaces|Java|Javascript|Jolie|[Ll]ocation|OneWay|[Pp]rotocol|Redirects|RequestResponse)\b(?=[ \t]*:)/}})}e.exports=t,t.displayName="jolie",t.aliases=[]},27205:function(e){"use strict";function t(e){var t,n,r,i;t=/\\\((?:[^()]|\([^()]*\))*\)/.source,n=RegExp(/(^|[^\\])"(?:[^"\r\n\\]|\\[^\r\n(]|__)*"/.source.replace(/__/g,function(){return t})),r={interpolation:{pattern:RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+t),lookbehind:!0,inside:{content:{pattern:/^(\\\()[\s\S]+(?=\)$)/,lookbehind:!0,inside:null},punctuation:/^\\\(|\)$/}}},i=e.languages.jq={comment:/#.*/,property:{pattern:RegExp(n.source+/(?=\s*:(?!:))/.source),lookbehind:!0,greedy:!0,inside:r},string:{pattern:n,lookbehind:!0,greedy:!0,inside:r},function:{pattern:/(\bdef\s+)[a-z_]\w+/i,lookbehind:!0},variable:/\B\$\w+/,"property-literal":{pattern:/\b[a-z_]\w*(?=\s*:(?!:))/i,alias:"property"},keyword:/\b(?:as|break|catch|def|elif|else|end|foreach|if|import|include|label|module|modulemeta|null|reduce|then|try|while)\b/,boolean:/\b(?:false|true)\b/,number:/(?:\b\d+\.|\B\.)?\b\d+(?:[eE][+-]?\d+)?\b/,operator:[{pattern:/\|=?/,alias:"pipe"},/\.\.|[!=<>]?=|\?\/\/|\/\/=?|[-+*/%]=?|[<>?]|\b(?:and|not|or)\b/],"c-style-function":{pattern:/\b[a-z_]\w*(?=\s*\()/i,alias:"function"},punctuation:/::|[()\[\]{},:;]|\.(?=\s*[\[\w$])/,dot:{pattern:/\./,alias:"important"}},r.interpolation.inside.content.inside=i}e.exports=t,t.displayName="jq",t.aliases=[]},70152:function(e){"use strict";function t(e){!function(e){function t(e,t){return RegExp(e.replace(/<ID>/g,function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source}),t)}e.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+e.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),e.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+e.languages.javascript.function.source),lookbehind:!0,alias:["function","property-access"]}}),e.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|(?:Weak)?(?:Map|Set)|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]}),e.languages.insertBefore("javascript","keyword",{imports:{pattern:t(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:e.languages.javascript},exports:{pattern:t(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:e.languages.javascript}}),e.languages.javascript.keyword.unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|finally|for|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),e.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),e.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:t(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|(?:local|session)Storage|location|navigator|performance|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var n=["function","function-variable","method","method-variable","property-access"],r=0;r<n.length;r++){var i=n[r],o=e.languages.javascript[i];"RegExp"===e.util.type(o)&&(o=e.languages.javascript[i]={pattern:o});var a=o.inside||{};o.inside=a,a["maybe-class-name"]=/^[A-Z][\s\S]*/}}(e)}e.exports=t,t.displayName="jsExtras",t.aliases=[]},91580:function(e){"use strict";function t(e){!function(e){var t=e.languages.javascript["template-string"],n=t.pattern.source,r=t.inside.interpolation,i=r.inside["interpolation-punctuation"],o=r.pattern.source;function a(t,r){if(e.languages[t])return{pattern:RegExp("((?:"+r+")\\s*)"+n),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:t}}}}function s(t,n,r){var i={code:t,grammar:n,language:r};return e.hooks.run("before-tokenize",i),i.tokens=e.tokenize(i.code,i.grammar),e.hooks.run("after-tokenize",i),i.tokens}e.languages.javascript["template-string"]=[a("css",/\b(?:styled(?:\([^)]*\))?(?:\s*\.\s*\w+(?:\([^)]*\))*)*|css(?:\s*\.\s*(?:global|resolve))?|createGlobalStyle|keyframes)/.source),a("html",/\bhtml|\.\s*(?:inner|outer)HTML\s*\+?=/.source),a("svg",/\bsvg/.source),a("markdown",/\b(?:markdown|md)/.source),a("graphql",/\b(?:gql|graphql(?:\s*\.\s*experimental)?)/.source),a("sql",/\bsql/.source),t].filter(Boolean);var l={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};e.hooks.add("after-tokenize",function(t){t.language in l&&function t(n){for(var a=0,l=n.length;a<l;a++){var c=n[a];if("string"!=typeof c){var u=c.content;if(!Array.isArray(u)){"string"!=typeof u&&t([u]);continue}if("template-string"===c.type){var d=u[1];if(3===u.length&&"string"!=typeof d&&"embedded-code"===d.type){var p=function e(t){return"string"==typeof t?t:Array.isArray(t)?t.map(e).join(""):e(t.content)}(d),h=d.alias,f=Array.isArray(h)?h[0]:h,g=e.languages[f];if(!g)continue;u[1]=function(t,n,a){var l=e.tokenize(t,{interpolation:{pattern:RegExp(o),lookbehind:!0}}),c=0,u={},d=s(l.map(function(e){if("string"==typeof e)return e;for(var n,r,i=e.content;-1!==t.indexOf((n=c++,r="___"+a.toUpperCase()+"_"+n+"___")););return u[r]=i,r}).join(""),n,a),p=Object.keys(u);return c=0,!function t(n){for(var o=0;o<n.length;o++){if(c>=p.length)return;var a=n[o];if("string"==typeof a||"string"==typeof a.content){var l=p[c],d="string"==typeof a?a:a.content,h=d.indexOf(l);if(-1!==h){++c;var f=d.substring(0,h),g=function(t){var n={};n["interpolation-punctuation"]=i;var o=e.tokenize(t,n);if(3===o.length){var a=[1,1];a.push.apply(a,s(o[1],e.languages.javascript,"javascript")),o.splice.apply(o,a)}return new e.Token("interpolation",o,r.alias,t)}(u[l]),m=d.substring(h+l.length),b=[];if(f&&b.push(f),b.push(g),m){var v=[m];t(v),b.push.apply(b,v)}"string"==typeof a?(n.splice.apply(n,[o,1].concat(b)),o+=b.length-1):a.content=b}}else{var y=a.content;Array.isArray(y)?t(y):t([y])}}}(d),new e.Token(a,d,"language-"+a,t)}(p,g,f)}}else t(u)}}}(t.tokens)})}(e)}e.exports=t,t.displayName="jsTemplates",t.aliases=[]},21024:function(e,t,n){"use strict";var r=n(90491),i=n(66409);function o(e){var t,n,o;e.register(r),e.register(i),t=e.languages.javascript,o="(@(?:arg|argument|param|property)\\s+(?:"+(n=/\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})+\}/.source)+"\\s+)?)",e.languages.jsdoc=e.languages.extend("javadoclike",{parameter:{pattern:RegExp(o+/(?:(?!\s)[$\w\xA0-\uFFFF.])+(?=\s|$)/.source),lookbehind:!0,inside:{punctuation:/\./}}}),e.languages.insertBefore("jsdoc","keyword",{"optional-parameter":{pattern:RegExp(o+/\[(?:(?!\s)[$\w\xA0-\uFFFF.])+(?:=[^[\]]+)?\](?=\s|$)/.source),lookbehind:!0,inside:{parameter:{pattern:/(^\[)[$\w\xA0-\uFFFF\.]+/,lookbehind:!0,inside:{punctuation:/\./}},code:{pattern:/(=)[\s\S]*(?=\]$)/,lookbehind:!0,inside:t,alias:"language-javascript"},punctuation:/[=[\]]/}},"class-name":[{pattern:RegExp(/(@(?:augments|class|extends|interface|memberof!?|template|this|typedef)\s+(?:<TYPE>\s+)?)[A-Z]\w*(?:\.[A-Z]\w*)*/.source.replace(/<TYPE>/g,function(){return n})),lookbehind:!0,inside:{punctuation:/\./}},{pattern:RegExp("(@[a-z]+\\s+)"+n),lookbehind:!0,inside:{string:t.string,number:t.number,boolean:t.boolean,keyword:e.languages.typescript.keyword,operator:/=>|\.\.\.|[&|?:*]/,punctuation:/[.,;=<>{}()[\]]/}}],example:{pattern:/(@example\s+(?!\s))(?:[^@\s]|\s+(?!\s))+?(?=\s*(?:\*\s*)?(?:@\w|\*\/))/,lookbehind:!0,inside:{code:{pattern:/^([\t ]*(?:\*\s*)?)\S.*$/m,lookbehind:!0,inside:t,alias:"language-javascript"}}}}),e.languages.javadoclike.addSupport("javascript",e.languages.jsdoc)}e.exports=o,o.displayName="jsdoc",o.aliases=[]},41171:function(e){"use strict";function t(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}e.exports=t,t.displayName="json",t.aliases=["webmanifest"]},90906:function(e,t,n){"use strict";var r=n(41171);function i(e){var t;e.register(r),t=/("|')(?:\\(?:\r\n?|\n|.)|(?!\1)[^\\\r\n])*\1/,e.languages.json5=e.languages.extend("json",{property:[{pattern:RegExp(t.source+"(?=\\s*:)"),greedy:!0},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/,alias:"unquoted"}],string:{pattern:t,greedy:!0},number:/[+-]?\b(?:NaN|Infinity|0x[a-fA-F\d]+)\b|[+-]?(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+\b)?/})}e.exports=i,i.displayName="json5",i.aliases=[]},19688:function(e,t,n){"use strict";var r=n(41171);function i(e){e.register(r),e.languages.jsonp=e.languages.extend("json",{punctuation:/[{}[\]();,.]/}),e.languages.insertBefore("jsonp","punctuation",{function:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*\()/})}e.exports=i,i.displayName="jsonp",i.aliases=[]},51665:function(e){"use strict";function t(e){e.languages.jsstacktrace={"error-message":{pattern:/^\S.*/m,alias:"string"},"stack-frame":{pattern:/(^[ \t]+)at[ \t].*/m,lookbehind:!0,inside:{"not-my-code":{pattern:/^at[ \t]+(?!\s)(?:node\.js|<unknown>|.*(?:node_modules|\(<anonymous>\)|\(<unknown>|<anonymous>$|\(internal\/|\(node\.js)).*/m,alias:"comment"},filename:{pattern:/(\bat\s+(?!\s)|\()(?:[a-zA-Z]:)?[^():]+(?=:)/,lookbehind:!0,alias:"url"},function:{pattern:/(\bat\s+(?:new\s+)?)(?!\s)[_$a-zA-Z\xA0-\uFFFF<][.$\w\xA0-\uFFFF<>]*/,lookbehind:!0,inside:{punctuation:/\./}},punctuation:/[()]/,keyword:/\b(?:at|new)\b/,alias:{pattern:/\[(?:as\s+)?(?!\s)[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\]/,alias:"variable"},"line-number":{pattern:/:\d+(?::\d+)?\b/,alias:"number",inside:{punctuation:/:/}}}}}}e.exports=t,t.displayName="jsstacktrace",t.aliases=[]},82961:function(e){"use strict";function t(e){!function(e){var t=e.util.clone(e.languages.javascript),n=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,r=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function o(e,t){return RegExp(e=e.replace(/<S>/g,function(){return n}).replace(/<BRACES>/g,function(){return r}).replace(/<SPREAD>/g,function(){return i}),t)}i=o(i).source,e.languages.jsx=e.languages.extend("markup",t),e.languages.jsx.tag.pattern=o(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),e.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,e.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.jsx.tag.inside.comment=t.comment,e.languages.insertBefore("inside","attr-name",{spread:{pattern:o(/<SPREAD>/.source),inside:e.languages.jsx}},e.languages.jsx.tag),e.languages.insertBefore("inside","special-attr",{script:{pattern:o(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:e.languages.jsx}}},e.languages.jsx.tag);var a=function(e){return e?"string"==typeof e?e:"string"==typeof e.content?e.content:e.content.map(a).join(""):""},s=function(t){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=!1;if("string"!=typeof i&&("tag"===i.type&&i.content[0]&&"tag"===i.content[0].type?"</"===i.content[0].content[0].content?n.length>0&&n[n.length-1].tagName===a(i.content[0].content[1])&&n.pop():"/>"===i.content[i.content.length-1].content||n.push({tagName:a(i.content[0].content[1]),openedBraces:0}):n.length>0&&"punctuation"===i.type&&"{"===i.content?n[n.length-1].openedBraces++:n.length>0&&n[n.length-1].openedBraces>0&&"punctuation"===i.type&&"}"===i.content?n[n.length-1].openedBraces--:o=!0),(o||"string"==typeof i)&&n.length>0&&0===n[n.length-1].openedBraces){var l=a(i);r<t.length-1&&("string"==typeof t[r+1]||"plain-text"===t[r+1].type)&&(l+=a(t[r+1]),t.splice(r+1,1)),r>0&&("string"==typeof t[r-1]||"plain-text"===t[r-1].type)&&(l=a(t[r-1])+l,t.splice(r-1,1),r--),t[r]=new e.Token("plain-text",l,null,l)}i.content&&"string"!=typeof i.content&&s(i.content)}};e.hooks.add("after-tokenize",function(e){("jsx"===e.language||"tsx"===e.language)&&s(e.tokens)})}(e)}e.exports=t,t.displayName="jsx",t.aliases=[]},36389:function(e){"use strict";function t(e){e.languages.julia={comment:{pattern:/(^|[^\\])(?:#=(?:[^#=]|=(?!#)|#(?!=)|#=(?:[^#=]|=(?!#)|#(?!=))*=#)*=#|#.*)/,lookbehind:!0},regex:{pattern:/r"(?:\\.|[^"\\\r\n])*"[imsx]{0,4}/,greedy:!0},string:{pattern:/"""[\s\S]+?"""|(?:\b\w+)?"(?:\\.|[^"\\\r\n])*"|`(?:[^\\`\r\n]|\\.)*`/,greedy:!0},char:{pattern:/(^|[^\w'])'(?:\\[^\r\n][^'\r\n]*|[^\\\r\n])'/,lookbehind:!0,greedy:!0},keyword:/\b(?:abstract|baremodule|begin|bitstype|break|catch|ccall|const|continue|do|else|elseif|end|export|finally|for|function|global|if|immutable|import|importall|in|let|local|macro|module|print|println|quote|return|struct|try|type|typealias|using|while)\b/,boolean:/\b(?:false|true)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[box])?(?:[\da-f]+(?:_[\da-f]+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[efp][+-]?\d+(?:_\d+)*)?j?/i,operator:/&&|\|\||[-+*^%÷⊻&$\\]=?|\/[\/=]?|!=?=?|\|[=>]?|<(?:<=?|[=:|])?|>(?:=|>>?=?)?|==?=?|[~≠≤≥'√∛]/,punctuation:/::?|[{}[\]();,.?]/,constant:/\b(?:(?:Inf|NaN)(?:16|32|64)?|im|pi)\b|[πℯ]/}}e.exports=t,t.displayName="julia",t.aliases=[]},76:function(e){"use strict";function t(e){e.languages.keepalived={comment:{pattern:/[#!].*/,greedy:!0},string:{pattern:/(^|[^\\])(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,lookbehind:!0,greedy:!0},ip:{pattern:RegExp(/\b(?:(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){5}:(?:[\da-f]{1,4}:)?[\da-f]{1,4}|(?:[\da-f]{1,4}:){4}:(?:[\da-f]{1,4}:){0,2}[\da-f]{1,4}|(?:[\da-f]{1,4}:){3}:(?:[\da-f]{1,4}:){0,3}[\da-f]{1,4}|(?:[\da-f]{1,4}:){2}:(?:[\da-f]{1,4}:){0,4}[\da-f]{1,4}|(?:[\da-f]{1,4}:){6}<ipv4>|(?:[\da-f]{1,4}:){0,5}:<ipv4>|::(?:[\da-f]{1,4}:){0,5}<ipv4>|[\da-f]{1,4}::(?:[\da-f]{1,4}:){0,5}[\da-f]{1,4}|::(?:[\da-f]{1,4}:){0,6}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:)(?:\/\d{1,3})?|<ipv4>(?:\/\d{1,2})?)\b/.source.replace(/<ipv4>/g,function(){return/(?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d))/.source}),"i"),alias:"number"},path:{pattern:/(\s)\/(?:[^\/\s]+\/)*[^\/\s]*|\b[a-zA-Z]:\\(?:[^\\\s]+\\)*[^\\\s]*/,lookbehind:!0,alias:"string"},variable:/\$\{?\w+\}?/,email:{pattern:/[\w-]+@[\w-]+(?:\.[\w-]{2,3}){1,2}/,alias:"string"},"conditional-configuration":{pattern:/@\^?[\w-]+/,alias:"variable"},operator:/=/,property:/\b(?:BFD_CHECK|DNS_CHECK|FILE_CHECK|HTTP_GET|MISC_CHECK|NAME|PING_CHECK|SCRIPTS|SMTP_CHECK|SSL|SSL_GET|TCP_CHECK|UDP_CHECK|accept|advert_int|alpha|auth_pass|auth_type|authentication|bfd_cpu_affinity|bfd_instance|bfd_no_swap|bfd_priority|bfd_process_name|bfd_rlimit_rttime|bfd_rt_priority|bind_if|bind_port|bindto|ca|certificate|check_unicast_src|checker|checker_cpu_affinity|checker_log_all_failures|checker_no_swap|checker_priority|checker_rlimit_rttime|checker_rt_priority|child_wait_time|connect_ip|connect_port|connect_timeout|dbus_service_name|debug|default_interface|delay|delay_before_retry|delay_loop|digest|dont_track_primary|dynamic|dynamic_interfaces|enable_(?:dbus|script_security|sni|snmp_checker|snmp_rfc|snmp_rfcv2|snmp_rfcv3|snmp_vrrp|traps)|end|fall|fast_recovery|file|flag-[123]|fork_delay|full_command|fwmark|garp_group|garp_interval|garp_lower_prio_delay|garp_lower_prio_repeat|garp_master_delay|garp_master_refresh|garp_master_refresh_repeat|garp_master_repeat|global_defs|global_tracking|gna_interval|group|ha_suspend|hashed|helo_name|higher_prio_send_advert|hoplimit|http_protocol|hysteresis|idle_tx|include|inhibit_on_failure|init_fail|init_file|instance|interface|interfaces|interval|ip_family|ipvs_process_name|keepalived.conf|kernel_rx_buf_size|key|linkbeat_interfaces|linkbeat_use_polling|log_all_failures|log_unknown_vrids|lower_prio_no_advert|lthreshold|lvs_flush|lvs_flush_onstop|lvs_method|lvs_netlink_cmd_rcv_bufs|lvs_netlink_cmd_rcv_bufs_force|lvs_netlink_monitor_rcv_bufs|lvs_netlink_monitor_rcv_bufs_force|lvs_notify_fifo|lvs_notify_fifo_script|lvs_sched|lvs_sync_daemon|max_auto_priority|max_hops|mcast_src_ip|mh-fallback|mh-port|min_auto_priority_delay|min_rx|min_tx|misc_dynamic|misc_path|misc_timeout|multiplier|name|namespace_with_ipsets|native_ipv6|neighbor_ip|net_namespace|net_namespace_ipvs|nftables|nftables_counters|nftables_ifindex|nftables_priority|no_accept|no_checker_emails|no_email_faults|nopreempt|notification_email|notification_email_from|notify|notify_backup|notify_deleted|notify_down|notify_fault|notify_fifo|notify_fifo_script|notify_master|notify_master_rx_lower_pri|notify_priority_changes|notify_stop|notify_up|old_unicast_checksum|omega|ops|param_match|passive|password|path|persistence_engine|persistence_granularity|persistence_timeout|preempt|preempt_delay|priority|process|process_monitor_rcv_bufs|process_monitor_rcv_bufs_force|process_name|process_names|promote_secondaries|protocol|proxy_arp|proxy_arp_pvlan|quorum|quorum_down|quorum_max|quorum_up|random_seed|real_server|regex|regex_max_offset|regex_min_offset|regex_no_match|regex_options|regex_stack|reload_repeat|reload_time_file|require_reply|retry|rise|router_id|rs_init_notifies|script|script_user|sh-fallback|sh-port|shutdown_script|shutdown_script_timeout|skip_check_adv_addr|smtp_alert|smtp_alert_checker|smtp_alert_vrrp|smtp_connect_timeout|smtp_helo_name|smtp_server|snmp_socket|sorry_server|sorry_server_inhibit|sorry_server_lvs_method|source_ip|start|startup_script|startup_script_timeout|state|static_ipaddress|static_routes|static_rules|status_code|step|strict_mode|sync_group_tracking_weight|terminate_delay|timeout|track_bfd|track_file|track_group|track_interface|track_process|track_script|track_src_ip|ttl|type|umask|unicast_peer|unicast_src_ip|unicast_ttl|url|use_ipvlan|use_pid_dir|use_vmac|user|uthreshold|val[123]|version|virtual_ipaddress|virtual_ipaddress_excluded|virtual_router_id|virtual_routes|virtual_rules|virtual_server|virtual_server_group|virtualhost|vmac_xmit_base|vrrp|vrrp_(?:check_unicast_src|cpu_affinity|garp_interval|garp_lower_prio_delay|garp_lower_prio_repeat|garp_master_delay|garp_master_refresh|garp_master_refresh_repeat|garp_master_repeat|gna_interval|higher_prio_send_advert|instance|ipsets|iptables|lower_prio_no_advert|mcast_group4|mcast_group6|min_garp|netlink_cmd_rcv_bufs|netlink_cmd_rcv_bufs_force|netlink_monitor_rcv_bufs|netlink_monitor_rcv_bufs_force|no_swap|notify_fifo|notify_fifo_script|notify_priority_changes|priority|process_name|rlimit_rttime|rt_priority|rx_bufs_multiplier|rx_bufs_policy|script|skip_check_adv_addr|startup_delay|strict|sync_group|track_process|version)|warmup|weight)\b/,constant:/\b(?:A|AAAA|AH|BACKUP|CNAME|DR|MASTER|MX|NAT|NS|PASS|SCTP|SOA|TCP|TUN|TXT|UDP|dh|fo|lblc|lblcr|lc|mh|nq|ovf|rr|sed|sh|wlc|wrr)\b/,number:{pattern:/(^|[^\w.-])-?\d+(?:\.\d+)?/,lookbehind:!0},boolean:/\b(?:false|no|off|on|true|yes)\b/,punctuation:/[\{\}]/}}e.exports=t,t.displayName="keepalived",t.aliases=[]},86838:function(e){"use strict";function t(e){e.languages.keyman={comment:{pattern:/\bc .*/i,greedy:!0},string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0},"virtual-key":{pattern:/\[\s*(?:(?:ALT|CAPS|CTRL|LALT|LCTRL|NCAPS|RALT|RCTRL|SHIFT)\s+)*(?:[TKU]_[\w?]+|[A-E]\d\d?|"[^"\r\n]*"|'[^'\r\n]*')\s*\]/i,greedy:!0,alias:"function"},"header-keyword":{pattern:/&\w+/,alias:"bold"},"header-statement":{pattern:/\b(?:bitmap|bitmaps|caps always off|caps on only|copyright|hotkey|language|layout|message|name|shift frees caps|version)\b/i,alias:"bold"},"rule-keyword":{pattern:/\b(?:any|baselayout|beep|call|context|deadkey|dk|if|index|layer|notany|nul|outs|platform|reset|return|save|set|store|use)\b/i,alias:"keyword"},"structural-keyword":{pattern:/\b(?:ansi|begin|group|match|nomatch|unicode|using keys)\b/i,alias:"keyword"},"compile-target":{pattern:/\$(?:keyman|keymanonly|keymanweb|kmfl|weaver):/i,alias:"property"},number:/\b(?:U\+[\dA-F]+|d\d+|x[\da-f]+|\d+)\b/i,operator:/[+>\\$]|\.\./,punctuation:/[()=,]/}}e.exports=t,t.displayName="keyman",t.aliases=[]},84062:function(e){"use strict";function t(e){var t;e.languages.kotlin=e.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete e.languages.kotlin["class-name"],t={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:e.languages.kotlin}},e.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:t},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:t},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete e.languages.kotlin.string,e.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),e.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),e.languages.kt=e.languages.kotlin,e.languages.kts=e.languages.kotlin}e.exports=t,t.displayName="kotlin",t.aliases=["kt","kts"]},86200:function(e){"use strict";function t(e){!function(e){var t=/\s\x00-\x1f\x22-\x2f\x3a-\x3f\x5b-\x5e\x60\x7b-\x7e/.source;function n(e,n){return RegExp(e.replace(/<nonId>/g,t),n)}e.languages.kumir={comment:{pattern:/\|.*/},prolog:{pattern:/#.*/,greedy:!0},string:{pattern:/"[^\n\r"]*"|'[^\n\r']*'/,greedy:!0},boolean:{pattern:n(/(^|[<nonId>])(?:да|нет)(?=[<nonId>]|$)/.source),lookbehind:!0},"operator-word":{pattern:n(/(^|[<nonId>])(?:и|или|не)(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"keyword"},"system-variable":{pattern:n(/(^|[<nonId>])знач(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"keyword"},type:[{pattern:n(/(^|[<nonId>])(?:вещ|лит|лог|сим|цел)(?:\x20*таб)?(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"builtin"},{pattern:n(/(^|[<nonId>])(?:компл|сканкод|файл|цвет)(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"important"}],keyword:{pattern:n(/(^|[<nonId>])(?:алг|арг(?:\x20*рез)?|ввод|ВКЛЮЧИТЬ|вс[её]|выбор|вывод|выход|дано|для|до|дс|если|иначе|исп|использовать|кон(?:(?:\x20+|_)исп)?|кц(?:(?:\x20+|_)при)?|надо|нач|нс|нц|от|пауза|пока|при|раза?|рез|стоп|таб|то|утв|шаг)(?=[<nonId>]|$)/.source),lookbehind:!0},name:{pattern:n(/(^|[<nonId>])[^\d<nonId>][^<nonId>]*(?:\x20+[^<nonId>]+)*(?=[<nonId>]|$)/.source),lookbehind:!0},number:{pattern:n(/(^|[<nonId>])(?:\B\$[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)(?=[<nonId>]|$)/.source,"i"),lookbehind:!0},punctuation:/:=|[(),:;\[\]]/,"operator-char":{pattern:/\*\*?|<[=>]?|>=?|[-+/=]/,alias:"operator"}},e.languages.kum=e.languages.kumir}(e)}e.exports=t,t.displayName="kumir",t.aliases=["kum"]},95429:function(e){"use strict";function t(e){e.languages.kusto={comment:{pattern:/\/\/.*/,greedy:!0},string:{pattern:/```[\s\S]*?```|[hH]?(?:"(?:[^\r\n\\"]|\\.)*"|'(?:[^\r\n\\']|\\.)*'|@(?:"[^\r\n"]*"|'[^\r\n']*'))/,greedy:!0},verb:{pattern:/(\|\s*)[a-z][\w-]*/i,lookbehind:!0,alias:"keyword"},command:{pattern:/\.[a-z][a-z\d-]*\b/,alias:"keyword"},"class-name":/\b(?:bool|datetime|decimal|dynamic|guid|int|long|real|string|timespan)\b/,keyword:/\b(?:access|alias|and|anti|as|asc|auto|between|by|(?:contains|(?:ends|starts)with|has(?:perfix|suffix)?)(?:_cs)?|database|declare|desc|external|from|fullouter|has_all|in|ingestion|inline|inner|innerunique|into|(?:left|right)(?:anti(?:semi)?|inner|outer|semi)?|let|like|local|not|of|on|or|pattern|print|query_parameters|range|restrict|schema|set|step|table|tables|to|view|where|with|matches\s+regex|nulls\s+(?:first|last))(?![\w-])/,boolean:/\b(?:false|null|true)\b/,function:/\b[a-z_]\w*(?=\s*\()/,datetime:[{pattern:/\b(?:(?:Fri|Friday|Mon|Monday|Sat|Saturday|Sun|Sunday|Thu|Thursday|Tue|Tuesday|Wed|Wednesday)\s*,\s*)?\d{1,2}(?:\s+|-)(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)(?:\s+|-)\d{2}\s+\d{2}:\d{2}(?::\d{2})?(?:\s*(?:\b(?:[A-Z]|(?:[ECMT][DS]|GM|U)T)|[+-]\d{4}))?\b/,alias:"number"},{pattern:/[+-]?\b(?:\d{4}-\d{2}-\d{2}(?:[ T]\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?)?|\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?)Z?/,alias:"number"}],number:/\b(?:0x[0-9A-Fa-f]+|\d+(?:\.\d+)?(?:[Ee][+-]?\d+)?)(?:(?:min|sec|[mnµ]s|[dhms]|microsecond|tick)\b)?|[+-]?\binf\b/,operator:/=>|[!=]~|[!=<>]=?|[-+*/%|]|\.\./,punctuation:/[()\[\]{},;.:]/}}e.exports=t,t.displayName="kusto",t.aliases=[]},61802:function(e){"use strict";function t(e){var t,n;n={"equation-command":{pattern:t=/\\(?:[^a-z()[\]]|[a-z*]+)/i,alias:"regex"}},e.languages.latex={comment:/%.*/,cdata:{pattern:/(\\begin\{((?:lstlisting|verbatim)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0},equation:[{pattern:/\$\$(?:\\[\s\S]|[^\\$])+\$\$|\$(?:\\[\s\S]|[^\\$])+\$|\\\([\s\S]*?\\\)|\\\[[\s\S]*?\\\]/,inside:n,alias:"string"},{pattern:/(\\begin\{((?:align|eqnarray|equation|gather|math|multline)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0,inside:n,alias:"string"}],keyword:{pattern:/(\\(?:begin|cite|documentclass|end|label|ref|usepackage)(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0},url:{pattern:/(\\url\{)[^}]+(?=\})/,lookbehind:!0},headline:{pattern:/(\\(?:chapter|frametitle|paragraph|part|section|subparagraph|subsection|subsubparagraph|subsubsection|subsubsubparagraph)\*?(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0,alias:"class-name"},function:{pattern:t,alias:"selector"},punctuation:/[[\]{}&]/},e.languages.tex=e.languages.latex,e.languages.context=e.languages.latex}e.exports=t,t.displayName="latex",t.aliases=["tex","context"]},28827:function(e,t,n){"use strict";var r=n(47305),i=n(79902);function o(e){var t;e.register(r),e.register(i),e.languages.latte={comment:/^\{\*[\s\S]*/,"latte-tag":{pattern:/(^\{(?:\/(?=[a-z]))?)(?:[=_]|[a-z]\w*\b(?!\())/i,lookbehind:!0,alias:"important"},delimiter:{pattern:/^\{\/?|\}$/,alias:"punctuation"},php:{pattern:/\S(?:[\s\S]*\S)?/,alias:"language-php",inside:e.languages.php}},t=e.languages.extend("markup",{}),e.languages.insertBefore("inside","attr-value",{"n-attr":{pattern:/n:[\w-]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+))?/,inside:{"attr-name":{pattern:/^[^\s=]+/,alias:"important"},"attr-value":{pattern:/=[\s\S]+/,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}],php:{pattern:/\S(?:[\s\S]*\S)?/,inside:e.languages.php}}}}}},t.tag),e.hooks.add("before-tokenize",function(n){"latte"===n.language&&(e.languages["markup-templating"].buildPlaceholders(n,"latte",/\{\*[\s\S]*?\*\}|\{[^'"\s{}*](?:[^"'/{}]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|\/\*(?:[^*]|\*(?!\/))*\*\/)*\}/g),n.grammar=t)}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"latte")})}e.exports=o,o.displayName="latte",o.aliases=[]},76313:function(e){"use strict";function t(e){e.languages.less=e.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/}),e.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}})}e.exports=t,t.displayName="less",t.aliases=[]},56907:function(e,t,n){"use strict";var r=n(13290);function i(e){e.register(r),function(e){for(var t=/\((?:[^();"#\\]|\\[\s\S]|;.*(?!.)|"(?:[^"\\]|\\.)*"|#(?:\{(?:(?!#\})[\s\S])*#\}|[^{])|<expr>)*\)/.source,n=0;n<5;n++)t=t.replace(/<expr>/g,function(){return t});t=t.replace(/<expr>/g,/[^\s\S]/.source);var r=e.languages.lilypond={comment:/%(?:(?!\{).*|\{[\s\S]*?%\})/,"embedded-scheme":{pattern:RegExp(/(^|[=\s])#(?:"(?:[^"\\]|\\.)*"|[^\s()"]*(?:[^\s()]|<expr>))/.source.replace(/<expr>/g,function(){return t}),"m"),lookbehind:!0,greedy:!0,inside:{scheme:{pattern:/^(#)[\s\S]+$/,lookbehind:!0,alias:"language-scheme",inside:{"embedded-lilypond":{pattern:/#\{[\s\S]*?#\}/,greedy:!0,inside:{punctuation:/^#\{|#\}$/,lilypond:{pattern:/[\s\S]+/,alias:"language-lilypond",inside:null}}},rest:e.languages.scheme}},punctuation:/#/}},string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},"class-name":{pattern:/(\\new\s+)[\w-]+/,lookbehind:!0},keyword:{pattern:/\\[a-z][-\w]*/i,inside:{punctuation:/^\\/}},operator:/[=|]|<<|>>/,punctuation:{pattern:/(^|[a-z\d])(?:'+|,+|[_^]?-[_^]?(?:[-+^!>._]|(?=\d))|[_^]\.?|[.!])|[{}()[\]<>^~]|\\[()[\]<>\\!]|--|__/,lookbehind:!0},number:/\b\d+(?:\/\d+)?\b/};r["embedded-scheme"].inside.scheme.inside["embedded-lilypond"].inside.lilypond.inside=r,e.languages.ly=r}(e)}e.exports=i,i.displayName="lilypond",i.aliases=[]},20680:function(e,t,n){"use strict";var r=n(47305);function i(e){e.register(r),e.languages.liquid={comment:{pattern:/(^\{%\s*comment\s*%\})[\s\S]+(?=\{%\s*endcomment\s*%\}$)/,lookbehind:!0},delimiter:{pattern:/^\{(?:\{\{|[%\{])-?|-?(?:\}\}|[%\}])\}$/,alias:"punctuation"},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},keyword:/\b(?:as|assign|break|(?:end)?(?:capture|case|comment|for|form|if|paginate|raw|style|tablerow|unless)|continue|cycle|decrement|echo|else|elsif|in|include|increment|limit|liquid|offset|range|render|reversed|section|when|with)\b/,object:/\b(?:address|all_country_option_tags|article|block|blog|cart|checkout|collection|color|country|country_option_tags|currency|current_page|current_tags|customer|customer_address|date|discount_allocation|discount_application|external_video|filter|filter_value|font|forloop|fulfillment|generic_file|gift_card|group|handle|image|line_item|link|linklist|localization|location|measurement|media|metafield|model|model_source|order|page|page_description|page_image|page_title|part|policy|product|product_option|recommendations|request|robots|routes|rule|script|search|selling_plan|selling_plan_allocation|selling_plan_group|shipping_method|shop|shop_locale|sitemap|store_availability|tax_line|template|theme|transaction|unit_price_measurement|user_agent|variant|video|video_source)\b/,function:[{pattern:/(\|\s*)\w+/,lookbehind:!0,alias:"filter"},{pattern:/(\.\s*)(?:first|last|size)/,lookbehind:!0}],boolean:/\b(?:false|nil|true)\b/,range:{pattern:/\.\./,alias:"operator"},number:/\b\d+(?:\.\d+)?\b/,operator:/[!=]=|<>|[<>]=?|[|?:=-]|\b(?:and|contains(?=\s)|or)\b/,punctuation:/[.,\[\]()]/,empty:{pattern:/\bempty\b/,alias:"keyword"}},e.hooks.add("before-tokenize",function(t){var n=!1;e.languages["markup-templating"].buildPlaceholders(t,"liquid",/\{%\s*comment\s*%\}[\s\S]*?\{%\s*endcomment\s*%\}|\{(?:%[\s\S]*?%|\{\{[\s\S]*?\}\}|\{[\s\S]*?\})\}/g,function(e){var t=/^\{%-?\s*(\w+)/.exec(e);if(t){var r=t[1];if("raw"===r&&!n)return n=!0,!0;if("endraw"===r)return n=!1,!0}return!n})}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"liquid")})}e.exports=i,i.displayName="liquid",i.aliases=[]},99008:function(e){"use strict";function t(e){!function(e){function t(e){return RegExp(/(\()/.source+"(?:"+e+")"+/(?=[\s\)])/.source)}function n(e){return RegExp(/([\s([])/.source+"(?:"+e+")"+/(?=[\s)])/.source)}var r=/(?!\d)[-+*/~!@$%^=<>{}\w]+/.source,i="&"+r,o="(\\()",a="(?=\\s)",s=/(?:[^()]|\((?:[^()]|\((?:[^()]|\((?:[^()]|\((?:[^()]|\([^()]*\))*\))*\))*\))*\))*/.source,l={heading:{pattern:/;;;.*/,alias:["comment","title"]},comment:/;.*/,string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0,inside:{argument:/[-A-Z]+(?=[.,\s])/,symbol:RegExp("`"+r+"'")}},"quoted-symbol":{pattern:RegExp("#?'"+r),alias:["variable","symbol"]},"lisp-property":{pattern:RegExp(":"+r),alias:"property"},splice:{pattern:RegExp(",@?"+r),alias:["symbol","variable"]},keyword:[{pattern:RegExp(o+"(?:and|(?:cl-)?letf|cl-loop|cond|cons|error|if|(?:lexical-)?let\\*?|message|not|null|or|provide|require|setq|unless|use-package|when|while)"+a),lookbehind:!0},{pattern:RegExp(o+"(?:append|by|collect|concat|do|finally|for|in|return)"+a),lookbehind:!0}],declare:{pattern:t(/declare/.source),lookbehind:!0,alias:"keyword"},interactive:{pattern:t(/interactive/.source),lookbehind:!0,alias:"keyword"},boolean:{pattern:n(/nil|t/.source),lookbehind:!0},number:{pattern:n(/[-+]?\d+(?:\.\d*)?/.source),lookbehind:!0},defvar:{pattern:RegExp(o+"def(?:const|custom|group|var)\\s+"+r),lookbehind:!0,inside:{keyword:/^def[a-z]+/,variable:RegExp(r)}},defun:{pattern:RegExp(o+/(?:cl-)?(?:defmacro|defun\*?)\s+/.source+r+/\s+\(/.source+s+/\)/.source),lookbehind:!0,greedy:!0,inside:{keyword:/^(?:cl-)?def\S+/,arguments:null,function:{pattern:RegExp("(^\\s)"+r),lookbehind:!0},punctuation:/[()]/}},lambda:{pattern:RegExp(o+"lambda\\s+\\(\\s*(?:&?"+r+"(?:\\s+&?"+r+")*\\s*)?\\)"),lookbehind:!0,greedy:!0,inside:{keyword:/^lambda/,arguments:null,punctuation:/[()]/}},car:{pattern:RegExp(o+r),lookbehind:!0},punctuation:[/(?:['`,]?\(|[)\[\]])/,{pattern:/(\s)\.(?=\s)/,lookbehind:!0}]},c={"lisp-marker":RegExp(i),varform:{pattern:RegExp(/\(/.source+r+/\s+(?=\S)/.source+s+/\)/.source),inside:l},argument:{pattern:RegExp(/(^|[\s(])/.source+r),lookbehind:!0,alias:"variable"},rest:l},u="\\S+(?:\\s+\\S+)*",d={pattern:RegExp(o+s+"(?=\\))"),lookbehind:!0,inside:{"rest-vars":{pattern:RegExp("&(?:body|rest)\\s+"+u),inside:c},"other-marker-vars":{pattern:RegExp("&(?:aux|optional)\\s+"+u),inside:c},keys:{pattern:RegExp("&key\\s+"+u+"(?:\\s+&allow-other-keys)?"),inside:c},argument:{pattern:RegExp(r),alias:"variable"},punctuation:/[()]/}};l.lambda.inside.arguments=d,l.defun.inside.arguments=e.util.clone(d),l.defun.inside.arguments.inside.sublist=d,e.languages.lisp=l,e.languages.elisp=l,e.languages.emacs=l,e.languages["emacs-lisp"]=l}(e)}e.exports=t,t.displayName="lisp",t.aliases=[]},32398:function(e){"use strict";function t(e){e.languages.livescript={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\])#.*/,lookbehind:!0}],"interpolated-string":{pattern:/(^|[^"])("""|")(?:\\[\s\S]|(?!\2)[^\\])*\2(?!")/,lookbehind:!0,greedy:!0,inside:{variable:{pattern:/(^|[^\\])#[a-z_](?:-?[a-z]|[\d_])*/m,lookbehind:!0},interpolation:{pattern:/(^|[^\\])#\{[^}]+\}/m,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^#\{|\}$/,alias:"variable"}}},string:/[\s\S]+/}},string:[{pattern:/('''|')(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},{pattern:/<\[[\s\S]*?\]>/,greedy:!0},/\\[^\s,;\])}]+/],regex:[{pattern:/\/\/(?:\[[^\r\n\]]*\]|\\.|(?!\/\/)[^\\\[])+\/\/[gimyu]{0,5}/,greedy:!0,inside:{comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0}}},{pattern:/\/(?:\[[^\r\n\]]*\]|\\.|[^/\\\r\n\[])+\/[gimyu]{0,5}/,greedy:!0}],keyword:{pattern:/(^|(?!-).)\b(?:break|case|catch|class|const|continue|default|do|else|extends|fallthrough|finally|for(?: ever)?|function|if|implements|it|let|loop|new|null|otherwise|own|return|super|switch|that|then|this|throw|try|unless|until|var|void|when|while|yield)(?!-)\b/m,lookbehind:!0},"keyword-operator":{pattern:/(^|[^-])\b(?:(?:delete|require|typeof)!|(?:and|by|delete|export|from|import(?: all)?|in|instanceof|is(?: not|nt)?|not|of|or|til|to|typeof|with|xor)(?!-)\b)/m,lookbehind:!0,alias:"operator"},boolean:{pattern:/(^|[^-])\b(?:false|no|off|on|true|yes)(?!-)\b/m,lookbehind:!0},argument:{pattern:/(^|(?!\.&\.)[^&])&(?!&)\d*/m,lookbehind:!0,alias:"variable"},number:/\b(?:\d+~[\da-z]+|\d[\d_]*(?:\.\d[\d_]*)?(?:[a-z]\w*)?)/i,identifier:/[a-z_](?:-?[a-z]|[\d_])*/i,operator:[{pattern:/( )\.(?= )/,lookbehind:!0},/\.(?:[=~]|\.\.?)|\.(?:[&|^]|<<|>>>?)\.|:(?:=|:=?)|&&|\|[|>]|<(?:<<?<?|--?!?|~~?!?|[|=?])?|>[>=?]?|-(?:->?|>)?|\+\+?|@@?|%%?|\*\*?|!(?:~?=|--?>|~?~>)?|~(?:~?>|=)?|==?|\^\^?|[\/?]/],punctuation:/[(){}\[\]|.,:;`]/},e.languages.livescript["interpolated-string"].inside.interpolation.inside.rest=e.languages.livescript}e.exports=t,t.displayName="livescript",t.aliases=[]},96541:function(e){"use strict";function t(e){e.languages.llvm={comment:/;.*/,string:{pattern:/"[^"]*"/,greedy:!0},boolean:/\b(?:false|true)\b/,variable:/[%@!#](?:(?!\d)(?:[-$.\w]|\\[a-f\d]{2})+|\d+)/i,label:/(?!\d)(?:[-$.\w]|\\[a-f\d]{2})+:/i,type:{pattern:/\b(?:double|float|fp128|half|i[1-9]\d*|label|metadata|ppc_fp128|token|void|x86_fp80|x86_mmx)\b/,alias:"class-name"},keyword:/\b[a-z_][a-z_0-9]*\b/,number:/[+-]?\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b|\b0x[\dA-Fa-f]+\b|\b0xK[\dA-Fa-f]{20}\b|\b0x[ML][\dA-Fa-f]{32}\b|\b0xH[\dA-Fa-f]{4}\b/,punctuation:/[{}[\];(),.!*=<>]/}}e.exports=t,t.displayName="llvm",t.aliases=[]},32108:function(e){"use strict";function t(e){e.languages.log={string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?![st] | \w)(?:[^'\\\r\n]|\\.)*'/,greedy:!0},exception:{pattern:/(^|[^\w.])[a-z][\w.]*(?:Error|Exception):.*(?:(?:\r\n?|\n)[ \t]*(?:at[ \t].+|\.{3}.*|Caused by:.*))+(?:(?:\r\n?|\n)[ \t]*\.\.\. .*)?/,lookbehind:!0,greedy:!0,alias:["javastacktrace","language-javastacktrace"],inside:e.languages.javastacktrace||{keyword:/\bat\b/,function:/[a-z_][\w$]*(?=\()/,punctuation:/[.:()]/}},level:[{pattern:/\b(?:ALERT|CRIT|CRITICAL|EMERG|EMERGENCY|ERR|ERROR|FAILURE|FATAL|SEVERE)\b/,alias:["error","important"]},{pattern:/\b(?:WARN|WARNING|WRN)\b/,alias:["warning","important"]},{pattern:/\b(?:DISPLAY|INF|INFO|NOTICE|STATUS)\b/,alias:["info","keyword"]},{pattern:/\b(?:DBG|DEBUG|FINE)\b/,alias:["debug","keyword"]},{pattern:/\b(?:FINER|FINEST|TRACE|TRC|VERBOSE|VRB)\b/,alias:["trace","comment"]}],property:{pattern:/((?:^|[\]|])[ \t]*)[a-z_](?:[\w-]|\b\/\b)*(?:[. ]\(?\w(?:[\w-]|\b\/\b)*\)?)*:(?=\s)/im,lookbehind:!0},separator:{pattern:/(^|[^-+])-{3,}|={3,}|\*{3,}|- - /m,lookbehind:!0,alias:"comment"},url:/\b(?:file|ftp|https?):\/\/[^\s|,;'"]*[^\s|,;'">.]/,email:{pattern:/(^|\s)[-\w+.]+@[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)+(?=\s)/,lookbehind:!0,alias:"url"},"ip-address":{pattern:/\b(?:\d{1,3}(?:\.\d{1,3}){3})\b/,alias:"constant"},"mac-address":{pattern:/\b[a-f0-9]{2}(?::[a-f0-9]{2}){5}\b/i,alias:"constant"},domain:{pattern:/(^|\s)[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)*\.[a-z][a-z0-9-]+(?=\s)/,lookbehind:!0,alias:"constant"},uuid:{pattern:/\b[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\b/i,alias:"constant"},hash:{pattern:/\b(?:[a-f0-9]{32}){1,2}\b/i,alias:"constant"},"file-path":{pattern:/\b[a-z]:[\\/][^\s|,;:(){}\[\]"']+|(^|[\s:\[\](>|])\.{0,2}\/\w[^\s|,;:(){}\[\]"']*/i,lookbehind:!0,greedy:!0,alias:"string"},date:{pattern:RegExp(/\b\d{4}[-/]\d{2}[-/]\d{2}(?:T(?=\d{1,2}:)|(?=\s\d{1,2}:))/.source+"|"+/\b\d{1,4}[-/ ](?:\d{1,2}|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)[-/ ]\d{2,4}T?\b/.source+"|"+/\b(?:(?:Fri|Mon|Sat|Sun|Thu|Tue|Wed)(?:\s{1,2}(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep))?|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)\s{1,2}\d{1,2}\b/.source,"i"),alias:"number"},time:{pattern:/\b\d{1,2}:\d{1,2}:\d{1,2}(?:[.,:]\d+)?(?:\s?[+-]\d{2}:?\d{2}|Z)?\b/,alias:"number"},boolean:/\b(?:false|null|true)\b/i,number:{pattern:/(^|[^.\w])(?:0x[a-f0-9]+|0o[0-7]+|0b[01]+|v?\d[\da-f]*(?:\.\d+)*(?:e[+-]?\d+)?[a-z]{0,3}\b)\b(?!\.\w)/i,lookbehind:!0},operator:/[;:?<=>~/@!$%&+\-|^(){}*#]/,punctuation:/[\[\].,]/}}e.exports=t,t.displayName="log",t.aliases=[]},91953:function(e){"use strict";function t(e){e.languages.lolcode={comment:[/\bOBTW\s[\s\S]*?\sTLDR\b/,/\bBTW.+/],string:{pattern:/"(?::.|[^":])*"/,inside:{variable:/:\{[^}]+\}/,symbol:[/:\([a-f\d]+\)/i,/:\[[^\]]+\]/,/:[)>o":]/]},greedy:!0},number:/(?:\B-)?(?:\b\d+(?:\.\d*)?|\B\.\d+)/,symbol:{pattern:/(^|\s)(?:A )?(?:BUKKIT|NOOB|NUMBAR|NUMBR|TROOF|YARN)(?=\s|,|$)/,lookbehind:!0,inside:{keyword:/A(?=\s)/}},label:{pattern:/((?:^|\s)(?:IM IN YR|IM OUTTA YR) )[a-zA-Z]\w*/,lookbehind:!0,alias:"string"},function:{pattern:/((?:^|\s)(?:HOW IZ I|I IZ|IZ) )[a-zA-Z]\w*/,lookbehind:!0},keyword:[{pattern:/(^|\s)(?:AN|FOUND YR|GIMMEH|GTFO|HAI|HAS A|HOW IZ I|I HAS A|I IZ|IF U SAY SO|IM IN YR|IM OUTTA YR|IS NOW(?: A)?|ITZ(?: A)?|IZ|KTHX|KTHXBYE|LIEK(?: A)?|MAEK|MEBBE|MKAY|NERFIN|NO WAI|O HAI IM|O RLY\?|OIC|OMG|OMGWTF|R|SMOOSH|SRS|TIL|UPPIN|VISIBLE|WILE|WTF\?|YA RLY|YR)(?=\s|,|$)/,lookbehind:!0},/'Z(?=\s|,|$)/],boolean:{pattern:/(^|\s)(?:FAIL|WIN)(?=\s|,|$)/,lookbehind:!0},variable:{pattern:/(^|\s)IT(?=\s|,|$)/,lookbehind:!0},operator:{pattern:/(^|\s)(?:NOT|BOTH SAEM|DIFFRINT|(?:ALL|ANY|BIGGR|BOTH|DIFF|EITHER|MOD|PRODUKT|QUOSHUNT|SMALLR|SUM|WON) OF)(?=\s|,|$)/,lookbehind:!0},punctuation:/\.{3}|…|,|!/}}e.exports=t,t.displayName="lolcode",t.aliases=[]},75644:function(e){"use strict";function t(e){e.languages.lua={comment:/^#!.+|--(?:\[(=*)\[[\s\S]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\z(?:\r\n|\s)|\\(?:\r\n|[^z]))*\1|\[(=*)\[[\s\S]*?\]\2\]/,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:[/[-+*%^&|#]|\/\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\.\.(?!\.)/,lookbehind:!0}],punctuation:/[\[\](){},;]|\.+|:+/}}e.exports=t,t.displayName="lua",t.aliases=[]},87328:function(e){"use strict";function t(e){e.languages.magma={output:{pattern:/^(>.*(?:\r(?:\n|(?!\n))|\n))(?!>)(?:.+|(?:\r(?:\n|(?!\n))|\n)(?!>).*)(?:(?:\r(?:\n|(?!\n))|\n)(?!>).*)*/m,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/(^|[^\\"])"(?:[^\r\n\\"]|\\.)*"/,lookbehind:!0,greedy:!0},keyword:/\b(?:_|adj|and|assert|assert2|assert3|assigned|break|by|case|cat|catch|clear|cmpeq|cmpne|continue|declare|default|delete|diff|div|do|elif|else|end|eq|error|eval|exists|exit|for|forall|forward|fprintf|freeze|function|ge|gt|if|iload|import|in|intrinsic|is|join|le|load|local|lt|meet|mod|ne|not|notadj|notin|notsubset|or|print|printf|procedure|quit|random|read|readi|repeat|require|requirege|requirerange|restore|return|save|sdiff|select|subset|then|time|to|try|until|vprint|vprintf|vtime|when|where|while|xor)\b/,boolean:/\b(?:false|true)\b/,generator:{pattern:/\b[a-z_]\w*(?=\s*<)/i,alias:"class-name"},function:/\b[a-z_]\w*(?=\s*\()/i,number:{pattern:/(^|[^\w.]|\.\.)(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?:_[a-z]?)?(?=$|[^\w.]|\.\.)/,lookbehind:!0},operator:/->|[-+*/^~!|#=]|:=|\.\./,punctuation:/[()[\]{}<>,;.:]/}}e.exports=t,t.displayName="magma",t.aliases=[]},48111:function(e){"use strict";function t(e){e.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ \t])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/}}e.exports=t,t.displayName="makefile",t.aliases=[]},19009:function(e){"use strict";function t(e){!function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(e){return e=e.replace(/<inner>/g,function(){return t}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return r}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(t){["url","bold","italic","strike","code-snippet"].forEach(function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])})}),e.hooks.add("after-tokenize",function(e){("markdown"===e.language||"md"===e.language)&&function e(t){if(t&&"string"!=typeof t)for(var n=0,r=t.length;n<r;n++){var i=t[n];if("code"!==i.type){e(i.content);continue}var o=i.content[1],a=i.content[3];if(o&&a&&"code-language"===o.type&&"code-block"===a.type&&"string"==typeof o.content){var s=o.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),l="language-"+(s=(/[a-z][\w-]*/i.exec(s)||[""])[0].toLowerCase());a.alias?"string"==typeof a.alias?a.alias=[a.alias,l]:a.alias.push(l):a.alias=[l]}}}(e.tokens)}),e.hooks.add("wrap",function(t){if("code-block"===t.type){for(var n="",r=0,i=t.classes.length;r<i;r++){var o=t.classes[r],c=/language-(.+)/.exec(o);if(c){n=c[1];break}}var u=e.languages[n];if(u)t.content=e.highlight(t.content.value.replace(a,"").replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(e,t){return"#"===(t=t.toLowerCase())[0]?l("x"===t[1]?parseInt(t.slice(2),16):Number(t.slice(1))):s[t]||e}),u,n);else if(n&&"none"!==n&&e.plugins.autoloader){var d="md-"+new Date().valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes.id=d,e.plugins.autoloader.loadLanguages(n,function(){var t=document.getElementById(d);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))})}}});var a=RegExp(e.languages.markup.tag.pattern.source,"gi"),s={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;e.languages.md=e.languages.markdown}(e)}e.exports=t,t.displayName="markdown",t.aliases=["md"]},47305:function(e){"use strict";function t(e){!function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,r,i,o){if(n.language===r){var a=n.tokenStack=[];n.code=n.code.replace(i,function(e){if("function"==typeof o&&!o(e))return e;for(var i,s=a.length;-1!==n.code.indexOf(i=t(r,s));)++s;return a[s]=e,i}),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,r){if(n.language===r&&n.tokenStack){n.grammar=e.languages[r];var i=0,o=Object.keys(n.tokenStack);!function a(s){for(var l=0;l<s.length&&!(i>=o.length);l++){var c=s[l];if("string"==typeof c||c.content&&"string"==typeof c.content){var u=o[i],d=n.tokenStack[u],p="string"==typeof c?c:c.content,h=t(r,u),f=p.indexOf(h);if(f>-1){++i;var g=p.substring(0,f),m=new e.Token(r,e.tokenize(d,n.grammar),"language-"+r,d),b=p.substring(f+h.length),v=[];g&&v.push.apply(v,a([g])),v.push(m),b&&v.push.apply(v,a([b])),"string"==typeof c?s.splice.apply(s,[l,1].concat(v)):c.content=v}}else c.content&&a(c.content)}return s}(n.tokens)}}}})}(e)}e.exports=t,t.displayName="markupTemplating",t.aliases=[]},21042:function(e){"use strict";function t(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(t,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+n]={pattern:/[\s\S]+/,inside:e.languages[n]};var o={};o[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return t}),"i"),lookbehind:!0,greedy:!0,inside:i},e.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}e.exports=t,t.displayName="markup",t.aliases=["html","mathml","svg","xml","ssml","atom","rss"]},3722:function(e){"use strict";function t(e){e.languages.matlab={comment:[/%\{[\s\S]*?\}%/,/%.+/],string:{pattern:/\B'(?:''|[^'\r\n])*'/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+)?(?:[ij])?|\b[ij]\b/,keyword:/\b(?:NaN|break|case|catch|continue|else|elseif|end|for|function|if|inf|otherwise|parfor|pause|pi|return|switch|try|while)\b/,function:/\b(?!\d)\w+(?=\s*\()/,operator:/\.?[*^\/\\']|[+\-:@]|[<>=~]=?|&&?|\|\|?/,punctuation:/\.{3}|[.,;\[\](){}!]/}}e.exports=t,t.displayName="matlab",t.aliases=[]},94845:function(e){"use strict";function t(e){var t;t=/\b(?:about|and|animate|as|at|attributes|by|case|catch|collect|continue|coordsys|do|else|exit|fn|for|from|function|global|if|in|local|macroscript|mapped|max|not|of|off|on|or|parameters|persistent|plugin|rcmenu|return|rollout|set|struct|then|throw|to|tool|try|undo|utility|when|where|while|with)\b/i,e.languages.maxscript={comment:{pattern:/\/\*[\s\S]*?(?:\*\/|$)|--.*/,greedy:!0},string:{pattern:/(^|[^"\\@])(?:"(?:[^"\\]|\\[\s\S])*"|@"[^"]*")/,lookbehind:!0,greedy:!0},path:{pattern:/\$(?:[\w/\\.*?]|'[^']*')*/,greedy:!0,alias:"string"},"function-call":{pattern:RegExp("((?:"+(/^/.source+"|")+/[;=<>+\-*/^({\[]/.source+"|"+/\b(?:and|by|case|catch|collect|do|else|if|in|not|or|return|then|to|try|where|while|with)\b/.source+")[ 	]*)(?!"+t.source+")"+/[a-z_]\w*\b/.source+"(?=[ 	]*(?:"+("(?!"+t.source+")"+/[a-z_]/.source+"|")+/\d|-\.?\d/.source+"|"+/[({'"$@#?]/.source+"))","im"),lookbehind:!0,greedy:!0,alias:"function"},"function-definition":{pattern:/(\b(?:fn|function)\s+)\w+\b/i,lookbehind:!0,alias:"function"},argument:{pattern:/\b[a-z_]\w*(?=:)/i,alias:"attr-name"},keyword:t,boolean:/\b(?:false|true)\b/,time:{pattern:/(^|[^\w.])(?:(?:(?:\d+(?:\.\d*)?|\.\d+)(?:[eEdD][+-]\d+|[LP])?[msft])+|\d+:\d+(?:\.\d*)?)(?![\w.:])/,lookbehind:!0,alias:"number"},number:[{pattern:/(^|[^\w.])(?:(?:\d+(?:\.\d*)?|\.\d+)(?:[eEdD][+-]\d+|[LP])?|0x[a-fA-F0-9]+)(?![\w.:])/,lookbehind:!0},/\b(?:e|pi)\b/],constant:/\b(?:dontcollect|ok|silentValue|undefined|unsupplied)\b/,color:{pattern:/\b(?:black|blue|brown|gray|green|orange|red|white|yellow)\b/i,alias:"constant"},operator:/[-+*/<>=!]=?|[&^?]|#(?!\()/,punctuation:/[()\[\]{}.:,;]|#(?=\()|\\$/m}}e.exports=t,t.displayName="maxscript",t.aliases=[]},34349:function(e){"use strict";function t(e){e.languages.mel={comment:/\/\/.*/,code:{pattern:/`(?:\\.|[^\\`\r\n])*`/,greedy:!0,alias:"italic",inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"}}},string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},variable:/\$\w+/,number:/\b0x[\da-fA-F]+\b|\b\d+(?:\.\d*)?|\B\.\d+/,flag:{pattern:/-[^\d\W]\w*/,alias:"operator"},keyword:/\b(?:break|case|continue|default|do|else|float|for|global|if|in|int|matrix|proc|return|string|switch|vector|while)\b/,function:/\b\w+(?=\()|\b(?:CBG|HfAddAttractorToAS|HfAssignAS|HfBuildEqualMap|HfBuildFurFiles|HfBuildFurImages|HfCancelAFR|HfConnectASToHF|HfCreateAttractor|HfDeleteAS|HfEditAS|HfPerformCreateAS|HfRemoveAttractorFromAS|HfSelectAttached|HfSelectAttractors|HfUnAssignAS|Mayatomr|about|abs|addAttr|addAttributeEditorNodeHelp|addDynamic|addNewShelfTab|addPP|addPanelCategory|addPrefixToName|advanceToNextDrivenKey|affectedNet|affects|aimConstraint|air|alias|aliasAttr|align|alignCtx|alignCurve|alignSurface|allViewFit|ambientLight|angle|angleBetween|animCone|animCurveEditor|animDisplay|animView|annotate|appendStringArray|applicationName|applyAttrPreset|applyTake|arcLenDimContext|arcLengthDimension|arclen|arrayMapper|art3dPaintCtx|artAttrCtx|artAttrPaintVertexCtx|artAttrSkinPaintCtx|artAttrTool|artBuildPaintMenu|artFluidAttrCtx|artPuttyCtx|artSelectCtx|artSetPaintCtx|artUserPaintCtx|assignCommand|assignInputDevice|assignViewportFactories|attachCurve|attachDeviceAttr|attachSurface|attrColorSliderGrp|attrCompatibility|attrControlGrp|attrEnumOptionMenu|attrEnumOptionMenuGrp|attrFieldGrp|attrFieldSliderGrp|attrNavigationControlGrp|attrPresetEditWin|attributeExists|attributeInfo|attributeMenu|attributeQuery|autoKeyframe|autoPlace|bakeClip|bakeFluidShading|bakePartialHistory|bakeResults|bakeSimulation|basename|basenameEx|batchRender|bessel|bevel|bevelPlus|binMembership|bindSkin|blend2|blendShape|blendShapeEditor|blendShapePanel|blendTwoAttr|blindDataType|boneLattice|boundary|boxDollyCtx|boxZoomCtx|bufferCurve|buildBookmarkMenu|buildKeyframeMenu|button|buttonManip|cacheFile|cacheFileCombine|cacheFileMerge|cacheFileTrack|camera|cameraView|canCreateManip|canvas|capitalizeString|catch|catchQuiet|ceil|changeSubdivComponentDisplayLevel|changeSubdivRegion|channelBox|character|characterMap|characterOutlineEditor|characterize|chdir|checkBox|checkBoxGrp|checkDefaultRenderGlobals|choice|circle|circularFillet|clamp|clear|clearCache|clip|clipEditor|clipEditorCurrentTimeCtx|clipSchedule|clipSchedulerOutliner|clipTrimBefore|closeCurve|closeSurface|cluster|cmdFileOutput|cmdScrollFieldExecuter|cmdScrollFieldReporter|cmdShell|coarsenSubdivSelectionList|collision|color|colorAtPoint|colorEditor|colorIndex|colorIndexSliderGrp|colorSliderButtonGrp|colorSliderGrp|columnLayout|commandEcho|commandLine|commandPort|compactHairSystem|componentEditor|compositingInterop|computePolysetVolume|condition|cone|confirmDialog|connectAttr|connectControl|connectDynamic|connectJoint|connectionInfo|constrain|constrainValue|constructionHistory|container|containsMultibyte|contextInfo|control|convertFromOldLayers|convertIffToPsd|convertLightmap|convertSolidTx|convertTessellation|convertUnit|copyArray|copyFlexor|copyKey|copySkinWeights|cos|cpButton|cpCache|cpClothSet|cpCollision|cpConstraint|cpConvClothToMesh|cpForces|cpGetSolverAttr|cpPanel|cpProperty|cpRigidCollisionFilter|cpSeam|cpSetEdit|cpSetSolverAttr|cpSolver|cpSolverTypes|cpTool|cpUpdateClothUVs|createDisplayLayer|createDrawCtx|createEditor|createLayeredPsdFile|createMotionField|createNewShelf|createNode|createRenderLayer|createSubdivRegion|cross|crossProduct|ctxAbort|ctxCompletion|ctxEditMode|ctxTraverse|currentCtx|currentTime|currentTimeCtx|currentUnit|curve|curveAddPtCtx|curveCVCtx|curveEPCtx|curveEditorCtx|curveIntersect|curveMoveEPCtx|curveOnSurface|curveSketchCtx|cutKey|cycleCheck|cylinder|dagPose|date|defaultLightListCheckBox|defaultNavigation|defineDataServer|defineVirtualDevice|deformer|deg_to_rad|delete|deleteAttr|deleteShadingGroupsAndMaterials|deleteShelfTab|deleteUI|deleteUnusedBrushes|delrandstr|detachCurve|detachDeviceAttr|detachSurface|deviceEditor|devicePanel|dgInfo|dgdirty|dgeval|dgtimer|dimWhen|directKeyCtx|directionalLight|dirmap|dirname|disable|disconnectAttr|disconnectJoint|diskCache|displacementToPoly|displayAffected|displayColor|displayCull|displayLevelOfDetail|displayPref|displayRGBColor|displaySmoothness|displayStats|displayString|displaySurface|distanceDimContext|distanceDimension|doBlur|dolly|dollyCtx|dopeSheetEditor|dot|dotProduct|doubleProfileBirailSurface|drag|dragAttrContext|draggerContext|dropoffLocator|duplicate|duplicateCurve|duplicateSurface|dynCache|dynControl|dynExport|dynExpression|dynGlobals|dynPaintEditor|dynParticleCtx|dynPref|dynRelEdPanel|dynRelEditor|dynamicLoad|editAttrLimits|editDisplayLayerGlobals|editDisplayLayerMembers|editRenderLayerAdjustment|editRenderLayerGlobals|editRenderLayerMembers|editor|editorTemplate|effector|emit|emitter|enableDevice|encodeString|endString|endsWith|env|equivalent|equivalentTol|erf|error|eval|evalDeferred|evalEcho|event|exactWorldBoundingBox|exclusiveLightCheckBox|exec|executeForEachObject|exists|exp|expression|expressionEditorListen|extendCurve|extendSurface|extrude|fcheck|fclose|feof|fflush|fgetline|fgetword|file|fileBrowserDialog|fileDialog|fileExtension|fileInfo|filetest|filletCurve|filter|filterCurve|filterExpand|filterStudioImport|findAllIntersections|findAnimCurves|findKeyframe|findMenuItem|findRelatedSkinCluster|finder|firstParentOf|fitBspline|flexor|floatEq|floatField|floatFieldGrp|floatScrollBar|floatSlider|floatSlider2|floatSliderButtonGrp|floatSliderGrp|floor|flow|fluidCacheInfo|fluidEmitter|fluidVoxelInfo|flushUndo|fmod|fontDialog|fopen|formLayout|format|fprint|frameLayout|fread|freeFormFillet|frewind|fromNativePath|fwrite|gamma|gauss|geometryConstraint|getApplicationVersionAsFloat|getAttr|getClassification|getDefaultBrush|getFileList|getFluidAttr|getInputDeviceRange|getMayaPanelTypes|getModifiers|getPanel|getParticleAttr|getPluginResource|getenv|getpid|glRender|glRenderEditor|globalStitch|gmatch|goal|gotoBindPose|grabColor|gradientControl|gradientControlNoAttr|graphDollyCtx|graphSelectContext|graphTrackCtx|gravity|grid|gridLayout|group|groupObjectsByName|hardenPointCurve|hardware|hardwareRenderPanel|headsUpDisplay|headsUpMessage|help|helpLine|hermite|hide|hilite|hitTest|hotBox|hotkey|hotkeyCheck|hsv_to_rgb|hudButton|hudSlider|hudSliderButton|hwReflectionMap|hwRender|hwRenderLoad|hyperGraph|hyperPanel|hyperShade|hypot|iconTextButton|iconTextCheckBox|iconTextRadioButton|iconTextRadioCollection|iconTextScrollList|iconTextStaticLabel|ikHandle|ikHandleCtx|ikHandleDisplayScale|ikSolver|ikSplineHandleCtx|ikSystem|ikSystemInfo|ikfkDisplayMethod|illustratorCurves|image|imfPlugins|inheritTransform|insertJoint|insertJointCtx|insertKeyCtx|insertKnotCurve|insertKnotSurface|instance|instanceable|instancer|intField|intFieldGrp|intScrollBar|intSlider|intSliderGrp|interToUI|internalVar|intersect|iprEngine|isAnimCurve|isConnected|isDirty|isParentOf|isSameObject|isTrue|isValidObjectName|isValidString|isValidUiName|isolateSelect|itemFilter|itemFilterAttr|itemFilterRender|itemFilterType|joint|jointCluster|jointCtx|jointDisplayScale|jointLattice|keyTangent|keyframe|keyframeOutliner|keyframeRegionCurrentTimeCtx|keyframeRegionDirectKeyCtx|keyframeRegionDollyCtx|keyframeRegionInsertKeyCtx|keyframeRegionMoveKeyCtx|keyframeRegionScaleKeyCtx|keyframeRegionSelectKeyCtx|keyframeRegionSetKeyCtx|keyframeRegionTrackCtx|keyframeStats|lassoContext|lattice|latticeDeformKeyCtx|launch|launchImageEditor|layerButton|layeredShaderPort|layeredTexturePort|layout|layoutDialog|lightList|lightListEditor|lightListPanel|lightlink|lineIntersection|linearPrecision|linstep|listAnimatable|listAttr|listCameras|listConnections|listDeviceAttachments|listHistory|listInputDeviceAxes|listInputDeviceButtons|listInputDevices|listMenuAnnotation|listNodeTypes|listPanelCategories|listRelatives|listSets|listTransforms|listUnselected|listerEditor|loadFluid|loadNewShelf|loadPlugin|loadPluginLanguageResources|loadPrefObjects|localizedPanelLabel|lockNode|loft|log|longNameOf|lookThru|ls|lsThroughFilter|lsType|lsUI|mag|makeIdentity|makeLive|makePaintable|makeRoll|makeSingleSurface|makeTubeOn|makebot|manipMoveContext|manipMoveLimitsCtx|manipOptions|manipRotateContext|manipRotateLimitsCtx|manipScaleContext|manipScaleLimitsCtx|marker|match|max|memory|menu|menuBarLayout|menuEditor|menuItem|menuItemToShelf|menuSet|menuSetPref|messageLine|min|minimizeApp|mirrorJoint|modelCurrentTimeCtx|modelEditor|modelPanel|mouse|movIn|movOut|move|moveIKtoFK|moveKeyCtx|moveVertexAlongDirection|multiProfileBirailSurface|mute|nParticle|nameCommand|nameField|namespace|namespaceInfo|newPanelItems|newton|nodeCast|nodeIconButton|nodeOutliner|nodePreset|nodeType|noise|nonLinear|normalConstraint|normalize|nurbsBoolean|nurbsCopyUVSet|nurbsCube|nurbsEditUV|nurbsPlane|nurbsSelect|nurbsSquare|nurbsToPoly|nurbsToPolygonsPref|nurbsToSubdiv|nurbsToSubdivPref|nurbsUVSet|nurbsViewDirectionVector|objExists|objectCenter|objectLayer|objectType|objectTypeUI|obsoleteProc|oceanNurbsPreviewPlane|offsetCurve|offsetCurveOnSurface|offsetSurface|openGLExtension|openMayaPref|optionMenu|optionMenuGrp|optionVar|orbit|orbitCtx|orientConstraint|outlinerEditor|outlinerPanel|overrideModifier|paintEffectsDisplay|pairBlend|palettePort|paneLayout|panel|panelConfiguration|panelHistory|paramDimContext|paramDimension|paramLocator|parent|parentConstraint|particle|particleExists|particleInstancer|particleRenderInfo|partition|pasteKey|pathAnimation|pause|pclose|percent|performanceOptions|pfxstrokes|pickWalk|picture|pixelMove|planarSrf|plane|play|playbackOptions|playblast|plugAttr|plugNode|pluginInfo|pluginResourceUtil|pointConstraint|pointCurveConstraint|pointLight|pointMatrixMult|pointOnCurve|pointOnSurface|pointPosition|poleVectorConstraint|polyAppend|polyAppendFacetCtx|polyAppendVertex|polyAutoProjection|polyAverageNormal|polyAverageVertex|polyBevel|polyBlendColor|polyBlindData|polyBoolOp|polyBridgeEdge|polyCacheMonitor|polyCheck|polyChipOff|polyClipboard|polyCloseBorder|polyCollapseEdge|polyCollapseFacet|polyColorBlindData|polyColorDel|polyColorPerVertex|polyColorSet|polyCompare|polyCone|polyCopyUV|polyCrease|polyCreaseCtx|polyCreateFacet|polyCreateFacetCtx|polyCube|polyCut|polyCutCtx|polyCylinder|polyCylindricalProjection|polyDelEdge|polyDelFacet|polyDelVertex|polyDuplicateAndConnect|polyDuplicateEdge|polyEditUV|polyEditUVShell|polyEvaluate|polyExtrudeEdge|polyExtrudeFacet|polyExtrudeVertex|polyFlipEdge|polyFlipUV|polyForceUV|polyGeoSampler|polyHelix|polyInfo|polyInstallAction|polyLayoutUV|polyListComponentConversion|polyMapCut|polyMapDel|polyMapSew|polyMapSewMove|polyMergeEdge|polyMergeEdgeCtx|polyMergeFacet|polyMergeFacetCtx|polyMergeUV|polyMergeVertex|polyMirrorFace|polyMoveEdge|polyMoveFacet|polyMoveFacetUV|polyMoveUV|polyMoveVertex|polyNormal|polyNormalPerVertex|polyNormalizeUV|polyOptUvs|polyOptions|polyOutput|polyPipe|polyPlanarProjection|polyPlane|polyPlatonicSolid|polyPoke|polyPrimitive|polyPrism|polyProjection|polyPyramid|polyQuad|polyQueryBlindData|polyReduce|polySelect|polySelectConstraint|polySelectConstraintMonitor|polySelectCtx|polySelectEditCtx|polySeparate|polySetToFaceNormal|polySewEdge|polyShortestPathCtx|polySmooth|polySoftEdge|polySphere|polySphericalProjection|polySplit|polySplitCtx|polySplitEdge|polySplitRing|polySplitVertex|polyStraightenUVBorder|polySubdivideEdge|polySubdivideFacet|polyToSubdiv|polyTorus|polyTransfer|polyTriangulate|polyUVSet|polyUnite|polyWedgeFace|popen|popupMenu|pose|pow|preloadRefEd|print|progressBar|progressWindow|projFileViewer|projectCurve|projectTangent|projectionContext|projectionManip|promptDialog|propModCtx|propMove|psdChannelOutliner|psdEditTextureFile|psdExport|psdTextureFile|putenv|pwd|python|querySubdiv|quit|rad_to_deg|radial|radioButton|radioButtonGrp|radioCollection|radioMenuItemCollection|rampColorPort|rand|randomizeFollicles|randstate|rangeControl|readTake|rebuildCurve|rebuildSurface|recordAttr|recordDevice|redo|reference|referenceEdit|referenceQuery|refineSubdivSelectionList|refresh|refreshAE|registerPluginResource|rehash|reloadImage|removeJoint|removeMultiInstance|removePanelCategory|rename|renameAttr|renameSelectionList|renameUI|render|renderGlobalsNode|renderInfo|renderLayerButton|renderLayerParent|renderLayerPostProcess|renderLayerUnparent|renderManip|renderPartition|renderQualityNode|renderSettings|renderThumbnailUpdate|renderWindowEditor|renderWindowSelectContext|renderer|reorder|reorderDeformers|requires|reroot|resampleFluid|resetAE|resetPfxToPolyCamera|resetTool|resolutionNode|retarget|reverseCurve|reverseSurface|revolve|rgb_to_hsv|rigidBody|rigidSolver|roll|rollCtx|rootOf|rot|rotate|rotationInterpolation|roundConstantRadius|rowColumnLayout|rowLayout|runTimeCommand|runup|sampleImage|saveAllShelves|saveAttrPreset|saveFluid|saveImage|saveInitialState|saveMenu|savePrefObjects|savePrefs|saveShelf|saveToolSettings|scale|scaleBrushBrightness|scaleComponents|scaleConstraint|scaleKey|scaleKeyCtx|sceneEditor|sceneUIReplacement|scmh|scriptCtx|scriptEditorInfo|scriptJob|scriptNode|scriptTable|scriptToShelf|scriptedPanel|scriptedPanelType|scrollField|scrollLayout|sculpt|searchPathArray|seed|selLoadSettings|select|selectContext|selectCurveCV|selectKey|selectKeyCtx|selectKeyframeRegionCtx|selectMode|selectPref|selectPriority|selectType|selectedNodes|selectionConnection|separator|setAttr|setAttrEnumResource|setAttrMapping|setAttrNiceNameResource|setConstraintRestPosition|setDefaultShadingGroup|setDrivenKeyframe|setDynamic|setEditCtx|setEditor|setFluidAttr|setFocus|setInfinity|setInputDeviceMapping|setKeyCtx|setKeyPath|setKeyframe|setKeyframeBlendshapeTargetWts|setMenuMode|setNodeNiceNameResource|setNodeTypeFlag|setParent|setParticleAttr|setPfxToPolyCamera|setPluginResource|setProject|setStampDensity|setStartupMessage|setState|setToolTo|setUITemplate|setXformManip|sets|shadingConnection|shadingGeometryRelCtx|shadingLightRelCtx|shadingNetworkCompare|shadingNode|shapeCompare|shelfButton|shelfLayout|shelfTabLayout|shellField|shortNameOf|showHelp|showHidden|showManipCtx|showSelectionInTitle|showShadingGroupAttrEditor|showWindow|sign|simplify|sin|singleProfileBirailSurface|size|sizeBytes|skinCluster|skinPercent|smoothCurve|smoothTangentSurface|smoothstep|snap2to2|snapKey|snapMode|snapTogetherCtx|snapshot|soft|softMod|softModCtx|sort|sound|soundControl|source|spaceLocator|sphere|sphrand|spotLight|spotLightPreviewPort|spreadSheetEditor|spring|sqrt|squareSurface|srtContext|stackTrace|startString|startsWith|stitchAndExplodeShell|stitchSurface|stitchSurfacePoints|strcmp|stringArrayCatenate|stringArrayContains|stringArrayCount|stringArrayInsertAtIndex|stringArrayIntersector|stringArrayRemove|stringArrayRemoveAtIndex|stringArrayRemoveDuplicates|stringArrayRemoveExact|stringArrayToString|stringToStringArray|strip|stripPrefixFromName|stroke|subdAutoProjection|subdCleanTopology|subdCollapse|subdDuplicateAndConnect|subdEditUV|subdListComponentConversion|subdMapCut|subdMapSewMove|subdMatchTopology|subdMirror|subdToBlind|subdToPoly|subdTransferUVsToCache|subdiv|subdivCrease|subdivDisplaySmoothness|substitute|substituteAllString|substituteGeometry|substring|surface|surfaceSampler|surfaceShaderList|swatchDisplayPort|switchTable|symbolButton|symbolCheckBox|sysFile|system|tabLayout|tan|tangentConstraint|texLatticeDeformContext|texManipContext|texMoveContext|texMoveUVShellContext|texRotateContext|texScaleContext|texSelectContext|texSelectShortestPathCtx|texSmudgeUVContext|texWinToolCtx|text|textCurves|textField|textFieldButtonGrp|textFieldGrp|textManip|textScrollList|textToShelf|textureDisplacePlane|textureHairColor|texturePlacementContext|textureWindow|threadCount|threePointArcCtx|timeControl|timePort|timerX|toNativePath|toggle|toggleAxis|toggleWindowVisibility|tokenize|tokenizeList|tolerance|tolower|toolButton|toolCollection|toolDropped|toolHasOptions|toolPropertyWindow|torus|toupper|trace|track|trackCtx|transferAttributes|transformCompare|transformLimits|translator|trim|trunc|truncateFluidCache|truncateHairCache|tumble|tumbleCtx|turbulence|twoPointArcCtx|uiRes|uiTemplate|unassignInputDevice|undo|undoInfo|ungroup|uniform|unit|unloadPlugin|untangleUV|untitledFileName|untrim|upAxis|updateAE|userCtx|uvLink|uvSnapshot|validateShelfName|vectorize|view2dToolCtx|viewCamera|viewClipPlane|viewFit|viewHeadOn|viewLookAt|viewManip|viewPlace|viewSet|visor|volumeAxis|vortex|waitCursor|warning|webBrowser|webBrowserPrefs|whatIs|window|windowPref|wire|wireContext|workspace|wrinkle|wrinkleContext|writeTake|xbmLangPathList|xform)\b/,operator:[/\+[+=]?|-[-=]?|&&|\|\||[<>]=|[*\/!=]=?|[%^]/,{pattern:/(^|[^<])<(?!<)/,lookbehind:!0},{pattern:/(^|[^>])>(?!>)/,lookbehind:!0}],punctuation:/<<|>>|[.,:;?\[\](){}]/},e.languages.mel.code.inside.rest=e.languages.mel}e.exports=t,t.displayName="mel",t.aliases=[]},82558:function(e){"use strict";function t(e){e.languages.mermaid={comment:{pattern:/%%.*/,greedy:!0},style:{pattern:/^([ \t]*(?:classDef|linkStyle|style)[ \t]+[\w$-]+[ \t]+)\w.*[^\s;]/m,lookbehind:!0,inside:{property:/\b\w[\w-]*(?=[ \t]*:)/,operator:/:/,punctuation:/,/}},"inter-arrow-label":{pattern:/([^<>ox.=-])(?:-[-.]|==)(?![<>ox.=-])[ \t]*(?:"[^"\r\n]*"|[^\s".=-](?:[^\r\n.=-]*[^\s.=-])?)[ \t]*(?:\.+->?|--+[->]|==+[=>])(?![<>ox.=-])/,lookbehind:!0,greedy:!0,inside:{arrow:{pattern:/(?:\.+->?|--+[->]|==+[=>])$/,alias:"operator"},label:{pattern:/^([\s\S]{2}[ \t]*)\S(?:[\s\S]*\S)?/,lookbehind:!0,alias:"property"},"arrow-head":{pattern:/^\S+/,alias:["arrow","operator"]}}},arrow:[{pattern:/(^|[^{}|o.-])[|}][|o](?:--|\.\.)[|o][|{](?![{}|o.-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>ox.=-])(?:[<ox](?:==+|--+|-\.*-)[>ox]?|(?:==+|--+|-\.*-)[>ox]|===+|---+|-\.+-)(?![<>ox.=-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>()x-])(?:--?(?:>>|[x>)])(?![<>()x])|(?:<<|[x<(])--?(?!-))/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>|*o.-])(?:[*o]--|--[*o]|<\|?(?:--|\.\.)|(?:--|\.\.)\|?>|--|\.\.)(?![<>|*o.-])/,lookbehind:!0,alias:"operator"}],label:{pattern:/(^|[^|<])\|(?:[^\r\n"|]|"[^"\r\n]*")+\|/,lookbehind:!0,greedy:!0,alias:"property"},text:{pattern:/(?:[(\[{]+|\b>)(?:[^\r\n"()\[\]{}]|"[^"\r\n]*")+(?:[)\]}]+|>)/,alias:"string"},string:{pattern:/"[^"\r\n]*"/,greedy:!0},annotation:{pattern:/<<(?:abstract|choice|enumeration|fork|interface|join|service)>>|\[\[(?:choice|fork|join)\]\]/i,alias:"important"},keyword:[{pattern:/(^[ \t]*)(?:action|callback|class|classDef|classDiagram|click|direction|erDiagram|flowchart|gantt|gitGraph|graph|journey|link|linkStyle|pie|requirementDiagram|sequenceDiagram|stateDiagram|stateDiagram-v2|style|subgraph)(?![\w$-])/m,lookbehind:!0,greedy:!0},{pattern:/(^[ \t]*)(?:activate|alt|and|as|autonumber|deactivate|else|end(?:[ \t]+note)?|loop|opt|par|participant|rect|state|note[ \t]+(?:over|(?:left|right)[ \t]+of))(?![\w$-])/im,lookbehind:!0,greedy:!0}],entity:/#[a-z0-9]+;/,operator:{pattern:/(\w[ \t]*)&(?=[ \t]*\w)|:::|:/,lookbehind:!0},punctuation:/[(){};]/}}e.exports=t,t.displayName="mermaid",t.aliases=[]},97276:function(e){"use strict";function t(e){e.languages.mizar={comment:/::.+/,keyword:/@proof\b|\b(?:according|aggregate|all|and|antonym|are|as|associativity|assume|asymmetry|attr|be|begin|being|by|canceled|case|cases|clusters?|coherence|commutativity|compatibility|connectedness|consider|consistency|constructors|contradiction|correctness|def|deffunc|define|definitions?|defpred|do|does|end|environ|equals|ex|exactly|existence|for|from|func|given|hence|hereby|holds|idempotence|identity|iff?|implies|involutiveness|irreflexivity|is|it|let|means|mode|non|not|notations?|now|of|or|otherwise|over|per|pred|prefix|projectivity|proof|provided|qua|reconsider|redefine|reduce|reducibility|reflexivity|registrations?|requirements|reserve|sch|schemes?|section|selector|set|sethood|st|struct|such|suppose|symmetry|synonym|take|that|the|then|theorems?|thesis|thus|to|transitivity|uniqueness|vocabular(?:ies|y)|when|where|with|wrt)\b/,parameter:{pattern:/\$(?:10|\d)/,alias:"variable"},variable:/\b\w+(?=:)/,number:/(?:\b|-)\d+\b/,operator:/\.\.\.|->|&|\.?=/,punctuation:/\(#|#\)|[,:;\[\](){}]/}}e.exports=t,t.displayName="mizar",t.aliases=[]},76818:function(e){"use strict";function t(e){var t,n;n="(?:"+["$eq","$gt","$gte","$in","$lt","$lte","$ne","$nin","$and","$not","$nor","$or","$exists","$type","$expr","$jsonSchema","$mod","$regex","$text","$where","$geoIntersects","$geoWithin","$near","$nearSphere","$all","$elemMatch","$size","$bitsAllClear","$bitsAllSet","$bitsAnyClear","$bitsAnySet","$comment","$elemMatch","$meta","$slice","$currentDate","$inc","$min","$max","$mul","$rename","$set","$setOnInsert","$unset","$addToSet","$pop","$pull","$push","$pullAll","$each","$position","$slice","$sort","$bit","$addFields","$bucket","$bucketAuto","$collStats","$count","$currentOp","$facet","$geoNear","$graphLookup","$group","$indexStats","$limit","$listLocalSessions","$listSessions","$lookup","$match","$merge","$out","$planCacheStats","$project","$redact","$replaceRoot","$replaceWith","$sample","$set","$skip","$sort","$sortByCount","$unionWith","$unset","$unwind","$setWindowFields","$abs","$accumulator","$acos","$acosh","$add","$addToSet","$allElementsTrue","$and","$anyElementTrue","$arrayElemAt","$arrayToObject","$asin","$asinh","$atan","$atan2","$atanh","$avg","$binarySize","$bsonSize","$ceil","$cmp","$concat","$concatArrays","$cond","$convert","$cos","$dateFromParts","$dateToParts","$dateFromString","$dateToString","$dayOfMonth","$dayOfWeek","$dayOfYear","$degreesToRadians","$divide","$eq","$exp","$filter","$first","$floor","$function","$gt","$gte","$hour","$ifNull","$in","$indexOfArray","$indexOfBytes","$indexOfCP","$isArray","$isNumber","$isoDayOfWeek","$isoWeek","$isoWeekYear","$last","$last","$let","$literal","$ln","$log","$log10","$lt","$lte","$ltrim","$map","$max","$mergeObjects","$meta","$min","$millisecond","$minute","$mod","$month","$multiply","$ne","$not","$objectToArray","$or","$pow","$push","$radiansToDegrees","$range","$reduce","$regexFind","$regexFindAll","$regexMatch","$replaceOne","$replaceAll","$reverseArray","$round","$rtrim","$second","$setDifference","$setEquals","$setIntersection","$setIsSubset","$setUnion","$size","$sin","$slice","$split","$sqrt","$stdDevPop","$stdDevSamp","$strcasecmp","$strLenBytes","$strLenCP","$substr","$substrBytes","$substrCP","$subtract","$sum","$switch","$tan","$toBool","$toDate","$toDecimal","$toDouble","$toInt","$toLong","$toObjectId","$toString","$toLower","$toUpper","$trim","$trunc","$type","$week","$year","$zip","$count","$dateAdd","$dateDiff","$dateSubtract","$dateTrunc","$getField","$rand","$sampleRate","$setField","$unsetField","$comment","$explain","$hint","$max","$maxTimeMS","$min","$orderby","$query","$returnKey","$showDiskLoc","$natural"].map(function(e){return e.replace("$","\\$")}).join("|")+")\\b",e.languages.mongodb=e.languages.extend("javascript",{}),e.languages.insertBefore("mongodb","string",{property:{pattern:/(?:(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)(?=\s*:)/,greedy:!0,inside:{keyword:RegExp("^(['\"])?"+n+"(?:\\1)?$")}}}),e.languages.mongodb.string.inside={url:{pattern:/https?:\/\/[-\w@:%.+~#=]{1,256}\.[a-z0-9()]{1,6}\b[-\w()@:%+.~#?&/=]*/i,greedy:!0},entity:{pattern:/\b(?:(?:[01]?\d\d?|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d\d?|2[0-4]\d|25[0-5])\b/,greedy:!0}},e.languages.insertBefore("mongodb","constant",{builtin:{pattern:RegExp("\\b(?:ObjectId|Code|BinData|DBRef|Timestamp|NumberLong|NumberDecimal|MaxKey|MinKey|RegExp|ISODate|UUID)\\b"),alias:"keyword"}})}e.exports=t,t.displayName="mongodb",t.aliases=[]},48021:function(e){"use strict";function t(e){e.languages.monkey={comment:{pattern:/^#Rem\s[\s\S]*?^#End|'.+/im,greedy:!0},string:{pattern:/"[^"\r\n]*"/,greedy:!0},preprocessor:{pattern:/(^[ \t]*)#.+/m,lookbehind:!0,greedy:!0,alias:"property"},function:/\b\w+(?=\()/,"type-char":{pattern:/\b[?%#$]/,alias:"class-name"},number:{pattern:/((?:\.\.)?)(?:(?:\b|\B-\.?|\B\.)\d+(?:(?!\.\.)\.\d*)?|\$[\da-f]+)/i,lookbehind:!0},keyword:/\b(?:Abstract|Array|Bool|Case|Catch|Class|Const|Continue|Default|Eachin|Else|ElseIf|End|EndIf|Exit|Extends|Extern|False|Field|Final|Float|For|Forever|Function|Global|If|Implements|Import|Inline|Int|Interface|Local|Method|Module|New|Next|Null|Object|Private|Property|Public|Repeat|Return|Select|Self|Step|Strict|String|Super|Then|Throw|To|True|Try|Until|Void|Wend|While)\b/i,operator:/\.\.|<[=>]?|>=?|:?=|(?:[+\-*\/&~|]|\b(?:Mod|Shl|Shr)\b)=?|\b(?:And|Not|Or)\b/i,punctuation:/[.,:;()\[\]]/}}e.exports=t,t.displayName="monkey",t.aliases=[]},93613:function(e){"use strict";function t(e){e.languages.moonscript={comment:/--.*/,string:[{pattern:/'[^']*'|\[(=*)\[[\s\S]*?\]\1\]/,greedy:!0},{pattern:/"[^"]*"/,greedy:!0,inside:{interpolation:{pattern:/#\{[^{}]*\}/,inside:{moonscript:{pattern:/(^#\{)[\s\S]+(?=\})/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/#\{|\}/,alias:"punctuation"}}}}}],"class-name":[{pattern:/(\b(?:class|extends)[ \t]+)\w+/,lookbehind:!0},/\b[A-Z]\w*/],keyword:/\b(?:class|continue|do|else|elseif|export|extends|for|from|if|import|in|local|nil|return|self|super|switch|then|unless|using|when|while|with)\b/,variable:/@@?\w*/,property:{pattern:/\b(?!\d)\w+(?=:)|(:)(?!\d)\w+/,lookbehind:!0},function:{pattern:/\b(?:_G|_VERSION|assert|collectgarbage|coroutine\.(?:create|resume|running|status|wrap|yield)|debug\.(?:debug|getfenv|gethook|getinfo|getlocal|getmetatable|getregistry|getupvalue|setfenv|sethook|setlocal|setmetatable|setupvalue|traceback)|dofile|error|getfenv|getmetatable|io\.(?:close|flush|input|lines|open|output|popen|read|stderr|stdin|stdout|tmpfile|type|write)|ipairs|load|loadfile|loadstring|math\.(?:abs|acos|asin|atan|atan2|ceil|cos|cosh|deg|exp|floor|fmod|frexp|ldexp|log|log10|max|min|modf|pi|pow|rad|random|randomseed|sin|sinh|sqrt|tan|tanh)|module|next|os\.(?:clock|date|difftime|execute|exit|getenv|remove|rename|setlocale|time|tmpname)|package\.(?:cpath|loaded|loadlib|path|preload|seeall)|pairs|pcall|print|rawequal|rawget|rawset|require|select|setfenv|setmetatable|string\.(?:byte|char|dump|find|format|gmatch|gsub|len|lower|match|rep|reverse|sub|upper)|table\.(?:concat|insert|maxn|remove|sort)|tonumber|tostring|type|unpack|xpcall)\b/,inside:{punctuation:/\./}},boolean:/\b(?:false|true)\b/,number:/(?:\B\.\d+|\b\d+\.\d+|\b\d+(?=[eE]))(?:[eE][-+]?\d+)?\b|\b(?:0x[a-fA-F\d]+|\d+)(?:U?LL)?\b/,operator:/\.{3}|[-=]>|~=|(?:[-+*/%<>!=]|\.\.)=?|[:#^]|\b(?:and|or)\b=?|\b(?:not)\b/,punctuation:/[.,()[\]{}\\]/},e.languages.moonscript.string[1].inside.interpolation.inside.moonscript.inside=e.languages.moonscript,e.languages.moon=e.languages.moonscript}e.exports=t,t.displayName="moonscript",t.aliases=["moon"]},44626:function(e){"use strict";function t(e){e.languages.n1ql={comment:{pattern:/\/\*[\s\S]*?(?:$|\*\/)|--.*/,greedy:!0},string:{pattern:/(["'])(?:\\[\s\S]|(?!\1)[^\\]|\1\1)*\1/,greedy:!0},identifier:{pattern:/`(?:\\[\s\S]|[^\\`]|``)*`/,greedy:!0},parameter:/\$[\w.]+/,keyword:/\b(?:ADVISE|ALL|ALTER|ANALYZE|AS|ASC|AT|BEGIN|BINARY|BOOLEAN|BREAK|BUCKET|BUILD|BY|CALL|CAST|CLUSTER|COLLATE|COLLECTION|COMMIT|COMMITTED|CONNECT|CONTINUE|CORRELATE|CORRELATED|COVER|CREATE|CURRENT|DATABASE|DATASET|DATASTORE|DECLARE|DECREMENT|DELETE|DERIVED|DESC|DESCRIBE|DISTINCT|DO|DROP|EACH|ELEMENT|EXCEPT|EXCLUDE|EXECUTE|EXPLAIN|FETCH|FILTER|FLATTEN|FLUSH|FOLLOWING|FOR|FORCE|FROM|FTS|FUNCTION|GOLANG|GRANT|GROUP|GROUPS|GSI|HASH|HAVING|IF|IGNORE|ILIKE|INCLUDE|INCREMENT|INDEX|INFER|INLINE|INNER|INSERT|INTERSECT|INTO|IS|ISOLATION|JAVASCRIPT|JOIN|KEY|KEYS|KEYSPACE|KNOWN|LANGUAGE|LAST|LEFT|LET|LETTING|LEVEL|LIMIT|LSM|MAP|MAPPING|MATCHED|MATERIALIZED|MERGE|MINUS|MISSING|NAMESPACE|NEST|NL|NO|NTH_VALUE|NULL|NULLS|NUMBER|OBJECT|OFFSET|ON|OPTION|OPTIONS|ORDER|OTHERS|OUTER|OVER|PARSE|PARTITION|PASSWORD|PATH|POOL|PRECEDING|PREPARE|PRIMARY|PRIVATE|PRIVILEGE|PROBE|PROCEDURE|PUBLIC|RANGE|RAW|REALM|REDUCE|RENAME|RESPECT|RETURN|RETURNING|REVOKE|RIGHT|ROLE|ROLLBACK|ROW|ROWS|SATISFIES|SAVEPOINT|SCHEMA|SCOPE|SELECT|SELF|SEMI|SET|SHOW|SOME|START|STATISTICS|STRING|SYSTEM|TIES|TO|TRAN|TRANSACTION|TRIGGER|TRUNCATE|UNBOUNDED|UNDER|UNION|UNIQUE|UNKNOWN|UNNEST|UNSET|UPDATE|UPSERT|USE|USER|USING|VALIDATE|VALUE|VALUES|VIA|VIEW|WHERE|WHILE|WINDOW|WITH|WORK|XOR)\b/i,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:FALSE|TRUE)\b/i,number:/(?:\b\d+\.|\B\.)\d+e[+\-]?\d+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/%]|!=|==?|\|\||<[>=]?|>=?|\b(?:AND|ANY|ARRAY|BETWEEN|CASE|ELSE|END|EVERY|EXISTS|FIRST|IN|LIKE|NOT|OR|THEN|VALUED|WHEN|WITHIN)\b/i,punctuation:/[;[\](),.{}:]/}}e.exports=t,t.displayName="n1ql",t.aliases=[]},66121:function(e){"use strict";function t(e){e.languages.n4js=e.languages.extend("javascript",{keyword:/\b(?:Array|any|boolean|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|module|new|null|number|package|private|protected|public|return|set|static|string|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/}),e.languages.insertBefore("n4js","constant",{annotation:{pattern:/@+\w+/,alias:"operator"}}),e.languages.n4jsd=e.languages.n4js}e.exports=t,t.displayName="n4js",t.aliases=["n4jsd"]},21399:function(e){"use strict";function t(e){e.languages["nand2tetris-hdl"]={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,keyword:/\b(?:BUILTIN|CHIP|CLOCKED|IN|OUT|PARTS)\b/,boolean:/\b(?:false|true)\b/,function:/\b[A-Za-z][A-Za-z0-9]*(?=\()/,number:/\b\d+\b/,operator:/=|\.\./,punctuation:/[{}[\];(),:]/}}e.exports=t,t.displayName="nand2tetrisHdl",t.aliases=[]},75187:function(e){"use strict";function t(e){var t,n;n={"quoted-string":{pattern:/"(?:[^"\\]|\\.)*"/,alias:"operator"},"command-param-id":{pattern:/(\s)\w+:/,lookbehind:!0,alias:"property"},"command-param-value":[{pattern:t=/\{[^\r\n\[\]{}]*\}/,alias:"selector"},{pattern:/([\t ])\S+/,lookbehind:!0,greedy:!0,alias:"operator"},{pattern:/\S(?:.*\S)?/,alias:"operator"}]},e.languages.naniscript={comment:{pattern:/^([\t ]*);.*/m,lookbehind:!0},define:{pattern:/^>.+/m,alias:"tag",inside:{value:{pattern:/(^>\w+[\t ]+)(?!\s)[^{}\r\n]+/,lookbehind:!0,alias:"operator"},key:{pattern:/(^>)\w+/,lookbehind:!0}}},label:{pattern:/^([\t ]*)#[\t ]*\w+[\t ]*$/m,lookbehind:!0,alias:"regex"},command:{pattern:/^([\t ]*)@\w+(?=[\t ]|$).*/m,lookbehind:!0,alias:"function",inside:{"command-name":/^@\w+/,expression:{pattern:t,greedy:!0,alias:"selector"},"command-params":{pattern:/\s*\S[\s\S]*/,inside:n}}},"generic-text":{pattern:/(^[ \t]*)[^#@>;\s].*/m,lookbehind:!0,alias:"punctuation",inside:{"escaped-char":/\\[{}\[\]"]/,expression:{pattern:t,greedy:!0,alias:"selector"},"inline-command":{pattern:/\[[\t ]*\w[^\r\n\[\]]*\]/,greedy:!0,alias:"function",inside:{"command-params":{pattern:/(^\[[\t ]*\w+\b)[\s\S]+(?=\]$)/,lookbehind:!0,inside:n},"command-param-name":{pattern:/^(\[[\t ]*)\w+/,lookbehind:!0,alias:"name"},"start-stop-char":/[\[\]]/}}}}},e.languages.nani=e.languages.naniscript,e.hooks.add("after-tokenize",function(e){e.tokens.forEach(function(e){if("string"!=typeof e&&"generic-text"===e.type){var t=function e(t){return"string"==typeof t?t:Array.isArray(t)?t.map(e).join(""):e(t.content)}(e);!function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i="[]{}".indexOf(r);if(-1!==i){if(i%2==0)t.push(i+1);else if(t.pop()!==i)return!1}}return 0===t.length}(t)&&(e.type="bad-line",e.content=t)}})})}e.exports=t,t.displayName="naniscript",t.aliases=[]},72823:function(e){"use strict";function t(e){e.languages.nasm={comment:/;.*$/m,string:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,label:{pattern:/(^\s*)[A-Za-z._?$][\w.?$@~#]*:/m,lookbehind:!0,alias:"function"},keyword:[/\[?BITS (?:16|32|64)\]?/,{pattern:/(^\s*)section\s*[a-z.]+:?/im,lookbehind:!0},/(?:extern|global)[^;\r\n]*/i,/(?:CPU|DEFAULT|FLOAT).*$/m],register:{pattern:/\b(?:st\d|[xyz]mm\d\d?|[cdt]r\d|r\d\d?[bwd]?|[er]?[abcd]x|[abcd][hl]|[er]?(?:bp|di|si|sp)|[cdefgs]s)\b/i,alias:"variable"},number:/(?:\b|(?=\$))(?:0[hx](?:\.[\da-f]+|[\da-f]+(?:\.[\da-f]+)?)(?:p[+-]?\d+)?|\d[\da-f]+[hx]|\$\d[\da-f]*|0[oq][0-7]+|[0-7]+[oq]|0[by][01]+|[01]+[by]|0[dt]\d+|(?:\d+(?:\.\d+)?|\.\d+)(?:\.?e[+-]?\d+)?[dt]?)\b/i,operator:/[\[\]*+\-\/%<>=&|$!]/}}e.exports=t,t.displayName="nasm",t.aliases=[]},810:function(e){"use strict";function t(e){e.languages.neon={comment:{pattern:/#.*/,greedy:!0},datetime:{pattern:/(^|[[{(=:,\s])\d\d\d\d-\d\d?-\d\d?(?:(?:[Tt]| +)\d\d?:\d\d:\d\d(?:\.\d*)? *(?:Z|[-+]\d\d?(?::?\d\d)?)?)?(?=$|[\]}),\s])/,lookbehind:!0,alias:"number"},key:{pattern:/(^|[[{(,\s])[^,:=[\]{}()'"\s]+(?=\s*:(?:$|[\]}),\s])|\s*=)/,lookbehind:!0,alias:"atrule"},number:{pattern:/(^|[[{(=:,\s])[+-]?(?:0x[\da-fA-F]+|0o[0-7]+|0b[01]+|(?:\d+(?:\.\d*)?|\.?\d+)(?:[eE][+-]?\d+)?)(?=$|[\]}),:=\s])/,lookbehind:!0},boolean:{pattern:/(^|[[{(=:,\s])(?:false|no|true|yes)(?=$|[\]}),:=\s])/i,lookbehind:!0},null:{pattern:/(^|[[{(=:,\s])(?:null)(?=$|[\]}),:=\s])/i,lookbehind:!0,alias:"keyword"},string:{pattern:/(^|[[{(=:,\s])(?:('''|""")\r?\n(?:(?:[^\r\n]|\r?\n(?![\t ]*\2))*\r?\n)?[\t ]*\2|'[^'\r\n]*'|"(?:\\.|[^\\"\r\n])*")/,lookbehind:!0,greedy:!0},literal:{pattern:/(^|[[{(=:,\s])(?:[^#"',:=[\]{}()\s`-]|[:-][^"',=[\]{}()\s])(?:[^,:=\]})(\s]|:(?![\s,\]})]|$)|[ \t]+[^#,:=\]})(\s])*/,lookbehind:!0,alias:"string"},punctuation:/[,:=[\]{}()-]/}}e.exports=t,t.displayName="neon",t.aliases=[]},68120:function(e){"use strict";function t(e){e.languages.nevod={comment:/\/\/.*|(?:\/\*[\s\S]*?(?:\*\/|$))/,string:{pattern:/(?:"(?:""|[^"])*"(?!")|'(?:''|[^'])*'(?!'))!?\*?/,greedy:!0,inside:{"string-attrs":/!$|!\*$|\*$/}},namespace:{pattern:/(@namespace\s+)[a-zA-Z0-9\-.]+(?=\s*\{)/,lookbehind:!0},pattern:{pattern:/(@pattern\s+)?#?[a-zA-Z0-9\-.]+(?:\s*\(\s*(?:~\s*)?[a-zA-Z0-9\-.]+\s*(?:,\s*(?:~\s*)?[a-zA-Z0-9\-.]*)*\))?(?=\s*=)/,lookbehind:!0,inside:{"pattern-name":{pattern:/^#?[a-zA-Z0-9\-.]+/,alias:"class-name"},fields:{pattern:/\(.*\)/,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},punctuation:/[,()]/,operator:{pattern:/~/,alias:"field-hidden-mark"}}}}},search:{pattern:/(@search\s+|#)[a-zA-Z0-9\-.]+(?:\.\*)?(?=\s*;)/,alias:"function",lookbehind:!0},keyword:/@(?:having|inside|namespace|outside|pattern|require|search|where)\b/,"standard-pattern":{pattern:/\b(?:Alpha|AlphaNum|Any|Blank|End|LineBreak|Num|NumAlpha|Punct|Space|Start|Symbol|Word|WordBreak)\b(?:\([a-zA-Z0-9\-.,\s+]*\))?/,inside:{"standard-pattern-name":{pattern:/^[a-zA-Z0-9\-.]+/,alias:"builtin"},quantifier:{pattern:/\b\d+(?:\s*\+|\s*-\s*\d+)?(?!\w)/,alias:"number"},"standard-pattern-attr":{pattern:/[a-zA-Z0-9\-.]+/,alias:"builtin"},punctuation:/[,()]/}},quantifier:{pattern:/\b\d+(?:\s*\+|\s*-\s*\d+)?(?!\w)/,alias:"number"},operator:[{pattern:/=/,alias:"pattern-def"},{pattern:/&/,alias:"conjunction"},{pattern:/~/,alias:"exception"},{pattern:/\?/,alias:"optionality"},{pattern:/[[\]]/,alias:"repetition"},{pattern:/[{}]/,alias:"variation"},{pattern:/[+_]/,alias:"sequence"},{pattern:/\.{2,3}/,alias:"span"}],"field-capture":[{pattern:/([a-zA-Z0-9\-.]+\s*\()\s*[a-zA-Z0-9\-.]+\s*:\s*[a-zA-Z0-9\-.]+(?:\s*,\s*[a-zA-Z0-9\-.]+\s*:\s*[a-zA-Z0-9\-.]+)*(?=\s*\))/,lookbehind:!0,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},colon:/:/}},{pattern:/[a-zA-Z0-9\-.]+\s*:/,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},colon:/:/}}],punctuation:/[:;,()]/,name:/[a-zA-Z0-9\-.]+/}}e.exports=t,t.displayName="nevod",t.aliases=[]},46281:function(e){"use strict";function t(e){var t;t=/\$(?:\w[a-z\d]*(?:_[^\x00-\x1F\s"'\\()$]*)?|\{[^}\s"'\\]+\})/i,e.languages.nginx={comment:{pattern:/(^|[\s{};])#.*/,lookbehind:!0,greedy:!0},directive:{pattern:/(^|\s)\w(?:[^;{}"'\\\s]|\\.|"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\s+(?:#.*(?!.)|(?![#\s])))*?(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:{string:{pattern:/((?:^|[^\\])(?:\\\\)*)(?:"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')/,lookbehind:!0,greedy:!0,inside:{escape:{pattern:/\\["'\\nrt]/,alias:"entity"},variable:t}},comment:{pattern:/(\s)#.*/,lookbehind:!0,greedy:!0},keyword:{pattern:/^\S+/,greedy:!0},boolean:{pattern:/(\s)(?:off|on)(?!\S)/,lookbehind:!0},number:{pattern:/(\s)\d+[a-z]*(?!\S)/i,lookbehind:!0},variable:t}},punctuation:/[{};]/}}e.exports=t,t.displayName="nginx",t.aliases=[]},25689:function(e){"use strict";function t(e){e.languages.nim={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(?:\b(?!\d)(?:\w|\\x[89a-fA-F][0-9a-fA-F])+)?(?:"""[\s\S]*?"""(?!")|"(?:\\[\s\S]|""|[^"\\])*")/,greedy:!0},char:{pattern:/'(?:\\(?:\d+|x[\da-fA-F]{0,2}|.)|[^'])'/,greedy:!0},function:{pattern:/(?:(?!\d)(?:\w|\\x[89a-fA-F][0-9a-fA-F])+|`[^`\r\n]+`)\*?(?:\[[^\]]+\])?(?=\s*\()/,greedy:!0,inside:{operator:/\*$/}},identifier:{pattern:/`[^`\r\n]+`/,greedy:!0,inside:{punctuation:/`/}},number:/\b(?:0[xXoObB][\da-fA-F_]+|\d[\d_]*(?:(?!\.\.)\.[\d_]*)?(?:[eE][+-]?\d[\d_]*)?)(?:'?[iuf]\d*)?/,keyword:/\b(?:addr|as|asm|atomic|bind|block|break|case|cast|concept|const|continue|converter|defer|discard|distinct|do|elif|else|end|enum|except|export|finally|for|from|func|generic|if|import|include|interface|iterator|let|macro|method|mixin|nil|object|out|proc|ptr|raise|ref|return|static|template|try|tuple|type|using|var|when|while|with|without|yield)\b/,operator:{pattern:/(^|[({\[](?=\.\.)|(?![({\[]\.).)(?:(?:[=+\-*\/<>@$~&%|!?^:\\]|\.\.|\.(?![)}\]]))+|\b(?:and|div|in|is|isnot|mod|not|notin|of|or|shl|shr|xor)\b)/m,lookbehind:!0},punctuation:/[({\[]\.|\.[)}\]]|[`(){}\[\],:]/}}e.exports=t,t.displayName="nim",t.aliases=[]},17749:function(e){"use strict";function t(e){e.languages.nix={comment:{pattern:/\/\*[\s\S]*?\*\/|#.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\[\s\S])*"|''(?:(?!'')[\s\S]|''(?:'|\\|\$\{))*''/,greedy:!0,inside:{interpolation:{pattern:/(^|(?:^|(?!'').)[^\\])\$\{(?:[^{}]|\{[^}]*\})*\}/,lookbehind:!0,inside:null}}},url:[/\b(?:[a-z]{3,7}:\/\/)[\w\-+%~\/.:#=?&]+/,{pattern:/([^\/])(?:[\w\-+%~.:#=?&]*(?!\/\/)[\w\-+%~\/.:#=?&])?(?!\/\/)\/[\w\-+%~\/.:#=?&]*/,lookbehind:!0}],antiquotation:{pattern:/\$(?=\{)/,alias:"important"},number:/\b\d+\b/,keyword:/\b(?:assert|builtins|else|if|in|inherit|let|null|or|then|with)\b/,function:/\b(?:abort|add|all|any|attrNames|attrValues|baseNameOf|compareVersions|concatLists|currentSystem|deepSeq|derivation|dirOf|div|elem(?:At)?|fetch(?:Tarball|url)|filter(?:Source)?|fromJSON|genList|getAttr|getEnv|hasAttr|hashString|head|import|intersectAttrs|is(?:Attrs|Bool|Function|Int|List|Null|String)|length|lessThan|listToAttrs|map|mul|parseDrvName|pathExists|read(?:Dir|File)|removeAttrs|replaceStrings|seq|sort|stringLength|sub(?:string)?|tail|throw|to(?:File|JSON|Path|String|XML)|trace|typeOf)\b|\bfoldl'\B/,boolean:/\b(?:false|true)\b/,operator:/[=!<>]=?|\+\+?|\|\||&&|\/\/|->?|[?@]/,punctuation:/[{}()[\].,:;]/},e.languages.nix.string.inside.interpolation.inside=e.languages.nix}e.exports=t,t.displayName="nix",t.aliases=[]},7565:function(e){"use strict";function t(e){e.languages.nsis={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|[#;].*)/,lookbehind:!0,greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:{pattern:/(^[\t ]*)(?:Abort|Add(?:BrandingImage|Size)|AdvSplash|Allow(?:RootDirInstall|SkipFiles)|AutoCloseWindow|BG(?:Font|Gradient|Image)|Banner|BrandingText|BringToFront|CRCCheck|Call(?:InstDLL)?|Caption|ChangeUI|CheckBitmap|ClearErrors|CompletedText|ComponentText|CopyFiles|Create(?:Directory|Font|ShortCut)|Delete(?:INISec|INIStr|RegKey|RegValue)?|Detail(?:Print|sButtonText)|Dialer|Dir(?:Text|Var|Verify)|EnableWindow|Enum(?:RegKey|RegValue)|Exch|Exec(?:Shell(?:Wait)?|Wait)?|ExpandEnvStrings|File(?:BufSize|Close|ErrorText|Open|Read|ReadByte|ReadUTF16LE|ReadWord|Seek|Write|WriteByte|WriteUTF16LE|WriteWord)?|Find(?:Close|First|Next|Window)|FlushINI|Get(?:CurInstType|CurrentAddress|DLLVersion(?:Local)?|DlgItem|ErrorLevel|FileTime(?:Local)?|FullPathName|Function(?:Address|End)?|InstDirError|LabelAddress|TempFileName)|Goto|HideWindow|Icon|If(?:Abort|Errors|FileExists|RebootFlag|Silent)|InitPluginsDir|InstProgressFlags|Inst(?:Type(?:GetText|SetText)?)|Install(?:ButtonText|Colors|Dir(?:RegKey)?)|Int(?:64|Ptr)?CmpU?|Int(?:64)?Fmt|Int(?:Ptr)?Op|IsWindow|Lang(?:DLL|String)|License(?:BkColor|Data|ForceSelection|LangString|Text)|LoadLanguageFile|LockWindow|Log(?:Set|Text)|Manifest(?:DPIAware|SupportedOS)|Math|MessageBox|MiscButtonText|NSISdl|Name|Nop|OutFile|PE(?:DllCharacteristics|SubsysVer)|Page(?:Callbacks)?|Pop|Push|Quit|RMDir|Read(?:EnvStr|INIStr|RegDWORD|RegStr)|Reboot|RegDLL|Rename|RequestExecutionLevel|ReserveFile|Return|SearchPath|Section(?:End|GetFlags|GetInstTypes|GetSize|GetText|Group|In|SetFlags|SetInstTypes|SetSize|SetText)?|SendMessage|Set(?:AutoClose|BrandingImage|Compress|Compressor(?:DictSize)?|CtlColors|CurInstType|DatablockOptimize|DateSave|Details(?:Print|View)|ErrorLevel|Errors|FileAttributes|Font|OutPath|Overwrite|PluginUnload|RebootFlag|RegView|ShellVarContext|Silent)|Show(?:InstDetails|UninstDetails|Window)|Silent(?:Install|UnInstall)|Sleep|SpaceTexts|Splash|StartMenu|Str(?:CmpS?|Cpy|Len)|SubCaption|System|UnRegDLL|Unicode|UninstPage|Uninstall(?:ButtonText|Caption|Icon|SubCaption|Text)|UserInfo|VI(?:AddVersionKey|FileVersion|ProductVersion)|VPatch|Var|WindowIcon|Write(?:INIStr|Reg(?:Bin|DWORD|ExpandStr|MultiStr|None|Str)|Uninstaller)|XPStyle|ns(?:Dialogs|Exec))\b/m,lookbehind:!0},property:/\b(?:ARCHIVE|FILE_(?:ATTRIBUTE_ARCHIVE|ATTRIBUTE_NORMAL|ATTRIBUTE_OFFLINE|ATTRIBUTE_READONLY|ATTRIBUTE_SYSTEM|ATTRIBUTE_TEMPORARY)|HK(?:(?:CR|CU|LM)(?:32|64)?|DD|PD|U)|HKEY_(?:CLASSES_ROOT|CURRENT_CONFIG|CURRENT_USER|DYN_DATA|LOCAL_MACHINE|PERFORMANCE_DATA|USERS)|ID(?:ABORT|CANCEL|IGNORE|NO|OK|RETRY|YES)|MB_(?:ABORTRETRYIGNORE|DEFBUTTON1|DEFBUTTON2|DEFBUTTON3|DEFBUTTON4|ICONEXCLAMATION|ICONINFORMATION|ICONQUESTION|ICONSTOP|OK|OKCANCEL|RETRYCANCEL|RIGHT|RTLREADING|SETFOREGROUND|TOPMOST|USERICON|YESNO)|NORMAL|OFFLINE|READONLY|SHCTX|SHELL_CONTEXT|SYSTEM|TEMPORARY|admin|all|auto|both|colored|false|force|hide|highest|lastused|leave|listonly|none|normal|notset|off|on|open|print|show|silent|silentlog|smooth|textonly|true|user)\b/,constant:/\$\{[!\w\.:\^-]+\}|\$\([!\w\.:\^-]+\)/,variable:/\$\w[\w\.]*/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|\+\+?|<=?|>=?|==?=?|&&?|\|\|?|[?*\/~^%]/,punctuation:/[{}[\];(),.:]/,important:{pattern:/(^[\t ]*)!(?:addincludedir|addplugindir|appendfile|cd|define|delfile|echo|else|endif|error|execute|finalize|getdllversion|gettlbversion|if|ifdef|ifmacrodef|ifmacrondef|ifndef|include|insertmacro|macro|macroend|makensis|packhdr|pragma|searchparse|searchreplace|system|tempfile|undef|verbose|warning)\b/im,lookbehind:!0}}}e.exports=t,t.displayName="nsis",t.aliases=[]},44269:function(e,t,n){"use strict";var r=n(22838);function i(e){e.register(r),e.languages.objectivec=e.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete e.languages.objectivec["class-name"],e.languages.objc=e.languages.objectivec}e.exports=i,i.displayName="objectivec",i.aliases=["objc"]},95268:function(e){"use strict";function t(e){e.languages.ocaml={comment:{pattern:/\(\*[\s\S]*?\*\)/,greedy:!0},char:{pattern:/'(?:[^\\\r\n']|\\(?:.|[ox]?[0-9a-f]{1,3}))'/i,greedy:!0},string:[{pattern:/"(?:\\(?:[\s\S]|\r\n)|[^\\\r\n"])*"/,greedy:!0},{pattern:/\{([a-z_]*)\|[\s\S]*?\|\1\}/,greedy:!0}],number:[/\b(?:0b[01][01_]*|0o[0-7][0-7_]*)\b/i,/\b0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]*)?(?:p[+-]?\d[\d_]*)?(?!\w)/i,/\b\d[\d_]*(?:\.[\d_]*)?(?:e[+-]?\d[\d_]*)?(?!\w)/i],directive:{pattern:/\B#\w+/,alias:"property"},label:{pattern:/\B~\w+/,alias:"property"},"type-variable":{pattern:/\B'\w+/,alias:"function"},variant:{pattern:/`\w+/,alias:"symbol"},keyword:/\b(?:as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|match|method|module|mutable|new|nonrec|object|of|open|private|rec|sig|struct|then|to|try|type|val|value|virtual|when|where|while|with)\b/,boolean:/\b(?:false|true)\b/,"operator-like-punctuation":{pattern:/\[[<>|]|[>|]\]|\{<|>\}/,alias:"punctuation"},operator:/\.[.~]|:[=>]|[=<>@^|&+\-*\/$%!?~][!$%&*+\-.\/:<=>?@^|~]*|\b(?:and|asr|land|lor|lsl|lsr|lxor|mod|or)\b/,punctuation:/;;|::|[(){}\[\].,:;#]|\b_\b/}}e.exports=t,t.displayName="ocaml",t.aliases=[]},30606:function(e,t,n){"use strict";var r=n(22838);function i(e){var t;e.register(r),e.languages.opencl=e.languages.extend("c",{keyword:/\b(?:(?:__)?(?:constant|global|kernel|local|private|read_only|read_write|write_only)|__attribute__|auto|(?:bool|u?(?:char|int|long|short)|half|quad)(?:2|3|4|8|16)?|break|case|complex|const|continue|(?:double|float)(?:16(?:x(?:1|2|4|8|16))?|1x(?:1|2|4|8|16)|2(?:x(?:1|2|4|8|16))?|3|4(?:x(?:1|2|4|8|16))?|8(?:x(?:1|2|4|8|16))?)?|default|do|else|enum|extern|for|goto|if|imaginary|inline|packed|pipe|register|restrict|return|signed|sizeof|static|struct|switch|typedef|uniform|union|unsigned|void|volatile|while)\b/,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[fuhl]{0,4}/i,boolean:/\b(?:false|true)\b/,"constant-opencl-kernel":{pattern:/\b(?:CHAR_(?:BIT|MAX|MIN)|CLK_(?:ADDRESS_(?:CLAMP(?:_TO_EDGE)?|NONE|REPEAT)|FILTER_(?:LINEAR|NEAREST)|(?:GLOBAL|LOCAL)_MEM_FENCE|NORMALIZED_COORDS_(?:FALSE|TRUE))|CL_(?:BGRA|(?:HALF_)?FLOAT|INTENSITY|LUMINANCE|A?R?G?B?[Ax]?|(?:(?:UN)?SIGNED|[US]NORM)_(?:INT(?:8|16|32))|UNORM_(?:INT_101010|SHORT_(?:555|565)))|(?:DBL|FLT|HALF)_(?:DIG|EPSILON|(?:MAX|MIN)(?:(?:_10)?_EXP)?|MANT_DIG)|FLT_RADIX|HUGE_VALF?|(?:INT|LONG|SCHAR|SHRT)_(?:MAX|MIN)|INFINITY|MAXFLOAT|M_(?:[12]_PI|2_SQRTPI|E|LN(?:2|10)|LOG(?:2|10)E?|PI(?:_[24])?|SQRT(?:1_2|2))(?:_F|_H)?|NAN|(?:UCHAR|UINT|ULONG|USHRT)_MAX)\b/,alias:"constant"}}),e.languages.insertBefore("opencl","class-name",{"builtin-type":{pattern:/\b(?:_cl_(?:command_queue|context|device_id|event|kernel|mem|platform_id|program|sampler)|cl_(?:image_format|mem_fence_flags)|clk_event_t|event_t|image(?:1d_(?:array_|buffer_)?t|2d_(?:array_(?:depth_|msaa_depth_|msaa_)?|depth_|msaa_depth_|msaa_)?t|3d_t)|intptr_t|ndrange_t|ptrdiff_t|queue_t|reserve_id_t|sampler_t|size_t|uintptr_t)\b/,alias:"keyword"}}),t={"type-opencl-host":{pattern:/\b(?:cl_(?:GLenum|GLint|GLuin|addressing_mode|bitfield|bool|buffer_create_type|build_status|channel_(?:order|type)|(?:u?(?:char|int|long|short)|double|float)(?:2|3|4|8|16)?|command_(?:queue(?:_info|_properties)?|type)|context(?:_info|_properties)?|device_(?:exec_capabilities|fp_config|id|info|local_mem_type|mem_cache_type|type)|(?:event|sampler)(?:_info)?|filter_mode|half|image_info|kernel(?:_info|_work_group_info)?|map_flags|mem(?:_flags|_info|_object_type)?|platform_(?:id|info)|profiling_info|program(?:_build_info|_info)?))\b/,alias:"keyword"},"boolean-opencl-host":{pattern:/\bCL_(?:FALSE|TRUE)\b/,alias:"boolean"},"constant-opencl-host":{pattern:/\bCL_(?:A|ABGR|ADDRESS_(?:CLAMP(?:_TO_EDGE)?|MIRRORED_REPEAT|NONE|REPEAT)|ARGB|BGRA|BLOCKING|BUFFER_CREATE_TYPE_REGION|BUILD_(?:ERROR|IN_PROGRESS|NONE|PROGRAM_FAILURE|SUCCESS)|COMMAND_(?:ACQUIRE_GL_OBJECTS|BARRIER|COPY_(?:BUFFER(?:_RECT|_TO_IMAGE)?|IMAGE(?:_TO_BUFFER)?)|FILL_(?:BUFFER|IMAGE)|MAP(?:_BUFFER|_IMAGE)|MARKER|MIGRATE(?:_SVM)?_MEM_OBJECTS|NATIVE_KERNEL|NDRANGE_KERNEL|READ_(?:BUFFER(?:_RECT)?|IMAGE)|RELEASE_GL_OBJECTS|SVM_(?:FREE|MAP|MEMCPY|MEMFILL|UNMAP)|TASK|UNMAP_MEM_OBJECT|USER|WRITE_(?:BUFFER(?:_RECT)?|IMAGE))|COMPILER_NOT_AVAILABLE|COMPILE_PROGRAM_FAILURE|COMPLETE|CONTEXT_(?:DEVICES|INTEROP_USER_SYNC|NUM_DEVICES|PLATFORM|PROPERTIES|REFERENCE_COUNT)|DEPTH(?:_STENCIL)?|DEVICE_(?:ADDRESS_BITS|AFFINITY_DOMAIN_(?:L[1-4]_CACHE|NEXT_PARTITIONABLE|NUMA)|AVAILABLE|BUILT_IN_KERNELS|COMPILER_AVAILABLE|DOUBLE_FP_CONFIG|ENDIAN_LITTLE|ERROR_CORRECTION_SUPPORT|EXECUTION_CAPABILITIES|EXTENSIONS|GLOBAL_(?:MEM_(?:CACHELINE_SIZE|CACHE_SIZE|CACHE_TYPE|SIZE)|VARIABLE_PREFERRED_TOTAL_SIZE)|HOST_UNIFIED_MEMORY|IL_VERSION|IMAGE(?:2D_MAX_(?:HEIGHT|WIDTH)|3D_MAX_(?:DEPTH|HEIGHT|WIDTH)|_BASE_ADDRESS_ALIGNMENT|_MAX_ARRAY_SIZE|_MAX_BUFFER_SIZE|_PITCH_ALIGNMENT|_SUPPORT)|LINKER_AVAILABLE|LOCAL_MEM_SIZE|LOCAL_MEM_TYPE|MAX_(?:CLOCK_FREQUENCY|COMPUTE_UNITS|CONSTANT_ARGS|CONSTANT_BUFFER_SIZE|GLOBAL_VARIABLE_SIZE|MEM_ALLOC_SIZE|NUM_SUB_GROUPS|ON_DEVICE_(?:EVENTS|QUEUES)|PARAMETER_SIZE|PIPE_ARGS|READ_IMAGE_ARGS|READ_WRITE_IMAGE_ARGS|SAMPLERS|WORK_GROUP_SIZE|WORK_ITEM_DIMENSIONS|WORK_ITEM_SIZES|WRITE_IMAGE_ARGS)|MEM_BASE_ADDR_ALIGN|MIN_DATA_TYPE_ALIGN_SIZE|NAME|NATIVE_VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT)|NOT_(?:AVAILABLE|FOUND)|OPENCL_C_VERSION|PARENT_DEVICE|PARTITION_(?:AFFINITY_DOMAIN|BY_AFFINITY_DOMAIN|BY_COUNTS|BY_COUNTS_LIST_END|EQUALLY|FAILED|MAX_SUB_DEVICES|PROPERTIES|TYPE)|PIPE_MAX_(?:ACTIVE_RESERVATIONS|PACKET_SIZE)|PLATFORM|PREFERRED_(?:GLOBAL_ATOMIC_ALIGNMENT|INTEROP_USER_SYNC|LOCAL_ATOMIC_ALIGNMENT|PLATFORM_ATOMIC_ALIGNMENT|VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT))|PRINTF_BUFFER_SIZE|PROFILE|PROFILING_TIMER_RESOLUTION|QUEUE_(?:ON_(?:DEVICE_(?:MAX_SIZE|PREFERRED_SIZE|PROPERTIES)|HOST_PROPERTIES)|PROPERTIES)|REFERENCE_COUNT|SINGLE_FP_CONFIG|SUB_GROUP_INDEPENDENT_FORWARD_PROGRESS|SVM_(?:ATOMICS|CAPABILITIES|COARSE_GRAIN_BUFFER|FINE_GRAIN_BUFFER|FINE_GRAIN_SYSTEM)|TYPE(?:_ACCELERATOR|_ALL|_CPU|_CUSTOM|_DEFAULT|_GPU)?|VENDOR(?:_ID)?|VERSION)|DRIVER_VERSION|EVENT_(?:COMMAND_(?:EXECUTION_STATUS|QUEUE|TYPE)|CONTEXT|REFERENCE_COUNT)|EXEC_(?:KERNEL|NATIVE_KERNEL|STATUS_ERROR_FOR_EVENTS_IN_WAIT_LIST)|FILTER_(?:LINEAR|NEAREST)|FLOAT|FP_(?:CORRECTLY_ROUNDED_DIVIDE_SQRT|DENORM|FMA|INF_NAN|ROUND_TO_INF|ROUND_TO_NEAREST|ROUND_TO_ZERO|SOFT_FLOAT)|GLOBAL|HALF_FLOAT|IMAGE_(?:ARRAY_SIZE|BUFFER|DEPTH|ELEMENT_SIZE|FORMAT|FORMAT_MISMATCH|FORMAT_NOT_SUPPORTED|HEIGHT|NUM_MIP_LEVELS|NUM_SAMPLES|ROW_PITCH|SLICE_PITCH|WIDTH)|INTENSITY|INVALID_(?:ARG_INDEX|ARG_SIZE|ARG_VALUE|BINARY|BUFFER_SIZE|BUILD_OPTIONS|COMMAND_QUEUE|COMPILER_OPTIONS|CONTEXT|DEVICE|DEVICE_PARTITION_COUNT|DEVICE_QUEUE|DEVICE_TYPE|EVENT|EVENT_WAIT_LIST|GLOBAL_OFFSET|GLOBAL_WORK_SIZE|GL_OBJECT|HOST_PTR|IMAGE_DESCRIPTOR|IMAGE_FORMAT_DESCRIPTOR|IMAGE_SIZE|KERNEL|KERNEL_ARGS|KERNEL_DEFINITION|KERNEL_NAME|LINKER_OPTIONS|MEM_OBJECT|MIP_LEVEL|OPERATION|PIPE_SIZE|PLATFORM|PROGRAM|PROGRAM_EXECUTABLE|PROPERTY|QUEUE_PROPERTIES|SAMPLER|VALUE|WORK_DIMENSION|WORK_GROUP_SIZE|WORK_ITEM_SIZE)|KERNEL_(?:ARG_(?:ACCESS_(?:NONE|QUALIFIER|READ_ONLY|READ_WRITE|WRITE_ONLY)|ADDRESS_(?:CONSTANT|GLOBAL|LOCAL|PRIVATE|QUALIFIER)|INFO_NOT_AVAILABLE|NAME|TYPE_(?:CONST|NAME|NONE|PIPE|QUALIFIER|RESTRICT|VOLATILE))|ATTRIBUTES|COMPILE_NUM_SUB_GROUPS|COMPILE_WORK_GROUP_SIZE|CONTEXT|EXEC_INFO_SVM_FINE_GRAIN_SYSTEM|EXEC_INFO_SVM_PTRS|FUNCTION_NAME|GLOBAL_WORK_SIZE|LOCAL_MEM_SIZE|LOCAL_SIZE_FOR_SUB_GROUP_COUNT|MAX_NUM_SUB_GROUPS|MAX_SUB_GROUP_SIZE_FOR_NDRANGE|NUM_ARGS|PREFERRED_WORK_GROUP_SIZE_MULTIPLE|PRIVATE_MEM_SIZE|PROGRAM|REFERENCE_COUNT|SUB_GROUP_COUNT_FOR_NDRANGE|WORK_GROUP_SIZE)|LINKER_NOT_AVAILABLE|LINK_PROGRAM_FAILURE|LOCAL|LUMINANCE|MAP_(?:FAILURE|READ|WRITE|WRITE_INVALIDATE_REGION)|MEM_(?:ALLOC_HOST_PTR|ASSOCIATED_MEMOBJECT|CONTEXT|COPY_HOST_PTR|COPY_OVERLAP|FLAGS|HOST_NO_ACCESS|HOST_PTR|HOST_READ_ONLY|HOST_WRITE_ONLY|KERNEL_READ_AND_WRITE|MAP_COUNT|OBJECT_(?:ALLOCATION_FAILURE|BUFFER|IMAGE1D|IMAGE1D_ARRAY|IMAGE1D_BUFFER|IMAGE2D|IMAGE2D_ARRAY|IMAGE3D|PIPE)|OFFSET|READ_ONLY|READ_WRITE|REFERENCE_COUNT|SIZE|SVM_ATOMICS|SVM_FINE_GRAIN_BUFFER|TYPE|USES_SVM_POINTER|USE_HOST_PTR|WRITE_ONLY)|MIGRATE_MEM_OBJECT_(?:CONTENT_UNDEFINED|HOST)|MISALIGNED_SUB_BUFFER_OFFSET|NONE|NON_BLOCKING|OUT_OF_(?:HOST_MEMORY|RESOURCES)|PIPE_(?:MAX_PACKETS|PACKET_SIZE)|PLATFORM_(?:EXTENSIONS|HOST_TIMER_RESOLUTION|NAME|PROFILE|VENDOR|VERSION)|PROFILING_(?:COMMAND_(?:COMPLETE|END|QUEUED|START|SUBMIT)|INFO_NOT_AVAILABLE)|PROGRAM_(?:BINARIES|BINARY_SIZES|BINARY_TYPE(?:_COMPILED_OBJECT|_EXECUTABLE|_LIBRARY|_NONE)?|BUILD_(?:GLOBAL_VARIABLE_TOTAL_SIZE|LOG|OPTIONS|STATUS)|CONTEXT|DEVICES|IL|KERNEL_NAMES|NUM_DEVICES|NUM_KERNELS|REFERENCE_COUNT|SOURCE)|QUEUED|QUEUE_(?:CONTEXT|DEVICE|DEVICE_DEFAULT|ON_DEVICE|ON_DEVICE_DEFAULT|OUT_OF_ORDER_EXEC_MODE_ENABLE|PROFILING_ENABLE|PROPERTIES|REFERENCE_COUNT|SIZE)|R|RA|READ_(?:ONLY|WRITE)_CACHE|RG|RGB|RGBA|RGBx|RGx|RUNNING|Rx|SAMPLER_(?:ADDRESSING_MODE|CONTEXT|FILTER_MODE|LOD_MAX|LOD_MIN|MIP_FILTER_MODE|NORMALIZED_COORDS|REFERENCE_COUNT)|(?:UN)?SIGNED_INT(?:8|16|32)|SNORM_INT(?:8|16)|SUBMITTED|SUCCESS|UNORM_INT(?:8|16|24|_101010|_101010_2)|UNORM_SHORT_(?:555|565)|VERSION_(?:1_0|1_1|1_2|2_0|2_1)|sBGRA|sRGB|sRGBA|sRGBx)\b/,alias:"constant"},"function-opencl-host":{pattern:/\bcl(?:BuildProgram|CloneKernel|CompileProgram|Create(?:Buffer|CommandQueue(?:WithProperties)?|Context|ContextFromType|Image|Image2D|Image3D|Kernel|KernelsInProgram|Pipe|ProgramWith(?:Binary|BuiltInKernels|IL|Source)|Sampler|SamplerWithProperties|SubBuffer|SubDevices|UserEvent)|Enqueue(?:(?:Barrier|Marker)(?:WithWaitList)?|Copy(?:Buffer(?:Rect|ToImage)?|Image(?:ToBuffer)?)|(?:Fill|Map)(?:Buffer|Image)|MigrateMemObjects|NDRangeKernel|NativeKernel|(?:Read|Write)(?:Buffer(?:Rect)?|Image)|SVM(?:Free|Map|MemFill|Memcpy|MigrateMem|Unmap)|Task|UnmapMemObject|WaitForEvents)|Finish|Flush|Get(?:CommandQueueInfo|ContextInfo|Device(?:AndHostTimer|IDs|Info)|Event(?:Profiling)?Info|ExtensionFunctionAddress(?:ForPlatform)?|HostTimer|ImageInfo|Kernel(?:ArgInfo|Info|SubGroupInfo|WorkGroupInfo)|MemObjectInfo|PipeInfo|Platform(?:IDs|Info)|Program(?:Build)?Info|SamplerInfo|SupportedImageFormats)|LinkProgram|(?:Release|Retain)(?:CommandQueue|Context|Device|Event|Kernel|MemObject|Program|Sampler)|SVM(?:Alloc|Free)|Set(?:CommandQueueProperty|DefaultDeviceCommandQueue|EventCallback|Kernel|Kernel(?:Arg(?:SVMPointer)?|ExecInfo)|MemObjectDestructorCallback|UserEventStatus)|Unload(?:Platform)?Compiler|WaitForEvents)\b/,alias:"function"}},e.languages.insertBefore("c","keyword",t),e.languages.cpp&&(t["type-opencl-host-cpp"]={pattern:/\b(?:Buffer|BufferGL|BufferRenderGL|CommandQueue|Context|Device|DeviceCommandQueue|EnqueueArgs|Event|Image|Image1D|Image1DArray|Image1DBuffer|Image2D|Image2DArray|Image2DGL|Image3D|Image3DGL|ImageFormat|ImageGL|Kernel|KernelFunctor|LocalSpaceArg|Memory|NDRange|Pipe|Platform|Program|SVMAllocator|SVMTraitAtomic|SVMTraitCoarse|SVMTraitFine|SVMTraitReadOnly|SVMTraitReadWrite|SVMTraitWriteOnly|Sampler|UserEvent)\b/,alias:"keyword"},e.languages.insertBefore("cpp","keyword",t))}e.exports=i,i.displayName="opencl",i.aliases=[]},67389:function(e){"use strict";function t(e){e.languages.openqasm={comment:/\/\*[\s\S]*?\*\/|\/\/.*/,string:{pattern:/"[^"\r\n\t]*"|'[^'\r\n\t]*'/,greedy:!0},keyword:/\b(?:CX|OPENQASM|U|barrier|boxas|boxto|break|const|continue|ctrl|def|defcal|defcalgrammar|delay|else|end|for|gate|gphase|if|in|include|inv|kernel|lengthof|let|measure|pow|reset|return|rotary|stretchinf|while)\b|#pragma\b/,"class-name":/\b(?:angle|bit|bool|creg|fixed|float|int|length|qreg|qubit|stretch|uint)\b/,function:/\b(?:cos|exp|ln|popcount|rotl|rotr|sin|sqrt|tan)\b(?=\s*\()/,constant:/\b(?:euler|pi|tau)\b|π|𝜏|ℇ/,number:{pattern:/(^|[^.\w$])(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?(?:dt|ns|us|µs|ms|s)?/i,lookbehind:!0},operator:/->|>>=?|<<=?|&&|\|\||\+\+|--|[!=<>&|~^+\-*/%]=?|@/,punctuation:/[(){}\[\];,:.]/},e.languages.qasm=e.languages.openqasm}e.exports=t,t.displayName="openqasm",t.aliases=["qasm"]},99623:function(e){"use strict";function t(e){e.languages.oz={comment:{pattern:/\/\*[\s\S]*?\*\/|%.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\[\s\S])*"/,greedy:!0},atom:{pattern:/'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,alias:"builtin"},keyword:/\$|\[\]|\b(?:_|at|attr|case|catch|choice|class|cond|declare|define|dis|else(?:case|if)?|end|export|fail|false|feat|finally|from|fun|functor|if|import|in|local|lock|meth|nil|not|of|or|prepare|proc|prop|raise|require|self|skip|then|thread|true|try|unit)\b/,function:[/\b[a-z][A-Za-z\d]*(?=\()/,{pattern:/(\{)[A-Z][A-Za-z\d]*\b/,lookbehind:!0}],number:/\b(?:0[bx][\da-f]+|\d+(?:\.\d*)?(?:e~?\d+)?)\b|&(?:[^\\]|\\(?:\d{3}|.))/i,variable:/`(?:[^`\\]|\\.)+`/,"attr-name":/\b\w+(?=[ \t]*:(?![:=]))/,operator:/:(?:=|::?)|<[-:=]?|=(?:=|<?:?)|>=?:?|\\=:?|!!?|[|#+\-*\/,~^@]|\b(?:andthen|div|mod|orelse)\b/,punctuation:/[\[\](){}.:;?]/}}e.exports=t,t.displayName="oz",t.aliases=[]},78286:function(e){"use strict";function t(e){var t;e.languages.parigp={comment:/\/\*[\s\S]*?\*\/|\\\\.*/,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"/,greedy:!0},keyword:RegExp("\\b(?:"+["breakpoint","break","dbg_down","dbg_err","dbg_up","dbg_x","forcomposite","fordiv","forell","forpart","forprime","forstep","forsubgroup","forvec","for","iferr","if","local","my","next","return","until","while"].map(function(e){return e.split("").join(" *")}).join("|")+")\\b"),function:/\b\w(?:[\w ]*\w)?(?= *\()/,number:{pattern:/((?:\. *\. *)?)(?:\b\d(?: *\d)*(?: *(?!\. *\.)\.(?: *\d)*)?|\. *\d(?: *\d)*)(?: *e *(?:[+-] *)?\d(?: *\d)*)?/i,lookbehind:!0},operator:/\. *\.|[*\/!](?: *=)?|%(?: *=|(?: *#)?(?: *')*)?|\+(?: *[+=])?|-(?: *[-=>])?|<(?: *>|(?: *<)?(?: *=)?)?|>(?: *>)?(?: *=)?|=(?: *=){0,2}|\\(?: *\/)?(?: *=)?|&(?: *&)?|\| *\||['#~^]/,punctuation:/[\[\]{}().,:;|]/}}e.exports=t,t.displayName="parigp",t.aliases=[]},33240:function(e){"use strict";function t(e){var t;t=e.languages.parser=e.languages.extend("markup",{keyword:{pattern:/(^|[^^])(?:\^(?:case|eval|for|if|switch|throw)\b|@(?:BASE|CLASS|GET(?:_DEFAULT)?|OPTIONS|SET_DEFAULT|USE)\b)/,lookbehind:!0},variable:{pattern:/(^|[^^])\B\$(?:\w+|(?=[.{]))(?:(?:\.|::?)\w+)*(?:\.|::?)?/,lookbehind:!0,inside:{punctuation:/\.|:+/}},function:{pattern:/(^|[^^])\B[@^]\w+(?:(?:\.|::?)\w+)*(?:\.|::?)?/,lookbehind:!0,inside:{keyword:{pattern:/(^@)(?:GET_|SET_)/,lookbehind:!0},punctuation:/\.|:+/}},escape:{pattern:/\^(?:[$^;@()\[\]{}"':]|#[a-f\d]*)/i,alias:"builtin"},punctuation:/[\[\](){};]/}),t=e.languages.insertBefore("parser","keyword",{"parser-comment":{pattern:/(\s)#.*/,lookbehind:!0,alias:"comment"},expression:{pattern:/(^|[^^])\((?:[^()]|\((?:[^()]|\((?:[^()])*\))*\))*\)/,greedy:!0,lookbehind:!0,inside:{string:{pattern:/(^|[^^])(["'])(?:(?!\2)[^^]|\^[\s\S])*\2/,lookbehind:!0},keyword:t.keyword,variable:t.variable,function:t.function,boolean:/\b(?:false|true)\b/,number:/\b(?:0x[a-f\d]+|\d+(?:\.\d*)?(?:e[+-]?\d+)?)\b/i,escape:t.escape,operator:/[~+*\/\\%]|!(?:\|\|?|=)?|&&?|\|\|?|==|<[<=]?|>[>=]?|-[fd]?|\b(?:def|eq|ge|gt|in|is|le|lt|ne)\b/,punctuation:t.punctuation}}}),e.languages.insertBefore("inside","punctuation",{expression:t.expression,keyword:t.keyword,variable:t.variable,function:t.function,escape:t.escape,"parser-punctuation":{pattern:t.punctuation,alias:"punctuation"}},t.tag.inside["attr-value"])}e.exports=t,t.displayName="parser",t.aliases=[]},50178:function(e){"use strict";function t(e){e.languages.pascal={directive:{pattern:/\{\$[\s\S]*?\}/,greedy:!0,alias:["marco","property"]},comment:{pattern:/\(\*[\s\S]*?\*\)|\{[\s\S]*?\}|\/\/.*/,greedy:!0},string:{pattern:/(?:'(?:''|[^'\r\n])*'(?!')|#[&$%]?[a-f\d]+)+|\^[a-z]/i,greedy:!0},asm:{pattern:/(\basm\b)[\s\S]+?(?=\bend\s*[;[])/i,lookbehind:!0,greedy:!0,inside:null},keyword:[{pattern:/(^|[^&])\b(?:absolute|array|asm|begin|case|const|constructor|destructor|do|downto|else|end|file|for|function|goto|if|implementation|inherited|inline|interface|label|nil|object|of|operator|packed|procedure|program|record|reintroduce|repeat|self|set|string|then|to|type|unit|until|uses|var|while|with)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:dispose|exit|false|new|true)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:class|dispinterface|except|exports|finalization|finally|initialization|inline|library|on|out|packed|property|raise|resourcestring|threadvar|try)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:absolute|abstract|alias|assembler|bitpacked|break|cdecl|continue|cppdecl|cvar|default|deprecated|dynamic|enumerator|experimental|export|external|far|far16|forward|generic|helper|implements|index|interrupt|iochecks|local|message|name|near|nodefault|noreturn|nostackframe|oldfpccall|otherwise|overload|override|pascal|platform|private|protected|public|published|read|register|reintroduce|result|safecall|saveregisters|softfloat|specialize|static|stdcall|stored|strict|unaligned|unimplemented|varargs|virtual|write)\b/i,lookbehind:!0}],number:[/(?:[&%]\d+|\$[a-f\d]+)/i,/\b\d+(?:\.\d+)?(?:e[+-]?\d+)?/i],operator:[/\.\.|\*\*|:=|<[<=>]?|>[>=]?|[+\-*\/]=?|[@^=]/,{pattern:/(^|[^&])\b(?:and|as|div|exclude|in|include|is|mod|not|or|shl|shr|xor)\b/,lookbehind:!0}],punctuation:/\(\.|\.\)|[()\[\]:;,.]/},e.languages.pascal.asm.inside=e.languages.extend("pascal",{asm:void 0,keyword:void 0,operator:void 0}),e.languages.objectpascal=e.languages.pascal}e.exports=t,t.displayName="pascal",t.aliases=["objectpascal"]},14478:function(e){"use strict";function t(e){var t,n,r,i;t=/\((?:[^()]|\((?:[^()]|\([^()]*\))*\))*\)/.source,n=/(?:\b\w+(?:<braces>)?|<braces>)/.source.replace(/<braces>/g,function(){return t}),r=e.languages.pascaligo={comment:/\(\*[\s\S]+?\*\)|\/\/.*/,string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1|\^[a-z]/i,greedy:!0},"class-name":[{pattern:RegExp(/(\btype\s+\w+\s+is\s+)<type>/.source.replace(/<type>/g,function(){return n}),"i"),lookbehind:!0,inside:null},{pattern:RegExp(/<type>(?=\s+is\b)/.source.replace(/<type>/g,function(){return n}),"i"),inside:null},{pattern:RegExp(/(:\s*)<type>/.source.replace(/<type>/g,function(){return n})),lookbehind:!0,inside:null}],keyword:{pattern:/(^|[^&])\b(?:begin|block|case|const|else|end|fail|for|from|function|if|is|nil|of|remove|return|skip|then|type|var|while|with)\b/i,lookbehind:!0},boolean:{pattern:/(^|[^&])\b(?:False|True)\b/i,lookbehind:!0},builtin:{pattern:/(^|[^&])\b(?:bool|int|list|map|nat|record|string|unit)\b/i,lookbehind:!0},function:/\b\w+(?=\s*\()/,number:[/%[01]+|&[0-7]+|\$[a-f\d]+/i,/\b\d+(?:\.\d+)?(?:e[+-]?\d+)?(?:mtz|n)?/i],operator:/->|=\/=|\.\.|\*\*|:=|<[<=>]?|>[>=]?|[+\-*\/]=?|[@^=|]|\b(?:and|mod|or)\b/,punctuation:/\(\.|\.\)|[()\[\]:;,.{}]/},i=["comment","keyword","builtin","operator","punctuation"].reduce(function(e,t){return e[t]=r[t],e},{}),r["class-name"].forEach(function(e){e.inside=i})}e.exports=t,t.displayName="pascaligo",t.aliases=[]},4768:function(e){"use strict";function t(e){e.languages.pcaxis={string:/"[^"]*"/,keyword:{pattern:/((?:^|;)\s*)[-A-Z\d]+(?:\s*\[[-\w]+\])?(?:\s*\("[^"]*"(?:,\s*"[^"]*")*\))?(?=\s*=)/,lookbehind:!0,greedy:!0,inside:{keyword:/^[-A-Z\d]+/,language:{pattern:/^(\s*)\[[-\w]+\]/,lookbehind:!0,inside:{punctuation:/^\[|\]$/,property:/[-\w]+/}},"sub-key":{pattern:/^(\s*)\S[\s\S]*/,lookbehind:!0,inside:{parameter:{pattern:/"[^"]*"/,alias:"property"},punctuation:/^\(|\)$|,/}}}},operator:/=/,tlist:{pattern:/TLIST\s*\(\s*\w+(?:(?:\s*,\s*"[^"]*")+|\s*,\s*"[^"]*"-"[^"]*")?\s*\)/,greedy:!0,inside:{function:/^TLIST/,property:{pattern:/^(\s*\(\s*)\w+/,lookbehind:!0},string:/"[^"]*"/,punctuation:/[(),]/,operator:/-/}},punctuation:/[;,]/,number:{pattern:/(^|\s)\d+(?:\.\d+)?(?!\S)/,lookbehind:!0},boolean:/NO|YES/},e.languages.px=e.languages.pcaxis}e.exports=t,t.displayName="pcaxis",t.aliases=["px"]},45847:function(e){"use strict";function t(e){e.languages.peoplecode={comment:RegExp([/\/\*[\s\S]*?\*\//.source,/\bREM[^;]*;/.source,/<\*(?:[^<*]|\*(?!>)|<(?!\*)|<\*(?:(?!\*>)[\s\S])*\*>)*\*>/.source,/\/\+[\s\S]*?\+\//.source].join("|")),string:{pattern:/'(?:''|[^'\r\n])*'(?!')|"(?:""|[^"\r\n])*"(?!")/,greedy:!0},variable:/%\w+/,"function-definition":{pattern:/((?:^|[^\w-])(?:function|method)\s+)\w+/i,lookbehind:!0,alias:"function"},"class-name":{pattern:/((?:^|[^-\w])(?:as|catch|class|component|create|extends|global|implements|instance|local|of|property|returns)\s+)\w+(?::\w+)*/i,lookbehind:!0,inside:{punctuation:/:/}},keyword:/\b(?:abstract|alias|as|catch|class|component|constant|create|declare|else|end-(?:class|evaluate|for|function|get|if|method|set|try|while)|evaluate|extends|for|function|get|global|if|implements|import|instance|library|local|method|null|of|out|peopleCode|private|program|property|protected|readonly|ref|repeat|returns?|set|step|then|throw|to|try|until|value|when(?:-other)?|while)\b/i,"operator-keyword":{pattern:/\b(?:and|not|or)\b/i,alias:"operator"},function:/[_a-z]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/i,number:/\b\d+(?:\.\d+)?\b/,operator:/<>|[<>]=?|!=|\*\*|[-+*/|=@]/,punctuation:/[:.;,()[\]]/},e.languages.pcode=e.languages.peoplecode}e.exports=t,t.displayName="peoplecode",t.aliases=["pcode"]},32694:function(e){"use strict";function t(e){var t;t=/(?:\((?:[^()\\]|\\[\s\S])*\)|\{(?:[^{}\\]|\\[\s\S])*\}|\[(?:[^[\]\\]|\\[\s\S])*\]|<(?:[^<>\\]|\\[\s\S])*>)/.source,e.languages.perl={comment:[{pattern:/(^\s*)=\w[\s\S]*?=cut.*/m,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],string:[{pattern:RegExp(/\b(?:q|qq|qw|qx)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,t].join("|")+")"),greedy:!0},{pattern:/("|`)(?:(?!\1)[^\\]|\\[\s\S])*\1/,greedy:!0},{pattern:/'(?:[^'\\\r\n]|\\.)*'/,greedy:!0}],regex:[{pattern:RegExp(/\b(?:m|qr)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,t].join("|")+")"+/[msixpodualngc]*/.source),greedy:!0},{pattern:RegExp(/(^|[^-])\b(?:s|tr|y)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\2)[^\\]|\\[\s\S])*\2(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,/([a-zA-Z0-9])(?:(?!\3)[^\\]|\\[\s\S])*\3(?:(?!\3)[^\\]|\\[\s\S])*\3/.source,t+/\s*/.source+t].join("|")+")"+/[msixpodualngcer]*/.source),lookbehind:!0,greedy:!0},{pattern:/\/(?:[^\/\\\r\n]|\\.)*\/[msixpodualngc]*(?=\s*(?:$|[\r\n,.;})&|\-+*~<>!?^]|(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|x|xor)\b))/,greedy:!0}],variable:[/[&*$@%]\{\^[A-Z]+\}/,/[&*$@%]\^[A-Z_]/,/[&*$@%]#?(?=\{)/,/[&*$@%]#?(?:(?:::)*'?(?!\d)[\w$]+(?![\w$]))+(?:::)*/,/[&*$@%]\d+/,/(?!%=)[$@%][!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~]/],filehandle:{pattern:/<(?![<=])\S*?>|\b_\b/,alias:"symbol"},"v-string":{pattern:/v\d+(?:\.\d+)*|\d+(?:\.\d+){2,}/,alias:"string"},function:{pattern:/(\bsub[ \t]+)\w+/,lookbehind:!0},keyword:/\b(?:any|break|continue|default|delete|die|do|else|elsif|eval|for|foreach|given|goto|if|last|local|my|next|our|package|print|redo|require|return|say|state|sub|switch|undef|unless|until|use|when|while)\b/,number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)\b/,operator:/-[rwxoRWXOezsfdlpSbctugkTBMAC]\b|\+[+=]?|-[-=>]?|\*\*?=?|\/\/?=?|=[=~>]?|~[~=]?|\|\|?=?|&&?=?|<(?:=>?|<=?)?|>>?=?|![~=]?|[%^]=?|\.(?:=|\.\.?)?|[\\?]|\bx(?:=|\b)|\b(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|xor)\b/,punctuation:/[{}[\];(),:]/}}e.exports=t,t.displayName="perl",t.aliases=[]},9032:function(e,t,n){"use strict";var r=n(79902);function i(e){e.register(r),e.languages.insertBefore("php","variable",{this:{pattern:/\$this\b/,alias:"keyword"},global:/\$(?:GLOBALS|HTTP_RAW_POST_DATA|_(?:COOKIE|ENV|FILES|GET|POST|REQUEST|SERVER|SESSION)|argc|argv|http_response_header|php_errormsg)\b/,scope:{pattern:/\b[\w\\]+::/,inside:{keyword:/\b(?:parent|self|static)\b/,punctuation:/::|\\/}}})}e.exports=i,i.displayName="phpExtras",i.aliases=[]},79902:function(e,t,n){"use strict";var r=n(47305);function i(e){var t,n,i,o,a,s,l;e.register(r),t=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],i=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,o=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,a=/[{}\[\](),:;]/,e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:t,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s+)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:i,operator:o,punctuation:a},l=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:s={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php}}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:s}}],e.languages.insertBefore("php","variable",{string:l,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:t,string:l,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:i,operator:o,punctuation:a}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",function(t){/<\?/.test(t.code)&&e.languages["markup-templating"].buildPlaceholders(t,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")})}e.exports=i,i.displayName="php",i.aliases=[]},75483:function(e,t,n){"use strict";var r=n(79902),i=n(90491);function o(e){var t;e.register(r),e.register(i),t=/(?:\b[a-zA-Z]\w*|[|\\[\]])+/.source,e.languages.phpdoc=e.languages.extend("javadoclike",{parameter:{pattern:RegExp("(@(?:global|param|property(?:-read|-write)?|var)\\s+(?:"+t+"\\s+)?)\\$\\w+"),lookbehind:!0}}),e.languages.insertBefore("phpdoc","keyword",{"class-name":[{pattern:RegExp("(@(?:global|package|param|property(?:-read|-write)?|return|subpackage|throws|var)\\s+)"+t),lookbehind:!0,inside:{keyword:/\b(?:array|bool|boolean|callback|double|false|float|int|integer|mixed|null|object|resource|self|string|true|void)\b/,punctuation:/[|\\[\]()]/}}]}),e.languages.javadoclike.addSupport("php",e.languages.phpdoc)}e.exports=o,o.displayName="phpdoc",o.aliases=[]},46529:function(e,t,n){"use strict";var r=n(13880);function i(e){e.register(r),e.languages.plsql=e.languages.extend("sql",{comment:{pattern:/\/\*[\s\S]*?\*\/|--.*/,greedy:!0},keyword:/\b(?:A|ACCESSIBLE|ADD|AGENT|AGGREGATE|ALL|ALTER|AND|ANY|ARRAY|AS|ASC|AT|ATTRIBUTE|AUTHID|AVG|BEGIN|BETWEEN|BFILE_BASE|BINARY|BLOB_BASE|BLOCK|BODY|BOTH|BOUND|BULK|BY|BYTE|C|CALL|CALLING|CASCADE|CASE|CHAR|CHARACTER|CHARSET|CHARSETFORM|CHARSETID|CHAR_BASE|CHECK|CLOB_BASE|CLONE|CLOSE|CLUSTER|CLUSTERS|COLAUTH|COLLECT|COLUMNS|COMMENT|COMMIT|COMMITTED|COMPILED|COMPRESS|CONNECT|CONSTANT|CONSTRUCTOR|CONTEXT|CONTINUE|CONVERT|COUNT|CRASH|CREATE|CREDENTIAL|CURRENT|CURSOR|CUSTOMDATUM|DANGLING|DATA|DATE|DATE_BASE|DAY|DECLARE|DEFAULT|DEFINE|DELETE|DESC|DETERMINISTIC|DIRECTORY|DISTINCT|DOUBLE|DROP|DURATION|ELEMENT|ELSE|ELSIF|EMPTY|END|ESCAPE|EXCEPT|EXCEPTION|EXCEPTIONS|EXCLUSIVE|EXECUTE|EXISTS|EXIT|EXTERNAL|FETCH|FINAL|FIRST|FIXED|FLOAT|FOR|FORALL|FORCE|FROM|FUNCTION|GENERAL|GOTO|GRANT|GROUP|HASH|HAVING|HEAP|HIDDEN|HOUR|IDENTIFIED|IF|IMMEDIATE|IMMUTABLE|IN|INCLUDING|INDEX|INDEXES|INDICATOR|INDICES|INFINITE|INSERT|INSTANTIABLE|INT|INTERFACE|INTERSECT|INTERVAL|INTO|INVALIDATE|IS|ISOLATION|JAVA|LANGUAGE|LARGE|LEADING|LENGTH|LEVEL|LIBRARY|LIKE|LIKE2|LIKE4|LIKEC|LIMIT|LIMITED|LOCAL|LOCK|LONG|LOOP|MAP|MAX|MAXLEN|MEMBER|MERGE|MIN|MINUS|MINUTE|MOD|MODE|MODIFY|MONTH|MULTISET|MUTABLE|NAME|NAN|NATIONAL|NATIVE|NCHAR|NEW|NOCOMPRESS|NOCOPY|NOT|NOWAIT|NULL|NUMBER_BASE|OBJECT|OCICOLL|OCIDATE|OCIDATETIME|OCIDURATION|OCIINTERVAL|OCILOBLOCATOR|OCINUMBER|OCIRAW|OCIREF|OCIREFCURSOR|OCIROWID|OCISTRING|OCITYPE|OF|OLD|ON|ONLY|OPAQUE|OPEN|OPERATOR|OPTION|OR|ORACLE|ORADATA|ORDER|ORGANIZATION|ORLANY|ORLVARY|OTHERS|OUT|OVERLAPS|OVERRIDING|PACKAGE|PARALLEL_ENABLE|PARAMETER|PARAMETERS|PARENT|PARTITION|PASCAL|PERSISTABLE|PIPE|PIPELINED|PLUGGABLE|POLYMORPHIC|PRAGMA|PRECISION|PRIOR|PRIVATE|PROCEDURE|PUBLIC|RAISE|RANGE|RAW|READ|RECORD|REF|REFERENCE|RELIES_ON|REM|REMAINDER|RENAME|RESOURCE|RESULT|RESULT_CACHE|RETURN|RETURNING|REVERSE|REVOKE|ROLLBACK|ROW|SAMPLE|SAVE|SAVEPOINT|SB1|SB2|SB4|SECOND|SEGMENT|SELECT|SELF|SEPARATE|SEQUENCE|SERIALIZABLE|SET|SHARE|SHORT|SIZE|SIZE_T|SOME|SPARSE|SQL|SQLCODE|SQLDATA|SQLNAME|SQLSTATE|STANDARD|START|STATIC|STDDEV|STORED|STRING|STRUCT|STYLE|SUBMULTISET|SUBPARTITION|SUBSTITUTABLE|SUBTYPE|SUM|SYNONYM|TABAUTH|TABLE|TDO|THE|THEN|TIME|TIMESTAMP|TIMEZONE_ABBR|TIMEZONE_HOUR|TIMEZONE_MINUTE|TIMEZONE_REGION|TO|TRAILING|TRANSACTION|TRANSACTIONAL|TRUSTED|TYPE|UB1|UB2|UB4|UNDER|UNION|UNIQUE|UNPLUG|UNSIGNED|UNTRUSTED|UPDATE|USE|USING|VALIST|VALUE|VALUES|VARIABLE|VARIANCE|VARRAY|VARYING|VIEW|VIEWS|VOID|WHEN|WHERE|WHILE|WITH|WORK|WRAPPED|WRITE|YEAR|ZONE)\b/i,operator:/:=?|=>|[<>^~!]=|\.\.|\|\||\*\*|[-+*/%<>=@]/}),e.languages.insertBefore("plsql","operator",{label:{pattern:/<<\s*\w+\s*>>/,alias:"symbol"}})}e.exports=i,i.displayName="plsql",i.aliases=[]},67512:function(e){"use strict";function t(e){e.languages.powerquery={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},"quoted-identifier":{pattern:/#"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},string:{pattern:/(?:#!)?"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},constant:[/\bDay\.(?:Friday|Monday|Saturday|Sunday|Thursday|Tuesday|Wednesday)\b/,/\bTraceLevel\.(?:Critical|Error|Information|Verbose|Warning)\b/,/\bOccurrence\.(?:All|First|Last)\b/,/\bOrder\.(?:Ascending|Descending)\b/,/\bRoundingMode\.(?:AwayFromZero|Down|ToEven|TowardZero|Up)\b/,/\bMissingField\.(?:Error|Ignore|UseNull)\b/,/\bQuoteStyle\.(?:Csv|None)\b/,/\bJoinKind\.(?:FullOuter|Inner|LeftAnti|LeftOuter|RightAnti|RightOuter)\b/,/\bGroupKind\.(?:Global|Local)\b/,/\bExtraValues\.(?:Error|Ignore|List)\b/,/\bJoinAlgorithm\.(?:Dynamic|LeftHash|LeftIndex|PairwiseHash|RightHash|RightIndex|SortMerge)\b/,/\bJoinSide\.(?:Left|Right)\b/,/\bPrecision\.(?:Decimal|Double)\b/,/\bRelativePosition\.From(?:End|Start)\b/,/\bTextEncoding\.(?:Ascii|BigEndianUnicode|Unicode|Utf16|Utf8|Windows)\b/,/\b(?:Any|Binary|Date|DateTime|DateTimeZone|Duration|Function|Int16|Int32|Int64|Int8|List|Logical|None|Number|Record|Table|Text|Time)\.Type\b/,/\bnull\b/],boolean:/\b(?:false|true)\b/,keyword:/\b(?:and|as|each|else|error|if|in|is|let|meta|not|nullable|optional|or|otherwise|section|shared|then|try|type)\b|#(?:binary|date|datetime|datetimezone|duration|infinity|nan|sections|shared|table|time)\b/,function:{pattern:/(^|[^#\w.])[a-z_][\w.]*(?=\s*\()/i,lookbehind:!0},"data-type":{pattern:/\b(?:any|anynonnull|binary|date|datetime|datetimezone|duration|function|list|logical|none|number|record|table|text|time)\b/,alias:"class-name"},number:{pattern:/\b0x[\da-f]+\b|(?:[+-]?(?:\b\d+\.)?\b\d+|[+-]\.\d+|(^|[^.])\B\.\d+)(?:e[+-]?\d+)?\b/i,lookbehind:!0},operator:/[-+*\/&?@^]|<(?:=>?|>)?|>=?|=>?|\.\.\.?/,punctuation:/[,;\[\](){}]/},e.languages.pq=e.languages.powerquery,e.languages.mscript=e.languages.powerquery}e.exports=t,t.displayName="powerquery",t.aliases=[]},75934:function(e){"use strict";function t(e){var t;(t=e.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/}).string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:t},boolean:t.boolean,variable:t.variable}}e.exports=t,t.displayName="powershell",t.aliases=[]},91855:function(e){"use strict";function t(e){e.languages.processing=e.languages.extend("clike",{keyword:/\b(?:break|case|catch|class|continue|default|else|extends|final|for|if|implements|import|new|null|private|public|return|static|super|switch|this|try|void|while)\b/,function:/\b\w+(?=\s*\()/,operator:/<[<=]?|>[>=]?|&&?|\|\|?|[%?]|[!=+\-*\/]=?/}),e.languages.insertBefore("processing","number",{constant:/\b(?!XML\b)[A-Z][A-Z\d_]+\b/,type:{pattern:/\b(?:boolean|byte|char|color|double|float|int|[A-Z]\w*)\b/,alias:"class-name"}})}e.exports=t,t.displayName="processing",t.aliases=[]},57378:function(e){"use strict";function t(e){e.languages.prolog={comment:{pattern:/\/\*[\s\S]*?\*\/|%.*/,greedy:!0},string:{pattern:/(["'])(?:\1\1|\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1(?!\1)/,greedy:!0},builtin:/\b(?:fx|fy|xf[xy]?|yfx?)\b/,function:/\b[a-z]\w*(?:(?=\()|\/\d+)/,number:/\b\d+(?:\.\d*)?/,operator:/[:\\=><\-?*@\/;+^|!$.]+|\b(?:is|mod|not|xor)\b/,punctuation:/[(){}\[\],]/}}e.exports=t,t.displayName="prolog",t.aliases=[]},68233:function(e){"use strict";function t(e){var t,n;n=["sum","min","max","avg","group","stddev","stdvar","count","count_values","bottomk","topk","quantile"].concat(t=["on","ignoring","group_right","group_left","by","without"],["offset"]),e.languages.promql={comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},"vector-match":{pattern:RegExp("((?:"+t.join("|")+")\\s*)\\([^)]*\\)"),lookbehind:!0,inside:{"label-key":{pattern:/\b[^,]+\b/,alias:"attr-name"},punctuation:/[(),]/}},"context-labels":{pattern:/\{[^{}]*\}/,inside:{"label-key":{pattern:/\b[a-z_]\w*(?=\s*(?:=|![=~]))/,alias:"attr-name"},"label-value":{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0,alias:"attr-value"},punctuation:/\{|\}|=~?|![=~]|,/}},"context-range":[{pattern:/\[[\w\s:]+\]/,inside:{punctuation:/\[|\]|:/,"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}},{pattern:/(\boffset\s+)\w+/,lookbehind:!0,inside:{"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}}],keyword:RegExp("\\b(?:"+n.join("|")+")\\b","i"),function:/\b[a-z_]\w*(?=\s*\()/i,number:/[-+]?(?:(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[-+]?\d+)?\b|\b(?:0x[0-9a-f]+|nan|inf)\b)/i,operator:/[\^*/%+-]|==|!=|<=|<|>=|>|\b(?:and|or|unless)\b/i,punctuation:/[{};()`,.[\]]/}}e.exports=t,t.displayName="promql",t.aliases=[]},79739:function(e){"use strict";function t(e){e.languages.properties={comment:/^[ \t]*[#!].*$/m,"attr-value":{pattern:/(^[ \t]*(?:\\(?:\r\n|[\s\S])|[^\\\s:=])+(?: *[=:] *(?! )| ))(?:\\(?:\r\n|[\s\S])|[^\\\r\n])+/m,lookbehind:!0},"attr-name":/^[ \t]*(?:\\(?:\r\n|[\s\S])|[^\\\s:=])+(?= *[=:]| )/m,punctuation:/[=:]/}}e.exports=t,t.displayName="properties",t.aliases=[]},19581:function(e){"use strict";function t(e){var t;t=/\b(?:bool|bytes|double|s?fixed(?:32|64)|float|[su]?int(?:32|64)|string)\b/,e.languages.protobuf=e.languages.extend("clike",{"class-name":[{pattern:/(\b(?:enum|extend|message|service)\s+)[A-Za-z_]\w*(?=\s*\{)/,lookbehind:!0},{pattern:/(\b(?:rpc\s+\w+|returns)\s*\(\s*(?:stream\s+)?)\.?[A-Za-z_]\w*(?:\.[A-Za-z_]\w*)*(?=\s*\))/,lookbehind:!0}],keyword:/\b(?:enum|extend|extensions|import|message|oneof|option|optional|package|public|repeated|required|reserved|returns|rpc(?=\s+\w)|service|stream|syntax|to)\b(?!\s*=\s*\d)/,function:/\b[a-z_]\w*(?=\s*\()/i}),e.languages.insertBefore("protobuf","operator",{map:{pattern:/\bmap<\s*[\w.]+\s*,\s*[\w.]+\s*>(?=\s+[a-z_]\w*\s*[=;])/i,alias:"class-name",inside:{punctuation:/[<>.,]/,builtin:t}},builtin:t,"positional-class-name":{pattern:/(?:\b|\B\.)[a-z_]\w*(?:\.[a-z_]\w*)*(?=\s+[a-z_]\w*\s*[=;])/i,alias:"class-name",inside:{punctuation:/\./}},annotation:{pattern:/(\[\s*)[a-z_]\w*(?=\s*=)/i,lookbehind:!0}})}e.exports=t,t.displayName="protobuf",t.aliases=[]},65526:function(e){"use strict";function t(e){e.languages.psl={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0,inside:{symbol:/\\[ntrbA-Z"\\]/}},"heredoc-string":{pattern:/<<<([a-zA-Z_]\w*)[\r\n](?:.*[\r\n])*?\1\b/,alias:"string",greedy:!0},keyword:/\b(?:__multi|__single|case|default|do|else|elsif|exit|export|for|foreach|function|if|last|line|local|next|requires|return|switch|until|while|word)\b/,constant:/\b(?:ALARM|CHART_ADD_GRAPH|CHART_DELETE_GRAPH|CHART_DESTROY|CHART_LOAD|CHART_PRINT|EOF|OFFLINE|OK|PSL_PROF_LOG|R_CHECK_HORIZ|R_CHECK_VERT|R_CLICKER|R_COLUMN|R_FRAME|R_ICON|R_LABEL|R_LABEL_CENTER|R_LIST_MULTIPLE|R_LIST_MULTIPLE_ND|R_LIST_SINGLE|R_LIST_SINGLE_ND|R_MENU|R_POPUP|R_POPUP_SCROLLED|R_RADIO_HORIZ|R_RADIO_VERT|R_ROW|R_SCALE_HORIZ|R_SCALE_VERT|R_SEP_HORIZ|R_SEP_VERT|R_SPINNER|R_TEXT_FIELD|R_TEXT_FIELD_LABEL|R_TOGGLE|TRIM_LEADING|TRIM_LEADING_AND_TRAILING|TRIM_REDUNDANT|TRIM_TRAILING|VOID|WARN)\b/,boolean:/\b(?:FALSE|False|NO|No|TRUE|True|YES|Yes|false|no|true|yes)\b/,variable:/\b(?:PslDebug|errno|exit_status)\b/,builtin:{pattern:/\b(?:PslExecute|PslFunctionCall|PslFunctionExists|PslSetOptions|_snmp_debug|acos|add_diary|annotate|annotate_get|ascii_to_ebcdic|asctime|asin|atan|atexit|batch_set|blackout|cat|ceil|chan_exists|change_state|close|code_cvt|cond_signal|cond_wait|console_type|convert_base|convert_date|convert_locale_date|cos|cosh|create|date|dcget_text|destroy|destroy_lock|dget_text|difference|dump_hist|ebcdic_to_ascii|encrypt|event_archive|event_catalog_get|event_check|event_query|event_range_manage|event_range_query|event_report|event_schedule|event_trigger|event_trigger2|execute|exists|exp|fabs|file|floor|fmod|fopen|fseek|ftell|full_discovery|get|get_chan_info|get_ranges|get_text|get_vars|getenv|gethostinfo|getpid|getpname|grep|history|history_get_retention|in_transition|index|int|internal|intersection|is_var|isnumber|join|kill|length|lines|lock|lock_info|log|log10|loge|matchline|msg_check|msg_get_format|msg_get_severity|msg_printf|msg_sprintf|ntharg|nthargf|nthline|nthlinef|num_bytes|num_consoles|pconfig|popen|poplines|pow|print|printf|proc_exists|process|random|read|readln|refresh_parameters|remote_check|remote_close|remote_event_query|remote_event_trigger|remote_file_send|remote_open|remove|replace|rindex|sec_check_priv|sec_store_get|sec_store_set|set|set_alarm_ranges|set_locale|share|sin|sinh|sleep|snmp_agent_config|snmp_agent_start|snmp_agent_stop|snmp_close|snmp_config|snmp_get|snmp_get_next|snmp_h_get|snmp_h_get_next|snmp_h_set|snmp_open|snmp_set|snmp_trap_ignore|snmp_trap_listen|snmp_trap_raise_std_trap|snmp_trap_receive|snmp_trap_register_im|snmp_trap_send|snmp_walk|sopen|sort|splitline|sprintf|sqrt|srandom|str_repeat|strcasecmp|subset|substr|system|tail|tan|tanh|text_domain|time|tmpnam|tolower|toupper|trace_psl_process|trim|union|unique|unlock|unset|va_arg|va_start|write)\b/,alias:"builtin-function"},"foreach-variable":{pattern:/(\bforeach\s+(?:(?:\w+\b|"(?:\\.|[^\\"])*")\s+){0,2})[_a-zA-Z]\w*(?=\s*\()/,lookbehind:!0,greedy:!0},function:/\b[_a-z]\w*\b(?=\s*\()/i,number:/\b(?:0x[0-9a-f]+|\d+(?:\.\d+)?)\b/i,operator:/--|\+\+|&&=?|\|\|=?|<<=?|>>=?|[=!]~|[-+*/%&|^!=<>]=?|\.|[:?]/,punctuation:/[(){}\[\];,]/}}e.exports=t,t.displayName="psl",t.aliases=[]},58423:function(e){"use strict";function t(e){!function(e){e.languages.pug={comment:{pattern:/(^([\t ]*))\/\/.*(?:(?:\r?\n|\r)\2[\t ].+)*/m,lookbehind:!0},"multiline-script":{pattern:/(^([\t ]*)script\b.*\.[\t ]*)(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0,inside:e.languages.javascript},filter:{pattern:/(^([\t ]*)):.+(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"variable"},text:/\S[\s\S]*/}},"multiline-plain-text":{pattern:/(^([\t ]*)[\w\-#.]+\.[\t ]*)(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0},markup:{pattern:/(^[\t ]*)<.+/m,lookbehind:!0,inside:e.languages.markup},doctype:{pattern:/((?:^|\n)[\t ]*)doctype(?: .+)?/,lookbehind:!0},"flow-control":{pattern:/(^[\t ]*)(?:case|default|each|else|if|unless|when|while)\b(?: .+)?/m,lookbehind:!0,inside:{each:{pattern:/^each .+? in\b/,inside:{keyword:/\b(?:each|in)\b/,punctuation:/,/}},branch:{pattern:/^(?:case|default|else|if|unless|when|while)\b/,alias:"keyword"},rest:e.languages.javascript}},keyword:{pattern:/(^[\t ]*)(?:append|block|extends|include|prepend)\b.+/m,lookbehind:!0},mixin:[{pattern:/(^[\t ]*)mixin .+/m,lookbehind:!0,inside:{keyword:/^mixin/,function:/\w+(?=\s*\(|\s*$)/,punctuation:/[(),.]/}},{pattern:/(^[\t ]*)\+.+/m,lookbehind:!0,inside:{name:{pattern:/^\+\w+/,alias:"function"},rest:e.languages.javascript}}],script:{pattern:/(^[\t ]*script(?:(?:&[^(]+)?\([^)]+\))*[\t ]).+/m,lookbehind:!0,inside:e.languages.javascript},"plain-text":{pattern:/(^[\t ]*(?!-)[\w\-#.]*[\w\-](?:(?:&[^(]+)?\([^)]+\))*\/?[\t ]).+/m,lookbehind:!0},tag:{pattern:/(^[\t ]*)(?!-)[\w\-#.]*[\w\-](?:(?:&[^(]+)?\([^)]+\))*\/?:?/m,lookbehind:!0,inside:{attributes:[{pattern:/&[^(]+\([^)]+\)/,inside:e.languages.javascript},{pattern:/\([^)]+\)/,inside:{"attr-value":{pattern:/(=\s*(?!\s))(?:\{[^}]*\}|[^,)\r\n]+)/,lookbehind:!0,inside:e.languages.javascript},"attr-name":/[\w-]+(?=\s*!?=|\s*[,)])/,punctuation:/[!=(),]+/}}],punctuation:/:/,"attr-id":/#[\w\-]+/,"attr-class":/\.[\w\-]+/}},code:[{pattern:/(^[\t ]*(?:-|!?=)).+/m,lookbehind:!0,inside:e.languages.javascript}],punctuation:/[.\-!=|]+/};for(var t=/(^([\t ]*)):<filter_name>(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/.source,n=[{filter:"atpl",language:"twig"},{filter:"coffee",language:"coffeescript"},"ejs","handlebars","less","livescript","markdown",{filter:"sass",language:"scss"},"stylus"],r={},i=0,o=n.length;i<o;i++){var a=n[i];a="string"==typeof a?{filter:a,language:a}:a,e.languages[a.language]&&(r["filter-"+a.filter]={pattern:RegExp(t.replace("<filter_name>",function(){return a.filter}),"m"),lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"variable"},text:{pattern:/\S[\s\S]*/,alias:[a.language,"language-"+a.language],inside:e.languages[a.language]}}})}e.languages.insertBefore("pug","filter",r)}(e)}e.exports=t,t.displayName="pug",t.aliases=[]},24997:function(e){"use strict";function t(e){var t;e.languages.puppet={heredoc:[{pattern:/(@\("([^"\r\n\/):]+)"(?:\/[nrts$uL]*)?\).*(?:\r?\n|\r))(?:.*(?:\r?\n|\r(?!\n)))*?[ \t]*(?:\|[ \t]*)?(?:-[ \t]*)?\2/,lookbehind:!0,alias:"string",inside:{punctuation:/(?=\S).*\S(?= *$)/}},{pattern:/(@\(([^"\r\n\/):]+)(?:\/[nrts$uL]*)?\).*(?:\r?\n|\r))(?:.*(?:\r?\n|\r(?!\n)))*?[ \t]*(?:\|[ \t]*)?(?:-[ \t]*)?\2/,lookbehind:!0,greedy:!0,alias:"string",inside:{punctuation:/(?=\S).*\S(?= *$)/}},{pattern:/@\("?(?:[^"\r\n\/):]+)"?(?:\/[nrts$uL]*)?\)/,alias:"string",inside:{punctuation:{pattern:/(\().+?(?=\))/,lookbehind:!0}}}],"multiline-comment":{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0,greedy:!0,alias:"comment"},regex:{pattern:/((?:\bnode\s+|[~=\(\[\{,]\s*|[=+]>\s*|^\s*))\/(?:[^\/\\]|\\[\s\S])+\/(?:[imx]+\b|\B)/,lookbehind:!0,greedy:!0,inside:{"extended-regex":{pattern:/^\/(?:[^\/\\]|\\[\s\S])+\/[im]*x[im]*$/,inside:{comment:/#.*/}}}},comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},string:{pattern:/(["'])(?:\$\{(?:[^'"}]|(["'])(?:(?!\2)[^\\]|\\[\s\S])*\2)+\}|\$(?!\{)|(?!\1)[^\\$]|\\[\s\S])*\1/,greedy:!0,inside:{"double-quoted":{pattern:/^"[\s\S]*"$/,inside:{}}}},variable:{pattern:/\$(?:::)?\w+(?:::\w+)*/,inside:{punctuation:/::/}},"attr-name":/(?:\b\w+|\*)(?=\s*=>)/,function:[{pattern:/(\.)(?!\d)\w+/,lookbehind:!0},/\b(?:contain|debug|err|fail|include|info|notice|realize|require|tag|warning)\b|\b(?!\d)\w+(?=\()/],number:/\b(?:0x[a-f\d]+|\d+(?:\.\d+)?(?:e-?\d+)?)\b/i,boolean:/\b(?:false|true)\b/,keyword:/\b(?:application|attr|case|class|consumes|default|define|else|elsif|function|if|import|inherits|node|private|produces|type|undef|unless)\b/,datatype:{pattern:/\b(?:Any|Array|Boolean|Callable|Catalogentry|Class|Collection|Data|Default|Enum|Float|Hash|Integer|NotUndef|Numeric|Optional|Pattern|Regexp|Resource|Runtime|Scalar|String|Struct|Tuple|Type|Undef|Variant)\b/,alias:"symbol"},operator:/=[=~>]?|![=~]?|<(?:<\|?|[=~|-])?|>[>=]?|->?|~>|\|>?>?|[*\/%+?]|\b(?:and|in|or)\b/,punctuation:/[\[\]{}().,;]|:+/},t=[{pattern:/(^|[^\\])\$\{(?:[^'"{}]|\{[^}]*\}|(["'])(?:(?!\2)[^\\]|\\[\s\S])*\2)+\}/,lookbehind:!0,inside:{"short-variable":{pattern:/(^\$\{)(?!\w+\()(?:::)?\w+(?:::\w+)*/,lookbehind:!0,alias:"variable",inside:{punctuation:/::/}},delimiter:{pattern:/^\$/,alias:"variable"},rest:e.languages.puppet}},{pattern:/(^|[^\\])\$(?:::)?\w+(?:::\w+)*/,lookbehind:!0,alias:"variable",inside:{punctuation:/::/}}],e.languages.puppet.heredoc[0].inside.interpolation=t,e.languages.puppet.string.inside["double-quoted"].inside.interpolation=t}e.exports=t,t.displayName="puppet",t.aliases=[]},33047:function(e){"use strict";function t(e){var t;e.languages.pure={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0},/#!.+/],"inline-lang":{pattern:/%<[\s\S]+?%>/,greedy:!0,inside:{lang:{pattern:/(^%< *)-\*-.+?-\*-/,lookbehind:!0,alias:"comment"},delimiter:{pattern:/^%<.*|%>$/,alias:"punctuation"}}},string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},number:{pattern:/((?:\.\.)?)(?:\b(?:inf|nan)\b|\b0x[\da-f]+|(?:\b(?:0b)?\d+(?:\.\d+)?|\B\.\d+)(?:e[+-]?\d+)?L?)/i,lookbehind:!0},keyword:/\b(?:NULL|ans|break|bt|case|catch|cd|clear|const|def|del|dump|else|end|exit|extern|false|force|help|if|infix[lr]?|interface|let|ls|mem|namespace|nonfix|of|otherwise|outfix|override|postfix|prefix|private|public|pwd|quit|run|save|show|stats|then|throw|trace|true|type|underride|using|when|with)\b/,function:/\b(?:abs|add_(?:addr|constdef|(?:fundef|interface|macdef|typedef)(?:_at)?|vardef)|all|any|applp?|arity|bigintp?|blob(?:_crc|_size|p)?|boolp?|byte_c?string(?:_pointer)?|byte_(?:matrix|pointer)|calloc|cat|catmap|ceil|char[ps]?|check_ptrtag|chr|clear_sentry|clearsym|closurep?|cmatrixp?|cols?|colcat(?:map)?|colmap|colrev|colvector(?:p|seq)?|complex(?:_float_(?:matrix|pointer)|_matrix(?:_view)?|_pointer|p)?|conj|cookedp?|cst|cstring(?:_(?:dup|list|vector))?|curry3?|cyclen?|del_(?:constdef|fundef|interface|macdef|typedef|vardef)|delete|diag(?:mat)?|dim|dmatrixp?|do|double(?:_matrix(?:_view)?|_pointer|p)?|dowith3?|drop|dropwhile|eval(?:cmd)?|exactp|filter|fix|fixity|flip|float(?:_matrix|_pointer)|floor|fold[lr]1?|frac|free|funp?|functionp?|gcd|get(?:_(?:byte|constdef|double|float|fundef|int(?:64)?|interface(?:_typedef)?|long|macdef|pointer|ptrtag|sentry|short|string|typedef|vardef))?|globsym|hash|head|id|im|imatrixp?|index|inexactp|infp|init|insert|int(?:_matrix(?:_view)?|_pointer|p)?|int64_(?:matrix|pointer)|integerp?|iteraten?|iterwhile|join|keys?|lambdap?|last(?:err(?:pos)?)?|lcd|list[2p]?|listmap|make_ptrtag|malloc|map|matcat|matrixp?|max|member|min|nanp|nargs|nmatrixp?|null|numberp?|ord|pack(?:ed)?|pointer(?:_cast|_tag|_type|p)?|pow|pred|ptrtag|put(?:_(?:byte|double|float|int(?:64)?|long|pointer|short|string))?|rationalp?|re|realp?|realloc|recordp?|redim|reduce(?:_with)?|refp?|repeatn?|reverse|rlistp?|round|rows?|rowcat(?:map)?|rowmap|rowrev|rowvector(?:p|seq)?|same|scan[lr]1?|sentry|sgn|short_(?:matrix|pointer)|slice|smatrixp?|sort|split|str|strcat|stream|stride|string(?:_(?:dup|list|vector)|p)?|subdiag(?:mat)?|submat|subseq2?|substr|succ|supdiag(?:mat)?|symbolp?|tail|take|takewhile|thunkp?|transpose|trunc|tuplep?|typep|ubyte|uint(?:64)?|ulong|uncurry3?|unref|unzip3?|update|ushort|vals?|varp?|vector(?:p|seq)?|void|zip3?|zipwith3?)\b/,special:{pattern:/\b__[a-z]+__\b/i,alias:"builtin"},operator:/(?:[!"#$%&'*+,\-.\/:<=>?@\\^`|~\u00a1-\u00bf\u00d7-\u00f7\u20d0-\u2bff]|\b_+\b)+|\b(?:and|div|mod|not|or)\b/,punctuation:/[(){}\[\];,|]/},t=/%< *-\*- *<lang>\d* *-\*-[\s\S]+?%>/.source,["c",{lang:"c++",alias:"cpp"},"fortran"].forEach(function(n){var r=n;if("string"!=typeof n&&(r=n.alias,n=n.lang),e.languages[r]){var i={};i["inline-lang-"+r]={pattern:RegExp(t.replace("<lang>",n.replace(/([.+*?\/\\(){}\[\]])/g,"\\$1")),"i"),inside:e.util.clone(e.languages.pure["inline-lang"].inside)},i["inline-lang-"+r].inside.rest=e.util.clone(e.languages[r]),e.languages.insertBefore("pure","inline-lang",i)}}),e.languages.c&&(e.languages.pure["inline-lang"].inside.rest=e.util.clone(e.languages.c))}e.exports=t,t.displayName="pure",t.aliases=[]},39303:function(e){"use strict";function t(e){e.languages.purebasic=e.languages.extend("clike",{comment:/;.*/,keyword:/\b(?:align|and|as|break|calldebugger|case|compilercase|compilerdefault|compilerelse|compilerelseif|compilerendif|compilerendselect|compilererror|compilerif|compilerselect|continue|data|datasection|debug|debuglevel|declare|declarec|declarecdll|declaredll|declaremodule|default|define|dim|disableasm|disabledebugger|disableexplicit|else|elseif|enableasm|enabledebugger|enableexplicit|end|enddatasection|enddeclaremodule|endenumeration|endif|endimport|endinterface|endmacro|endmodule|endprocedure|endselect|endstructure|endstructureunion|endwith|enumeration|extends|fakereturn|for|foreach|forever|global|gosub|goto|if|import|importc|includebinary|includefile|includepath|interface|macro|module|newlist|newmap|next|not|or|procedure|procedurec|procedurecdll|proceduredll|procedurereturn|protected|prototype|prototypec|read|redim|repeat|restore|return|runtime|select|shared|static|step|structure|structureunion|swap|threaded|to|until|wend|while|with|xincludefile|xor)\b/i,function:/\b\w+(?:\.\w+)?\s*(?=\()/,number:/(?:\$[\da-f]+|\b-?(?:\d+(?:\.\d+)?|\.\d+)(?:e[+-]?\d+)?)\b/i,operator:/(?:@\*?|\?|\*)\w+|-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*/@]/}),e.languages.insertBefore("purebasic","keyword",{tag:/#\w+\$?/,asm:{pattern:/(^[\t ]*)!.*/m,lookbehind:!0,alias:"tag",inside:{comment:/;.*/,string:{pattern:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"label-reference-anonymous":{pattern:/(!\s*j[a-z]+\s+)@[fb]/i,lookbehind:!0,alias:"fasm-label"},"label-reference-addressed":{pattern:/(!\s*j[a-z]+\s+)[A-Z._?$@][\w.?$@~#]*/i,lookbehind:!0,alias:"fasm-label"},keyword:[/\b(?:extern|global)\b[^;\r\n]*/i,/\b(?:CPU|DEFAULT|FLOAT)\b.*/],function:{pattern:/^([\t ]*!\s*)[\da-z]+(?=\s|$)/im,lookbehind:!0},"function-inline":{pattern:/(:\s*)[\da-z]+(?=\s)/i,lookbehind:!0,alias:"function"},label:{pattern:/^([\t ]*!\s*)[A-Za-z._?$@][\w.?$@~#]*(?=:)/m,lookbehind:!0,alias:"fasm-label"},register:/\b(?:st\d|[xyz]mm\d\d?|[cdt]r\d|r\d\d?[bwd]?|[er]?[abcd]x|[abcd][hl]|[er]?(?:bp|di|si|sp)|[cdefgs]s|mm\d+)\b/i,number:/(?:\b|-|(?=\$))(?:0[hx](?:[\da-f]*\.)?[\da-f]+(?:p[+-]?\d+)?|\d[\da-f]+[hx]|\$\d[\da-f]*|0[oq][0-7]+|[0-7]+[oq]|0[by][01]+|[01]+[by]|0[dt]\d+|(?:\d+(?:\.\d+)?|\.\d+)(?:\.?e[+-]?\d+)?[dt]?)\b/i,operator:/[\[\]*+\-/%<>=&|$!,.:]/}}}),delete e.languages.purebasic["class-name"],delete e.languages.purebasic.boolean,e.languages.pbfasm=e.languages.purebasic}e.exports=t,t.displayName="purebasic",t.aliases=[]},37922:function(e,t,n){"use strict";var r=n(32997);function i(e){e.register(r),e.languages.purescript=e.languages.extend("haskell",{keyword:/\b(?:ado|case|class|data|derive|do|else|forall|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b|∀/,"import-statement":{pattern:/(^[\t ]*)import\s+[A-Z][\w']*(?:\.[A-Z][\w']*)*(?:\s+as\s+[A-Z][\w']*(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import)\b/,punctuation:/\./}},builtin:/\b(?:absurd|add|ap|append|apply|between|bind|bottom|clamp|compare|comparing|compose|conj|const|degree|discard|disj|div|eq|flap|flip|gcd|identity|ifM|join|lcm|liftA1|liftM1|map|max|mempty|min|mod|mul|negate|not|notEq|one|otherwise|recip|show|sub|top|unit|unless|unlessM|void|when|whenM|zero)\b/,operator:[e.languages.haskell.operator[0],e.languages.haskell.operator[2],/[\xa2-\xa6\xa8\xa9\xac\xae-\xb1\xb4\xb8\xd7\xf7\u02c2-\u02c5\u02d2-\u02df\u02e5-\u02eb\u02ed\u02ef-\u02ff\u0375\u0384\u0385\u03f6\u0482\u058d-\u058f\u0606-\u0608\u060b\u060e\u060f\u06de\u06e9\u06fd\u06fe\u07f6\u07fe\u07ff\u09f2\u09f3\u09fa\u09fb\u0af1\u0b70\u0bf3-\u0bfa\u0c7f\u0d4f\u0d79\u0e3f\u0f01-\u0f03\u0f13\u0f15-\u0f17\u0f1a-\u0f1f\u0f34\u0f36\u0f38\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce\u0fcf\u0fd5-\u0fd8\u109e\u109f\u1390-\u1399\u166d\u17db\u1940\u19de-\u19ff\u1b61-\u1b6a\u1b74-\u1b7c\u1fbd\u1fbf-\u1fc1\u1fcd-\u1fcf\u1fdd-\u1fdf\u1fed-\u1fef\u1ffd\u1ffe\u2044\u2052\u207a-\u207c\u208a-\u208c\u20a0-\u20bf\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211e-\u2123\u2125\u2127\u2129\u212e\u213a\u213b\u2140-\u2144\u214a-\u214d\u214f\u218a\u218b\u2190-\u2307\u230c-\u2328\u232b-\u2426\u2440-\u244a\u249c-\u24e9\u2500-\u2767\u2794-\u27c4\u27c7-\u27e5\u27f0-\u2982\u2999-\u29d7\u29dc-\u29fb\u29fe-\u2b73\u2b76-\u2b95\u2b97-\u2bff\u2ce5-\u2cea\u2e50\u2e51\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u2ff0-\u2ffb\u3004\u3012\u3013\u3020\u3036\u3037\u303e\u303f\u309b\u309c\u3190\u3191\u3196-\u319f\u31c0-\u31e3\u3200-\u321e\u322a-\u3247\u3250\u3260-\u327f\u328a-\u32b0\u32c0-\u33ff\u4dc0-\u4dff\ua490-\ua4c6\ua700-\ua716\ua720\ua721\ua789\ua78a\ua828-\ua82b\ua836-\ua839\uaa77-\uaa79\uab5b\uab6a\uab6b\ufb29\ufbb2-\ufbc1\ufdfc\ufdfd\ufe62\ufe64-\ufe66\ufe69\uff04\uff0b\uff1c-\uff1e\uff3e\uff40\uff5c\uff5e\uffe0-\uffe6\uffe8-\uffee\ufffc\ufffd]/]}),e.languages.purs=e.languages.purescript}e.exports=i,i.displayName="purescript",i.aliases=["purs"]},80678:function(e){"use strict";function t(e){e.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},e.languages.python["string-interpolation"].inside.interpolation.inside.rest=e.languages.python,e.languages.py=e.languages.python}e.exports=t,t.displayName="python",t.aliases=["py"]},93927:function(e){"use strict";function t(e){e.languages.q={string:/"(?:\\.|[^"\\\r\n])*"/,comment:[{pattern:/([\t )\]}])\/.*/,lookbehind:!0,greedy:!0},{pattern:/(^|\r?\n|\r)\/[\t ]*(?:(?:\r?\n|\r)(?:.*(?:\r?\n|\r(?!\n)))*?(?:\\(?=[\t ]*(?:\r?\n|\r))|$)|\S.*)/,lookbehind:!0,greedy:!0},{pattern:/^\\[\t ]*(?:\r?\n|\r)[\s\S]+/m,greedy:!0},{pattern:/^#!.+/m,greedy:!0}],symbol:/`(?::\S+|[\w.]*)/,datetime:{pattern:/0N[mdzuvt]|0W[dtz]|\d{4}\.\d\d(?:m|\.\d\d(?:T(?:\d\d(?::\d\d(?::\d\d(?:[.:]\d\d\d)?)?)?)?)?[dz]?)|\d\d:\d\d(?::\d\d(?:[.:]\d\d\d)?)?[uvt]?/,alias:"number"},number:/\b(?![01]:)(?:0N[hje]?|0W[hj]?|0[wn]|0x[\da-fA-F]+|\d+(?:\.\d*)?(?:e[+-]?\d+)?[hjfeb]?)/,keyword:/\\\w+\b|\b(?:abs|acos|aj0?|all|and|any|asc|asin|asof|atan|attr|avgs?|binr?|by|ceiling|cols|cor|cos|count|cov|cross|csv|cut|delete|deltas|desc|dev|differ|distinct|div|do|dsave|ej|enlist|eval|except|exec|exit|exp|fby|fills|first|fkeys|flip|floor|from|get|getenv|group|gtime|hclose|hcount|hdel|hopen|hsym|iasc|identity|idesc|if|ij|in|insert|inter|inv|keys?|last|like|list|ljf?|load|log|lower|lsq|ltime|ltrim|mavg|maxs?|mcount|md5|mdev|med|meta|mins?|mmax|mmin|mmu|mod|msum|neg|next|not|null|or|over|parse|peach|pj|plist|prds?|prev|prior|rand|rank|ratios|raze|read0|read1|reciprocal|reval|reverse|rload|rotate|rsave|rtrim|save|scan|scov|sdev|select|set|setenv|show|signum|sin|sqrt|ssr?|string|sublist|sums?|sv|svar|system|tables|tan|til|trim|txf|type|uj|ungroup|union|update|upper|upsert|value|var|views?|vs|wavg|where|while|within|wj1?|wsum|ww|xasc|xbar|xcols?|xdesc|xexp|xgroup|xkey|xlog|xprev|xrank)\b/,adverb:{pattern:/['\/\\]:?|\beach\b/,alias:"function"},verb:{pattern:/(?:\B\.\B|\b[01]:|<[=>]?|>=?|[:+\-*%,!?~=|$&#@^]):?|\b_\b:?/,alias:"operator"},punctuation:/[(){}\[\];.]/}}e.exports=t,t.displayName="q",t.aliases=[]},33497:function(e){"use strict";function t(e){!function(e){for(var t=/"(?:\\.|[^\\"\r\n])*"|'(?:\\.|[^\\'\r\n])*'/.source,n=/\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))*\*\//.source,r=/(?:[^\\()[\]{}"'/]|<string>|\/(?![*/])|<comment>|\(<expr>*\)|\[<expr>*\]|\{<expr>*\}|\\[\s\S])/.source.replace(/<string>/g,function(){return t}).replace(/<comment>/g,function(){return n}),i=0;i<2;i++)r=r.replace(/<expr>/g,function(){return r});r=r.replace(/<expr>/g,"[^\\s\\S]"),e.languages.qml={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},"javascript-function":{pattern:RegExp(/((?:^|;)[ \t]*)function\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*\(<js>*\)\s*\{<js>*\}/.source.replace(/<js>/g,function(){return r}),"m"),lookbehind:!0,greedy:!0,alias:"language-javascript",inside:e.languages.javascript},"class-name":{pattern:/((?:^|[:;])[ \t]*)(?!\d)\w+(?=[ \t]*\{|[ \t]+on\b)/m,lookbehind:!0},property:[{pattern:/((?:^|[;{])[ \t]*)(?!\d)\w+(?:\.\w+)*(?=[ \t]*:)/m,lookbehind:!0},{pattern:/((?:^|[;{])[ \t]*)property[ \t]+(?!\d)\w+(?:\.\w+)*[ \t]+(?!\d)\w+(?:\.\w+)*(?=[ \t]*:)/m,lookbehind:!0,inside:{keyword:/^property/,property:/\w+(?:\.\w+)*/}}],"javascript-expression":{pattern:RegExp(/(:[ \t]*)(?![\s;}[])(?:(?!$|[;}])<js>)+/.source.replace(/<js>/g,function(){return r}),"m"),lookbehind:!0,greedy:!0,alias:"language-javascript",inside:e.languages.javascript},string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},keyword:/\b(?:as|import|on)\b/,punctuation:/[{}[\]:;,]/}}(e)}e.exports=t,t.displayName="qml",t.aliases=[]},14756:function(e){"use strict";function t(e){e.languages.qore=e.languages.extend("clike",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:\/\/|#).*)/,lookbehind:!0},string:{pattern:/("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},keyword:/\b(?:abstract|any|assert|binary|bool|boolean|break|byte|case|catch|char|class|code|const|continue|data|default|do|double|else|enum|extends|final|finally|float|for|goto|hash|if|implements|import|inherits|instanceof|int|interface|long|my|native|new|nothing|null|object|our|own|private|reference|rethrow|return|short|soft(?:bool|date|float|int|list|number|string)|static|strictfp|string|sub|super|switch|synchronized|this|throw|throws|transient|try|void|volatile|while)\b/,boolean:/\b(?:false|true)\b/i,function:/\$?\b(?!\d)\w+(?=\()/,number:/\b(?:0b[01]+|0x(?:[\da-f]*\.)?[\da-fp\-]+|(?:\d+(?:\.\d+)?|\.\d+)(?:e\d+)?[df]|(?:\d+(?:\.\d+)?|\.\d+))\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|[!=](?:==?|~)?|>>?=?|<(?:=>?|<=?)?|&[&=]?|\|[|=]?|[*\/%^]=?|[~?])/,lookbehind:!0},variable:/\$(?!\d)\w+\b/})}e.exports=t,t.displayName="qore",t.aliases=[]},69449:function(e){"use strict";function t(e){!function(e){function t(e,t){return e.replace(/<<(\d+)>>/g,function(e,n){return"(?:"+t[+n]+")"})}function n(e,n,r){return RegExp(t(e,n),r||"")}var r={type:"Adj BigInt Bool Ctl Double false Int One Pauli PauliI PauliX PauliY PauliZ Qubit Range Result String true Unit Zero",other:"Adjoint adjoint apply as auto body borrow borrowing Controlled controlled distribute elif else fail fixup for function if in internal intrinsic invert is let mutable namespace new newtype open operation repeat return self set until use using while within"},i=RegExp("\\b(?:"+(r.type+" "+r.other).trim().replace(/ /g,"|")+")\\b"),o=/\b[A-Za-z_]\w*\b/.source,a=t(/<<0>>(?:\s*\.\s*<<0>>)*/.source,[o]),s={keyword:i,punctuation:/[<>()?,.:[\]]/},l=/"(?:\\.|[^\\"])*"/.source;e.languages.qsharp=e.languages.extend("clike",{comment:/\/\/.*/,string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[l]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\b(?:as|open)\s+)<<0>>(?=\s*(?:;|as\b))/.source,[a]),lookbehind:!0,inside:s},{pattern:n(/(\bnamespace\s+)<<0>>(?=\s*\{)/.source,[a]),lookbehind:!0,inside:s}],keyword:i,number:/(?:\b0(?:x[\da-f]+|b[01]+|o[0-7]+)|(?:\B\.\d+|\b\d+(?:\.\d*)?)(?:e[-+]?\d+)?)l?\b/i,operator:/\band=|\bor=|\band\b|\bnot\b|\bor\b|<[-=]|[-=]>|>>>=?|<<<=?|\^\^\^=?|\|\|\|=?|&&&=?|w\/=?|~~~|[*\/+\-^=!%]=?/,punctuation:/::|[{}[\];(),.:]/}),e.languages.insertBefore("qsharp","number",{range:{pattern:/\.\./,alias:"operator"}});var c=function(e,t){for(var n=0;n<2;n++)e=e.replace(/<<self>>/g,function(){return"(?:"+e+")"});return e.replace(/<<self>>/g,"[^\\s\\S]")}(t(/\{(?:[^"{}]|<<0>>|<<self>>)*\}/.source,[l]),0);e.languages.insertBefore("qsharp","string",{"interpolation-string":{pattern:n(/\$"(?:\\.|<<0>>|[^\\"{])*"/.source,[c]),greedy:!0,inside:{interpolation:{pattern:n(/((?:^|[^\\])(?:\\\\)*)<<0>>/.source,[c]),lookbehind:!0,inside:{punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-qsharp",inside:e.languages.qsharp}}},string:/[\s\S]+/}}})}(e),e.languages.qs=e.languages.qsharp}e.exports=t,t.displayName="qsharp",t.aliases=["qs"]},1939:function(e){"use strict";function t(e){e.languages.r={comment:/#.*/,string:{pattern:/(['"])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"percent-operator":{pattern:/%[^%\s]*%/,alias:"operator"},boolean:/\b(?:FALSE|TRUE)\b/,ellipsis:/\.\.(?:\.|\d+)/,number:[/\b(?:Inf|NaN)\b/,/(?:\b0x[\dA-Fa-f]+(?:\.\d*)?|\b\d+(?:\.\d*)?|\B\.\d+)(?:[EePp][+-]?\d+)?[iL]?/],keyword:/\b(?:NA|NA_character_|NA_complex_|NA_integer_|NA_real_|NULL|break|else|for|function|if|in|next|repeat|while)\b/,operator:/->?>?|<(?:=|<?-)?|[>=!]=?|::?|&&?|\|\|?|[+*\/^$@~]/,punctuation:/[(){}\[\],;]/}}e.exports=t,t.displayName="r",t.aliases=[]},81557:function(e,t,n){"use strict";var r=n(13290);function i(e){e.register(r),e.languages.racket=e.languages.extend("scheme",{"lambda-parameter":{pattern:/([(\[]lambda\s+[(\[])[^()\[\]'\s]+/,lookbehind:!0}}),e.languages.insertBefore("racket","string",{lang:{pattern:/^#lang.+/m,greedy:!0,alias:"keyword"}}),e.languages.rkt=e.languages.racket}e.exports=i,i.displayName="racket",i.aliases=["rkt"]},88295:function(e){"use strict";function t(e){e.languages.reason=e.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/}),e.languages.insertBefore("reason","class-name",{char:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,greedy:!0},constructor:/\b[A-Z]\w*\b(?!\s*\.)/,label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete e.languages.reason.function}e.exports=t,t.displayName="reason",t.aliases=[]},34537:function(e){"use strict";function t(e){var t,n,r,i,o;t={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},i=RegExp((r="(?:[^\\\\-]|"+(n=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/).source+")")+"-"+r),o={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"},e.languages.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"char-class-negation":{pattern:/(^\[)\^/,lookbehind:!0,alias:"operator"},"char-class-punctuation":{pattern:/^\[|\]$/,alias:"punctuation"},range:{pattern:i,inside:{escape:n,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":t,"char-set":{pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},escape:n}},"special-escape":t,"char-set":{pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":o}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:n,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,alias:"punctuation",inside:{"group-name":o}},{pattern:/\)/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}}}e.exports=t,t.displayName="regex",t.aliases=[]},80792:function(e){"use strict";function t(e){e.languages.rego={comment:/#.*/,property:{pattern:/(^|[^\\.])(?:"(?:\\.|[^\\"\r\n])*"|`[^`]*`|\b[a-z_]\w*\b)(?=\s*:(?!=))/i,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:as|default|else|import|not|null|package|set(?=\s*\()|some|with)\b/,boolean:/\b(?:false|true)\b/,function:{pattern:/\b[a-z_]\w*\b(?:\s*\.\s*\b[a-z_]\w*\b)*(?=\s*\()/i,inside:{namespace:/\b\w+\b(?=\s*\.)/,punctuation:/\./}},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,operator:/[-+*/%|&]|[<>:=]=?|!=|\b_\b/,punctuation:/[,;.\[\]{}()]/}}e.exports=t,t.displayName="rego",t.aliases=[]},79247:function(e){"use strict";function t(e){e.languages.renpy={comment:{pattern:/(^|[^\\])#.+/,lookbehind:!0},string:{pattern:/("""|''')[\s\S]+?\1|("|')(?:\\.|(?!\2)[^\\])*\2|(?:^#?(?:(?:[0-9a-fA-F]){3}|[0-9a-fA-F]{6})$)/m,greedy:!0},function:/\b[a-z_]\w*(?=\()/i,property:/\b(?:Update|UpdateVersion|action|activate_sound|adv_nvl_transition|after_load_transition|align|alpha|alt|anchor|antialias|area|auto|background|bar_invert|bar_resizing|bar_vertical|black_color|bold|bottom_bar|bottom_gutter|bottom_margin|bottom_padding|box_reverse|box_wrap|can_update|caret|child|color|crop|default_afm_enable|default_afm_time|default_fullscreen|default_text_cps|developer|directory_name|drag_handle|drag_joined|drag_name|drag_raise|draggable|dragged|drop_shadow|drop_shadow_color|droppable|dropped|easein|easeout|edgescroll|end_game_transition|end_splash_transition|enter_replay_transition|enter_sound|enter_transition|enter_yesno_transition|executable_name|exit_replay_transition|exit_sound|exit_transition|exit_yesno_transition|fadein|fadeout|first_indent|first_spacing|fit_first|focus|focus_mask|font|foreground|game_main_transition|get_installed_packages|google_play_key|google_play_salt|ground|has_music|has_sound|has_voice|height|help|hinting|hover|hover_background|hover_color|hover_sound|hovered|hyperlink_functions|idle|idle_color|image_style|include_update|insensitive|insensitive_background|insensitive_color|inside|intra_transition|italic|justify|kerning|keyboard_focus|language|layer_clipping|layers|layout|left_bar|left_gutter|left_margin|left_padding|length|line_leading|line_overlap_split|line_spacing|linear|main_game_transition|main_menu_music|maximum|min_width|minimum|minwidth|modal|mouse|mousewheel|name|narrator_menu|newline_indent|nvl_adv_transition|offset|order_reverse|outlines|overlay_functions|pos|position|prefix|radius|range|rest_indent|right_bar|right_gutter|right_margin|right_padding|rotate|rotate_pad|ruby_style|sample_sound|save_directory|say_attribute_transition|screen_height|screen_width|scrollbars|selected_hover|selected_hover_color|selected_idle|selected_idle_color|selected_insensitive|show_side_image|show_two_window|side_spacing|side_xpos|side_ypos|size|size_group|slow_cps|slow_cps_multiplier|spacing|strikethrough|subpixel|text_align|text_style|text_xpos|text_y_fudge|text_ypos|thumb|thumb_offset|thumb_shadow|thumbnail_height|thumbnail_width|time|top_bar|top_gutter|top_margin|top_padding|translations|underline|unscrollable|update|value|version|version_name|version_tuple|vertical|width|window_hide_transition|window_icon|window_left_padding|window_show_transition|window_title|windows_icon|xadjustment|xalign|xanchor|xanchoraround|xaround|xcenter|xfill|xinitial|xmargin|xmaximum|xminimum|xoffset|xofsset|xpadding|xpos|xsize|xzoom|yadjustment|yalign|yanchor|yanchoraround|yaround|ycenter|yfill|yinitial|ymargin|ymaximum|yminimum|yoffset|ypadding|ypos|ysize|ysizexysize|yzoom|zoom|zorder)\b/,tag:/\b(?:bar|block|button|buttoscreenn|drag|draggroup|fixed|frame|grid|[hv]box|hotbar|hotspot|image|imagebutton|imagemap|input|key|label|menu|mm_menu_frame|mousearea|nvl|parallel|screen|self|side|tag|text|textbutton|timer|vbar|viewport|window)\b|\$/,keyword:/\b(?:None|add|adjustment|alignaround|allow|angle|animation|around|as|assert|behind|box_layout|break|build|cache|call|center|changed|child_size|choice|circles|class|clear|clicked|clipping|clockwise|config|contains|continue|corner1|corner2|counterclockwise|def|default|define|del|delay|disabled|disabled_text|dissolve|elif|else|event|except|exclude|exec|expression|fade|finally|for|from|function|global|gm_root|has|hide|id|if|import|in|init|is|jump|knot|lambda|left|less_rounded|mm_root|movie|music|null|on|onlayer|pass|pause|persistent|play|print|python|queue|raise|random|renpy|repeat|return|right|rounded_window|scene|scope|set|show|slow|slow_abortable|slow_done|sound|stop|store|style|style_group|substitute|suffix|theme|transform|transform_anchor|transpose|try|ui|unhovered|updater|use|voice|while|widget|widget_hover|widget_selected|widget_text|yield)\b/,boolean:/\b(?:[Ff]alse|[Tt]rue)\b/,number:/(?:\b(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?)|\B\.\d+)(?:e[+-]?\d+)?j?/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:and|at|not|or|with)\b/,punctuation:/[{}[\];(),.:]/},e.languages.rpy=e.languages.renpy}e.exports=t,t.displayName="renpy",t.aliases=["rpy"]},71434:function(e){"use strict";function t(e){e.languages.rest={table:[{pattern:/(^[\t ]*)(?:\+[=-]+)+\+(?:\r?\n|\r)(?:\1[+|].+[+|](?:\r?\n|\r))+\1(?:\+[=-]+)+\+/m,lookbehind:!0,inside:{punctuation:/\||(?:\+[=-]+)+\+/}},{pattern:/(^[\t ]*)=+ [ =]*=(?:(?:\r?\n|\r)\1.+)+(?:\r?\n|\r)\1=+ [ =]*=(?=(?:\r?\n|\r){2}|\s*$)/m,lookbehind:!0,inside:{punctuation:/[=-]+/}}],"substitution-def":{pattern:/(^[\t ]*\.\. )\|(?:[^|\s](?:[^|]*[^|\s])?)\| [^:]+::/m,lookbehind:!0,inside:{substitution:{pattern:/^\|(?:[^|\s]|[^|\s][^|]*[^|\s])\|/,alias:"attr-value",inside:{punctuation:/^\||\|$/}},directive:{pattern:/( )(?! )[^:]+::/,lookbehind:!0,alias:"function",inside:{punctuation:/::$/}}}},"link-target":[{pattern:/(^[\t ]*\.\. )\[[^\]]+\]/m,lookbehind:!0,alias:"string",inside:{punctuation:/^\[|\]$/}},{pattern:/(^[\t ]*\.\. )_(?:`[^`]+`|(?:[^:\\]|\\.)+):/m,lookbehind:!0,alias:"string",inside:{punctuation:/^_|:$/}}],directive:{pattern:/(^[\t ]*\.\. )[^:]+::/m,lookbehind:!0,alias:"function",inside:{punctuation:/::$/}},comment:{pattern:/(^[\t ]*\.\.)(?:(?: .+)?(?:(?:\r?\n|\r).+)+| .+)(?=(?:\r?\n|\r){2}|$)/m,lookbehind:!0},title:[{pattern:/^(([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2+)(?:\r?\n|\r).+(?:\r?\n|\r)\1$/m,inside:{punctuation:/^[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+|[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+$/,important:/.+/}},{pattern:/(^|(?:\r?\n|\r){2}).+(?:\r?\n|\r)([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2+(?=\r?\n|\r|$)/,lookbehind:!0,inside:{punctuation:/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+$/,important:/.+/}}],hr:{pattern:/((?:\r?\n|\r){2})([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2{3,}(?=(?:\r?\n|\r){2})/,lookbehind:!0,alias:"punctuation"},field:{pattern:/(^[\t ]*):[^:\r\n]+:(?= )/m,lookbehind:!0,alias:"attr-name"},"command-line-option":{pattern:/(^[\t ]*)(?:[+-][a-z\d]|(?:--|\/)[a-z\d-]+)(?:[ =](?:[a-z][\w-]*|<[^<>]+>))?(?:, (?:[+-][a-z\d]|(?:--|\/)[a-z\d-]+)(?:[ =](?:[a-z][\w-]*|<[^<>]+>))?)*(?=(?:\r?\n|\r)? {2,}\S)/im,lookbehind:!0,alias:"symbol"},"literal-block":{pattern:/::(?:\r?\n|\r){2}([ \t]+)(?![ \t]).+(?:(?:\r?\n|\r)\1.+)*/,inside:{"literal-block-punctuation":{pattern:/^::/,alias:"punctuation"}}},"quoted-literal-block":{pattern:/::(?:\r?\n|\r){2}([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]).*(?:(?:\r?\n|\r)\1.*)*/,inside:{"literal-block-punctuation":{pattern:/^(?:::|([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\1*)/m,alias:"punctuation"}}},"list-bullet":{pattern:/(^[\t ]*)(?:[*+\-•‣⁃]|\(?(?:\d+|[a-z]|[ivxdclm]+)\)|(?:\d+|[a-z]|[ivxdclm]+)\.)(?= )/im,lookbehind:!0,alias:"punctuation"},"doctest-block":{pattern:/(^[\t ]*)>>> .+(?:(?:\r?\n|\r).+)*/m,lookbehind:!0,inside:{punctuation:/^>>>/}},inline:[{pattern:/(^|[\s\-:\/'"<(\[{])(?::[^:]+:`.*?`|`.*?`:[^:]+:|(\*\*?|``?|\|)(?!\s)(?:(?!\2).)*\S\2(?=[\s\-.,:;!?\\\/'")\]}]|$))/m,lookbehind:!0,inside:{bold:{pattern:/(^\*\*).+(?=\*\*$)/,lookbehind:!0},italic:{pattern:/(^\*).+(?=\*$)/,lookbehind:!0},"inline-literal":{pattern:/(^``).+(?=``$)/,lookbehind:!0,alias:"symbol"},role:{pattern:/^:[^:]+:|:[^:]+:$/,alias:"function",inside:{punctuation:/^:|:$/}},"interpreted-text":{pattern:/(^`).+(?=`$)/,lookbehind:!0,alias:"attr-value"},substitution:{pattern:/(^\|).+(?=\|$)/,lookbehind:!0,alias:"attr-value"},punctuation:/\*\*?|``?|\|/}}],link:[{pattern:/\[[^\[\]]+\]_(?=[\s\-.,:;!?\\\/'")\]}]|$)/,alias:"string",inside:{punctuation:/^\[|\]_$/}},{pattern:/(?:\b[a-z\d]+(?:[_.:+][a-z\d]+)*_?_|`[^`]+`_?_|_`[^`]+`)(?=[\s\-.,:;!?\\\/'")\]}]|$)/i,alias:"string",inside:{punctuation:/^_?`|`$|`?_?_$/}}],punctuation:{pattern:/(^[\t ]*)(?:\|(?= |$)|(?:---?|—|\.\.|__)(?= )|\.\.$)/m,lookbehind:!0}}}e.exports=t,t.displayName="rest",t.aliases=[]},35705:function(e){"use strict";function t(e){e.languages.rip={comment:{pattern:/#.*/,greedy:!0},char:{pattern:/\B`[^\s`'",.:;#\/\\()<>\[\]{}]\b/,greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},regex:{pattern:/(^|[^/])\/(?!\/)(?:\[[^\n\r\]]*\]|\\.|[^/\\\r\n\[])+\/(?=\s*(?:$|[\r\n,.;})]))/,lookbehind:!0,greedy:!0},keyword:/(?:=>|->)|\b(?:case|catch|class|else|exit|finally|if|raise|return|switch|try)\b/,builtin:/@|\bSystem\b/,boolean:/\b(?:false|true)\b/,date:/\b\d{4}-\d{2}-\d{2}\b/,time:/\b\d{2}:\d{2}:\d{2}\b/,datetime:/\b\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\b/,symbol:/:[^\d\s`'",.:;#\/\\()<>\[\]{}][^\s`'",.:;#\/\\()<>\[\]{}]*/,number:/[+-]?\b(?:\d+\.\d+|\d+)\b/,punctuation:/(?:\.{2,3})|[`,.:;=\/\\()<>\[\]{}]/,reference:/[^\d\s`'",.:;#\/\\()<>\[\]{}][^\s`'",.:;#\/\\()<>\[\]{}]*/}}e.exports=t,t.displayName="rip",t.aliases=[]},98557:function(e){"use strict";function t(e){e.languages.roboconf={comment:/#.*/,keyword:{pattern:/(^|\s)(?:(?:external|import)\b|(?:facet|instance of)(?=[ \t]+[\w-]+[ \t]*\{))/,lookbehind:!0},component:{pattern:/[\w-]+(?=[ \t]*\{)/,alias:"variable"},property:/[\w.-]+(?=[ \t]*:)/,value:{pattern:/(=[ \t]*(?![ \t]))[^,;]+/,lookbehind:!0,alias:"attr-value"},optional:{pattern:/\(optional\)/,alias:"builtin"},wildcard:{pattern:/(\.)\*/,lookbehind:!0,alias:"operator"},punctuation:/[{},.;:=]/}}e.exports=t,t.displayName="roboconf",t.aliases=[]},67796:function(e){"use strict";function t(e){!function(e){var t={pattern:/(^[ \t]*| {2}|\t)#.*/m,lookbehind:!0,greedy:!0},n={pattern:/((?:^|[^\\])(?:\\{2})*)[$@&%]\{(?:[^{}\r\n]|\{[^{}\r\n]*\})*\}/,lookbehind:!0,inside:{punctuation:/^[$@&%]\{|\}$/}};function r(e,r){var i={};for(var o in i["section-header"]={pattern:/^ ?\*{3}.+?\*{3}/,alias:"keyword"},r)i[o]=r[o];return i.tag={pattern:/([\r\n](?: {2}|\t)[ \t]*)\[[-\w]+\]/,lookbehind:!0,inside:{punctuation:/\[|\]/}},i.variable=n,i.comment=t,{pattern:RegExp(/^ ?\*{3}[ \t]*<name>[ \t]*\*{3}(?:.|[\r\n](?!\*{3}))*/.source.replace(/<name>/g,function(){return e}),"im"),alias:"section",inside:i}}var i={pattern:/(\[Documentation\](?: {2}|\t)[ \t]*)(?![ \t]|#)(?:.|(?:\r\n?|\n)[ \t]*\.{3})+/,lookbehind:!0,alias:"string"},o={pattern:/([\r\n] ?)(?!#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0,alias:"function",inside:{variable:n}},a={pattern:/([\r\n](?: {2}|\t)[ \t]*)(?!\[|\.{3}|#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0,inside:{variable:n}};e.languages.robotframework={settings:r("Settings",{documentation:{pattern:/([\r\n] ?Documentation(?: {2}|\t)[ \t]*)(?![ \t]|#)(?:.|(?:\r\n?|\n)[ \t]*\.{3})+/,lookbehind:!0,alias:"string"},property:{pattern:/([\r\n] ?)(?!\.{3}|#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0}}),variables:r("Variables"),"test-cases":r("Test Cases",{"test-name":o,documentation:i,property:a}),keywords:r("Keywords",{"keyword-name":o,documentation:i,property:a}),tasks:r("Tasks",{"task-name":o,documentation:i,property:a}),comment:t},e.languages.robot=e.languages.robotframework}(e)}e.exports=t,t.displayName="robotframework",t.aliases=[]},22816:function(e){"use strict";function t(e){var t,n,r;e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),t={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}},delete e.languages.ruby.function,n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",r=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source,e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+r),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+r+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby}e.exports=t,t.displayName="ruby",t.aliases=["rb"]},25250:function(e){"use strict";function t(e){!function(e){for(var t=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)t=t.replace(/<self>/g,function(){return t});t=t.replace(/<self>/g,function(){return/[^\s\S]/.source}),e.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.rust["closure-params"].inside.rest=e.languages.rust,e.languages.rust.attribute.inside.string=e.languages.rust.string}(e)}e.exports=t,t.displayName="rust",t.aliases=[]},83413:function(e){"use strict";function t(e){var t,n,r,i,o,a,s,l,c,u,d,p,h,f,g,m,b,v;t=/(?:"(?:""|[^"])*"(?!")|'(?:''|[^'])*'(?!'))/.source,n=/\b(?:\d[\da-f]*x|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,r={pattern:RegExp(t+"[bx]"),alias:"number"},o={pattern:/((?:^|\s|=|\())%(?:ABORT|BY|CMS|COPY|DISPLAY|DO|ELSE|END|EVAL|GLOBAL|GO|GOTO|IF|INC|INCLUDE|INDEX|INPUT|KTRIM|LENGTH|LET|LIST|LOCAL|PUT|QKTRIM|QSCAN|QSUBSTR|QSYSFUNC|QUPCASE|RETURN|RUN|SCAN|SUBSTR|SUPERQ|SYMDEL|SYMEXIST|SYMGLOBL|SYMLOCAL|SYSCALL|SYSEVALF|SYSEXEC|SYSFUNC|SYSGET|SYSRPUT|THEN|TO|TSO|UNQUOTE|UNTIL|UPCASE|WHILE|WINDOW)\b/i,lookbehind:!0,alias:"keyword"},a={pattern:/(^|\s)(?:proc\s+\w+|data(?!=)|quit|run)\b/i,alias:"keyword",lookbehind:!0},s=[/\/\*[\s\S]*?\*\//,{pattern:/(^[ \t]*|;\s*)\*[^;]*;/m,lookbehind:!0}],d={function:u={pattern:/%?\b\w+(?=\()/,alias:"keyword"},"arg-value":{pattern:/(=\s*)[A-Z\.]+/i,lookbehind:!0},operator:/=/,"macro-variable":i={pattern:/&[a-z_]\w*/i},arg:{pattern:/[A-Z]+/i,alias:"keyword"},number:n,"numeric-constant":r,punctuation:c=/[$%@.(){}\[\];,\\]/,string:l={pattern:RegExp(t),greedy:!0}},p={pattern:/\b(?:format|put)\b=?[\w'$.]+/i,inside:{keyword:/^(?:format|put)(?==)/i,equals:/=/,format:{pattern:/(?:\w|\$\d)+\.\d?/,alias:"number"}}},h={pattern:/\b(?:format|put)\s+[\w']+(?:\s+[$.\w]+)+(?=;)/i,inside:{keyword:/^(?:format|put)/i,format:{pattern:/[\w$]+\.\d?/,alias:"number"}}},f={pattern:/((?:^|\s)=?)(?:catname|checkpoint execute_always|dm|endsas|filename|footnote|%include|libname|%list|lock|missing|options|page|resetline|%run|sasfile|skip|sysecho|title\d?)\b/i,lookbehind:!0,alias:"keyword"},g={pattern:/(^|\s)(?:submit(?:\s+(?:load|norun|parseonly))?|endsubmit)\b/i,lookbehind:!0,alias:"keyword"},m=/aStore|accessControl|aggregation|audio|autotune|bayesianNetClassifier|bioMedImage|boolRule|builtins|cardinality|cdm|clustering|conditionalRandomFields|configuration|copula|countreg|dataDiscovery|dataPreprocess|dataSciencePilot|dataStep|decisionTree|deduplication|deepLearn|deepNeural|deepRnn|ds2|ecm|entityRes|espCluster|explainModel|factmac|fastKnn|fcmpact|fedSql|freqTab|gVarCluster|gam|gleam|graphSemiSupLearn|hiddenMarkovModel|hyperGroup|ica|image|iml|kernalPca|langModel|ldaTopic|loadStreams|mbc|mixed|mlTools|modelPublishing|network|neuralNet|nmf|nonParametricBayes|nonlinear|optNetwork|optimization|panel|pca|percentile|phreg|pls|qkb|qlim|quantreg|recommend|regression|reinforcementLearn|robustPca|ruleMining|sampling|sandwich|sccasl|search(?:Analytics)?|sentimentAnalysis|sequence|session(?:Prop)?|severity|simSystem|simple|smartData|sparkEmbeddedProcess|sparseML|spatialreg|spc|stabilityMonitoring|svDataDescription|svm|table|text(?:Filters|Frequency|Mining|Parse|Rule(?:Develop|Score)|Topic|Util)|timeData|transpose|tsInfo|tsReconcile|uniTimeSeries|varReduce/.source,b={pattern:RegExp(/(^|\s)(?:action\s+)?(?:<act>)\.[a-z]+\b[^;]+/.source.replace(/<act>/g,function(){return m}),"i"),lookbehind:!0,inside:{keyword:RegExp(/(?:<act>)\.[a-z]+\b/.source.replace(/<act>/g,function(){return m}),"i"),action:{pattern:/(?:action)/i,alias:"keyword"},comment:s,function:u,"arg-value":d["arg-value"],operator:d.operator,argument:d.arg,number:n,"numeric-constant":r,punctuation:c,string:l}},v={pattern:/((?:^|\s)=?)(?:after|analysis|and|array|barchart|barwidth|begingraph|by|call|cas|cbarline|cfill|class(?:lev)?|close|column|computed?|contains|continue|data(?==)|define|delete|describe|document|do\s+over|do|dol|drop|dul|else|end(?:comp|source)?|entryTitle|eval(?:uate)?|exec(?:ute)?|exit|file(?:name)?|fill(?:attrs)?|flist|fnc|function(?:list)?|global|goto|group(?:by)?|headline|headskip|histogram|if|infile|keep|keylabel|keyword|label|layout|leave|legendlabel|length|libname|loadactionset|merge|midpoints|_?null_|name|noobs|nowd|ods|options|or|otherwise|out(?:put)?|over(?:lay)?|plot|print|put|raise|ranexp|rannor|rbreak|retain|return|select|session|sessref|set|source|statgraph|sum|summarize|table|temp|terminate|then\s+do|then|title\d?|to|var|when|where|xaxisopts|y2axisopts|yaxisopts)\b/i,lookbehind:!0},e.languages.sas={datalines:{pattern:/^([ \t]*)(?:cards|(?:data)?lines);[\s\S]+?^[ \t]*;/im,lookbehind:!0,alias:"string",inside:{keyword:{pattern:/^(?:cards|(?:data)?lines)/i},punctuation:/;/}},"proc-sql":{pattern:/(^proc\s+(?:fed)?sql(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{sql:{pattern:RegExp(/^[ \t]*(?:select|alter\s+table|(?:create|describe|drop)\s+(?:index|table(?:\s+constraints)?|view)|create\s+unique\s+index|insert\s+into|update)(?:<str>|[^;"'])+;/.source.replace(/<str>/g,function(){return t}),"im"),alias:"language-sql",inside:e.languages.sql},"global-statements":f,"sql-statements":{pattern:/(^|\s)(?:disconnect\s+from|begin|commit|exec(?:ute)?|reset|rollback|validate)\b/i,lookbehind:!0,alias:"keyword"},number:n,"numeric-constant":r,punctuation:c,string:l}},"proc-groovy":{pattern:/(^proc\s+groovy(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:s,groovy:{pattern:RegExp(/(^[ \t]*submit(?:\s+(?:load|norun|parseonly))?)(?:<str>|[^"'])+?(?=endsubmit;)/.source.replace(/<str>/g,function(){return t}),"im"),lookbehind:!0,alias:"language-groovy",inside:e.languages.groovy},keyword:v,"submit-statement":g,"global-statements":f,number:n,"numeric-constant":r,punctuation:c,string:l}},"proc-lua":{pattern:/(^proc\s+lua(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:s,lua:{pattern:RegExp(/(^[ \t]*submit(?:\s+(?:load|norun|parseonly))?)(?:<str>|[^"'])+?(?=endsubmit;)/.source.replace(/<str>/g,function(){return t}),"im"),lookbehind:!0,alias:"language-lua",inside:e.languages.lua},keyword:v,"submit-statement":g,"global-statements":f,number:n,"numeric-constant":r,punctuation:c,string:l}},"proc-cas":{pattern:/(^proc\s+cas(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|quit|data);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:s,"statement-var":{pattern:/((?:^|\s)=?)saveresult\s[^;]+/im,lookbehind:!0,inside:{statement:{pattern:/^saveresult\s+\S+/i,inside:{keyword:/^(?:saveresult)/i}},rest:d}},"cas-actions":b,statement:{pattern:/((?:^|\s)=?)(?:default|(?:un)?set|on|output|upload)[^;]+/im,lookbehind:!0,inside:d},step:a,keyword:v,function:u,format:p,altformat:h,"global-statements":f,number:n,"numeric-constant":r,punctuation:c,string:l}},"proc-args":{pattern:RegExp(/(^proc\s+\w+\s+)(?!\s)(?:[^;"']|<str>)+;/.source.replace(/<str>/g,function(){return t}),"im"),lookbehind:!0,inside:d},"macro-keyword":o,"macro-variable":i,"macro-string-functions":{pattern:/((?:^|\s|=))%(?:BQUOTE|NRBQUOTE|NRQUOTE|NRSTR|QUOTE|STR)\(.*?(?:[^%]\))/i,lookbehind:!0,inside:{function:{pattern:/%(?:BQUOTE|NRBQUOTE|NRQUOTE|NRSTR|QUOTE|STR)/i,alias:"keyword"},"macro-keyword":o,"macro-variable":i,"escaped-char":{pattern:/%['"()<>=¬^~;,#]/},punctuation:c}},"macro-declaration":{pattern:/^%macro[^;]+(?=;)/im,inside:{keyword:/%macro/i}},"macro-end":{pattern:/^%mend[^;]+(?=;)/im,inside:{keyword:/%mend/i}},macro:{pattern:/%_\w+(?=\()/,alias:"keyword"},input:{pattern:/\binput\s[-\w\s/*.$&]+;/i,inside:{input:{alias:"keyword",pattern:/^input/i},comment:s,number:n,"numeric-constant":r}},"options-args":{pattern:/(^options)[-'"|/\\<>*+=:()\w\s]*(?=;)/im,lookbehind:!0,inside:d},"cas-actions":b,comment:s,function:u,format:p,altformat:h,"numeric-constant":r,datetime:{pattern:RegExp(t+"(?:dt?|t)"),alias:"number"},string:l,step:a,keyword:v,"operator-keyword":{pattern:/\b(?:eq|ge|gt|in|le|lt|ne|not)\b/i,alias:"operator"},number:n,operator:/\*\*?|\|\|?|!!?|¦¦?|<[>=]?|>[<=]?|[-+\/=&]|[~¬^]=?/,punctuation:c}}e.exports=t,t.displayName="sas",t.aliases=[]},70054:function(e){"use strict";function t(e){var t,n;e.languages.sass=e.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),e.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete e.languages.sass.atrule,t=/\$[-\w]+|#\{\$[-\w]+\}/,n=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}],e.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:t,operator:n}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:t,operator:n,important:e.languages.sass.important}}}),delete e.languages.sass.property,delete e.languages.sass.important,e.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})}e.exports=t,t.displayName="sass",t.aliases=[]},93930:function(e,t,n){"use strict";var r=n(75257);function i(e){e.register(r),e.languages.scala=e.languages.extend("java",{"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/<-|=>|\b(?:abstract|case|catch|class|def|do|else|extends|final|finally|for|forSome|if|implicit|import|lazy|match|new|null|object|override|package|private|protected|return|sealed|self|super|this|throw|trait|try|type|val|var|while|with|yield)\b/,number:/\b0x(?:[\da-f]*\.)?[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e\d+)?[dfl]?/i,builtin:/\b(?:Any|AnyRef|AnyVal|Boolean|Byte|Char|Double|Float|Int|Long|Nothing|Short|String|Unit)\b/,symbol:/'[^\d\s\\]\w*/}),e.languages.insertBefore("scala","triple-quoted-string",{"string-interpolation":{pattern:/\b[a-z]\w*(?:"""(?:[^$]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*?"""|"(?:[^$"\r\n]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*")/i,greedy:!0,inside:{id:{pattern:/^\w+/,greedy:!0,alias:"function"},escape:{pattern:/\\\$"|\$[$"]/,greedy:!0,alias:"symbol"},interpolation:{pattern:/\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,greedy:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:e.languages.scala}}},string:/[\s\S]+/}}}),delete e.languages.scala["class-name"],delete e.languages.scala.function}e.exports=i,i.displayName="scala",i.aliases=[]},13290:function(e){"use strict";function t(e){e.languages.scheme={comment:/;.*|#;\s*(?:\((?:[^()]|\([^()]*\))*\)|\[(?:[^\[\]]|\[[^\[\]]*\])*\])|#\|(?:[^#|]|#(?!\|)|\|(?!#)|#\|(?:[^#|]|#(?!\|)|\|(?!#))*\|#)*\|#/,string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},symbol:{pattern:/'[^()\[\]#'\s]+/,greedy:!0},char:{pattern:/#\\(?:[ux][a-fA-F\d]+\b|[-a-zA-Z]+\b|[\uD800-\uDBFF][\uDC00-\uDFFF]|\S)/,greedy:!0},"lambda-parameter":[{pattern:/((?:^|[^'`#])[(\[]lambda\s+)(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)/,lookbehind:!0},{pattern:/((?:^|[^'`#])[(\[]lambda\s+[(\[])[^()\[\]']+/,lookbehind:!0}],keyword:{pattern:/((?:^|[^'`#])[(\[])(?:begin|case(?:-lambda)?|cond(?:-expand)?|define(?:-library|-macro|-record-type|-syntax|-values)?|defmacro|delay(?:-force)?|do|else|except|export|guard|if|import|include(?:-ci|-library-declarations)?|lambda|let(?:rec)?(?:-syntax|-values|\*)?|let\*-values|only|parameterize|prefix|(?:quasi-?)?quote|rename|set!|syntax-(?:case|rules)|unless|unquote(?:-splicing)?|when)(?=[()\[\]\s]|$)/,lookbehind:!0},builtin:{pattern:/((?:^|[^'`#])[(\[])(?:abs|and|append|apply|assoc|ass[qv]|binary-port\?|boolean=?\?|bytevector(?:-append|-copy|-copy!|-length|-u8-ref|-u8-set!|\?)?|caar|cadr|call-with-(?:current-continuation|port|values)|call\/cc|car|cdar|cddr|cdr|ceiling|char(?:->integer|-ready\?|\?|<\?|<=\?|=\?|>\?|>=\?)|close-(?:input-port|output-port|port)|complex\?|cons|current-(?:error|input|output)-port|denominator|dynamic-wind|eof-object\??|eq\?|equal\?|eqv\?|error|error-object(?:-irritants|-message|\?)|eval|even\?|exact(?:-integer-sqrt|-integer\?|\?)?|expt|features|file-error\?|floor(?:-quotient|-remainder|\/)?|flush-output-port|for-each|gcd|get-output-(?:bytevector|string)|inexact\??|input-port(?:-open\?|\?)|integer(?:->char|\?)|lcm|length|list(?:->string|->vector|-copy|-ref|-set!|-tail|\?)?|make-(?:bytevector|list|parameter|string|vector)|map|max|member|memq|memv|min|modulo|negative\?|newline|not|null\?|number(?:->string|\?)|numerator|odd\?|open-(?:input|output)-(?:bytevector|string)|or|output-port(?:-open\?|\?)|pair\?|peek-char|peek-u8|port\?|positive\?|procedure\?|quotient|raise|raise-continuable|rational\?|rationalize|read-(?:bytevector|bytevector!|char|error\?|line|string|u8)|real\?|remainder|reverse|round|set-c[ad]r!|square|string(?:->list|->number|->symbol|->utf8|->vector|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?|<\?|<=\?|=\?|>\?|>=\?)?|substring|symbol(?:->string|\?|=\?)|syntax-error|textual-port\?|truncate(?:-quotient|-remainder|\/)?|u8-ready\?|utf8->string|values|vector(?:->list|->string|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?)?|with-exception-handler|write-(?:bytevector|char|string|u8)|zero\?)(?=[()\[\]\s]|$)/,lookbehind:!0},operator:{pattern:/((?:^|[^'`#])[(\[])(?:[-+*%/]|[<>]=?|=>?)(?=[()\[\]\s]|$)/,lookbehind:!0},number:{pattern:RegExp(function(e){for(var t in e)e[t]=e[t].replace(/<[\w\s]+>/g,function(t){return"(?:"+e[t].trim()+")"});return e[t]}({"<ureal dec>":/\d+(?:\/\d+)|(?:\d+(?:\.\d*)?|\.\d+)(?:[esfdl][+-]?\d+)?/.source,"<real dec>":/[+-]?<ureal dec>|[+-](?:inf|nan)\.0/.source,"<imaginary dec>":/[+-](?:<ureal dec>|(?:inf|nan)\.0)?i/.source,"<complex dec>":/<real dec>(?:@<real dec>|<imaginary dec>)?|<imaginary dec>/.source,"<num dec>":/(?:#d(?:#[ei])?|#[ei](?:#d)?)?<complex dec>/.source,"<ureal box>":/[0-9a-f]+(?:\/[0-9a-f]+)?/.source,"<real box>":/[+-]?<ureal box>|[+-](?:inf|nan)\.0/.source,"<imaginary box>":/[+-](?:<ureal box>|(?:inf|nan)\.0)?i/.source,"<complex box>":/<real box>(?:@<real box>|<imaginary box>)?|<imaginary box>/.source,"<num box>":/#[box](?:#[ei])?|(?:#[ei])?#[box]<complex box>/.source,"<number>":/(^|[()\[\]\s])(?:<num dec>|<num box>)(?=[()\[\]\s]|$)/.source}),"i"),lookbehind:!0},boolean:{pattern:/(^|[()\[\]\s])#(?:[ft]|false|true)(?=[()\[\]\s]|$)/,lookbehind:!0},function:{pattern:/((?:^|[^'`#])[(\[])(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)(?=[()\[\]\s]|$)/,lookbehind:!0},identifier:{pattern:/(^|[()\[\]\s])\|(?:[^\\|]|\\.)*\|(?=[()\[\]\s]|$)/,lookbehind:!0,greedy:!0},punctuation:/[()\[\]']/}}e.exports=t,t.displayName="scheme",t.aliases=[]},22271:function(e){"use strict";function t(e){e.languages.scss=e.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),e.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),e.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),e.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),e.languages.scss.atrule.inside.rest=e.languages.scss}e.exports=t,t.displayName="scss",t.aliases=[]},33998:function(e,t,n){"use strict";var r=n(83536);function i(e){var t;e.register(r),t=[/"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/.source,/'[^']*'/.source,/\$'(?:[^'\\]|\\[\s\S])*'/.source,/<<-?\s*(["']?)(\w+)\1\s[\s\S]*?[\r\n]\2/.source].join("|"),e.languages["shell-session"]={command:{pattern:RegExp(/^/.source+"(?:"+/[^\s@:$#%*!/\\]+@[^\r\n@:$#%*!/\\]+(?::[^\0-\x1F$#%*?"<>:;|]+)?/.source+"|"+/[/~.][^\0-\x1F$#%*?"<>@:;|]*/.source+")?"+/[$#%](?=\s)/.source+/(?:[^\\\r\n \t'"<$]|[ \t](?:(?!#)|#.*$)|\\(?:[^\r]|\r\n?)|\$(?!')|<(?!<)|<<str>>)+/.source.replace(/<<str>>/g,function(){return t}),"m"),greedy:!0,inside:{info:{pattern:/^[^#$%]+/,alias:"punctuation",inside:{user:/^[^\s@:$#%*!/\\]+@[^\r\n@:$#%*!/\\]+/,punctuation:/:/,path:/[\s\S]+/}},bash:{pattern:/(^[$#%]\s*)\S[\s\S]*/,lookbehind:!0,alias:"language-bash",inside:e.languages.bash},"shell-symbol":{pattern:/^[$#%]/,alias:"important"}}},output:/.(?:.*(?:[\r\n]|.$))*/},e.languages["sh-session"]=e.languages.shellsession=e.languages["shell-session"]}e.exports=i,i.displayName="shellSession",i.aliases=[]},84687:function(e){"use strict";function t(e){e.languages.smali={comment:/#.*/,string:{pattern:/"(?:[^\r\n\\"]|\\.)*"|'(?:[^\r\n\\']|\\(?:.|u[\da-fA-F]{4}))'/,greedy:!0},"class-name":{pattern:/(^|[^L])L(?:(?:\w+|`[^`\r\n]*`)\/)*(?:[\w$]+|`[^`\r\n]*`)(?=\s*;)/,lookbehind:!0,inside:{"class-name":{pattern:/(^L|\/)(?:[\w$]+|`[^`\r\n]*`)$/,lookbehind:!0},namespace:{pattern:/^(L)(?:(?:\w+|`[^`\r\n]*`)\/)+/,lookbehind:!0,inside:{punctuation:/\//}},builtin:/^L/}},builtin:[{pattern:/([();\[])[BCDFIJSVZ]+/,lookbehind:!0},{pattern:/([\w$>]:)[BCDFIJSVZ]/,lookbehind:!0}],keyword:[{pattern:/(\.end\s+)[\w-]+/,lookbehind:!0},{pattern:/(^|[^\w.-])\.(?!\d)[\w-]+/,lookbehind:!0},{pattern:/(^|[^\w.-])(?:abstract|annotation|bridge|constructor|enum|final|interface|private|protected|public|runtime|static|synthetic|system|transient)(?![\w.-])/,lookbehind:!0}],function:{pattern:/(^|[^\w.-])(?:\w+|<[\w$-]+>)(?=\()/,lookbehind:!0},field:{pattern:/[\w$]+(?=:)/,alias:"variable"},register:{pattern:/(^|[^\w.-])[vp]\d(?![\w.-])/,lookbehind:!0,alias:"variable"},boolean:{pattern:/(^|[^\w.-])(?:false|true)(?![\w.-])/,lookbehind:!0},number:{pattern:/(^|[^/\w.-])-?(?:NAN|INFINITY|0x(?:[\dA-F]+(?:\.[\dA-F]*)?|\.[\dA-F]+)(?:p[+-]?[\dA-F]+)?|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)[dflst]?(?![\w.-])/i,lookbehind:!0},label:{pattern:/(:)\w+/,lookbehind:!0,alias:"property"},operator:/->|\.\.|[\[=]/,punctuation:/[{}(),;:]/}}e.exports=t,t.displayName="smali",t.aliases=[]},63443:function(e){"use strict";function t(e){e.languages.smalltalk={comment:{pattern:/"(?:""|[^"])*"/,greedy:!0},char:{pattern:/\$./,greedy:!0},string:{pattern:/'(?:''|[^'])*'/,greedy:!0},symbol:/#[\da-z]+|#(?:-|([+\/\\*~<>=@%|&?!])\1?)|#(?=\()/i,"block-arguments":{pattern:/(\[\s*):[^\[|]*\|/,lookbehind:!0,inside:{variable:/:[\da-z]+/i,punctuation:/\|/}},"temporary-variables":{pattern:/\|[^|]+\|/,inside:{variable:/[\da-z]+/i,punctuation:/\|/}},keyword:/\b(?:new|nil|self|super)\b/,boolean:/\b(?:false|true)\b/,number:[/\d+r-?[\dA-Z]+(?:\.[\dA-Z]+)?(?:e-?\d+)?/,/\b\d+(?:\.\d+)?(?:e-?\d+)?/],operator:/[<=]=?|:=|~[~=]|\/\/?|\\\\|>[>=]?|[!^+\-*&|,@]/,punctuation:/[.;:?\[\](){}]/}}e.exports=t,t.displayName="smalltalk",t.aliases=[]},10463:function(e,t,n){"use strict";var r=n(47305);function i(e){var t,n;e.register(r),e.languages.smarty={comment:{pattern:/^\{\*[\s\S]*?\*\}/,greedy:!0},"embedded-php":{pattern:/^\{php\}[\s\S]*?\{\/php\}/,greedy:!0,inside:{smarty:{pattern:/^\{php\}|\{\/php\}$/,inside:null},php:{pattern:/[\s\S]+/,alias:"language-php",inside:e.languages.php}}},string:[{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0,inside:{interpolation:{pattern:/\{[^{}]*\}|`[^`]*`/,inside:{"interpolation-punctuation":{pattern:/^[{`]|[`}]$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}},variable:/\$\w+/}},{pattern:/'(?:\\.|[^'\\\r\n])*'/,greedy:!0}],keyword:{pattern:/(^\{\/?)[a-z_]\w*\b(?!\()/i,lookbehind:!0,greedy:!0},delimiter:{pattern:/^\{\/?|\}$/,greedy:!0,alias:"punctuation"},number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,variable:[/\$(?!\d)\w+/,/#(?!\d)\w+#/,{pattern:/(\.|->|\w\s*=)(?!\d)\w+\b(?!\()/,lookbehind:!0},{pattern:/(\[)(?!\d)\w+(?=\])/,lookbehind:!0}],function:{pattern:/(\|\s*)@?[a-z_]\w*|\b[a-z_]\w*(?=\()/i,lookbehind:!0},"attr-name":/\b[a-z_]\w*(?=\s*=)/i,boolean:/\b(?:false|no|off|on|true|yes)\b/,punctuation:/[\[\](){}.,:`]|->/,operator:[/[+\-*\/%]|==?=?|[!<>]=?|&&|\|\|?/,/\bis\s+(?:not\s+)?(?:div|even|odd)(?:\s+by)?\b/,/\b(?:and|eq|gt?e|gt|lt?e|lt|mod|neq?|not|or)\b/]},e.languages.smarty["embedded-php"].inside.smarty.inside=e.languages.smarty,e.languages.smarty.string[0].inside.interpolation.inside.expression.inside=e.languages.smarty,t=/"(?:\\.|[^"\\\r\n])*"|'(?:\\.|[^'\\\r\n])*'/,n=RegExp(/\{\*[\s\S]*?\*\}/.source+"|"+/\{php\}[\s\S]*?\{\/php\}/.source+"|"+/\{(?:[^{}"']|<str>|\{(?:[^{}"']|<str>|\{(?:[^{}"']|<str>)*\})*\})*\}/.source.replace(/<str>/g,function(){return t.source}),"g"),e.hooks.add("before-tokenize",function(t){var r=!1;e.languages["markup-templating"].buildPlaceholders(t,"smarty",n,function(e){return"{/literal}"===e&&(r=!1),!r&&("{literal}"===e&&(r=!0),!0)})}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"smarty")})}e.exports=i,i.displayName="smarty",i.aliases=[]},46383:function(e){"use strict";function t(e){var t;t=/\b(?:abstype|and|andalso|as|case|datatype|do|else|end|eqtype|exception|fn|fun|functor|handle|if|in|include|infix|infixr|let|local|nonfix|of|op|open|orelse|raise|rec|sharing|sig|signature|struct|structure|then|type|val|where|while|with|withtype)\b/i,e.languages.sml={comment:/\(\*(?:[^*(]|\*(?!\))|\((?!\*)|\(\*(?:[^*(]|\*(?!\))|\((?!\*))*\*\))*\*\)/,string:{pattern:/#?"(?:[^"\\]|\\.)*"/,greedy:!0},"class-name":[{pattern:RegExp(/((?:^|[^:]):\s*)<TERMINAL>(?:\s*(?:(?:\*|->)\s*<TERMINAL>|,\s*<TERMINAL>(?:(?=<NOT-LAST>)|(?!<NOT-LAST>)\s+<LONG-ID>)))*/.source.replace(/<NOT-LAST>/g,function(){return/\s*(?:[*,]|->)/.source}).replace(/<TERMINAL>/g,function(){return/(?:'[\w']*|<LONG-ID>|\((?:[^()]|\([^()]*\))*\)|\{(?:[^{}]|\{[^{}]*\})*\})(?:\s+<LONG-ID>)*/.source}).replace(/<LONG-ID>/g,function(){return/(?!<KEYWORD>)[a-z\d_][\w'.]*/.source}).replace(/<KEYWORD>/g,function(){return t.source}),"i"),lookbehind:!0,greedy:!0,inside:null},{pattern:/((?:^|[^\w'])(?:datatype|exception|functor|signature|structure|type)\s+)[a-z_][\w'.]*/i,lookbehind:!0}],function:{pattern:/((?:^|[^\w'])fun\s+)[a-z_][\w'.]*/i,lookbehind:!0},keyword:t,variable:{pattern:/(^|[^\w'])'[\w']*/,lookbehind:!0},number:/~?\b(?:\d+(?:\.\d+)?(?:e~?\d+)?|0x[\da-f]+)\b/i,word:{pattern:/\b0w(?:\d+|x[\da-f]+)\b/i,alias:"constant"},boolean:/\b(?:false|true)\b/i,operator:/\.\.\.|:[>=:]|=>?|->|[<>]=?|[!+\-*/^#|@~]/,punctuation:/[(){}\[\].:,;]/},e.languages.sml["class-name"][0].inside=e.languages.sml,e.languages.smlnj=e.languages.sml}e.exports=t,t.displayName="sml",t.aliases=["smlnj"]},93817:function(e){"use strict";function t(e){e.languages.solidity=e.languages.extend("clike",{"class-name":{pattern:/(\b(?:contract|enum|interface|library|new|struct|using)\s+)(?!\d)[\w$]+/,lookbehind:!0},keyword:/\b(?:_|anonymous|as|assembly|assert|break|calldata|case|constant|constructor|continue|contract|default|delete|do|else|emit|enum|event|external|for|from|function|if|import|indexed|inherited|interface|internal|is|let|library|mapping|memory|modifier|new|payable|pragma|private|public|pure|require|returns?|revert|selfdestruct|solidity|storage|struct|suicide|switch|this|throw|using|var|view|while)\b/,operator:/=>|->|:=|=:|\*\*|\+\+|--|\|\||&&|<<=?|>>=?|[-+*/%^&|<>!=]=?|[~?]/}),e.languages.insertBefore("solidity","keyword",{builtin:/\b(?:address|bool|byte|u?int(?:8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?|string|bytes(?:[1-9]|[12]\d|3[0-2])?)\b/}),e.languages.insertBefore("solidity","number",{version:{pattern:/([<>]=?|\^)\d+\.\d+\.\d+\b/,lookbehind:!0,alias:"number"}}),e.languages.sol=e.languages.solidity}e.exports=t,t.displayName="solidity",t.aliases=["sol"]},35221:function(e){"use strict";function t(e){var t;t={pattern:/\{[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}\}/i,alias:"constant",inside:{punctuation:/[{}]/}},e.languages["solution-file"]={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0,inside:{guid:t}},object:{pattern:/^([ \t]*)(?:([A-Z]\w*)\b(?=.*(?:\r\n?|\n)(?:\1[ \t].*(?:\r\n?|\n))*\1End\2(?=[ \t]*$))|End[A-Z]\w*(?=[ \t]*$))/m,lookbehind:!0,greedy:!0,alias:"keyword"},property:{pattern:/^([ \t]*)(?!\s)[^\r\n"#=()]*[^\s"#=()](?=\s*=)/m,lookbehind:!0,inside:{guid:t}},guid:t,number:/\b\d+(?:\.\d+)*\b/,boolean:/\b(?:FALSE|TRUE)\b/,operator:/=/,punctuation:/[(),]/},e.languages.sln=e.languages["solution-file"]}e.exports=t,t.displayName="solutionFile",t.aliases=[]},64684:function(e,t,n){"use strict";var r=n(47305);function i(e){var t,n;e.register(r),t=/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,n=/\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b|\b0x[\dA-F]+\b/,e.languages.soy={comment:[/\/\*[\s\S]*?\*\//,{pattern:/(\s)\/\/.*/,lookbehind:!0,greedy:!0}],"command-arg":{pattern:/(\{+\/?\s*(?:alias|call|delcall|delpackage|deltemplate|namespace|template)\s+)\.?[\w.]+/,lookbehind:!0,alias:"string",inside:{punctuation:/\./}},parameter:{pattern:/(\{+\/?\s*@?param\??\s+)\.?[\w.]+/,lookbehind:!0,alias:"variable"},keyword:[{pattern:/(\{+\/?[^\S\r\n]*)(?:\\[nrt]|alias|call|case|css|default|delcall|delpackage|deltemplate|else(?:if)?|fallbackmsg|for(?:each)?|if(?:empty)?|lb|let|literal|msg|namespace|nil|@?param\??|rb|sp|switch|template|xid)/,lookbehind:!0},/\b(?:any|as|attributes|bool|css|float|html|in|int|js|list|map|null|number|string|uri)\b/],delimiter:{pattern:/^\{+\/?|\/?\}+$/,alias:"punctuation"},property:/\w+(?==)/,variable:{pattern:/\$[^\W\d]\w*(?:\??(?:\.\w+|\[[^\]]+\]))*/,inside:{string:{pattern:t,greedy:!0},number:n,punctuation:/[\[\].?]/}},string:{pattern:t,greedy:!0},function:[/\w+(?=\()/,{pattern:/(\|[^\S\r\n]*)\w+/,lookbehind:!0}],boolean:/\b(?:false|true)\b/,number:n,operator:/\?:?|<=?|>=?|==?|!=|[+*/%-]|\b(?:and|not|or)\b/,punctuation:/[{}()\[\]|.,:]/},e.hooks.add("before-tokenize",function(t){var n=!1;e.languages["markup-templating"].buildPlaceholders(t,"soy",/\{\{.+?\}\}|\{.+?\}|\s\/\/.*|\/\*[\s\S]*?\*\//g,function(e){return"{/literal}"===e&&(n=!1),!n&&("{literal}"===e&&(n=!0),!0)})}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"soy")})}e.exports=i,i.displayName="soy",i.aliases=[]},190:function(e,t,n){"use strict";var r=n(6918);function i(e){e.register(r),e.languages.sparql=e.languages.extend("turtle",{boolean:/\b(?:false|true)\b/i,variable:{pattern:/[?$]\w+/,greedy:!0}}),e.languages.insertBefore("sparql","punctuation",{keyword:[/\b(?:A|ADD|ALL|AS|ASC|ASK|BNODE|BY|CLEAR|CONSTRUCT|COPY|CREATE|DATA|DEFAULT|DELETE|DESC|DESCRIBE|DISTINCT|DROP|EXISTS|FILTER|FROM|GROUP|HAVING|INSERT|INTO|LIMIT|LOAD|MINUS|MOVE|NAMED|NOT|NOW|OFFSET|OPTIONAL|ORDER|RAND|REDUCED|SELECT|SEPARATOR|SERVICE|SILENT|STRUUID|UNION|USING|UUID|VALUES|WHERE)\b/i,/\b(?:ABS|AVG|BIND|BOUND|CEIL|COALESCE|CONCAT|CONTAINS|COUNT|DATATYPE|DAY|ENCODE_FOR_URI|FLOOR|GROUP_CONCAT|HOURS|IF|IRI|isBLANK|isIRI|isLITERAL|isNUMERIC|isURI|LANG|LANGMATCHES|LCASE|MAX|MD5|MIN|MINUTES|MONTH|REGEX|REPLACE|ROUND|sameTerm|SAMPLE|SECONDS|SHA1|SHA256|SHA384|SHA512|STR|STRAFTER|STRBEFORE|STRDT|STRENDS|STRLANG|STRLEN|STRSTARTS|SUBSTR|SUM|TIMEZONE|TZ|UCASE|URI|YEAR)\b(?=\s*\()/i,/\b(?:BASE|GRAPH|PREFIX)\b/i]}),e.languages.rq=e.languages.sparql}e.exports=i,i.displayName="sparql",i.aliases=["rq"]},31936:function(e){"use strict";function t(e){e.languages["splunk-spl"]={comment:/`comment\("(?:\\.|[^\\"])*"\)`/,string:{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0},keyword:/\b(?:abstract|accum|addcoltotals|addinfo|addtotals|analyzefields|anomalies|anomalousvalue|anomalydetection|append|appendcols|appendcsv|appendlookup|appendpipe|arules|associate|audit|autoregress|bin|bucket|bucketdir|chart|cluster|cofilter|collect|concurrency|contingency|convert|correlate|datamodel|dbinspect|dedup|delete|delta|diff|erex|eval|eventcount|eventstats|extract|fieldformat|fields|fieldsummary|filldown|fillnull|findtypes|folderize|foreach|format|from|gauge|gentimes|geom|geomfilter|geostats|head|highlight|history|iconify|input|inputcsv|inputlookup|iplocation|join|kmeans|kv|kvform|loadjob|localize|localop|lookup|makecontinuous|makemv|makeresults|map|mcollect|metadata|metasearch|meventcollect|mstats|multikv|multisearch|mvcombine|mvexpand|nomv|outlier|outputcsv|outputlookup|outputtext|overlap|pivot|predict|rangemap|rare|regex|relevancy|reltime|rename|replace|rest|return|reverse|rex|rtorder|run|savedsearch|script|scrub|search|searchtxn|selfjoin|sendemail|set|setfields|sichart|sirare|sistats|sitimechart|sitop|sort|spath|stats|strcat|streamstats|table|tags|tail|timechart|timewrap|top|transaction|transpose|trendline|tscollect|tstats|typeahead|typelearner|typer|union|uniq|untable|where|x11|xmlkv|xmlunescape|xpath|xyseries)\b/i,"operator-word":{pattern:/\b(?:and|as|by|not|or|xor)\b/i,alias:"operator"},function:/\b\w+(?=\s*\()/,property:/\b\w+(?=\s*=(?!=))/,date:{pattern:/\b\d{1,2}\/\d{1,2}\/\d{1,4}(?:(?::\d{1,2}){3})?\b/,alias:"number"},number:/\b\d+(?:\.\d+)?\b/,boolean:/\b(?:f|false|t|true)\b/i,operator:/[<>=]=?|[-+*/%|]/,punctuation:/[()[\],]/}}e.exports=t,t.displayName="splunkSpl",t.aliases=[]},3495:function(e){"use strict";function t(e){e.languages.sqf=e.languages.extend("clike",{string:{pattern:/"(?:(?:"")?[^"])*"(?!")|'(?:[^'])*'/,greedy:!0},keyword:/\b(?:breakOut|breakTo|call|case|catch|default|do|echo|else|execFSM|execVM|exitWith|for|forEach|forEachMember|forEachMemberAgent|forEachMemberTeam|from|goto|if|nil|preprocessFile|preprocessFileLineNumbers|private|scopeName|spawn|step|switch|then|throw|to|try|while|with)\b/i,boolean:/\b(?:false|true)\b/i,function:/\b(?:abs|accTime|acos|action|actionIDs|actionKeys|actionKeysImages|actionKeysNames|actionKeysNamesArray|actionName|actionParams|activateAddons|activatedAddons|activateKey|add3DENConnection|add3DENEventHandler|add3DENLayer|addAction|addBackpack|addBackpackCargo|addBackpackCargoGlobal|addBackpackGlobal|addCamShake|addCuratorAddons|addCuratorCameraArea|addCuratorEditableObjects|addCuratorEditingArea|addCuratorPoints|addEditorObject|addEventHandler|addForce|addForceGeneratorRTD|addGoggles|addGroupIcon|addHandgunItem|addHeadgear|addItem|addItemCargo|addItemCargoGlobal|addItemPool|addItemToBackpack|addItemToUniform|addItemToVest|addLiveStats|addMagazine|addMagazineAmmoCargo|addMagazineCargo|addMagazineCargoGlobal|addMagazineGlobal|addMagazinePool|addMagazines|addMagazineTurret|addMenu|addMenuItem|addMissionEventHandler|addMPEventHandler|addMusicEventHandler|addOwnedMine|addPlayerScores|addPrimaryWeaponItem|addPublicVariableEventHandler|addRating|addResources|addScore|addScoreSide|addSecondaryWeaponItem|addSwitchableUnit|addTeamMember|addToRemainsCollector|addTorque|addUniform|addVehicle|addVest|addWaypoint|addWeapon|addWeaponCargo|addWeaponCargoGlobal|addWeaponGlobal|addWeaponItem|addWeaponPool|addWeaponTurret|admin|agent|agents|AGLToASL|aimedAtTarget|aimPos|airDensityCurveRTD|airDensityRTD|airplaneThrottle|airportSide|AISFinishHeal|alive|all3DENEntities|allAirports|allControls|allCurators|allCutLayers|allDead|allDeadMen|allDisplays|allGroups|allMapMarkers|allMines|allMissionObjects|allow3DMode|allowCrewInImmobile|allowCuratorLogicIgnoreAreas|allowDamage|allowDammage|allowFileOperations|allowFleeing|allowGetIn|allowSprint|allPlayers|allSimpleObjects|allSites|allTurrets|allUnits|allUnitsUAV|allVariables|ammo|ammoOnPylon|animate|animateBay|animateDoor|animatePylon|animateSource|animationNames|animationPhase|animationSourcePhase|animationState|append|apply|armoryPoints|arrayIntersect|asin|ASLToAGL|ASLToATL|assert|assignAsCargo|assignAsCargoIndex|assignAsCommander|assignAsDriver|assignAsGunner|assignAsTurret|assignCurator|assignedCargo|assignedCommander|assignedDriver|assignedGunner|assignedItems|assignedTarget|assignedTeam|assignedVehicle|assignedVehicleRole|assignItem|assignTeam|assignToAirport|atan|atan2|atg|ATLToASL|attachedObject|attachedObjects|attachedTo|attachObject|attachTo|attackEnabled|backpack|backpackCargo|backpackContainer|backpackItems|backpackMagazines|backpackSpaceFor|behaviour|benchmark|binocular|blufor|boundingBox|boundingBoxReal|boundingCenter|briefingName|buildingExit|buildingPos|buldozer_EnableRoadDiag|buldozer_IsEnabledRoadDiag|buldozer_LoadNewRoads|buldozer_reloadOperMap|buttonAction|buttonSetAction|cadetMode|callExtension|camCommand|camCommit|camCommitPrepared|camCommitted|camConstuctionSetParams|camCreate|camDestroy|cameraEffect|cameraEffectEnableHUD|cameraInterest|cameraOn|cameraView|campaignConfigFile|camPreload|camPreloaded|camPrepareBank|camPrepareDir|camPrepareDive|camPrepareFocus|camPrepareFov|camPrepareFovRange|camPreparePos|camPrepareRelPos|camPrepareTarget|camSetBank|camSetDir|camSetDive|camSetFocus|camSetFov|camSetFovRange|camSetPos|camSetRelPos|camSetTarget|camTarget|camUseNVG|canAdd|canAddItemToBackpack|canAddItemToUniform|canAddItemToVest|cancelSimpleTaskDestination|canFire|canMove|canSlingLoad|canStand|canSuspend|canTriggerDynamicSimulation|canUnloadInCombat|canVehicleCargo|captive|captiveNum|cbChecked|cbSetChecked|ceil|channelEnabled|cheatsEnabled|checkAIFeature|checkVisibility|civilian|className|clear3DENAttribute|clear3DENInventory|clearAllItemsFromBackpack|clearBackpackCargo|clearBackpackCargoGlobal|clearForcesRTD|clearGroupIcons|clearItemCargo|clearItemCargoGlobal|clearItemPool|clearMagazineCargo|clearMagazineCargoGlobal|clearMagazinePool|clearOverlay|clearRadio|clearVehicleInit|clearWeaponCargo|clearWeaponCargoGlobal|clearWeaponPool|clientOwner|closeDialog|closeDisplay|closeOverlay|collapseObjectTree|collect3DENHistory|collectiveRTD|combatMode|commandArtilleryFire|commandChat|commander|commandFire|commandFollow|commandFSM|commandGetOut|commandingMenu|commandMove|commandRadio|commandStop|commandSuppressiveFire|commandTarget|commandWatch|comment|commitOverlay|compile|compileFinal|completedFSM|composeText|configClasses|configFile|configHierarchy|configName|configNull|configProperties|configSourceAddonList|configSourceMod|configSourceModList|confirmSensorTarget|connectTerminalToUAV|controlNull|controlsGroupCtrl|copyFromClipboard|copyToClipboard|copyWaypoints|cos|count|countEnemy|countFriendly|countSide|countType|countUnknown|create3DENComposition|create3DENEntity|createAgent|createCenter|createDialog|createDiaryLink|createDiaryRecord|createDiarySubject|createDisplay|createGearDialog|createGroup|createGuardedPoint|createLocation|createMarker|createMarkerLocal|createMenu|createMine|createMissionDisplay|createMPCampaignDisplay|createSimpleObject|createSimpleTask|createSite|createSoundSource|createTask|createTeam|createTrigger|createUnit|createVehicle|createVehicleCrew|createVehicleLocal|crew|ctAddHeader|ctAddRow|ctClear|ctCurSel|ctData|ctFindHeaderRows|ctFindRowHeader|ctHeaderControls|ctHeaderCount|ctRemoveHeaders|ctRemoveRows|ctrlActivate|ctrlAddEventHandler|ctrlAngle|ctrlAutoScrollDelay|ctrlAutoScrollRewind|ctrlAutoScrollSpeed|ctrlChecked|ctrlClassName|ctrlCommit|ctrlCommitted|ctrlCreate|ctrlDelete|ctrlEnable|ctrlEnabled|ctrlFade|ctrlHTMLLoaded|ctrlIDC|ctrlIDD|ctrlMapAnimAdd|ctrlMapAnimClear|ctrlMapAnimCommit|ctrlMapAnimDone|ctrlMapCursor|ctrlMapMouseOver|ctrlMapScale|ctrlMapScreenToWorld|ctrlMapWorldToScreen|ctrlModel|ctrlModelDirAndUp|ctrlModelScale|ctrlParent|ctrlParentControlsGroup|ctrlPosition|ctrlRemoveAllEventHandlers|ctrlRemoveEventHandler|ctrlScale|ctrlSetActiveColor|ctrlSetAngle|ctrlSetAutoScrollDelay|ctrlSetAutoScrollRewind|ctrlSetAutoScrollSpeed|ctrlSetBackgroundColor|ctrlSetChecked|ctrlSetDisabledColor|ctrlSetEventHandler|ctrlSetFade|ctrlSetFocus|ctrlSetFont|ctrlSetFontH1|ctrlSetFontH1B|ctrlSetFontH2|ctrlSetFontH2B|ctrlSetFontH3|ctrlSetFontH3B|ctrlSetFontH4|ctrlSetFontH4B|ctrlSetFontH5|ctrlSetFontH5B|ctrlSetFontH6|ctrlSetFontH6B|ctrlSetFontHeight|ctrlSetFontHeightH1|ctrlSetFontHeightH2|ctrlSetFontHeightH3|ctrlSetFontHeightH4|ctrlSetFontHeightH5|ctrlSetFontHeightH6|ctrlSetFontHeightSecondary|ctrlSetFontP|ctrlSetFontPB|ctrlSetFontSecondary|ctrlSetForegroundColor|ctrlSetModel|ctrlSetModelDirAndUp|ctrlSetModelScale|ctrlSetPixelPrecision|ctrlSetPosition|ctrlSetScale|ctrlSetStructuredText|ctrlSetText|ctrlSetTextColor|ctrlSetTextColorSecondary|ctrlSetTextSecondary|ctrlSetTooltip|ctrlSetTooltipColorBox|ctrlSetTooltipColorShade|ctrlSetTooltipColorText|ctrlShow|ctrlShown|ctrlText|ctrlTextHeight|ctrlTextSecondary|ctrlTextWidth|ctrlType|ctrlVisible|ctRowControls|ctRowCount|ctSetCurSel|ctSetData|ctSetHeaderTemplate|ctSetRowTemplate|ctSetValue|ctValue|curatorAddons|curatorCamera|curatorCameraArea|curatorCameraAreaCeiling|curatorCoef|curatorEditableObjects|curatorEditingArea|curatorEditingAreaType|curatorMouseOver|curatorPoints|curatorRegisteredObjects|curatorSelected|curatorWaypointCost|current3DENOperation|currentChannel|currentCommand|currentMagazine|currentMagazineDetail|currentMagazineDetailTurret|currentMagazineTurret|currentMuzzle|currentNamespace|currentTask|currentTasks|currentThrowable|currentVisionMode|currentWaypoint|currentWeapon|currentWeaponMode|currentWeaponTurret|currentZeroing|cursorObject|cursorTarget|customChat|customRadio|cutFadeOut|cutObj|cutRsc|cutText|damage|date|dateToNumber|daytime|deActivateKey|debriefingText|debugFSM|debugLog|deg|delete3DENEntities|deleteAt|deleteCenter|deleteCollection|deleteEditorObject|deleteGroup|deleteGroupWhenEmpty|deleteIdentity|deleteLocation|deleteMarker|deleteMarkerLocal|deleteRange|deleteResources|deleteSite|deleteStatus|deleteTeam|deleteVehicle|deleteVehicleCrew|deleteWaypoint|detach|detectedMines|diag_activeMissionFSMs|diag_activeScripts|diag_activeSQFScripts|diag_activeSQSScripts|diag_captureFrame|diag_captureFrameToFile|diag_captureSlowFrame|diag_codePerformance|diag_drawMode|diag_dynamicSimulationEnd|diag_enable|diag_enabled|diag_fps|diag_fpsMin|diag_frameNo|diag_lightNewLoad|diag_list|diag_log|diag_logSlowFrame|diag_mergeConfigFile|diag_recordTurretLimits|diag_setLightNew|diag_tickTime|diag_toggle|dialog|diarySubjectExists|didJIP|didJIPOwner|difficulty|difficultyEnabled|difficultyEnabledRTD|difficultyOption|direction|directSay|disableAI|disableCollisionWith|disableConversation|disableDebriefingStats|disableMapIndicators|disableNVGEquipment|disableRemoteSensors|disableSerialization|disableTIEquipment|disableUAVConnectability|disableUserInput|displayAddEventHandler|displayCtrl|displayNull|displayParent|displayRemoveAllEventHandlers|displayRemoveEventHandler|displaySetEventHandler|dissolveTeam|distance|distance2D|distanceSqr|distributionRegion|do3DENAction|doArtilleryFire|doFire|doFollow|doFSM|doGetOut|doMove|doorPhase|doStop|doSuppressiveFire|doTarget|doWatch|drawArrow|drawEllipse|drawIcon|drawIcon3D|drawLine|drawLine3D|drawLink|drawLocation|drawPolygon|drawRectangle|drawTriangle|driver|drop|dynamicSimulationDistance|dynamicSimulationDistanceCoef|dynamicSimulationEnabled|dynamicSimulationSystemEnabled|east|edit3DENMissionAttributes|editObject|editorSetEventHandler|effectiveCommander|emptyPositions|enableAI|enableAIFeature|enableAimPrecision|enableAttack|enableAudioFeature|enableAutoStartUpRTD|enableAutoTrimRTD|enableCamShake|enableCaustics|enableChannel|enableCollisionWith|enableCopilot|enableDebriefingStats|enableDiagLegend|enableDynamicSimulation|enableDynamicSimulationSystem|enableEndDialog|enableEngineArtillery|enableEnvironment|enableFatigue|enableGunLights|enableInfoPanelComponent|enableIRLasers|enableMimics|enablePersonTurret|enableRadio|enableReload|enableRopeAttach|enableSatNormalOnDetail|enableSaving|enableSentences|enableSimulation|enableSimulationGlobal|enableStamina|enableStressDamage|enableTeamSwitch|enableTraffic|enableUAVConnectability|enableUAVWaypoints|enableVehicleCargo|enableVehicleSensor|enableWeaponDisassembly|endl|endLoadingScreen|endMission|engineOn|enginesIsOnRTD|enginesPowerRTD|enginesRpmRTD|enginesTorqueRTD|entities|environmentEnabled|estimatedEndServerTime|estimatedTimeLeft|evalObjectArgument|everyBackpack|everyContainer|exec|execEditorScript|exp|expectedDestination|exportJIPMessages|eyeDirection|eyePos|face|faction|fadeMusic|fadeRadio|fadeSound|fadeSpeech|failMission|fillWeaponsFromPool|find|findCover|findDisplay|findEditorObject|findEmptyPosition|findEmptyPositionReady|findIf|findNearestEnemy|finishMissionInit|finite|fire|fireAtTarget|firstBackpack|flag|flagAnimationPhase|flagOwner|flagSide|flagTexture|fleeing|floor|flyInHeight|flyInHeightASL|fog|fogForecast|fogParams|forceAddUniform|forceAtPositionRTD|forcedMap|forceEnd|forceFlagTexture|forceFollowRoad|forceGeneratorRTD|forceMap|forceRespawn|forceSpeed|forceWalk|forceWeaponFire|forceWeatherChange|forgetTarget|format|formation|formationDirection|formationLeader|formationMembers|formationPosition|formationTask|formatText|formLeader|freeLook|fromEditor|fuel|fullCrew|gearIDCAmmoCount|gearSlotAmmoCount|gearSlotData|get3DENActionState|get3DENAttribute|get3DENCamera|get3DENConnections|get3DENEntity|get3DENEntityID|get3DENGrid|get3DENIconsVisible|get3DENLayerEntities|get3DENLinesVisible|get3DENMissionAttribute|get3DENMouseOver|get3DENSelected|getAimingCoef|getAllEnvSoundControllers|getAllHitPointsDamage|getAllOwnedMines|getAllSoundControllers|getAmmoCargo|getAnimAimPrecision|getAnimSpeedCoef|getArray|getArtilleryAmmo|getArtilleryComputerSettings|getArtilleryETA|getAssignedCuratorLogic|getAssignedCuratorUnit|getBackpackCargo|getBleedingRemaining|getBurningValue|getCameraViewDirection|getCargoIndex|getCenterOfMass|getClientState|getClientStateNumber|getCompatiblePylonMagazines|getConnectedUAV|getContainerMaxLoad|getCursorObjectParams|getCustomAimCoef|getDammage|getDescription|getDir|getDirVisual|getDLCAssetsUsage|getDLCAssetsUsageByName|getDLCs|getDLCUsageTime|getEditorCamera|getEditorMode|getEditorObjectScope|getElevationOffset|getEngineTargetRpmRTD|getEnvSoundController|getFatigue|getFieldManualStartPage|getForcedFlagTexture|getFriend|getFSMVariable|getFuelCargo|getGroupIcon|getGroupIconParams|getGroupIcons|getHideFrom|getHit|getHitIndex|getHitPointDamage|getItemCargo|getMagazineCargo|getMarkerColor|getMarkerPos|getMarkerSize|getMarkerType|getMass|getMissionConfig|getMissionConfigValue|getMissionDLCs|getMissionLayerEntities|getMissionLayers|getModelInfo|getMousePosition|getMusicPlayedTime|getNumber|getObjectArgument|getObjectChildren|getObjectDLC|getObjectMaterials|getObjectProxy|getObjectTextures|getObjectType|getObjectViewDistance|getOxygenRemaining|getPersonUsedDLCs|getPilotCameraDirection|getPilotCameraPosition|getPilotCameraRotation|getPilotCameraTarget|getPlateNumber|getPlayerChannel|getPlayerScores|getPlayerUID|getPlayerUIDOld|getPos|getPosASL|getPosASLVisual|getPosASLW|getPosATL|getPosATLVisual|getPosVisual|getPosWorld|getPylonMagazines|getRelDir|getRelPos|getRemoteSensorsDisabled|getRepairCargo|getResolution|getRotorBrakeRTD|getShadowDistance|getShotParents|getSlingLoad|getSoundController|getSoundControllerResult|getSpeed|getStamina|getStatValue|getSuppression|getTerrainGrid|getTerrainHeightASL|getText|getTotalDLCUsageTime|getTrimOffsetRTD|getUnitLoadout|getUnitTrait|getUserMFDText|getUserMFDValue|getVariable|getVehicleCargo|getWeaponCargo|getWeaponSway|getWingsOrientationRTD|getWingsPositionRTD|getWPPos|glanceAt|globalChat|globalRadio|goggles|group|groupChat|groupFromNetId|groupIconSelectable|groupIconsVisible|groupId|groupOwner|groupRadio|groupSelectedUnits|groupSelectUnit|grpNull|gunner|gusts|halt|handgunItems|handgunMagazine|handgunWeapon|handsHit|hasInterface|hasPilotCamera|hasWeapon|hcAllGroups|hcGroupParams|hcLeader|hcRemoveAllGroups|hcRemoveGroup|hcSelected|hcSelectGroup|hcSetGroup|hcShowBar|hcShownBar|headgear|hideBody|hideObject|hideObjectGlobal|hideSelection|hint|hintC|hintCadet|hintSilent|hmd|hostMission|htmlLoad|HUDMovementLevels|humidity|image|importAllGroups|importance|in|inArea|inAreaArray|incapacitatedState|independent|inflame|inflamed|infoPanel|infoPanelComponentEnabled|infoPanelComponents|infoPanels|inGameUISetEventHandler|inheritsFrom|initAmbientLife|inPolygon|inputAction|inRangeOfArtillery|insertEditorObject|intersect|is3DEN|is3DENMultiplayer|isAbleToBreathe|isAgent|isAimPrecisionEnabled|isArray|isAutoHoverOn|isAutonomous|isAutoStartUpEnabledRTD|isAutotest|isAutoTrimOnRTD|isBleeding|isBurning|isClass|isCollisionLightOn|isCopilotEnabled|isDamageAllowed|isDedicated|isDLCAvailable|isEngineOn|isEqualTo|isEqualType|isEqualTypeAll|isEqualTypeAny|isEqualTypeArray|isEqualTypeParams|isFilePatchingEnabled|isFlashlightOn|isFlatEmpty|isForcedWalk|isFormationLeader|isGroupDeletedWhenEmpty|isHidden|isInRemainsCollector|isInstructorFigureEnabled|isIRLaserOn|isKeyActive|isKindOf|isLaserOn|isLightOn|isLocalized|isManualFire|isMarkedForCollection|isMultiplayer|isMultiplayerSolo|isNil|isNull|isNumber|isObjectHidden|isObjectRTD|isOnRoad|isPipEnabled|isPlayer|isRealTime|isRemoteExecuted|isRemoteExecutedJIP|isServer|isShowing3DIcons|isSimpleObject|isSprintAllowed|isStaminaEnabled|isSteamMission|isStreamFriendlyUIEnabled|isStressDamageEnabled|isText|isTouchingGround|isTurnedOut|isTutHintsEnabled|isUAVConnectable|isUAVConnected|isUIContext|isUniformAllowed|isVehicleCargo|isVehicleRadarOn|isVehicleSensorEnabled|isWalking|isWeaponDeployed|isWeaponRested|itemCargo|items|itemsWithMagazines|join|joinAs|joinAsSilent|joinSilent|joinString|kbAddDatabase|kbAddDatabaseTargets|kbAddTopic|kbHasTopic|kbReact|kbRemoveTopic|kbTell|kbWasSaid|keyImage|keyName|knowsAbout|land|landAt|landResult|language|laserTarget|lbAdd|lbClear|lbColor|lbColorRight|lbCurSel|lbData|lbDelete|lbIsSelected|lbPicture|lbPictureRight|lbSelection|lbSetColor|lbSetColorRight|lbSetCurSel|lbSetData|lbSetPicture|lbSetPictureColor|lbSetPictureColorDisabled|lbSetPictureColorSelected|lbSetPictureRight|lbSetPictureRightColor|lbSetPictureRightColorDisabled|lbSetPictureRightColorSelected|lbSetSelectColor|lbSetSelectColorRight|lbSetSelected|lbSetText|lbSetTextRight|lbSetTooltip|lbSetValue|lbSize|lbSort|lbSortByValue|lbText|lbTextRight|lbValue|leader|leaderboardDeInit|leaderboardGetRows|leaderboardInit|leaderboardRequestRowsFriends|leaderboardRequestRowsGlobal|leaderboardRequestRowsGlobalAroundUser|leaderboardsRequestUploadScore|leaderboardsRequestUploadScoreKeepBest|leaderboardState|leaveVehicle|libraryCredits|libraryDisclaimers|lifeState|lightAttachObject|lightDetachObject|lightIsOn|lightnings|limitSpeed|linearConversion|lineBreak|lineIntersects|lineIntersectsObjs|lineIntersectsSurfaces|lineIntersectsWith|linkItem|list|listObjects|listRemoteTargets|listVehicleSensors|ln|lnbAddArray|lnbAddColumn|lnbAddRow|lnbClear|lnbColor|lnbColorRight|lnbCurSelRow|lnbData|lnbDeleteColumn|lnbDeleteRow|lnbGetColumnsPosition|lnbPicture|lnbPictureRight|lnbSetColor|lnbSetColorRight|lnbSetColumnsPos|lnbSetCurSelRow|lnbSetData|lnbSetPicture|lnbSetPictureColor|lnbSetPictureColorRight|lnbSetPictureColorSelected|lnbSetPictureColorSelectedRight|lnbSetPictureRight|lnbSetText|lnbSetTextRight|lnbSetValue|lnbSize|lnbSort|lnbSortByValue|lnbText|lnbTextRight|lnbValue|load|loadAbs|loadBackpack|loadFile|loadGame|loadIdentity|loadMagazine|loadOverlay|loadStatus|loadUniform|loadVest|local|localize|locationNull|locationPosition|lock|lockCameraTo|lockCargo|lockDriver|locked|lockedCargo|lockedDriver|lockedTurret|lockIdentity|lockTurret|lockWP|log|logEntities|logNetwork|logNetworkTerminate|lookAt|lookAtPos|magazineCargo|magazines|magazinesAllTurrets|magazinesAmmo|magazinesAmmoCargo|magazinesAmmoFull|magazinesDetail|magazinesDetailBackpack|magazinesDetailUniform|magazinesDetailVest|magazinesTurret|magazineTurretAmmo|mapAnimAdd|mapAnimClear|mapAnimCommit|mapAnimDone|mapCenterOnCamera|mapGridPosition|markAsFinishedOnSteam|markerAlpha|markerBrush|markerColor|markerDir|markerPos|markerShape|markerSize|markerText|markerType|max|members|menuAction|menuAdd|menuChecked|menuClear|menuCollapse|menuData|menuDelete|menuEnable|menuEnabled|menuExpand|menuHover|menuPicture|menuSetAction|menuSetCheck|menuSetData|menuSetPicture|menuSetValue|menuShortcut|menuShortcutText|menuSize|menuSort|menuText|menuURL|menuValue|min|mineActive|mineDetectedBy|missionConfigFile|missionDifficulty|missionName|missionNamespace|missionStart|missionVersion|modelToWorld|modelToWorldVisual|modelToWorldVisualWorld|modelToWorldWorld|modParams|moonIntensity|moonPhase|morale|move|move3DENCamera|moveInAny|moveInCargo|moveInCommander|moveInDriver|moveInGunner|moveInTurret|moveObjectToEnd|moveOut|moveTime|moveTo|moveToCompleted|moveToFailed|musicVolume|name|nameSound|nearEntities|nearestBuilding|nearestLocation|nearestLocations|nearestLocationWithDubbing|nearestObject|nearestObjects|nearestTerrainObjects|nearObjects|nearObjectsReady|nearRoads|nearSupplies|nearTargets|needReload|netId|netObjNull|newOverlay|nextMenuItemIndex|nextWeatherChange|nMenuItems|numberOfEnginesRTD|numberToDate|objectCurators|objectFromNetId|objectParent|objNull|objStatus|onBriefingGear|onBriefingGroup|onBriefingNotes|onBriefingPlan|onBriefingTeamSwitch|onCommandModeChanged|onDoubleClick|onEachFrame|onGroupIconClick|onGroupIconOverEnter|onGroupIconOverLeave|onHCGroupSelectionChanged|onMapSingleClick|onPlayerConnected|onPlayerDisconnected|onPreloadFinished|onPreloadStarted|onShowNewObject|onTeamSwitch|openCuratorInterface|openDLCPage|openDSInterface|openMap|openSteamApp|openYoutubeVideo|opfor|orderGetIn|overcast|overcastForecast|owner|param|params|parseNumber|parseSimpleArray|parseText|parsingNamespace|particlesQuality|pi|pickWeaponPool|pitch|pixelGrid|pixelGridBase|pixelGridNoUIScale|pixelH|pixelW|playableSlotsNumber|playableUnits|playAction|playActionNow|player|playerRespawnTime|playerSide|playersNumber|playGesture|playMission|playMove|playMoveNow|playMusic|playScriptedMission|playSound|playSound3D|position|positionCameraToWorld|posScreenToWorld|posWorldToScreen|ppEffectAdjust|ppEffectCommit|ppEffectCommitted|ppEffectCreate|ppEffectDestroy|ppEffectEnable|ppEffectEnabled|ppEffectForceInNVG|precision|preloadCamera|preloadObject|preloadSound|preloadTitleObj|preloadTitleRsc|primaryWeapon|primaryWeaponItems|primaryWeaponMagazine|priority|processDiaryLink|processInitCommands|productVersion|profileName|profileNamespace|profileNameSteam|progressLoadingScreen|progressPosition|progressSetPosition|publicVariable|publicVariableClient|publicVariableServer|pushBack|pushBackUnique|putWeaponPool|queryItemsPool|queryMagazinePool|queryWeaponPool|rad|radioChannelAdd|radioChannelCreate|radioChannelRemove|radioChannelSetCallSign|radioChannelSetLabel|radioVolume|rain|rainbow|random|rank|rankId|rating|rectangular|registeredTasks|registerTask|reload|reloadEnabled|remoteControl|remoteExec|remoteExecCall|remoteExecutedOwner|remove3DENConnection|remove3DENEventHandler|remove3DENLayer|removeAction|removeAll3DENEventHandlers|removeAllActions|removeAllAssignedItems|removeAllContainers|removeAllCuratorAddons|removeAllCuratorCameraAreas|removeAllCuratorEditingAreas|removeAllEventHandlers|removeAllHandgunItems|removeAllItems|removeAllItemsWithMagazines|removeAllMissionEventHandlers|removeAllMPEventHandlers|removeAllMusicEventHandlers|removeAllOwnedMines|removeAllPrimaryWeaponItems|removeAllWeapons|removeBackpack|removeBackpackGlobal|removeCuratorAddons|removeCuratorCameraArea|removeCuratorEditableObjects|removeCuratorEditingArea|removeDrawIcon|removeDrawLinks|removeEventHandler|removeFromRemainsCollector|removeGoggles|removeGroupIcon|removeHandgunItem|removeHeadgear|removeItem|removeItemFromBackpack|removeItemFromUniform|removeItemFromVest|removeItems|removeMagazine|removeMagazineGlobal|removeMagazines|removeMagazinesTurret|removeMagazineTurret|removeMenuItem|removeMissionEventHandler|removeMPEventHandler|removeMusicEventHandler|removeOwnedMine|removePrimaryWeaponItem|removeSecondaryWeaponItem|removeSimpleTask|removeSwitchableUnit|removeTeamMember|removeUniform|removeVest|removeWeapon|removeWeaponAttachmentCargo|removeWeaponCargo|removeWeaponGlobal|removeWeaponTurret|reportRemoteTarget|requiredVersion|resetCamShake|resetSubgroupDirection|resistance|resize|resources|respawnVehicle|restartEditorCamera|reveal|revealMine|reverse|reversedMouseY|roadAt|roadsConnectedTo|roleDescription|ropeAttachedObjects|ropeAttachedTo|ropeAttachEnabled|ropeAttachTo|ropeCreate|ropeCut|ropeDestroy|ropeDetach|ropeEndPosition|ropeLength|ropes|ropeUnwind|ropeUnwound|rotorsForcesRTD|rotorsRpmRTD|round|runInitScript|safeZoneH|safeZoneW|safeZoneWAbs|safeZoneX|safeZoneXAbs|safeZoneY|save3DENInventory|saveGame|saveIdentity|saveJoysticks|saveOverlay|saveProfileNamespace|saveStatus|saveVar|savingEnabled|say|say2D|say3D|score|scoreSide|screenshot|screenToWorld|scriptDone|scriptName|scriptNull|scudState|secondaryWeapon|secondaryWeaponItems|secondaryWeaponMagazine|select|selectBestPlaces|selectDiarySubject|selectedEditorObjects|selectEditorObject|selectionNames|selectionPosition|selectLeader|selectMax|selectMin|selectNoPlayer|selectPlayer|selectRandom|selectRandomWeighted|selectWeapon|selectWeaponTurret|sendAUMessage|sendSimpleCommand|sendTask|sendTaskResult|sendUDPMessage|serverCommand|serverCommandAvailable|serverCommandExecutable|serverName|serverTime|set|set3DENAttribute|set3DENAttributes|set3DENGrid|set3DENIconsVisible|set3DENLayer|set3DENLinesVisible|set3DENLogicType|set3DENMissionAttribute|set3DENMissionAttributes|set3DENModelsVisible|set3DENObjectType|set3DENSelected|setAccTime|setActualCollectiveRTD|setAirplaneThrottle|setAirportSide|setAmmo|setAmmoCargo|setAmmoOnPylon|setAnimSpeedCoef|setAperture|setApertureNew|setArmoryPoints|setAttributes|setAutonomous|setBehaviour|setBleedingRemaining|setBrakesRTD|setCameraInterest|setCamShakeDefParams|setCamShakeParams|setCamUseTI|setCaptive|setCenterOfMass|setCollisionLight|setCombatMode|setCompassOscillation|setConvoySeparation|setCuratorCameraAreaCeiling|setCuratorCoef|setCuratorEditingAreaType|setCuratorWaypointCost|setCurrentChannel|setCurrentTask|setCurrentWaypoint|setCustomAimCoef|setCustomWeightRTD|setDamage|setDammage|setDate|setDebriefingText|setDefaultCamera|setDestination|setDetailMapBlendPars|setDir|setDirection|setDrawIcon|setDriveOnPath|setDropInterval|setDynamicSimulationDistance|setDynamicSimulationDistanceCoef|setEditorMode|setEditorObjectScope|setEffectCondition|setEngineRpmRTD|setFace|setFaceAnimation|setFatigue|setFeatureType|setFlagAnimationPhase|setFlagOwner|setFlagSide|setFlagTexture|setFog|setForceGeneratorRTD|setFormation|setFormationTask|setFormDir|setFriend|setFromEditor|setFSMVariable|setFuel|setFuelCargo|setGroupIcon|setGroupIconParams|setGroupIconsSelectable|setGroupIconsVisible|setGroupId|setGroupIdGlobal|setGroupOwner|setGusts|setHideBehind|setHit|setHitIndex|setHitPointDamage|setHorizonParallaxCoef|setHUDMovementLevels|setIdentity|setImportance|setInfoPanel|setLeader|setLightAmbient|setLightAttenuation|setLightBrightness|setLightColor|setLightDayLight|setLightFlareMaxDistance|setLightFlareSize|setLightIntensity|setLightnings|setLightUseFlare|setLocalWindParams|setMagazineTurretAmmo|setMarkerAlpha|setMarkerAlphaLocal|setMarkerBrush|setMarkerBrushLocal|setMarkerColor|setMarkerColorLocal|setMarkerDir|setMarkerDirLocal|setMarkerPos|setMarkerPosLocal|setMarkerShape|setMarkerShapeLocal|setMarkerSize|setMarkerSizeLocal|setMarkerText|setMarkerTextLocal|setMarkerType|setMarkerTypeLocal|setMass|setMimic|setMousePosition|setMusicEffect|setMusicEventHandler|setName|setNameSound|setObjectArguments|setObjectMaterial|setObjectMaterialGlobal|setObjectProxy|setObjectTexture|setObjectTextureGlobal|setObjectViewDistance|setOvercast|setOwner|setOxygenRemaining|setParticleCircle|setParticleClass|setParticleFire|setParticleParams|setParticleRandom|setPilotCameraDirection|setPilotCameraRotation|setPilotCameraTarget|setPilotLight|setPiPEffect|setPitch|setPlateNumber|setPlayable|setPlayerRespawnTime|setPos|setPosASL|setPosASL2|setPosASLW|setPosATL|setPosition|setPosWorld|setPylonLoadOut|setPylonsPriority|setRadioMsg|setRain|setRainbow|setRandomLip|setRank|setRectangular|setRepairCargo|setRotorBrakeRTD|setShadowDistance|setShotParents|setSide|setSimpleTaskAlwaysVisible|setSimpleTaskCustomData|setSimpleTaskDescription|setSimpleTaskDestination|setSimpleTaskTarget|setSimpleTaskType|setSimulWeatherLayers|setSize|setSkill|setSlingLoad|setSoundEffect|setSpeaker|setSpeech|setSpeedMode|setStamina|setStaminaScheme|setStatValue|setSuppression|setSystemOfUnits|setTargetAge|setTaskMarkerOffset|setTaskResult|setTaskState|setTerrainGrid|setText|setTimeMultiplier|setTitleEffect|setToneMapping|setToneMappingParams|setTrafficDensity|setTrafficDistance|setTrafficGap|setTrafficSpeed|setTriggerActivation|setTriggerArea|setTriggerStatements|setTriggerText|setTriggerTimeout|setTriggerType|setType|setUnconscious|setUnitAbility|setUnitLoadout|setUnitPos|setUnitPosWeak|setUnitRank|setUnitRecoilCoefficient|setUnitTrait|setUnloadInCombat|setUserActionText|setUserMFDText|setUserMFDValue|setVariable|setVectorDir|setVectorDirAndUp|setVectorUp|setVehicleAmmo|setVehicleAmmoDef|setVehicleArmor|setVehicleCargo|setVehicleId|setVehicleInit|setVehicleLock|setVehiclePosition|setVehicleRadar|setVehicleReceiveRemoteTargets|setVehicleReportOwnPosition|setVehicleReportRemoteTargets|setVehicleTIPars|setVehicleVarName|setVelocity|setVelocityModelSpace|setVelocityTransformation|setViewDistance|setVisibleIfTreeCollapsed|setWantedRpmRTD|setWaves|setWaypointBehaviour|setWaypointCombatMode|setWaypointCompletionRadius|setWaypointDescription|setWaypointForceBehaviour|setWaypointFormation|setWaypointHousePosition|setWaypointLoiterRadius|setWaypointLoiterType|setWaypointName|setWaypointPosition|setWaypointScript|setWaypointSpeed|setWaypointStatements|setWaypointTimeout|setWaypointType|setWaypointVisible|setWeaponReloadingTime|setWind|setWindDir|setWindForce|setWindStr|setWingForceScaleRTD|setWPPos|show3DIcons|showChat|showCinemaBorder|showCommandingMenu|showCompass|showCuratorCompass|showGPS|showHUD|showLegend|showMap|shownArtilleryComputer|shownChat|shownCompass|shownCuratorCompass|showNewEditorObject|shownGPS|shownHUD|shownMap|shownPad|shownRadio|shownScoretable|shownUAVFeed|shownWarrant|shownWatch|showPad|showRadio|showScoretable|showSubtitles|showUAVFeed|showWarrant|showWatch|showWaypoint|showWaypoints|side|sideAmbientLife|sideChat|sideEmpty|sideEnemy|sideFriendly|sideLogic|sideRadio|sideUnknown|simpleTasks|simulationEnabled|simulCloudDensity|simulCloudOcclusion|simulInClouds|simulWeatherSync|sin|size|sizeOf|skill|skillFinal|skipTime|sleep|sliderPosition|sliderRange|sliderSetPosition|sliderSetRange|sliderSetSpeed|sliderSpeed|slingLoadAssistantShown|soldierMagazines|someAmmo|sort|soundVolume|speaker|speed|speedMode|splitString|sqrt|squadParams|stance|startLoadingScreen|stop|stopEngineRTD|stopped|str|sunOrMoon|supportInfo|suppressFor|surfaceIsWater|surfaceNormal|surfaceType|swimInDepth|switchableUnits|switchAction|switchCamera|switchGesture|switchLight|switchMove|synchronizedObjects|synchronizedTriggers|synchronizedWaypoints|synchronizeObjectsAdd|synchronizeObjectsRemove|synchronizeTrigger|synchronizeWaypoint|systemChat|systemOfUnits|tan|targetKnowledge|targets|targetsAggregate|targetsQuery|taskAlwaysVisible|taskChildren|taskCompleted|taskCustomData|taskDescription|taskDestination|taskHint|taskMarkerOffset|taskNull|taskParent|taskResult|taskState|taskType|teamMember|teamMemberNull|teamName|teams|teamSwitch|teamSwitchEnabled|teamType|terminate|terrainIntersect|terrainIntersectASL|terrainIntersectAtASL|text|textLog|textLogFormat|tg|time|timeMultiplier|titleCut|titleFadeOut|titleObj|titleRsc|titleText|toArray|toFixed|toLower|toString|toUpper|triggerActivated|triggerActivation|triggerArea|triggerAttachedVehicle|triggerAttachObject|triggerAttachVehicle|triggerDynamicSimulation|triggerStatements|triggerText|triggerTimeout|triggerTimeoutCurrent|triggerType|turretLocal|turretOwner|turretUnit|tvAdd|tvClear|tvCollapse|tvCollapseAll|tvCount|tvCurSel|tvData|tvDelete|tvExpand|tvExpandAll|tvPicture|tvPictureRight|tvSetColor|tvSetCurSel|tvSetData|tvSetPicture|tvSetPictureColor|tvSetPictureColorDisabled|tvSetPictureColorSelected|tvSetPictureRight|tvSetPictureRightColor|tvSetPictureRightColorDisabled|tvSetPictureRightColorSelected|tvSetSelectColor|tvSetText|tvSetTooltip|tvSetValue|tvSort|tvSortByValue|tvText|tvTooltip|tvValue|type|typeName|typeOf|UAVControl|uiNamespace|uiSleep|unassignCurator|unassignItem|unassignTeam|unassignVehicle|underwater|uniform|uniformContainer|uniformItems|uniformMagazines|unitAddons|unitAimPosition|unitAimPositionVisual|unitBackpack|unitIsUAV|unitPos|unitReady|unitRecoilCoefficient|units|unitsBelowHeight|unlinkItem|unlockAchievement|unregisterTask|updateDrawIcon|updateMenuItem|updateObjectTree|useAIOperMapObstructionTest|useAISteeringComponent|useAudioTimeForMoves|userInputDisabled|vectorAdd|vectorCos|vectorCrossProduct|vectorDiff|vectorDir|vectorDirVisual|vectorDistance|vectorDistanceSqr|vectorDotProduct|vectorFromTo|vectorMagnitude|vectorMagnitudeSqr|vectorModelToWorld|vectorModelToWorldVisual|vectorMultiply|vectorNormalized|vectorUp|vectorUpVisual|vectorWorldToModel|vectorWorldToModelVisual|vehicle|vehicleCargoEnabled|vehicleChat|vehicleRadio|vehicleReceiveRemoteTargets|vehicleReportOwnPosition|vehicleReportRemoteTargets|vehicles|vehicleVarName|velocity|velocityModelSpace|verifySignature|vest|vestContainer|vestItems|vestMagazines|viewDistance|visibleCompass|visibleGPS|visibleMap|visiblePosition|visiblePositionASL|visibleScoretable|visibleWatch|waitUntil|waves|waypointAttachedObject|waypointAttachedVehicle|waypointAttachObject|waypointAttachVehicle|waypointBehaviour|waypointCombatMode|waypointCompletionRadius|waypointDescription|waypointForceBehaviour|waypointFormation|waypointHousePosition|waypointLoiterRadius|waypointLoiterType|waypointName|waypointPosition|waypoints|waypointScript|waypointsEnabledUAV|waypointShow|waypointSpeed|waypointStatements|waypointTimeout|waypointTimeoutCurrent|waypointType|waypointVisible|weaponAccessories|weaponAccessoriesCargo|weaponCargo|weaponDirection|weaponInertia|weaponLowered|weapons|weaponsItems|weaponsItemsCargo|weaponState|weaponsTurret|weightRTD|west|WFSideText|wind|windDir|windRTD|windStr|wingsForcesRTD|worldName|worldSize|worldToModel|worldToModelVisual|worldToScreen)\b/i,number:/(?:\$|\b0x)[\da-f]+\b|(?:\B\.\d+|\b\d+(?:\.\d+)?)(?:e[+-]?\d+)?\b/i,operator:/##|>>|&&|\|\||[!=<>]=?|[-+*/%#^]|\b(?:and|mod|not|or)\b/i,"magic-variable":{pattern:/\b(?:this|thisList|thisTrigger|_exception|_fnc_scriptName|_fnc_scriptNameParent|_forEachIndex|_this|_thisEventHandler|_thisFSM|_thisScript|_x)\b/i,alias:"keyword"},constant:/\bDIK(?:_[a-z\d]+)+\b/i}),e.languages.insertBefore("sqf","string",{macro:{pattern:/(^[ \t]*)#[a-z](?:[^\r\n\\]|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{directive:{pattern:/#[a-z]+\b/i,alias:"keyword"},comment:e.languages.sqf.comment}}}),delete e.languages.sqf["class-name"]}e.exports=t,t.displayName="sqf",t.aliases=[]},13880:function(e){"use strict";function t(e){e.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}}e.exports=t,t.displayName="sql",t.aliases=[]},88845:function(e){"use strict";function t(e){e.languages.squirrel=e.languages.extend("clike",{comment:[e.languages.clike.comment[0],{pattern:/(^|[^\\:])(?:\/\/|#).*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^\\"'@])(?:@"(?:[^"]|"")*"(?!")|"(?:[^\\\r\n"]|\\.)*")/,lookbehind:!0,greedy:!0},"class-name":{pattern:/(\b(?:class|enum|extends|instanceof)\s+)\w+(?:\.\w+)*/,lookbehind:!0,inside:{punctuation:/\./}},keyword:/\b(?:__FILE__|__LINE__|base|break|case|catch|class|clone|const|constructor|continue|default|delete|else|enum|extends|for|foreach|function|if|in|instanceof|local|null|resume|return|static|switch|this|throw|try|typeof|while|yield)\b/,number:/\b(?:0x[0-9a-fA-F]+|\d+(?:\.(?:\d+|[eE][+-]?\d+))?)\b/,operator:/\+\+|--|<=>|<[-<]|>>>?|&&?|\|\|?|[-+*/%!=<>]=?|[~^]|::?/,punctuation:/[(){}\[\],;.]/}),e.languages.insertBefore("squirrel","string",{char:{pattern:/(^|[^\\"'])'(?:[^\\']|\\(?:[xuU][0-9a-fA-F]{0,8}|[\s\S]))'/,lookbehind:!0,greedy:!0}}),e.languages.insertBefore("squirrel","operator",{"attribute-punctuation":{pattern:/<\/|\/>/,alias:"important"},lambda:{pattern:/@(?=\()/,alias:"operator"}})}e.exports=t,t.displayName="squirrel",t.aliases=[]},69103:function(e){"use strict";function t(e){var t;t=/\b(?:algebra_solver|algebra_solver_newton|integrate_1d|integrate_ode|integrate_ode_bdf|integrate_ode_rk45|map_rect|ode_(?:adams|bdf|ckrk|rk45)(?:_tol)?|ode_adjoint_tol_ctl|reduce_sum|reduce_sum_static)\b/,e.languages.stan={comment:/\/\/.*|\/\*[\s\S]*?\*\/|#(?!include).*/,string:{pattern:/"[\x20\x21\x23-\x5B\x5D-\x7E]*"/,greedy:!0},directive:{pattern:/^([ \t]*)#include\b.*/m,lookbehind:!0,alias:"property"},"function-arg":{pattern:RegExp("("+t.source+/\s*\(\s*/.source+")"+/[a-zA-Z]\w*/.source),lookbehind:!0,alias:"function"},constraint:{pattern:/(\b(?:int|matrix|real|row_vector|vector)\s*)<[^<>]*>/,lookbehind:!0,inside:{expression:{pattern:/(=\s*)\S(?:\S|\s+(?!\s))*?(?=\s*(?:>$|,\s*\w+\s*=))/,lookbehind:!0,inside:null},property:/\b[a-z]\w*(?=\s*=)/i,operator:/=/,punctuation:/^<|>$|,/}},keyword:[{pattern:/\bdata(?=\s*\{)|\b(?:functions|generated|model|parameters|quantities|transformed)\b/,alias:"program-block"},/\b(?:array|break|cholesky_factor_corr|cholesky_factor_cov|complex|continue|corr_matrix|cov_matrix|data|else|for|if|in|increment_log_prob|int|matrix|ordered|positive_ordered|print|real|reject|return|row_vector|simplex|target|unit_vector|vector|void|while)\b/,t],function:/\b[a-z]\w*(?=\s*\()/i,number:/(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:E[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,boolean:/\b(?:false|true)\b/,operator:/<-|\.[*/]=?|\|\|?|&&|[!=<>+\-*/]=?|['^%~?:]/,punctuation:/[()\[\]{},;]/},e.languages.stan.constraint.inside.expression.inside=e.languages.stan}e.exports=t,t.displayName="stan",t.aliases=[]},43415:function(e){"use strict";function t(e){var t,n,r;(r={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},url:{pattern:/\burl\((["']?).*?\1\)/i,greedy:!0},string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:else|for|if|return|unless)(?=\s|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:t={pattern:/(\b\d+)(?:%|[a-z]+)/,lookbehind:!0},number:n={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0},function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:t,boolean:/\b(?:false|true)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.{2,3}|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],number:n,punctuation:/[{}()\[\];:,]/}).interpolation={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^\{|\}$/,alias:"punctuation"},rest:r}},r.func={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:r}},e.languages.stylus={"atrule-declaration":{pattern:/(^[ \t]*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:r}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:\{[^{}]*\}|\S.*|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:r}},statement:{pattern:/(^[ \t]*)(?:else|for|if|return|unless)[ \t].+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:r}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)(?!\s)[^{\r\n]*(?:;|[^{\r\n,]$(?!(?:\r?\n|\r)(?:\{|\2[ \t])))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:r.interpolation}},rest:r}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t])))/m,lookbehind:!0,inside:{interpolation:r.interpolation,comment:r.comment,punctuation:/[{},]/}},func:r.func,string:r.string,comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},interpolation:r.interpolation,punctuation:/[{}()\[\];:.]/}}e.exports=t,t.displayName="stylus",t.aliases=[]},49838:function(e){"use strict";function t(e){e.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},e.languages.swift["string-literal"].forEach(function(t){t.inside.interpolation.inside=e.languages.swift})}e.exports=t,t.displayName="swift",t.aliases=[]},58245:function(e){"use strict";function t(e){var t,n;t={pattern:/^[;#].*/m,greedy:!0},n=/"(?:[^\r\n"\\]|\\(?:[^\r]|\r\n?))*"(?!\S)/.source,e.languages.systemd={comment:t,section:{pattern:/^\[[^\n\r\[\]]*\](?=[ \t]*$)/m,greedy:!0,inside:{punctuation:/^\[|\]$/,"section-name":{pattern:/[\s\S]+/,alias:"selector"}}},key:{pattern:/^[^\s=]+(?=[ \t]*=)/m,greedy:!0,alias:"attr-name"},value:{pattern:RegExp(/(=[ \t]*(?!\s))/.source+"(?:"+n+'|(?=[^"\r\n]))(?:'+(/[^\s\\]/.source+'|[ 	]+(?:(?![ 	"])|')+n+")|"+/\\[\r\n]+(?:[#;].*[\r\n]+)*(?![#;])/.source+")*"),lookbehind:!0,greedy:!0,alias:"attr-value",inside:{comment:t,quoted:{pattern:RegExp(/(^|\s)/.source+n),lookbehind:!0,greedy:!0},punctuation:/\\$/m,boolean:{pattern:/^(?:false|no|off|on|true|yes)$/,greedy:!0}}},punctuation:/=/}}e.exports=t,t.displayName="systemd",t.aliases=[]},60753:function(e,t,n){"use strict";var r=n(76249),i=n(82025);function o(e){e.register(r),e.register(i),e.languages.t4=e.languages["t4-cs"]=e.languages["t4-templating"].createT4("csharp")}e.exports=o,o.displayName="t4Cs",o.aliases=[]},76249:function(e){"use strict";function t(e){!function(e){function t(e,t,n){return{pattern:RegExp("<#"+e+"[\\s\\S]*?#>"),alias:"block",inside:{delimiter:{pattern:RegExp("^<#"+e+"|#>$"),alias:"important"},content:{pattern:/[\s\S]+/,inside:t,alias:n}}}}e.languages["t4-templating"]=Object.defineProperty({},"createT4",{value:function(n){var r=e.languages[n],i="language-"+n;return{block:{pattern:/<#[\s\S]+?#>/,inside:{directive:t("@",{"attr-value":{pattern:/=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+)/,inside:{punctuation:/^=|^["']|["']$/}},keyword:/\b\w+(?=\s)/,"attr-name":/\b\w+/}),expression:t("=",r,i),"class-feature":t("\\+",r,i),standard:t("",r,i)}}}}})}(e)}e.exports=t,t.displayName="t4Templating",t.aliases=[]},50877:function(e,t,n){"use strict";var r=n(76249),i=n(77242);function o(e){e.register(r),e.register(i),e.languages["t4-vb"]=e.languages["t4-templating"].createT4("vbnet")}e.exports=o,o.displayName="t4Vb",o.aliases=[]},7482:function(e,t,n){"use strict";var r=n(88237);function i(e){e.register(r),e.languages.tap={fail:/not ok[^#{\n\r]*/,pass:/ok[^#{\n\r]*/,pragma:/pragma [+-][a-z]+/,bailout:/bail out!.*/i,version:/TAP version \d+/i,plan:/\b\d+\.\.\d+(?: +#.*)?/,subtest:{pattern:/# Subtest(?:: .*)?/,greedy:!0},punctuation:/[{}]/,directive:/#.*/,yamlish:{pattern:/(^[ \t]*)---[\s\S]*?[\r\n][ \t]*\.\.\.$/m,lookbehind:!0,inside:e.languages.yaml,alias:"language-yaml"}}}e.exports=i,i.displayName="tap",i.aliases=[]},69730:function(e){"use strict";function t(e){e.languages.tcl={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:{pattern:/"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*"/,greedy:!0},variable:[{pattern:/(\$)(?:::)?(?:[a-zA-Z0-9]+::)*\w+/,lookbehind:!0},{pattern:/(\$)\{[^}]+\}/,lookbehind:!0},{pattern:/(^[\t ]*set[ \t]+)(?:::)?(?:[a-zA-Z0-9]+::)*\w+/m,lookbehind:!0}],function:{pattern:/(^[\t ]*proc[ \t]+)\S+/m,lookbehind:!0},builtin:[{pattern:/(^[\t ]*)(?:break|class|continue|error|eval|exit|for|foreach|if|proc|return|switch|while)\b/m,lookbehind:!0},/\b(?:else|elseif)\b/],scope:{pattern:/(^[\t ]*)(?:global|upvar|variable)\b/m,lookbehind:!0,alias:"constant"},keyword:{pattern:/(^[\t ]*|\[)(?:Safe_Base|Tcl|after|append|apply|array|auto_(?:execok|import|load|mkindex|qualify|reset)|automkindex_old|bgerror|binary|catch|cd|chan|clock|close|concat|dde|dict|encoding|eof|exec|expr|fblocked|fconfigure|fcopy|file(?:event|name)?|flush|gets|glob|history|http|incr|info|interp|join|lappend|lassign|lindex|linsert|list|llength|load|lrange|lrepeat|lreplace|lreverse|lsearch|lset|lsort|math(?:func|op)|memory|msgcat|namespace|open|package|parray|pid|pkg_mkIndex|platform|puts|pwd|re_syntax|read|refchan|regexp|registry|regsub|rename|scan|seek|set|socket|source|split|string|subst|tcl(?:_endOfWord|_findLibrary|startOf(?:Next|Previous)Word|test|vars|wordBreak(?:After|Before))|tell|time|tm|trace|unknown|unload|unset|update|uplevel|vwait)\b/m,lookbehind:!0},operator:/!=?|\*\*?|==|&&?|\|\|?|<[=<]?|>[=>]?|[-+~\/%?^]|\b(?:eq|in|ne|ni)\b/,punctuation:/[{}()\[\]]/}}e.exports=t,t.displayName="tcl",t.aliases=[]},30390:function(e){"use strict";function t(e){!function(e){var t=/\([^|()\n]+\)|\[[^\]\n]+\]|\{[^}\n]+\}/.source,n=/\)|\((?![^|()\n]+\))/.source;function r(e,r){return RegExp(e.replace(/<MOD>/g,function(){return"(?:"+t+")"}).replace(/<PAR>/g,function(){return"(?:"+n+")"}),r||"")}var i={css:{pattern:/\{[^{}]+\}/,inside:{rest:e.languages.css}},"class-id":{pattern:/(\()[^()]+(?=\))/,lookbehind:!0,alias:"attr-value"},lang:{pattern:/(\[)[^\[\]]+(?=\])/,lookbehind:!0,alias:"attr-value"},punctuation:/[\\\/]\d+|\S/},o=e.languages.textile=e.languages.extend("markup",{phrase:{pattern:/(^|\r|\n)\S[\s\S]*?(?=$|\r?\n\r?\n|\r\r)/,lookbehind:!0,inside:{"block-tag":{pattern:r(/^[a-z]\w*(?:<MOD>|<PAR>|[<>=])*\./.source),inside:{modifier:{pattern:r(/(^[a-z]\w*)(?:<MOD>|<PAR>|[<>=])+(?=\.)/.source),lookbehind:!0,inside:i},tag:/^[a-z]\w*/,punctuation:/\.$/}},list:{pattern:r(/^[*#]+<MOD>*\s+\S.*/.source,"m"),inside:{modifier:{pattern:r(/(^[*#]+)<MOD>+/.source),lookbehind:!0,inside:i},punctuation:/^[*#]+/}},table:{pattern:r(/^(?:(?:<MOD>|<PAR>|[<>=^~])+\.\s*)?(?:\|(?:(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+\.|(?!(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+\.))[^|]*)+\|/.source,"m"),inside:{modifier:{pattern:r(/(^|\|(?:\r?\n|\r)?)(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+(?=\.)/.source),lookbehind:!0,inside:i},punctuation:/\||^\./}},inline:{pattern:r(/(^|[^a-zA-Z\d])(\*\*|__|\?\?|[*_%@+\-^~])<MOD>*.+?\2(?![a-zA-Z\d])/.source),lookbehind:!0,inside:{bold:{pattern:r(/(^(\*\*?)<MOD>*).+?(?=\2)/.source),lookbehind:!0},italic:{pattern:r(/(^(__?)<MOD>*).+?(?=\2)/.source),lookbehind:!0},cite:{pattern:r(/(^\?\?<MOD>*).+?(?=\?\?)/.source),lookbehind:!0,alias:"string"},code:{pattern:r(/(^@<MOD>*).+?(?=@)/.source),lookbehind:!0,alias:"keyword"},inserted:{pattern:r(/(^\+<MOD>*).+?(?=\+)/.source),lookbehind:!0},deleted:{pattern:r(/(^-<MOD>*).+?(?=-)/.source),lookbehind:!0},span:{pattern:r(/(^%<MOD>*).+?(?=%)/.source),lookbehind:!0},modifier:{pattern:r(/(^\*\*|__|\?\?|[*_%@+\-^~])<MOD>+/.source),lookbehind:!0,inside:i},punctuation:/[*_%?@+\-^~]+/}},"link-ref":{pattern:/^\[[^\]]+\]\S+$/m,inside:{string:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0},url:{pattern:/(^\])\S+$/,lookbehind:!0},punctuation:/[\[\]]/}},link:{pattern:r(/"<MOD>*[^"]+":.+?(?=[^\w/]?(?:\s|$))/.source),inside:{text:{pattern:r(/(^"<MOD>*)[^"]+(?=")/.source),lookbehind:!0},modifier:{pattern:r(/(^")<MOD>+/.source),lookbehind:!0,inside:i},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[":]/}},image:{pattern:r(/!(?:<MOD>|<PAR>|[<>=])*(?![<>=])[^!\s()]+(?:\([^)]+\))?!(?::.+?(?=[^\w/]?(?:\s|$)))?/.source),inside:{source:{pattern:r(/(^!(?:<MOD>|<PAR>|[<>=])*)(?![<>=])[^!\s()]+(?:\([^)]+\))?(?=!)/.source),lookbehind:!0,alias:"url"},modifier:{pattern:r(/(^!)(?:<MOD>|<PAR>|[<>=])+/.source),lookbehind:!0,inside:i},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[!:]/}},footnote:{pattern:/\b\[\d+\]/,alias:"comment",inside:{punctuation:/\[|\]/}},acronym:{pattern:/\b[A-Z\d]+\([^)]+\)/,inside:{comment:{pattern:/(\()[^()]+(?=\))/,lookbehind:!0},punctuation:/[()]/}},mark:{pattern:/\b\((?:C|R|TM)\)/,alias:"comment",inside:{punctuation:/[()]/}}}}}),a=o.phrase.inside,s={inline:a.inline,link:a.link,image:a.image,footnote:a.footnote,acronym:a.acronym,mark:a.mark};o.tag.pattern=/<\/?(?!\d)[a-z0-9]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i;var l=a.inline.inside;l.bold.inside=s,l.italic.inside=s,l.inserted.inside=s,l.deleted.inside=s,l.span.inside=s;var c=a.table.inside;c.inline=s.inline,c.link=s.link,c.image=s.image,c.footnote=s.footnote,c.acronym=s.acronym,c.mark=s.mark}(e)}e.exports=t,t.displayName="textile",t.aliases=[]},72451:function(e){"use strict";function t(e){!function(e){var t=/(?:[\w-]+|'[^'\n\r]*'|"(?:\\.|[^\\"\r\n])*")/.source;function n(e){return e.replace(/__/g,function(){return t})}e.languages.toml={comment:{pattern:/#.*/,greedy:!0},table:{pattern:RegExp(n(/(^[\t ]*\[\s*(?:\[\s*)?)__(?:\s*\.\s*__)*(?=\s*\])/.source),"m"),lookbehind:!0,greedy:!0,alias:"class-name"},key:{pattern:RegExp(n(/(^[\t ]*|[{,]\s*)__(?:\s*\.\s*__)*(?=\s*=)/.source),"m"),lookbehind:!0,greedy:!0,alias:"property"},string:{pattern:/"""(?:\\[\s\S]|[^\\])*?"""|'''[\s\S]*?'''|'[^'\n\r]*'|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},date:[{pattern:/\b\d{4}-\d{2}-\d{2}(?:[T\s]\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|[+-]\d{2}:\d{2})?)?\b/i,alias:"number"},{pattern:/\b\d{2}:\d{2}:\d{2}(?:\.\d+)?\b/,alias:"number"}],number:/(?:\b0(?:x[\da-zA-Z]+(?:_[\da-zA-Z]+)*|o[0-7]+(?:_[0-7]+)*|b[10]+(?:_[10]+)*))\b|[-+]?\b\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?\b|[-+]?\b(?:inf|nan)\b/,boolean:/\b(?:false|true)\b/,punctuation:/[.,=[\]{}]/}}(e)}e.exports=t,t.displayName="toml",t.aliases=[]},35321:function(e){"use strict";function t(e){var t;e.languages.tremor={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},"interpolated-string":null,extractor:{pattern:/\b[a-z_]\w*\|(?:[^\r\n\\|]|\\(?:\r\n|[\s\S]))*\|/i,greedy:!0,inside:{regex:{pattern:/(^re)\|[\s\S]+/,lookbehind:!0},function:/^\w+/,value:/\|[\s\S]+/}},identifier:{pattern:/`[^`]*`/,greedy:!0},function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())\b/,keyword:/\b(?:args|as|by|case|config|connect|connector|const|copy|create|default|define|deploy|drop|each|emit|end|erase|event|flow|fn|for|from|group|having|insert|into|intrinsic|let|links|match|merge|mod|move|of|operator|patch|pipeline|recur|script|select|set|sliding|state|stream|to|tumbling|update|use|when|where|window|with)\b/,boolean:/\b(?:false|null|true)\b/i,number:/\b(?:0b[01_]*|0x[0-9a-fA-F_]*|\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee][+-]?[\d_]+)?)\b/,"pattern-punctuation":{pattern:/%(?=[({[])/,alias:"punctuation"},operator:/[-+*\/%~!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?>?=?|(?:absent|and|not|or|present|xor)\b/,punctuation:/::|[;\[\]()\{\},.:]/},t=/#\{(?:[^"{}]|\{[^{}]*\}|"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*")*\}/.source,e.languages.tremor["interpolated-string"]={pattern:RegExp(/(^|[^\\])/.source+'(?:"""(?:'+/[^"\\#]|\\[\s\S]|"(?!"")|#(?!\{)/.source+"|"+t+')*"""|"(?:'+/[^"\\\r\n#]|\\(?:\r\n|[\s\S])|#(?!\{)/.source+"|"+t+')*")'),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:RegExp(t),inside:{punctuation:/^#\{|\}$/,expression:{pattern:/[\s\S]+/,inside:e.languages.tremor}}},string:/[\s\S]+/}},e.languages.troy=e.languages.tremor,e.languages.trickle=e.languages.tremor}e.exports=t,t.displayName="tremor",t.aliases=[]},72663:function(e,t,n){"use strict";var r=n(82961),i=n(66409);function o(e){var t,n;e.register(r),e.register(i),t=e.util.clone(e.languages.typescript),e.languages.tsx=e.languages.extend("jsx",t),delete e.languages.tsx.parameter,delete e.languages.tsx["literal-property"],(n=e.languages.tsx.tag).pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+n.pattern.source+")",n.pattern.flags),n.lookbehind=!0}e.exports=o,o.displayName="tsx",o.aliases=[]},70345:function(e,t,n){"use strict";var r=n(47305);function i(e){e.register(r),e.languages.tt2=e.languages.extend("clike",{comment:/#.*|\[%#[\s\S]*?%\]/,keyword:/\b(?:BLOCK|CALL|CASE|CATCH|CLEAR|DEBUG|DEFAULT|ELSE|ELSIF|END|FILTER|FINAL|FOREACH|GET|IF|IN|INCLUDE|INSERT|LAST|MACRO|META|NEXT|PERL|PROCESS|RAWPERL|RETURN|SET|STOP|SWITCH|TAGS|THROW|TRY|UNLESS|USE|WHILE|WRAPPER)\b/,punctuation:/[[\]{},()]/}),e.languages.insertBefore("tt2","number",{operator:/=[>=]?|!=?|<=?|>=?|&&|\|\|?|\b(?:and|not|or)\b/,variable:{pattern:/\b[a-z]\w*(?:\s*\.\s*(?:\d+|\$?[a-z]\w*))*\b/i}}),e.languages.insertBefore("tt2","keyword",{delimiter:{pattern:/^(?:\[%|%%)-?|-?%\]$/,alias:"punctuation"}}),e.languages.insertBefore("tt2","string",{"single-quoted-string":{pattern:/'[^\\']*(?:\\[\s\S][^\\']*)*'/,greedy:!0,alias:"string"},"double-quoted-string":{pattern:/"[^\\"]*(?:\\[\s\S][^\\"]*)*"/,greedy:!0,alias:"string",inside:{variable:{pattern:/\$(?:[a-z]\w*(?:\.(?:\d+|\$?[a-z]\w*))*)/i}}}}),delete e.languages.tt2.string,e.hooks.add("before-tokenize",function(t){e.languages["markup-templating"].buildPlaceholders(t,"tt2",/\[%[\s\S]+?%\]/g)}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"tt2")})}e.exports=i,i.displayName="tt2",i.aliases=[]},6918:function(e){"use strict";function t(e){e.languages.turtle={comment:{pattern:/#.*/,greedy:!0},"multiline-string":{pattern:/"""(?:(?:""?)?(?:[^"\\]|\\.))*"""|'''(?:(?:''?)?(?:[^'\\]|\\.))*'''/,greedy:!0,alias:"string",inside:{comment:/#.*/}},string:{pattern:/"(?:[^\\"\r\n]|\\.)*"|'(?:[^\\'\r\n]|\\.)*'/,greedy:!0},url:{pattern:/<(?:[^\x00-\x20<>"{}|^`\\]|\\(?:u[\da-fA-F]{4}|U[\da-fA-F]{8}))*>/,greedy:!0,inside:{punctuation:/[<>]/}},function:{pattern:/(?:(?![-.\d\xB7])[-.\w\xB7\xC0-\uFFFD]+)?:(?:(?![-.])(?:[-.:\w\xC0-\uFFFD]|%[\da-f]{2}|\\.)+)?/i,inside:{"local-name":{pattern:/([^:]*:)[\s\S]+/,lookbehind:!0},prefix:{pattern:/[\s\S]+/,inside:{punctuation:/:/}}}},number:/[+-]?\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[{}.,;()[\]]|\^\^/,boolean:/\b(?:false|true)\b/,keyword:[/(?:\ba|@prefix|@base)\b|=/,/\b(?:base|graph|prefix)\b/i],tag:{pattern:/@[a-z]+(?:-[a-z\d]+)*/i,inside:{punctuation:/@/}}},e.languages.trig=e.languages.turtle}e.exports=t,t.displayName="turtle",t.aliases=[]},50955:function(e,t,n){"use strict";var r=n(47305);function i(e){e.register(r),e.languages.twig={comment:/^\{#[\s\S]*?#\}$/,"tag-name":{pattern:/(^\{%-?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%]-?|-?[%}]\}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/}},keyword:/\b(?:even|if|odd)\b/,boolean:/\b(?:false|null|true)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-or|b-xor|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],punctuation:/[()\[\]{}:.,]/},e.hooks.add("before-tokenize",function(t){"twig"===t.language&&e.languages["markup-templating"].buildPlaceholders(t,"twig",/\{(?:#[\s\S]*?#|%[\s\S]*?%|\{[\s\S]*?\})\}/g)}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"twig")})}e.exports=i,i.displayName="twig",i.aliases=[]},66409:function(e){"use strict";function t(e){var t;e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"],t=e.languages.extend("typescript",{}),delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}e.exports=t,t.displayName="typescript",t.aliases=["ts"]},25826:function(e){"use strict";function t(e){var t;t=/\b(?:ACT|ACTIFSUB|CARRAY|CASE|CLEARGIF|COA|COA_INT|CONSTANTS|CONTENT|CUR|EDITPANEL|EFFECT|EXT|FILE|FLUIDTEMPLATE|FORM|FRAME|FRAMESET|GIFBUILDER|GMENU|GMENU_FOLDOUT|GMENU_LAYERS|GP|HMENU|HRULER|HTML|IENV|IFSUB|IMAGE|IMGMENU|IMGMENUITEM|IMGTEXT|IMG_RESOURCE|INCLUDE_TYPOSCRIPT|JSMENU|JSMENUITEM|LLL|LOAD_REGISTER|NO|PAGE|RECORDS|RESTORE_REGISTER|TEMPLATE|TEXT|TMENU|TMENUITEM|TMENU_LAYERS|USER|USER_INT|_GIFBUILDER|global|globalString|globalVar)\b/,e.languages.typoscript={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:= \t]|(?:^|[^= \t])[ \t]+)\/\/.*/,lookbehind:!0,greedy:!0},{pattern:/(^|[^"'])#.*/,lookbehind:!0,greedy:!0}],function:[{pattern:/<INCLUDE_TYPOSCRIPT:\s*source\s*=\s*(?:"[^"\r\n]*"|'[^'\r\n]*')\s*>/,inside:{string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,inside:{keyword:t}},keyword:{pattern:/INCLUDE_TYPOSCRIPT/}}},{pattern:/@import\s*(?:"[^"\r\n]*"|'[^'\r\n]*')/,inside:{string:/"[^"\r\n]*"|'[^'\r\n]*'/}}],string:{pattern:/^([^=]*=[< ]?)(?:(?!\]\n).)*/,lookbehind:!0,inside:{function:/\{\$.*\}/,keyword:t,number:/^\d+$/,punctuation:/[,|:]/}},keyword:t,number:{pattern:/\b\d+\s*[.{=]/,inside:{operator:/[.{=]/}},tag:{pattern:/\.?[-\w\\]+\.?/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:|]/,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/},e.languages.tsconfig=e.languages.typoscript}e.exports=t,t.displayName="typoscript",t.aliases=["tsconfig"]},80395:function(e){"use strict";function t(e){e.languages.unrealscript={comment:/\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},category:{pattern:/(\b(?:(?:autoexpand|hide|show)categories|var)\s*\()[^()]+(?=\))/,lookbehind:!0,greedy:!0,alias:"property"},metadata:{pattern:/(\w\s*)<\s*\w+\s*=[^<>|=\r\n]+(?:\|\s*\w+\s*=[^<>|=\r\n]+)*>/,lookbehind:!0,greedy:!0,inside:{property:/\b\w+(?=\s*=)/,operator:/=/,punctuation:/[<>|]/}},macro:{pattern:/`\w+/,alias:"property"},"class-name":{pattern:/(\b(?:class|enum|extends|interface|state(?:\(\))?|struct|within)\s+)\w+/,lookbehind:!0},keyword:/\b(?:abstract|actor|array|auto|autoexpandcategories|bool|break|byte|case|class|classgroup|client|coerce|collapsecategories|config|const|continue|default|defaultproperties|delegate|dependson|deprecated|do|dontcollapsecategories|editconst|editinlinenew|else|enum|event|exec|export|extends|final|float|for|forcescriptorder|foreach|function|goto|guid|hidecategories|hidedropdown|if|ignores|implements|inherits|input|int|interface|iterator|latent|local|material|name|native|nativereplication|noexport|nontransient|noteditinlinenew|notplaceable|operator|optional|out|pawn|perobjectconfig|perobjectlocalized|placeable|postoperator|preoperator|private|protected|reliable|replication|return|server|showcategories|simulated|singular|state|static|string|struct|structdefault|structdefaultproperties|switch|texture|transient|travel|unreliable|until|var|vector|while|within)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/>>|<<|--|\+\+|\*\*|[-+*/~!=<>$@]=?|&&?|\|\|?|\^\^?|[?:%]|\b(?:ClockwiseFrom|Cross|Dot)\b/,punctuation:/[()[\]{};,.]/},e.languages.uc=e.languages.uscript=e.languages.unrealscript}e.exports=t,t.displayName="unrealscript",t.aliases=["uc","uscript"]},51473:function(e){"use strict";function t(e){e.languages.uorazor={"comment-hash":{pattern:/#.*/,alias:"comment",greedy:!0},"comment-slash":{pattern:/\/\/.*/,alias:"comment",greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/},greedy:!0},"source-layers":{pattern:/\b(?:arms|backpack|blue|bracelet|cancel|clear|cloak|criminal|earrings|enemy|facialhair|friend|friendly|gloves|gray|grey|ground|hair|head|innerlegs|innertorso|innocent|lefthand|middletorso|murderer|neck|nonfriendly|onehandedsecondary|outerlegs|outertorso|pants|red|righthand|ring|self|shirt|shoes|talisman|waist)\b/i,alias:"function"},"source-commands":{pattern:/\b(?:alliance|attack|cast|clearall|clearignore|clearjournal|clearlist|clearsysmsg|createlist|createtimer|dclick|dclicktype|dclickvar|dress|dressconfig|drop|droprelloc|emote|getlabel|guild|gumpclose|gumpresponse|hotkey|ignore|lasttarget|lift|lifttype|menu|menuresponse|msg|org|organize|organizer|overhead|pause|poplist|potion|promptresponse|pushlist|removelist|removetimer|rename|restock|say|scav|scavenger|script|setability|setlasttarget|setskill|settimer|setvar|sysmsg|target|targetloc|targetrelloc|targettype|undress|unignore|unsetvar|useobject|useonce|useskill|usetype|virtue|wait|waitforgump|waitformenu|waitforprompt|waitforstat|waitforsysmsg|waitfortarget|walk|wfsysmsg|wft|whisper|yell)\b/,alias:"function"},"tag-name":{pattern:/(^\{%-?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%]-?|-?[%}]\}$/,alias:"punctuation"},function:/\b(?:atlist|close|closest|count|counter|counttype|dead|dex|diffhits|diffmana|diffstam|diffweight|find|findbuff|finddebuff|findlayer|findtype|findtypelist|followers|gumpexists|hidden|hits|hp|hue|human|humanoid|ingump|inlist|insysmessage|insysmsg|int|invul|lhandempty|list|listexists|mana|maxhits|maxhp|maxmana|maxstam|maxweight|monster|mounted|name|next|noto|paralyzed|poisoned|position|prev|previous|queued|rand|random|rhandempty|skill|stam|str|targetexists|timer|timerexists|varexist|warmode|weight)\b/,keyword:/\b(?:and|as|break|continue|else|elseif|endfor|endif|endwhile|for|if|loop|not|or|replay|stop|while)\b/,boolean:/\b(?:false|null|true)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-or|b-xor|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],punctuation:/[()\[\]{}:.,]/}}e.exports=t,t.displayName="uorazor",t.aliases=[]},18436:function(e){"use strict";function t(e){e.languages.uri={scheme:{pattern:/^[a-z][a-z0-9+.-]*:/im,greedy:!0,inside:{"scheme-delimiter":/:$/}},fragment:{pattern:/#[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"fragment-delimiter":/^#/}},query:{pattern:/\?[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"query-delimiter":{pattern:/^\?/,greedy:!0},"pair-delimiter":/[&;]/,pair:{pattern:/^[^=][\s\S]*/,inside:{key:/^[^=]+/,value:{pattern:/(^=)[\s\S]+/,lookbehind:!0}}}}},authority:{pattern:RegExp(/^\/\//.source+/(?:[\w\-.~!$&'()*+,;=%:]*@)?/.source+("(?:"+/\[(?:[0-9a-fA-F:.]{2,48}|v[0-9a-fA-F]+\.[\w\-.~!$&'()*+,;=]+)\]/.source)+"|"+/[\w\-.~!$&'()*+,;=%]*/.source+")"+/(?::\d*)?/.source,"m"),inside:{"authority-delimiter":/^\/\//,"user-info-segment":{pattern:/^[\w\-.~!$&'()*+,;=%:]*@/,inside:{"user-info-delimiter":/@$/,"user-info":/^[\w\-.~!$&'()*+,;=%:]+/}},"port-segment":{pattern:/:\d*$/,inside:{"port-delimiter":/^:/,port:/^\d+/}},host:{pattern:/[\s\S]+/,inside:{"ip-literal":{pattern:/^\[[\s\S]+\]$/,inside:{"ip-literal-delimiter":/^\[|\]$/,"ipv-future":/^v[\s\S]+/,"ipv6-address":/^[\s\S]+/}},"ipv4-address":/^(?:(?:[03-9]\d?|[12]\d{0,2})\.){3}(?:[03-9]\d?|[12]\d{0,2})$/}}}},path:{pattern:/^[\w\-.~!$&'()*+,;=%:@/]+/m,inside:{"path-separator":/\//}}},e.languages.url=e.languages.uri}e.exports=t,t.displayName="uri",t.aliases=["url"]},67671:function(e){"use strict";function t(e){var t;t={pattern:/[\s\S]+/,inside:null},e.languages.v=e.languages.extend("clike",{string:{pattern:/r?(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,alias:"quoted-string",greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\{[^{}]*\}|\w+(?:\.\w+(?:\([^\(\)]*\))?|\[[^\[\]]+\])*)/,lookbehind:!0,inside:{"interpolation-variable":{pattern:/^\$\w[\s\S]*$/,alias:"variable"},"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},"interpolation-expression":t}}}},"class-name":{pattern:/(\b(?:enum|interface|struct|type)\s+)(?:C\.)?\w+/,lookbehind:!0},keyword:/(?:\b(?:__global|as|asm|assert|atomic|break|chan|const|continue|defer|else|embed|enum|fn|for|go(?:to)?|if|import|in|interface|is|lock|match|module|mut|none|or|pub|return|rlock|select|shared|sizeof|static|struct|type(?:of)?|union|unsafe)|\$(?:else|for|if)|#(?:flag|include))\b/,number:/\b(?:0x[a-f\d]+(?:_[a-f\d]+)*|0b[01]+(?:_[01]+)*|0o[0-7]+(?:_[0-7]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?)\b/i,operator:/~|\?|[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\.?/,builtin:/\b(?:any(?:_float|_int)?|bool|byte(?:ptr)?|charptr|f(?:32|64)|i(?:8|16|64|128|nt)|rune|size_t|string|u(?:16|32|64|128)|voidptr)\b/}),t.inside=e.languages.v,e.languages.insertBefore("v","string",{char:{pattern:/`(?:\\`|\\?[^`]{1,2})`/,alias:"rune"}}),e.languages.insertBefore("v","operator",{attribute:{pattern:/(^[\t ]*)\[(?:deprecated|direct_array_access|flag|inline|live|ref_only|typedef|unsafe_fn|windows_stdcall)\]/m,lookbehind:!0,alias:"annotation",inside:{punctuation:/[\[\]]/,keyword:/\w+/}},generic:{pattern:/<\w+>(?=\s*[\)\{])/,inside:{punctuation:/[<>]/,"class-name":/\w+/}}}),e.languages.insertBefore("v","function",{"generic-function":{pattern:/\b\w+\s*<\w+>(?=\()/,inside:{function:/^\w+/,generic:{pattern:/<\w+>/,inside:e.languages.v.generic.inside}}}})}e.exports=t,t.displayName="v",t.aliases=[]},62295:function(e){"use strict";function t(e){e.languages.vala=e.languages.extend("clike",{"class-name":[{pattern:/\b[A-Z]\w*(?:\.\w+)*\b(?=(?:\?\s+|\*?\s+\*?)\w)/,inside:{punctuation:/\./}},{pattern:/(\[)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/(\b(?:class|interface)\s+[A-Z]\w*(?:\.\w+)*\s*:\s*)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/((?:\b(?:class|enum|interface|new|struct)\s+)|(?:catch\s+\())[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}}],keyword:/\b(?:abstract|as|assert|async|base|bool|break|case|catch|char|class|const|construct|continue|default|delegate|delete|do|double|dynamic|else|ensures|enum|errordomain|extern|finally|float|for|foreach|get|if|in|inline|int|int16|int32|int64|int8|interface|internal|is|lock|long|namespace|new|null|out|override|owned|params|private|protected|public|ref|requires|return|set|short|signal|sizeof|size_t|ssize_t|static|string|struct|switch|this|throw|throws|try|typeof|uchar|uint|uint16|uint32|uint64|uint8|ulong|unichar|unowned|ushort|using|value|var|virtual|void|volatile|weak|while|yield)\b/i,function:/\b\w+(?=\s*\()/,number:/(?:\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)(?:f|u?l?)?/i,operator:/\+\+|--|&&|\|\||<<=?|>>=?|=>|->|~|[+\-*\/%&^|=!<>]=?|\?\??|\.\.\./,punctuation:/[{}[\];(),.:]/,constant:/\b[A-Z0-9_]+\b/}),e.languages.insertBefore("vala","string",{"raw-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},"template-string":{pattern:/@"[\s\S]*?"/,greedy:!0,inside:{interpolation:{pattern:/\$(?:\([^)]*\)|[a-zA-Z]\w*)/,inside:{delimiter:{pattern:/^\$\(?|\)$/,alias:"punctuation"},rest:e.languages.vala}},string:/[\s\S]+/}}}),e.languages.insertBefore("vala","keyword",{regex:{pattern:/\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[imsx]{0,4}(?=\s*(?:$|[\r\n,.;})\]]))/,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\//,"regex-flags":/^[a-z]+$/}}})}e.exports=t,t.displayName="vala",t.aliases=[]},77242:function(e,t,n){"use strict";var r=n(14032);function i(e){e.register(r),e.languages.vbnet=e.languages.extend("basic",{comment:[{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},{pattern:/(^|[^\\:])'.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^"])"(?:""|[^"])*"(?!")/,lookbehind:!0,greedy:!0},keyword:/(?:\b(?:ADDHANDLER|ADDRESSOF|ALIAS|AND|ANDALSO|AS|BEEP|BLOAD|BOOLEAN|BSAVE|BYREF|BYTE|BYVAL|CALL(?: ABSOLUTE)?|CASE|CATCH|CBOOL|CBYTE|CCHAR|CDATE|CDBL|CDEC|CHAIN|CHAR|CHDIR|CINT|CLASS|CLEAR|CLNG|CLOSE|CLS|COBJ|COM|COMMON|CONST|CONTINUE|CSBYTE|CSHORT|CSNG|CSTR|CTYPE|CUINT|CULNG|CUSHORT|DATA|DATE|DECIMAL|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DEFAULT|DELEGATE|DIM|DIRECTCAST|DO|DOUBLE|ELSE|ELSEIF|END|ENUM|ENVIRON|ERASE|ERROR|EVENT|EXIT|FALSE|FIELD|FILES|FINALLY|FOR(?: EACH)?|FRIEND|FUNCTION|GET|GETTYPE|GETXMLNAMESPACE|GLOBAL|GOSUB|GOTO|HANDLES|IF|IMPLEMENTS|IMPORTS|IN|INHERITS|INPUT|INTEGER|INTERFACE|IOCTL|IS|ISNOT|KEY|KILL|LET|LIB|LIKE|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|ME|MKDIR|MOD|MODULE|MUSTINHERIT|MUSTOVERRIDE|MYBASE|MYCLASS|NAME|NAMESPACE|NARROWING|NEW|NEXT|NOT|NOTHING|NOTINHERITABLE|NOTOVERRIDABLE|OBJECT|OF|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPERATOR|OPTION(?: BASE)?|OPTIONAL|OR|ORELSE|OUT|OVERLOADS|OVERRIDABLE|OVERRIDES|PARAMARRAY|PARTIAL|POKE|PRIVATE|PROPERTY|PROTECTED|PUBLIC|PUT|RAISEEVENT|READ|READONLY|REDIM|REM|REMOVEHANDLER|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SBYTE|SELECT(?: CASE)?|SET|SHADOWS|SHARED|SHELL|SHORT|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|STRUCTURE|SUB|SWAP|SYNCLOCK|SYSTEM|THEN|THROW|TIMER|TO|TROFF|TRON|TRUE|TRY|TRYCAST|TYPE|TYPEOF|UINTEGER|ULONG|UNLOCK|UNTIL|USHORT|USING|VIEW PRINT|WAIT|WEND|WHEN|WHILE|WIDENING|WITH|WITHEVENTS|WRITE|WRITEONLY|XOR)|\B(?:#CONST|#ELSE|#ELSEIF|#END|#IF))(?:\$|\b)/i,punctuation:/[,;:(){}]/})}e.exports=i,i.displayName="vbnet",i.aliases=[]},26293:function(e){"use strict";function t(e){var t;e.languages.velocity=e.languages.extend("markup",{}),(t={variable:{pattern:/(^|[^\\](?:\\\\)*)\$!?(?:[a-z][\w-]*(?:\([^)]*\))?(?:\.[a-z][\w-]*(?:\([^)]*\))?|\[[^\]]+\])*|\{[^}]+\})/i,lookbehind:!0,inside:{}},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},number:/\b\d+\b/,boolean:/\b(?:false|true)\b/,operator:/[=!<>]=?|[+*/%-]|&&|\|\||\.\.|\b(?:eq|g[et]|l[et]|n(?:e|ot))\b/,punctuation:/[(){}[\]:,.]/}).variable.inside={string:t.string,function:{pattern:/([^\w-])[a-z][\w-]*(?=\()/,lookbehind:!0},number:t.number,boolean:t.boolean,punctuation:t.punctuation},e.languages.insertBefore("velocity","comment",{unparsed:{pattern:/(^|[^\\])#\[\[[\s\S]*?\]\]#/,lookbehind:!0,greedy:!0,inside:{punctuation:/^#\[\[|\]\]#$/}},"velocity-comment":[{pattern:/(^|[^\\])#\*[\s\S]*?\*#/,lookbehind:!0,greedy:!0,alias:"comment"},{pattern:/(^|[^\\])##.*/,lookbehind:!0,greedy:!0,alias:"comment"}],directive:{pattern:/(^|[^\\](?:\\\\)*)#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})(?:\s*\((?:[^()]|\([^()]*\))*\))?/i,lookbehind:!0,inside:{keyword:{pattern:/^#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})|\bin\b/,inside:{punctuation:/[{}]/}},rest:t}},variable:t.variable}),e.languages.velocity.tag.inside["attr-value"].inside.rest=e.languages.velocity}e.exports=t,t.displayName="velocity",t.aliases=[]},26051:function(e){"use strict";function t(e){e.languages.verilog={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"kernel-function":{pattern:/\B\$\w+\b/,alias:"property"},constant:/\B`\w+\b/,function:/\b\w+(?=\()/,keyword:/\b(?:alias|and|assert|assign|assume|automatic|before|begin|bind|bins|binsof|bit|break|buf|bufif0|bufif1|byte|case|casex|casez|cell|chandle|class|clocking|cmos|config|const|constraint|context|continue|cover|covergroup|coverpoint|cross|deassign|default|defparam|design|disable|dist|do|edge|else|end|endcase|endclass|endclocking|endconfig|endfunction|endgenerate|endgroup|endinterface|endmodule|endpackage|endprimitive|endprogram|endproperty|endsequence|endspecify|endtable|endtask|enum|event|expect|export|extends|extern|final|first_match|for|force|foreach|forever|fork|forkjoin|function|generate|genvar|highz0|highz1|if|iff|ifnone|ignore_bins|illegal_bins|import|incdir|include|initial|inout|input|inside|instance|int|integer|interface|intersect|join|join_any|join_none|large|liblist|library|local|localparam|logic|longint|macromodule|matches|medium|modport|module|nand|negedge|new|nmos|nor|noshowcancelled|not|notif0|notif1|null|or|output|package|packed|parameter|pmos|posedge|primitive|priority|program|property|protected|pull0|pull1|pulldown|pullup|pulsestyle_ondetect|pulsestyle_onevent|pure|rand|randc|randcase|randsequence|rcmos|real|realtime|ref|reg|release|repeat|return|rnmos|rpmos|rtran|rtranif0|rtranif1|scalared|sequence|shortint|shortreal|showcancelled|signed|small|solve|specify|specparam|static|string|strong0|strong1|struct|super|supply0|supply1|table|tagged|task|this|throughout|time|timeprecision|timeunit|tran|tranif0|tranif1|tri|tri0|tri1|triand|trior|trireg|type|typedef|union|unique|unsigned|use|uwire|var|vectored|virtual|void|wait|wait_order|wand|weak0|weak1|while|wildcard|wire|with|within|wor|xnor|xor)\b/,important:/\b(?:always|always_comb|always_ff|always_latch)\b(?: *@)?/,number:/\B##?\d+|(?:\b\d+)?'[odbh] ?[\da-fzx_?]+|\b(?:\d*[._])?\d+(?:e[-+]?\d+)?/i,operator:/[-+{}^~%*\/?=!<>&|]+/,punctuation:/[[\];(),.:]/}}e.exports=t,t.displayName="verilog",t.aliases=[]},66205:function(e){"use strict";function t(e){e.languages.vhdl={comment:/--.+/,"vhdl-vectors":{pattern:/\b[oxb]"[\da-f_]+"|"[01uxzwlh-]+"/i,alias:"number"},"quoted-function":{pattern:/"\S+?"(?=\()/,alias:"function"},string:/"(?:[^\\"\r\n]|\\(?:\r\n|[\s\S]))*"/,constant:/\b(?:library|use)\b/i,keyword:/\b(?:'active|'ascending|'base|'delayed|'driving|'driving_value|'event|'high|'image|'instance_name|'last_active|'last_event|'last_value|'left|'leftof|'length|'low|'path_name|'pos|'pred|'quiet|'range|'reverse_range|'right|'rightof|'simple_name|'stable|'succ|'transaction|'val|'value|access|after|alias|all|architecture|array|assert|attribute|begin|block|body|buffer|bus|case|component|configuration|constant|disconnect|downto|else|elsif|end|entity|exit|file|for|function|generate|generic|group|guarded|if|impure|in|inertial|inout|is|label|library|linkage|literal|loop|map|new|next|null|of|on|open|others|out|package|port|postponed|procedure|process|pure|range|record|register|reject|report|return|select|severity|shared|signal|subtype|then|to|transport|type|unaffected|units|until|use|variable|wait|when|while|with)\b/i,boolean:/\b(?:false|true)\b/i,function:/\w+(?=\()/,number:/'[01uxzwlh-]'|\b(?:\d+#[\da-f_.]+#|\d[\d_.]*)(?:e[-+]?\d+)?/i,operator:/[<>]=?|:=|[-+*/&=]|\b(?:abs|and|mod|nand|nor|not|or|rem|rol|ror|sla|sll|sra|srl|xnor|xor)\b/i,punctuation:/[{}[\];(),.:]/}}e.exports=t,t.displayName="vhdl",t.aliases=[]},60603:function(e){"use strict";function t(e){e.languages.vim={string:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\r\n]|'')*'/,comment:/".*/,function:/\b\w+(?=\()/,keyword:/\b(?:N|Next|P|Print|X|XMLent|XMLns|ab|abbreviate|abc|abclear|abo|aboveleft|al|all|ar|arga|argadd|argd|argdelete|argdo|arge|argedit|argg|argglobal|argl|arglocal|args|argu|argument|as|ascii|b|bN|bNext|ba|bad|badd|ball|bd|bdelete|be|bel|belowright|bf|bfirst|bl|blast|bm|bmodified|bn|bnext|bo|botright|bp|bprevious|br|brea|break|breaka|breakadd|breakd|breakdel|breakl|breaklist|brewind|bro|browse|bufdo|buffer|buffers|bun|bunload|bw|bwipeout|c|cN|cNext|cNfcNfile|ca|cabbrev|cabc|cabclear|cad|caddb|caddbuffer|caddexpr|caddf|caddfile|cal|call|cat|catch|cb|cbuffer|cc|ccl|cclose|cd|ce|center|cex|cexpr|cf|cfile|cfir|cfirst|cg|cgetb|cgetbuffer|cgete|cgetexpr|cgetfile|change|changes|chd|chdir|che|checkpath|checkt|checktime|cl|cla|clast|clist|clo|close|cmapc|cmapclear|cn|cnew|cnewer|cnext|cnf|cnfile|cnorea|cnoreabbrev|co|col|colder|colo|colorscheme|comc|comclear|comp|compiler|con|conf|confirm|continue|cope|copen|copy|cp|cpf|cpfile|cprevious|cq|cquit|cr|crewind|cu|cuna|cunabbrev|cunmap|cw|cwindow|d|debugg|debuggreedy|delc|delcommand|delete|delf|delfunction|delm|delmarks|di|diffg|diffget|diffoff|diffpatch|diffpu|diffput|diffsplit|diffthis|diffu|diffupdate|dig|digraphs|display|dj|djump|dl|dlist|dr|drop|ds|dsearch|dsp|dsplit|e|earlier|echoe|echoerr|echom|echomsg|echon|edit|el|else|elsei|elseif|em|emenu|en|endf|endfo|endfor|endfun|endfunction|endif|endt|endtry|endw|endwhile|ene|enew|ex|exi|exit|exu|exusage|f|file|files|filetype|fin|fina|finally|find|fini|finish|fir|first|fix|fixdel|fo|fold|foldc|foldclose|foldd|folddoc|folddoclosed|folddoopen|foldo|foldopen|for|fu|fun|function|go|goto|gr|grep|grepa|grepadd|h|ha|hardcopy|help|helpf|helpfind|helpg|helpgrep|helpt|helptags|hid|hide|his|history|ia|iabbrev|iabc|iabclear|if|ij|ijump|il|ilist|imapc|imapclear|in|inorea|inoreabbrev|isearch|isp|isplit|iu|iuna|iunabbrev|iunmap|j|join|ju|jumps|k|kee|keepalt|keepj|keepjumps|keepmarks|l|lN|lNext|lNf|lNfile|la|lad|laddb|laddbuffer|laddexpr|laddf|laddfile|lan|language|last|later|lb|lbuffer|lc|lcd|lch|lchdir|lcl|lclose|left|lefta|leftabove|let|lex|lexpr|lf|lfile|lfir|lfirst|lg|lgetb|lgetbuffer|lgete|lgetexpr|lgetfile|lgr|lgrep|lgrepa|lgrepadd|lh|lhelpgrep|list|ll|lla|llast|lli|llist|lm|lmak|lmake|lmap|lmapc|lmapclear|ln|lne|lnew|lnewer|lnext|lnf|lnfile|lnoremap|lo|loadview|loc|lockmarks|lockv|lockvar|lol|lolder|lop|lopen|lp|lpf|lpfile|lprevious|lr|lrewind|ls|lt|ltag|lu|lunmap|lv|lvimgrep|lvimgrepa|lvimgrepadd|lw|lwindow|m|ma|mak|make|mark|marks|mat|match|menut|menutranslate|mk|mkexrc|mks|mksession|mksp|mkspell|mkv|mkvie|mkview|mkvimrc|mod|mode|move|mz|mzf|mzfile|mzscheme|n|nbkey|new|next|nmapc|nmapclear|noh|nohlsearch|norea|noreabbrev|nu|number|nun|nunmap|o|omapc|omapclear|on|only|open|opt|options|ou|ounmap|p|pc|pclose|pe|ped|pedit|perl|perld|perldo|po|pop|popu|popup|pp|ppop|pre|preserve|prev|previous|print|prof|profd|profdel|profile|promptf|promptfind|promptr|promptrepl|ps|psearch|ptN|ptNext|pta|ptag|ptf|ptfirst|ptj|ptjump|ptl|ptlast|ptn|ptnext|ptp|ptprevious|ptr|ptrewind|pts|ptselect|pu|put|pw|pwd|py|pyf|pyfile|python|q|qa|qall|quit|quita|quitall|r|read|rec|recover|red|redi|redir|redo|redr|redraw|redraws|redrawstatus|reg|registers|res|resize|ret|retab|retu|return|rew|rewind|ri|right|rightb|rightbelow|ru|rub|ruby|rubyd|rubydo|rubyf|rubyfile|runtime|rv|rviminfo|sN|sNext|sa|sal|sall|san|sandbox|sargument|sav|saveas|sb|sbN|sbNext|sba|sball|sbf|sbfirst|sbl|sblast|sbm|sbmodified|sbn|sbnext|sbp|sbprevious|sbr|sbrewind|sbuffer|scrip|scripte|scriptencoding|scriptnames|se|set|setf|setfiletype|setg|setglobal|setl|setlocal|sf|sfind|sfir|sfirst|sh|shell|sign|sil|silent|sim|simalt|sl|sla|slast|sleep|sm|smagic|smap|smapc|smapclear|sme|smenu|sn|snext|sni|sniff|sno|snomagic|snor|snoremap|snoreme|snoremenu|so|sor|sort|source|sp|spe|spelld|spelldump|spellgood|spelli|spellinfo|spellr|spellrepall|spellu|spellundo|spellw|spellwrong|split|spr|sprevious|sre|srewind|st|sta|stag|star|startg|startgreplace|startinsert|startr|startreplace|stj|stjump|stop|stopi|stopinsert|sts|stselect|sun|sunhide|sunm|sunmap|sus|suspend|sv|sview|syncbind|t|tN|tNext|ta|tab|tabN|tabNext|tabc|tabclose|tabd|tabdo|tabe|tabedit|tabf|tabfind|tabfir|tabfirst|tabl|tablast|tabm|tabmove|tabn|tabnew|tabnext|tabo|tabonly|tabp|tabprevious|tabr|tabrewind|tabs|tag|tags|tc|tcl|tcld|tcldo|tclf|tclfile|te|tearoff|tf|tfirst|th|throw|tj|tjump|tl|tlast|tm|tmenu|tn|tnext|to|topleft|tp|tprevious|tr|trewind|try|ts|tselect|tu|tunmenu|u|una|unabbreviate|undo|undoj|undojoin|undol|undolist|unh|unhide|unlet|unlo|unlockvar|unm|unmap|up|update|ve|verb|verbose|version|vert|vertical|vi|vie|view|vim|vimgrep|vimgrepa|vimgrepadd|visual|viu|viusage|vmapc|vmapclear|vne|vnew|vs|vsplit|vu|vunmap|w|wN|wNext|wa|wall|wh|while|win|winc|wincmd|windo|winp|winpos|winsize|wn|wnext|wp|wprevious|wq|wqa|wqall|write|ws|wsverb|wv|wviminfo|x|xa|xall|xit|xm|xmap|xmapc|xmapclear|xme|xmenu|xn|xnoremap|xnoreme|xnoremenu|xu|xunmap|y|yank)\b/,builtin:/\b(?:acd|ai|akm|aleph|allowrevins|altkeymap|ambiwidth|ambw|anti|antialias|arab|arabic|arabicshape|ari|arshape|autochdir|autocmd|autoindent|autoread|autowrite|autowriteall|aw|awa|background|backspace|backup|backupcopy|backupdir|backupext|backupskip|balloondelay|ballooneval|balloonexpr|bdir|bdlay|beval|bex|bexpr|bg|bh|bin|binary|biosk|bioskey|bk|bkc|bomb|breakat|brk|browsedir|bs|bsdir|bsk|bt|bufhidden|buflisted|buftype|casemap|ccv|cdpath|cedit|cfu|ch|charconvert|ci|cin|cindent|cink|cinkeys|cino|cinoptions|cinw|cinwords|clipboard|cmdheight|cmdwinheight|cmp|cms|columns|com|comments|commentstring|compatible|complete|completefunc|completeopt|consk|conskey|copyindent|cot|cpo|cpoptions|cpt|cscopepathcomp|cscopeprg|cscopequickfix|cscopetag|cscopetagorder|cscopeverbose|cspc|csprg|csqf|cst|csto|csverb|cuc|cul|cursorcolumn|cursorline|cwh|debug|deco|def|define|delcombine|dex|dg|dict|dictionary|diff|diffexpr|diffopt|digraph|dip|dir|directory|dy|ea|ead|eadirection|eb|ed|edcompatible|ef|efm|ei|ek|enc|encoding|endofline|eol|ep|equalalways|equalprg|errorbells|errorfile|errorformat|esckeys|et|eventignore|expandtab|exrc|fcl|fcs|fdc|fde|fdi|fdl|fdls|fdm|fdn|fdo|fdt|fen|fenc|fencs|fex|ff|ffs|fileencoding|fileencodings|fileformat|fileformats|fillchars|fk|fkmap|flp|fml|fmr|foldcolumn|foldenable|foldexpr|foldignore|foldlevel|foldlevelstart|foldmarker|foldmethod|foldminlines|foldnestmax|foldtext|formatexpr|formatlistpat|formatoptions|formatprg|fp|fs|fsync|ft|gcr|gd|gdefault|gfm|gfn|gfs|gfw|ghr|gp|grepformat|grepprg|gtl|gtt|guicursor|guifont|guifontset|guifontwide|guiheadroom|guioptions|guipty|guitablabel|guitabtooltip|helpfile|helpheight|helplang|hf|hh|hi|hidden|highlight|hk|hkmap|hkmapp|hkp|hl|hlg|hls|hlsearch|ic|icon|iconstring|ignorecase|im|imactivatekey|imak|imc|imcmdline|imd|imdisable|imi|iminsert|ims|imsearch|inc|include|includeexpr|incsearch|inde|indentexpr|indentkeys|indk|inex|inf|infercase|insertmode|invacd|invai|invakm|invallowrevins|invaltkeymap|invanti|invantialias|invar|invarab|invarabic|invarabicshape|invari|invarshape|invautochdir|invautoindent|invautoread|invautowrite|invautowriteall|invaw|invawa|invbackup|invballooneval|invbeval|invbin|invbinary|invbiosk|invbioskey|invbk|invbl|invbomb|invbuflisted|invcf|invci|invcin|invcindent|invcompatible|invconfirm|invconsk|invconskey|invcopyindent|invcp|invcscopetag|invcscopeverbose|invcst|invcsverb|invcuc|invcul|invcursorcolumn|invcursorline|invdeco|invdelcombine|invdg|invdiff|invdigraph|invdisable|invea|inveb|inved|invedcompatible|invek|invendofline|inveol|invequalalways|inverrorbells|invesckeys|invet|invex|invexpandtab|invexrc|invfen|invfk|invfkmap|invfoldenable|invgd|invgdefault|invguipty|invhid|invhidden|invhk|invhkmap|invhkmapp|invhkp|invhls|invhlsearch|invic|invicon|invignorecase|invim|invimc|invimcmdline|invimd|invincsearch|invinf|invinfercase|invinsertmode|invis|invjoinspaces|invjs|invlazyredraw|invlbr|invlinebreak|invlisp|invlist|invloadplugins|invlpl|invlz|invma|invmacatsui|invmagic|invmh|invml|invmod|invmodeline|invmodifiable|invmodified|invmore|invmousef|invmousefocus|invmousehide|invnu|invnumber|invodev|invopendevice|invpaste|invpi|invpreserveindent|invpreviewwindow|invprompt|invpvw|invreadonly|invremap|invrestorescreen|invrevins|invri|invrightleft|invrightleftcmd|invrl|invrlc|invro|invrs|invru|invruler|invsb|invsc|invscb|invscrollbind|invscs|invsecure|invsft|invshellslash|invshelltemp|invshiftround|invshortname|invshowcmd|invshowfulltag|invshowmatch|invshowmode|invsi|invsm|invsmartcase|invsmartindent|invsmarttab|invsmd|invsn|invsol|invspell|invsplitbelow|invsplitright|invspr|invsr|invssl|invsta|invstartofline|invstmp|invswapfile|invswf|invta|invtagbsearch|invtagrelative|invtagstack|invtbi|invtbidi|invtbs|invtermbidi|invterse|invtextauto|invtextmode|invtf|invtgst|invtildeop|invtimeout|invtitle|invto|invtop|invtr|invttimeout|invttybuiltin|invttyfast|invtx|invvb|invvisualbell|invwa|invwarn|invwb|invweirdinvert|invwfh|invwfw|invwildmenu|invwinfixheight|invwinfixwidth|invwiv|invwmnu|invwrap|invwrapscan|invwrite|invwriteany|invwritebackup|invws|isf|isfname|isi|isident|isk|iskeyword|isprint|joinspaces|js|key|keymap|keymodel|keywordprg|km|kmp|kp|langmap|langmenu|laststatus|lazyredraw|lbr|lcs|linebreak|lines|linespace|lisp|lispwords|listchars|loadplugins|lpl|lsp|lz|macatsui|magic|makeef|makeprg|matchpairs|matchtime|maxcombine|maxfuncdepth|maxmapdepth|maxmem|maxmempattern|maxmemtot|mco|mef|menuitems|mfd|mh|mis|mkspellmem|ml|mls|mm|mmd|mmp|mmt|modeline|modelines|modifiable|modified|more|mouse|mousef|mousefocus|mousehide|mousem|mousemodel|mouses|mouseshape|mouset|mousetime|mp|mps|msm|mzq|mzquantum|nf|noacd|noai|noakm|noallowrevins|noaltkeymap|noanti|noantialias|noar|noarab|noarabic|noarabicshape|noari|noarshape|noautochdir|noautoindent|noautoread|noautowrite|noautowriteall|noaw|noawa|nobackup|noballooneval|nobeval|nobin|nobinary|nobiosk|nobioskey|nobk|nobl|nobomb|nobuflisted|nocf|noci|nocin|nocindent|nocompatible|noconfirm|noconsk|noconskey|nocopyindent|nocp|nocscopetag|nocscopeverbose|nocst|nocsverb|nocuc|nocul|nocursorcolumn|nocursorline|nodeco|nodelcombine|nodg|nodiff|nodigraph|nodisable|noea|noeb|noed|noedcompatible|noek|noendofline|noeol|noequalalways|noerrorbells|noesckeys|noet|noex|noexpandtab|noexrc|nofen|nofk|nofkmap|nofoldenable|nogd|nogdefault|noguipty|nohid|nohidden|nohk|nohkmap|nohkmapp|nohkp|nohls|noic|noicon|noignorecase|noim|noimc|noimcmdline|noimd|noincsearch|noinf|noinfercase|noinsertmode|nois|nojoinspaces|nojs|nolazyredraw|nolbr|nolinebreak|nolisp|nolist|noloadplugins|nolpl|nolz|noma|nomacatsui|nomagic|nomh|noml|nomod|nomodeline|nomodifiable|nomodified|nomore|nomousef|nomousefocus|nomousehide|nonu|nonumber|noodev|noopendevice|nopaste|nopi|nopreserveindent|nopreviewwindow|noprompt|nopvw|noreadonly|noremap|norestorescreen|norevins|nori|norightleft|norightleftcmd|norl|norlc|noro|nors|noru|noruler|nosb|nosc|noscb|noscrollbind|noscs|nosecure|nosft|noshellslash|noshelltemp|noshiftround|noshortname|noshowcmd|noshowfulltag|noshowmatch|noshowmode|nosi|nosm|nosmartcase|nosmartindent|nosmarttab|nosmd|nosn|nosol|nospell|nosplitbelow|nosplitright|nospr|nosr|nossl|nosta|nostartofline|nostmp|noswapfile|noswf|nota|notagbsearch|notagrelative|notagstack|notbi|notbidi|notbs|notermbidi|noterse|notextauto|notextmode|notf|notgst|notildeop|notimeout|notitle|noto|notop|notr|nottimeout|nottybuiltin|nottyfast|notx|novb|novisualbell|nowa|nowarn|nowb|noweirdinvert|nowfh|nowfw|nowildmenu|nowinfixheight|nowinfixwidth|nowiv|nowmnu|nowrap|nowrapscan|nowrite|nowriteany|nowritebackup|nows|nrformats|numberwidth|nuw|odev|oft|ofu|omnifunc|opendevice|operatorfunc|opfunc|osfiletype|pa|para|paragraphs|paste|pastetoggle|patchexpr|patchmode|path|pdev|penc|pex|pexpr|pfn|ph|pheader|pi|pm|pmbcs|pmbfn|popt|preserveindent|previewheight|previewwindow|printdevice|printencoding|printexpr|printfont|printheader|printmbcharset|printmbfont|printoptions|prompt|pt|pumheight|pvh|pvw|qe|quoteescape|readonly|remap|report|restorescreen|revins|rightleft|rightleftcmd|rl|rlc|ro|rs|rtp|ruf|ruler|rulerformat|runtimepath|sbo|sc|scb|scr|scroll|scrollbind|scrolljump|scrolloff|scrollopt|scs|sect|sections|secure|sel|selection|selectmode|sessionoptions|sft|shcf|shellcmdflag|shellpipe|shellquote|shellredir|shellslash|shelltemp|shelltype|shellxquote|shiftround|shiftwidth|shm|shortmess|shortname|showbreak|showcmd|showfulltag|showmatch|showmode|showtabline|shq|si|sidescroll|sidescrolloff|siso|sj|slm|smartcase|smartindent|smarttab|smc|smd|softtabstop|sol|spc|spell|spellcapcheck|spellfile|spelllang|spellsuggest|spf|spl|splitbelow|splitright|sps|sr|srr|ss|ssl|ssop|stal|startofline|statusline|stl|stmp|su|sua|suffixes|suffixesadd|sw|swapfile|swapsync|swb|swf|switchbuf|sws|sxq|syn|synmaxcol|syntax|t_AB|t_AF|t_AL|t_CS|t_CV|t_Ce|t_Co|t_Cs|t_DL|t_EI|t_F1|t_F2|t_F3|t_F4|t_F5|t_F6|t_F7|t_F8|t_F9|t_IE|t_IS|t_K1|t_K3|t_K4|t_K5|t_K6|t_K7|t_K8|t_K9|t_KA|t_KB|t_KC|t_KD|t_KE|t_KF|t_KG|t_KH|t_KI|t_KJ|t_KK|t_KL|t_RI|t_RV|t_SI|t_Sb|t_Sf|t_WP|t_WS|t_ZH|t_ZR|t_al|t_bc|t_cd|t_ce|t_cl|t_cm|t_cs|t_da|t_db|t_dl|t_fs|t_k1|t_k2|t_k3|t_k4|t_k5|t_k6|t_k7|t_k8|t_k9|t_kB|t_kD|t_kI|t_kN|t_kP|t_kb|t_kd|t_ke|t_kh|t_kl|t_kr|t_ks|t_ku|t_le|t_mb|t_md|t_me|t_mr|t_ms|t_nd|t_op|t_se|t_so|t_sr|t_te|t_ti|t_ts|t_ue|t_us|t_ut|t_vb|t_ve|t_vi|t_vs|t_xs|tabline|tabpagemax|tabstop|tagbsearch|taglength|tagrelative|tagstack|tal|tb|tbi|tbidi|tbis|tbs|tenc|term|termbidi|termencoding|terse|textauto|textmode|textwidth|tgst|thesaurus|tildeop|timeout|timeoutlen|title|titlelen|titleold|titlestring|toolbar|toolbariconsize|top|tpm|tsl|tsr|ttimeout|ttimeoutlen|ttm|tty|ttybuiltin|ttyfast|ttym|ttymouse|ttyscroll|ttytype|tw|tx|uc|ul|undolevels|updatecount|updatetime|ut|vb|vbs|vdir|verbosefile|vfile|viewdir|viewoptions|viminfo|virtualedit|visualbell|vop|wak|warn|wb|wc|wcm|wd|weirdinvert|wfh|wfw|whichwrap|wi|wig|wildchar|wildcharm|wildignore|wildmenu|wildmode|wildoptions|wim|winaltkeys|window|winfixheight|winfixwidth|winheight|winminheight|winminwidth|winwidth|wiv|wiw|wm|wmh|wmnu|wmw|wop|wrap|wrapmargin|wrapscan|writeany|writebackup|writedelay|ww)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?)\b/i,operator:/\|\||&&|[-+.]=?|[=!](?:[=~][#?]?)?|[<>]=?[#?]?|[*\/%?]|\b(?:is(?:not)?)\b/,punctuation:/[{}[\](),;:]/}}e.exports=t,t.displayName="vim",t.aliases=[]},67557:function(e){"use strict";function t(e){e.languages["visual-basic"]={comment:{pattern:/(?:['‘’]|REM\b)(?:[^\r\n_]|_(?:\r\n?|\n)?)*/i,inside:{keyword:/^REM/i}},directive:{pattern:/#(?:Const|Else|ElseIf|End|ExternalChecksum|ExternalSource|If|Region)(?:\b_[ \t]*(?:\r\n?|\n)|.)+/i,alias:"property",greedy:!0},string:{pattern:/\$?["“”](?:["“”]{2}|[^"“”])*["“”]C?/i,greedy:!0},date:{pattern:/#[ \t]*(?:\d+([/-])\d+\1\d+(?:[ \t]+(?:\d+[ \t]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[ \t]*(?:AM|PM))?))?|\d+[ \t]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[ \t]*(?:AM|PM))?)[ \t]*#/i,alias:"number"},number:/(?:(?:\b\d+(?:\.\d+)?|\.\d+)(?:E[+-]?\d+)?|&[HO][\dA-F]+)(?:[FRD]|U?[ILS])?/i,boolean:/\b(?:False|Nothing|True)\b/i,keyword:/\b(?:AddHandler|AddressOf|Alias|And(?:Also)?|As|Boolean|ByRef|Byte|ByVal|Call|Case|Catch|C(?:Bool|Byte|Char|Date|Dbl|Dec|Int|Lng|Obj|SByte|Short|Sng|Str|Type|UInt|ULng|UShort)|Char|Class|Const|Continue|Currency|Date|Decimal|Declare|Default|Delegate|Dim|DirectCast|Do|Double|Each|Else(?:If)?|End(?:If)?|Enum|Erase|Error|Event|Exit|Finally|For|Friend|Function|Get(?:Type|XMLNamespace)?|Global|GoSub|GoTo|Handles|If|Implements|Imports|In|Inherits|Integer|Interface|Is|IsNot|Let|Lib|Like|Long|Loop|Me|Mod|Module|Must(?:Inherit|Override)|My(?:Base|Class)|Namespace|Narrowing|New|Next|Not(?:Inheritable|Overridable)?|Object|Of|On|Operator|Option(?:al)?|Or(?:Else)?|Out|Overloads|Overridable|Overrides|ParamArray|Partial|Private|Property|Protected|Public|RaiseEvent|ReadOnly|ReDim|RemoveHandler|Resume|Return|SByte|Select|Set|Shadows|Shared|short|Single|Static|Step|Stop|String|Structure|Sub|SyncLock|Then|Throw|To|Try|TryCast|Type|TypeOf|U(?:Integer|Long|Short)|Until|Using|Variant|Wend|When|While|Widening|With(?:Events)?|WriteOnly|Xor)\b/i,operator:/[+\-*/\\^<=>&#@$%!]|\b_(?=[ \t]*[\r\n])/,punctuation:/[{}().,:?]/},e.languages.vb=e.languages["visual-basic"],e.languages.vba=e.languages["visual-basic"]}e.exports=t,t.displayName="visualBasic",t.aliases=[]},76034:function(e){"use strict";function t(e){e.languages.warpscript={comment:/#.*|\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'|<'(?:[^\\']|'(?!>)|\\.)*'>/,greedy:!0},variable:/\$\S+/,macro:{pattern:/@\S+/,alias:"property"},keyword:/\b(?:BREAK|CHECKMACRO|CONTINUE|CUDF|DEFINED|DEFINEDMACRO|EVAL|FAIL|FOR|FOREACH|FORSTEP|IFT|IFTE|MSGFAIL|NRETURN|RETHROW|RETURN|SWITCH|TRY|UDF|UNTIL|WHILE)\b/,number:/[+-]?\b(?:NaN|Infinity|\d+(?:\.\d*)?(?:[Ee][+-]?\d+)?|0x[\da-fA-F]+|0b[01]+)\b/,boolean:/\b(?:F|T|false|true)\b/,punctuation:/<%|%>|[{}[\]()]/,operator:/==|&&?|\|\|?|\*\*?|>>>?|<<|[<>!~]=?|[-/%^]|\+!?|\b(?:AND|NOT|OR)\b/}}e.exports=t,t.displayName="warpscript",t.aliases=[]},48978:function(e){"use strict";function t(e){e.languages.wasm={comment:[/\(;[\s\S]*?;\)/,{pattern:/;;.*/,greedy:!0}],string:{pattern:/"(?:\\[\s\S]|[^"\\])*"/,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|neg?|nearest|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|sqrt|store(?:8|16|32)?|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*+\-./:<=>?@\\^`|~]+/,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/}}e.exports=t,t.displayName="wasm",t.aliases=[]},31681:function(e){"use strict";function t(e){!function(e){var t=/(?:\B-|\b_|\b)[A-Za-z][\w-]*(?![\w-])/.source,n="(?:"+/\b(?:unsigned\s+)?long\s+long(?![\w-])/.source+"|"+/\b(?:unrestricted|unsigned)\s+[a-z]+(?![\w-])/.source+"|"+/(?!(?:unrestricted|unsigned)\b)/.source+t+/(?:\s*<(?:[^<>]|<[^<>]*>)*>)?/.source+")"+/(?:\s*\?)?/.source,r={};for(var i in e.languages["web-idl"]={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/"[^"]*"/,greedy:!0},namespace:{pattern:RegExp(/(\bnamespace\s+)/.source+t),lookbehind:!0},"class-name":[{pattern:/(^|[^\w-])(?:iterable|maplike|setlike)\s*<(?:[^<>]|<[^<>]*>)*>/,lookbehind:!0,inside:r},{pattern:RegExp(/(\b(?:attribute|const|deleter|getter|optional|setter)\s+)/.source+n),lookbehind:!0,inside:r},{pattern:RegExp("("+/\bcallback\s+/.source+t+/\s*=\s*/.source+")"+n),lookbehind:!0,inside:r},{pattern:RegExp(/(\btypedef\b\s*)/.source+n),lookbehind:!0,inside:r},{pattern:RegExp(/(\b(?:callback|dictionary|enum|interface(?:\s+mixin)?)\s+)(?!(?:interface|mixin)\b)/.source+t),lookbehind:!0},{pattern:RegExp(/(:\s*)/.source+t),lookbehind:!0},RegExp(t+/(?=\s+(?:implements|includes)\b)/.source),{pattern:RegExp(/(\b(?:implements|includes)\s+)/.source+t),lookbehind:!0},{pattern:RegExp(n+"(?="+/\s*(?:\.{3}\s*)?/.source+t+/\s*[(),;=]/.source+")"),inside:r}],builtin:/\b(?:ArrayBuffer|BigInt64Array|BigUint64Array|ByteString|DOMString|DataView|Float32Array|Float64Array|FrozenArray|Int16Array|Int32Array|Int8Array|ObservableArray|Promise|USVString|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray)\b/,keyword:[/\b(?:async|attribute|callback|const|constructor|deleter|dictionary|enum|getter|implements|includes|inherit|interface|mixin|namespace|null|optional|or|partial|readonly|required|setter|static|stringifier|typedef|unrestricted)\b/,/\b(?:any|bigint|boolean|byte|double|float|iterable|long|maplike|object|octet|record|sequence|setlike|short|symbol|undefined|unsigned|void)\b/],boolean:/\b(?:false|true)\b/,number:{pattern:/(^|[^\w-])-?(?:0x[0-9a-f]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|NaN|Infinity)(?![\w-])/i,lookbehind:!0},operator:/\.{3}|[=:?<>-]/,punctuation:/[(){}[\].,;]/},e.languages["web-idl"])"class-name"!==i&&(r[i]=e.languages["web-idl"][i]);e.languages.webidl=e.languages["web-idl"]}(e)}e.exports=t,t.displayName="webIdl",t.aliases=[]},32009:function(e){"use strict";function t(e){e.languages.wiki=e.languages.extend("markup",{"block-comment":{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0,alias:"comment"},heading:{pattern:/^(=+)[^=\r\n].*?\1/m,inside:{punctuation:/^=+|=+$/,important:/.+/}},emphasis:{pattern:/('{2,5}).+?\1/,inside:{"bold-italic":{pattern:/(''''').+?(?=\1)/,lookbehind:!0,alias:["bold","italic"]},bold:{pattern:/(''')[^'](?:.*?[^'])?(?=\1)/,lookbehind:!0},italic:{pattern:/('')[^'](?:.*?[^'])?(?=\1)/,lookbehind:!0},punctuation:/^''+|''+$/}},hr:{pattern:/^-{4,}/m,alias:"punctuation"},url:[/ISBN +(?:97[89][ -]?)?(?:\d[ -]?){9}[\dx]\b|(?:PMID|RFC) +\d+/i,/\[\[.+?\]\]|\[.+?\]/],variable:[/__[A-Z]+__/,/\{{3}.+?\}{3}/,/\{\{.+?\}\}/],symbol:[/^#redirect/im,/~{3,5}/],"table-tag":{pattern:/((?:^|[|!])[|!])[^|\r\n]+\|(?!\|)/m,lookbehind:!0,inside:{"table-bar":{pattern:/\|$/,alias:"punctuation"},rest:e.languages.markup.tag.inside}},punctuation:/^(?:\{\||\|\}|\|-|[*#:;!|])|\|\||!!/m}),e.languages.insertBefore("wiki","tag",{nowiki:{pattern:/<(nowiki|pre|source)\b[^>]*>[\s\S]*?<\/\1>/i,inside:{tag:{pattern:/<(?:nowiki|pre|source)\b[^>]*>|<\/(?:nowiki|pre|source)>/i,inside:e.languages.markup.tag.inside}}}})}e.exports=t,t.displayName="wiki",t.aliases=[]},43247:function(e){"use strict";function t(e){e.languages.wolfram={comment:/\(\*(?:\(\*(?:[^*]|\*(?!\)))*\*\)|(?!\(\*)[\s\S])*?\*\)/,string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:Abs|AbsArg|Accuracy|Block|Do|For|Function|If|Manipulate|Module|Nest|NestList|None|Return|Switch|Table|Which|While)\b/,context:{pattern:/\b\w+`+\w*/,alias:"class-name"},blank:{pattern:/\b\w+_\b/,alias:"regex"},"global-variable":{pattern:/\$\w+/,alias:"variable"},boolean:/\b(?:False|True)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/\/\.|;|=\.|\^=|\^:=|:=|<<|>>|<\||\|>|:>|\|->|->|<-|@@@|@@|@|\/@|=!=|===|==|=|\+|-|\^|\[\/-+%=\]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},e.languages.mathematica=e.languages.wolfram,e.languages.wl=e.languages.wolfram,e.languages.nb=e.languages.wolfram}e.exports=t,t.displayName="wolfram",t.aliases=["mathematica","wl","nb"]},59667:function(e){"use strict";function t(e){e.languages.wren={comment:[{pattern:/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*))*\*\/)*\*\/)*\*\//,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},"string-literal":null,hashbang:{pattern:/^#!\/.+/,greedy:!0,alias:"comment"},attribute:{pattern:/#!?[ \t\u3000]*\w+/,alias:"keyword"},"class-name":[{pattern:/(\bclass\s+)\w+/,lookbehind:!0},/\b[A-Z][a-z\d_]*\b/],constant:/\b[A-Z][A-Z\d_]*\b/,null:{pattern:/\bnull\b/,alias:"keyword"},keyword:/\b(?:as|break|class|construct|continue|else|for|foreign|if|import|in|is|return|static|super|this|var|while)\b/,boolean:/\b(?:false|true)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,function:/\b[a-z_]\w*(?=\s*[({])/i,operator:/<<|>>|[=!<>]=?|&&|\|\||[-+*/%~^&|?:]|\.{2,3}/,punctuation:/[\[\](){}.,;]/},e.languages.wren["string-literal"]={pattern:/(^|[^\\"])"(?:[^\\"%]|\\[\s\S]|%(?!\()|%\((?:[^()]|\((?:[^()]|\([^)]*\))*\))*\))*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)%\((?:[^()]|\((?:[^()]|\([^)]*\))*\))*\)/,lookbehind:!0,inside:{expression:{pattern:/^(%\()[\s\S]+(?=\)$)/,lookbehind:!0,inside:e.languages.wren},"interpolation-punctuation":{pattern:/^%\(|\)$/,alias:"punctuation"}}},string:/[\s\S]+/}}}e.exports=t,t.displayName="wren",t.aliases=[]},57914:function(e){"use strict";function t(e){e.languages.xeora=e.languages.extend("markup",{constant:{pattern:/\$(?:DomainContents|PageRenderDuration)\$/,inside:{punctuation:{pattern:/\$/}}},variable:{pattern:/\$@?(?:#+|[-+*~=^])?[\w.]+\$/,inside:{punctuation:{pattern:/[$.]/},operator:{pattern:/#+|[-+*~=^@]/}}},"function-inline":{pattern:/\$F:[-\w.]+\?[-\w.]+(?:,(?:(?:@[-#]*\w+\.[\w+.]\.*)*\|)*(?:(?:[\w+]|[-#*.~^]+[\w+]|=\S)(?:[^$=]|=+[^=])*=*|(?:@[-#]*\w+\.[\w+.]\.*)+(?:(?:[\w+]|[-#*~^][-#*.~^]*[\w+]|=\S)(?:[^$=]|=+[^=])*=*)?)?)?\$/,inside:{variable:{pattern:/(?:[,|])@?(?:#+|[-+*~=^])?[\w.]+/,inside:{punctuation:{pattern:/[,.|]/},operator:{pattern:/#+|[-+*~=^@]/}}},punctuation:{pattern:/\$\w:|[$:?.,|]/}},alias:"function"},"function-block":{pattern:/\$XF:\{[-\w.]+\?[-\w.]+(?:,(?:(?:@[-#]*\w+\.[\w+.]\.*)*\|)*(?:(?:[\w+]|[-#*.~^]+[\w+]|=\S)(?:[^$=]|=+[^=])*=*|(?:@[-#]*\w+\.[\w+.]\.*)+(?:(?:[\w+]|[-#*~^][-#*.~^]*[\w+]|=\S)(?:[^$=]|=+[^=])*=*)?)?)?\}:XF\$/,inside:{punctuation:{pattern:/[$:{}?.,|]/}},alias:"function"},"directive-inline":{pattern:/\$\w(?:#\d+\+?)?(?:\[[-\w.]+\])?:[-\/\w.]+\$/,inside:{punctuation:{pattern:/\$(?:\w:|C(?:\[|#\d))?|[:{[\]]/,inside:{tag:{pattern:/#\d/}}}},alias:"function"},"directive-block-open":{pattern:/\$\w+:\{|\$\w(?:#\d+\+?)?(?:\[[-\w.]+\])?:[-\w.]+:\{(?:![A-Z]+)?/,inside:{punctuation:{pattern:/\$(?:\w:|C(?:\[|#\d))?|[:{[\]]/,inside:{tag:{pattern:/#\d/}}},attribute:{pattern:/![A-Z]+$/,inside:{punctuation:{pattern:/!/}},alias:"keyword"}},alias:"function"},"directive-block-separator":{pattern:/\}:[-\w.]+:\{/,inside:{punctuation:{pattern:/[:{}]/}},alias:"function"},"directive-block-close":{pattern:/\}:[-\w.]+\$/,inside:{punctuation:{pattern:/[:{}$]/}},alias:"function"}}),e.languages.insertBefore("inside","punctuation",{variable:e.languages.xeora["function-inline"].inside.variable},e.languages.xeora["function-block"]),e.languages.xeoracube=e.languages.xeora}e.exports=t,t.displayName="xeora",t.aliases=["xeoracube"]},48989:function(e){"use strict";function t(e){!function(e){function t(t,n){e.languages[t]&&e.languages.insertBefore(t,"comment",{"doc-comment":n})}var n=e.languages.markup.tag,r={pattern:/\/\/\/.*/,greedy:!0,alias:"comment",inside:{tag:n}};t("csharp",r),t("fsharp",r),t("vbnet",{pattern:/'''.*/,greedy:!0,alias:"comment",inside:{tag:n}})}(e)}e.exports=t,t.displayName="xmlDoc",t.aliases=[]},58005:function(e){"use strict";function t(e){e.languages.xojo={comment:{pattern:/(?:'|\/\/|Rem\b).+/i,greedy:!0},string:{pattern:/"(?:""|[^"])*"/,greedy:!0},number:[/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,/&[bchou][a-z\d]+/i],directive:{pattern:/#(?:Else|ElseIf|Endif|If|Pragma)\b/i,alias:"property"},keyword:/\b(?:AddHandler|App|Array|As(?:signs)?|Auto|Boolean|Break|By(?:Ref|Val)|Byte|Call|Case|Catch|CFStringRef|CGFloat|Class|Color|Const|Continue|CString|Currency|CurrentMethodName|Declare|Delegate|Dim|Do(?:uble|wnTo)?|Each|Else(?:If)?|End|Enumeration|Event|Exception|Exit|Extends|False|Finally|For|Function|Get|GetTypeInfo|Global|GOTO|If|Implements|In|Inherits|Int(?:8|16|32|64|eger|erface)?|Lib|Loop|Me|Module|Next|Nil|Object|Optional|OSType|ParamArray|Private|Property|Protected|PString|Ptr|Raise(?:Event)?|ReDim|RemoveHandler|Return|Select(?:or)?|Self|Set|Shared|Short|Single|Soft|Static|Step|String|Sub|Super|Text|Then|To|True|Try|Ubound|UInt(?:8|16|32|64|eger)?|Until|Using|Var(?:iant)?|Wend|While|WindowPtr|WString)\b/i,operator:/<[=>]?|>=?|[+\-*\/\\^=]|\b(?:AddressOf|And|Ctype|IsA?|Mod|New|Not|Or|WeakAddressOf|Xor)\b/i,punctuation:/[.,;:()]/}}e.exports=t,t.displayName="xojo",t.aliases=[]},5963:function(e){"use strict";function t(e){!function(e){e.languages.xquery=e.languages.extend("markup",{"xquery-comment":{pattern:/\(:[\s\S]*?:\)/,greedy:!0,alias:"comment"},string:{pattern:/(["'])(?:\1\1|(?!\1)[\s\S])*\1/,greedy:!0},extension:{pattern:/\(#.+?#\)/,alias:"symbol"},variable:/\$[-\w:]+/,axis:{pattern:/(^|[^-])(?:ancestor(?:-or-self)?|attribute|child|descendant(?:-or-self)?|following(?:-sibling)?|parent|preceding(?:-sibling)?|self)(?=::)/,lookbehind:!0,alias:"operator"},"keyword-operator":{pattern:/(^|[^:-])\b(?:and|castable as|div|eq|except|ge|gt|idiv|instance of|intersect|is|le|lt|mod|ne|or|union)\b(?=$|[^:-])/,lookbehind:!0,alias:"operator"},keyword:{pattern:/(^|[^:-])\b(?:as|ascending|at|base-uri|boundary-space|case|cast as|collation|construction|copy-namespaces|declare|default|descending|else|empty (?:greatest|least)|encoding|every|external|for|function|if|import|in|inherit|lax|let|map|module|namespace|no-inherit|no-preserve|option|order(?: by|ed|ing)?|preserve|return|satisfies|schema|some|stable|strict|strip|then|to|treat as|typeswitch|unordered|validate|variable|version|where|xquery)\b(?=$|[^:-])/,lookbehind:!0},function:/[\w-]+(?::[\w-]+)*(?=\s*\()/,"xquery-element":{pattern:/(element\s+)[\w-]+(?::[\w-]+)*/,lookbehind:!0,alias:"tag"},"xquery-attribute":{pattern:/(attribute\s+)[\w-]+(?::[\w-]+)*/,lookbehind:!0,alias:"attr-name"},builtin:{pattern:/(^|[^:-])\b(?:attribute|comment|document|element|processing-instruction|text|xs:(?:ENTITIES|ENTITY|ID|IDREFS?|NCName|NMTOKENS?|NOTATION|Name|QName|anyAtomicType|anyType|anyURI|base64Binary|boolean|byte|date|dateTime|dayTimeDuration|decimal|double|duration|float|gDay|gMonth|gMonthDay|gYear|gYearMonth|hexBinary|int|integer|language|long|negativeInteger|nonNegativeInteger|nonPositiveInteger|normalizedString|positiveInteger|short|string|time|token|unsigned(?:Byte|Int|Long|Short)|untyped(?:Atomic)?|yearMonthDuration))\b(?=$|[^:-])/,lookbehind:!0},number:/\b\d+(?:\.\d+)?(?:E[+-]?\d+)?/,operator:[/[+*=?|@]|\.\.?|:=|!=|<[=<]?|>[=>]?/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}],punctuation:/[[\](){},;:/]/}),e.languages.xquery.tag.pattern=/<\/?(?!\d)[^\s>\/=$<%]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,e.languages.xquery.tag.inside["attr-value"].pattern=/=(?:("|')(?:\\[\s\S]|\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}|(?!\1)[^\\])*\1|[^\s'">=]+)/,e.languages.xquery.tag.inside["attr-value"].inside.punctuation=/^="|"$/,e.languages.xquery.tag.inside["attr-value"].inside.expression={pattern:/\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}/,inside:e.languages.xquery,alias:"language-xquery"};var t=function(e){return"string"==typeof e?e:"string"==typeof e.content?e.content:e.content.map(t).join("")},n=function(r){for(var i=[],o=0;o<r.length;o++){var a=r[o],s=!1;if("string"!=typeof a&&("tag"===a.type&&a.content[0]&&"tag"===a.content[0].type?"</"===a.content[0].content[0].content?i.length>0&&i[i.length-1].tagName===t(a.content[0].content[1])&&i.pop():"/>"===a.content[a.content.length-1].content||i.push({tagName:t(a.content[0].content[1]),openedBraces:0}):!(i.length>0)||"punctuation"!==a.type||"{"!==a.content||r[o+1]&&"punctuation"===r[o+1].type&&"{"===r[o+1].content||r[o-1]&&"plain-text"===r[o-1].type&&"{"===r[o-1].content?i.length>0&&i[i.length-1].openedBraces>0&&"punctuation"===a.type&&"}"===a.content?i[i.length-1].openedBraces--:"comment"!==a.type&&(s=!0):i[i.length-1].openedBraces++),(s||"string"==typeof a)&&i.length>0&&0===i[i.length-1].openedBraces){var l=t(a);o<r.length-1&&("string"==typeof r[o+1]||"plain-text"===r[o+1].type)&&(l+=t(r[o+1]),r.splice(o+1,1)),o>0&&("string"==typeof r[o-1]||"plain-text"===r[o-1].type)&&(l=t(r[o-1])+l,r.splice(o-1,1),o--),/^\s+$/.test(l)?r[o]=l:r[o]=new e.Token("plain-text",l,null,l)}a.content&&"string"!=typeof a.content&&n(a.content)}};e.hooks.add("after-tokenize",function(e){"xquery"===e.language&&n(e.tokens)})}(e)}e.exports=t,t.displayName="xquery",t.aliases=[]},88237:function(e){"use strict";function t(e){!function(e){var t=/[*&][^\s[\]{},]+/,n=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,r="(?:"+n.source+"(?:[ 	]+"+t.source+")?|"+t.source+"(?:[ 	]+"+n.source+")?)",i=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),o=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function a(e,t){return t=(t||"").replace(/m/g,"")+"m",RegExp(/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return r}).replace(/<<value>>/g,function(){return e}),t)}e.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return r})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return r}).replace(/<<key>>/g,function(){return"(?:"+i+"|"+o+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:a(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:a(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:a(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:a(o),lookbehind:!0,greedy:!0},number:{pattern:a(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:n,important:t,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},e.languages.yml=e.languages.yaml}(e)}e.exports=t,t.displayName="yaml",t.aliases=["yml"]},37223:function(e){"use strict";function t(e){e.languages.yang={comment:/\/\*[\s\S]*?\*\/|\/\/.*/,string:{pattern:/"(?:[^\\"]|\\.)*"|'[^']*'/,greedy:!0},keyword:{pattern:/(^|[{};\r\n][ \t]*)[a-z_][\w.-]*/i,lookbehind:!0},namespace:{pattern:/(\s)[a-z_][\w.-]*(?=:)/i,lookbehind:!0},boolean:/\b(?:false|true)\b/,operator:/\+/,punctuation:/[{};:]/}}e.exports=t,t.displayName="yang",t.aliases=[]},38432:function(e){"use strict";function t(e){!function(e){function t(e){return function(){return e}}var n=/\b(?:align|allowzero|and|anyframe|anytype|asm|async|await|break|cancel|catch|comptime|const|continue|defer|else|enum|errdefer|error|export|extern|fn|for|if|inline|linksection|nakedcc|noalias|nosuspend|null|or|orelse|packed|promise|pub|resume|return|stdcallcc|struct|suspend|switch|test|threadlocal|try|undefined|union|unreachable|usingnamespace|var|volatile|while)\b/,r="\\b(?!"+n.source+")(?!\\d)\\w+\\b",i=/align\s*\((?:[^()]|\([^()]*\))*\)/.source,o="(?!\\s)(?:!?\\s*(?:"+/(?:\?|\bpromise->|(?:\[[^[\]]*\]|\*(?!\*)|\*\*)(?:\s*<ALIGN>|\s*const\b|\s*volatile\b|\s*allowzero\b)*)/.source.replace(/<ALIGN>/g,t(i))+"\\s*)*"+/(?:\bpromise\b|(?:\berror\.)?<ID>(?:\.<ID>)*(?!\s+<ID>))/.source.replace(/<ID>/g,t(r))+")+";e.languages.zig={comment:[{pattern:/\/\/[/!].*/,alias:"doc-comment"},/\/{2}.*/],string:[{pattern:/(^|[^\\@])c?"(?:[^"\\\r\n]|\\.)*"/,lookbehind:!0,greedy:!0},{pattern:/([\r\n])([ \t]+c?\\{2}).*(?:(?:\r\n?|\n)\2.*)*/,lookbehind:!0,greedy:!0}],char:{pattern:/(^|[^\\])'(?:[^'\\\r\n]|[\uD800-\uDFFF]{2}|\\(?:.|x[a-fA-F\d]{2}|u\{[a-fA-F\d]{1,6}\}))'/,lookbehind:!0,greedy:!0},builtin:/\B@(?!\d)\w+(?=\s*\()/,label:{pattern:/(\b(?:break|continue)\s*:\s*)\w+\b|\b(?!\d)\w+\b(?=\s*:\s*(?:\{|while\b))/,lookbehind:!0},"class-name":[/\b(?!\d)\w+(?=\s*=\s*(?:(?:extern|packed)\s+)?(?:enum|struct|union)\s*[({])/,{pattern:RegExp(/(:\s*)<TYPE>(?=\s*(?:<ALIGN>\s*)?[=;,)])|<TYPE>(?=\s*(?:<ALIGN>\s*)?\{)/.source.replace(/<TYPE>/g,t(o)).replace(/<ALIGN>/g,t(i))),lookbehind:!0,inside:null},{pattern:RegExp(/(\)\s*)<TYPE>(?=\s*(?:<ALIGN>\s*)?;)/.source.replace(/<TYPE>/g,t(o)).replace(/<ALIGN>/g,t(i))),lookbehind:!0,inside:null}],"builtin-type":{pattern:/\b(?:anyerror|bool|c_u?(?:int|long|longlong|short)|c_longdouble|c_void|comptime_(?:float|int)|f(?:16|32|64|128)|[iu](?:8|16|32|64|128|size)|noreturn|type|void)\b/,alias:"keyword"},keyword:n,function:/\b(?!\d)\w+(?=\s*\()/,number:/\b(?:0b[01]+|0o[0-7]+|0x[a-fA-F\d]+(?:\.[a-fA-F\d]*)?(?:[pP][+-]?[a-fA-F\d]+)?|\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)\b/,boolean:/\b(?:false|true)\b/,operator:/\.[*?]|\.{2,3}|[-=]>|\*\*|\+\+|\|\||(?:<<|>>|[-+*]%|[-+*/%^&|<>!=])=?|[?~]/,punctuation:/[.:,;(){}[\]]/},e.languages.zig["class-name"].forEach(function(t){null===t.inside&&(t.inside=e.languages.zig)})}(e)}e.exports=t,t.displayName="zig",t.aliases=[]},50631:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(i=n?n.call(r,u,d,c):void 0)||void 0===i&&u!==d)return!1}return!0}},92868:function(e,t){"use strict";t.Q=function(e){var t=String(e||"").trim();return""===t?[]:t.split(n)};var n=/[ \t\n\r\f]+/g},48096:function(e){e.exports=function(){"use strict";function e(e,n,r,i){t(e,r,i),t(n,2*r,2*i),t(n,2*r+1,2*i+1)}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}var r,i=function(e){return e[0]},o=function(e){return e[1]},a=function(t,n,r,a,s){void 0===n&&(n=i),void 0===r&&(r=o),void 0===a&&(a=64),void 0===s&&(s=Float64Array),this.nodeSize=a,this.points=t;for(var l=t.length<65536?Uint16Array:Uint32Array,c=this.ids=new l(t.length),u=this.coords=new s(2*t.length),d=0;d<t.length;d++)c[d]=d,u[2*d]=n(t[d]),u[2*d+1]=r(t[d]);!function t(n,r,i,o,a,s){if(!(a-o<=i)){var l=o+a>>1;(function t(n,r,i,o,a,s){for(;a>o;){if(a-o>600){var l=a-o+1,c=i-o+1,u=Math.log(l),d=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),h=Math.max(o,Math.floor(i-c*d/l+p)),f=Math.min(a,Math.floor(i+(l-c)*d/l+p));t(n,r,i,h,f,s)}var g=r[2*i+s],m=o,b=a;for(e(n,r,o,i),r[2*a+s]>g&&e(n,r,o,a);m<b;){for(e(n,r,m,b),m++,b--;r[2*m+s]<g;)m++;for(;r[2*b+s]>g;)b--}r[2*o+s]===g?e(n,r,o,b):e(n,r,++b,a),b<=i&&(o=b+1),i<=b&&(a=b-1)}})(n,r,l,o,a,s%2),t(n,r,i,o,l-1,s+1),t(n,r,i,l+1,a,s+1)}}(c,u,a,0,c.length-1,0)};a.prototype.range=function(e,t,n,r){return function(e,t,n,r,i,o,a){for(var s,l,c=[0,e.length-1,0],u=[];c.length;){var d=c.pop(),p=c.pop(),h=c.pop();if(p-h<=a){for(var f=h;f<=p;f++)s=t[2*f],l=t[2*f+1],s>=n&&s<=i&&l>=r&&l<=o&&u.push(e[f]);continue}var g=Math.floor((h+p)/2);s=t[2*g],l=t[2*g+1],s>=n&&s<=i&&l>=r&&l<=o&&u.push(e[g]);var m=(d+1)%2;(0===d?n<=s:r<=l)&&(c.push(h),c.push(g-1),c.push(m)),(0===d?i>=s:o>=l)&&(c.push(g+1),c.push(p),c.push(m))}return u}(this.ids,this.coords,e,t,n,r,this.nodeSize)},a.prototype.within=function(e,t,r){return function(e,t,r,i,o,a){for(var s=[0,e.length-1,0],l=[],c=o*o;s.length;){var u=s.pop(),d=s.pop(),p=s.pop();if(d-p<=a){for(var h=p;h<=d;h++)n(t[2*h],t[2*h+1],r,i)<=c&&l.push(e[h]);continue}var f=Math.floor((p+d)/2),g=t[2*f],m=t[2*f+1];n(g,m,r,i)<=c&&l.push(e[f]);var b=(u+1)%2;(0===u?r-o<=g:i-o<=m)&&(s.push(p),s.push(f-1),s.push(b)),(0===u?r+o>=g:i+o>=m)&&(s.push(f+1),s.push(d),s.push(b))}return l}(this.ids,this.coords,e,t,r,this.nodeSize)};var s={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},l=Math.fround||(r=new Float32Array(1),function(e){return r[0]=+e,r[0]}),c=function(e){this.options=f(Object.create(s),e),this.trees=Array(this.options.maxZoom+1)};function u(e){return{type:"Feature",id:e.id,properties:d(e),geometry:{type:"Point",coordinates:[(e.x-.5)*360,360*Math.atan(Math.exp((180-360*e.y)*Math.PI/180))/Math.PI-90]}}}function d(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return f(f({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function p(e){return e/360+.5}function h(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function f(e,t){for(var n in t)e[n]=t[n];return e}function g(e){return e.x}function m(e){return e.y}return c.prototype.load=function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom,o=t.nodeSize;n&&console.time("total time");var s="prepare "+e.length+" points";n&&console.time(s),this.points=e;for(var c=[],u=0;u<e.length;u++)e[u].geometry&&c.push(function(e,t){var n=e.geometry.coordinates,r=n[0],i=n[1];return{x:l(p(r)),y:l(h(i)),zoom:1/0,index:t,parentId:-1}}(e[u],u));this.trees[i+1]=new a(c,g,m,o,Float32Array),n&&console.timeEnd(s);for(var d=i;d>=r;d--){var f=+Date.now();c=this._cluster(c,d),this.trees[d]=new a(c,g,m,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",d,c.length,+Date.now()-f)}return n&&console.timeEnd("total time"),this},c.prototype.getClusters=function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],t),s=this.getClusters([-180,r,i,o],t);return a.concat(s)}for(var l=this.trees[this._limitZoom(t)],c=l.range(p(n),h(o),p(i),h(r)),d=[],f=0;f<c.length;f+=1){var g=c[f],m=l.points[g];d.push(m.numPoints?u(m):this.points[m.index])}return d},c.prototype.getChildren=function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw Error(r);var o=i.points[t];if(!o)throw Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=i.within(o.x,o.y,a),l=[],c=0;c<s.length;c+=1){var d=s[c],p=i.points[d];p.parentId===e&&l.push(p.numPoints?u(p):this.points[p.index])}if(0===l.length)throw Error(r);return l},c.prototype.getLeaves=function(e,t,n){t=t||10,n=n||0;var r=[];return this._appendLeaves(r,e,t,n,0),r},c.prototype.getTile=function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),o=this.options,a=o.extent,s=o.radius/a,l=(n-s)/i,c=(n+1+s)/i,u={features:[]};return this._addTileFeatures(r.range((t-s)/i,l,(t+1+s)/i,c),r.points,t,n,i,u),0===t&&this._addTileFeatures(r.range(1-s/i,l,1,c),r.points,i,n,i,u),t===i-1&&this._addTileFeatures(r.range(0,l,s/i,c),r.points,-1,n,i,u),u.features.length?u:null},c.prototype.getClusterExpansionZoom=function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t},c.prototype._appendLeaves=function(e,t,n,r,i){for(var o=this.getChildren(t),a=0;a<o.length;a+=1){var s=o[a],l=s.properties;if(l&&l.cluster?i+l.point_count<=r?i+=l.point_count:i=this._appendLeaves(e,l.cluster_id,n,r,i):i<r?i++:e.push(s),e.length===n)break}return i},c.prototype._addTileFeatures=function(e,t,n,r,i,o){for(var a=0;a<e.length;a+=1){var s=t[e[a]],l=s.numPoints,c=void 0,u=void 0,f=void 0;if(l)c=d(s),u=s.x,f=s.y;else{var g=this.points[s.index];c=g.properties,u=p(g.geometry.coordinates[0]),f=h(g.geometry.coordinates[1])}var m={type:1,geometry:[[Math.round(this.options.extent*(u*i-n)),Math.round(this.options.extent*(f*i-r))]],tags:c},b=void 0;l?b=s.id:this.options.generateId?b=s.index:this.points[s.index].id&&(b=this.points[s.index].id),void 0!==b&&(m.id=b),o.features.push(m)}},c.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))},c.prototype._cluster=function(e,t){for(var n=[],r=this.options,i=r.radius,o=r.extent,a=r.reduce,s=r.minPoints,c=i/(o*Math.pow(2,t)),u=0;u<e.length;u++){var d=e[u];if(!(d.zoom<=t)){d.zoom=t;for(var p=this.trees[t+1],h=p.within(d.x,d.y,c),f=d.numPoints||1,g=f,m=0;m<h.length;m+=1){var b=h[m],v=p.points[b];v.zoom>t&&(g+=v.numPoints||1)}if(g>f&&g>=s){for(var y,E,_,x,S=d.x*f,A=d.y*f,C=a&&f>1?this._map(d,!0):null,w=(u<<5)+(t+1)+this.points.length,O=0;O<h.length;O+=1){var I=h[O],L=p.points[I];if(!(L.zoom<=t)){L.zoom=t;var R=L.numPoints||1;S+=L.x*R,A+=L.y*R,L.parentId=w,a&&(C||(C=this._map(d,!0)),a(C,this._map(L)))}}d.parentId=w,n.push((y=S/g,E=A/g,_=g,x=C,{x:l(y),y:l(E),zoom:1/0,id:w,parentId:-1,numPoints:_,properties:x}))}else if(n.push(d),g>1)for(var k=0;k<h.length;k+=1){var N=h[k],M=p.points[N];M.zoom<=t||(M.zoom=t,n.push(M))}}}return n},c.prototype._getOriginId=function(e){return e-this.points.length>>5},c.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},c.prototype._map=function(e,t){if(e.numPoints)return t?f({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?f({},r):r},c}()},26192:function(e){e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];for(var i in r)t.call(r,i)&&(e[i]=r[i])}return e};var t=Object.prototype.hasOwnProperty},87670:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(37083),i=n(65269),o=n(70837);function a(e,t,n){return t=(0,r.Z)(t),(0,o.Z)(e,(0,i.Z)()?Reflect.construct(t,n||[],(0,r.Z)(e).constructor):t.apply(e,n))}},29592:function(e,t,n){"use strict";n.d(t,{h:function(){return d},s:function(){return p}});var r=n(51279),i=n(57529);let o=/[#.]/g;var a=n(43731),s=n(3214),l=n(83135);function c(e,t,n){let r=n?function(e){let t=new Map;for(let n of e)t.set(n.toLowerCase(),n);return t}(n):void 0;return function(n,s,...c){let d;if(null==n)d={type:"root",children:[]},c.unshift(s);else{d=function(e,t){let n,r;let i=e||"",a={},s=0;for(;s<i.length;){o.lastIndex=s;let e=o.exec(i),t=i.slice(s,e?e.index:i.length);t&&(n?"#"===n?a.id=t:Array.isArray(a.className)?a.className.push(t):a.className=[t]:r=t,s+=t.length),e&&(n=e[0],s++)}return{type:"element",tagName:r||t||"div",properties:a,children:[]}}(n,t);let p=d.tagName.toLowerCase(),h=r?r.get(p):void 0;if(d.tagName=h||p,function(e){if(null===e||"object"!=typeof e||Array.isArray(e))return!0;if("string"!=typeof e.type)return!1;let t=Object.keys(e);for(let n of t){let t=e[n];if(t&&"object"==typeof t){if(!Array.isArray(t))return!0;for(let e of t)if("number"!=typeof e&&"string"!=typeof e)return!0}}return!!("children"in e&&Array.isArray(e.children))}(s))c.unshift(s);else for(let[t,n]of Object.entries(s))!function(e,t,n,r){let o;let s=(0,a.s)(e,n);if(null!=r){if("number"==typeof r){if(Number.isNaN(r))return;o=r}else o="boolean"==typeof r?r:"string"==typeof r?s.spaceSeparated?(0,l.Q)(r):s.commaSeparated?(0,i.Q)(r):s.commaOrSpaceSeparated?(0,l.Q)((0,i.Q)(r).join(" ")):u(s,s.property,r):Array.isArray(r)?[...r]:"style"===s.property?function(e){let t=[];for(let[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}(r):String(r);if(Array.isArray(o)){let e=[];for(let t of o)e.push(u(s,s.property,t));o=e}"className"===s.property&&Array.isArray(t.className)&&(o=t.className.concat(o)),t[s.property]=o}}(e,d.properties,t,n)}for(let e of c)!function e(t,n){if(null==n);else if("number"==typeof n||"string"==typeof n)t.push({type:"text",value:String(n)});else if(Array.isArray(n))for(let r of n)e(t,r);else if("object"==typeof n&&"type"in n)"root"===n.type?e(t,n.children):t.push(n);else throw Error("Expected node, nodes, or string, got `"+n+"`")}(d.children,e);return"element"===d.type&&"template"===d.tagName&&(d.content={type:"root",children:d.children},d.children=[]),d}}function u(e,t,n){if("string"==typeof n){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(""===n||(0,s.F)(n)===(0,s.F)(t)))return!0}return n}let d=c(r.dy,"div"),p=c(r.YP,"g",["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"])},15316:function(e,t,n){"use strict";function r(e,t){let n=String(e),r=n.indexOf(t),i=r,o=0,a=0;if("string"!=typeof t)throw TypeError("Expected substring");for(;-1!==r;)r===i?++o>a&&(a=o):o=1,i=r+t.length,r=n.indexOf(t,i);return a}n.d(t,{J:function(){return r}})},50752:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(29592),i=n(29299);function o(e,t){let n=function(e,t){switch(e.nodeType){case 1:return function(e,t){let n=e.namespaceURI,o=n===i.t.svg?r.s:r.h,s=n===i.t.html?e.tagName.toLowerCase():e.tagName,l=n===i.t.html&&"template"===s?e.content:e,c=e.getAttributeNames(),u={},d=-1;for(;++d<c.length;)u[c[d]]=e.getAttribute(c[d])||"";return o(s,u,a(l,t))}(e,t);case 3:return{type:"text",value:e.nodeValue||""};case 8:return{type:"comment",value:e.nodeValue||""};case 9:case 11:return{type:"root",children:a(e,t)};case 10:return{type:"doctype"};default:return}}(e,t);return n&&t.afterTransform&&t.afterTransform(e,n),n}function a(e,t){let n=e.childNodes,r=[],i=-1;for(;++i<n.length;){let e=o(n[i],t);void 0!==e&&r.push(e)}return r}let s=new DOMParser;var l=n(11135);let c=function(e,t,n){let r=(0,l.O)(n);if(!e||!e.type||!e.children)throw Error("Expected parent node");if("number"==typeof t){if(t<0||t===Number.POSITIVE_INFINITY)throw Error("Expected positive finite number as index")}else if((t=e.children.indexOf(t))<0)throw Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]},u=function(e){if(null==e)return p;if("string"==typeof e)return d(function(t){return t.tagName===e});if("object"==typeof e)return function(e){let t=[],n=-1;for(;++n<e.length;)t[n]=u(e[n]);return d(function(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1})}(e);if("function"==typeof e)return d(e);throw Error("Expected function, string, or array as `test`")};function d(e){return function(t,n,r){return!!(null!==t&&"object"==typeof t&&"type"in t&&"tagName"in t&&e.call(this,t,"number"==typeof n?n:void 0,r||void 0))}}function p(e){return!!(e&&"object"==typeof e&&"type"in e&&"element"===e.type&&"tagName"in e&&"string"==typeof e.tagName)}let h=/\n/g,f=/[\t ]+/g,g=u("br"),m=u(function(e){return"td"===e.tagName||"th"===e.tagName}),b=u("p"),v=u("tr"),y=u(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",function(e){return!!(e.properties||{}).hidden},function(e){return"dialog"===e.tagName&&!(e.properties||{}).open}]),E=u(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function _(e,t){let n;let r=String(e.value),i=[],o=[],a=0;for(;a<=r.length;){h.lastIndex=a;let e=h.exec(r),n=e&&"index"in e?e.index:r.length;i.push(function(e,t,n){let r;let i=[],o=0;for(;o<e.length;){f.lastIndex=o;let n=f.exec(e);r=n?n.index:e.length,o||r||!n||t||i.push(""),o!==r&&i.push(e.slice(o,r)),o=n?r+n[0].length:r}return o===r||n||i.push(""),i.join(" ")}(r.slice(a,n).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),0!==a||t.breakBefore,n!==r.length||t.breakAfter)),a=n+1}let s=-1;for(;++s<i.length;)8203===i[s].charCodeAt(i[s].length-1)||s<i.length-1&&8203===i[s+1].charCodeAt(0)?(o.push(i[s]),n=void 0):i[s]?("number"==typeof n&&o.push(n),o.push(i[s]),n=0):(0===s||s===i.length-1)&&o.push(0);return o}function x(e,t){if("element"===e.type){let n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}var S=n(10256),A=n(34505);let C={},w=[];function O(e){let t=e||C;return function(e,n){(0,A.S4)(e,"element",function(e,r){let i;let a=Array.isArray(e.properties.className)?e.properties.className:w,l=a.includes("language-math"),u=a.includes("math-display"),d=a.includes("math-inline"),p=u;if(!l&&!u&&!d)return;let h=r[r.length-1],f=e;if("code"===e.tagName&&l&&h&&"element"===h.type&&"pre"===h.tagName&&(f=h,h=r[r.length-2],p=!0),!h)return;let C=function(e,t){let n;let r="children"in e?e.children:[],i=E(e),o=x(e,{whitespace:(t||{}).whitespace||"normal",breakBefore:!1,breakAfter:!1}),a=[];("text"===e.type||"comment"===e.type)&&a.push(..._(e,{whitespace:o,breakBefore:!0,breakAfter:!0}));let s=-1;for(;++s<r.length;)a.push(...function e(t,n,r){return"element"===t.type?function(t,n,r){let i,o;let a=x(t,r),s=t.children||[],l=-1,u=[];if(y(t))return u;for(g(t)?o="\n":v(t)&&c(n,t,v)?o="\n":b(t)?(i=2,o=2):E(t)&&(i=1,o=1);++l<s.length;)u=u.concat(e(s[l],t,{whitespace:a,breakBefore:l?void 0:i,breakAfter:l<s.length-1?g(s[l+1]):o}));return m(t)&&c(n,t,m)&&u.push("	"),i&&u.unshift(i),o&&u.push(o),u}(t,n,r):"text"===t.type?"normal"===r.whitespace?_(t,r):[String(t.value)]:[]}(r[s],e,{whitespace:o,breakBefore:s?void 0:i,breakAfter:s<r.length-1?g(r[s+1]):i}));let l=[];for(s=-1;++s<a.length;){let e=a[s];"number"==typeof e?void 0!==n&&e>n&&(n=e):e&&(void 0!==n&&n>-1&&l.push("\n".repeat(n)||" "),n=-1,l.push(e))}return l.join("")}(f,{whitespace:"pre"});try{i=S.ZP.renderToString(C,{...t,displayMode:p,throwOnError:!0})}catch(a){let o=a.name.toLowerCase();n.message("Could not render math with KaTeX",{ancestors:[...r,e],cause:a,place:e.position,ruleId:o,source:"rehype-katex"});try{i=S.ZP.renderToString(C,{...t,displayMode:p,strict:"ignore",throwOnError:!1})}catch{i=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(a)},children:[{type:"text",value:C}]}]}}if("string"==typeof i){let e=function(e,t){let n=t?.fragment?function(e){let t=document.createElement("template");return t.innerHTML=e,t.content}(e):s.parseFromString(e,"text/html");return o(n,{})||{type:"root",children:[]}}(i,{fragment:!0});i=e.children}let O=h.children.indexOf(f);return h.children.splice(O,1,...i),A.AM})}}},94016:function(e,t,n){"use strict";n.d(t,{Z:function(){return nw}});var r,i,o,a,s,l,c,u,d,p,h,f,g,m,b,v,y,E,_,x,S,A,C,w,O,I,L,R,k,N,M={};n.r(M),n.d(M,{boolean:function(){return et},booleanish:function(){return en},commaOrSpaceSeparated:function(){return es},commaSeparated:function(){return ea},number:function(){return ei},overloadedBoolean:function(){return er},spaceSeparated:function(){return eo}});var D=n(38270),P=n(4729),F=n(29592),B=n(51279),U=n(43731);function z(e,t){let n=e.indexOf("\r",t),r=e.indexOf("\n",t);return -1===r?n:-1===n||n+1===r?r:n<r?n:r}var Z=n(29299);let j={}.hasOwnProperty,H=Object.prototype;function G(e,t){let n;switch(t.nodeName){case"#comment":return n={type:"comment",value:t.data},$(e,t,n),n;case"#document":case"#document-fragment":{let r="mode"in t&&("quirks"===t.mode||"limited-quirks"===t.mode);if(n={type:"root",children:V(e,t.childNodes),data:{quirksMode:r}},e.file&&e.location){let t=String(e.file),r=function(e){let t=String(e),n=[];return{toOffset:function(e){if(e&&"number"==typeof e.line&&"number"==typeof e.column&&!Number.isNaN(e.line)&&!Number.isNaN(e.column)){for(;n.length<e.line;){let e=n[n.length-1],r=z(t,e),i=-1===r?t.length+1:r+1;if(e===i)break;n.push(i)}let r=(e.line>1?n[e.line-2]:0)+e.column-1;if(r<n[e.line-1])return r}},toPoint:function(e){if("number"==typeof e&&e>-1&&e<=t.length){let r=0;for(;;){let i=n[r];if(void 0===i){let e=z(t,n[r-1]);i=-1===e?t.length+1:e+1,n[r]=i}if(i>e)return{line:r+1,column:e-(r>0?n[r-1]:0)+1,offset:e};r++}}}}}(t),i=r.toPoint(0),o=r.toPoint(t.length);(0,P.ok)(i,"expected `start`"),(0,P.ok)(o,"expected `end`"),n.position={start:i,end:o}}return n}case"#documentType":return $(e,t,n={type:"doctype"}),n;case"#text":return n={type:"text",value:t.value},$(e,t,n),n;default:return function(e,t){let n=e.schema;e.schema=t.namespaceURI===Z.t.svg?B.YP:B.dy;let r=-1,i={};for(;++r<t.attrs.length;){let e=t.attrs[r],n=(e.prefix?e.prefix+":":"")+e.name;j.call(H,n)||(i[n]=e.value)}let o="svg"===e.schema.space?F.s:F.h,a=o(t.tagName,i,V(e,t.childNodes));if($(e,t,a),"template"===a.tagName){let n=t.sourceCodeLocation,r=n&&n.startTag&&W(n.startTag),i=n&&n.endTag&&W(n.endTag),o=G(e,t.content);r&&i&&e.file&&(o.position={start:r.end,end:i.start}),a.content=o}return e.schema=n,a}(e,t)}}function V(e,t){let n=-1,r=[];for(;++n<t.length;){let i=G(e,t[n]);r.push(i)}return r}function $(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){let r=function(e,t,n){let r=W(n);if("element"===t.type){let i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){let r;let i={};if(n.attrs)for(r in n.attrs)j.call(n.attrs,r)&&(i[(0,U.s)(e.schema,r).property]=W(n.attrs[r]));(0,P.ok)(n.startTag,"a start tag should exist");let o=W(n.startTag),a=n.endTag?W(n.endTag):void 0,s={opening:o};a&&(s.closing=a),s.properties=i,t.data={position:s}}}return r}(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function W(e){let t=Y({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=Y({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function Y(e){return e.line&&e.column?e:void 0}var q=n(57529);class X{constructor(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}}function K(e,t){let n={},r={},i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new X(n,r,t)}function Q(e){return e.toLowerCase()}X.prototype.property={},X.prototype.normal={},X.prototype.space=null;class J{constructor(e,t){this.property=e,this.attribute=t}}J.prototype.space=null,J.prototype.boolean=!1,J.prototype.booleanish=!1,J.prototype.overloadedBoolean=!1,J.prototype.number=!1,J.prototype.commaSeparated=!1,J.prototype.spaceSeparated=!1,J.prototype.commaOrSpaceSeparated=!1,J.prototype.mustUseProperty=!1,J.prototype.defined=!1;let ee=0,et=el(),en=el(),er=el(),ei=el(),eo=el(),ea=el(),es=el();function el(){return 2**++ee}let ec=Object.keys(M);class eu extends J{constructor(e,t,n,r){var i,o;let a=-1;if(super(e,t),r&&(this.space=r),"number"==typeof n)for(;++a<ec.length;){let e=ec[a];i=ec[a],(o=(n&M[e])===M[e])&&(this[i]=o)}}}eu.prototype.defined=!0;let ed={}.hasOwnProperty;function ep(e){let t;let n={},r={};for(t in e.properties)if(ed.call(e.properties,t)){let i=e.properties[t],o=new eu(t,e.transform(e.attributes||{},t),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(t)&&(o.mustUseProperty=!0),n[t]=o,r[Q(t)]=t,r[Q(o.attribute)]=t}return new X(n,r,e.space)}let eh=ep({space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),ef=ep({space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function eg(e,t){return t in e?e[t]:t}function em(e,t){return eg(e,t.toLowerCase())}let eb=ep({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:em,properties:{xmlns:null,xmlnsXLink:null}}),ev=ep({transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:en,ariaAutoComplete:null,ariaBusy:en,ariaChecked:en,ariaColCount:ei,ariaColIndex:ei,ariaColSpan:ei,ariaControls:eo,ariaCurrent:null,ariaDescribedBy:eo,ariaDetails:null,ariaDisabled:en,ariaDropEffect:eo,ariaErrorMessage:null,ariaExpanded:en,ariaFlowTo:eo,ariaGrabbed:en,ariaHasPopup:null,ariaHidden:en,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:eo,ariaLevel:ei,ariaLive:null,ariaModal:en,ariaMultiLine:en,ariaMultiSelectable:en,ariaOrientation:null,ariaOwns:eo,ariaPlaceholder:null,ariaPosInSet:ei,ariaPressed:en,ariaReadOnly:en,ariaRelevant:null,ariaRequired:en,ariaRoleDescription:eo,ariaRowCount:ei,ariaRowIndex:ei,ariaRowSpan:ei,ariaSelected:en,ariaSetSize:ei,ariaSort:null,ariaValueMax:ei,ariaValueMin:ei,ariaValueNow:ei,ariaValueText:null,role:null}}),ey=ep({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:em,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ea,acceptCharset:eo,accessKey:eo,action:null,allow:null,allowFullScreen:et,allowPaymentRequest:et,allowUserMedia:et,alt:null,as:null,async:et,autoCapitalize:null,autoComplete:eo,autoFocus:et,autoPlay:et,blocking:eo,capture:null,charSet:null,checked:et,cite:null,className:eo,cols:ei,colSpan:null,content:null,contentEditable:en,controls:et,controlsList:eo,coords:ei|ea,crossOrigin:null,data:null,dateTime:null,decoding:null,default:et,defer:et,dir:null,dirName:null,disabled:et,download:er,draggable:en,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:et,formTarget:null,headers:eo,height:ei,hidden:et,high:ei,href:null,hrefLang:null,htmlFor:eo,httpEquiv:eo,id:null,imageSizes:null,imageSrcSet:null,inert:et,inputMode:null,integrity:null,is:null,isMap:et,itemId:null,itemProp:eo,itemRef:eo,itemScope:et,itemType:eo,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:et,low:ei,manifest:null,max:null,maxLength:ei,media:null,method:null,min:null,minLength:ei,multiple:et,muted:et,name:null,nonce:null,noModule:et,noValidate:et,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:et,optimum:ei,pattern:null,ping:eo,placeholder:null,playsInline:et,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:et,referrerPolicy:null,rel:eo,required:et,reversed:et,rows:ei,rowSpan:ei,sandbox:eo,scope:null,scoped:et,seamless:et,selected:et,shadowRootClonable:et,shadowRootDelegatesFocus:et,shadowRootMode:null,shape:null,size:ei,sizes:null,slot:null,span:ei,spellCheck:en,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ei,step:null,style:null,tabIndex:ei,target:null,title:null,translate:null,type:null,typeMustMatch:et,useMap:null,value:en,width:ei,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:eo,axis:null,background:null,bgColor:null,border:ei,borderColor:null,bottomMargin:ei,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:et,declare:et,event:null,face:null,frame:null,frameBorder:null,hSpace:ei,leftMargin:ei,link:null,longDesc:null,lowSrc:null,marginHeight:ei,marginWidth:ei,noResize:et,noHref:et,noShade:et,noWrap:et,object:null,profile:null,prompt:null,rev:null,rightMargin:ei,rules:null,scheme:null,scrolling:en,standby:null,summary:null,text:null,topMargin:ei,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ei,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:et,disableRemotePlayback:et,prefix:null,property:null,results:ei,security:null,unselectable:null}}),eE=ep({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:eg,properties:{about:es,accentHeight:ei,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ei,amplitude:ei,arabicForm:null,ascent:ei,attributeName:null,attributeType:null,azimuth:ei,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ei,by:null,calcMode:null,capHeight:ei,className:eo,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ei,diffuseConstant:ei,direction:null,display:null,dur:null,divisor:ei,dominantBaseline:null,download:et,dx:null,dy:null,edgeMode:null,editable:null,elevation:ei,enableBackground:null,end:null,event:null,exponent:ei,externalResourcesRequired:null,fill:null,fillOpacity:ei,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ea,g2:ea,glyphName:ea,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ei,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ei,horizOriginX:ei,horizOriginY:ei,id:null,ideographic:ei,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ei,k:ei,k1:ei,k2:ei,k3:ei,k4:ei,kernelMatrix:es,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ei,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ei,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ei,overlineThickness:ei,paintOrder:null,panose1:null,path:null,pathLength:ei,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:eo,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ei,pointsAtY:ei,pointsAtZ:ei,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:es,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:es,rev:es,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:es,requiredFeatures:es,requiredFonts:es,requiredFormats:es,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ei,specularExponent:ei,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ei,strikethroughThickness:ei,string:null,stroke:null,strokeDashArray:es,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ei,strokeOpacity:ei,strokeWidth:null,style:null,surfaceScale:ei,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:es,tabIndex:ei,tableValues:null,target:null,targetX:ei,targetY:ei,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:es,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ei,underlineThickness:ei,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ei,values:null,vAlphabetic:ei,vMathematical:ei,vectorEffect:null,vHanging:ei,vIdeographic:ei,version:null,vertAdvY:ei,vertOriginX:ei,vertOriginY:ei,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ei,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),e_=K([ef,eh,eb,ev,ey],"html"),eT=K([ef,eh,eb,ev,eE],"svg"),ex=/^data[-\w.:]+$/i,eS=/-[a-z]/g,eA=/[A-Z]/g;function eC(e){return"-"+e.toLowerCase()}function ew(e){return e.charAt(1).toUpperCase()}var eO=n(83135);let eI={}.hasOwnProperty;function eL(e,t){let n=t||{};function r(t,...n){let i=r.invalid,o=r.handlers;if(t&&eI.call(t,e)){let n=String(t[e]);i=eI.call(o,n)?o[n]:r.unknown}if(i)return i.call(this,t,...n)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}let eR={},ek={}.hasOwnProperty,eN=eL("type",{handlers:{root:function(e,t){let n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=eM(e.children,n,t),eD(e,n),n},element:function(e,t){let n;let r=t;"element"===e.type&&"svg"===e.tagName.toLowerCase()&&"html"===t.space&&(r=eT);let i=[];if(e.properties){for(n in e.properties)if("children"!==n&&ek.call(e.properties,n)){let t=function(e,t,n){let r=function(e,t){let n=Q(t),r=t,i=J;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&ex.test(t)){if("-"===t.charAt(4)){let e=t.slice(5).replace(eS,ew);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{let e=t.slice(4);if(!eS.test(e)){let n=e.replace(eA,eC);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}i=eu}return new i(r,t)}(e,t);if(!1===n||null==n||"number"==typeof n&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?(0,q.P)(n):(0,eO.P)(n));let i={name:r.attribute,value:!0===n?"":String(n)};if(r.space&&"html"!==r.space&&"svg"!==r.space){let e=i.name.indexOf(":");e<0?i.prefix="":(i.name=i.name.slice(e+1),i.prefix=r.attribute.slice(0,e)),i.namespace=Z.t[r.space]}return i}(r,n,e.properties[n]);t&&i.push(t)}}let o=r.space;(0,P.ok)(o);let a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:Z.t[o],childNodes:[],parentNode:null};return a.childNodes=eM(e.children,a,r),eD(e,a),"template"===e.tagName&&e.content&&(a.content=function(e,t){let n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=eM(e.children,n,t),eD(e,n),n}(e.content,r)),a},text:function(e){let t={nodeName:"#text",value:e.value,parentNode:null};return eD(e,t),t},comment:function(e){let t={nodeName:"#comment",data:e.value,parentNode:null};return eD(e,t),t},doctype:function(e){let t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return eD(e,t),t}}});function eM(e,t,n){let r=-1,i=[];if(e)for(;++r<e.length;){let o=eN(e[r],n);o.parentNode=t,i.push(o)}return i}function eD(e,t){let n=e.position;n&&n.start&&n.end&&((0,P.ok)("number"==typeof n.start.offset),(0,P.ok)("number"==typeof n.end.offset),t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}let eP=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],eF=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);(r=v||(v={}))[r.EOF=-1]="EOF",r[r.NULL=0]="NULL",r[r.TABULATION=9]="TABULATION",r[r.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",r[r.LINE_FEED=10]="LINE_FEED",r[r.FORM_FEED=12]="FORM_FEED",r[r.SPACE=32]="SPACE",r[r.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",r[r.QUOTATION_MARK=34]="QUOTATION_MARK",r[r.AMPERSAND=38]="AMPERSAND",r[r.APOSTROPHE=39]="APOSTROPHE",r[r.HYPHEN_MINUS=45]="HYPHEN_MINUS",r[r.SOLIDUS=47]="SOLIDUS",r[r.DIGIT_0=48]="DIGIT_0",r[r.DIGIT_9=57]="DIGIT_9",r[r.SEMICOLON=59]="SEMICOLON",r[r.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",r[r.EQUALS_SIGN=61]="EQUALS_SIGN",r[r.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",r[r.QUESTION_MARK=63]="QUESTION_MARK",r[r.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",r[r.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",r[r.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",r[r.GRAVE_ACCENT=96]="GRAVE_ACCENT",r[r.LATIN_SMALL_A=97]="LATIN_SMALL_A",r[r.LATIN_SMALL_Z=122]="LATIN_SMALL_Z";let eB={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function eU(e){return e>=55296&&e<=57343}function ez(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159}function eZ(e){return e>=64976&&e<=65007||eF.has(e)}(i=y||(y={})).controlCharacterInInputStream="control-character-in-input-stream",i.noncharacterInInputStream="noncharacter-in-input-stream",i.surrogateInInputStream="surrogate-in-input-stream",i.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",i.endTagWithAttributes="end-tag-with-attributes",i.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",i.unexpectedSolidusInTag="unexpected-solidus-in-tag",i.unexpectedNullCharacter="unexpected-null-character",i.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",i.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",i.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",i.missingEndTagName="missing-end-tag-name",i.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",i.unknownNamedCharacterReference="unknown-named-character-reference",i.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",i.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",i.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",i.eofBeforeTagName="eof-before-tag-name",i.eofInTag="eof-in-tag",i.missingAttributeValue="missing-attribute-value",i.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",i.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",i.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",i.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",i.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",i.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",i.missingDoctypePublicIdentifier="missing-doctype-public-identifier",i.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",i.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",i.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",i.cdataInHtmlContent="cdata-in-html-content",i.incorrectlyOpenedComment="incorrectly-opened-comment",i.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",i.eofInDoctype="eof-in-doctype",i.nestedComment="nested-comment",i.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",i.eofInComment="eof-in-comment",i.incorrectlyClosedComment="incorrectly-closed-comment",i.eofInCdata="eof-in-cdata",i.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",i.nullCharacterReference="null-character-reference",i.surrogateCharacterReference="surrogate-character-reference",i.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",i.controlCharacterReference="control-character-reference",i.noncharacterCharacterReference="noncharacter-character-reference",i.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",i.missingDoctypeName="missing-doctype-name",i.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",i.duplicateAttribute="duplicate-attribute",i.nonConformingDoctype="non-conforming-doctype",i.missingDoctype="missing-doctype",i.misplacedDoctype="misplaced-doctype",i.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",i.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",i.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",i.openElementsLeftAfterEof="open-elements-left-after-eof",i.abandonedHeadElementChild="abandoned-head-element-child",i.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",i.nestedNoscriptInHead="nested-noscript-in-head",i.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text";class ej{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,t){let{line:n,col:r,offset:i}=this,o=r+t,a=i+t;return{code:e,startLine:n,endLine:n,startCol:o,endCol:o,startOffset:a,endOffset:a}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){let t=this.html.charCodeAt(this.pos+1);if(t>=56320&&t<=57343)return this.pos++,this._addGap(),(e-55296)*1024+9216+t}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,v.EOF;return this._err(y.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let t=0;t<e.length;t++){let n=32|this.html.charCodeAt(this.pos+t);if(n!==e.charCodeAt(t))return!1}return!0}peek(e){let t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,v.EOF;let n=this.html.charCodeAt(t);return n===v.CARRIAGE_RETURN?v.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,v.EOF;let e=this.html.charCodeAt(this.pos);if(e===v.CARRIAGE_RETURN)return this.isEol=!0,this.skipNextNewLine=!0,v.LINE_FEED;if(e===v.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine))return this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance();this.skipNextNewLine=!1,eU(e)&&(e=this._processSurrogate(e));let t=null===this.handler.onParseError||e>31&&e<127||e===v.LINE_FEED||e===v.CARRIAGE_RETURN||e>159&&e<64976;return t||this._checkForProblematicCharacters(e),e}_checkForProblematicCharacters(e){ez(e)?this._err(y.controlCharacterInInputStream):eZ(e)&&this._err(y.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}function eH(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}(o=E||(E={}))[o.CHARACTER=0]="CHARACTER",o[o.NULL_CHARACTER=1]="NULL_CHARACTER",o[o.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",o[o.START_TAG=3]="START_TAG",o[o.END_TAG=4]="END_TAG",o[o.COMMENT=5]="COMMENT",o[o.DOCTYPE=6]="DOCTYPE",o[o.EOF=7]="EOF",o[o.HIBERNATION=8]="HIBERNATION";let eG=new Uint16Array('ᵁ<\xd5ıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\x00\x00\x00\x00\x00\x00ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms\x7f\x84\x8b\x90\x95\x98\xa6\xb3\xb9\xc8\xcflig耻\xc6䃆P耻&䀦cute耻\xc1䃁reve;䄂Āiyx}rc耻\xc2䃂;䐐r;쀀\ud835\udd04rave耻\xc0䃀pha;䎑acr;䄀d;橓Āgp\x9d\xa1on;䄄f;쀀\ud835\udd38plyFunction;恡ing耻\xc5䃅Ācs\xbe\xc3r;쀀\ud835\udc9cign;扔ilde耻\xc3䃃ml耻\xc4䃄Ѐaceforsu\xe5\xfb\xfeėĜĢħĪĀcr\xea\xf2kslash;或Ŷ\xf6\xf8;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀\ud835\udd05pf;쀀\ud835\udd39eve;䋘c\xf2ēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻\xa9䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻\xc7䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷\xf2ſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀\ud835\udc9epĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀\ud835\udd07Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\x00\x00\x00͔͂\x00Ѕf;쀀\ud835\udd3bƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegra\xecȹoɴ͹\x00\x00ͻ\xbb͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔e\xe5ˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\x00\x00ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\x00ц\x00ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\x00ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀\ud835\udc9frok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻\xd0䃐cute耻\xc9䃉ƀaiyӒӗӜron;䄚rc耻\xca䃊;䐭ot;䄖r;쀀\ud835\udd08rave耻\xc8䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\x00\x00ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀\ud835\udd3csilon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻\xcb䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀\ud835\udd09lledɓ֗\x00\x00֣mallSquare;旼erySmallSquare;斪Ͱֺ\x00ֿ\x00\x00ׄf;쀀\ud835\udd3dAll;戀riertrf;愱c\xf2׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀\ud835\udd0a;拙pf;쀀\ud835\udd3eeater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀\ud835\udca2;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\x00ڲf;愍izontalLine;攀Āctۃۅ\xf2کrok;䄦mpńېۘownHum\xf0įqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻\xcd䃍Āiyܓܘrc耻\xce䃎;䐘ot;䄰r;愑rave耻\xcc䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lie\xf3ϝǴ݉\x00ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀\ud835\udd40a;䎙cr;愐ilde;䄨ǫޚ\x00ޞcy;䐆l耻\xcf䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀\ud835\udd0dpf;쀀\ud835\udd41ǣ߇\x00ߌr;쀀\ud835\udca5rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀\ud835\udd0epf;쀀\ud835\udd42cr;쀀\ud835\udca6րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\x00ࣃbleBracket;柦nǔࣈ\x00࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ight\xe1Μs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀\ud835\udd0fĀ;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊight\xe1οight\xe1ϊf;쀀\ud835\udd43erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂ\xf2ࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀\ud835\udd10nusPlus;戓pf;쀀\ud835\udd44c\xf2੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘\xeb૙eryThi\xee૙tedĀGL૸ଆreaterGreate\xf2ٳessLes\xf3ੈLine;䀊r;쀀\ud835\udd11ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀\ud835\udca9ilde耻\xd1䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻\xd3䃓Āiy෎ීrc耻\xd4䃔;䐞blac;䅐r;쀀\ud835\udd12rave耻\xd2䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀\ud835\udd46enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀\ud835\udcaaash耻\xd8䃘iŬื฼de耻\xd5䃕es;樷ml耻\xd6䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀\ud835\udd13i;䎦;䎠usMinus;䂱Āipຢອncareplan\xe5ڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀\ud835\udcab;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀\ud835\udd14pf;愚cr;쀀\ud835\udcac؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻\xae䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r\xbbཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\x00စbleBracket;柧nǔည\x00နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀\ud835\udd16ortȀDLRUᄪᄴᄾᅉownArrow\xbbОeftArrow\xbb࢚ightArrow\xbb࿝pArrow;憑gma;䎣allCircle;战pf;쀀\ud835\udd4aɲᅭ\x00\x00ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀\ud835\udcaear;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Th\xe1ྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et\xbbሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻\xde䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀\ud835\udd17Āeiቻ኉ǲኀ\x00ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀\ud835\udd4bipleDot;惛Āctዖዛr;쀀\ud835\udcafrok;䅦ૡዷጎጚጦ\x00ጬጱ\x00\x00\x00\x00\x00ጸጽ፷ᎅ\x00᏿ᐄᐊᐐĀcrዻጁute耻\xda䃚rĀ;oጇገ憟cir;楉rǣጓ\x00጖y;䐎ve;䅬Āiyጞጣrc耻\xdb䃛;䐣blac;䅰r;쀀\ud835\udd18rave耻\xd9䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀\ud835\udd4cЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥own\xe1ϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀\ud835\udcb0ilde;䅨ml耻\xdc䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀\ud835\udd19pf;쀀\ud835\udd4dcr;쀀\ud835\udcb1dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀\ud835\udd1apf;쀀\ud835\udd4ecr;쀀\ud835\udcb2Ȁfiosᓋᓐᓒᓘr;쀀\ud835\udd1b;䎞pf;쀀\ud835\udd4fcr;쀀\ud835\udcb3ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻\xdd䃝Āiyᔉᔍrc;䅶;䐫r;쀀\ud835\udd1cpf;쀀\ud835\udd50cr;쀀\ud835\udcb4ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\x00ᕛoWidt\xe8૙a;䎖r;愨pf;愤cr;쀀\ud835\udcb5௡ᖃᖊᖐ\x00ᖰᖶᖿ\x00\x00\x00\x00ᗆᗛᗫᙟ᙭\x00ᚕ᚛ᚲᚹ\x00ᚾcute耻\xe1䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻\xe2䃢te肻\xb4̆;䐰lig耻\xe6䃦Ā;r\xb2ᖺ;쀀\ud835\udd1erave耻\xe0䃠ĀepᗊᗖĀfpᗏᗔsym;愵\xe8ᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\x00\x00ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e\xbbᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢\xbb\xb9arr;捼Āgpᙣᙧon;䄅f;쀀\ud835\udd52΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒ\xf1ᚃing耻\xe5䃥ƀctyᚡᚦᚨr;쀀\ud835\udcb6;䀪mpĀ;e዁ᚯ\xf1ʈilde耻\xe3䃣ml耻\xe4䃤Āciᛂᛈonin\xf4ɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e\xbbᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰s\xe9ᜌno\xf5ēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀\ud835\udd1fg΀costuvwឍឝឳេ៕៛៞ƀaiuបពរ\xf0ݠrc;旯p\xbb፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\x00\x00ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄e\xe5ᑄ\xe5ᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\x00ᠳƲᠯ\x00ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀\ud835\udd53Ā;tᏋᡣom\xbbᏌtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻\xa6䂦Ȁceioᥑᥖᥚᥠr;쀀\ud835\udcb7mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t\xbb᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\x00᧨ᨑᨕᨲ\x00ᨷᩐ\x00\x00᪴\x00\x00᫁\x00\x00ᬡᬮ᭍᭒\x00᯽\x00ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁\xeeړȀaeiu᧰᧻ᨁᨅǰ᧵\x00᧸s;橍on;䄍dil耻\xe7䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻\xb8ƭptyv;榲t脀\xa2;eᨭᨮ䂢r\xe4Ʋr;쀀\ud835\udd20ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark\xbbᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\x00\x00᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟\xbbཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it\xbb᪼ˬ᫇᫔᫺\x00ᬊonĀ;eᫍᫎ䀺Ā;q\xc7\xc6ɭ᫙\x00\x00᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁\xeeᅠeĀmx᫱᫶ent\xbb᫩e\xf3ɍǧ᫾\x00ᬇĀ;dኻᬂot;橭n\xf4Ɇƀfryᬐᬔᬗ;쀀\ud835\udd54o\xe4ɔ脀\xa9;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀\ud835\udcb8Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\x00\x00᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\x00\x00ᯒre\xe3᭳u\xe3᭵ee;拎edge;拏en耻\xa4䂤earrowĀlrᯮ᯳eft\xbbᮀight\xbbᮽe\xe4ᯝĀciᰁᰇonin\xf4Ƿnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍r\xf2΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸\xf2ᄳhĀ;vᱚᱛ怐\xbbऊūᱡᱧarow;椏a\xe3̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻\xb0䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀\ud835\udd21arĀlrᲳᲵ\xbbࣜ\xbbသʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀\xf7;o᳧ᳰntimes;拇n\xf8᳷cy;䑒cɯᴆ\x00\x00ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀\ud835\udd55ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedg\xe5\xfanƀadhᄮᵝᵧownarrow\xf3ᲃarpoonĀlrᵲᵶef\xf4Ჴigh\xf4ᲶŢᵿᶅkaro\xf7གɯᶊ\x00\x00ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀\ud835\udcb9;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃r\xf2Щa\xf2ྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴo\xf4ᲉĀcsḎḔute耻\xe9䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻\xea䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀\ud835\udd22ƀ;rsṐṑṗ檚ave耻\xe8䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et\xbbẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀\ud835\udd56ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on\xbbớ;䏵ȀcsuvỪỳἋἣĀioữḱrc\xbbḮɩỹ\x00\x00ỻ\xedՈantĀglἂἆtr\xbbṝess\xbbṺƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯o\xf4͒ĀahὉὋ;䎷耻\xf0䃰Āmrὓὗl耻\xeb䃫o;悬ƀcipὡὤὧl;䀡s\xf4ծĀeoὬὴctatio\xeeՙnential\xe5չৡᾒ\x00ᾞ\x00ᾡᾧ\x00\x00ῆῌ\x00ΐ\x00ῦῪ \x00 ⁚llingdotse\xf1Ṅy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\x00\x00᾽g;耀ﬀig;耀ﬄ;쀀\ud835\udd23lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\x00ῳf;쀀\ud835\udd57ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\x00⁐β•‥‧‪‬\x00‮耻\xbd䂽;慓耻\xbc䂼;慕;慙;慛Ƴ‴\x00‶;慔;慖ʴ‾⁁\x00\x00⁃耻\xbe䂾;慗;慜5;慘ƶ⁌\x00⁎;慚;慝8;慞l;恄wn;挢cr;쀀\ud835\udcbbࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lan\xf4٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀\ud835\udd24Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox\xbbℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀\ud835\udd58Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\x00↎pro\xf8₞r;楸qĀlqؿ↖les\xf3₈i\xed٫Āen↣↭rtneqq;쀀≩︀\xc5↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽r\xf2ΠȀilmr⇐⇔⇗⇛rs\xf0ᒄf\xbb․il\xf4کĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it\xbb∊lip;怦con;抹r;쀀\ud835\udd25sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀\ud835\udd59bar;怕ƀclt≯≴≸r;쀀\ud835\udcbdas\xe8⇴rok;䄧Ābp⊂⊇ull;恃hen\xbbᱛૡ⊣\x00⊪\x00⊸⋅⋎\x00⋕⋳\x00\x00⋸⌢⍧⍢⍿\x00⎆⎪⎴cute耻\xed䃭ƀ;iyݱ⊰⊵rc耻\xee䃮;䐸Ācx⊼⊿y;䐵cl耻\xa1䂡ĀfrΟ⋉;쀀\ud835\udd26rave耻\xec䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓in\xe5ގar\xf4ܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝do\xf4⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙er\xf3ᕣ\xe3⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀\ud835\udd5aa;䎹uest耻\xbf䂿Āci⎊⎏r;쀀\ud835\udcbenʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\x00⎼cy;䑖l耻\xef䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀\ud835\udd27ath;䈷pf;쀀\ud835\udd5bǣ⏬\x00⏱r;쀀\ud835\udcbfrcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀\ud835\udd28reen;䄸cy;䑅cy;䑜pf;쀀\ud835\udd5ccr;쀀\ud835\udcc0஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼r\xf2৆\xf2Εail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\x00⒪\x00⒱\x00\x00\x00\x00\x00⒵Ⓔ\x00ⓆⓈⓍ\x00⓹ute;䄺mptyv;榴ra\xeeࡌbda;䎻gƀ;dlࢎⓁⓃ;榑\xe5ࢎ;檅uo耻\xab䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝\xeb≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼\xecࢰ\xe2┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□a\xe9⓶arpoonĀdu▯▴own\xbbњp\xbb०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoon\xf3྘quigarro\xf7⇰hreetimes;拋ƀ;qs▋ও◺lan\xf4বʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋ppro\xf8Ⓠot;拖qĀgq♃♅\xf4উgt\xf2⒌\xf4ছi\xedলƀilr♕࣡♚sht;楼;쀀\ud835\udd29Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖r\xf2◁orne\xf2ᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che\xbb⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox\xbb⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽r\xebࣁgƀlmr⛿✍✔eftĀar০✇ight\xe1৲apsto;柼ight\xe1৽parrowĀlr✥✩ef\xf4⓭ight;憬ƀafl✶✹✽r;榅;쀀\ud835\udd5dus;樭imes;樴š❋❏st;戗\xe1ፎƀ;ef❗❘᠀旊nge\xbb❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇r\xf2ࢨorne\xf2ᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀\ud835\udcc1mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹re\xe5◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀\xc5⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻\xaf䂯Āet⡗⡙;時Ā;e⡞⡟朠se\xbb⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻ow\xeeҌef\xf4ए\xf0Ꮡker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle\xbbᘦr;쀀\ud835\udd2ao;愧ƀcdn⢯⢴⣉ro耻\xb5䂵Ȁ;acdᑤ⢽⣀⣄s\xf4ᚧir;櫰ot肻\xb7Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛\xf2−\xf0ઁĀdp⣩⣮els;抧f;쀀\ud835\udd5eĀct⣸⣽r;쀀\ud835\udcc2pos\xbbᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la\xbb˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉ro\xf8඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\x00⧣p肻\xa0ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\x00⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸ui\xf6ୣĀei⩊⩎ar;椨\xed஘istĀ;s஠டr;쀀\ud835\udd2bȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lan\xf4௢i\xed௪Ā;rஶ⪁\xbbஷƀAap⪊⪍⪑r\xf2⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹r\xf2⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro\xf7⫁ightarro\xf7⪐ƀ;qs఻⪺⫪lan\xf4ౕĀ;sౕ⫴\xbbశi\xedౝĀ;rవ⫾iĀ;eచథi\xe4ඐĀpt⬌⬑f;쀀\ud835\udd5f膀\xac;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lle\xec୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳u\xe5ಥĀ;cಘ⭸Ā;eಒ⭽\xf1ಘȀAait⮈⮋⮝⮧r\xf2⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow\xbb⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉u\xe5൅;쀀\ud835\udcc3ortɭ⬅\x00\x00⯖ar\xe1⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭\xe5೸\xe5ഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗ\xf1സȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇ\xecௗlde耻\xf1䃱\xe7ృiangleĀlrⱒⱜeftĀ;eచⱚ\xf1దightĀ;eೋⱥ\xf1೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00ⴭ\x00ⴸⵈⵠⵥ⵲ⶄᬇ\x00\x00ⶍⶫ\x00ⷈⷎ\x00ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻\xf3䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻\xf4䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀\ud835\udd2cͯ⵹\x00\x00⵼\x00ⶂn;䋛ave耻\xf2䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨr\xf2᪀Āir⶝ⶠr;榾oss;榻n\xe5๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀\ud835\udd60ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨r\xf2᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f\xbbⷿ耻\xaa䂪耻\xba䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧\xf2⸁ash耻\xf8䃸l;折iŬⸯ⸴de耻\xf5䃵esĀ;aǛ⸺s;樶ml耻\xf6䃶bar;挽ૡ⹞\x00⹽\x00⺀⺝\x00⺢⺹\x00\x00⻋ຜ\x00⼓\x00\x00⼫⾼\x00⿈rȀ;astЃ⹧⹲຅脀\xb6;l⹭⹮䂶le\xecЃɩ⹸\x00\x00⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀\ud835\udd2dƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕ma\xf4੶ne;明ƀ;tv⺿⻀⻈䏀chfork\xbb´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎\xf6⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻\xb1ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀\ud835\udd61nd耻\xa3䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷u\xe5໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾ppro\xf8⽃urlye\xf1໙\xf1໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨i\xedໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺\xf0⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴\xef໻rel;抰Āci⿀⿅r;쀀\ud835\udcc5;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀\ud835\udd2epf;쀀\ud835\udd62rime;恗cr;쀀\ud835\udcc6ƀaeo⿸〉〓tĀei⿾々rnion\xf3ڰnt;樖stĀ;e【】䀿\xf1Ἑ\xf4༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがr\xf2Ⴓ\xf2ϝail;検ar\xf2ᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕i\xe3ᅮmptyv;榳gȀ;del࿑らるろ;榒;榥\xe5࿑uo耻\xbb䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞\xeb≝\xf0✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶al\xf3༞ƀabrョリヮr\xf2៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗\xec࿲\xe2ヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜn\xe5Ⴛar\xf4ྩt;断ƀilrㅩဣㅮsht;楽;쀀\ud835\udd2fĀaoㅷㆆrĀduㅽㅿ\xbbѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭa\xe9トarpoonĀduㆻㆿow\xeeㅾp\xbb႒eftĀah㇊㇐rrow\xf3࿪arpoon\xf3Ցightarrows;應quigarro\xf7ニhreetimes;拌g;䋚ingdotse\xf1ἲƀahm㈍㈐㈓r\xf2࿪a\xf2Ց;怏oustĀ;a㈞㈟掱che\xbb㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾r\xebဃƀafl㉇㉊㉎r;榆;쀀\ud835\udd63us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒ar\xf2㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀\ud835\udcc7Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠re\xe5ㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\x00㍺㎤\x00\x00㏬㏰\x00㐨㑈㑚㒭㒱㓊㓱\x00㘖\x00\x00㘳cute;䅛qu\xef➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\x00㋼;檸on;䅡u\xe5ᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓i\xedሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒\xeb∨Ā;oਸ਼਴t耻\xa7䂧i;䀻war;椩mĀin㍩\xf0nu\xf3\xf1t;朶rĀ;o㍶⁕쀀\ud835\udd30Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\x00\x00㎜i\xe4ᑤara\xec⹯耻\xad䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲ar\xf2ᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetm\xe9㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀\ud835\udd64aĀdr㑍ЂesĀ;u㑔㑕晠it\xbb㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍\xf1ᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝\xf1ᆮƀ;afᅻ㒦ְrť㒫ֱ\xbbᅼar\xf2ᅈȀcemt㒹㒾㓂㓅r;쀀\ud835\udcc8tm\xee\xf1i\xec㐕ar\xe6ᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psilo\xeeỠh\xe9⺯s\xbb⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦ppro\xf8㋺urlye\xf1ᇾ\xf1ᇳƀaes㖂㖈㌛ppro\xf8㌚q\xf1㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻\xb9䂹耻\xb2䂲耻\xb3䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨\xeb∮Ā;oਫ਩war;椪lig耻\xdf䃟௡㙑㙝㙠ዎ㙳㙹\x00㙾㛂\x00\x00\x00\x00\x00㛛㜃\x00㜉㝬\x00\x00\x00㞇ɲ㙖\x00\x00㙛get;挖;䏄r\xeb๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀\ud835\udd31Ȁeiko㚆㚝㚵㚼ǲ㚋\x00㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮ppro\xf8዁im\xbbኬs\xf0ኞĀas㚺㚮\xf0዁rn耻\xfe䃾Ǭ̟㛆⋧es膀\xd7;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀\xe1⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀\ud835\udd65rk;櫚\xe1㍢rime;怴ƀaip㜏㜒㝤d\xe5ቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own\xbbᶻeftĀ;e⠀㜾\xf1म;扜ightĀ;e㊪㝋\xf1ၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀\ud835\udcc9;䑆cy;䑛rok;䅧Āio㞋㞎x\xf4᝷headĀlr㞗㞠eftarro\xf7ࡏightarrow\xbbཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶r\xf2ϭar;楣Ācr㟜㟢ute耻\xfa䃺\xf2ᅐrǣ㟪\x00㟭y;䑞ve;䅭Āiy㟵㟺rc耻\xfb䃻;䑃ƀabh㠃㠆㠋r\xf2Ꭽlac;䅱a\xf2ᏃĀir㠓㠘sht;楾;쀀\ud835\udd32rave耻\xf9䃹š㠧㠱rĀlr㠬㠮\xbbॗ\xbbႃlk;斀Āct㠹㡍ɯ㠿\x00\x00㡊rnĀ;e㡅㡆挜r\xbb㡆op;挏ri;旸Āal㡖㡚cr;䅫肻\xa8͉Āgp㡢㡦on;䅳f;쀀\ud835\udd66̀adhlsuᅋ㡸㡽፲㢑㢠own\xe1ᎳarpoonĀlr㢈㢌ef\xf4㠭igh\xf4㠯iƀ;hl㢙㢚㢜䏅\xbbᏺon\xbb㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\x00\x00㣁rnĀ;e㢼㢽挝r\xbb㢽op;挎ng;䅯ri;旹cr;쀀\ud835\udccaƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨\xbb᠓Āam㣯㣲r\xf2㢨l耻\xfc䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠r\xf2ϷarĀ;v㤦㤧櫨;櫩as\xe8ϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖app\xe1␕othin\xe7ẖƀhir㓫⻈㥙op\xf4⾵Ā;hᎷ㥢\xefㆍĀiu㥩㥭gm\xe1㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟et\xe1㚜iangleĀlr㦪㦯eft\xbbथight\xbbၑy;䐲ash\xbbံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨa\xf2ᑩr;쀀\ud835\udd33tr\xe9㦮suĀbp㧯㧱\xbbജ\xbb൙pf;쀀\ud835\udd67ro\xf0໻tr\xe9㦴Ācu㨆㨋r;쀀\ud835\udccbĀbp㨐㨘nĀEe㦀㨖\xbb㥾nĀEe㦒㨞\xbb㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀\ud835\udd34pf;쀀\ud835\udd68Ā;eᑹ㩦at\xe8ᑹcr;쀀\ud835\udcccૣណ㪇\x00㪋\x00㪐㪛\x00\x00㪝㪨㪫㪯\x00\x00㫃㫎\x00㫘ៜ៟tr\xe9៑r;쀀\ud835\udd35ĀAa㪔㪗r\xf2σr\xf2৶;䎾ĀAa㪡㪤r\xf2θr\xf2৫a\xf0✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀\ud835\udd69im\xe5ឲĀAa㫇㫊r\xf2ώr\xf2ਁĀcq㫒ីr;쀀\ud835\udccdĀpt៖㫜r\xe9។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻\xfd䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻\xa5䂥r;쀀\ud835\udd36cy;䑗pf;쀀\ud835\udd6acr;쀀\ud835\udcceĀcm㬦㬩y;䑎l耻\xff䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡tr\xe6ᕟa;䎶r;쀀\ud835\udd37cy;䐶grarr;懝pf;쀀\ud835\udd6bcr;쀀\ud835\udccfĀjn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0)));new Uint16Array("Ȁaglq	\x15\x18\x1bɭ\x0f\x00\x00\x12p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(e=>e.charCodeAt(0)));let eV=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function e$(e){return e>=_.ZERO&&e<=_.NINE}(a=_||(_={}))[a.NUM=35]="NUM",a[a.SEMI=59]="SEMI",a[a.EQUALS=61]="EQUALS",a[a.ZERO=48]="ZERO",a[a.NINE=57]="NINE",a[a.LOWER_A=97]="LOWER_A",a[a.LOWER_F=102]="LOWER_F",a[a.LOWER_X=120]="LOWER_X",a[a.LOWER_Z=122]="LOWER_Z",a[a.UPPER_A=65]="UPPER_A",a[a.UPPER_F=70]="UPPER_F",a[a.UPPER_Z=90]="UPPER_Z",(s=x||(x={}))[s.VALUE_LENGTH=49152]="VALUE_LENGTH",s[s.BRANCH_LENGTH=16256]="BRANCH_LENGTH",s[s.JUMP_TABLE=127]="JUMP_TABLE",(l=S||(S={}))[l.EntityStart=0]="EntityStart",l[l.NumericStart=1]="NumericStart",l[l.NumericDecimal=2]="NumericDecimal",l[l.NumericHex=3]="NumericHex",l[l.NamedEntity=4]="NamedEntity",(c=A||(A={}))[c.Legacy=0]="Legacy",c[c.Strict=1]="Strict",c[c.Attribute=2]="Attribute";class eW{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=S.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=A.Strict}startEntity(e){this.decodeMode=e,this.state=S.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case S.EntityStart:if(e.charCodeAt(t)===_.NUM)return this.state=S.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1);return this.state=S.NamedEntity,this.stateNamedEntity(e,t);case S.NumericStart:return this.stateNumericStart(e,t);case S.NumericDecimal:return this.stateNumericDecimal(e,t);case S.NumericHex:return this.stateNumericHex(e,t);case S.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===_.LOWER_X?(this.state=S.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=S.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,r){if(t!==n){let i=n-t;this.result=this.result*Math.pow(r,i)+Number.parseInt(e.substr(t,i),r),this.consumed+=i}}stateNumericHex(e,t){let n=t;for(;t<e.length;){var r;let i=e.charCodeAt(t);if(!e$(i)&&(!((r=i)>=_.UPPER_A)||!(r<=_.UPPER_F))&&(!(r>=_.LOWER_A)||!(r<=_.LOWER_F)))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(i,3);t+=1}return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){let n=t;for(;t<e.length;){let r=e.charCodeAt(t);if(!e$(r))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(r,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n,r,i;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===_.SEMI)this.consumed+=1;else if(this.decodeMode===A.Strict)return 0;return this.emitCodePoint((r=this.result)>=55296&&r<=57343||r>1114111?65533:null!==(i=eV.get(r))&&void 0!==i?i:r,this.consumed),this.errors&&(e!==_.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){let{decodeTree:n}=this,r=n[this.treeIndex],i=(r&x.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){let o=e.charCodeAt(t);if(this.treeIndex=function(e,t,n,r){let i=(t&x.BRANCH_LENGTH)>>7,o=t&x.JUMP_TABLE;if(0===i)return 0!==o&&r===o?n:-1;if(o){let t=r-o;return t<0||t>=i?-1:e[n+t]-1}let a=n,s=a+i-1;for(;a<=s;){let t=a+s>>>1,n=e[t];if(n<r)a=t+1;else{if(!(n>r))return e[t+i];s=t-1}}return -1}(n,r,this.treeIndex+Math.max(1,i),o),this.treeIndex<0)return 0===this.result||this.decodeMode===A.Attribute&&(0===i||function(e){var t;return e===_.EQUALS||(t=e)>=_.UPPER_A&&t<=_.UPPER_Z||t>=_.LOWER_A&&t<=_.LOWER_Z||e$(t)}(o))?0:this.emitNotTerminatedNamedEntity();if(0!=(i=((r=n[this.treeIndex])&x.VALUE_LENGTH)>>14)){if(o===_.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==A.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return -1}emitNotTerminatedNamedEntity(){var e;let{result:t,decodeTree:n}=this,r=(n[t]&x.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,r,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){let{decodeTree:r}=this;return this.emitCodePoint(1===t?r[e]&~x.VALUE_LENGTH:r[e+1],n),3===t&&this.emitCodePoint(r[e+2],n),n}end(){var e;switch(this.state){case S.NamedEntity:return 0!==this.result&&(this.decodeMode!==A.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case S.NumericDecimal:return this.emitNumericEntity(0,2);case S.NumericHex:return this.emitNumericEntity(0,3);case S.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case S.EntityStart:return 0}}}(u=C||(C={})).HTML="http://www.w3.org/1999/xhtml",u.MATHML="http://www.w3.org/1998/Math/MathML",u.SVG="http://www.w3.org/2000/svg",u.XLINK="http://www.w3.org/1999/xlink",u.XML="http://www.w3.org/XML/1998/namespace",u.XMLNS="http://www.w3.org/2000/xmlns/",(d=w||(w={})).TYPE="type",d.ACTION="action",d.ENCODING="encoding",d.PROMPT="prompt",d.NAME="name",d.COLOR="color",d.FACE="face",d.SIZE="size",(p=O||(O={})).NO_QUIRKS="no-quirks",p.QUIRKS="quirks",p.LIMITED_QUIRKS="limited-quirks",(h=I||(I={})).A="a",h.ADDRESS="address",h.ANNOTATION_XML="annotation-xml",h.APPLET="applet",h.AREA="area",h.ARTICLE="article",h.ASIDE="aside",h.B="b",h.BASE="base",h.BASEFONT="basefont",h.BGSOUND="bgsound",h.BIG="big",h.BLOCKQUOTE="blockquote",h.BODY="body",h.BR="br",h.BUTTON="button",h.CAPTION="caption",h.CENTER="center",h.CODE="code",h.COL="col",h.COLGROUP="colgroup",h.DD="dd",h.DESC="desc",h.DETAILS="details",h.DIALOG="dialog",h.DIR="dir",h.DIV="div",h.DL="dl",h.DT="dt",h.EM="em",h.EMBED="embed",h.FIELDSET="fieldset",h.FIGCAPTION="figcaption",h.FIGURE="figure",h.FONT="font",h.FOOTER="footer",h.FOREIGN_OBJECT="foreignObject",h.FORM="form",h.FRAME="frame",h.FRAMESET="frameset",h.H1="h1",h.H2="h2",h.H3="h3",h.H4="h4",h.H5="h5",h.H6="h6",h.HEAD="head",h.HEADER="header",h.HGROUP="hgroup",h.HR="hr",h.HTML="html",h.I="i",h.IMG="img",h.IMAGE="image",h.INPUT="input",h.IFRAME="iframe",h.KEYGEN="keygen",h.LABEL="label",h.LI="li",h.LINK="link",h.LISTING="listing",h.MAIN="main",h.MALIGNMARK="malignmark",h.MARQUEE="marquee",h.MATH="math",h.MENU="menu",h.META="meta",h.MGLYPH="mglyph",h.MI="mi",h.MO="mo",h.MN="mn",h.MS="ms",h.MTEXT="mtext",h.NAV="nav",h.NOBR="nobr",h.NOFRAMES="noframes",h.NOEMBED="noembed",h.NOSCRIPT="noscript",h.OBJECT="object",h.OL="ol",h.OPTGROUP="optgroup",h.OPTION="option",h.P="p",h.PARAM="param",h.PLAINTEXT="plaintext",h.PRE="pre",h.RB="rb",h.RP="rp",h.RT="rt",h.RTC="rtc",h.RUBY="ruby",h.S="s",h.SCRIPT="script",h.SEARCH="search",h.SECTION="section",h.SELECT="select",h.SOURCE="source",h.SMALL="small",h.SPAN="span",h.STRIKE="strike",h.STRONG="strong",h.STYLE="style",h.SUB="sub",h.SUMMARY="summary",h.SUP="sup",h.TABLE="table",h.TBODY="tbody",h.TEMPLATE="template",h.TEXTAREA="textarea",h.TFOOT="tfoot",h.TD="td",h.TH="th",h.THEAD="thead",h.TITLE="title",h.TR="tr",h.TRACK="track",h.TT="tt",h.U="u",h.UL="ul",h.SVG="svg",h.VAR="var",h.WBR="wbr",h.XMP="xmp",(f=L||(L={}))[f.UNKNOWN=0]="UNKNOWN",f[f.A=1]="A",f[f.ADDRESS=2]="ADDRESS",f[f.ANNOTATION_XML=3]="ANNOTATION_XML",f[f.APPLET=4]="APPLET",f[f.AREA=5]="AREA",f[f.ARTICLE=6]="ARTICLE",f[f.ASIDE=7]="ASIDE",f[f.B=8]="B",f[f.BASE=9]="BASE",f[f.BASEFONT=10]="BASEFONT",f[f.BGSOUND=11]="BGSOUND",f[f.BIG=12]="BIG",f[f.BLOCKQUOTE=13]="BLOCKQUOTE",f[f.BODY=14]="BODY",f[f.BR=15]="BR",f[f.BUTTON=16]="BUTTON",f[f.CAPTION=17]="CAPTION",f[f.CENTER=18]="CENTER",f[f.CODE=19]="CODE",f[f.COL=20]="COL",f[f.COLGROUP=21]="COLGROUP",f[f.DD=22]="DD",f[f.DESC=23]="DESC",f[f.DETAILS=24]="DETAILS",f[f.DIALOG=25]="DIALOG",f[f.DIR=26]="DIR",f[f.DIV=27]="DIV",f[f.DL=28]="DL",f[f.DT=29]="DT",f[f.EM=30]="EM",f[f.EMBED=31]="EMBED",f[f.FIELDSET=32]="FIELDSET",f[f.FIGCAPTION=33]="FIGCAPTION",f[f.FIGURE=34]="FIGURE",f[f.FONT=35]="FONT",f[f.FOOTER=36]="FOOTER",f[f.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",f[f.FORM=38]="FORM",f[f.FRAME=39]="FRAME",f[f.FRAMESET=40]="FRAMESET",f[f.H1=41]="H1",f[f.H2=42]="H2",f[f.H3=43]="H3",f[f.H4=44]="H4",f[f.H5=45]="H5",f[f.H6=46]="H6",f[f.HEAD=47]="HEAD",f[f.HEADER=48]="HEADER",f[f.HGROUP=49]="HGROUP",f[f.HR=50]="HR",f[f.HTML=51]="HTML",f[f.I=52]="I",f[f.IMG=53]="IMG",f[f.IMAGE=54]="IMAGE",f[f.INPUT=55]="INPUT",f[f.IFRAME=56]="IFRAME",f[f.KEYGEN=57]="KEYGEN",f[f.LABEL=58]="LABEL",f[f.LI=59]="LI",f[f.LINK=60]="LINK",f[f.LISTING=61]="LISTING",f[f.MAIN=62]="MAIN",f[f.MALIGNMARK=63]="MALIGNMARK",f[f.MARQUEE=64]="MARQUEE",f[f.MATH=65]="MATH",f[f.MENU=66]="MENU",f[f.META=67]="META",f[f.MGLYPH=68]="MGLYPH",f[f.MI=69]="MI",f[f.MO=70]="MO",f[f.MN=71]="MN",f[f.MS=72]="MS",f[f.MTEXT=73]="MTEXT",f[f.NAV=74]="NAV",f[f.NOBR=75]="NOBR",f[f.NOFRAMES=76]="NOFRAMES",f[f.NOEMBED=77]="NOEMBED",f[f.NOSCRIPT=78]="NOSCRIPT",f[f.OBJECT=79]="OBJECT",f[f.OL=80]="OL",f[f.OPTGROUP=81]="OPTGROUP",f[f.OPTION=82]="OPTION",f[f.P=83]="P",f[f.PARAM=84]="PARAM",f[f.PLAINTEXT=85]="PLAINTEXT",f[f.PRE=86]="PRE",f[f.RB=87]="RB",f[f.RP=88]="RP",f[f.RT=89]="RT",f[f.RTC=90]="RTC",f[f.RUBY=91]="RUBY",f[f.S=92]="S",f[f.SCRIPT=93]="SCRIPT",f[f.SEARCH=94]="SEARCH",f[f.SECTION=95]="SECTION",f[f.SELECT=96]="SELECT",f[f.SOURCE=97]="SOURCE",f[f.SMALL=98]="SMALL",f[f.SPAN=99]="SPAN",f[f.STRIKE=100]="STRIKE",f[f.STRONG=101]="STRONG",f[f.STYLE=102]="STYLE",f[f.SUB=103]="SUB",f[f.SUMMARY=104]="SUMMARY",f[f.SUP=105]="SUP",f[f.TABLE=106]="TABLE",f[f.TBODY=107]="TBODY",f[f.TEMPLATE=108]="TEMPLATE",f[f.TEXTAREA=109]="TEXTAREA",f[f.TFOOT=110]="TFOOT",f[f.TD=111]="TD",f[f.TH=112]="TH",f[f.THEAD=113]="THEAD",f[f.TITLE=114]="TITLE",f[f.TR=115]="TR",f[f.TRACK=116]="TRACK",f[f.TT=117]="TT",f[f.U=118]="U",f[f.UL=119]="UL",f[f.SVG=120]="SVG",f[f.VAR=121]="VAR",f[f.WBR=122]="WBR",f[f.XMP=123]="XMP";let eY=new Map([[I.A,L.A],[I.ADDRESS,L.ADDRESS],[I.ANNOTATION_XML,L.ANNOTATION_XML],[I.APPLET,L.APPLET],[I.AREA,L.AREA],[I.ARTICLE,L.ARTICLE],[I.ASIDE,L.ASIDE],[I.B,L.B],[I.BASE,L.BASE],[I.BASEFONT,L.BASEFONT],[I.BGSOUND,L.BGSOUND],[I.BIG,L.BIG],[I.BLOCKQUOTE,L.BLOCKQUOTE],[I.BODY,L.BODY],[I.BR,L.BR],[I.BUTTON,L.BUTTON],[I.CAPTION,L.CAPTION],[I.CENTER,L.CENTER],[I.CODE,L.CODE],[I.COL,L.COL],[I.COLGROUP,L.COLGROUP],[I.DD,L.DD],[I.DESC,L.DESC],[I.DETAILS,L.DETAILS],[I.DIALOG,L.DIALOG],[I.DIR,L.DIR],[I.DIV,L.DIV],[I.DL,L.DL],[I.DT,L.DT],[I.EM,L.EM],[I.EMBED,L.EMBED],[I.FIELDSET,L.FIELDSET],[I.FIGCAPTION,L.FIGCAPTION],[I.FIGURE,L.FIGURE],[I.FONT,L.FONT],[I.FOOTER,L.FOOTER],[I.FOREIGN_OBJECT,L.FOREIGN_OBJECT],[I.FORM,L.FORM],[I.FRAME,L.FRAME],[I.FRAMESET,L.FRAMESET],[I.H1,L.H1],[I.H2,L.H2],[I.H3,L.H3],[I.H4,L.H4],[I.H5,L.H5],[I.H6,L.H6],[I.HEAD,L.HEAD],[I.HEADER,L.HEADER],[I.HGROUP,L.HGROUP],[I.HR,L.HR],[I.HTML,L.HTML],[I.I,L.I],[I.IMG,L.IMG],[I.IMAGE,L.IMAGE],[I.INPUT,L.INPUT],[I.IFRAME,L.IFRAME],[I.KEYGEN,L.KEYGEN],[I.LABEL,L.LABEL],[I.LI,L.LI],[I.LINK,L.LINK],[I.LISTING,L.LISTING],[I.MAIN,L.MAIN],[I.MALIGNMARK,L.MALIGNMARK],[I.MARQUEE,L.MARQUEE],[I.MATH,L.MATH],[I.MENU,L.MENU],[I.META,L.META],[I.MGLYPH,L.MGLYPH],[I.MI,L.MI],[I.MO,L.MO],[I.MN,L.MN],[I.MS,L.MS],[I.MTEXT,L.MTEXT],[I.NAV,L.NAV],[I.NOBR,L.NOBR],[I.NOFRAMES,L.NOFRAMES],[I.NOEMBED,L.NOEMBED],[I.NOSCRIPT,L.NOSCRIPT],[I.OBJECT,L.OBJECT],[I.OL,L.OL],[I.OPTGROUP,L.OPTGROUP],[I.OPTION,L.OPTION],[I.P,L.P],[I.PARAM,L.PARAM],[I.PLAINTEXT,L.PLAINTEXT],[I.PRE,L.PRE],[I.RB,L.RB],[I.RP,L.RP],[I.RT,L.RT],[I.RTC,L.RTC],[I.RUBY,L.RUBY],[I.S,L.S],[I.SCRIPT,L.SCRIPT],[I.SEARCH,L.SEARCH],[I.SECTION,L.SECTION],[I.SELECT,L.SELECT],[I.SOURCE,L.SOURCE],[I.SMALL,L.SMALL],[I.SPAN,L.SPAN],[I.STRIKE,L.STRIKE],[I.STRONG,L.STRONG],[I.STYLE,L.STYLE],[I.SUB,L.SUB],[I.SUMMARY,L.SUMMARY],[I.SUP,L.SUP],[I.TABLE,L.TABLE],[I.TBODY,L.TBODY],[I.TEMPLATE,L.TEMPLATE],[I.TEXTAREA,L.TEXTAREA],[I.TFOOT,L.TFOOT],[I.TD,L.TD],[I.TH,L.TH],[I.THEAD,L.THEAD],[I.TITLE,L.TITLE],[I.TR,L.TR],[I.TRACK,L.TRACK],[I.TT,L.TT],[I.U,L.U],[I.UL,L.UL],[I.SVG,L.SVG],[I.VAR,L.VAR],[I.WBR,L.WBR],[I.XMP,L.XMP]]);function eq(e){var t;return null!==(t=eY.get(e))&&void 0!==t?t:L.UNKNOWN}let eX=L,eK={[C.HTML]:new Set([eX.ADDRESS,eX.APPLET,eX.AREA,eX.ARTICLE,eX.ASIDE,eX.BASE,eX.BASEFONT,eX.BGSOUND,eX.BLOCKQUOTE,eX.BODY,eX.BR,eX.BUTTON,eX.CAPTION,eX.CENTER,eX.COL,eX.COLGROUP,eX.DD,eX.DETAILS,eX.DIR,eX.DIV,eX.DL,eX.DT,eX.EMBED,eX.FIELDSET,eX.FIGCAPTION,eX.FIGURE,eX.FOOTER,eX.FORM,eX.FRAME,eX.FRAMESET,eX.H1,eX.H2,eX.H3,eX.H4,eX.H5,eX.H6,eX.HEAD,eX.HEADER,eX.HGROUP,eX.HR,eX.HTML,eX.IFRAME,eX.IMG,eX.INPUT,eX.LI,eX.LINK,eX.LISTING,eX.MAIN,eX.MARQUEE,eX.MENU,eX.META,eX.NAV,eX.NOEMBED,eX.NOFRAMES,eX.NOSCRIPT,eX.OBJECT,eX.OL,eX.P,eX.PARAM,eX.PLAINTEXT,eX.PRE,eX.SCRIPT,eX.SECTION,eX.SELECT,eX.SOURCE,eX.STYLE,eX.SUMMARY,eX.TABLE,eX.TBODY,eX.TD,eX.TEMPLATE,eX.TEXTAREA,eX.TFOOT,eX.TH,eX.THEAD,eX.TITLE,eX.TR,eX.TRACK,eX.UL,eX.WBR,eX.XMP]),[C.MATHML]:new Set([eX.MI,eX.MO,eX.MN,eX.MS,eX.MTEXT,eX.ANNOTATION_XML]),[C.SVG]:new Set([eX.TITLE,eX.FOREIGN_OBJECT,eX.DESC]),[C.XLINK]:new Set,[C.XML]:new Set,[C.XMLNS]:new Set},eQ=new Set([eX.H1,eX.H2,eX.H3,eX.H4,eX.H5,eX.H6]);I.STYLE,I.SCRIPT,I.XMP,I.IFRAME,I.NOEMBED,I.NOFRAMES,I.PLAINTEXT,(g=R||(R={}))[g.DATA=0]="DATA",g[g.RCDATA=1]="RCDATA",g[g.RAWTEXT=2]="RAWTEXT",g[g.SCRIPT_DATA=3]="SCRIPT_DATA",g[g.PLAINTEXT=4]="PLAINTEXT",g[g.TAG_OPEN=5]="TAG_OPEN",g[g.END_TAG_OPEN=6]="END_TAG_OPEN",g[g.TAG_NAME=7]="TAG_NAME",g[g.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",g[g.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",g[g.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",g[g.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",g[g.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",g[g.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",g[g.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",g[g.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",g[g.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",g[g.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",g[g.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",g[g.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",g[g.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",g[g.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",g[g.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",g[g.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",g[g.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",g[g.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",g[g.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",g[g.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",g[g.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",g[g.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",g[g.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",g[g.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",g[g.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",g[g.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",g[g.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",g[g.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",g[g.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",g[g.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",g[g.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",g[g.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",g[g.BOGUS_COMMENT=40]="BOGUS_COMMENT",g[g.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",g[g.COMMENT_START=42]="COMMENT_START",g[g.COMMENT_START_DASH=43]="COMMENT_START_DASH",g[g.COMMENT=44]="COMMENT",g[g.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",g[g.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",g[g.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",g[g.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",g[g.COMMENT_END_DASH=49]="COMMENT_END_DASH",g[g.COMMENT_END=50]="COMMENT_END",g[g.COMMENT_END_BANG=51]="COMMENT_END_BANG",g[g.DOCTYPE=52]="DOCTYPE",g[g.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",g[g.DOCTYPE_NAME=54]="DOCTYPE_NAME",g[g.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",g[g.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",g[g.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",g[g.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",g[g.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",g[g.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",g[g.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",g[g.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",g[g.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",g[g.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",g[g.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",g[g.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",g[g.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",g[g.CDATA_SECTION=68]="CDATA_SECTION",g[g.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",g[g.CDATA_SECTION_END=70]="CDATA_SECTION_END",g[g.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",g[g.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND";let eJ={DATA:R.DATA,RCDATA:R.RCDATA,RAWTEXT:R.RAWTEXT,SCRIPT_DATA:R.SCRIPT_DATA,PLAINTEXT:R.PLAINTEXT,CDATA_SECTION:R.CDATA_SECTION};function e0(e){return e>=v.LATIN_CAPITAL_A&&e<=v.LATIN_CAPITAL_Z}function e1(e){return e>=v.LATIN_SMALL_A&&e<=v.LATIN_SMALL_Z||e0(e)}function e2(e){return e1(e)||e>=v.DIGIT_0&&e<=v.DIGIT_9}function e3(e){return e===v.SPACE||e===v.LINE_FEED||e===v.TABULATION||e===v.FORM_FEED}function e5(e){return e3(e)||e===v.SOLIDUS||e===v.GREATER_THAN_SIGN}class e4{constructor(e,t){this.options=e,this.handler=t,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=R.DATA,this.returnState=R.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new ej(t),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new eW(eG,(e,t)=>{this.preprocessor.pos=this.entityStartPos+t-1,this._flushCodePointConsumedAsCharacterReference(e)},t.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(y.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:e=>{this._err(y.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+e)},validateNumericCharacterReference:e=>{var t;let n=(t=e)===v.NULL?y.nullCharacterReference:t>1114111?y.characterReferenceOutsideUnicodeRange:eU(t)?y.surrogateCharacterReference:eZ(t)?y.noncharacterCharacterReference:ez(t)||t===v.CARRIAGE_RETURN?y.controlCharacterReference:null;n&&this._err(n,1)}}:void 0)}_err(e,t=0){var n,r;null===(r=(n=this.handler).onParseError)||void 0===r||r.call(n,this.preprocessor.getError(e,t))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;let e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==e||e())}write(e,t,n){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||null==n||n()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,t){return!!this.preprocessor.startsWith(e,t)&&(this._advanceBy(e.length-1),!0)}_createStartTagToken(){this.currentToken={type:E.START_TAG,tagName:"",tagID:L.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:E.END_TAG,tagName:"",tagID:L.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:E.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:E.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,t;let n=this.currentToken;if(null===eH(n,this.currentAttr.name)){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){let r=null!==(e=(t=n.location).attrs)&&void 0!==e?e:t.attrs=Object.create(null);r[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(y.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){let e=this.currentToken;this.prepareToken(e),e.tagID=eq(e.tagName),e.type===E.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(y.endTagWithAttributes),e.selfClosing&&this._err(y.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case E.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case E.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case E.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){let e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:E.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,t){if(this.currentCharacterToken){if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=t;return}this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(e,t)}_emitCodePoint(e){let t=e3(e)?E.WHITESPACE_CHARACTER:e===v.NULL?E.NULL_CHARACTER:E.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(E.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=R.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?A.Attribute:A.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===R.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===R.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===R.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case R.DATA:this._stateData(e);break;case R.RCDATA:this._stateRcdata(e);break;case R.RAWTEXT:this._stateRawtext(e);break;case R.SCRIPT_DATA:this._stateScriptData(e);break;case R.PLAINTEXT:this._statePlaintext(e);break;case R.TAG_OPEN:this._stateTagOpen(e);break;case R.END_TAG_OPEN:this._stateEndTagOpen(e);break;case R.TAG_NAME:this._stateTagName(e);break;case R.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case R.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case R.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case R.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case R.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case R.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case R.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case R.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case R.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case R.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case R.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case R.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case R.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case R.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case R.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case R.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case R.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case R.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case R.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case R.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case R.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case R.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case R.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case R.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case R.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case R.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case R.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case R.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case R.BOGUS_COMMENT:this._stateBogusComment(e);break;case R.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case R.COMMENT_START:this._stateCommentStart(e);break;case R.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case R.COMMENT:this._stateComment(e);break;case R.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case R.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case R.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case R.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case R.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case R.COMMENT_END:this._stateCommentEnd(e);break;case R.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case R.DOCTYPE:this._stateDoctype(e);break;case R.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case R.DOCTYPE_NAME:this._stateDoctypeName(e);break;case R.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case R.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case R.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case R.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case R.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case R.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case R.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case R.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case R.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case R.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case R.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case R.CDATA_SECTION:this._stateCdataSection(e);break;case R.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case R.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case R.CHARACTER_REFERENCE:this._stateCharacterReference();break;case R.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;default:throw Error("Unknown state")}}_stateData(e){switch(e){case v.LESS_THAN_SIGN:this.state=R.TAG_OPEN;break;case v.AMPERSAND:this._startCharacterReference();break;case v.NULL:this._err(y.unexpectedNullCharacter),this._emitCodePoint(e);break;case v.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case v.AMPERSAND:this._startCharacterReference();break;case v.LESS_THAN_SIGN:this.state=R.RCDATA_LESS_THAN_SIGN;break;case v.NULL:this._err(y.unexpectedNullCharacter),this._emitChars("�");break;case v.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case v.LESS_THAN_SIGN:this.state=R.RAWTEXT_LESS_THAN_SIGN;break;case v.NULL:this._err(y.unexpectedNullCharacter),this._emitChars("�");break;case v.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case v.LESS_THAN_SIGN:this.state=R.SCRIPT_DATA_LESS_THAN_SIGN;break;case v.NULL:this._err(y.unexpectedNullCharacter),this._emitChars("�");break;case v.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case v.NULL:this._err(y.unexpectedNullCharacter),this._emitChars("�");break;case v.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateTagOpen(e){if(e1(e))this._createStartTagToken(),this.state=R.TAG_NAME,this._stateTagName(e);else switch(e){case v.EXCLAMATION_MARK:this.state=R.MARKUP_DECLARATION_OPEN;break;case v.SOLIDUS:this.state=R.END_TAG_OPEN;break;case v.QUESTION_MARK:this._err(y.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=R.BOGUS_COMMENT,this._stateBogusComment(e);break;case v.EOF:this._err(y.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(y.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=R.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(e1(e))this._createEndTagToken(),this.state=R.TAG_NAME,this._stateTagName(e);else switch(e){case v.GREATER_THAN_SIGN:this._err(y.missingEndTagName),this.state=R.DATA;break;case v.EOF:this._err(y.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(y.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=R.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){let t=this.currentToken;switch(e){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:this.state=R.BEFORE_ATTRIBUTE_NAME;break;case v.SOLIDUS:this.state=R.SELF_CLOSING_START_TAG;break;case v.GREATER_THAN_SIGN:this.state=R.DATA,this.emitCurrentTagToken();break;case v.NULL:this._err(y.unexpectedNullCharacter),t.tagName+="�";break;case v.EOF:this._err(y.eofInTag),this._emitEOFToken();break;default:t.tagName+=String.fromCodePoint(e0(e)?e+32:e)}}_stateRcdataLessThanSign(e){e===v.SOLIDUS?this.state=R.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=R.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){e1(e)?(this.state=R.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=R.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();let t=this.currentToken;t.tagName=this.lastStartTagName;let n=this.preprocessor.peek(this.lastStartTagName.length);switch(n){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=R.BEFORE_ATTRIBUTE_NAME,!1;case v.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=R.SELF_CLOSING_START_TAG,!1;case v.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=R.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=R.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===v.SOLIDUS?this.state=R.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=R.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){e1(e)?(this.state=R.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=R.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=R.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case v.SOLIDUS:this.state=R.SCRIPT_DATA_END_TAG_OPEN;break;case v.EXCLAMATION_MARK:this.state=R.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=R.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){e1(e)?(this.state=R.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=R.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=R.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===v.HYPHEN_MINUS?(this.state=R.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=R.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===v.HYPHEN_MINUS?(this.state=R.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=R.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case v.HYPHEN_MINUS:this.state=R.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case v.LESS_THAN_SIGN:this.state=R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case v.NULL:this._err(y.unexpectedNullCharacter),this._emitChars("�");break;case v.EOF:this._err(y.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case v.HYPHEN_MINUS:this.state=R.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case v.LESS_THAN_SIGN:this.state=R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case v.NULL:this._err(y.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_ESCAPED,this._emitChars("�");break;case v.EOF:this._err(y.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=R.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case v.HYPHEN_MINUS:this._emitChars("-");break;case v.LESS_THAN_SIGN:this.state=R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case v.GREATER_THAN_SIGN:this.state=R.SCRIPT_DATA,this._emitChars(">");break;case v.NULL:this._err(y.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_ESCAPED,this._emitChars("�");break;case v.EOF:this._err(y.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=R.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===v.SOLIDUS?this.state=R.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:e1(e)?(this._emitChars("<"),this.state=R.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){e1(e)?(this.state=R.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(eB.SCRIPT,!1)&&e5(this.preprocessor.peek(eB.SCRIPT.length))){this._emitCodePoint(e);for(let e=0;e<eB.SCRIPT.length;e++)this._emitCodePoint(this._consume());this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case v.HYPHEN_MINUS:this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case v.LESS_THAN_SIGN:this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case v.NULL:this._err(y.unexpectedNullCharacter),this._emitChars("�");break;case v.EOF:this._err(y.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case v.HYPHEN_MINUS:this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case v.LESS_THAN_SIGN:this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case v.NULL:this._err(y.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars("�");break;case v.EOF:this._err(y.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case v.HYPHEN_MINUS:this._emitChars("-");break;case v.LESS_THAN_SIGN:this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case v.GREATER_THAN_SIGN:this.state=R.SCRIPT_DATA,this._emitChars(">");break;case v.NULL:this._err(y.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars("�");break;case v.EOF:this._err(y.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===v.SOLIDUS?(this.state=R.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(eB.SCRIPT,!1)&&e5(this.preprocessor.peek(eB.SCRIPT.length))){this._emitCodePoint(e);for(let e=0;e<eB.SCRIPT.length;e++)this._emitCodePoint(this._consume());this.state=R.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.SOLIDUS:case v.GREATER_THAN_SIGN:case v.EOF:this.state=R.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case v.EQUALS_SIGN:this._err(y.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=R.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=R.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:case v.SOLIDUS:case v.GREATER_THAN_SIGN:case v.EOF:this._leaveAttrName(),this.state=R.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case v.EQUALS_SIGN:this._leaveAttrName(),this.state=R.BEFORE_ATTRIBUTE_VALUE;break;case v.QUOTATION_MARK:case v.APOSTROPHE:case v.LESS_THAN_SIGN:this._err(y.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case v.NULL:this._err(y.unexpectedNullCharacter),this.currentAttr.name+="�";break;default:this.currentAttr.name+=String.fromCodePoint(e0(e)?e+32:e)}}_stateAfterAttributeName(e){switch(e){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.SOLIDUS:this.state=R.SELF_CLOSING_START_TAG;break;case v.EQUALS_SIGN:this.state=R.BEFORE_ATTRIBUTE_VALUE;break;case v.GREATER_THAN_SIGN:this.state=R.DATA,this.emitCurrentTagToken();break;case v.EOF:this._err(y.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=R.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.QUOTATION_MARK:this.state=R.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case v.APOSTROPHE:this.state=R.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case v.GREATER_THAN_SIGN:this._err(y.missingAttributeValue),this.state=R.DATA,this.emitCurrentTagToken();break;default:this.state=R.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case v.QUOTATION_MARK:this.state=R.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case v.AMPERSAND:this._startCharacterReference();break;case v.NULL:this._err(y.unexpectedNullCharacter),this.currentAttr.value+="�";break;case v.EOF:this._err(y.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case v.APOSTROPHE:this.state=R.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case v.AMPERSAND:this._startCharacterReference();break;case v.NULL:this._err(y.unexpectedNullCharacter),this.currentAttr.value+="�";break;case v.EOF:this._err(y.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:this._leaveAttrValue(),this.state=R.BEFORE_ATTRIBUTE_NAME;break;case v.AMPERSAND:this._startCharacterReference();break;case v.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=R.DATA,this.emitCurrentTagToken();break;case v.NULL:this._err(y.unexpectedNullCharacter),this.currentAttr.value+="�";break;case v.QUOTATION_MARK:case v.APOSTROPHE:case v.LESS_THAN_SIGN:case v.EQUALS_SIGN:case v.GRAVE_ACCENT:this._err(y.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case v.EOF:this._err(y.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:this._leaveAttrValue(),this.state=R.BEFORE_ATTRIBUTE_NAME;break;case v.SOLIDUS:this._leaveAttrValue(),this.state=R.SELF_CLOSING_START_TAG;break;case v.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=R.DATA,this.emitCurrentTagToken();break;case v.EOF:this._err(y.eofInTag),this._emitEOFToken();break;default:this._err(y.missingWhitespaceBetweenAttributes),this.state=R.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case v.GREATER_THAN_SIGN:{let e=this.currentToken;e.selfClosing=!0,this.state=R.DATA,this.emitCurrentTagToken();break}case v.EOF:this._err(y.eofInTag),this._emitEOFToken();break;default:this._err(y.unexpectedSolidusInTag),this.state=R.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){let t=this.currentToken;switch(e){case v.GREATER_THAN_SIGN:this.state=R.DATA,this.emitCurrentComment(t);break;case v.EOF:this.emitCurrentComment(t),this._emitEOFToken();break;case v.NULL:this._err(y.unexpectedNullCharacter),t.data+="�";break;default:t.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(eB.DASH_DASH,!0)?(this._createCommentToken(eB.DASH_DASH.length+1),this.state=R.COMMENT_START):this._consumeSequenceIfMatch(eB.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(eB.DOCTYPE.length+1),this.state=R.DOCTYPE):this._consumeSequenceIfMatch(eB.CDATA_START,!0)?this.inForeignNode?this.state=R.CDATA_SECTION:(this._err(y.cdataInHtmlContent),this._createCommentToken(eB.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=R.BOGUS_COMMENT):this._ensureHibernation()||(this._err(y.incorrectlyOpenedComment),this._createCommentToken(2),this.state=R.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case v.HYPHEN_MINUS:this.state=R.COMMENT_START_DASH;break;case v.GREATER_THAN_SIGN:{this._err(y.abruptClosingOfEmptyComment),this.state=R.DATA;let e=this.currentToken;this.emitCurrentComment(e);break}default:this.state=R.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){let t=this.currentToken;switch(e){case v.HYPHEN_MINUS:this.state=R.COMMENT_END;break;case v.GREATER_THAN_SIGN:this._err(y.abruptClosingOfEmptyComment),this.state=R.DATA,this.emitCurrentComment(t);break;case v.EOF:this._err(y.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=R.COMMENT,this._stateComment(e)}}_stateComment(e){let t=this.currentToken;switch(e){case v.HYPHEN_MINUS:this.state=R.COMMENT_END_DASH;break;case v.LESS_THAN_SIGN:t.data+="<",this.state=R.COMMENT_LESS_THAN_SIGN;break;case v.NULL:this._err(y.unexpectedNullCharacter),t.data+="�";break;case v.EOF:this._err(y.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){let t=this.currentToken;switch(e){case v.EXCLAMATION_MARK:t.data+="!",this.state=R.COMMENT_LESS_THAN_SIGN_BANG;break;case v.LESS_THAN_SIGN:t.data+="<";break;default:this.state=R.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===v.HYPHEN_MINUS?this.state=R.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=R.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===v.HYPHEN_MINUS?this.state=R.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=R.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==v.GREATER_THAN_SIGN&&e!==v.EOF&&this._err(y.nestedComment),this.state=R.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){let t=this.currentToken;switch(e){case v.HYPHEN_MINUS:this.state=R.COMMENT_END;break;case v.EOF:this._err(y.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=R.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){let t=this.currentToken;switch(e){case v.GREATER_THAN_SIGN:this.state=R.DATA,this.emitCurrentComment(t);break;case v.EXCLAMATION_MARK:this.state=R.COMMENT_END_BANG;break;case v.HYPHEN_MINUS:t.data+="-";break;case v.EOF:this._err(y.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--",this.state=R.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){let t=this.currentToken;switch(e){case v.HYPHEN_MINUS:t.data+="--!",this.state=R.COMMENT_END_DASH;break;case v.GREATER_THAN_SIGN:this._err(y.incorrectlyClosedComment),this.state=R.DATA,this.emitCurrentComment(t);break;case v.EOF:this._err(y.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--!",this.state=R.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:this.state=R.BEFORE_DOCTYPE_NAME;break;case v.GREATER_THAN_SIGN:this.state=R.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case v.EOF:{this._err(y.eofInDoctype),this._createDoctypeToken(null);let e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._err(y.missingWhitespaceBeforeDoctypeName),this.state=R.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(e0(e))this._createDoctypeToken(String.fromCharCode(e+32)),this.state=R.DOCTYPE_NAME;else switch(e){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.NULL:this._err(y.unexpectedNullCharacter),this._createDoctypeToken("�"),this.state=R.DOCTYPE_NAME;break;case v.GREATER_THAN_SIGN:{this._err(y.missingDoctypeName),this._createDoctypeToken(null);let e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=R.DATA;break}case v.EOF:{this._err(y.eofInDoctype),this._createDoctypeToken(null);let e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=R.DOCTYPE_NAME}}_stateDoctypeName(e){let t=this.currentToken;switch(e){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:this.state=R.AFTER_DOCTYPE_NAME;break;case v.GREATER_THAN_SIGN:this.state=R.DATA,this.emitCurrentDoctype(t);break;case v.NULL:this._err(y.unexpectedNullCharacter),t.name+="�";break;case v.EOF:this._err(y.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.name+=String.fromCodePoint(e0(e)?e+32:e)}}_stateAfterDoctypeName(e){let t=this.currentToken;switch(e){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.GREATER_THAN_SIGN:this.state=R.DATA,this.emitCurrentDoctype(t);break;case v.EOF:this._err(y.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(eB.PUBLIC,!1)?this.state=R.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(eB.SYSTEM,!1)?this.state=R.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(y.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){let t=this.currentToken;switch(e){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:this.state=R.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case v.QUOTATION_MARK:this._err(y.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case v.APOSTROPHE:this._err(y.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case v.GREATER_THAN_SIGN:this._err(y.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(t);break;case v.EOF:this._err(y.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(y.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){let t=this.currentToken;switch(e){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.QUOTATION_MARK:t.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case v.APOSTROPHE:t.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case v.GREATER_THAN_SIGN:this._err(y.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(t);break;case v.EOF:this._err(y.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(y.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){let t=this.currentToken;switch(e){case v.QUOTATION_MARK:this.state=R.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case v.NULL:this._err(y.unexpectedNullCharacter),t.publicId+="�";break;case v.GREATER_THAN_SIGN:this._err(y.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=R.DATA;break;case v.EOF:this._err(y.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){let t=this.currentToken;switch(e){case v.APOSTROPHE:this.state=R.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case v.NULL:this._err(y.unexpectedNullCharacter),t.publicId+="�";break;case v.GREATER_THAN_SIGN:this._err(y.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=R.DATA;break;case v.EOF:this._err(y.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){let t=this.currentToken;switch(e){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:this.state=R.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case v.GREATER_THAN_SIGN:this.state=R.DATA,this.emitCurrentDoctype(t);break;case v.QUOTATION_MARK:this._err(y.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case v.APOSTROPHE:this._err(y.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case v.EOF:this._err(y.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(y.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){let t=this.currentToken;switch(e){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=R.DATA;break;case v.QUOTATION_MARK:t.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case v.APOSTROPHE:t.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case v.EOF:this._err(y.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(y.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){let t=this.currentToken;switch(e){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:this.state=R.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case v.QUOTATION_MARK:this._err(y.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case v.APOSTROPHE:this._err(y.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case v.GREATER_THAN_SIGN:this._err(y.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(t);break;case v.EOF:this._err(y.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(y.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){let t=this.currentToken;switch(e){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.QUOTATION_MARK:t.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case v.APOSTROPHE:t.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case v.GREATER_THAN_SIGN:this._err(y.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(t);break;case v.EOF:this._err(y.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(y.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){let t=this.currentToken;switch(e){case v.QUOTATION_MARK:this.state=R.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case v.NULL:this._err(y.unexpectedNullCharacter),t.systemId+="�";break;case v.GREATER_THAN_SIGN:this._err(y.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=R.DATA;break;case v.EOF:this._err(y.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){let t=this.currentToken;switch(e){case v.APOSTROPHE:this.state=R.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case v.NULL:this._err(y.unexpectedNullCharacter),t.systemId+="�";break;case v.GREATER_THAN_SIGN:this._err(y.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=R.DATA;break;case v.EOF:this._err(y.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){let t=this.currentToken;switch(e){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=R.DATA;break;case v.EOF:this._err(y.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(y.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){let t=this.currentToken;switch(e){case v.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=R.DATA;break;case v.NULL:this._err(y.unexpectedNullCharacter);break;case v.EOF:this.emitCurrentDoctype(t),this._emitEOFToken()}}_stateCdataSection(e){switch(e){case v.RIGHT_SQUARE_BRACKET:this.state=R.CDATA_SECTION_BRACKET;break;case v.EOF:this._err(y.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===v.RIGHT_SQUARE_BRACKET?this.state=R.CDATA_SECTION_END:(this._emitChars("]"),this.state=R.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case v.GREATER_THAN_SIGN:this.state=R.DATA;break;case v.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=R.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0){if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}}0===e?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(v.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&e2(this.preprocessor.peek(1))?R.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){e2(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===v.SEMICOLON&&this._err(y.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}let e6=new Set([L.DD,L.DT,L.LI,L.OPTGROUP,L.OPTION,L.P,L.RB,L.RP,L.RT,L.RTC]),e7=new Set([...e6,L.CAPTION,L.COLGROUP,L.TBODY,L.TD,L.TFOOT,L.TH,L.THEAD,L.TR]),e8=new Set([L.APPLET,L.CAPTION,L.HTML,L.MARQUEE,L.OBJECT,L.TABLE,L.TD,L.TEMPLATE,L.TH]),e9=new Set([...e8,L.OL,L.UL]),te=new Set([...e8,L.BUTTON]),tt=new Set([L.ANNOTATION_XML,L.MI,L.MN,L.MO,L.MS,L.MTEXT]),tn=new Set([L.DESC,L.FOREIGN_OBJECT,L.TITLE]),tr=new Set([L.TR,L.TEMPLATE,L.HTML]),ti=new Set([L.TBODY,L.TFOOT,L.THEAD,L.TEMPLATE,L.HTML]),to=new Set([L.TABLE,L.TEMPLATE,L.HTML]),ta=new Set([L.TD,L.TH]);class ts{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,t,n){this.treeAdapter=t,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=L.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===L.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===C.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}pop(){let e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,t){let n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&(this.current=t)}insertAfter(e,t,n){let r=this._indexOf(e)+1;this.items.splice(r,0,t),this.tagIDs.splice(r,0,n),this.stackTop++,r===this.stackTop&&this._updateCurrentElement(),this.current&&void 0!==this.currentTagId&&this.handler.onItemPush(this.current,this.currentTagId,r===this.stackTop)}popUntilTagNamePopped(e){let t=this.stackTop+1;do t=this.tagIDs.lastIndexOf(e,t-1);while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==C.HTML);this.shortenToLength(Math.max(t,0))}shortenToLength(e){for(;this.stackTop>=e;){let t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}popUntilElementPopped(e){let t=this._indexOf(e);this.shortenToLength(Math.max(t,0))}popUntilPopped(e,t){let n=this._indexOfTagNames(e,t);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(eQ,C.HTML)}popUntilTableCellPopped(){this.popUntilPopped(ta,C.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,t){for(let n=this.stackTop;n>=0;n--)if(e.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===t)return n;return -1}clearBackTo(e,t){let n=this._indexOfTagNames(e,t);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(to,C.HTML)}clearBackToTableBodyContext(){this.clearBackTo(ti,C.HTML)}clearBackToTableRowContext(){this.clearBackTo(tr,C.HTML)}remove(e){let t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===L.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){let t=this._indexOf(e)-1;return t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===L.HTML}hasInDynamicScope(e,t){for(let n=this.stackTop;n>=0;n--){let r=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case C.HTML:if(r===e)return!0;if(t.has(r))return!1;break;case C.SVG:if(tn.has(r))return!1;break;case C.MATHML:if(tt.has(r))return!1}}return!0}hasInScope(e){return this.hasInDynamicScope(e,e8)}hasInListItemScope(e){return this.hasInDynamicScope(e,e9)}hasInButtonScope(e){return this.hasInDynamicScope(e,te)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){let t=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case C.HTML:if(eQ.has(t))return!0;if(e8.has(t))return!1;break;case C.SVG:if(tn.has(t))return!1;break;case C.MATHML:if(tt.has(t))return!1}}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===C.HTML)switch(this.tagIDs[t]){case e:return!0;case L.TABLE:case L.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===C.HTML)switch(this.tagIDs[e]){case L.TBODY:case L.THEAD:case L.TFOOT:return!0;case L.TABLE:case L.HTML:return!1}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===C.HTML)switch(this.tagIDs[t]){case e:return!0;case L.OPTION:case L.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;void 0!==this.currentTagId&&e6.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;void 0!==this.currentTagId&&e7.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;void 0!==this.currentTagId&&this.currentTagId!==e&&e7.has(this.currentTagId);)this.pop()}}(m=k||(k={}))[m.Marker=0]="Marker",m[m.Element=1]="Element";let tl={type:k.Marker};class tc{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,t){let n=[],r=t.length,i=this.treeAdapter.getTagName(e),o=this.treeAdapter.getNamespaceURI(e);for(let e=0;e<this.entries.length;e++){let t=this.entries[e];if(t.type===k.Marker)break;let{element:a}=t;if(this.treeAdapter.getTagName(a)===i&&this.treeAdapter.getNamespaceURI(a)===o){let t=this.treeAdapter.getAttrList(a);t.length===r&&n.push({idx:e,attrs:t})}}return n}_ensureNoahArkCondition(e){if(this.entries.length<3)return;let t=this.treeAdapter.getAttrList(e),n=this._getNoahArkConditionCandidates(e,t);if(n.length<3)return;let r=new Map(t.map(e=>[e.name,e.value])),i=0;for(let e=0;e<n.length;e++){let t=n[e];t.attrs.every(e=>r.get(e.name)===e.value)&&(i+=1)>=3&&this.entries.splice(t.idx,1)}}insertMarker(){this.entries.unshift(tl)}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:k.Element,element:e,token:t})}insertElementAfterBookmark(e,t){let n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:k.Element,element:e,token:t})}removeEntry(e){let t=this.entries.indexOf(e);-1!==t&&this.entries.splice(t,1)}clearToLastMarker(){let e=this.entries.indexOf(tl);-1===e?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){let t=this.entries.find(t=>t.type===k.Marker||this.treeAdapter.getTagName(t.element)===e);return t&&t.type===k.Element?t:null}getElementEntry(e){return this.entries.find(t=>t.type===k.Element&&t.element===e)}}let tu={createDocument:()=>({nodeName:"#document",mode:O.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(e,t,n)=>({nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}),createCommentNode:e=>({nodeName:"#comment",data:e,parentNode:null}),createTextNode:e=>({nodeName:"#text",value:e,parentNode:null}),appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){let r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent:e=>e.content,setDocumentType(e,t,n,r){let i=e.childNodes.find(e=>"#documentType"===e.nodeName);i?(i.name=t,i.publicId=n,i.systemId=r):tu.appendChild(e,{nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null})},setDocumentMode(e,t){e.mode=t},getDocumentMode:e=>e.mode,detachNode(e){if(e.parentNode){let t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){let n=e.childNodes[e.childNodes.length-1];if(tu.isTextNode(n)){n.value+=t;return}}tu.appendChild(e,tu.createTextNode(t))},insertTextBefore(e,t,n){let r=e.childNodes[e.childNodes.indexOf(n)-1];r&&tu.isTextNode(r)?r.value+=t:tu.insertBefore(e,tu.createTextNode(t),n)},adoptAttributes(e,t){let n=new Set(e.attrs.map(e=>e.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild:e=>e.childNodes[0],getChildNodes:e=>e.childNodes,getParentNode:e=>e.parentNode,getAttrList:e=>e.attrs,getTagName:e=>e.tagName,getNamespaceURI:e=>e.namespaceURI,getTextNodeContent:e=>e.value,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName:e=>e.name,getDocumentTypeNodePublicId:e=>e.publicId,getDocumentTypeNodeSystemId:e=>e.systemId,isTextNode:e=>"#text"===e.nodeName,isCommentNode:e=>"#comment"===e.nodeName,isDocumentTypeNode:e=>"#documentType"===e.nodeName,isElementNode:e=>Object.prototype.hasOwnProperty.call(e,"tagName"),setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},td="html",tp=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],th=[...tp,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],tf=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),tg=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],tm=[...tg,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function tb(e,t){return t.some(t=>e.startsWith(t))}let tv={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},ty=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),tE=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:C.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:C.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:C.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:C.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:C.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:C.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:C.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:C.XML}],["xml:space",{prefix:"xml",name:"space",namespace:C.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:C.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:C.XMLNS}]]),t_=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),tT=new Set([L.B,L.BIG,L.BLOCKQUOTE,L.BODY,L.BR,L.CENTER,L.CODE,L.DD,L.DIV,L.DL,L.DT,L.EM,L.EMBED,L.H1,L.H2,L.H3,L.H4,L.H5,L.H6,L.HEAD,L.HR,L.I,L.IMG,L.LI,L.LISTING,L.MENU,L.META,L.NOBR,L.OL,L.P,L.PRE,L.RUBY,L.S,L.SMALL,L.SPAN,L.STRONG,L.STRIKE,L.SUB,L.SUP,L.TABLE,L.TT,L.U,L.UL,L.VAR]);function tx(e){for(let t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}}function tS(e){for(let t=0;t<e.attrs.length;t++){let n=ty.get(e.attrs[t].name);null!=n&&(e.attrs[t].name=n)}}function tA(e){for(let t=0;t<e.attrs.length;t++){let n=tE.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}(b=N||(N={}))[b.INITIAL=0]="INITIAL",b[b.BEFORE_HTML=1]="BEFORE_HTML",b[b.BEFORE_HEAD=2]="BEFORE_HEAD",b[b.IN_HEAD=3]="IN_HEAD",b[b.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",b[b.AFTER_HEAD=5]="AFTER_HEAD",b[b.IN_BODY=6]="IN_BODY",b[b.TEXT=7]="TEXT",b[b.IN_TABLE=8]="IN_TABLE",b[b.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",b[b.IN_CAPTION=10]="IN_CAPTION",b[b.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",b[b.IN_TABLE_BODY=12]="IN_TABLE_BODY",b[b.IN_ROW=13]="IN_ROW",b[b.IN_CELL=14]="IN_CELL",b[b.IN_SELECT=15]="IN_SELECT",b[b.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",b[b.IN_TEMPLATE=17]="IN_TEMPLATE",b[b.AFTER_BODY=18]="AFTER_BODY",b[b.IN_FRAMESET=19]="IN_FRAMESET",b[b.AFTER_FRAMESET=20]="AFTER_FRAMESET",b[b.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",b[b.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET";let tC={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},tw=new Set([L.TABLE,L.TBODY,L.TFOOT,L.THEAD,L.TR]),tO={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:tu,onParseError:null};class tI{constructor(e,t,n=null,r=null){this.fragmentContext=n,this.scriptHandler=r,this.currentToken=null,this.stopped=!1,this.insertionMode=N.INITIAL,this.originalInsertionMode=N.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...tO,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=t?t:this.treeAdapter.createDocument(),this.tokenizer=new e4(this.options,this),this.activeFormattingElements=new tc(this.treeAdapter),this.fragmentContextID=n?eq(this.treeAdapter.getTagName(n)):L.UNKNOWN,this._setContextModes(null!=n?n:this.document,this.fragmentContextID),this.openElements=new ts(this.document,this.treeAdapter,this)}static parse(e,t){let n=new this(t);return n.tokenizer.write(e,!0),n.document}static getFragmentParser(e,t){let n={...tO,...t};null!=e||(e=n.treeAdapter.createElement(I.TEMPLATE,C.HTML,[]));let r=n.treeAdapter.createElement("documentmock",C.HTML,[]),i=new this(n,r,e);return i.fragmentContextID===L.TEMPLATE&&i.tmplInsertionModeStack.unshift(N.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){let e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}_err(e,t,n){var r;if(!this.onParseError)return;let i=null!==(r=e.location)&&void 0!==r?r:tC,o={code:t,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:n?i.startLine:i.endLine,endCol:n?i.startCol:i.endCol,endOffset:n?i.startOffset:i.endOffset};this.onParseError(o)}onItemPush(e,t,n){var r,i;null===(i=(r=this.treeAdapter).onItemPush)||void 0===i||i.call(r,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,t)}onItemPop(e,t){var n,r;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(r=(n=this.treeAdapter).onItemPop)||void 0===r||r.call(n,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):{current:e,currentTagId:t}=this.openElements,this._setContextModes(e,t)}}_setContextModes(e,t){let n=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===C.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&void 0!==e&&void 0!==t&&!this._isIntegrationPoint(t,e)}_switchToTextParsing(e,t){this._insertElement(e,C.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=N.TEXT}switchToPlaintextParsing(){this.insertionMode=N.TEXT,this.originalInsertionMode=N.IN_BODY,this.tokenizer.state=eJ.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===I.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===C.HTML)switch(this.fragmentContextID){case L.TITLE:case L.TEXTAREA:this.tokenizer.state=eJ.RCDATA;break;case L.STYLE:case L.XMP:case L.IFRAME:case L.NOEMBED:case L.NOFRAMES:case L.NOSCRIPT:this.tokenizer.state=eJ.RAWTEXT;break;case L.SCRIPT:this.tokenizer.state=eJ.SCRIPT_DATA;break;case L.PLAINTEXT:this.tokenizer.state=eJ.PLAINTEXT}}_setDocumentType(e){let t=e.name||"",n=e.publicId||"",r=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,n,r),e.location){let t=this.treeAdapter.getChildNodes(this.document),n=t.find(e=>this.treeAdapter.isDocumentTypeNode(e));n&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){let n=t&&{...t,startTag:t};this.treeAdapter.setNodeSourceCodeLocation(e,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{let t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(null!=t?t:this.document,e)}}_appendElement(e,t){let n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location)}_insertElement(e,t){let n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID)}_insertFakeElement(e,t){let n=this.treeAdapter.createElement(e,C.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,t)}_insertTemplate(e){let t=this.treeAdapter.createElement(e.tagName,C.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){let e=this.treeAdapter.createElement(I.HTML,C.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,L.HTML)}_appendCommentNode(e,t){let n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}_insertCharacters(e){let t,n;if(this._shouldFosterParentOnInsertion()?({parent:t,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(t,e.chars,n):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;let r=this.treeAdapter.getChildNodes(t),i=n?r.lastIndexOf(n):r.length,o=r[i-1],a=this.treeAdapter.getNodeSourceCodeLocation(o);if(a){let{endLine:t,endCol:n,endOffset:r}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:t,endCol:n,endOffset:r})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location)}_adoptNodes(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){let n=t.location,r=this.treeAdapter.getTagName(e),i=t.type===E.END_TAG&&r===t.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,i)}}shouldProcessStartTagTokenInForeignContent(e){let t,n;return!!this.currentNotInHTML&&(0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,n=this.fragmentContextID):{current:t,currentTagId:n}=this.openElements,(e.tagID!==L.SVG||this.treeAdapter.getTagName(t)!==I.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==C.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===L.MGLYPH||e.tagID===L.MALIGNMARK)&&void 0!==n&&!this._isIntegrationPoint(n,t,C.HTML)))}_processToken(e){switch(e.type){case E.CHARACTER:this.onCharacter(e);break;case E.NULL_CHARACTER:this.onNullCharacter(e);break;case E.COMMENT:this.onComment(e);break;case E.DOCTYPE:this.onDoctype(e);break;case E.START_TAG:this._processStartTag(e);break;case E.END_TAG:this.onEndTag(e);break;case E.EOF:this.onEof(e);break;case E.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e)}}_isIntegrationPoint(e,t,n){let r=this.treeAdapter.getNamespaceURI(t),i=this.treeAdapter.getAttrList(t);return(!n||n===C.HTML)&&function(e,t,n){if(t===C.MATHML&&e===L.ANNOTATION_XML){for(let e=0;e<n.length;e++)if(n[e].name===w.ENCODING){let t=n[e].value.toLowerCase();return t===tv.TEXT_HTML||t===tv.APPLICATION_XML}}return t===C.SVG&&(e===L.FOREIGN_OBJECT||e===L.DESC||e===L.TITLE)}(e,r,i)||(!n||n===C.MATHML)&&r===C.MATHML&&(e===L.MI||e===L.MO||e===L.MN||e===L.MS||e===L.MTEXT)}_reconstructActiveFormattingElements(){let e=this.activeFormattingElements.entries.length;if(e){let t=this.activeFormattingElements.entries.findIndex(e=>e.type===k.Marker||this.openElements.contains(e.element)),n=-1===t?e-1:t-1;for(let e=n;e>=0;e--){let t=this.activeFormattingElements.entries[e];this._insertElement(t.token,this.treeAdapter.getNamespaceURI(t.element)),t.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=N.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(L.P),this.openElements.popUntilTagNamePopped(L.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case L.TR:this.insertionMode=N.IN_ROW;return;case L.TBODY:case L.THEAD:case L.TFOOT:this.insertionMode=N.IN_TABLE_BODY;return;case L.CAPTION:this.insertionMode=N.IN_CAPTION;return;case L.COLGROUP:this.insertionMode=N.IN_COLUMN_GROUP;return;case L.TABLE:this.insertionMode=N.IN_TABLE;return;case L.BODY:this.insertionMode=N.IN_BODY;return;case L.FRAMESET:this.insertionMode=N.IN_FRAMESET;return;case L.SELECT:this._resetInsertionModeForSelect(e);return;case L.TEMPLATE:this.insertionMode=this.tmplInsertionModeStack[0];return;case L.HTML:this.insertionMode=this.headElement?N.AFTER_HEAD:N.BEFORE_HEAD;return;case L.TD:case L.TH:if(e>0){this.insertionMode=N.IN_CELL;return}break;case L.HEAD:if(e>0){this.insertionMode=N.IN_HEAD;return}}this.insertionMode=N.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){let e=this.openElements.tagIDs[t];if(e===L.TEMPLATE)break;if(e===L.TABLE){this.insertionMode=N.IN_SELECT_IN_TABLE;return}}this.insertionMode=N.IN_SELECT}_isElementCausesFosterParenting(e){return tw.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&void 0!==this.openElements.currentTagId&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){let t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case L.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===C.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case L.TABLE:{let n=this.treeAdapter.getParentNode(t);if(n)return{parent:n,beforeElement:t};return{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){let t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_isSpecialElement(e,t){let n=this.treeAdapter.getNamespaceURI(e);return eK[n].has(t)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){this._insertCharacters(e),this.framesetOk=!1;return}switch(this.insertionMode){case N.INITIAL:tN(this,e);break;case N.BEFORE_HTML:tM(this,e);break;case N.BEFORE_HEAD:tD(this,e);break;case N.IN_HEAD:tB(this,e);break;case N.IN_HEAD_NO_SCRIPT:tU(this,e);break;case N.AFTER_HEAD:tz(this,e);break;case N.IN_BODY:case N.IN_CAPTION:case N.IN_CELL:case N.IN_TEMPLATE:tH(this,e);break;case N.TEXT:case N.IN_SELECT:case N.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case N.IN_TABLE:case N.IN_TABLE_BODY:case N.IN_ROW:tQ(this,e);break;case N.IN_TABLE_TEXT:t3(this,e);break;case N.IN_COLUMN_GROUP:t7(this,e);break;case N.AFTER_BODY:na(this,e);break;case N.AFTER_AFTER_BODY:ns(this,e)}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){e.chars="�",this._insertCharacters(e);return}switch(this.insertionMode){case N.INITIAL:tN(this,e);break;case N.BEFORE_HTML:tM(this,e);break;case N.BEFORE_HEAD:tD(this,e);break;case N.IN_HEAD:tB(this,e);break;case N.IN_HEAD_NO_SCRIPT:tU(this,e);break;case N.AFTER_HEAD:tz(this,e);break;case N.TEXT:this._insertCharacters(e);break;case N.IN_TABLE:case N.IN_TABLE_BODY:case N.IN_ROW:tQ(this,e);break;case N.IN_COLUMN_GROUP:t7(this,e);break;case N.AFTER_BODY:na(this,e);break;case N.AFTER_AFTER_BODY:ns(this,e)}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){tR(this,e);return}switch(this.insertionMode){case N.INITIAL:case N.BEFORE_HTML:case N.BEFORE_HEAD:case N.IN_HEAD:case N.IN_HEAD_NO_SCRIPT:case N.AFTER_HEAD:case N.IN_BODY:case N.IN_TABLE:case N.IN_CAPTION:case N.IN_COLUMN_GROUP:case N.IN_TABLE_BODY:case N.IN_ROW:case N.IN_CELL:case N.IN_SELECT:case N.IN_SELECT_IN_TABLE:case N.IN_TEMPLATE:case N.IN_FRAMESET:case N.AFTER_FRAMESET:tR(this,e);break;case N.IN_TABLE_TEXT:t5(this,e);break;case N.AFTER_BODY:!function(e,t){e._appendCommentNode(t,e.openElements.items[0])}(this,e);break;case N.AFTER_AFTER_BODY:case N.AFTER_AFTER_FRAMESET:!function(e,t){e._appendCommentNode(t,e.document)}(this,e)}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case N.INITIAL:!function(e,t){e._setDocumentType(t);let n=t.forceQuirks?O.QUIRKS:function(e){if(e.name!==td)return O.QUIRKS;let{systemId:t}=e;if(t&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===t.toLowerCase())return O.QUIRKS;let{publicId:n}=e;if(null!==n){if(n=n.toLowerCase(),tf.has(n))return O.QUIRKS;let e=null===t?th:tp;if(tb(n,e))return O.QUIRKS;if(tb(n,e=null===t?tg:tm))return O.LIMITED_QUIRKS}return O.NO_QUIRKS}(t);t.name===td&&null===t.publicId&&(null===t.systemId||"about:legacy-compat"===t.systemId)||e._err(t,y.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=N.BEFORE_HTML}(this,e);break;case N.BEFORE_HEAD:case N.IN_HEAD:case N.IN_HEAD_NO_SCRIPT:case N.AFTER_HEAD:this._err(e,y.misplacedDoctype);break;case N.IN_TABLE_TEXT:t5(this,e)}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,y.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if(function(e){let t=e.tagID,n=t===L.FONT&&e.attrs.some(({name:e})=>e===w.COLOR||e===w.SIZE||e===w.FACE);return n||tT.has(t)}(t))nl(e),e._startTagOutsideForeignContent(t);else{let n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===C.MATHML?tx(t):r===C.SVG&&(function(e){let t=t_.get(e.tagName);null!=t&&(e.tagName=t,e.tagID=eq(e.tagName))}(t),tS(t)),tA(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case N.INITIAL:tN(this,e);break;case N.BEFORE_HTML:e.tagID===L.HTML?(this._insertElement(e,C.HTML),this.insertionMode=N.BEFORE_HEAD):tM(this,e);break;case N.BEFORE_HEAD:!function(e,t){switch(t.tagID){case L.HTML:tY(e,t);break;case L.HEAD:e._insertElement(t,C.HTML),e.headElement=e.openElements.current,e.insertionMode=N.IN_HEAD;break;default:tD(e,t)}}(this,e);break;case N.IN_HEAD:tP(this,e);break;case N.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case L.HTML:tY(e,t);break;case L.BASEFONT:case L.BGSOUND:case L.HEAD:case L.LINK:case L.META:case L.NOFRAMES:case L.STYLE:tP(e,t);break;case L.NOSCRIPT:e._err(t,y.nestedNoscriptInHead);break;default:tU(e,t)}}(this,e);break;case N.AFTER_HEAD:!function(e,t){switch(t.tagID){case L.HTML:tY(e,t);break;case L.BODY:e._insertElement(t,C.HTML),e.framesetOk=!1,e.insertionMode=N.IN_BODY;break;case L.FRAMESET:e._insertElement(t,C.HTML),e.insertionMode=N.IN_FRAMESET;break;case L.BASE:case L.BASEFONT:case L.BGSOUND:case L.LINK:case L.META:case L.NOFRAMES:case L.SCRIPT:case L.STYLE:case L.TEMPLATE:case L.TITLE:e._err(t,y.abandonedHeadElementChild),e.openElements.push(e.headElement,L.HEAD),tP(e,t),e.openElements.remove(e.headElement);break;case L.HEAD:e._err(t,y.misplacedStartTagForHeadElement);break;default:tz(e,t)}}(this,e);break;case N.IN_BODY:tY(this,e);break;case N.IN_TABLE:tJ(this,e);break;case N.IN_TABLE_TEXT:t5(this,e);break;case N.IN_CAPTION:!function(e,t){let n=t.tagID;t4.has(n)?e.openElements.hasInTableScope(L.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(L.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=N.IN_TABLE,tJ(e,t)):tY(e,t)}(this,e);break;case N.IN_COLUMN_GROUP:t6(this,e);break;case N.IN_TABLE_BODY:t8(this,e);break;case N.IN_ROW:ne(this,e);break;case N.IN_CELL:!function(e,t){let n=t.tagID;t4.has(n)?(e.openElements.hasInTableScope(L.TD)||e.openElements.hasInTableScope(L.TH))&&(e._closeTableCell(),ne(e,t)):tY(e,t)}(this,e);break;case N.IN_SELECT:nn(this,e);break;case N.IN_SELECT_IN_TABLE:!function(e,t){let n=t.tagID;n===L.CAPTION||n===L.TABLE||n===L.TBODY||n===L.TFOOT||n===L.THEAD||n===L.TR||n===L.TD||n===L.TH?(e.openElements.popUntilTagNamePopped(L.SELECT),e._resetInsertionMode(),e._processStartTag(t)):nn(e,t)}(this,e);break;case N.IN_TEMPLATE:!function(e,t){switch(t.tagID){case L.BASE:case L.BASEFONT:case L.BGSOUND:case L.LINK:case L.META:case L.NOFRAMES:case L.SCRIPT:case L.STYLE:case L.TEMPLATE:case L.TITLE:tP(e,t);break;case L.CAPTION:case L.COLGROUP:case L.TBODY:case L.TFOOT:case L.THEAD:e.tmplInsertionModeStack[0]=N.IN_TABLE,e.insertionMode=N.IN_TABLE,tJ(e,t);break;case L.COL:e.tmplInsertionModeStack[0]=N.IN_COLUMN_GROUP,e.insertionMode=N.IN_COLUMN_GROUP,t6(e,t);break;case L.TR:e.tmplInsertionModeStack[0]=N.IN_TABLE_BODY,e.insertionMode=N.IN_TABLE_BODY,t8(e,t);break;case L.TD:case L.TH:e.tmplInsertionModeStack[0]=N.IN_ROW,e.insertionMode=N.IN_ROW,ne(e,t);break;default:e.tmplInsertionModeStack[0]=N.IN_BODY,e.insertionMode=N.IN_BODY,tY(e,t)}}(this,e);break;case N.AFTER_BODY:e.tagID===L.HTML?tY(this,e):na(this,e);break;case N.IN_FRAMESET:!function(e,t){switch(t.tagID){case L.HTML:tY(e,t);break;case L.FRAMESET:e._insertElement(t,C.HTML);break;case L.FRAME:e._appendElement(t,C.HTML),t.ackSelfClosing=!0;break;case L.NOFRAMES:tP(e,t)}}(this,e);break;case N.AFTER_FRAMESET:!function(e,t){switch(t.tagID){case L.HTML:tY(e,t);break;case L.NOFRAMES:tP(e,t)}}(this,e);break;case N.AFTER_AFTER_BODY:e.tagID===L.HTML?tY(this,e):ns(this,e);break;case N.AFTER_AFTER_FRAMESET:!function(e,t){switch(t.tagID){case L.HTML:tY(e,t);break;case L.NOFRAMES:tP(e,t)}}(this,e)}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===L.P||t.tagID===L.BR){nl(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){let r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===C.HTML){e._endTagOutsideForeignContent(t);break}let i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){var t;switch(this.insertionMode){case N.INITIAL:tN(this,e);break;case N.BEFORE_HTML:!function(e,t){let n=t.tagID;(n===L.HTML||n===L.HEAD||n===L.BODY||n===L.BR)&&tM(e,t)}(this,e);break;case N.BEFORE_HEAD:!function(e,t){let n=t.tagID;n===L.HEAD||n===L.BODY||n===L.HTML||n===L.BR?tD(e,t):e._err(t,y.endTagWithoutMatchingOpenElement)}(this,e);break;case N.IN_HEAD:!function(e,t){switch(t.tagID){case L.HEAD:e.openElements.pop(),e.insertionMode=N.AFTER_HEAD;break;case L.BODY:case L.BR:case L.HTML:tB(e,t);break;case L.TEMPLATE:tF(e,t);break;default:e._err(t,y.endTagWithoutMatchingOpenElement)}}(this,e);break;case N.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case L.NOSCRIPT:e.openElements.pop(),e.insertionMode=N.IN_HEAD;break;case L.BR:tU(e,t);break;default:e._err(t,y.endTagWithoutMatchingOpenElement)}}(this,e);break;case N.AFTER_HEAD:!function(e,t){switch(t.tagID){case L.BODY:case L.HTML:case L.BR:tz(e,t);break;case L.TEMPLATE:tF(e,t);break;default:e._err(t,y.endTagWithoutMatchingOpenElement)}}(this,e);break;case N.IN_BODY:tX(this,e);break;case N.TEXT:e.tagID===L.SCRIPT&&(null===(t=this.scriptHandler)||void 0===t||t.call(this,this.openElements.current)),this.openElements.pop(),this.insertionMode=this.originalInsertionMode;break;case N.IN_TABLE:t0(this,e);break;case N.IN_TABLE_TEXT:t5(this,e);break;case N.IN_CAPTION:!function(e,t){let n=t.tagID;switch(n){case L.CAPTION:case L.TABLE:e.openElements.hasInTableScope(L.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(L.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=N.IN_TABLE,n===L.TABLE&&t0(e,t));break;case L.BODY:case L.COL:case L.COLGROUP:case L.HTML:case L.TBODY:case L.TD:case L.TFOOT:case L.TH:case L.THEAD:case L.TR:break;default:tX(e,t)}}(this,e);break;case N.IN_COLUMN_GROUP:!function(e,t){switch(t.tagID){case L.COLGROUP:e.openElements.currentTagId===L.COLGROUP&&(e.openElements.pop(),e.insertionMode=N.IN_TABLE);break;case L.TEMPLATE:tF(e,t);break;case L.COL:break;default:t7(e,t)}}(this,e);break;case N.IN_TABLE_BODY:t9(this,e);break;case N.IN_ROW:nt(this,e);break;case N.IN_CELL:!function(e,t){let n=t.tagID;switch(n){case L.TD:case L.TH:e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=N.IN_ROW);break;case L.TABLE:case L.TBODY:case L.TFOOT:case L.THEAD:case L.TR:e.openElements.hasInTableScope(n)&&(e._closeTableCell(),nt(e,t));break;case L.BODY:case L.CAPTION:case L.COL:case L.COLGROUP:case L.HTML:break;default:tX(e,t)}}(this,e);break;case N.IN_SELECT:nr(this,e);break;case N.IN_SELECT_IN_TABLE:!function(e,t){let n=t.tagID;n===L.CAPTION||n===L.TABLE||n===L.TBODY||n===L.TFOOT||n===L.THEAD||n===L.TR||n===L.TD||n===L.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(L.SELECT),e._resetInsertionMode(),e.onEndTag(t)):nr(e,t)}(this,e);break;case N.IN_TEMPLATE:e.tagID===L.TEMPLATE&&tF(this,e);break;case N.AFTER_BODY:no(this,e);break;case N.IN_FRAMESET:e.tagID!==L.FRAMESET||this.openElements.isRootHtmlElementCurrent()||(this.openElements.pop(),this.fragmentContext||this.openElements.currentTagId===L.FRAMESET||(this.insertionMode=N.AFTER_FRAMESET));break;case N.AFTER_FRAMESET:e.tagID===L.HTML&&(this.insertionMode=N.AFTER_AFTER_FRAMESET);break;case N.AFTER_AFTER_BODY:ns(this,e)}}onEof(e){switch(this.insertionMode){case N.INITIAL:tN(this,e);break;case N.BEFORE_HTML:tM(this,e);break;case N.BEFORE_HEAD:tD(this,e);break;case N.IN_HEAD:tB(this,e);break;case N.IN_HEAD_NO_SCRIPT:tU(this,e);break;case N.AFTER_HEAD:tz(this,e);break;case N.IN_BODY:case N.IN_TABLE:case N.IN_CAPTION:case N.IN_COLUMN_GROUP:case N.IN_TABLE_BODY:case N.IN_ROW:case N.IN_CELL:case N.IN_SELECT:case N.IN_SELECT_IN_TABLE:tK(this,e);break;case N.TEXT:this._err(e,y.eofInElementThatCanContainOnlyText),this.openElements.pop(),this.insertionMode=this.originalInsertionMode,this.onEof(e);break;case N.IN_TABLE_TEXT:t5(this,e);break;case N.IN_TEMPLATE:ni(this,e);break;case N.AFTER_BODY:case N.IN_FRAMESET:case N.AFTER_FRAMESET:case N.AFTER_AFTER_BODY:case N.AFTER_AFTER_FRAMESET:tk(this,e)}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===v.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case N.IN_HEAD:case N.IN_HEAD_NO_SCRIPT:case N.AFTER_HEAD:case N.TEXT:case N.IN_COLUMN_GROUP:case N.IN_SELECT:case N.IN_SELECT_IN_TABLE:case N.IN_FRAMESET:case N.AFTER_FRAMESET:this._insertCharacters(e);break;case N.IN_BODY:case N.IN_CAPTION:case N.IN_CELL:case N.IN_TEMPLATE:case N.AFTER_BODY:case N.AFTER_AFTER_BODY:case N.AFTER_AFTER_FRAMESET:tj(this,e);break;case N.IN_TABLE:case N.IN_TABLE_BODY:case N.IN_ROW:tQ(this,e);break;case N.IN_TABLE_TEXT:t2(this,e)}}}function tL(e,t){for(let n=0;n<8;n++){let n=function(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):tq(e,t),n}(e,t);if(!n)break;let r=function(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){let i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}(e,n);if(!r)break;e.activeFormattingElements.bookmark=n;let i=function(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let o=0,a=i;a!==n;o++,a=i){i=e.openElements.getCommonAncestor(a);let n=e.activeFormattingElements.getElementEntry(a),s=n&&o>=3,l=!n||s;l?(s&&e.activeFormattingElements.removeEntry(n),e.openElements.remove(a)):(a=function(e,t){let n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}(e,n),r===t&&(e.activeFormattingElements.bookmark=n),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}(e,r,n.element),o=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(i),o&&function(e,t,n){let r=e.treeAdapter.getTagName(t),i=eq(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{let r=e.treeAdapter.getNamespaceURI(t);i===L.TEMPLATE&&r===C.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}(e,o,i),function(e,t,n){let r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,o=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,i.tagID)}(e,r,n)}}function tR(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function tk(e,t){if(e.stopped=!0,t.location){let n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){let n=e.openElements.items[0],r=e.treeAdapter.getNodeSourceCodeLocation(n);if(r&&!r.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){let n=e.openElements.items[1],r=e.treeAdapter.getNodeSourceCodeLocation(n);r&&!r.endTag&&e._setEndLocation(n,t)}}}}function tN(e,t){e._err(t,y.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,O.QUIRKS),e.insertionMode=N.BEFORE_HTML,e._processToken(t)}function tM(e,t){e._insertFakeRootElement(),e.insertionMode=N.BEFORE_HEAD,e._processToken(t)}function tD(e,t){e._insertFakeElement(I.HEAD,L.HEAD),e.headElement=e.openElements.current,e.insertionMode=N.IN_HEAD,e._processToken(t)}function tP(e,t){switch(t.tagID){case L.HTML:tY(e,t);break;case L.BASE:case L.BASEFONT:case L.BGSOUND:case L.LINK:case L.META:e._appendElement(t,C.HTML),t.ackSelfClosing=!0;break;case L.TITLE:e._switchToTextParsing(t,eJ.RCDATA);break;case L.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,eJ.RAWTEXT):(e._insertElement(t,C.HTML),e.insertionMode=N.IN_HEAD_NO_SCRIPT);break;case L.NOFRAMES:case L.STYLE:e._switchToTextParsing(t,eJ.RAWTEXT);break;case L.SCRIPT:e._switchToTextParsing(t,eJ.SCRIPT_DATA);break;case L.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=N.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(N.IN_TEMPLATE);break;case L.HEAD:e._err(t,y.misplacedStartTagForHeadElement);break;default:tB(e,t)}}function tF(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==L.TEMPLATE&&e._err(t,y.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(L.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,y.endTagWithoutMatchingOpenElement)}function tB(e,t){e.openElements.pop(),e.insertionMode=N.AFTER_HEAD,e._processToken(t)}function tU(e,t){let n=t.type===E.EOF?y.openElementsLeftAfterEof:y.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=N.IN_HEAD,e._processToken(t)}function tz(e,t){e._insertFakeElement(I.BODY,L.BODY),e.insertionMode=N.IN_BODY,tZ(e,t)}function tZ(e,t){switch(t.type){case E.CHARACTER:tH(e,t);break;case E.WHITESPACE_CHARACTER:tj(e,t);break;case E.COMMENT:tR(e,t);break;case E.START_TAG:tY(e,t);break;case E.END_TAG:tX(e,t);break;case E.EOF:tK(e,t)}}function tj(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function tH(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function tG(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,C.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function tV(e){let t=eH(e,w.TYPE);return null!=t&&"hidden"===t.toLowerCase()}function t$(e,t){e._switchToTextParsing(t,eJ.RAWTEXT)}function tW(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,C.HTML)}function tY(e,t){switch(t.tagID){case L.I:case L.S:case L.B:case L.U:case L.EM:case L.TT:case L.BIG:case L.CODE:case L.FONT:case L.SMALL:case L.STRIKE:case L.STRONG:e._reconstructActiveFormattingElements(),e._insertElement(t,C.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);break;case L.A:!function(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(I.A);n&&(tL(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,C.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case L.H1:case L.H2:case L.H3:case L.H4:case L.H5:case L.H6:e.openElements.hasInButtonScope(L.P)&&e._closePElement(),void 0!==e.openElements.currentTagId&&eQ.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,C.HTML);break;case L.P:case L.DL:case L.OL:case L.UL:case L.DIV:case L.DIR:case L.NAV:case L.MAIN:case L.MENU:case L.ASIDE:case L.CENTER:case L.FIGURE:case L.FOOTER:case L.HEADER:case L.HGROUP:case L.DIALOG:case L.DETAILS:case L.ADDRESS:case L.ARTICLE:case L.SEARCH:case L.SECTION:case L.SUMMARY:case L.FIELDSET:case L.BLOCKQUOTE:case L.FIGCAPTION:e.openElements.hasInButtonScope(L.P)&&e._closePElement(),e._insertElement(t,C.HTML);break;case L.LI:case L.DD:case L.DT:!function(e,t){e.framesetOk=!1;let n=t.tagID;for(let t=e.openElements.stackTop;t>=0;t--){let r=e.openElements.tagIDs[t];if(n===L.LI&&r===L.LI||(n===L.DD||n===L.DT)&&(r===L.DD||r===L.DT)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r);break}if(r!==L.ADDRESS&&r!==L.DIV&&r!==L.P&&e._isSpecialElement(e.openElements.items[t],r))break}e.openElements.hasInButtonScope(L.P)&&e._closePElement(),e._insertElement(t,C.HTML)}(e,t);break;case L.BR:case L.IMG:case L.WBR:case L.AREA:case L.EMBED:case L.KEYGEN:tG(e,t);break;case L.HR:e.openElements.hasInButtonScope(L.P)&&e._closePElement(),e._appendElement(t,C.HTML),e.framesetOk=!1,t.ackSelfClosing=!0;break;case L.RB:case L.RTC:e.openElements.hasInScope(L.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,C.HTML);break;case L.RT:case L.RP:e.openElements.hasInScope(L.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(L.RTC),e._insertElement(t,C.HTML);break;case L.PRE:case L.LISTING:e.openElements.hasInButtonScope(L.P)&&e._closePElement(),e._insertElement(t,C.HTML),e.skipNextNewLine=!0,e.framesetOk=!1;break;case L.XMP:e.openElements.hasInButtonScope(L.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,eJ.RAWTEXT);break;case L.SVG:e._reconstructActiveFormattingElements(),tS(t),tA(t),t.selfClosing?e._appendElement(t,C.SVG):e._insertElement(t,C.SVG),t.ackSelfClosing=!0;break;case L.HTML:0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs);break;case L.BASE:case L.LINK:case L.META:case L.STYLE:case L.TITLE:case L.SCRIPT:case L.BGSOUND:case L.BASEFONT:case L.TEMPLATE:tP(e,t);break;case L.BODY:!function(e,t){let n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}(e,t);break;case L.FORM:!function(e,t){let n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(L.P)&&e._closePElement(),e._insertElement(t,C.HTML),n||(e.formElement=e.openElements.current))}(e,t);break;case L.NOBR:e._reconstructActiveFormattingElements(),e.openElements.hasInScope(L.NOBR)&&(tL(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,C.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);break;case L.MATH:e._reconstructActiveFormattingElements(),tx(t),tA(t),t.selfClosing?e._appendElement(t,C.MATHML):e._insertElement(t,C.MATHML),t.ackSelfClosing=!0;break;case L.TABLE:e.treeAdapter.getDocumentMode(e.document)!==O.QUIRKS&&e.openElements.hasInButtonScope(L.P)&&e._closePElement(),e._insertElement(t,C.HTML),e.framesetOk=!1,e.insertionMode=N.IN_TABLE;break;case L.INPUT:e._reconstructActiveFormattingElements(),e._appendElement(t,C.HTML),tV(t)||(e.framesetOk=!1),t.ackSelfClosing=!0;break;case L.PARAM:case L.TRACK:case L.SOURCE:e._appendElement(t,C.HTML),t.ackSelfClosing=!0;break;case L.IMAGE:t.tagName=I.IMG,t.tagID=L.IMG,tG(e,t);break;case L.BUTTON:e.openElements.hasInScope(L.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(L.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,C.HTML),e.framesetOk=!1;break;case L.APPLET:case L.OBJECT:case L.MARQUEE:e._reconstructActiveFormattingElements(),e._insertElement(t,C.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1;break;case L.IFRAME:e.framesetOk=!1,e._switchToTextParsing(t,eJ.RAWTEXT);break;case L.SELECT:e._reconstructActiveFormattingElements(),e._insertElement(t,C.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===N.IN_TABLE||e.insertionMode===N.IN_CAPTION||e.insertionMode===N.IN_TABLE_BODY||e.insertionMode===N.IN_ROW||e.insertionMode===N.IN_CELL?N.IN_SELECT_IN_TABLE:N.IN_SELECT;break;case L.OPTION:case L.OPTGROUP:e.openElements.currentTagId===L.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,C.HTML);break;case L.NOEMBED:case L.NOFRAMES:t$(e,t);break;case L.FRAMESET:!function(e,t){let n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,C.HTML),e.insertionMode=N.IN_FRAMESET)}(e,t);break;case L.TEXTAREA:e._insertElement(t,C.HTML),e.skipNextNewLine=!0,e.tokenizer.state=eJ.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=N.TEXT;break;case L.NOSCRIPT:e.options.scriptingEnabled?t$(e,t):tW(e,t);break;case L.PLAINTEXT:e.openElements.hasInButtonScope(L.P)&&e._closePElement(),e._insertElement(t,C.HTML),e.tokenizer.state=eJ.PLAINTEXT;break;case L.COL:case L.TH:case L.TD:case L.TR:case L.HEAD:case L.FRAME:case L.TBODY:case L.TFOOT:case L.THEAD:case L.CAPTION:case L.COLGROUP:break;default:tW(e,t)}}function tq(e,t){let n=t.tagName,r=t.tagID;for(let t=e.openElements.stackTop;t>0;t--){let i=e.openElements.items[t],o=e.openElements.tagIDs[t];if(r===o&&(r!==L.UNKNOWN||e.treeAdapter.getTagName(i)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=t&&e.openElements.shortenToLength(t);break}if(e._isSpecialElement(i,o))break}}function tX(e,t){switch(t.tagID){case L.A:case L.B:case L.I:case L.S:case L.U:case L.EM:case L.TT:case L.BIG:case L.CODE:case L.FONT:case L.NOBR:case L.SMALL:case L.STRIKE:case L.STRONG:tL(e,t);break;case L.P:e.openElements.hasInButtonScope(L.P)||e._insertFakeElement(I.P,L.P),e._closePElement();break;case L.DL:case L.UL:case L.OL:case L.DIR:case L.DIV:case L.NAV:case L.PRE:case L.MAIN:case L.MENU:case L.ASIDE:case L.BUTTON:case L.CENTER:case L.FIGURE:case L.FOOTER:case L.HEADER:case L.HGROUP:case L.DIALOG:case L.ADDRESS:case L.ARTICLE:case L.DETAILS:case L.SEARCH:case L.SECTION:case L.SUMMARY:case L.LISTING:case L.FIELDSET:case L.BLOCKQUOTE:case L.FIGCAPTION:!function(e,t){let n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case L.LI:e.openElements.hasInListItemScope(L.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(L.LI),e.openElements.popUntilTagNamePopped(L.LI));break;case L.DD:case L.DT:!function(e,t){let n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case L.H1:case L.H2:case L.H3:case L.H4:case L.H5:case L.H6:e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped());break;case L.BR:e._reconstructActiveFormattingElements(),e._insertFakeElement(I.BR,L.BR),e.openElements.pop(),e.framesetOk=!1;break;case L.BODY:!function(e,t){if(e.openElements.hasInScope(L.BODY)&&(e.insertionMode=N.AFTER_BODY,e.options.sourceCodeLocationInfo)){let n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}(e,t);break;case L.HTML:e.openElements.hasInScope(L.BODY)&&(e.insertionMode=N.AFTER_BODY,no(e,t));break;case L.FORM:!function(e){let t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(L.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(L.FORM):n&&e.openElements.remove(n))}(e);break;case L.APPLET:case L.OBJECT:case L.MARQUEE:!function(e,t){let n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}(e,t);break;case L.TEMPLATE:tF(e,t);break;default:tq(e,t)}}function tK(e,t){e.tmplInsertionModeStack.length>0?ni(e,t):tk(e,t)}function tQ(e,t){if(void 0!==e.openElements.currentTagId&&tw.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=N.IN_TABLE_TEXT,t.type){case E.CHARACTER:t3(e,t);break;case E.WHITESPACE_CHARACTER:t2(e,t)}else t1(e,t)}function tJ(e,t){switch(t.tagID){case L.TD:case L.TH:case L.TR:e.openElements.clearBackToTableContext(),e._insertFakeElement(I.TBODY,L.TBODY),e.insertionMode=N.IN_TABLE_BODY,t8(e,t);break;case L.STYLE:case L.SCRIPT:case L.TEMPLATE:tP(e,t);break;case L.COL:e.openElements.clearBackToTableContext(),e._insertFakeElement(I.COLGROUP,L.COLGROUP),e.insertionMode=N.IN_COLUMN_GROUP,t6(e,t);break;case L.FORM:e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,C.HTML),e.formElement=e.openElements.current,e.openElements.pop());break;case L.TABLE:e.openElements.hasInTableScope(L.TABLE)&&(e.openElements.popUntilTagNamePopped(L.TABLE),e._resetInsertionMode(),e._processStartTag(t));break;case L.TBODY:case L.TFOOT:case L.THEAD:e.openElements.clearBackToTableContext(),e._insertElement(t,C.HTML),e.insertionMode=N.IN_TABLE_BODY;break;case L.INPUT:tV(t)?e._appendElement(t,C.HTML):t1(e,t),t.ackSelfClosing=!0;break;case L.CAPTION:e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,C.HTML),e.insertionMode=N.IN_CAPTION;break;case L.COLGROUP:e.openElements.clearBackToTableContext(),e._insertElement(t,C.HTML),e.insertionMode=N.IN_COLUMN_GROUP;break;default:t1(e,t)}}function t0(e,t){switch(t.tagID){case L.TABLE:e.openElements.hasInTableScope(L.TABLE)&&(e.openElements.popUntilTagNamePopped(L.TABLE),e._resetInsertionMode());break;case L.TEMPLATE:tF(e,t);break;case L.BODY:case L.CAPTION:case L.COL:case L.COLGROUP:case L.HTML:case L.TBODY:case L.TD:case L.TFOOT:case L.TH:case L.THEAD:case L.TR:break;default:t1(e,t)}}function t1(e,t){let n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,tZ(e,t),e.fosterParentingEnabled=n}function t2(e,t){e.pendingCharacterTokens.push(t)}function t3(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function t5(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)t1(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}let t4=new Set([L.CAPTION,L.COL,L.COLGROUP,L.TBODY,L.TD,L.TFOOT,L.TH,L.THEAD,L.TR]);function t6(e,t){switch(t.tagID){case L.HTML:tY(e,t);break;case L.COL:e._appendElement(t,C.HTML),t.ackSelfClosing=!0;break;case L.TEMPLATE:tP(e,t);break;default:t7(e,t)}}function t7(e,t){e.openElements.currentTagId===L.COLGROUP&&(e.openElements.pop(),e.insertionMode=N.IN_TABLE,e._processToken(t))}function t8(e,t){switch(t.tagID){case L.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,C.HTML),e.insertionMode=N.IN_ROW;break;case L.TH:case L.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(I.TR,L.TR),e.insertionMode=N.IN_ROW,ne(e,t);break;case L.CAPTION:case L.COL:case L.COLGROUP:case L.TBODY:case L.TFOOT:case L.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE,tJ(e,t));break;default:tJ(e,t)}}function t9(e,t){let n=t.tagID;switch(t.tagID){case L.TBODY:case L.TFOOT:case L.THEAD:e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE);break;case L.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE,t0(e,t));break;case L.BODY:case L.CAPTION:case L.COL:case L.COLGROUP:case L.HTML:case L.TD:case L.TH:case L.TR:break;default:t0(e,t)}}function ne(e,t){switch(t.tagID){case L.TH:case L.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,C.HTML),e.insertionMode=N.IN_CELL,e.activeFormattingElements.insertMarker();break;case L.CAPTION:case L.COL:case L.COLGROUP:case L.TBODY:case L.TFOOT:case L.THEAD:case L.TR:e.openElements.hasInTableScope(L.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE_BODY,t8(e,t));break;default:tJ(e,t)}}function nt(e,t){switch(t.tagID){case L.TR:e.openElements.hasInTableScope(L.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE_BODY);break;case L.TABLE:e.openElements.hasInTableScope(L.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE_BODY,t9(e,t));break;case L.TBODY:case L.TFOOT:case L.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(L.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE_BODY,t9(e,t));break;case L.BODY:case L.CAPTION:case L.COL:case L.COLGROUP:case L.HTML:case L.TD:case L.TH:break;default:t0(e,t)}}function nn(e,t){switch(t.tagID){case L.HTML:tY(e,t);break;case L.OPTION:e.openElements.currentTagId===L.OPTION&&e.openElements.pop(),e._insertElement(t,C.HTML);break;case L.OPTGROUP:e.openElements.currentTagId===L.OPTION&&e.openElements.pop(),e.openElements.currentTagId===L.OPTGROUP&&e.openElements.pop(),e._insertElement(t,C.HTML);break;case L.HR:e.openElements.currentTagId===L.OPTION&&e.openElements.pop(),e.openElements.currentTagId===L.OPTGROUP&&e.openElements.pop(),e._appendElement(t,C.HTML),t.ackSelfClosing=!0;break;case L.INPUT:case L.KEYGEN:case L.TEXTAREA:case L.SELECT:e.openElements.hasInSelectScope(L.SELECT)&&(e.openElements.popUntilTagNamePopped(L.SELECT),e._resetInsertionMode(),t.tagID!==L.SELECT&&e._processStartTag(t));break;case L.SCRIPT:case L.TEMPLATE:tP(e,t)}}function nr(e,t){switch(t.tagID){case L.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===L.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===L.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===L.OPTGROUP&&e.openElements.pop();break;case L.OPTION:e.openElements.currentTagId===L.OPTION&&e.openElements.pop();break;case L.SELECT:e.openElements.hasInSelectScope(L.SELECT)&&(e.openElements.popUntilTagNamePopped(L.SELECT),e._resetInsertionMode());break;case L.TEMPLATE:tF(e,t)}}function ni(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(L.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):tk(e,t)}function no(e,t){var n;if(t.tagID===L.HTML){if(e.fragmentContext||(e.insertionMode=N.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===L.HTML){e._setEndLocation(e.openElements.items[0],t);let r=e.openElements.items[1];!r||(null===(n=e.treeAdapter.getNodeSourceCodeLocation(r))||void 0===n?void 0:n.endTag)||e._setEndLocation(r,t)}}else na(e,t)}function na(e,t){e.insertionMode=N.IN_BODY,tZ(e,t)}function ns(e,t){e.insertionMode=N.IN_BODY,tZ(e,t)}function nl(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==C.HTML&&void 0!==e.openElements.currentTagId&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function nc(e,t){return function(n){let r;let i=0,o="";for(;r=e.exec(n);)i!==r.index&&(o+=n.substring(i,r.index)),o+=t.get(r[0].charCodeAt(0)),i=r.index+1;return o+n.substring(i)}}null==String.prototype.codePointAt||((e,t)=>e.codePointAt(t)),nc(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),nc(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),I.AREA,I.BASE,I.BASEFONT,I.BGSOUND,I.BR,I.COL,I.EMBED,I.FRAME,I.HR,I.IMG,I.INPUT,I.KEYGEN,I.LINK,I.META,I.PARAM,I.SOURCE,I.TRACK,I.WBR;var nu=n(42740),nd=n(25709);let np=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,nh=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),nf={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function ng(e,t){let n=function(e){let t="root"===e.type?e.children[0]:e;return!!(t&&("doctype"===t.type||"element"===t.type&&"html"===t.tagName.toLowerCase()))}(e),r=eL("type",{handlers:{root:nb,element:nv,text:ny,comment:n_,doctype:nE,raw:nT},unknown:nx}),i={parser:n?new tI(nf):tI.getFragmentParser(void 0,nf),handle(e){r(e,i)},stitches:!1,options:t||{}};r(e,i),nS(i,(0,nu.Pk)());let o=n?i.parser.document:i.parser.getFragment(),a=function(e,t){let n=t||{};return G({file:n.file||void 0,location:!1,schema:"svg"===n.space?B.YP:B.dy,verbose:n.verbose||!1},e)}(o,{file:i.options.file});return(i.stitches&&(0,nd.Vn)(a,"comment",function(e,t,n){if(e.value.stitch&&n&&void 0!==t){let r=n.children;return r[t]=e.value.stitch,t}}),"root"===a.type&&1===a.children.length&&a.children[0].type===e.type)?a.children[0]:a}function nm(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function nb(e,t){nm(e.children,t)}function nv(e,t){(function(e,t){let n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===eJ.PLAINTEXT)return;nS(t,(0,nu.Pk)(e));let r=t.parser.openElements.current,i="namespaceURI"in r?r.namespaceURI:Z.t.html;i===Z.t.html&&"svg"===n&&(i=Z.t.svg);let o=function(e,t){let n=(t||eR).space;return eN(e,"svg"===n?eT:e_)}({...e,children:[]},{space:i===Z.t.svg?"svg":"html"}),a={type:E.START_TAG,tagName:n,tagID:eq(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:nC(e)};t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n})(e,t),nm(e.children,t),function(e,t){let n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&eP.includes(n)||t.parser.tokenizer.state===eJ.PLAINTEXT)return;nS(t,(0,nu.rb)(e));let r={type:E.END_TAG,tagName:n,tagID:eq(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:nC(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===eJ.RCDATA||t.parser.tokenizer.state===eJ.RAWTEXT||t.parser.tokenizer.state===eJ.SCRIPT_DATA)&&(t.parser.tokenizer.state=eJ.DATA)}(e,t)}function ny(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);let n={type:E.CHARACTER,chars:e.value,location:nC(e)};nS(t,(0,nu.Pk)(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function nE(e,t){let n={type:E.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:nC(e)};nS(t,(0,nu.Pk)(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function n_(e,t){let n=e.value,r={type:E.COMMENT,data:n,location:nC(e)};nS(t,(0,nu.Pk)(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function nT(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,nA(t,(0,nu.Pk)(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(np,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),72===t.parser.tokenizer.state||78===t.parser.tokenizer.state){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;let e=t.parser.tokenizer._consume();t.parser.tokenizer._callState(e)}}function nx(e,t){if(t.options.passThrough&&t.options.passThrough.includes(e.type))!function(e,t){t.stitches=!0;let n="children"in e?(0,D.ZP)({...e,children:[]}):(0,D.ZP)(e);if("children"in e&&"children"in n){let r=ng({type:"root",children:e.children},t.options);n.children=r.children}n_({type:"comment",value:{stitch:n}},t)}(e,t);else{let t="";throw nh.has(e.type)&&(t=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),Error("Cannot compile `"+e.type+"` node"+t)}}function nS(e,t){nA(e,t);let n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=eJ.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function nA(e,t){if(t&&void 0!==t.offset){let n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function nC(e){let t=(0,nu.Pk)(e)||{line:void 0,column:void 0,offset:void 0},n=(0,nu.rb)(e)||{line:void 0,column:void 0,offset:void 0},r={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset};return r}function nw(e){return function(t,n){let r=ng(t,{...e,file:n});return r}}},83699:function(e,t,n){"use strict";function r(e,t){let n=String(e);if("string"!=typeof t)throw TypeError("Expected character");let r=0,i=n.indexOf(t);for(;-1!==i;)r++,i=n.indexOf(t,i+t.length);return r}n.d(t,{Z:function(){return e1}});var i=n(4729),o=n(6020),a=n(34505),s=n(11135);let l="phrasing",c=["autolink","link","image","label"];function u(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function d(e){this.config.enter.autolinkProtocol.call(this,e)}function p(e){this.config.exit.autolinkProtocol.call(this,e)}function h(e){this.config.exit.data.call(this,e);let t=this.stack[this.stack.length-1];(0,i.ok)("link"===t.type),t.url="http://"+this.sliceSerialize(e)}function f(e){this.config.exit.autolinkEmail.call(this,e)}function g(e){this.exit(e)}function m(e){!function(e,t,n){let r=(0,s.O)((n||{}).ignore||[]),i=function(e){let t=[];if(!Array.isArray(e))throw TypeError("Expected find and replace tuple or list of tuples");let n=!e[0]||Array.isArray(e[0])?e:[e],r=-1;for(;++r<n.length;){var i;let e=n[r];t.push(["string"==typeof(i=e[0])?RegExp(function(e){if("string"!=typeof e)throw TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(i),"g"):i,function(e){return"function"==typeof e?e:function(){return e}}(e[1])])}return t}(t),o=-1;for(;++o<i.length;)(0,a.S4)(e,"text",l);function l(e,t){let n,a=-1;for(;++a<t.length;){let e=t[a],i=n?n.children:void 0;if(r(e,i?i.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){let n=t[t.length-1],r=i[o][0],a=i[o][1],s=0,l=n.children,c=l.indexOf(e),u=!1,d=[];r.lastIndex=0;let p=r.exec(e.value);for(;p;){let n=p.index,i={index:p.index,input:p.input,stack:[...t,e]},o=a(...p,i);if("string"==typeof o&&(o=o.length>0?{type:"text",value:o}:void 0),!1===o?r.lastIndex=n+1:(s!==n&&d.push({type:"text",value:e.value.slice(s,n)}),Array.isArray(o)?d.push(...o):o&&d.push(o),s=n+p[0].length,u=!0),!r.global)break;p=r.exec(e.value)}return u?(s<e.value.length&&d.push({type:"text",value:e.value.slice(s)}),n.children.splice(c,1,...d)):d=[e],c+d.length}(e,t)}}(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,b],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,v]],{ignore:["link","linkReference"]})}function b(e,t,n,i,o){let a="";if(!y(o)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!function(e){let t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}(n)))return!1;let s=function(e){let t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],i=n.indexOf(")"),o=r(e,"("),a=r(e,")");for(;-1!==i&&o>a;)e+=n.slice(0,i+1),i=(n=n.slice(i+1)).indexOf(")"),a++;return[e,n]}(n+i);if(!s[0])return!1;let l={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[l,{type:"text",value:s[1]}]:l}function v(e,t,n,r){return!(!y(r,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function y(e,t){let n=e.input.charCodeAt(e.index-1);return(0===e.index||(0,o.B8)(n)||(0,o.Xh)(n))&&(!t||47!==n)}var E=n(23185);function _(){this.buffer()}function x(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function S(){this.buffer()}function A(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function C(e){let t=this.resume(),n=this.stack[this.stack.length-1];(0,i.ok)("footnoteReference"===n.type),n.identifier=(0,E.d)(this.sliceSerialize(e)).toLowerCase(),n.label=t}function w(e){this.exit(e)}function O(e){let t=this.resume(),n=this.stack[this.stack.length-1];(0,i.ok)("footnoteDefinition"===n.type),n.identifier=(0,E.d)(this.sliceSerialize(e)).toLowerCase(),n.label=t}function I(e){this.exit(e)}function L(e,t,n,r){let i=n.createTracker(r),o=i.move("[^"),a=n.enter("footnoteReference"),s=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),s(),a(),o+=i.move("]")}function R(e,t,n){return 0===t?e:k(e,t,n)}function k(e,t,n){return(n?"":"    ")+e}L.peek=function(){return"["};let N=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function M(e){this.enter({type:"delete",children:[]},e)}function D(e){this.exit(e)}function P(e,t,n,r){let i=n.createTracker(r),o=n.enter("strikethrough"),a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"})+i.move("~~"),o(),a}function F(e){return e.length}function B(e){let t="string"==typeof e?e.codePointAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}function U(e,t,n){return">"+(n?"":" ")+e}function z(e,t,n){if("string"==typeof t&&(t=[t]),!t||0===t.length)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Z(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;){var o,a;if("\n"===n.unsafe[i].character&&z(o=n.stack,(a=n.unsafe[i]).inConstruct,!0)&&!z(o,a.notInConstruct,!1))return/[ \t]/.test(r.before)?"":" "}return"\\\n"}P.peek=function(){return"~"};var j=n(15316);function H(e,t,n){return(n?"":"    ")+e}function G(e){let t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function V(e){return"&#x"+e.toString(16).toUpperCase()+";"}var $=n(72147);function W(e,t,n){let r=(0,$.r)(e),i=(0,$.r)(t);return void 0===r?void 0===i?"_"===n?{inside:!0,outside:!0}:{inside:!1,outside:!1}:1===i?{inside:!0,outside:!0}:{inside:!1,outside:!0}:1===r?void 0===i?{inside:!1,outside:!1}:1===i?{inside:!0,outside:!0}:{inside:!1,outside:!1}:void 0===i?{inside:!1,outside:!1}:1===i?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function Y(e,t,n,r){let i=function(e){let t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}(n),o=n.enter("emphasis"),a=n.createTracker(r),s=a.move(i),l=a.move(n.containerPhrasing(e,{after:i,before:s,...a.current()})),c=l.charCodeAt(0),u=W(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=V(c)+l.slice(1));let d=l.charCodeAt(l.length-1),p=W(r.after.charCodeAt(0),d,i);p.inside&&(l=l.slice(0,-1)+V(d));let h=a.move(i);return o(),n.attentionEncodeSurroundingInfo={after:p.outside,before:u.outside},s+l+h}Y.peek=function(e,t,n){return n.options.emphasis||"*"};var q=n(25709),X=n(11721);function K(e){return e.value||""}function Q(e,t,n,r){let i=G(n),o='"'===i?"Quote":"Apostrophe",a=n.enter("image"),s=n.enter("label"),l=n.createTracker(r),c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()}))+l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()}))+l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()}))+l.move(i),s()),c+=l.move(")"),a(),c}function J(e,t,n,r){let i=e.referenceType,o=n.enter("imageReference"),a=n.enter("label"),s=n.createTracker(r),l=s.move("!["),c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();let u=n.stack;n.stack=[],a=n.enter("reference");let d=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return a(),n.stack=u,o(),"full"!==i&&c&&c===d?"shortcut"===i?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(d+"]"),l}function ee(e,t,n){let r=e.value||"",i="`",o=-1;for(;RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){let e;let t=n.unsafe[o],i=n.compilePattern(t);if(t.atBreak)for(;e=i.exec(r);){let t=e.index;10===r.charCodeAt(t)&&13===r.charCodeAt(t-1)&&t--,r=r.slice(0,t)+" "+r.slice(e.index+1)}}return i+r+i}function et(e,t){let n=(0,X.B)(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&1===e.children.length&&"text"===e.children[0].type&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}function en(e,t,n,r){let i,o;let a=G(n),s='"'===a?"Quote":"Apostrophe",l=n.createTracker(r);if(et(e,n)){let t=n.stack;n.stack=[],i=n.enter("autolink");let r=l.move("<");return r+=l.move(n.containerPhrasing(e,{before:r,after:">",...l.current()}))+l.move(">"),i(),n.stack=t,r}i=n.enter("link"),o=n.enter("label");let c=l.move("[");return c+=l.move(n.containerPhrasing(e,{before:c,after:"](",...l.current()}))+l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()}))+l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${s}`),c+=l.move(" "+a),c+=l.move(n.safe(e.title,{before:c,after:a,...l.current()}))+l.move(a),o()),c+=l.move(")"),i(),c}function er(e,t,n,r){let i=e.referenceType,o=n.enter("linkReference"),a=n.enter("label"),s=n.createTracker(r),l=s.move("["),c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();let u=n.stack;n.stack=[],a=n.enter("reference");let d=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return a(),n.stack=u,o(),"full"!==i&&c&&c===d?"shortcut"===i?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(d+"]"),l}function ei(e){let t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function eo(e){let t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}K.peek=function(){return"<"},Q.peek=function(){return"!"},J.peek=function(){return"!"},ee.peek=function(){return"`"},en.peek=function(e,t,n){return et(e,n)?"<":"["},er.peek=function(){return"["};let ea=(0,s.O)(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function es(e,t,n,r){let i=function(e){let t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}(n),o=n.enter("strong"),a=n.createTracker(r),s=a.move(i+i),l=a.move(n.containerPhrasing(e,{after:i,before:s,...a.current()})),c=l.charCodeAt(0),u=W(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=V(c)+l.slice(1));let d=l.charCodeAt(l.length-1),p=W(r.after.charCodeAt(0),d,i);p.inside&&(l=l.slice(0,-1)+V(d));let h=a.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:p.outside,before:u.outside},s+l+h}es.peek=function(e,t,n){return n.options.strong||"*"};let el={blockquote:function(e,t,n,r){let i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);let a=n.indentLines(n.containerFlow(e,o.current()),U);return i(),a},break:Z,code:function(e,t,n,r){let i=function(e){let t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}(n),o=e.value||"",a="`"===i?"GraveAccent":"Tilde";if(!1===n.options.fences&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value)){let e=n.enter("codeIndented"),t=n.indentLines(o,H);return e(),t}let s=n.createTracker(r),l=i.repeat(Math.max((0,j.J)(o,i)+1,3)),c=n.enter("codeFenced"),u=s.move(l);if(e.lang){let t=n.enter(`codeFencedLang${a}`);u+=s.move(n.safe(e.lang,{before:u,after:" ",encode:["`"],...s.current()})),t()}if(e.lang&&e.meta){let t=n.enter(`codeFencedMeta${a}`);u+=s.move(" "),u+=s.move(n.safe(e.meta,{before:u,after:"\n",encode:["`"],...s.current()})),t()}return u+=s.move("\n"),o&&(u+=s.move(o+"\n")),u+=s.move(l),c(),u},definition:function(e,t,n,r){let i=G(n),o='"'===i?"Quote":"Apostrophe",a=n.enter("definition"),s=n.enter("label"),l=n.createTracker(r),c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()}))+l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()}))+l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":"\n",...l.current()}))),s(),e.title&&(s=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()}))+l.move(i),s()),a(),c},emphasis:Y,hardBreak:Z,heading:function(e,t,n,r){let i;let o=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(i=!1,(0,q.Vn)(e,function(e){if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return i=!0,a.BK}),(!e.depth||e.depth<3)&&(0,X.B)(e)&&(n.options.setext||i)){let t=n.enter("headingSetext"),r=n.enter("phrasing"),i=n.containerPhrasing(e,{...s.current(),before:"\n",after:"\n"});return r(),t(),i+"\n"+(1===o?"=":"-").repeat(i.length-(Math.max(i.lastIndexOf("\r"),i.lastIndexOf("\n"))+1))}let l="#".repeat(o),c=n.enter("headingAtx"),u=n.enter("phrasing");s.move(l+" ");let d=n.containerPhrasing(e,{before:"# ",after:"\n",...s.current()});return/^[\t ]/.test(d)&&(d=V(d.charCodeAt(0))+d.slice(1)),d=d?l+" "+d:l,n.options.closeAtx&&(d+=" "+l),u(),c(),d},html:K,image:Q,imageReference:J,inlineCode:ee,link:en,linkReference:er,list:function(e,t,n,r){let i=n.enter("list"),o=n.bulletCurrent,a=e.ordered?function(e){let t=e.options.bulletOrdered||".";if("."!==t&&")"!==t)throw Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}(n):ei(n),s=e.ordered?"."===a?")":".":function(e){let t=ei(e),n=e.options.bulletOther;if(!n)return"*"===t?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n),l=!!t&&!!n.bulletLastUsed&&a===n.bulletLastUsed;if(!e.ordered){let t=e.children?e.children[0]:void 0;if("*"!==a&&"-"!==a||!t||t.children&&t.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(l=!0),eo(n)===a&&t){let t=-1;for(;++t<e.children.length;){let n=e.children[t];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){l=!0;break}}}}l&&(a=s),n.bulletCurrent=a;let c=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=o,i(),c},listItem:function(e,t,n,r){let i=function(e){let t=e.options.listItemIndent||"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(n),o=n.bulletCurrent||ei(n);t&&"list"===t.type&&t.ordered&&(o=("number"==typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+o);let a=o.length+1;("tab"===i||"mixed"===i&&(t&&"list"===t.type&&t.spread||e.spread))&&(a=4*Math.ceil(a/4));let s=n.createTracker(r);s.move(o+" ".repeat(a-o.length)),s.shift(a);let l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),function(e,t,n){return t?(n?"":" ".repeat(a))+e:(n?o:o+" ".repeat(a-o.length))+e});return l(),c},paragraph:function(e,t,n,r){let i=n.enter("paragraph"),o=n.enter("phrasing"),a=n.containerPhrasing(e,r);return o(),i(),a},root:function(e,t,n,r){let i=e.children.some(function(e){return ea(e)}),o=i?n.containerPhrasing:n.containerFlow;return o.call(n,e,r)},strong:es,text:function(e,t,n,r){return n.safe(e.value,r)},thematicBreak:function(e,t,n){let r=(eo(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){let t=e.options.ruleRepetition||3;if(t<3)throw Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}(n));return n.options.ruleSpaces?r.slice(0,-1):r}};function ec(e){let t=e._align;(0,i.ok)(t,"expected `_align` on table"),this.enter({type:"table",align:t.map(function(e){return"none"===e?null:e}),children:[]},e),this.data.inTable=!0}function eu(e){this.exit(e),this.data.inTable=void 0}function ed(e){this.enter({type:"tableRow",children:[]},e)}function ep(e){this.exit(e)}function eh(e){this.enter({type:"tableCell",children:[]},e)}function ef(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,eg));let n=this.stack[this.stack.length-1];(0,i.ok)("inlineCode"===n.type),n.value=t,this.exit(e)}function eg(e,t){return"|"===t?t:e}function em(e){let t=this.stack[this.stack.length-2];(0,i.ok)("listItem"===t.type),t.checked="taskListCheckValueChecked"===e.type}function eb(e){let t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"==typeof t.checked){let e=this.stack[this.stack.length-1];(0,i.ok)("paragraph"===e.type);let n=e.children[0];if(n&&"text"===n.type){let r;let i=t.children,o=-1;for(;++o<i.length;){let e=i[o];if("paragraph"===e.type){r=e;break}}r===e&&(n.value=n.value.slice(1),0===n.value.length?e.children.shift():e.position&&n.position&&"number"==typeof n.position.start.offset&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function ev(e,t,n,r){let i=e.children[0],o="boolean"==typeof e.checked&&i&&"paragraph"===i.type,a="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);o&&s.move(a);let l=el.listItem(e,t,n,{...r,...s.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(e){return e+a})),l}var ey=n(33850);let eE={tokenize:function(e,t,n){let r=0;return function t(o){return(87===o||119===o)&&r<3?(r++,e.consume(o),t):46===o&&3===r?(e.consume(o),i):n(o)};function i(e){return null===e?n(e):t(e)}},partial:!0},e_={tokenize:function(e,t,n){let r,i,a;return s;function s(t){return 46===t||95===t?e.check(ex,c,l)(t):null===t||(0,o.z3)(t)||(0,o.B8)(t)||45!==t&&(0,o.Xh)(t)?c(t):(a=!0,e.consume(t),s)}function l(t){return 95===t?r=!0:(i=r,r=void 0),e.consume(t),s}function c(e){return i||r||!a?n(e):t(e)}},partial:!0},eT={tokenize:function(e,t){let n=0,r=0;return i;function i(s){return 40===s?(n++,e.consume(s),i):41===s&&r<n?a(s):33===s||34===s||38===s||39===s||41===s||42===s||44===s||46===s||58===s||59===s||60===s||63===s||93===s||95===s||126===s?e.check(ex,t,a)(s):null===s||(0,o.z3)(s)||(0,o.B8)(s)?t(s):(e.consume(s),i)}function a(t){return 41===t&&r++,e.consume(t),i}},partial:!0},ex={tokenize:function(e,t,n){return r;function r(s){return 33===s||34===s||39===s||41===s||42===s||44===s||46===s||58===s||59===s||63===s||95===s||126===s?(e.consume(s),r):38===s?(e.consume(s),a):93===s?(e.consume(s),i):60===s||null===s||(0,o.z3)(s)||(0,o.B8)(s)?t(s):n(s)}function i(e){return null===e||40===e||91===e||(0,o.z3)(e)||(0,o.B8)(e)?t(e):r(e)}function a(t){return(0,o.jv)(t)?function t(i){return 59===i?(e.consume(i),r):(0,o.jv)(i)?(e.consume(i),t):n(i)}(t):n(t)}},partial:!0},eS={tokenize:function(e,t,n){return function(t){return e.consume(t),r};function r(e){return(0,o.H$)(e)?n(e):t(e)}},partial:!0},eA={name:"wwwAutolink",tokenize:function(e,t,n){let r=this;return function(t){return 87!==t&&119!==t||!eL.call(r,r.previous)||eM(r.events)?n(t):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(eE,e.attempt(e_,e.attempt(eT,i),n),n)(t))};function i(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:eL},eC={name:"protocolAutolink",tokenize:function(e,t,n){let r=this,i="",a=!1;return function(t){return(72===t||104===t)&&eR.call(r,r.previous)&&!eM(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(t),e.consume(t),s):n(t)};function s(t){if((0,o.jv)(t)&&i.length<5)return i+=String.fromCodePoint(t),e.consume(t),s;if(58===t){let n=i.toLowerCase();if("http"===n||"https"===n)return e.consume(t),l}return n(t)}function l(t){return 47===t?(e.consume(t),a)?c:(a=!0,l):n(t)}function c(t){return null===t||(0,o.Av)(t)||(0,o.z3)(t)||(0,o.B8)(t)||(0,o.Xh)(t)?n(t):e.attempt(e_,e.attempt(eT,u),n)(t)}function u(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:eR},ew={name:"emailAutolink",tokenize:function(e,t,n){let r,i;let a=this;return function(t){return!eN(t)||!ek.call(a,a.previous)||eM(a.events)?n(t):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),function t(r){return eN(r)?(e.consume(r),t):64===r?(e.consume(r),s):n(r)}(t))};function s(t){return 46===t?e.check(eS,c,l)(t):45===t||95===t||(0,o.H$)(t)?(i=!0,e.consume(t),s):c(t)}function l(t){return e.consume(t),r=!0,s}function c(s){return i&&r&&(0,o.jv)(a.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(s)):n(s)}},previous:ek},eO={},eI=48;for(;eI<123;)eO[eI]=ew,58==++eI?eI=65:91===eI&&(eI=97);function eL(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||(0,o.z3)(e)}function eR(e){return!(0,o.jv)(e)}function ek(e){return!(47===e||eN(e))}function eN(e){return 43===e||45===e||46===e||95===e||(0,o.H$)(e)}function eM(e){let t=e.length,n=!1;for(;t--;){let r=e[t][1];if(("labelLink"===r.type||"labelImage"===r.type)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}eO[43]=ew,eO[45]=ew,eO[46]=ew,eO[95]=ew,eO[72]=[ew,eC],eO[104]=[ew,eC],eO[87]=[ew,eA],eO[119]=[ew,eA];var eD=n(43590),eP=n(60403);let eF={tokenize:function(e,t,n){let r=this;return(0,eP.f)(e,function(e){let i=r.events[r.events.length-1];return i&&"gfmFootnoteDefinitionIndent"===i[1].type&&4===i[2].sliceSerialize(i[1],!0).length?t(e):n(e)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function eB(e,t,n){let r;let i=this,o=i.events.length,a=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);for(;o--;){let e=i.events[o][1];if("labelImage"===e.type){r=e;break}if("gfmFootnoteCall"===e.type||"labelLink"===e.type||"label"===e.type||"image"===e.type||"link"===e.type)break}return function(o){if(!r||!r._balanced)return n(o);let s=(0,E.d)(i.sliceSerialize({start:r.end,end:i.now()}));return 94===s.codePointAt(0)&&a.includes(s.slice(1))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(o),e.exit("gfmFootnoteCallLabelMarker"),t(o)):n(o)}}function eU(e,t){let n=e.length;for(;n--;)if("labelImage"===e[n][1].type&&"enter"===e[n][0]){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";let r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;let o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",a,t],["exit",a,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function ez(e,t,n){let r;let i=this,a=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]),s=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),l};function l(t){return 94!==t?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(l){if(s>999||93===l&&!r||null===l||91===l||(0,o.z3)(l))return n(l);if(93===l){e.exit("chunkString");let r=e.exit("gfmFootnoteCallString");return a.includes((0,E.d)(i.sliceSerialize(r)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(l)}return(0,o.z3)(l)||(r=!0),s++,e.consume(l),92===l?u:c}function u(t){return 91===t||92===t||93===t?(e.consume(t),s++,c):c(t)}}function eZ(e,t,n){let r,i;let a=this,s=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]),l=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),c};function c(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):n(t)}function u(t){if(l>999||93===t&&!i||null===t||91===t||(0,o.z3)(t))return n(t);if(93===t){e.exit("chunkString");let n=e.exit("gfmFootnoteDefinitionLabelString");return r=(0,E.d)(a.sliceSerialize(n)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return(0,o.z3)(t)||(i=!0),l++,e.consume(t),92===t?d:u}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,u):u(t)}function p(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),s.includes(r)||s.push(r),(0,eP.f)(e,h,"gfmFootnoteDefinitionWhitespace")):n(t)}function h(e){return t(e)}}function ej(e,t,n){return e.check(eD.w,t,e.attempt(eF,t,n))}function eH(e){e.exit("gfmFootnoteDefinition")}var eG=n(57974),eV=n(797);class e${constructor(){this.map=[]}add(e,t,n){!function(e,t,n,r){let i=0;if(0!==n||0!==r.length){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}(this,e,t,n)}consume(e){if(this.map.sort(function(e,t){return e[0]-t[0]}),0===this.map.length)return;let t=this.map.length,n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let r=n.pop();for(;r;){for(let t of r)e.push(t);r=n.pop()}this.map.length=0}}function eW(e,t,n){let r;let i=this,a=0,s=0;return function(e){let t=i.events.length-1;for(;t>-1;){let e=i.events[t][1].type;if("lineEnding"===e||"linePrefix"===e)t--;else break}let r=t>-1?i.events[t][1].type:null,o="tableHead"===r||"tableRow"===r?y:l;return o===y&&i.parser.lazy[i.now().line]?n(e):o(e)};function l(t){return e.enter("tableHead"),e.enter("tableRow"),124===t||(r=!0,s+=1),c(t)}function c(t){return null===t?n(t):(0,o.Ch)(t)?s>1?(s=0,i.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),p):n(t):(0,o.xz)(t)?(0,eP.f)(e,c,"whitespace")(t):(s+=1,r&&(r=!1,a+=1),124===t)?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),r=!0,c):(e.enter("data"),u(t))}function u(t){return null===t||124===t||(0,o.z3)(t)?(e.exit("data"),c(t)):(e.consume(t),92===t?d:u)}function d(t){return 92===t||124===t?(e.consume(t),u):u(t)}function p(t){return(i.interrupt=!1,i.parser.lazy[i.now().line])?n(t):(e.enter("tableDelimiterRow"),r=!1,(0,o.xz)(t))?(0,eP.f)(e,h,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):h(t)}function h(t){return 45===t||58===t?g(t):124===t?(r=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),f):n(t)}function f(t){return(0,o.xz)(t)?(0,eP.f)(e,g,"whitespace")(t):g(t)}function g(t){return 58===t?(s+=1,r=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),m):45===t?(s+=1,m(t)):null===t||(0,o.Ch)(t)?v(t):n(t)}function m(t){return 45===t?(e.enter("tableDelimiterFiller"),function t(n){return 45===n?(e.consume(n),t):58===n?(r=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(n),e.exit("tableDelimiterMarker"),b):(e.exit("tableDelimiterFiller"),b(n))}(t)):n(t)}function b(t){return(0,o.xz)(t)?(0,eP.f)(e,v,"whitespace")(t):v(t)}function v(i){return 124===i?h(i):null===i||(0,o.Ch)(i)?r&&a===s?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(i)):n(i):n(i)}function y(t){return e.enter("tableRow"),E(t)}function E(n){return 124===n?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),E):null===n||(0,o.Ch)(n)?(e.exit("tableRow"),t(n)):(0,o.xz)(n)?(0,eP.f)(e,E,"whitespace")(n):(e.enter("data"),_(n))}function _(t){return null===t||124===t||(0,o.z3)(t)?(e.exit("data"),E(t)):(e.consume(t),92===t?x:_)}function x(t){return 92===t||124===t?(e.consume(t),_):_(t)}}function eY(e,t){let n,r,i,o=-1,a=!0,s=0,l=[0,0,0,0],c=[0,0,0,0],u=!1,d=0,p=new e$;for(;++o<e.length;){let h=e[o],f=h[1];"enter"===h[0]?"tableHead"===f.type?(u=!1,0!==d&&(eX(p,t,d,n,r),r=void 0,d=0),n={type:"table",start:Object.assign({},f.start),end:Object.assign({},f.end)},p.add(o,0,[["enter",n,t]])):"tableRow"===f.type||"tableDelimiterRow"===f.type?(a=!0,i=void 0,l=[0,0,0,0],c=[0,o+1,0,0],u&&(u=!1,r={type:"tableBody",start:Object.assign({},f.start),end:Object.assign({},f.end)},p.add(o,0,[["enter",r,t]])),s="tableDelimiterRow"===f.type?2:r?3:1):s&&("data"===f.type||"tableDelimiterMarker"===f.type||"tableDelimiterFiller"===f.type)?(a=!1,0===c[2]&&(0!==l[1]&&(c[0]=c[1],i=eq(p,t,l,s,void 0,i),l=[0,0,0,0]),c[2]=o)):"tableCellDivider"===f.type&&(a?a=!1:(0!==l[1]&&(c[0]=c[1],i=eq(p,t,l,s,void 0,i)),c=[(l=c)[1],o,0,0])):"tableHead"===f.type?(u=!0,d=o):"tableRow"===f.type||"tableDelimiterRow"===f.type?(d=o,0!==l[1]?(c[0]=c[1],i=eq(p,t,l,s,o,i)):0!==c[1]&&(i=eq(p,t,c,s,o,i)),s=0):s&&("data"===f.type||"tableDelimiterMarker"===f.type||"tableDelimiterFiller"===f.type)&&(c[3]=o)}for(0!==d&&eX(p,t,d,n,r),p.consume(t.events),o=-1;++o<t.events.length;){let e=t.events[o];"enter"===e[0]&&"table"===e[1].type&&(e[1]._align=function(e,t){let n=!1,r=[];for(;t<e.length;){let i=e[t];if(n){if("enter"===i[0])"tableContent"===i[1].type&&r.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===i[1].type){if("tableDelimiterMarker"===e[t-1][1].type){let e=r.length-1;r[e]="left"===r[e]?"center":"right"}}else if("tableDelimiterRow"===i[1].type)break}else"enter"===i[0]&&"tableDelimiterRow"===i[1].type&&(n=!0);t+=1}return r}(t.events,o))}return e}function eq(e,t,n,r,i,o){0!==n[0]&&(o.end=Object.assign({},eK(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));let a=eK(t.events,n[1]);if(o={type:1===r?"tableHeader":2===r?"tableDelimiter":"tableData",start:Object.assign({},a),end:Object.assign({},a)},e.add(n[1],0,[["enter",o,t]]),0!==n[2]){let i=eK(t.events,n[2]),o=eK(t.events,n[3]),a={type:"tableContent",start:Object.assign({},i),end:Object.assign({},o)};if(e.add(n[2],0,[["enter",a,t]]),2!==r){let r=t.events[n[2]],i=t.events[n[3]];if(r[1].end=Object.assign({},i[1].end),r[1].type="chunkText",r[1].contentType="text",n[3]>n[2]+1){let t=n[2]+1,r=n[3]-n[2]-1;e.add(t,r,[])}}e.add(n[3]+1,0,[["exit",a,t]])}return void 0!==i&&(o.end=Object.assign({},eK(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function eX(e,t,n,r,i){let o=[],a=eK(t.events,n);i&&(i.end=Object.assign({},a),o.push(["exit",i,t])),r.end=Object.assign({},a),o.push(["exit",r,t]),e.add(n+1,0,o)}function eK(e,t){let n=e[t],r="enter"===n[0]?"start":"end";return n[1][r]}let eQ={name:"tasklistCheck",tokenize:function(e,t,n){let r=this;return function(t){return null===r.previous&&r._gfmTasklistFirstContentOfListItem?(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),i):n(t)};function i(t){return(0,o.z3)(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),a):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),a):n(t)}function a(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(t)}function s(r){return(0,o.Ch)(r)?t(r):(0,o.xz)(r)?e.check({tokenize:eJ},t,n)(r):n(r)}}};function eJ(e,t,n){return(0,eP.f)(e,function(e){return null===e?n(e):t(e)},"whitespace")}let e0={};function e1(e){let t;let n=e||e0,r=this.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push((0,ey.W)([{text:eO},{document:{91:{name:"gfmFootnoteDefinition",tokenize:eZ,continuation:{tokenize:ej},exit:eH}},text:{91:{name:"gfmFootnoteCall",tokenize:ez},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:eB,resolveTo:eU}}},function(e){let t=(e||{}).singleTilde,n={name:"strikethrough",tokenize:function(e,n,r){let i=this.previous,o=this.events,a=0;return function(s){return 126===i&&"characterEscape"!==o[o.length-1][1].type?r(s):(e.enter("strikethroughSequenceTemporary"),function o(s){let l=(0,$.r)(i);if(126===s)return a>1?r(s):(e.consume(s),a++,o);if(a<2&&!t)return r(s);let c=e.exit("strikethroughSequenceTemporary"),u=(0,$.r)(s);return c._open=!u||2===u&&!!l,c._close=!l||2===l&&!!u,n(s)}(s))}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let r=n;for(;r--;)if("exit"===e[r][0]&&"strikethroughSequenceTemporary"===e[r][1].type&&e[r][1]._open&&e[n][1].end.offset-e[n][1].start.offset==e[r][1].end.offset-e[r][1].start.offset){e[n][1].type="strikethroughSequence",e[r][1].type="strikethroughSequence";let i={type:"strikethrough",start:Object.assign({},e[r][1].start),end:Object.assign({},e[n][1].end)},o={type:"strikethroughText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},a=[["enter",i,t],["enter",e[r][1],t],["exit",e[r][1],t],["enter",o,t]],s=t.parser.constructs.insideSpan.null;s&&(0,eG.d)(a,a.length,0,(0,eV.C)(s,e.slice(r+1,n),t)),(0,eG.d)(a,a.length,0,[["exit",o,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",i,t]]),(0,eG.d)(e,r-1,n-r+3,a),n=r+a.length-2;break}}for(n=-1;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}};return null==t&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}(n),{flow:{null:{name:"table",tokenize:eW,resolveAll:eY}}},{text:{91:eQ}}])),o.push([{transforms:[m],enter:{literalAutolink:u,literalAutolinkEmail:d,literalAutolinkHttp:d,literalAutolinkWww:d},exit:{literalAutolink:g,literalAutolinkEmail:f,literalAutolinkHttp:p,literalAutolinkWww:h}},{enter:{gfmFootnoteCallString:_,gfmFootnoteCall:x,gfmFootnoteDefinitionLabelString:S,gfmFootnoteDefinition:A},exit:{gfmFootnoteCallString:C,gfmFootnoteCall:w,gfmFootnoteDefinitionLabelString:O,gfmFootnoteDefinition:I}},{canContainEols:["delete"],enter:{strikethrough:M},exit:{strikethrough:D}},{enter:{table:ec,tableData:eh,tableHeader:eh,tableRow:ed},exit:{codeText:ef,table:eu,tableData:ep,tableHeader:ep,tableRow:ep}},{exit:{taskListCheckValueChecked:em,taskListCheckValueUnchecked:em,paragraph:eb}}]),a.push({extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:l,notInConstruct:c},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:l,notInConstruct:c},{character:":",before:"[ps]",after:"\\/",inConstruct:l,notInConstruct:c}]},(t=!1,n&&n.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:function(e,n,r,i){let o=r.createTracker(i),a=o.move("[^"),s=r.enter("footnoteDefinition"),l=r.enter("label");return a+=o.move(r.safe(r.associationId(e),{before:a,after:"]"})),l(),a+=o.move("]:"),e.children&&e.children.length>0&&(o.shift(4),a+=o.move((t?"\n":" ")+r.indentLines(r.containerFlow(e,o.current()),t?k:R))),s(),a},footnoteReference:L},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]}),{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:N}],handlers:{delete:P}},function(e){let t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(e,t,n){let r=el.inlineCode(e,t,n);return n.stack.includes("tableCell")&&(r=r.replace(/\|/g,"\\$&")),r},table:function(e,t,n,r){return s(function(e,t,n){let r=e.children,i=-1,o=[],a=t.enter("table");for(;++i<r.length;)o[i]=l(r[i],t,n);return a(),o}(e,n,r),e.align)},tableCell:a,tableRow:function(e,t,n,r){let i=l(e,n,r),o=s([i]);return o.slice(0,o.indexOf("\n"))}}};function a(e,t,n,r){let i=n.enter("tableCell"),a=n.enter("phrasing"),s=n.containerPhrasing(e,{...r,before:o,after:o});return a(),i(),s}function s(e,t){return function(e,t){let n=t||{},r=(n.align||[]).concat(),i=n.stringLength||F,o=[],a=[],s=[],l=[],c=0,u=-1;for(;++u<e.length;){let t=[],r=[],o=-1;for(e[u].length>c&&(c=e[u].length);++o<e[u].length;){var d;let a=null==(d=e[u][o])?"":String(d);if(!1!==n.alignDelimiters){let e=i(a);r[o]=e,(void 0===l[o]||e>l[o])&&(l[o]=e)}t.push(a)}a[u]=t,s[u]=r}let p=-1;if("object"==typeof r&&"length"in r)for(;++p<c;)o[p]=B(r[p]);else{let e=B(r);for(;++p<c;)o[p]=e}p=-1;let h=[],f=[];for(;++p<c;){let e=o[p],t="",r="";99===e?(t=":",r=":"):108===e?t=":":114===e&&(r=":");let i=!1===n.alignDelimiters?1:Math.max(1,l[p]-t.length-r.length),a=t+"-".repeat(i)+r;!1!==n.alignDelimiters&&((i=t.length+i+r.length)>l[p]&&(l[p]=i),f[p]=i),h[p]=a}a.splice(1,0,h),s.splice(1,0,f),u=-1;let g=[];for(;++u<a.length;){let e=a[u],t=s[u];p=-1;let r=[];for(;++p<c;){let i=e[p]||"",a="",s="";if(!1!==n.alignDelimiters){let e=l[p]-(t[p]||0),n=o[p];114===n?a=" ".repeat(e):99===n?e%2?(a=" ".repeat(e/2+.5),s=" ".repeat(e/2-.5)):s=a=" ".repeat(e/2):s=" ".repeat(e)}!1===n.delimiterStart||p||r.push("|"),!1!==n.padding&&!(!1===n.alignDelimiters&&""===i)&&(!1!==n.delimiterStart||p)&&r.push(" "),!1!==n.alignDelimiters&&r.push(a),r.push(i),!1!==n.alignDelimiters&&r.push(s),!1!==n.padding&&r.push(" "),(!1!==n.delimiterEnd||p!==c-1)&&r.push("|")}g.push(!1===n.delimiterEnd?r.join("").replace(/ +$/,""):r.join(""))}return g.join("\n")}(e,{align:t,alignDelimiters:r,padding:n,stringLength:i})}function l(e,t,n){let r=e.children,i=-1,o=[],s=t.enter("tableRow");for(;++i<r.length;)o[i]=a(r[i],e,t,n);return s(),o}}(n),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:ev}}]})}},6229:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(4729),i=n(15316),o=n(60403),a=n(6020);let s={tokenize:function(e,t,n){let r=this,i=r.events[r.events.length-1],s=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,c=0;return function(t){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(r){return 36===r?(e.consume(r),c++,t):c<2?n(r):(e.exit("mathFlowFenceSequence"),(0,o.f)(e,u,"whitespace")(r))}(t)};function u(t){return null===t||(0,a.Ch)(t)?d(t):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),function t(r){return null===r||(0,a.Ch)(r)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),d(r)):36===r?n(r):(e.consume(r),t)}(t))}function d(n){return(e.exit("mathFlowFence"),r.interrupt)?t(n):e.attempt(l,p,g)(n)}function p(t){return e.attempt({tokenize:m,partial:!0},g,h)(t)}function h(t){return(s?(0,o.f)(e,f,"linePrefix",s+1):f)(t)}function f(t){return null===t?g(t):(0,a.Ch)(t)?e.attempt(l,p,g)(t):(e.enter("mathFlowValue"),function t(n){return null===n||(0,a.Ch)(n)?(e.exit("mathFlowValue"),f(n)):(e.consume(n),t)}(t))}function g(n){return e.exit("mathFlow"),t(n)}function m(e,t,n){let i=0;return(0,o.f)(e,function(t){return e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(r){return 36===r?(i++,e.consume(r),t):i<c?n(r):(e.exit("mathFlowFenceSequence"),(0,o.f)(e,s,"whitespace")(r))}(t)},"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function s(r){return null===r||(0,a.Ch)(r)?(e.exit("mathFlowFence"),t(r)):n(r)}}},concrete:!0,name:"mathFlow"},l={tokenize:function(e,t,n){let r=this;return function(n){return null===n?t(n):(e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),i)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0};function c(e){let t,n,r=e.length-4,i=3;if(("lineEnding"===e[3][1].type||"space"===e[i][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type)){for(t=i;++t<r;)if("mathTextData"===e[t][1].type){e[r][1].type="mathTextPadding",e[i][1].type="mathTextPadding",i+=2,r-=2;break}}for(t=i-1,r++;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):(t===r||"lineEnding"===e[t][1].type)&&(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e}function u(e){return 36!==e||"characterEscape"===this.events[this.events.length-1][1].type}let d={};function p(e){let t;let n=e||d,o=this.data(),l=o.micromarkExtensions||(o.micromarkExtensions=[]),p=o.fromMarkdownExtensions||(o.fromMarkdownExtensions=[]),h=o.toMarkdownExtensions||(o.toMarkdownExtensions=[]);l.push({flow:{36:s},text:{36:(null==(t=(n||{}).singleDollarTextMath)&&(t=!0),{tokenize:function(e,n,r){let i,o,s=0;return function(n){return e.enter("mathText"),e.enter("mathTextSequence"),function n(i){return 36===i?(e.consume(i),s++,n):s<2&&!t?r(i):(e.exit("mathTextSequence"),l(i))}(n)};function l(t){return null===t?r(t):36===t?(o=e.enter("mathTextSequence"),i=0,function t(r){return 36===r?(e.consume(r),i++,t):i===s?(e.exit("mathTextSequence"),e.exit("mathText"),n(r)):(o.type="mathTextData",c(r))}(t)):32===t?(e.enter("space"),e.consume(t),e.exit("space"),l):(0,a.Ch)(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l):(e.enter("mathTextData"),c(t))}function c(t){return null===t||32===t||36===t||(0,a.Ch)(t)?(e.exit("mathTextData"),l(t)):(e.consume(t),c)}},resolve:c,previous:u,name:"mathText"})}}),p.push(function(){return{enter:{mathFlow:function(e){this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[{type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]}]}},e)},mathFlowFenceMeta:function(){this.buffer()},mathText:function(e){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},e),this.buffer()}},exit:{mathFlow:function(e){let t=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),n=this.stack[this.stack.length-1];(0,r.ok)("math"===n.type),this.exit(e),n.value=t;let i=n.data.hChildren[0];(0,r.ok)("element"===i.type),(0,r.ok)("code"===i.tagName),i.children.push({type:"text",value:t}),this.data.mathFlowInside=void 0},mathFlowFence:function(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)},mathFlowFenceMeta:function(){let e=this.resume(),t=this.stack[this.stack.length-1];(0,r.ok)("math"===t.type),t.meta=e},mathFlowValue:e,mathText:function(e){let t=this.resume(),n=this.stack[this.stack.length-1];(0,r.ok)("inlineMath"===n.type),this.exit(e),n.value=t;let i=n.data.hChildren;i.push({type:"text",value:t})},mathTextData:e}};function e(e){this.config.enter.data.call(this,e),this.config.exit.data.call(this,e)}}()),h.push(function(e){let t=(e||{}).singleDollarTextMath;return null==t&&(t=!0),n.peek=function(){return"$"},{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:"\n",inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:function(e,t,n,r){let o=e.value||"",a=n.createTracker(r),s="$".repeat(Math.max((0,i.J)(o,"$")+1,2)),l=n.enter("mathFlow"),c=a.move(s);if(e.meta){let t=n.enter("mathFlowMeta");c+=a.move(n.safe(e.meta,{after:"\n",before:c,encode:["$"],...a.current()})),t()}return c+=a.move("\n"),o&&(c+=a.move(o+"\n")),c+=a.move(s),l(),c},inlineMath:n}};function n(e,n,r){let i=e.value||"",o=1;for(!t&&o++;RegExp("(^|[^$])"+"\\$".repeat(o)+"([^$]|$)").test(i);)o++;let a="$".repeat(o);/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^\$|\$$/.test(i))&&(i=" "+i+" ");let s=-1;for(;++s<r.unsafe.length;){let e;let t=r.unsafe[s];if(!t.atBreak)continue;let n=r.compilePattern(t);for(;e=n.exec(i);){let t=e.index;10===i.codePointAt(t)&&13===i.codePointAt(t-1)&&t--,i=i.slice(0,t)+" "+i.slice(e.index+1)}}return a+i+a}}(n))}},29299:function(e,t,n){"use strict";n.d(t,{t:function(){return r}});let r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},27102:function(e){"use strict";e.exports=JSON.parse('{"AElig":"\xc6","AMP":"&","Aacute":"\xc1","Acirc":"\xc2","Agrave":"\xc0","Aring":"\xc5","Atilde":"\xc3","Auml":"\xc4","COPY":"\xa9","Ccedil":"\xc7","ETH":"\xd0","Eacute":"\xc9","Ecirc":"\xca","Egrave":"\xc8","Euml":"\xcb","GT":">","Iacute":"\xcd","Icirc":"\xce","Igrave":"\xcc","Iuml":"\xcf","LT":"<","Ntilde":"\xd1","Oacute":"\xd3","Ocirc":"\xd4","Ograve":"\xd2","Oslash":"\xd8","Otilde":"\xd5","Ouml":"\xd6","QUOT":"\\"","REG":"\xae","THORN":"\xde","Uacute":"\xda","Ucirc":"\xdb","Ugrave":"\xd9","Uuml":"\xdc","Yacute":"\xdd","aacute":"\xe1","acirc":"\xe2","acute":"\xb4","aelig":"\xe6","agrave":"\xe0","amp":"&","aring":"\xe5","atilde":"\xe3","auml":"\xe4","brvbar":"\xa6","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","eacute":"\xe9","ecirc":"\xea","egrave":"\xe8","eth":"\xf0","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","iacute":"\xed","icirc":"\xee","iexcl":"\xa1","igrave":"\xec","iquest":"\xbf","iuml":"\xef","laquo":"\xab","lt":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","ntilde":"\xf1","oacute":"\xf3","ocirc":"\xf4","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","oslash":"\xf8","otilde":"\xf5","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":"\\"","raquo":"\xbb","reg":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","thorn":"\xfe","times":"\xd7","uacute":"\xfa","ucirc":"\xfb","ugrave":"\xf9","uml":"\xa8","uuml":"\xfc","yacute":"\xfd","yen":"\xa5","yuml":"\xff"}')},71701:function(e){"use strict";e.exports=JSON.parse('{"0":"�","128":"€","130":"‚","131":"ƒ","132":"„","133":"…","134":"†","135":"‡","136":"ˆ","137":"‰","138":"Š","139":"‹","140":"Œ","142":"Ž","145":"‘","146":"’","147":"“","148":"”","149":"•","150":"–","151":"—","152":"˜","153":"™","154":"š","155":"›","156":"œ","158":"ž","159":"Ÿ"}')}},function(e){e.O(0,[8201,3732,4130,4521,7475,5745,9066,9557,5230,3688,7806,3129,191,5675,2962,5467,9662,5783,3894,3810,8862,6425,7004,1502,2763,8226,3769,7827,9842,653,4186,7365,5284,3047,5543,2486,9774,2888,179],function(){return e(e.s=34584)}),_N_E=e.O()}]);